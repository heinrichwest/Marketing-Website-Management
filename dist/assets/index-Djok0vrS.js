function _5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rP={exports:{}},Kp={},nP={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=Symbol.for("react.element"),S5=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),T5=Symbol.for("react.profiler"),E5=Symbol.for("react.provider"),P5=Symbol.for("react.context"),I5=Symbol.for("react.forward_ref"),C5=Symbol.for("react.suspense"),O5=Symbol.for("react.memo"),M5=Symbol.for("react.lazy"),Y2=Symbol.iterator;function D5(t){return t===null||typeof t!="object"?null:(t=Y2&&t[Y2]||t["@@iterator"],typeof t=="function"?t:null)}var iP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sP=Object.assign,aP={};function Gl(t,e,r){this.props=t,this.context=e,this.refs=aP,this.updater=r||iP}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oP(){}oP.prototype=Gl.prototype;function iw(t,e,r){this.props=t,this.context=e,this.refs=aP,this.updater=r||iP}var sw=iw.prototype=new oP;sw.constructor=iw;sP(sw,Gl.prototype);sw.isPureReactComponent=!0;var X2=Array.isArray,lP=Object.prototype.hasOwnProperty,aw={current:null},cP={key:!0,ref:!0,__self:!0,__source:!0};function uP(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)lP.call(e,n)&&!cP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:eh,type:t,key:a,ref:o,props:i,_owner:aw.current}}function R5(t,e){return{$$typeof:eh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ow(t){return typeof t=="object"&&t!==null&&t.$$typeof===eh}function L5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q2=/\/+/g;function $x(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L5(""+t.key):e.toString(36)}function Af(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case eh:case S5:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+$x(o,0):n,X2(i)?(r="",t!=null&&(r=t.replace(Q2,"$&/")+"/"),Af(i,e,r,"",function(u){return u})):i!=null&&(ow(i)&&(i=R5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",X2(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+$x(a,l);o+=Af(a,e,r,c,i)}else if(c=D5(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+$x(a,l++),o+=Af(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bh(t,e,r){if(t==null)return t;var n=[],i=0;return Af(t,n,"","",function(a){return e.call(r,a,i++)}),n}function $5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Tf={transition:null},V5={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Tf,ReactCurrentOwner:aw};function dP(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:Bh,forEach:function(t,e,r){Bh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Bh(t,function(){e++}),e},toArray:function(t){return Bh(t,function(e){return e})||[]},only:function(t){if(!ow(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Gl;Ie.Fragment=k5;Ie.Profiler=T5;Ie.PureComponent=iw;Ie.StrictMode=A5;Ie.Suspense=C5;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V5;Ie.act=dP;Ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=sP({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=aw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lP.call(e,c)&&!cP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:eh,type:t.type,key:i,ref:a,props:n,_owner:o}};Ie.createContext=function(t){return t={$$typeof:P5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E5,_context:t},t.Consumer=t};Ie.createElement=uP;Ie.createFactory=function(t){var e=uP.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:I5,render:t}};Ie.isValidElement=ow;Ie.lazy=function(t){return{$$typeof:M5,_payload:{_status:-1,_result:t},_init:$5}};Ie.memo=function(t,e){return{$$typeof:O5,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Tf.transition;Tf.transition={};try{t()}finally{Tf.transition=e}};Ie.unstable_act=dP;Ie.useCallback=function(t,e){return kr.current.useCallback(t,e)};Ie.useContext=function(t){return kr.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return kr.current.useEffect(t,e)};Ie.useId=function(){return kr.current.useId()};Ie.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)};Ie.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return kr.current.useMemo(t,e)};Ie.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)};Ie.useRef=function(t){return kr.current.useRef(t)};Ie.useState=function(t){return kr.current.useState(t)};Ie.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)};Ie.useTransition=function(){return kr.current.useTransition()};Ie.version="18.3.1";nP.exports=Ie;var P=nP.exports;const L=qe(P),F5=_5({__proto__:null,default:L},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B5=P,U5=Symbol.for("react.element"),z5=Symbol.for("react.fragment"),W5=Object.prototype.hasOwnProperty,H5=B5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q5={key:!0,ref:!0,__self:!0,__source:!0};function hP(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)W5.call(e,n)&&!q5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:U5,type:t,key:a,ref:o,props:i,_owner:H5.current}}Kp.Fragment=z5;Kp.jsx=hP;Kp.jsxs=hP;rP.exports=Kp;var s=rP.exports,sy={},fP={exports:{}},Xr={},mP={exports:{}},pP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var K=$.length;$.push(z);e:for(;0<K;){var J=K-1>>>1,ee=$[J];if(0<i(ee,z))$[J]=z,$[K]=ee,K=J;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var z=$[0],K=$.pop();if(K!==z){$[0]=K;e:for(var J=0,ee=$.length,le=ee>>>1;J<le;){var Ee=2*(J+1)-1,Fe=$[Ee],Ke=Ee+1,Mt=$[Ke];if(0>i(Fe,K))Ke<ee&&0>i(Mt,Fe)?($[J]=Mt,$[Ke]=K,J=Ke):($[J]=Fe,$[Ee]=K,J=Ee);else if(Ke<ee&&0>i(Mt,K))$[J]=Mt,$[Ke]=K,J=Ke;else break e}}return z}function i($,z){var K=$.sortIndex-z.sortIndex;return K!==0?K:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=$)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function k($){if(b=!1,w($),!v)if(r(c)!==null)v=!0,R(j);else{var z=r(u);z!==null&&V(k,z.startTime-$)}}function j($,z){v=!1,b&&(b=!1,g(N),N=-1),p=!0;var K=f;try{for(w(z),h=r(c);h!==null&&(!(h.expirationTime>z)||$&&!I());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var ee=J(h.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(c)&&n(c),w(z)}else n(c);h=r(c)}if(h!==null)var le=!0;else{var Ee=r(u);Ee!==null&&V(k,Ee.startTime-z),le=!1}return le}finally{h=null,f=K,p=!1}}var A=!1,S=null,N=-1,T=5,O=-1;function I(){return!(t.unstable_now()-O<T)}function C(){if(S!==null){var $=t.unstable_now();O=$;var z=!0;try{z=S(!0,$)}finally{z?M():(A=!1,S=null)}}else A=!1}var M;if(typeof y=="function")M=function(){y(C)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,F=B.port2;B.port1.onmessage=C,M=function(){F.postMessage(null)}}else M=function(){x(C,0)};function R($){S=$,A||(A=!0,M())}function V($,z){N=x(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return $()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=f;f=$;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function($,z,K){var J=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=K+ee,$={id:d++,callback:z,priorityLevel:$,startTime:K,expirationTime:ee,sortIndex:-1},K>J?($.sortIndex=K,e(u,$),r(c)===null&&$===r(u)&&(b?(g(N),N=-1):b=!0,V(k,K-J))):($.sortIndex=ee,e(c,$),v||p||(v=!0,R(j))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var z=f;return function(){var K=f;f=z;try{return $.apply(this,arguments)}finally{f=K}}}})(pP);mP.exports=pP;var G5=mP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K5=P,Kr=G5;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gP=new Set,Fu={};function Ya(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(Fu[t]=e,t=0;t<e.length;t++)gP.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ay=Object.prototype.hasOwnProperty,Y5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J2={},Z2={};function X5(t){return ay.call(Z2,t)?!0:ay.call(J2,t)?!1:Y5.test(t)?Z2[t]=!0:(J2[t]=!0,!1)}function Q5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J5(t,e,r,n){if(e===null||typeof e>"u"||Q5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var lw=/[\-:]([a-z])/g;function cw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lw,cw);or[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lw,cw);or[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lw,cw);or[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function uw(t,e,r,n){var i=or.hasOwnProperty(e)?or[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J5(e,r,i,n)&&(r=null),n||i===null?X5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Fi=K5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uh=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),xP=Symbol.for("react.provider"),vP=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),yP=Symbol.for("react.offscreen"),eN=Symbol.iterator;function Lc(t){return t===null||typeof t!="object"?null:(t=eN&&t[eN]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Vx;function su(t){if(Vx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Vx=e&&e[1]||""}return`
`+Vx+t}var Fx=!1;function Bx(t,e){if(!t||Fx)return"";Fx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?su(t):""}function Z5(t){switch(t.tag){case 5:return su(t.type);case 16:return su("Lazy");case 13:return su("Suspense");case 19:return su("SuspenseList");case 0:case 2:case 15:return t=Bx(t.type,!1),t;case 11:return t=Bx(t.type.render,!1),t;case 1:return t=Bx(t.type,!0),t;default:return""}}function uy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Ao:return"Portal";case oy:return"Profiler";case dw:return"StrictMode";case ly:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vP:return(t.displayName||"Context")+".Consumer";case xP:return(t._context.displayName||"Context")+".Provider";case hw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fw:return e=t.displayName||null,e!==null?e:uy(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return uy(t(e))}catch{}}return null}function e6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uy(e);case 8:return e===dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t6(t){var e=bP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zh(t){t._valueTracker||(t._valueTracker=t6(t))}function wP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Qf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var r=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function tN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jP(t,e){e=e.checked,e!=null&&uw(t,"checked",e,!1)}function hy(t,e){jP(t,e);var r=Rs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fy(t,e.type,r):e.hasOwnProperty("defaultValue")&&fy(t,e.type,Rs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fy(t,e,r){(e!=="number"||Qf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var au=Array.isArray;function Ho(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function my(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(au(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rs(r)}}function NP(t,e){var r=Rs(e.value),n=Rs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function iN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _P(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_P(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wh,SP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wh=Wh||document.createElement("div"),Wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r6=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(t){r6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xu[e]=xu[t]})});function kP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xu.hasOwnProperty(t)&&xu[t]?(""+e).trim():e+"px"}function AP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=kP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var n6=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gy(t,e){if(e){if(n6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function xy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=null;function mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yy=null,qo=null,Go=null;function sN(t){if(t=nh(t)){if(typeof yy!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Zp(e),yy(t.stateNode,t.type,e))}}function TP(t){qo?Go?Go.push(t):Go=[t]:qo=t}function EP(){if(qo){var t=qo,e=Go;if(Go=qo=null,sN(t),e)for(t=0;t<e.length;t++)sN(e[t])}}function PP(t,e){return t(e)}function IP(){}var Ux=!1;function CP(t,e,r){if(Ux)return t(e,r);Ux=!0;try{return PP(t,e,r)}finally{Ux=!1,(qo!==null||Go!==null)&&(IP(),EP())}}function Uu(t,e){var r=t.stateNode;if(r===null)return null;var n=Zp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var by=!1;if(Ei)try{var $c={};Object.defineProperty($c,"passive",{get:function(){by=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{by=!1}function i6(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var vu=!1,Jf=null,Zf=!1,wy=null,s6={onError:function(t){vu=!0,Jf=t}};function a6(t,e,r,n,i,a,o,l,c){vu=!1,Jf=null,i6.apply(s6,arguments)}function o6(t,e,r,n,i,a,o,l,c){if(a6.apply(this,arguments),vu){if(vu){var u=Jf;vu=!1,Jf=null}else throw Error(Z(198));Zf||(Zf=!0,wy=u)}}function Xa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aN(t){if(Xa(t)!==t)throw Error(Z(188))}function l6(t){var e=t.alternate;if(!e){if(e=Xa(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return aN(i),t;if(a===n)return aN(i),e;a=a.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function MP(t){return t=l6(t),t!==null?DP(t):null}function DP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DP(t);if(e!==null)return e;t=t.sibling}return null}var RP=Kr.unstable_scheduleCallback,oN=Kr.unstable_cancelCallback,c6=Kr.unstable_shouldYield,u6=Kr.unstable_requestPaint,_t=Kr.unstable_now,d6=Kr.unstable_getCurrentPriorityLevel,pw=Kr.unstable_ImmediatePriority,LP=Kr.unstable_UserBlockingPriority,em=Kr.unstable_NormalPriority,h6=Kr.unstable_LowPriority,$P=Kr.unstable_IdlePriority,Yp=null,Hn=null;function f6(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Yp,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:g6,m6=Math.log,p6=Math.LN2;function g6(t){return t>>>=0,t===0?32:31-(m6(t)/p6|0)|0}var Hh=64,qh=4194304;function ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ou(l):(a&=o,a!==0&&(n=ou(a)))}else o=r&~i,o!==0?n=ou(o):a!==0&&(n=ou(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-In(e),i=1<<r,n|=t[r],e&=~i;return n}function x6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v6(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-In(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=x6(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VP(){var t=Hh;return Hh<<=1,!(Hh&4194240)&&(Hh=64),t}function zx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function th(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=r}function y6(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-In(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function gw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-In(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function FP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BP,xw,UP,zP,WP,Ny=!1,Gh=[],bs=null,ws=null,js=null,zu=new Map,Wu=new Map,ls=[],b6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lN(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":zu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(e.pointerId)}}function Vc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=nh(e),e!==null&&xw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w6(t,e,r,n,i){switch(e){case"focusin":return bs=Vc(bs,t,e,r,n,i),!0;case"dragenter":return ws=Vc(ws,t,e,r,n,i),!0;case"mouseover":return js=Vc(js,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return zu.set(a,Vc(zu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Wu.set(a,Vc(Wu.get(a)||null,t,e,r,n,i)),!0}return!1}function HP(t){var e=xa(t.target);if(e!==null){var r=Xa(e);if(r!==null){if(e=r.tag,e===13){if(e=OP(r),e!==null){t.blockedOn=e,WP(t.priority,function(){UP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ef(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_y(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vy=n,r.target.dispatchEvent(n),vy=null}else return e=nh(r),e!==null&&xw(e),t.blockedOn=r,!1;e.shift()}return!0}function cN(t,e,r){Ef(t)&&r.delete(e)}function j6(){Ny=!1,bs!==null&&Ef(bs)&&(bs=null),ws!==null&&Ef(ws)&&(ws=null),js!==null&&Ef(js)&&(js=null),zu.forEach(cN),Wu.forEach(cN)}function Fc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ny||(Ny=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,j6)))}function Hu(t){function e(i){return Fc(i,t)}if(0<Gh.length){Fc(Gh[0],t);for(var r=1;r<Gh.length;r++){var n=Gh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bs!==null&&Fc(bs,t),ws!==null&&Fc(ws,t),js!==null&&Fc(js,t),zu.forEach(e),Wu.forEach(e),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)HP(r),r.blockedOn===null&&ls.shift()}var Ko=Fi.ReactCurrentBatchConfig,rm=!0;function N6(t,e,r,n){var i=He,a=Ko.transition;Ko.transition=null;try{He=1,vw(t,e,r,n)}finally{He=i,Ko.transition=a}}function _6(t,e,r,n){var i=He,a=Ko.transition;Ko.transition=null;try{He=4,vw(t,e,r,n)}finally{He=i,Ko.transition=a}}function vw(t,e,r,n){if(rm){var i=_y(t,e,r,n);if(i===null)Zx(t,e,n,nm,r),lN(t,n);else if(w6(i,t,e,r,n))n.stopPropagation();else if(lN(t,n),e&4&&-1<b6.indexOf(t)){for(;i!==null;){var a=nh(i);if(a!==null&&BP(a),a=_y(t,e,r,n),a===null&&Zx(t,e,n,nm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Zx(t,e,n,null,r)}}var nm=null;function _y(t,e,r,n){if(nm=null,t=mw(n),t=xa(t),t!==null)if(e=Xa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nm=t,null}function qP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d6()){case pw:return 1;case LP:return 4;case em:case h6:return 16;case $P:return 536870912;default:return 16}default:return 16}}var ps=null,yw=null,Pf=null;function GP(){if(Pf)return Pf;var t,e=yw,r=e.length,n,i="value"in ps?ps.value:ps.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Pf=i.slice(t,1<n?1-n:void 0)}function If(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function uN(){return!1}function Qr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kh:uN,this.isPropagationStopped=uN,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=Qr(Kl),rh=vt({},Kl,{view:0,detail:0}),S6=Qr(rh),Wx,Hx,Bc,Xp=vt({},rh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ww,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bc&&(Bc&&t.type==="mousemove"?(Wx=t.screenX-Bc.screenX,Hx=t.screenY-Bc.screenY):Hx=Wx=0,Bc=t),Wx)},movementY:function(t){return"movementY"in t?t.movementY:Hx}}),dN=Qr(Xp),k6=vt({},Xp,{dataTransfer:0}),A6=Qr(k6),T6=vt({},rh,{relatedTarget:0}),qx=Qr(T6),E6=vt({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),P6=Qr(E6),I6=vt({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C6=Qr(I6),O6=vt({},Kl,{data:0}),hN=Qr(O6),M6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R6[t])?!!e[t]:!1}function ww(){return L6}var $6=vt({},rh,{key:function(t){if(t.key){var e=M6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=If(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ww,charCode:function(t){return t.type==="keypress"?If(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?If(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V6=Qr($6),F6=vt({},Xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fN=Qr(F6),B6=vt({},rh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ww}),U6=Qr(B6),z6=vt({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),W6=Qr(z6),H6=vt({},Xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q6=Qr(H6),G6=[9,13,27,32],jw=Ei&&"CompositionEvent"in window,yu=null;Ei&&"documentMode"in document&&(yu=document.documentMode);var K6=Ei&&"TextEvent"in window&&!yu,KP=Ei&&(!jw||yu&&8<yu&&11>=yu),mN=" ",pN=!1;function YP(t,e){switch(t){case"keyup":return G6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function Y6(t,e){switch(t){case"compositionend":return XP(e);case"keypress":return e.which!==32?null:(pN=!0,mN);case"textInput":return t=e.data,t===mN&&pN?null:t;default:return null}}function X6(t,e){if(Eo)return t==="compositionend"||!jw&&YP(t,e)?(t=GP(),Pf=yw=ps=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return KP&&e.locale!=="ko"?null:e.data;default:return null}}var Q6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Q6[t.type]:e==="textarea"}function QP(t,e,r,n){TP(n),e=im(e,"onChange"),0<e.length&&(r=new bw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bu=null,qu=null;function J6(t){lI(t,0)}function Qp(t){var e=Co(t);if(wP(e))return t}function Z6(t,e){if(t==="change")return e}var JP=!1;if(Ei){var Gx;if(Ei){var Kx="oninput"in document;if(!Kx){var xN=document.createElement("div");xN.setAttribute("oninput","return;"),Kx=typeof xN.oninput=="function"}Gx=Kx}else Gx=!1;JP=Gx&&(!document.documentMode||9<document.documentMode)}function vN(){bu&&(bu.detachEvent("onpropertychange",ZP),qu=bu=null)}function ZP(t){if(t.propertyName==="value"&&Qp(qu)){var e=[];QP(e,qu,t,mw(t)),CP(J6,e)}}function eL(t,e,r){t==="focusin"?(vN(),bu=e,qu=r,bu.attachEvent("onpropertychange",ZP)):t==="focusout"&&vN()}function tL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qp(qu)}function rL(t,e){if(t==="click")return Qp(e)}function nL(t,e){if(t==="input"||t==="change")return Qp(e)}function iL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:iL;function Gu(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ay.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function yN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bN(t,e){var r=yN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yN(r)}}function eI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tI(){for(var t=window,e=Qf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Qf(t.document)}return e}function Nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sL(t){var e=tI(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eI(r.ownerDocument.documentElement,r)){if(n!==null&&Nw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=bN(r,a);var o=bN(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aL=Ei&&"documentMode"in document&&11>=document.documentMode,Po=null,Sy=null,wu=null,ky=!1;function wN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ky||Po==null||Po!==Qf(n)||(n=Po,"selectionStart"in n&&Nw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wu&&Gu(wu,n)||(wu=n,n=im(Sy,"onSelect"),0<n.length&&(e=new bw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Po)))}function Yh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Io={animationend:Yh("Animation","AnimationEnd"),animationiteration:Yh("Animation","AnimationIteration"),animationstart:Yh("Animation","AnimationStart"),transitionend:Yh("Transition","TransitionEnd")},Yx={},rI={};Ei&&(rI=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Jp(t){if(Yx[t])return Yx[t];if(!Io[t])return t;var e=Io[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rI)return Yx[t]=e[r];return t}var nI=Jp("animationend"),iI=Jp("animationiteration"),sI=Jp("animationstart"),aI=Jp("transitionend"),oI=new Map,jN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){oI.set(t,e),Ya(e,[t])}for(var Xx=0;Xx<jN.length;Xx++){var Qx=jN[Xx],oL=Qx.toLowerCase(),lL=Qx[0].toUpperCase()+Qx.slice(1);Ws(oL,"on"+lL)}Ws(nI,"onAnimationEnd");Ws(iI,"onAnimationIteration");Ws(sI,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(aI,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cL=new Set("cancel close invalid load scroll toggle".split(" ").concat(lu));function NN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,o6(n,e,void 0,t),t.currentTarget=null}function lI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;NN(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;NN(i,l,u),a=c}}}if(Zf)throw t=wy,Zf=!1,wy=null,t}function st(t,e){var r=e[Iy];r===void 0&&(r=e[Iy]=new Set);var n=t+"__bubble";r.has(n)||(cI(e,t,2,!1),r.add(n))}function Jx(t,e,r){var n=0;e&&(n|=4),cI(r,t,n,e)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Ku(t){if(!t[Xh]){t[Xh]=!0,gP.forEach(function(r){r!=="selectionchange"&&(cL.has(r)||Jx(r,!1,t),Jx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xh]||(e[Xh]=!0,Jx("selectionchange",!1,e))}}function cI(t,e,r,n){switch(qP(e)){case 1:var i=N6;break;case 4:i=_6;break;default:i=vw}r=i.bind(null,e,r,t),i=void 0,!by||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Zx(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=xa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}CP(function(){var u=a,d=mw(r),h=[];e:{var f=oI.get(t);if(f!==void 0){var p=bw,v=t;switch(t){case"keypress":if(If(r)===0)break e;case"keydown":case"keyup":p=V6;break;case"focusin":v="focus",p=qx;break;case"focusout":v="blur",p=qx;break;case"beforeblur":case"afterblur":p=qx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=dN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=A6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=U6;break;case nI:case iI:case sI:p=P6;break;case aI:p=W6;break;case"scroll":p=S6;break;case"wheel":p=q6;break;case"copy":case"cut":case"paste":p=C6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fN}var b=(e&4)!==0,x=!b&&t==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var y=u,w;y!==null;){w=y;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Uu(y,g),k!=null&&b.push(Yu(y,k,w)))),x)break;y=y.return}0<b.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==vy&&(v=r.relatedTarget||r.fromElement)&&(xa(v)||v[Pi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?xa(v):null,v!==null&&(x=Xa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=dN,k="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=fN,k="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?f:Co(p),w=v==null?f:Co(v),f=new b(k,y+"leave",p,r,d),f.target=x,f.relatedTarget=w,k=null,xa(d)===u&&(b=new b(g,y+"enter",v,r,d),b.target=w,b.relatedTarget=x,k=b),x=k,p&&v)t:{for(b=p,g=v,y=0,w=b;w;w=po(w))y++;for(w=0,k=g;k;k=po(k))w++;for(;0<y-w;)b=po(b),y--;for(;0<w-y;)g=po(g),w--;for(;y--;){if(b===g||g!==null&&b===g.alternate)break t;b=po(b),g=po(g)}b=null}else b=null;p!==null&&_N(h,f,p,b,!1),v!==null&&x!==null&&_N(h,x,v,b,!0)}}e:{if(f=u?Co(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=Z6;else if(gN(f))if(JP)j=nL;else{j=tL;var A=eL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=rL);if(j&&(j=j(t,u))){QP(h,j,r,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&fy(f,"number",f.value)}switch(A=u?Co(u):window,t){case"focusin":(gN(A)||A.contentEditable==="true")&&(Po=A,Sy=u,wu=null);break;case"focusout":wu=Sy=Po=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,wN(h,r,d);break;case"selectionchange":if(aL)break;case"keydown":case"keyup":wN(h,r,d)}var S;if(jw)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Eo?YP(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(KP&&r.locale!=="ko"&&(Eo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Eo&&(S=GP()):(ps=d,yw="value"in ps?ps.value:ps.textContent,Eo=!0)),A=im(u,N),0<A.length&&(N=new hN(N,t,null,r,d),h.push({event:N,listeners:A}),S?N.data=S:(S=XP(r),S!==null&&(N.data=S)))),(S=K6?Y6(t,r):X6(t,r))&&(u=im(u,"onBeforeInput"),0<u.length&&(d=new hN("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}lI(h,e)})}function Yu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function im(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uu(t,r),a!=null&&n.unshift(Yu(t,a,i)),a=Uu(t,e),a!=null&&n.push(Yu(t,a,i))),t=t.return}return n}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _N(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Uu(r,a),c!=null&&o.unshift(Yu(r,c,l))):i||(c=Uu(r,a),c!=null&&o.push(Yu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var uL=/\r\n?/g,dL=/\u0000|\uFFFD/g;function SN(t){return(typeof t=="string"?t:""+t).replace(uL,`
`).replace(dL,"")}function Qh(t,e,r){if(e=SN(e),SN(t)!==e&&r)throw Error(Z(425))}function sm(){}var Ay=null,Ty=null;function Ey(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Py=typeof setTimeout=="function"?setTimeout:void 0,hL=typeof clearTimeout=="function"?clearTimeout:void 0,kN=typeof Promise=="function"?Promise:void 0,fL=typeof queueMicrotask=="function"?queueMicrotask:typeof kN<"u"?function(t){return kN.resolve(null).then(t).catch(mL)}:Py;function mL(t){setTimeout(function(){throw t})}function ev(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hu(e)}function Ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function AN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yl=Math.random().toString(36).slice(2),zn="__reactFiber$"+Yl,Xu="__reactProps$"+Yl,Pi="__reactContainer$"+Yl,Iy="__reactEvents$"+Yl,pL="__reactListeners$"+Yl,gL="__reactHandles$"+Yl;function xa(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pi]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=AN(t);t!==null;){if(r=t[zn])return r;t=AN(t)}return e}t=r,r=t.parentNode}return null}function nh(t){return t=t[zn]||t[Pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Zp(t){return t[Xu]||null}var Cy=[],Oo=-1;function Hs(t){return{current:t}}function dt(t){0>Oo||(t.current=Cy[Oo],Cy[Oo]=null,Oo--)}function et(t,e){Oo++,Cy[Oo]=t.current,t.current=e}var Ls={},vr=Hs(Ls),Cr=Hs(!1),Pa=Ls;function al(t,e){var r=t.type.contextTypes;if(!r)return Ls;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function am(){dt(Cr),dt(vr)}function TN(t,e,r){if(vr.current!==Ls)throw Error(Z(168));et(vr,e),et(Cr,r)}function uI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,e6(t)||"Unknown",i));return vt({},r,n)}function om(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,Pa=vr.current,et(vr,t),et(Cr,Cr.current),!0}function EN(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=uI(t,e,Pa),n.__reactInternalMemoizedMergedChildContext=t,dt(Cr),dt(vr),et(vr,t)):dt(Cr),et(Cr,r)}var mi=null,eg=!1,tv=!1;function dI(t){mi===null?mi=[t]:mi.push(t)}function xL(t){eg=!0,dI(t)}function qs(){if(!tv&&mi!==null){tv=!0;var t=0,e=He;try{var r=mi;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mi=null,eg=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),RP(pw,qs),i}finally{He=e,tv=!1}}return null}var Mo=[],Do=0,lm=null,cm=0,nn=[],sn=0,Ia=null,pi=1,gi="";function ca(t,e){Mo[Do++]=cm,Mo[Do++]=lm,lm=t,cm=e}function hI(t,e,r){nn[sn++]=pi,nn[sn++]=gi,nn[sn++]=Ia,Ia=t;var n=pi;t=gi;var i=32-In(n)-1;n&=~(1<<i),r+=1;var a=32-In(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,pi=1<<32-In(e)+i|r<<i|n,gi=a+t}else pi=1<<a|r<<i|n,gi=t}function _w(t){t.return!==null&&(ca(t,1),hI(t,1,0))}function Sw(t){for(;t===lm;)lm=Mo[--Do],Mo[Do]=null,cm=Mo[--Do],Mo[Do]=null;for(;t===Ia;)Ia=nn[--sn],nn[sn]=null,gi=nn[--sn],nn[sn]=null,pi=nn[--sn],nn[sn]=null}var Hr=null,Wr=null,ht=!1,An=null;function fI(t,e){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function PN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,Wr=Ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ia!==null?{id:pi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,Wr=null,!0):!1;default:return!1}}function Oy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function My(t){if(ht){var e=Wr;if(e){var r=e;if(!PN(t,e)){if(Oy(t))throw Error(Z(418));e=Ns(r.nextSibling);var n=Hr;e&&PN(t,e)?fI(n,r):(t.flags=t.flags&-4097|2,ht=!1,Hr=t)}}else{if(Oy(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ht=!1,Hr=t}}}function IN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function Jh(t){if(t!==Hr)return!1;if(!ht)return IN(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ey(t.type,t.memoizedProps)),e&&(e=Wr)){if(Oy(t))throw mI(),Error(Z(418));for(;e;)fI(t,e),e=Ns(e.nextSibling)}if(IN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wr=Ns(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Hr?Ns(t.stateNode.nextSibling):null;return!0}function mI(){for(var t=Wr;t;)t=Ns(t.nextSibling)}function ol(){Wr=Hr=null,ht=!1}function kw(t){An===null?An=[t]:An.push(t)}var vL=Fi.ReactCurrentBatchConfig;function Uc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Zh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function CN(t){var e=t._init;return e(t._payload)}function pI(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=As(g,y),g.index=0,g.sibling=null,g}function a(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,w,k){return y===null||y.tag!==6?(y=lv(w,g.mode,k),y.return=g,y):(y=i(y,w),y.return=g,y)}function c(g,y,w,k){var j=w.type;return j===To?d(g,y,w.props.children,k,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&CN(j)===y.type)?(k=i(y,w.props),k.ref=Uc(g,y,w),k.return=g,k):(k=$f(w.type,w.key,w.props,null,g.mode,k),k.ref=Uc(g,y,w),k.return=g,k)}function u(g,y,w,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=cv(w,g.mode,k),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function d(g,y,w,k,j){return y===null||y.tag!==7?(y=ka(w,g.mode,k,j),y.return=g,y):(y=i(y,w),y.return=g,y)}function h(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lv(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uh:return w=$f(y.type,y.key,y.props,null,g.mode,w),w.ref=Uc(g,null,y),w.return=g,w;case Ao:return y=cv(y,g.mode,w),y.return=g,y;case ss:var k=y._init;return h(g,k(y._payload),w)}if(au(y)||Lc(y))return y=ka(y,g.mode,w,null),y.return=g,y;Zh(g,y)}return null}function f(g,y,w,k){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,y,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uh:return w.key===j?c(g,y,w,k):null;case Ao:return w.key===j?u(g,y,w,k):null;case ss:return j=w._init,f(g,y,j(w._payload),k)}if(au(w)||Lc(w))return j!==null?null:d(g,y,w,k,null);Zh(g,w)}return null}function p(g,y,w,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,l(y,g,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Uh:return g=g.get(k.key===null?w:k.key)||null,c(y,g,k,j);case Ao:return g=g.get(k.key===null?w:k.key)||null,u(y,g,k,j);case ss:var A=k._init;return p(g,y,w,A(k._payload),j)}if(au(k)||Lc(k))return g=g.get(w)||null,d(y,g,k,j,null);Zh(y,k)}return null}function v(g,y,w,k){for(var j=null,A=null,S=y,N=y=0,T=null;S!==null&&N<w.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var O=f(g,S,w[N],k);if(O===null){S===null&&(S=T);break}t&&S&&O.alternate===null&&e(g,S),y=a(O,y,N),A===null?j=O:A.sibling=O,A=O,S=T}if(N===w.length)return r(g,S),ht&&ca(g,N),j;if(S===null){for(;N<w.length;N++)S=h(g,w[N],k),S!==null&&(y=a(S,y,N),A===null?j=S:A.sibling=S,A=S);return ht&&ca(g,N),j}for(S=n(g,S);N<w.length;N++)T=p(S,g,N,w[N],k),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),y=a(T,y,N),A===null?j=T:A.sibling=T,A=T);return t&&S.forEach(function(I){return e(g,I)}),ht&&ca(g,N),j}function b(g,y,w,k){var j=Lc(w);if(typeof j!="function")throw Error(Z(150));if(w=j.call(w),w==null)throw Error(Z(151));for(var A=j=null,S=y,N=y=0,T=null,O=w.next();S!==null&&!O.done;N++,O=w.next()){S.index>N?(T=S,S=null):T=S.sibling;var I=f(g,S,O.value,k);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(g,S),y=a(I,y,N),A===null?j=I:A.sibling=I,A=I,S=T}if(O.done)return r(g,S),ht&&ca(g,N),j;if(S===null){for(;!O.done;N++,O=w.next())O=h(g,O.value,k),O!==null&&(y=a(O,y,N),A===null?j=O:A.sibling=O,A=O);return ht&&ca(g,N),j}for(S=n(g,S);!O.done;N++,O=w.next())O=p(S,g,N,O.value,k),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?N:O.key),y=a(O,y,N),A===null?j=O:A.sibling=O,A=O);return t&&S.forEach(function(C){return e(g,C)}),ht&&ca(g,N),j}function x(g,y,w,k){if(typeof w=="object"&&w!==null&&w.type===To&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Uh:e:{for(var j=w.key,A=y;A!==null;){if(A.key===j){if(j=w.type,j===To){if(A.tag===7){r(g,A.sibling),y=i(A,w.props.children),y.return=g,g=y;break e}}else if(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&CN(j)===A.type){r(g,A.sibling),y=i(A,w.props),y.ref=Uc(g,A,w),y.return=g,g=y;break e}r(g,A);break}else e(g,A);A=A.sibling}w.type===To?(y=ka(w.props.children,g.mode,k,w.key),y.return=g,g=y):(k=$f(w.type,w.key,w.props,null,g.mode,k),k.ref=Uc(g,y,w),k.return=g,g=k)}return o(g);case Ao:e:{for(A=w.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=cv(w,g.mode,k),y.return=g,g=y}return o(g);case ss:return A=w._init,x(g,y,A(w._payload),k)}if(au(w))return v(g,y,w,k);if(Lc(w))return b(g,y,w,k);Zh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,w),y.return=g,g=y):(r(g,y),y=lv(w,g.mode,k),y.return=g,g=y),o(g)):r(g,y)}return x}var ll=pI(!0),gI=pI(!1),um=Hs(null),dm=null,Ro=null,Aw=null;function Tw(){Aw=Ro=dm=null}function Ew(t){var e=um.current;dt(um),t._currentValue=e}function Dy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yo(t,e){dm=t,Aw=Ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Aw!==t)if(t={context:t,memoizedValue:e,next:null},Ro===null){if(dm===null)throw Error(Z(308));Ro=t,dm.dependencies={lanes:0,firstContext:t}}else Ro=Ro.next=t;return e}var va=null;function Pw(t){va===null?va=[t]:va.push(t)}function xI(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Pw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ii(t,n)}function Ii(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var as=!1;function Iw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ji(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ii(t,r)}return i=n.interleaved,i===null?(e.next=e,Pw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ii(t,r)}function Cf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gw(t,r)}}function ON(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hm(t,e,r,n){var i=t.updateQueue;as=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(f=e,p=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=vt({},h,f);break e;case 2:as=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Oa|=o,t.lanes=o,t.memoizedState=h}}function MN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var ih={},qn=Hs(ih),Qu=Hs(ih),Ju=Hs(ih);function ya(t){if(t===ih)throw Error(Z(174));return t}function Cw(t,e){switch(et(Ju,e),et(Qu,t),et(qn,ih),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:py(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=py(e,t)}dt(qn),et(qn,e)}function cl(){dt(qn),dt(Qu),dt(Ju)}function yI(t){ya(Ju.current);var e=ya(qn.current),r=py(e,t.type);e!==r&&(et(Qu,t),et(qn,r))}function Ow(t){Qu.current===t&&(dt(qn),dt(Qu))}var pt=Hs(0);function fm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rv=[];function Mw(){for(var t=0;t<rv.length;t++)rv[t]._workInProgressVersionPrimary=null;rv.length=0}var Of=Fi.ReactCurrentDispatcher,nv=Fi.ReactCurrentBatchConfig,Ca=0,xt=null,$t=null,Kt=null,mm=!1,ju=!1,Zu=0,yL=0;function cr(){throw Error(Z(321))}function Dw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mn(t[r],e[r]))return!1;return!0}function Rw(t,e,r,n,i,a){if(Ca=a,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Of.current=t===null||t.memoizedState===null?NL:_L,t=r(n,i),ju){a=0;do{if(ju=!1,Zu=0,25<=a)throw Error(Z(301));a+=1,Kt=$t=null,e.updateQueue=null,Of.current=SL,t=r(n,i)}while(ju)}if(Of.current=pm,e=$t!==null&&$t.next!==null,Ca=0,Kt=$t=xt=null,mm=!1,e)throw Error(Z(300));return t}function Lw(){var t=Zu!==0;return Zu=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?xt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function mn(){if($t===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Kt===null?xt.memoizedState:Kt.next;if(e!==null)Kt=e,$t=t;else{if(t===null)throw Error(Z(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Kt===null?xt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function ed(t,e){return typeof e=="function"?e(t):e}function iv(t){var e=mn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=$t,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ca&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,xt.lanes|=d,Oa|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Mn(n,e.memoizedState)||(Pr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,xt.lanes|=a,Oa|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function sv(t){var e=mn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Mn(a,e.memoizedState)||(Pr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function bI(){}function wI(t,e){var r=xt,n=mn(),i=e(),a=!Mn(n.memoizedState,i);if(a&&(n.memoizedState=i,Pr=!0),n=n.queue,$w(_I.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,td(9,NI.bind(null,r,n,i,e),void 0,null),Qt===null)throw Error(Z(349));Ca&30||jI(r,e,i)}return i}function jI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NI(t,e,r,n){e.value=r,e.getSnapshot=n,SI(e)&&kI(t)}function _I(t,e,r){return r(function(){SI(e)&&kI(t)})}function SI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mn(t,r)}catch{return!0}}function kI(t){var e=Ii(t,1);e!==null&&Cn(e,t,1,-1)}function DN(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=jL.bind(null,xt,t),[e.memoizedState,t]}function td(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function AI(){return mn().memoizedState}function Mf(t,e,r,n){var i=Bn();xt.flags|=t,i.memoizedState=td(1|e,r,void 0,n===void 0?null:n)}function tg(t,e,r,n){var i=mn();n=n===void 0?null:n;var a=void 0;if($t!==null){var o=$t.memoizedState;if(a=o.destroy,n!==null&&Dw(n,o.deps)){i.memoizedState=td(e,r,a,n);return}}xt.flags|=t,i.memoizedState=td(1|e,r,a,n)}function RN(t,e){return Mf(8390656,8,t,e)}function $w(t,e){return tg(2048,8,t,e)}function TI(t,e){return tg(4,2,t,e)}function EI(t,e){return tg(4,4,t,e)}function PI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function II(t,e,r){return r=r!=null?r.concat([t]):null,tg(4,4,PI.bind(null,e,t),r)}function Vw(){}function CI(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function OI(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Dw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function MI(t,e,r){return Ca&21?(Mn(r,e)||(r=VP(),xt.lanes|=r,Oa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=r)}function bL(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=nv.transition;nv.transition={};try{t(!1),e()}finally{He=r,nv.transition=n}}function DI(){return mn().memoizedState}function wL(t,e,r){var n=ks(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},RI(t))LI(e,r);else if(r=xI(t,e,r,n),r!==null){var i=Sr();Cn(r,t,n,i),$I(r,e,n)}}function jL(t,e,r){var n=ks(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(RI(t))LI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Mn(l,o)){var c=e.interleaved;c===null?(i.next=i,Pw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=xI(t,e,i,n),r!==null&&(i=Sr(),Cn(r,t,n,i),$I(r,e,n))}}function RI(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function LI(t,e){ju=mm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $I(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,gw(t,r)}}var pm={readContext:fn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},NL={readContext:fn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:RN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mf(4194308,4,PI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mf(4,2,t,e)},useMemo:function(t,e){var r=Bn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wL.bind(null,xt,t),[n.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:DN,useDebugValue:Vw,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=DN(!1),e=t[0];return t=bL.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xt,i=Bn();if(ht){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),Qt===null)throw Error(Z(349));Ca&30||jI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,RN(_I.bind(null,n,a,t),[t]),n.flags|=2048,td(9,NI.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Bn(),e=Qt.identifierPrefix;if(ht){var r=gi,n=pi;r=(n&~(1<<32-In(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_L={readContext:fn,useCallback:CI,useContext:fn,useEffect:$w,useImperativeHandle:II,useInsertionEffect:TI,useLayoutEffect:EI,useMemo:OI,useReducer:iv,useRef:AI,useState:function(){return iv(ed)},useDebugValue:Vw,useDeferredValue:function(t){var e=mn();return MI(e,$t.memoizedState,t)},useTransition:function(){var t=iv(ed)[0],e=mn().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:wI,useId:DI,unstable_isNewReconciler:!1},SL={readContext:fn,useCallback:CI,useContext:fn,useEffect:$w,useImperativeHandle:II,useInsertionEffect:TI,useLayoutEffect:EI,useMemo:OI,useReducer:sv,useRef:AI,useState:function(){return sv(ed)},useDebugValue:Vw,useDeferredValue:function(t){var e=mn();return $t===null?e.memoizedState=t:MI(e,$t.memoizedState,t)},useTransition:function(){var t=sv(ed)[0],e=mn().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:wI,useId:DI,unstable_isNewReconciler:!1};function Nn(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ry(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rg={isMounted:function(t){return(t=t._reactInternals)?Xa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Sr(),i=ks(t),a=ji(n,i);a.payload=e,r!=null&&(a.callback=r),e=_s(t,a,i),e!==null&&(Cn(e,t,i,n),Cf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Sr(),i=ks(t),a=ji(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=_s(t,a,i),e!==null&&(Cn(e,t,i,n),Cf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Sr(),n=ks(t),i=ji(r,n);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,n),e!==null&&(Cn(e,t,n,r),Cf(e,t,n))}};function LN(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Gu(r,n)||!Gu(i,a):!0}function VI(t,e,r){var n=!1,i=Ls,a=e.contextType;return typeof a=="object"&&a!==null?a=fn(a):(i=Or(e)?Pa:vr.current,n=e.contextTypes,a=(n=n!=null)?al(t,i):Ls),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function $N(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&rg.enqueueReplaceState(e,e.state,null)}function Ly(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Iw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=fn(a):(a=Or(e)?Pa:vr.current,i.context=al(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ry(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rg.enqueueReplaceState(i,i.state,null),hm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var r="",n=e;do r+=Z5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function av(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $y(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var kL=typeof WeakMap=="function"?WeakMap:Map;function FI(t,e,r){r=ji(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xm||(xm=!0,Ky=n),$y(t,e)},r}function BI(t,e,r){r=ji(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){$y(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){$y(t,e),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function VN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new kL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=FL.bind(null,t,e,r),e.then(t,t))}function FN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function BN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ji(-1,1),e.tag=2,_s(r,e,1))),r.lanes|=1),t)}var AL=Fi.ReactCurrentOwner,Pr=!1;function wr(t,e,r,n){e.child=t===null?gI(e,null,r,n):ll(e,t.child,r,n)}function UN(t,e,r,n,i){r=r.render;var a=e.ref;return Yo(e,i),n=Rw(t,e,r,n,a,i),r=Lw(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ht&&r&&_w(e),e.flags|=1,wr(t,e,n,i),e.child)}function zN(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Gw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,UI(t,e,a,n,i)):(t=$f(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Gu,r(o,n)&&t.ref===e.ref)return Ci(t,e,i)}return e.flags|=1,t=As(a,n),t.ref=e.ref,t.return=e,e.child=t}function UI(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Gu(a,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Ci(t,e,i)}return Vy(t,e,r,n,i)}function zI(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et($o,Vr),Vr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et($o,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,et($o,Vr),Vr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,et($o,Vr),Vr|=n;return wr(t,e,i,r),e.child}function WI(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Vy(t,e,r,n,i){var a=Or(r)?Pa:vr.current;return a=al(e,a),Yo(e,i),r=Rw(t,e,r,n,a,i),n=Lw(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ci(t,e,i)):(ht&&n&&_w(e),e.flags|=1,wr(t,e,r,i),e.child)}function WN(t,e,r,n,i){if(Or(r)){var a=!0;om(e)}else a=!1;if(Yo(e,i),e.stateNode===null)Df(t,e),VI(e,r,n),Ly(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Or(r)?Pa:vr.current,u=al(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&$N(e,o,n,u),as=!1;var f=e.memoizedState;o.state=f,hm(e,n,o,i),c=e.memoizedState,l!==n||f!==c||Cr.current||as?(typeof d=="function"&&(Ry(e,r,d,n),c=e.memoizedState),(l=as||LN(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Nn(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Or(r)?Pa:vr.current,c=al(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&$N(e,o,n,c),as=!1,f=e.memoizedState,o.state=f,hm(e,n,o,i);var v=e.memoizedState;l!==h||f!==v||Cr.current||as?(typeof p=="function"&&(Ry(e,r,p,n),v=e.memoizedState),(u=as||LN(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Fy(t,e,r,n,a,i)}function Fy(t,e,r,n,i,a){WI(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&EN(e,r,!1),Ci(t,e,a);n=e.stateNode,AL.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ll(e,t.child,null,a),e.child=ll(e,null,l,a)):wr(t,e,l,a),e.memoizedState=n.state,i&&EN(e,r,!0),e.child}function HI(t){var e=t.stateNode;e.pendingContext?TN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&TN(t,e.context,!1),Cw(t,e.containerInfo)}function HN(t,e,r,n,i){return ol(),kw(i),e.flags|=256,wr(t,e,r,n),e.child}var By={dehydrated:null,treeContext:null,retryLane:0};function Uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function qI(t,e,r){var n=e.pendingProps,i=pt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(pt,i&1),t===null)return My(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=sg(o,n,0,null),t=ka(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Uy(r),e.memoizedState=By,t):Fw(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return TL(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=As(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=As(l,a):(a=ka(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Uy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=By,n}return a=t.child,t=a.sibling,n=As(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Fw(t,e){return e=sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ef(t,e,r,n){return n!==null&&kw(n),ll(e,t.child,null,r),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TL(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=av(Error(Z(422))),ef(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=sg({mode:"visible",children:n.children},i,0,null),a=ka(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ll(e,t.child,null,o),e.child.memoizedState=Uy(o),e.memoizedState=By,a);if(!(e.mode&1))return ef(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Z(419)),n=av(a,n,void 0),ef(t,e,o,n)}if(l=(o&t.childLanes)!==0,Pr||l){if(n=Qt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ii(t,i),Cn(n,t,i,-1))}return qw(),n=av(Error(Z(421))),ef(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Wr=Ns(i.nextSibling),Hr=e,ht=!0,An=null,t!==null&&(nn[sn++]=pi,nn[sn++]=gi,nn[sn++]=Ia,pi=t.id,gi=t.overflow,Ia=e),e=Fw(e,n.children),e.flags|=4096,e)}function qN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dy(t.return,e,r)}function ov(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function GI(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(wr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qN(t,r,e);else if(t.tag===19)qN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(et(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&fm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ov(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ov(e,!0,r,null,a);break;case"together":ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Oa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=As(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=As(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function EL(t,e,r){switch(e.tag){case 3:HI(e),ol();break;case 5:yI(e);break;case 1:Or(e.type)&&om(e);break;case 4:Cw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;et(um,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(et(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?qI(t,e,r):(et(pt,pt.current&1),t=Ci(t,e,r),t!==null?t.sibling:null);et(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return GI(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,zI(t,e,r)}return Ci(t,e,r)}var KI,zy,YI,XI;KI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zy=function(){};YI=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ya(qn.current);var a=null;switch(r){case"input":i=dy(t,i),n=dy(t,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=my(t,i),n=my(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=sm)}gy(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};XI=function(t,e,r,n){r!==n&&(e.flags|=4)};function zc(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function PL(t,e,r){var n=e.pendingProps;switch(Sw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Or(e.type)&&am(),ur(e),null;case 3:return n=e.stateNode,cl(),dt(Cr),dt(vr),Mw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Jh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Qy(An),An=null))),zy(t,e),ur(e),null;case 5:Ow(e);var i=ya(Ju.current);if(r=e.type,t!==null&&e.stateNode!=null)YI(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return ur(e),null}if(t=ya(qn.current),Jh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[zn]=e,n[Xu]=a,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<lu.length;i++)st(lu[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":tN(n,a),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},st("invalid",n);break;case"textarea":nN(n,a),st("invalid",n)}gy(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Qh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Qh(n.textContent,l,t),i=["children",""+l]):Fu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":zh(n),rN(n,a,!0);break;case"textarea":zh(n),iN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=sm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_P(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[Xu]=n,KI(t,e,!1,!1),e.stateNode=t;e:{switch(o=xy(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<lu.length;i++)st(lu[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":tN(t,n),i=dy(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),st("invalid",t);break;case"textarea":nN(t,n),i=my(t,n),st("invalid",t);break;default:i=n}gy(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?AP(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&SP(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bu(t,c):typeof c=="number"&&Bu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&st("scroll",t):c!=null&&uw(t,a,c,o))}switch(r){case"input":zh(t),rN(t,n,!1);break;case"textarea":zh(t),iN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rs(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ho(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ho(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=sm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)XI(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=ya(Ju.current),ya(qn.current),Jh(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(a=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:Qh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return ur(e),null;case 13:if(dt(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&Wr!==null&&e.mode&1&&!(e.flags&128))mI(),ol(),e.flags|=98560,a=!1;else if(a=Jh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[zn]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),a=!1}else An!==null&&(Qy(An),An=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Bt===0&&(Bt=3):qw())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return cl(),zy(t,e),t===null&&Ku(e.stateNode.containerInfo),ur(e),null;case 10:return Ew(e.type._context),ur(e),null;case 17:return Or(e.type)&&am(),ur(e),null;case 19:if(dt(pt),a=e.memoizedState,a===null)return ur(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)zc(a,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=fm(t),o!==null){for(e.flags|=128,zc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return et(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&_t()>dl&&(e.flags|=128,n=!0,zc(a,!1),e.lanes=4194304)}else{if(!n)if(t=fm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),zc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ht)return ur(e),null}else 2*_t()-a.renderingStartTime>dl&&r!==1073741824&&(e.flags|=128,n=!0,zc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,r=pt.current,et(pt,n?r&1|2:r&1),e):(ur(e),null);case 22:case 23:return Hw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vr&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function IL(t,e){switch(Sw(e),e.tag){case 1:return Or(e.type)&&am(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),dt(Cr),dt(vr),Mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ow(e),null;case 13:if(dt(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(pt),null;case 4:return cl(),null;case 10:return Ew(e.type._context),null;case 22:case 23:return Hw(),null;case 24:return null;default:return null}}var tf=!1,mr=!1,CL=typeof WeakSet=="function"?WeakSet:Set,se=null;function Lo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function Wy(t,e,r){try{r()}catch(n){wt(t,e,n)}}var GN=!1;function OL(t,e){if(Ay=rm,t=tI(),Nw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ty={focusedElem:t,selectionRange:r},rm=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:Nn(e.type,b),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(k){wt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=GN,GN=!1,v}function Nu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Wy(e,r,a)}i=i.next}while(i!==n)}}function ng(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Hy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function QI(t){var e=t.alternate;e!==null&&(t.alternate=null,QI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Xu],delete e[Iy],delete e[pL],delete e[gL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JI(t){return t.tag===5||t.tag===3||t.tag===4}function KN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=sm));else if(n!==4&&(t=t.child,t!==null))for(qy(t,e,r),t=t.sibling;t!==null;)qy(t,e,r),t=t.sibling}function Gy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Gy(t,e,r),t=t.sibling;t!==null;)Gy(t,e,r),t=t.sibling}var rr=null,_n=!1;function es(t,e,r){for(r=r.child;r!==null;)ZI(t,e,r),r=r.sibling}function ZI(t,e,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Yp,r)}catch{}switch(r.tag){case 5:mr||Lo(r,e);case 6:var n=rr,i=_n;rr=null,es(t,e,r),rr=n,_n=i,rr!==null&&(_n?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(_n?(t=rr,r=r.stateNode,t.nodeType===8?ev(t.parentNode,r):t.nodeType===1&&ev(t,r),Hu(t)):ev(rr,r.stateNode));break;case 4:n=rr,i=_n,rr=r.stateNode.containerInfo,_n=!0,es(t,e,r),rr=n,_n=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Wy(r,e,o),i=i.next}while(i!==n)}es(t,e,r);break;case 1:if(!mr&&(Lo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wt(r,e,l)}es(t,e,r);break;case 21:es(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,es(t,e,r),mr=n):es(t,e,r);break;default:es(t,e,r)}}function YN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new CL),e.forEach(function(n){var i=UL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,_n=!1;break e;case 3:rr=l.stateNode.containerInfo,_n=!0;break e;case 4:rr=l.stateNode.containerInfo,_n=!0;break e}l=l.return}if(rr===null)throw Error(Z(160));ZI(a,o,i),rr=null,_n=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eC(e,t),e=e.sibling}function eC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Fn(t),n&4){try{Nu(3,t,t.return),ng(3,t)}catch(b){wt(t,t.return,b)}try{Nu(5,t,t.return)}catch(b){wt(t,t.return,b)}}break;case 1:wn(e,t),Fn(t),n&512&&r!==null&&Lo(r,r.return);break;case 5:if(wn(e,t),Fn(t),n&512&&r!==null&&Lo(r,r.return),t.flags&32){var i=t.stateNode;try{Bu(i,"")}catch(b){wt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&jP(i,a),xy(l,o);var u=xy(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?AP(i,h):d==="dangerouslySetInnerHTML"?SP(i,h):d==="children"?Bu(i,h):uw(i,d,h,u)}switch(l){case"input":hy(i,a);break;case"textarea":NP(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ho(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ho(i,!!a.multiple,a.defaultValue,!0):Ho(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xu]=a}catch(b){wt(t,t.return,b)}}break;case 6:if(wn(e,t),Fn(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){wt(t,t.return,b)}}break;case 3:if(wn(e,t),Fn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hu(e.containerInfo)}catch(b){wt(t,t.return,b)}break;case 4:wn(e,t),Fn(t);break;case 13:wn(e,t),Fn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(zw=_t())),n&4&&YN(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(u=mr)||d,wn(e,t),mr=u):wn(e,t),Fn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:Nu(4,f,f.return);break;case 1:Lo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){wt(n,r,b)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){QN(h);continue}}p!==null?(p.return=f,se=p):QN(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kP("display",o))}catch(b){wt(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){wt(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),Fn(t),n&4&&YN(t);break;case 21:break;default:wn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(JI(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bu(i,""),n.flags&=-33);var a=KN(t);Gy(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=KN(t);qy(t,l,o);break;default:throw Error(Z(161))}}catch(c){wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ML(t,e,r){se=t,tC(t)}function tC(t,e,r){for(var n=(t.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||tf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||mr;l=tf;var u=mr;if(tf=o,(mr=c)&&!u)for(se=i;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?JN(i):c!==null?(c.return=o,se=c):JN(i);for(;a!==null;)se=a,tC(a),a=a.sibling;se=i,tf=l,mr=u}XN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):XN(t)}}function XN(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||ng(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Nn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&MN(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}MN(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}mr||e.flags&512&&Hy(e)}catch(f){wt(e,e.return,f)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function QN(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function JN(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ng(4,e)}catch(c){wt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){wt(e,i,c)}}var a=e.return;try{Hy(e)}catch(c){wt(e,a,c)}break;case 5:var o=e.return;try{Hy(e)}catch(c){wt(e,o,c)}}}catch(c){wt(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var DL=Math.ceil,gm=Fi.ReactCurrentDispatcher,Bw=Fi.ReactCurrentOwner,hn=Fi.ReactCurrentBatchConfig,Re=0,Qt=null,It=null,ar=0,Vr=0,$o=Hs(0),Bt=0,rd=null,Oa=0,ig=0,Uw=0,_u=null,Er=null,zw=0,dl=1/0,hi=null,xm=!1,Ky=null,Ss=null,rf=!1,gs=null,vm=0,Su=0,Yy=null,Rf=-1,Lf=0;function Sr(){return Re&6?_t():Rf!==-1?Rf:Rf=_t()}function ks(t){return t.mode&1?Re&2&&ar!==0?ar&-ar:vL.transition!==null?(Lf===0&&(Lf=VP()),Lf):(t=He,t!==0||(t=window.event,t=t===void 0?16:qP(t.type)),t):1}function Cn(t,e,r,n){if(50<Su)throw Su=0,Yy=null,Error(Z(185));th(t,r,n),(!(Re&2)||t!==Qt)&&(t===Qt&&(!(Re&2)&&(ig|=r),Bt===4&&cs(t,ar)),Mr(t,n),r===1&&Re===0&&!(e.mode&1)&&(dl=_t()+500,eg&&qs()))}function Mr(t,e){var r=t.callbackNode;v6(t,e);var n=tm(t,t===Qt?ar:0);if(n===0)r!==null&&oN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&oN(r),e===1)t.tag===0?xL(ZN.bind(null,t)):dI(ZN.bind(null,t)),fL(function(){!(Re&6)&&qs()}),r=null;else{switch(FP(n)){case 1:r=pw;break;case 4:r=LP;break;case 16:r=em;break;case 536870912:r=$P;break;default:r=em}r=cC(r,rC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function rC(t,e){if(Rf=-1,Lf=0,Re&6)throw Error(Z(327));var r=t.callbackNode;if(Xo()&&t.callbackNode!==r)return null;var n=tm(t,t===Qt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ym(t,n);else{e=n;var i=Re;Re|=2;var a=iC();(Qt!==t||ar!==e)&&(hi=null,dl=_t()+500,Sa(t,e));do try{$L();break}catch(l){nC(t,l)}while(!0);Tw(),gm.current=a,Re=i,It!==null?e=0:(Qt=null,ar=0,e=Bt)}if(e!==0){if(e===2&&(i=jy(t),i!==0&&(n=i,e=Xy(t,i))),e===1)throw r=rd,Sa(t,0),cs(t,n),Mr(t,_t()),r;if(e===6)cs(t,n);else{if(i=t.current.alternate,!(n&30)&&!RL(i)&&(e=ym(t,n),e===2&&(a=jy(t),a!==0&&(n=a,e=Xy(t,a))),e===1))throw r=rd,Sa(t,0),cs(t,n),Mr(t,_t()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:ua(t,Er,hi);break;case 3:if(cs(t,n),(n&130023424)===n&&(e=zw+500-_t(),10<e)){if(tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Py(ua.bind(null,t,Er,hi),e);break}ua(t,Er,hi);break;case 4:if(cs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-In(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DL(n/1960))-n,10<n){t.timeoutHandle=Py(ua.bind(null,t,Er,hi),n);break}ua(t,Er,hi);break;case 5:ua(t,Er,hi);break;default:throw Error(Z(329))}}}return Mr(t,_t()),t.callbackNode===r?rC.bind(null,t):null}function Xy(t,e){var r=_u;return t.current.memoizedState.isDehydrated&&(Sa(t,e).flags|=256),t=ym(t,e),t!==2&&(e=Er,Er=r,e!==null&&Qy(e)),t}function Qy(t){Er===null?Er=t:Er.push.apply(Er,t)}function RL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Mn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cs(t,e){for(e&=~Uw,e&=~ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-In(e),n=1<<r;t[r]=-1,e&=~n}}function ZN(t){if(Re&6)throw Error(Z(327));Xo();var e=tm(t,0);if(!(e&1))return Mr(t,_t()),null;var r=ym(t,e);if(t.tag!==0&&r===2){var n=jy(t);n!==0&&(e=n,r=Xy(t,n))}if(r===1)throw r=rd,Sa(t,0),cs(t,e),Mr(t,_t()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,Er,hi),Mr(t,_t()),null}function Ww(t,e){var r=Re;Re|=1;try{return t(e)}finally{Re=r,Re===0&&(dl=_t()+500,eg&&qs())}}function Ma(t){gs!==null&&gs.tag===0&&!(Re&6)&&Xo();var e=Re;Re|=1;var r=hn.transition,n=He;try{if(hn.transition=null,He=1,t)return t()}finally{He=n,hn.transition=r,Re=e,!(Re&6)&&qs()}}function Hw(){Vr=$o.current,dt($o)}function Sa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,hL(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(Sw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&am();break;case 3:cl(),dt(Cr),dt(vr),Mw();break;case 5:Ow(n);break;case 4:cl();break;case 13:dt(pt);break;case 19:dt(pt);break;case 10:Ew(n.type._context);break;case 22:case 23:Hw()}r=r.return}if(Qt=t,It=t=As(t.current,null),ar=Vr=e,Bt=0,rd=null,Uw=ig=Oa=0,Er=_u=null,va!==null){for(e=0;e<va.length;e++)if(r=va[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}va=null}return t}function nC(t,e){do{var r=It;try{if(Tw(),Of.current=pm,mm){for(var n=xt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mm=!1}if(Ca=0,Kt=$t=xt=null,ju=!1,Zu=0,Bw.current=null,r===null||r.return===null){Bt=1,rd=e,It=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=FN(o);if(p!==null){p.flags&=-257,BN(p,o,l,a,e),p.mode&1&&VN(a,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){VN(a,u,e),qw();break e}c=Error(Z(426))}}else if(ht&&l.mode&1){var x=FN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),BN(x,o,l,a,e),kw(ul(c,l));break e}}a=c=ul(c,l),Bt!==4&&(Bt=2),_u===null?_u=[a]:_u.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=FI(a,c,e);ON(a,g);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ss===null||!Ss.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=BI(a,l,e);ON(a,k);break e}}a=a.return}while(a!==null)}aC(r)}catch(j){e=j,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function iC(){var t=gm.current;return gm.current=pm,t===null?pm:t}function qw(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Qt===null||!(Oa&268435455)&&!(ig&268435455)||cs(Qt,ar)}function ym(t,e){var r=Re;Re|=2;var n=iC();(Qt!==t||ar!==e)&&(hi=null,Sa(t,e));do try{LL();break}catch(i){nC(t,i)}while(!0);if(Tw(),Re=r,gm.current=n,It!==null)throw Error(Z(261));return Qt=null,ar=0,Bt}function LL(){for(;It!==null;)sC(It)}function $L(){for(;It!==null&&!c6();)sC(It)}function sC(t){var e=lC(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?aC(t):It=e,Bw.current=null}function aC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=IL(r,e),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,It=null;return}}else if(r=PL(r,e,Vr),r!==null){It=r;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Bt===0&&(Bt=5)}function ua(t,e,r){var n=He,i=hn.transition;try{hn.transition=null,He=1,VL(t,e,r,n)}finally{hn.transition=i,He=n}return null}function VL(t,e,r,n){do Xo();while(gs!==null);if(Re&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(y6(t,a),t===Qt&&(It=Qt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rf||(rf=!0,cC(em,function(){return Xo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var o=He;He=1;var l=Re;Re|=4,Bw.current=null,OL(t,r),eC(r,t),sL(Ty),rm=!!Ay,Ty=Ay=null,t.current=r,ML(r),u6(),Re=l,He=o,hn.transition=a}else t.current=r;if(rf&&(rf=!1,gs=t,vm=i),a=t.pendingLanes,a===0&&(Ss=null),f6(r.stateNode),Mr(t,_t()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xm)throw xm=!1,t=Ky,Ky=null,t;return vm&1&&t.tag!==0&&Xo(),a=t.pendingLanes,a&1?t===Yy?Su++:(Su=0,Yy=t):Su=0,qs(),null}function Xo(){if(gs!==null){var t=FP(vm),e=hn.transition,r=He;try{if(hn.transition=null,He=16>t?16:t,gs===null)var n=!1;else{if(t=gs,gs=null,vm=0,Re&6)throw Error(Z(331));var i=Re;for(Re|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Nu(8,d,a)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,p=d.return;if(QI(d),d===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Nu(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,se=g;break e}se=a.return}}var y=t.current;for(se=y;se!==null;){o=se;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,se=w;else e:for(o=y;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ng(9,l)}}catch(j){wt(l,l.return,j)}if(l===o){se=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,se=k;break e}se=l.return}}if(Re=i,qs(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Yp,t)}catch{}n=!0}return n}finally{He=r,hn.transition=e}}return!1}function e_(t,e,r){e=ul(r,e),e=FI(t,e,1),t=_s(t,e,1),e=Sr(),t!==null&&(th(t,1,e),Mr(t,e))}function wt(t,e,r){if(t.tag===3)e_(t,t,r);else for(;e!==null;){if(e.tag===3){e_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ss===null||!Ss.has(n))){t=ul(r,t),t=BI(e,t,1),e=_s(e,t,1),t=Sr(),e!==null&&(th(e,1,t),Mr(e,t));break}}e=e.return}}function FL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Sr(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(ar&r)===r&&(Bt===4||Bt===3&&(ar&130023424)===ar&&500>_t()-zw?Sa(t,0):Uw|=r),Mr(t,e)}function oC(t,e){e===0&&(t.mode&1?(e=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):e=1);var r=Sr();t=Ii(t,e),t!==null&&(th(t,e,r),Mr(t,r))}function BL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),oC(t,r)}function UL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),oC(t,r)}var lC;lC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pr=!1,EL(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,ht&&e.flags&1048576&&hI(e,cm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Df(t,e),t=e.pendingProps;var i=al(e,vr.current);Yo(e,r),i=Rw(null,e,n,t,i,r);var a=Lw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(a=!0,om(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Iw(e),i.updater=rg,e.stateNode=i,i._reactInternals=e,Ly(e,n,t,r),e=Fy(null,e,n,!0,a,r)):(e.tag=0,ht&&a&&_w(e),wr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Df(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=WL(n),t=Nn(n,t),i){case 0:e=Vy(null,e,n,t,r);break e;case 1:e=WN(null,e,n,t,r);break e;case 11:e=UN(null,e,n,t,r);break e;case 14:e=zN(null,e,n,Nn(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),Vy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),WN(t,e,n,i,r);case 3:e:{if(HI(e),t===null)throw Error(Z(387));n=e.pendingProps,a=e.memoizedState,i=a.element,vI(t,e),hm(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ul(Error(Z(423)),e),e=HN(t,e,n,r,i);break e}else if(n!==i){i=ul(Error(Z(424)),e),e=HN(t,e,n,r,i);break e}else for(Wr=Ns(e.stateNode.containerInfo.firstChild),Hr=e,ht=!0,An=null,r=gI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),n===i){e=Ci(t,e,r);break e}wr(t,e,n,r)}e=e.child}return e;case 5:return yI(e),t===null&&My(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Ey(n,i)?o=null:a!==null&&Ey(n,a)&&(e.flags|=32),WI(t,e),wr(t,e,o,r),e.child;case 6:return t===null&&My(e),null;case 13:return qI(t,e,r);case 4:return Cw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ll(e,null,n,r):wr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),UN(t,e,n,i,r);case 7:return wr(t,e,e.pendingProps,r),e.child;case 8:return wr(t,e,e.pendingProps.children,r),e.child;case 12:return wr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,et(um,n._currentValue),n._currentValue=o,a!==null)if(Mn(a.value,o)){if(a.children===i.children&&!Cr.current){e=Ci(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ji(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Dy(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Dy(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Yo(e,r),i=fn(i),n=n(i),e.flags|=1,wr(t,e,n,r),e.child;case 14:return n=e.type,i=Nn(n,e.pendingProps),i=Nn(n.type,i),zN(t,e,n,i,r);case 15:return UI(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Nn(n,i),Df(t,e),e.tag=1,Or(n)?(t=!0,om(e)):t=!1,Yo(e,r),VI(e,n,i),Ly(e,n,i,r),Fy(null,e,n,!0,t,r);case 19:return GI(t,e,r);case 22:return zI(t,e,r)}throw Error(Z(156,e.tag))};function cC(t,e){return RP(t,e)}function zL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,r,n){return new zL(t,e,r,n)}function Gw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WL(t){if(typeof t=="function")return Gw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hw)return 11;if(t===fw)return 14}return 2}function As(t,e){var r=t.alternate;return r===null?(r=un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $f(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Gw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return ka(r.children,i,a,e);case dw:o=8,i|=8;break;case oy:return t=un(12,r,e,i|2),t.elementType=oy,t.lanes=a,t;case ly:return t=un(13,r,e,i),t.elementType=ly,t.lanes=a,t;case cy:return t=un(19,r,e,i),t.elementType=cy,t.lanes=a,t;case yP:return sg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xP:o=10;break e;case vP:o=9;break e;case hw:o=11;break e;case fw:o=14;break e;case ss:o=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=un(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ka(t,e,r,n){return t=un(7,t,n,e),t.lanes=r,t}function sg(t,e,r,n){return t=un(22,t,n,e),t.elementType=yP,t.lanes=r,t.stateNode={isHidden:!1},t}function lv(t,e,r){return t=un(6,t,null,e),t.lanes=r,t}function cv(t,e,r){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zx(0),this.expirationTimes=zx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kw(t,e,r,n,i,a,o,l,c){return t=new HL(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=un(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iw(a),t}function qL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function uC(t){if(!t)return Ls;t=t._reactInternals;e:{if(Xa(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(Or(r))return uI(t,r,e)}return e}function dC(t,e,r,n,i,a,o,l,c){return t=Kw(r,n,!0,t,i,a,o,l,c),t.context=uC(null),r=t.current,n=Sr(),i=ks(r),a=ji(n,i),a.callback=e??null,_s(r,a,i),t.current.lanes=i,th(t,i,n),Mr(t,n),t}function ag(t,e,r,n){var i=e.current,a=Sr(),o=ks(i);return r=uC(r),e.context===null?e.context=r:e.pendingContext=r,e=ji(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_s(i,e,o),t!==null&&(Cn(t,i,o,a),Cf(t,i,o)),o}function bm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Yw(t,e){t_(t,e),(t=t.alternate)&&t_(t,e)}function GL(){return null}var hC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xw(t){this._internalRoot=t}og.prototype.render=Xw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));ag(t,e,null,null)};og.prototype.unmount=Xw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ma(function(){ag(null,t,null,null)}),e[Pi]=null}};function og(t){this._internalRoot=t}og.prototype.unstable_scheduleHydration=function(t){if(t){var e=zP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ls.length&&e!==0&&e<ls[r].priority;r++);ls.splice(r,0,t),r===0&&HP(t)}};function Qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function r_(){}function KL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=bm(o);a.call(u)}}var o=dC(e,n,t,0,null,!1,!1,"",r_);return t._reactRootContainer=o,t[Pi]=o.current,Ku(t.nodeType===8?t.parentNode:t),Ma(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=bm(c);l.call(u)}}var c=Kw(t,0,!1,null,null,!1,!1,"",r_);return t._reactRootContainer=c,t[Pi]=c.current,Ku(t.nodeType===8?t.parentNode:t),Ma(function(){ag(e,c,r,n)}),c}function cg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=bm(o);l.call(c)}}ag(e,o,t,i)}else o=KL(r,e,t,i,n);return bm(o)}BP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ou(e.pendingLanes);r!==0&&(gw(e,r|1),Mr(e,_t()),!(Re&6)&&(dl=_t()+500,qs()))}break;case 13:Ma(function(){var n=Ii(t,1);if(n!==null){var i=Sr();Cn(n,t,1,i)}}),Yw(t,1)}};xw=function(t){if(t.tag===13){var e=Ii(t,134217728);if(e!==null){var r=Sr();Cn(e,t,134217728,r)}Yw(t,134217728)}};UP=function(t){if(t.tag===13){var e=ks(t),r=Ii(t,e);if(r!==null){var n=Sr();Cn(r,t,e,n)}Yw(t,e)}};zP=function(){return He};WP=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};yy=function(t,e,r){switch(e){case"input":if(hy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Zp(n);if(!i)throw Error(Z(90));wP(n),hy(n,i)}}}break;case"textarea":NP(t,r);break;case"select":e=r.value,e!=null&&Ho(t,!!r.multiple,e,!1)}};PP=Ww;IP=Ma;var YL={usingClientEntryPoint:!1,Events:[nh,Co,Zp,TP,EP,Ww]},Wc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XL={bundleType:Wc.bundleType,version:Wc.version,rendererPackageName:Wc.rendererPackageName,rendererConfig:Wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MP(t),t===null?null:t.stateNode},findFiberByHostInstance:Wc.findFiberByHostInstance||GL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Yp=nf.inject(XL),Hn=nf}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YL;Xr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qw(e))throw Error(Z(200));return qL(t,e,null,r)};Xr.createRoot=function(t,e){if(!Qw(t))throw Error(Z(299));var r=!1,n="",i=hC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kw(t,1,!1,null,null,r,!1,n,i),t[Pi]=e.current,Ku(t.nodeType===8?t.parentNode:t),new Xw(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=MP(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return Ma(t)};Xr.hydrate=function(t,e,r){if(!lg(e))throw Error(Z(200));return cg(null,t,e,!0,r)};Xr.hydrateRoot=function(t,e,r){if(!Qw(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=hC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=dC(e,null,t,1,r??null,i,!1,a,o),t[Pi]=e.current,Ku(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new og(e)};Xr.render=function(t,e,r){if(!lg(e))throw Error(Z(200));return cg(null,t,e,!1,r)};Xr.unmountComponentAtNode=function(t){if(!lg(t))throw Error(Z(40));return t._reactRootContainer?(Ma(function(){cg(null,null,t,!1,function(){t._reactRootContainer=null,t[Pi]=null})}),!0):!1};Xr.unstable_batchedUpdates=Ww;Xr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lg(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return cg(t,e,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function fC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fC)}catch(t){console.error(t)}}fC(),fP.exports=Xr;var QL=fP.exports,n_=QL;sy.createRoot=n_.createRoot,sy.hydrateRoot=n_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const i_="popstate";function JL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Jy("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:wm(i)}return e$(e,r,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZL(){return Math.random().toString(36).substr(2,8)}function s_(t,e){return{usr:t.state,key:t.key,idx:e}}function Jy(t,e,r,n){return r===void 0&&(r=null),nd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xl(e):e,{state:r,key:e&&e.key||n||ZL()})}function wm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function e$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=xs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(nd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=xs.Pop;let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:b.location,delta:g})}function f(x,g){l=xs.Push;let y=Jy(b.location,x,g);u=d()+1;let w=s_(y,u),k=b.createHref(y);try{o.pushState(w,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(k)}a&&c&&c({action:l,location:b.location,delta:1})}function p(x,g){l=xs.Replace;let y=Jy(b.location,x,g);u=d();let w=s_(y,u),k=b.createHref(y);o.replaceState(w,"",k),a&&c&&c({action:l,location:b.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:wm(x);return y=y.replace(/ $/,"%20"),St(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let b={get action(){return l},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(i_,h),c=x,()=>{i.removeEventListener(i_,h),c=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return b}var a_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(a_||(a_={}));function t$(t,e,r){return r===void 0&&(r="/"),r$(t,e,r)}function r$(t,e,r,n){let i=typeof e=="string"?Xl(e):e,a=Zw(i.pathname||"/",r);if(a==null)return null;let o=mC(t);n$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=p$(a);l=h$(o[c],u)}return l}function mC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ts([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:u$(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of pC(a.path))i(a,o,c)}),e}function pC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=pC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function n$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:d$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const i$=/^:[\w-]+$/,s$=3,a$=2,o$=1,l$=10,c$=-2,o_=t=>t==="*";function u$(t,e){let r=t.split("/"),n=r.length;return r.some(o_)&&(n+=c$),e&&(n+=a$),r.filter(i=>!o_(i)).reduce((i,a)=>i+(i$.test(a)?s$:a===""?o$:l$),n)}function d$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function h$(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=f$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ts([a,h.pathname]),pathnameBase:b$(Ts([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Ts([a,h.pathnameBase]))}return o}function f$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=m$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function m$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Jw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function p$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const g$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x$=t=>g$.test(t);function v$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Xl(t):t,a;if(r)if(x$(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Jw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=l_(r.substring(1),"/"):a=l_(r,e)}else a=e;return{pathname:a,search:w$(n),hash:j$(i)}}function l_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function uv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ej(t,e){let r=y$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tj(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Xl(t):(i=nd({},t),St(!i.pathname||!i.pathname.includes("?"),uv("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),uv("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),uv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=v$(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),b$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gC=["post","put","patch","delete"];new Set(gC);const _$=["get",...gC];new Set(_$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},id.apply(this,arguments)}const rj=P.createContext(null),S$=P.createContext(null),Gs=P.createContext(null),ug=P.createContext(null),Bi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),xC=P.createContext(null);function k$(t,e){let{relative:r}=e===void 0?{}:e;Ql()||St(!1);let{basename:n,navigator:i}=P.useContext(Gs),{hash:a,pathname:o,search:l}=yC(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ts([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Ql(){return P.useContext(ug)!=null}function Ks(){return Ql()||St(!1),P.useContext(ug).location}function vC(t){P.useContext(Gs).static||P.useLayoutEffect(t)}function ve(){let{isDataRoute:t}=P.useContext(Bi);return t?V$():A$()}function A$(){Ql()||St(!1);let t=P.useContext(rj),{basename:e,future:r,navigator:n}=P.useContext(Gs),{matches:i}=P.useContext(Bi),{pathname:a}=Ks(),o=JSON.stringify(ej(i,r.v7_relativeSplatPath)),l=P.useRef(!1);return vC(()=>{l.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=tj(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ts([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function Jl(){let{matches:t}=P.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function yC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=P.useContext(Gs),{matches:i}=P.useContext(Bi),{pathname:a}=Ks(),o=JSON.stringify(ej(i,n.v7_relativeSplatPath));return P.useMemo(()=>tj(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function T$(t,e){return E$(t,e)}function E$(t,e,r,n){Ql()||St(!1);let{navigator:i}=P.useContext(Gs),{matches:a}=P.useContext(Bi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ks(),d;if(e){var h;let x=typeof e=="string"?Xl(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||St(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=t$(t,{pathname:p}),b=M$(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ts([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ts([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&b?P.createElement(ug.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xs.Pop}},b):b}function P$(){let t=$$(),e=N$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const I$=P.createElement(P$,null);class C$ extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(Bi.Provider,{value:this.props.routeContext},P.createElement(xC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O$(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(rj);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(Bi.Provider,{value:e},n)}function M$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||St(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,b=null,x=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||I$,c&&(u<0&&f===0?(F$("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=b:v?w=x:h.route.Component?w=P.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,P.createElement(O$,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(C$,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var bC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bC||{}),wC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wC||{});function D$(t){let e=P.useContext(rj);return e||St(!1),e}function R$(t){let e=P.useContext(S$);return e||St(!1),e}function L$(t){let e=P.useContext(Bi);return e||St(!1),e}function jC(t){let e=L$(),r=e.matches[e.matches.length-1];return r.route.id||St(!1),r.route.id}function $$(){var t;let e=P.useContext(xC),r=R$(),n=jC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function V$(){let{router:t}=D$(bC.UseNavigateStable),e=jC(wC.UseNavigateStable),r=P.useRef(!1);return vC(()=>{r.current=!0}),P.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},a)))},[t,e])}const c_={};function F$(t,e,r){c_[t]||(c_[t]=!0)}function B$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function U$(t){let{to:e,replace:r,state:n,relative:i}=t;Ql()||St(!1);let{future:a,static:o}=P.useContext(Gs),{matches:l}=P.useContext(Bi),{pathname:c}=Ks(),u=ve(),d=tj(e,ej(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return P.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function fe(t){St(!1)}function z$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=xs.Pop,navigator:a,static:o=!1,future:l}=t;Ql()&&St(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:a,static:o,future:id({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Xl(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,b=P.useMemo(()=>{let x=Zw(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[c,d,h,f,p,v,i]);return b==null?null:P.createElement(Gs.Provider,{value:u},P.createElement(ug.Provider,{children:r,value:b}))}function W$(t){let{children:e,location:r}=t;return T$(Zy(e),r)}new Promise(()=>{});function Zy(t,e){e===void 0&&(e=[]);let r=[];return P.Children.forEach(t,(n,i)=>{if(!P.isValidElement(n))return;let a=[...e,i];if(n.type===P.Fragment){r.push.apply(r,Zy(n.props.children,a));return}n.type!==fe&&St(!1),!n.props.index||!n.props.children||St(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zy(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eb.apply(this,arguments)}function H$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function q$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G$(t,e){return t.button===0&&(!e||e==="_self")&&!q$(t)}function tb(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function K$(t,e){let r=tb(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const Y$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],X$="6";try{window.__reactRouterVersion=X$}catch{}const Q$="startTransition",u_=F5[Q$];function J$(t){let{basename:e,children:r,future:n,window:i}=t,a=P.useRef();a.current==null&&(a.current=JL({window:i,v5Compat:!0}));let o=a.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=P.useCallback(h=>{u&&u_?u_(()=>c(h)):c(h)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>B$(n),[n]),P.createElement(z$,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Z$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y=P.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=H$(e,Y$),{basename:p}=P.useContext(Gs),v,b=!1;if(typeof u=="string"&&e8.test(u)&&(v=u,Z$))try{let w=new URL(window.location.href),k=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Zw(k.pathname,p);k.origin===w.origin&&j!=null?u=j+k.search+k.hash:b=!0}catch{}let x=k$(u,{relative:i}),g=t8(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||g(w)}return P.createElement("a",eb({},f,{href:v||x,onClick:b||a?n:y,ref:r,target:c}))});var d_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(d_||(d_={}));var h_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(h_||(h_={}));function t8(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ve(),u=Ks(),d=yC(t,{relative:o});return P.useCallback(h=>{if(G$(h,r)){h.preventDefault();let f=n!==void 0?n:wm(u)===wm(d);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function r8(t){let e=P.useRef(tb(t)),r=P.useRef(!1),n=Ks(),i=P.useMemo(()=>K$(n.search,r.current?null:e.current),[n.search]),a=ve(),o=P.useCallback((l,c)=>{const u=tb(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const ct={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",MESSAGES:"marketing_management_website_messages",WEBSITE_ANALYTICS:"marketing_management_website_website_analytics",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics"},NC=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],dv=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",googleAnalyticsPropertyId:"G-XXXXXXXXXX",googleAnalyticsViewId:"123456789",createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",googleAnalyticsPropertyId:"G-YYYYYYYYYY",googleAnalyticsViewId:"987654321",createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","linkedin","twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",socialMediaPlatforms:["instagram","tiktok","facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",socialMediaPlatforms:["linkedin","facebook","youtube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")},{id:"proj-26",name:"Learnership Application System",description:"Online learnership application and management platform for skills development programs",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://speccon.co.za/learnership-application.html",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-01-15")}],n8=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],i8=[{id:"message-1",senderId:"user-1",recipientId:"user-2",subject:"Project Priority Update",content:"Hi John, I've updated the priority for the SpecCon project. Please focus on the mobile navigation fixes first as they're impacting user experience significantly.",isRead:!1,isBroadcast:!1,projectId:"proj-1",createdAt:new Date("2025-02-09T08:00:00"),updatedAt:new Date("2025-02-09T08:00:00")},{id:"message-2",senderId:"user-4",recipientId:"user-1",subject:"Social Media Campaign Performance",content:"The Q1 social media campaign is performing well. We've exceeded engagement targets by 25%. Should we allocate additional budget for boosted posts?",isRead:!0,isBroadcast:!1,projectId:"proj-21",createdAt:new Date("2025-02-08T14:30:00"),updatedAt:new Date("2025-02-08T14:30:00")},{id:"message-3",senderId:"user-5",recipientId:"user-3",subject:"Andebe Platform Requirements",content:"For the Andebe platform, we need to ensure all training modules include progress tracking and certificate generation. The client wants this to be mandatory for all courses.",isRead:!1,isBroadcast:!1,projectId:"proj-2",createdAt:new Date("2025-02-09T10:15:00"),updatedAt:new Date("2025-02-09T10:15:00")},{id:"message-4",senderId:"user-1",recipientId:void 0,subject:"System Maintenance Notice",content:"Heads up team! We'll be performing system maintenance this Friday from 10 PM to 12 AM SAST. All services will be temporarily unavailable. Please save your work before then.",isRead:!1,isBroadcast:!0,createdAt:new Date("2025-02-07T16:00:00"),updatedAt:new Date("2025-02-07T16:00:00")},{id:"message-5",senderId:"user-2",recipientId:"user-4",subject:"Website Launch Coordination",content:"Sarah, the InfinityNPO website is ready for launch. Can we coordinate the social media posts to go live simultaneously with the website deployment?",isRead:!0,isBroadcast:!1,projectId:"proj-5",createdAt:new Date("2025-02-08T11:45:00"),updatedAt:new Date("2025-02-08T11:45:00")},{id:"message-6",senderId:"user-6",recipientId:"user-1",subject:"New Project Timeline",content:"I've reviewed the proposed timeline for the Venueideas platform. The 3-month timeline seems aggressive. Can we extend it to 4 months to ensure quality?",isRead:!1,isBroadcast:!1,projectId:"proj-10",createdAt:new Date("2025-02-09T13:20:00"),updatedAt:new Date("2025-02-09T13:20:00")},{id:"message-7",senderId:"user-3",recipientId:"user-5",subject:"Design Feedback Request",content:"Michael, I've completed the initial design mockups for the Megrolowveld website. Could you please review them and let me know your thoughts on the color scheme and layout?",isRead:!0,isBroadcast:!1,projectId:"proj-3",createdAt:new Date("2025-02-08T09:30:00"),updatedAt:new Date("2025-02-08T09:30:00")}],s8=[{id:"analytics-1",projectId:"proj-1",date:new Date("2025-02-01"),pageViews:1250,uniqueVisitors:890,bounceRate:42.5,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-2",projectId:"proj-1",date:new Date("2025-02-08"),pageViews:1580,uniqueVisitors:1120,bounceRate:38.2,recordedBy:"user-2",createdAt:new Date("2025-02-09")},{id:"analytics-3",projectId:"proj-3",date:new Date("2025-02-01"),pageViews:2340,uniqueVisitors:1650,bounceRate:35.8,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-4",projectId:"proj-3",date:new Date("2025-02-08"),pageViews:2890,uniqueVisitors:2010,bounceRate:33.1,recordedBy:"user-2",createdAt:new Date("2025-02-09")}],a8=[{id:"social-1",projectId:"proj-1",platform:"facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"linkedin",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}];function Zl(t,e){if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error loading ${t} from localStorage:`,r),e}}function ai(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error saving ${t} to localStorage:`,r)}}function Le(){return Zl(ct.USERS,NC)}function o8(t,e){const n=Le().map(i=>i.id===t?{...i,...e,updatedAt:new Date}:i);ai(ct.USERS,n)}function l8(t){const r=Le().map(n=>n.id===t?{...n,isActive:!n.isActive,updatedAt:new Date}:n);ai(ct.USERS,r)}function kt(){const t=Zl(ct.PROJECTS,dv);return t.length===0?(ai(ct.PROJECTS,dv),dv):t}function Jt(){return Zl(ct.TICKETS,n8)}function c8(t){const r=[...Jt(),t];ai(ct.TICKETS,r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("ticketsUpdated"))}function Ni(t,e){const r=Jt(),n=r.find(l=>l.id===t);if(!n)return;const i=n.assignedTo,a=e.assignedTo,o=r.map(l=>l.id===t?{...l,...e,updatedAt:new Date}:l);if(ai(ct.TICKETS,o),a&&a!==i&&jm(a)){const c={id:`message-${Date.now()}`,senderId:"system",recipientId:a,subject:"New Ticket Assigned",content:`You have been assigned a new ticket: "${n.title}". Please check your tickets.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},u=JSON.parse(localStorage.getItem(ct.MESSAGES)||"[]");u.push(c),localStorage.setItem(ct.MESSAGES,JSON.stringify(u))}if(e.status==="resolved"&&n.status!=="resolved"){e.resolvedAt=new Date;const l=jm(n.createdBy);if(l&&l.role==="client"){const u={id:`message-${Date.now()}`,senderId:"system",recipientId:n.createdBy,subject:"Ticket Resolved",content:`Your ticket "${n.title}" has been resolved. Please review the changes.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},d=JSON.parse(localStorage.getItem(ct.MESSAGES)||"[]");d.push(u),localStorage.setItem(ct.MESSAGES,JSON.stringify(d))}Le().filter(u=>u.role==="admin").forEach(u=>{const d={id:`message-${Date.now()}-admin-${u.id}`,senderId:"system",recipientId:u.id,subject:"Ticket Resolved",content:`Ticket "${n.title}" has been marked as resolved.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},h=JSON.parse(localStorage.getItem(ct.MESSAGES)||"[]");h.push(d),localStorage.setItem(ct.MESSAGES,JSON.stringify(h))})}typeof window<"u"&&window.dispatchEvent(new CustomEvent("ticketsUpdated"))}function u8(t){const r=[...Le(),t];ai(ct.USERS,r)}function sh(){return Zl(ct.MESSAGES,i8)}function nj(){return Zl(ct.WEBSITE_ANALYTICS,s8)}function Qa(){return Zl(ct.SOCIAL_ANALYTICS,a8)}function d8(t){const r=[...Qa(),t];ai(ct.SOCIAL_ANALYTICS,r)}function jm(t){return Le().find(e=>e.id===t)}function Ja(t){return kt().find(e=>e.id===t)}function h8(t){return Jt().find(e=>e.id===t)}function xn(t,e){const r=kt();return e==="admin"?r:e==="web_developer"?r.filter(n=>n.webDeveloperId===t):e==="social_media_coordinator"?r.filter(n=>n.socialMediaCoordinatorId===t):e==="client"?r.filter(n=>n.clientId===t):[]}function dg(t){return Jt().filter(e=>e.projectId===t)}function ec(t,e){const r=Jt();if(e==="admin")return r;if(e==="web_developer")return r.filter(n=>n.assignedTo===t);if(e==="client")return r.filter(n=>n.createdBy===t);if(e==="social_media_coordinator"){const i=xn(t,e).map(a=>a.id);return r.filter(a=>i.includes(a.projectId))}return[]}function Da(t){return sh().filter(e=>e.senderId===t||e.recipientId===t||e.isBroadcast)}function f8(t){return Da(t).filter(e=>!e.isRead&&(e.recipientId===t||e.isBroadcast))}function m8(t){const r=sh().map(n=>n.id===t?{...n,isRead:!0,updatedAt:new Date}:n);ai(ct.MESSAGES,r)}function p8(t){const e=sh(),r=e.filter(n=>n.id!==t);return r.length<e.length?(ai(ct.MESSAGES,r),!0):!1}function _C(t){const r=[...sh(),t];ai(ct.MESSAGES,r)}function rb(t,e){const r=h8(t),n=jm(e);if(!r||!n)return;Le().filter(a=>a.role==="admin").forEach(a=>{const o={id:`message-${Date.now()}-resolution-${a.id}`,senderId:n.id,recipientId:a.id,subject:"Ticket Resolution Notification",content:`Developer ${n.fullName} has resolved ticket "${r.title}". Please review and close the ticket if appropriate.`,isRead:!1,isBroadcast:!1,projectId:r.projectId,createdAt:new Date,updatedAt:new Date};_C(o)})}function f_(t){return{website:nj().filter(e=>e.projectId===t),social:Qa().filter(e=>e.projectId===t)}}function g8(t){const e=Le(),r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(localStorage.setItem(ct.USERS,JSON.stringify(r)),!0)}function m_(t,e){const r=kt(),n=r.findIndex(i=>i.id===t);return n===-1?null:(r[n]={...r[n],...e,updatedAt:new Date},localStorage.setItem(ct.PROJECTS,JSON.stringify(r)),r[n])}const x8=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},v8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},kC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),n.push(r[d],r[h],r[f],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):v8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||h==null)throw new y8;const f=a<<2|l>>4;if(n.push(f),u!==64){const p=l<<4&240|u>>2;if(n.push(p),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b8=function(t){const e=SC(t);return kC.encodeByteArray(e,!0)},Nm=function(t){return b8(t).replace(/\./g,"")},AC=function(t){try{return kC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=()=>w8().__FIREBASE_DEFAULTS__,N8=()=>{if(typeof process>"u"||typeof p_>"u")return;const t=p_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AC(t[1]);return e&&JSON.parse(e)},hg=()=>{try{return x8()||j8()||N8()||_8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TC=t=>{var e,r;return(r=(e=hg())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},S8=t=>{const e=TC(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},EC=()=>{var t;return(t=hg())==null?void 0:t.config},PC=t=>{var e;return(e=hg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nm(JSON.stringify(r)),Nm(JSON.stringify(o)),""].join(".")}const ku={};function T8(){const t={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?t.emulator.push(e):t.prod.push(e);return t}function E8(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let g_=!1;function CC(t,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||ku[t]===e||ku[t]||g_)return;ku[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=T8().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{g_=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=E8(n),p=r("text"),v=document.getElementById(p)||document.createElement("span"),b=r("learnmore"),x=document.getElementById(b)||document.createElement("a"),g=r("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),d(x,b);const k=u();c(y,g),w.append(y,v,x,k),document.body.appendChild(w)}a?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function I8(){var e;const t=(e=hg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D8(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R8(){return!I8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L8(){try{return typeof indexedDB=="object"}catch{return!1}}function $8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="FirebaseError";class Ui extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=V8,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?F8(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ui(i,l,n)}}function F8(t,e){return t.replace(B8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const B8=/\{\$([^}]+)}/g;function U8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(x_(a)&&x_(o)){if(!Ra(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function x_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function uu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function z8(t,e){const r=new W8(t,e);return r.subscribe.bind(r)}class W8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");H8(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=hv),i.error===void 0&&(i.error=hv),i.complete===void 0&&(i.complete=hv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function hv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class La{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new k8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K8(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:G8(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G8(t){return t===da?void 0:t}function K8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new q8(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const X8={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Q8=Ce.INFO,J8={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Z8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=J8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ij{constructor(e){this.name=e,this._logLevel=Q8,this._logHandler=Z8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const e9=(t,e)=>e.some(r=>t instanceof r);let v_,y_;function t9(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r9(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,nb=new WeakMap,MC=new WeakMap,fv=new WeakMap,sj=new WeakMap;function n9(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Es(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&OC.set(r,t)}).catch(()=>{}),sj.set(e,t),e}function i9(t){if(nb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});nb.set(t,e)}let ib={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Es(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s9(t){ib=t(ib)}function a9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(mv(this),e,...r);return MC.set(n,e.sort?e.sort():[e]),Es(n)}:r9().includes(t)?function(...e){return t.apply(mv(this),e),Es(OC.get(this))}:function(...e){return Es(t.apply(mv(this),e))}}function o9(t){return typeof t=="function"?a9(t):(t instanceof IDBTransaction&&i9(t),e9(t,t9())?new Proxy(t,ib):t)}function Es(t){if(t instanceof IDBRequest)return n9(t);if(fv.has(t))return fv.get(t);const e=o9(t);return e!==t&&(fv.set(t,e),sj.set(e,t)),e}const mv=t=>sj.get(t);function l9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Es(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Es(o.result),c.oldVersion,c.newVersion,Es(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const c9=["get","getKey","getAll","getAllKeys","count"],u9=["put","add","delete","clear"],pv=new Map;function b_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=u9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||c9.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return pv.set(e,a),a}s9(t=>({...t,get:(e,r,n)=>b_(e,r)||t.get(e,r,n),has:(e,r)=>!!b_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(h9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function h9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sb="@firebase/app",w_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new ij("@firebase/app"),f9="@firebase/app-compat",m9="@firebase/analytics-compat",p9="@firebase/analytics",g9="@firebase/app-check-compat",x9="@firebase/app-check",v9="@firebase/auth",y9="@firebase/auth-compat",b9="@firebase/database",w9="@firebase/data-connect",j9="@firebase/database-compat",N9="@firebase/functions",_9="@firebase/functions-compat",S9="@firebase/installations",k9="@firebase/installations-compat",A9="@firebase/messaging",T9="@firebase/messaging-compat",E9="@firebase/performance",P9="@firebase/performance-compat",I9="@firebase/remote-config",C9="@firebase/remote-config-compat",O9="@firebase/storage",M9="@firebase/storage-compat",D9="@firebase/firestore",R9="@firebase/ai",L9="@firebase/firestore-compat",$9="firebase",V9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="[DEFAULT]",F9={[sb]:"fire-core",[f9]:"fire-core-compat",[p9]:"fire-analytics",[m9]:"fire-analytics-compat",[x9]:"fire-app-check",[g9]:"fire-app-check-compat",[v9]:"fire-auth",[y9]:"fire-auth-compat",[b9]:"fire-rtdb",[w9]:"fire-data-connect",[j9]:"fire-rtdb-compat",[N9]:"fire-fn",[_9]:"fire-fn-compat",[S9]:"fire-iid",[k9]:"fire-iid-compat",[A9]:"fire-fcm",[T9]:"fire-fcm-compat",[E9]:"fire-perf",[P9]:"fire-perf-compat",[I9]:"fire-rc",[C9]:"fire-rc-compat",[O9]:"fire-gcs",[M9]:"fire-gcs-compat",[D9]:"fire-fst",[L9]:"fire-fst-compat",[R9]:"fire-vertex","fire-js":"fire-js",[$9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,B9=new Map,ob=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(r){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function hl(t){const e=t.name;if(ob.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;ob.set(e,t);for(const r of sd.values())j_(r,t);for(const r of B9.values())j_(r,t);return!0}function aj(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new ah("app","Firebase",U9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=V9;function DC(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:ab,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(r||(r=EC()),!r)throw Ps.create("no-options");const a=sd.get(i);if(a){if(Ra(r,a.options)&&Ra(n,a.config))return a;throw Ps.create("duplicate-app",{appName:i})}const o=new Y8(i);for(const c of ob.values())o.addComponent(c);const l=new z9(r,n,o);return sd.set(i,l),l}function RC(t=ab){const e=sd.get(t);if(!e&&t===ab&&EC())return DC();if(!e)throw Ps.create("no-app",{appName:t});return e}function N_(){return Array.from(sd.values())}function Is(t,e,r){let n=F9[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(o.join(" "));return}hl(new La(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="firebase-heartbeat-database",H9=1,ad="firebase-heartbeat-store";let gv=null;function LC(){return gv||(gv=l9(W9,H9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),gv}async function q9(t){try{const r=(await LC()).transaction(ad),n=await r.objectStore(ad).get($C(t));return await r.done,n}catch(e){if(e instanceof Ui)Oi.warn(e.message);else{const r=Ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(r.message)}}}async function __(t,e){try{const n=(await LC()).transaction(ad,"readwrite");await n.objectStore(ad).put(e,$C(t)),await n.done}catch(r){if(r instanceof Ui)Oi.warn(r.message);else{const n=Ps.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Oi.warn(n.message)}}}function $C(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=1024,K9=30;class Y9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Q9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=S_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>K9){const o=J9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Oi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=S_(),{heartbeatsToSend:n,unsentEntries:i}=X9(this._heartbeatsCache.heartbeats),a=Nm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Oi.warn(r),""}}}function S_(){return new Date().toISOString().substring(0,10)}function X9(t,e=G9){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),k_(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),k_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Q9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L8()?$8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await q9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return __(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function k_(t){return Nm(JSON.stringify({version:2,heartbeats:t})).length}function J9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){hl(new La("platform-logger",e=>new d9(e),"PRIVATE")),hl(new La("heartbeat",e=>new Y9(e),"PRIVATE")),Is(sb,w_,t),Is(sb,w_,"esm2020"),Is("fire-js","")}Z9("");var eV="firebase",tV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is(eV,tV,"app");function VC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rV=VC,FC=new ah("auth","Firebase",VC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new ij("@firebase/auth");function nV(t,...e){_m.logLevel<=Ce.WARN&&_m.warn(`Auth (${rc}): ${t}`,...e)}function Vf(t,...e){_m.logLevel<=Ce.ERROR&&_m.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw oj(t,...e)}function Gn(t,...e){return oj(t,...e)}function BC(t,e,r){const n={...rV(),[e]:r};return new ah("auth","Firebase",n).create(e,{appName:t.name})}function _i(t){return BC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return FC.create(t,...e)}function ge(t,e,...r){if(!t)throw oj(e,...r)}function xi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Mi(t,e){t||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iV(){return A_()==="http:"||A_()==="https:"}function A_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iV()||O8()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Mi(r>e,"Short delay should be less than long delay!"),this.isMobile=P8()||M8()}get(){return sV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e){Mi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cV=new lh(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,r,n,i={}){return zC(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=oh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return C8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&tc(t.emulatorConfig.host)&&(u.credentials="include"),UC.fetch()(await WC(t,t.config.apiHost,r,l),u)})}async function zC(t,e,r){t._canInitEmulator=!1;const n={...oV,...e};try{const i=new dV(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw sf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw sf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw sf(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BC(t,d,u);Dn(t,d)}}catch(i){if(i instanceof Ui)throw i;Dn(t,"network-request-failed",{message:String(i)})}}async function ch(t,e,r,n,i={}){const a=await Xs(t,e,r,n,i);return"mfaPendingCredential"in a&&Dn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function WC(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?lj(t.config,i):`${t.config.apiScheme}://${i}`;return lV.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function uV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Gn(this.auth,"network-request-failed")),cV.get())})}}function sf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Gn(t,e,n);return i.customData._tokenResponse=r,i}function T_(t){return t!==void 0&&t.enterprise!==void 0}class hV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return uV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fV(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function Sm(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pV(t,e=!1){const r=Yr(t),n=await r.getIdToken(e),i=cj(n);ge(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Au(xv(i.auth_time)),issuedAtTime:Au(xv(i.iat)),expirationTime:Au(xv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xv(t){return Number(t)*1e3}function cj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(r);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function E_(t){const e=cj(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ui&&gV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function km(t){var h;const e=t.auth,r=await t.getIdToken(),n=await od(t,Sm(e,{idToken:r}));ge(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?HC(i.providerUserInfo):[],o=yV(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function vV(t){const e=Yr(t);await km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yV(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function HC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){const r=await zC(t,{},async()=>{const n=oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await WC(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&tc(t.emulatorConfig.host)&&(c.credentials="include"),UC.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wV(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const r=E_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await bV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Qo;return n&&(ge(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ge(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new xV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await od(this,this.stsTokenManager.getToken(this.auth,e));return ge(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return pV(this,e)}reload(){return vV(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await km(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await od(this,mV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:v,stsTokenManager:b}=r;ge(h&&b,e,"internal-error");const x=Qo.fromJSON(this.name,b);ge(typeof h=="string",e,"internal-error"),ts(n,e.name),ts(i,e.name),ge(typeof f=="boolean",e,"internal-error"),ge(typeof p=="boolean",e,"internal-error"),ts(a,e.name),ts(o,e.name),ts(l,e.name),ts(c,e.name),ts(u,e.name),ts(d,e.name);const g=new En({uid:h,auth:e,email:i,emailVerified:f,displayName:n,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:x,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(g.providerData=v.map(y=>({...y}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,r,n=!1){const i=new Qo;i.updateFromServerResponse(r);const a=new En({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await km(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ge(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?HC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Qo;l.updateFromIdToken(n);const c=new En({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function vi(t){Mi(t instanceof Function,"Expected a class definition");let e=P_.get(t);return e?(Mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}qC.type="NONE";const I_=qC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e,r){return`firebase:${t}:${e}:${r}`}class Jo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Ff(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ff("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Sm(this.auth,{idToken:e}).catch(()=>{});return r?En._fromGetAccountInfoResponse(this.auth,r,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Jo(vi(I_),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||vi(I_);const o=Ff(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Sm(e,{idToken:d}).catch(()=>{});if(!f)break;h=await En._fromGetAccountInfoResponse(e,f,d)}else h=En._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Jo(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Jo(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JC(e))return"Blackberry";if(ZC(e))return"Webos";if(KC(e))return"Safari";if((e.includes("chrome/")||YC(e))&&!e.includes("edge/"))return"Chrome";if(QC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function GC(t=yr()){return/firefox\//i.test(t)}function KC(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YC(t=yr()){return/crios\//i.test(t)}function XC(t=yr()){return/iemobile/i.test(t)}function QC(t=yr()){return/android/i.test(t)}function JC(t=yr()){return/blackberry/i.test(t)}function ZC(t=yr()){return/webos/i.test(t)}function uj(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jV(t=yr()){var e;return uj(t)&&!!((e=window.navigator)!=null&&e.standalone)}function NV(){return D8()&&document.documentMode===10}function e4(t=yr()){return uj(t)||QC(t)||ZC(t)||JC(t)||/windows phone/i.test(t)||XC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e=[]){let r;switch(t){case"Browser":r=C_(yr());break;case"Worker":r=`${C_(yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${rc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=6;class AV{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??kV,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new _V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=vi(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Sm(this,{idToken:e}),n=await En._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await km(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(_i(this));const r=e?Yr(e):null;return r&&ge(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SV(this),r=new AV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ah("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await wV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&vi(e)||this._popupRedirectResolver;ge(r,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[vi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&nV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Za(t){return Yr(t)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=z8(r=>this.observer=r)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EV(t){fg=t}function r4(t){return fg.loadJS(t)}function PV(){return fg.recaptchaEnterpriseScript}function IV(){return fg.gapiScript}function CV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OV{constructor(){this.enterprise=new MV}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class MV{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const DV="recaptcha-enterprise",n4="NO_RECAPTCHA";class RV{constructor(e){this.type=DV,this.auth=Za(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{fV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new hV(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;T_(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(n4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OV().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&T_(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=PV();c.length!==0&&(c+=l),r4(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function M_(t,e,r,n=!1,i=!1){const a=new RV(t);let o;if(i)o=n4;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ub(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await M_(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await M_(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t,e){const r=aj(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ra(a,e??{}))return i;Dn(i,"already-initialized")}return r.initialize({options:e})}function $V(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,r){const n=Za(t);ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=i4(e),{host:o,port:l}=FV(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ge(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ge(Ra(u,n.config.emulator)&&Ra(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,tc(o)?(IC(`${a}//${o}${c}`),CC("Auth",!0)):BV()}function i4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){const e=i4(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:D_(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:D_(o)}}}function D_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,r){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function UV(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return ch(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function HV(t,e){return ch(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends dj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ld(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ld(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,r,"signInWithPassword",zV);case"emailLink":return WV(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,n,"signUpPassword",UV);case"emailLink":return HV(e,{idToken:r,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t,e){return ch(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="http://localhost";class $a extends dj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Dn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new $a(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Zo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Zo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Zo(e,r)}buildRequest(){const e={requestUri:qV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=oh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KV(t){const e=cu(uu(t)).link,r=e?cu(uu(e)).deep_link_id:null,n=cu(uu(t)).deep_link_id;return(n?cu(uu(n)).link:null)||n||r||e||t}class hj{constructor(e){const r=cu(uu(e)),n=r.apiKey??null,i=r.oobCode??null,a=GV(r.mode??null);ge(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=KV(e);try{return new hj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.providerId=nc.PROVIDER_ID}static credential(e,r){return ld._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=hj.parseLink(r);return ge(n,"argument-error"),ld._fromEmailAndCode(e,n.code,n.tenantId)}}nc.PROVIDER_ID="password";nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends s4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends uh{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return $a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ds.credential(r,n)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends uh{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends uh{constructor(){super("twitter.com")}static credential(e,r){return $a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return fs.credential(r,n)}catch{return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com";fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e){return ch(t,"POST","/v1/accounts:signUp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await En._fromIdTokenResponse(e,n,i),o=R_(n);return new Va({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=R_(n);return new Va({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function R_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends Ui{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Am.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Am(e,r,n,i)}}function a4(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Am._fromErrorAndOperation(t,a,e,n):a})}async function XV(t,e,r=!1){const n=await od(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Va._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e,r=!1){const{auth:n}=t;if(an(n.app))return Promise.reject(_i(n));const i="reauthenticate";try{const a=await od(t,a4(n,i,e,t),r);ge(a.idToken,n,"internal-error");const o=cj(a.idToken);ge(o,n,"internal-error");const{sub:l}=o;return ge(t.uid===l,n,"user-mismatch"),Va._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Dn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e,r=!1){if(an(t.app))return Promise.reject(_i(t));const n="signIn",i=await a4(t,n,e),a=await Va._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function JV(t,e){return o4(Za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t){const e=Za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(t,e,r){if(an(t.app))return Promise.reject(_i(t));const n=Za(t),o=await ub(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&l4(t),c}),l=await Va._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function eF(t,e,r){return an(t.app)?Promise.reject(_i(t)):JV(Yr(t),nc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&l4(t),n})}function tF(t,e,r,n){return Yr(t).onIdTokenChanged(e,r,n)}function rF(t,e,r){return Yr(t).beforeAuthStateChanged(e,r)}function nF(t,e,r,n){return Yr(t).onAuthStateChanged(e,r,n)}function iF(t){return Yr(t).signOut()}const Tm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Tm,"1"),this.storage.removeItem(Tm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=1e3,aF=10;class u4 extends c4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);NV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},sF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}u4.type="LOCAL";const oF=u4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4 extends c4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}d4.type="SESSION";const h4=d4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new mg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await lF(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=fj("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function uF(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function dF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function fF(){return f4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="firebaseLocalStorageDb",mF=1,Em="firebaseLocalStorage",p4="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function pg(t,e){return t.transaction([Em],e?"readwrite":"readonly").objectStore(Em)}function pF(){const t=indexedDB.deleteDatabase(m4);return new dh(t).toPromise()}function db(){const t=indexedDB.open(m4,mF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Em,{keyPath:p4})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Em)?e(n):(n.close(),await pF(),e(await db()))})})}async function L_(t,e,r){const n=pg(t,!0).put({[p4]:e,value:r});return new dh(n).toPromise()}async function gF(t,e){const r=pg(t,!1).get(e),n=await new dh(r).toPromise();return n===void 0?null:n.value}function $_(t,e){const r=pg(t,!0).delete(e);return new dh(r).toPromise()}const xF=800,vF=3;class g4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await db(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>vF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mg._getInstance(fF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await dF(),!this.activeServiceWorker)return;this.sender=new cF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await db();return await L_(e,Tm,"1"),await $_(e,Tm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>gF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>$_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=pg(i,!1).getAll();return new dh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g4.type="LOCAL";const yF=g4;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e){return e?vi(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj extends dj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Zo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function wF(t){return o4(t.auth,new mj(t),t.bypassAuthState)}function jF(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),QV(r,new mj(t),t.bypassAuthState)}async function NF(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),XV(r,new mj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wF;case"linkViaPopup":case"linkViaRedirect":return NF;case"reauthViaPopup":case"reauthViaRedirect":return jF;default:Dn(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new lh(2e3,1e4);class Vo extends x4{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Mi(this.filter.length===1,"Popup operations only handle one event");const e=fj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_F.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="pendingRedirect",Bf=new Map;class kF extends x4{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const n=await AF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AF(t,e){const r=PF(e),n=EF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function TF(t,e){Bf.set(t._key(),e)}function EF(t){return vi(t._redirectPersistence)}function PF(t){return Ff(SF,t.config.apiKey,t.name)}async function IF(t,e,r=!1){if(an(t.app))return Promise.reject(_i(t));const n=Za(t),i=bF(n,e),o=await new kF(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=10*60*1e3;class OF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!v4(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Gn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CF&&this.cachedEventUids.clear(),this.cachedEventUids.has(V_(e))}saveEventToCache(e){this.cachedEventUids.add(V_(e)),this.lastProcessedEventTime=Date.now()}}function V_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LF=/^https?/;async function $F(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DF(t);for(const r of e)try{if(VF(r))return}catch{}Dn(t,"unauthorized-domain")}function VF(t){const e=lb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!LF.test(r))return!1;if(RF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new lh(3e4,6e4);function F_(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function BF(t){return new Promise((e,r)=>{var i,a,o;function n(){F_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F_(),r(Gn(t,"network-request-failed"))},timeout:FF.get()})}if((a=(i=Kn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Kn().gapi)!=null&&o.load)n();else{const l=CV("iframefcb");return Kn()[l]=()=>{gapi.load?n():r(Gn(t,"network-request-failed"))},r4(`${IV()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function UF(t){return Uf=Uf||BF(t),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new lh(5e3,15e3),WF="__/auth/iframe",HF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KF(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?lj(e,HF):`https://${t.config.authDomain}/${WF}`,n={apiKey:e.apiKey,appName:t.name,v:rc},i=GF.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${oh(n).slice(1)}`}async function YF(t){const e=await UF(t),r=Kn().gapi;return ge(r,t,"internal-error"),e.open({where:document.body,url:KF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),l=Kn().setTimeout(()=>{a(o)},zF.get());function c(){Kn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QF=500,JF=600,ZF="_blank",eB="http://localhost";class B_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tB(t,e,r,n=QF,i=JF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...XF,width:n.toString(),height:i.toString(),top:a,left:o},u=yr().toLowerCase();r&&(l=YC(u)?ZF:r),GC(u)&&(e=e||eB,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(jV(u)&&l!=="_self")return rB(e||"",l),new B_(null);const h=window.open(e||"",l,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new B_(h)}function rB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="__/auth/handler",iB="emulator/auth/handler",sB=encodeURIComponent("fac");async function U_(t,e,r,n,i,a){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:rc,eventId:i};if(e instanceof s4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof uh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${sB}=${encodeURIComponent(c)}`:"";return`${aB(t)}?${oh(l).slice(1)}${u}`}function aB({config:t}){return t.emulator?lj(t,iB):`https://${t.authDomain}/${nB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="webStorageSupport";class oB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h4,this._completeRedirectFn=IF,this._overrideRedirectResult=TF}async _openPopup(e,r,n,i){var o;Mi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await U_(e,r,n,lb(),i);return tB(e,a,fj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await U_(e,r,n,lb(),i);return uF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Mi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await YF(e),n=new OF(e);return r.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(vv,{type:vv},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[vv];a!==void 0&&r(!!a),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=$F(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return e4()||KC()||uj()}}const lB=oB;var z_="@firebase/auth",W_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dB(t){hl(new La("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t4(t)},u=new TV(n,i,a,c);return $V(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),hl(new La("auth-internal",e=>{const r=Za(e.getProvider("auth").getImmediate());return(n=>new cB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(z_,W_,uB(t)),Is(z_,W_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=5*60,fB=PC("authIdTokenMaxAge")||hB;let H_=null;const mB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>fB)return;const i=r==null?void 0:r.token;H_!==i&&(H_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pB(t=RC()){const e=aj(t,"auth");if(e.isInitialized())return e.getImmediate();const r=LV(t,{popupRedirectResolver:lB,persistence:[yF,oF,h4]}),n=PC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=mB(a.toString());rF(r,o,()=>o(r.currentUser)),tF(r,l=>o(l))}}const i=TC("auth");return i&&VV(r,`http://${i}`),r}function gB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}EV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Gn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",gB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dB("Browser");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,y4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function T(){}T.prototype=N.prototype,S.F=N.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(O,I,C){for(var M=Array(arguments.length-2),B=2;B<arguments.length;B++)M[B-2]=arguments[B];return N.prototype[I].apply(O,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,N,T){T||(T=0);const O=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)O[I]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(I=0;I<16;++I)O[I]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=S.g[0],T=S.g[1],I=S.g[2];let C=S.g[3],M;M=N+(C^T&(I^C))+O[0]+3614090360&4294967295,N=T+(M<<7&4294967295|M>>>25),M=C+(I^N&(T^I))+O[1]+3905402710&4294967295,C=N+(M<<12&4294967295|M>>>20),M=I+(T^C&(N^T))+O[2]+606105819&4294967295,I=C+(M<<17&4294967295|M>>>15),M=T+(N^I&(C^N))+O[3]+3250441966&4294967295,T=I+(M<<22&4294967295|M>>>10),M=N+(C^T&(I^C))+O[4]+4118548399&4294967295,N=T+(M<<7&4294967295|M>>>25),M=C+(I^N&(T^I))+O[5]+1200080426&4294967295,C=N+(M<<12&4294967295|M>>>20),M=I+(T^C&(N^T))+O[6]+2821735955&4294967295,I=C+(M<<17&4294967295|M>>>15),M=T+(N^I&(C^N))+O[7]+4249261313&4294967295,T=I+(M<<22&4294967295|M>>>10),M=N+(C^T&(I^C))+O[8]+1770035416&4294967295,N=T+(M<<7&4294967295|M>>>25),M=C+(I^N&(T^I))+O[9]+2336552879&4294967295,C=N+(M<<12&4294967295|M>>>20),M=I+(T^C&(N^T))+O[10]+4294925233&4294967295,I=C+(M<<17&4294967295|M>>>15),M=T+(N^I&(C^N))+O[11]+2304563134&4294967295,T=I+(M<<22&4294967295|M>>>10),M=N+(C^T&(I^C))+O[12]+1804603682&4294967295,N=T+(M<<7&4294967295|M>>>25),M=C+(I^N&(T^I))+O[13]+4254626195&4294967295,C=N+(M<<12&4294967295|M>>>20),M=I+(T^C&(N^T))+O[14]+2792965006&4294967295,I=C+(M<<17&4294967295|M>>>15),M=T+(N^I&(C^N))+O[15]+1236535329&4294967295,T=I+(M<<22&4294967295|M>>>10),M=N+(I^C&(T^I))+O[1]+4129170786&4294967295,N=T+(M<<5&4294967295|M>>>27),M=C+(T^I&(N^T))+O[6]+3225465664&4294967295,C=N+(M<<9&4294967295|M>>>23),M=I+(N^T&(C^N))+O[11]+643717713&4294967295,I=C+(M<<14&4294967295|M>>>18),M=T+(C^N&(I^C))+O[0]+3921069994&4294967295,T=I+(M<<20&4294967295|M>>>12),M=N+(I^C&(T^I))+O[5]+3593408605&4294967295,N=T+(M<<5&4294967295|M>>>27),M=C+(T^I&(N^T))+O[10]+38016083&4294967295,C=N+(M<<9&4294967295|M>>>23),M=I+(N^T&(C^N))+O[15]+3634488961&4294967295,I=C+(M<<14&4294967295|M>>>18),M=T+(C^N&(I^C))+O[4]+3889429448&4294967295,T=I+(M<<20&4294967295|M>>>12),M=N+(I^C&(T^I))+O[9]+568446438&4294967295,N=T+(M<<5&4294967295|M>>>27),M=C+(T^I&(N^T))+O[14]+3275163606&4294967295,C=N+(M<<9&4294967295|M>>>23),M=I+(N^T&(C^N))+O[3]+4107603335&4294967295,I=C+(M<<14&4294967295|M>>>18),M=T+(C^N&(I^C))+O[8]+1163531501&4294967295,T=I+(M<<20&4294967295|M>>>12),M=N+(I^C&(T^I))+O[13]+2850285829&4294967295,N=T+(M<<5&4294967295|M>>>27),M=C+(T^I&(N^T))+O[2]+4243563512&4294967295,C=N+(M<<9&4294967295|M>>>23),M=I+(N^T&(C^N))+O[7]+1735328473&4294967295,I=C+(M<<14&4294967295|M>>>18),M=T+(C^N&(I^C))+O[12]+2368359562&4294967295,T=I+(M<<20&4294967295|M>>>12),M=N+(T^I^C)+O[5]+4294588738&4294967295,N=T+(M<<4&4294967295|M>>>28),M=C+(N^T^I)+O[8]+2272392833&4294967295,C=N+(M<<11&4294967295|M>>>21),M=I+(C^N^T)+O[11]+1839030562&4294967295,I=C+(M<<16&4294967295|M>>>16),M=T+(I^C^N)+O[14]+4259657740&4294967295,T=I+(M<<23&4294967295|M>>>9),M=N+(T^I^C)+O[1]+2763975236&4294967295,N=T+(M<<4&4294967295|M>>>28),M=C+(N^T^I)+O[4]+1272893353&4294967295,C=N+(M<<11&4294967295|M>>>21),M=I+(C^N^T)+O[7]+4139469664&4294967295,I=C+(M<<16&4294967295|M>>>16),M=T+(I^C^N)+O[10]+3200236656&4294967295,T=I+(M<<23&4294967295|M>>>9),M=N+(T^I^C)+O[13]+681279174&4294967295,N=T+(M<<4&4294967295|M>>>28),M=C+(N^T^I)+O[0]+3936430074&4294967295,C=N+(M<<11&4294967295|M>>>21),M=I+(C^N^T)+O[3]+3572445317&4294967295,I=C+(M<<16&4294967295|M>>>16),M=T+(I^C^N)+O[6]+76029189&4294967295,T=I+(M<<23&4294967295|M>>>9),M=N+(T^I^C)+O[9]+3654602809&4294967295,N=T+(M<<4&4294967295|M>>>28),M=C+(N^T^I)+O[12]+3873151461&4294967295,C=N+(M<<11&4294967295|M>>>21),M=I+(C^N^T)+O[15]+530742520&4294967295,I=C+(M<<16&4294967295|M>>>16),M=T+(I^C^N)+O[2]+3299628645&4294967295,T=I+(M<<23&4294967295|M>>>9),M=N+(I^(T|~C))+O[0]+4096336452&4294967295,N=T+(M<<6&4294967295|M>>>26),M=C+(T^(N|~I))+O[7]+1126891415&4294967295,C=N+(M<<10&4294967295|M>>>22),M=I+(N^(C|~T))+O[14]+2878612391&4294967295,I=C+(M<<15&4294967295|M>>>17),M=T+(C^(I|~N))+O[5]+4237533241&4294967295,T=I+(M<<21&4294967295|M>>>11),M=N+(I^(T|~C))+O[12]+1700485571&4294967295,N=T+(M<<6&4294967295|M>>>26),M=C+(T^(N|~I))+O[3]+2399980690&4294967295,C=N+(M<<10&4294967295|M>>>22),M=I+(N^(C|~T))+O[10]+4293915773&4294967295,I=C+(M<<15&4294967295|M>>>17),M=T+(C^(I|~N))+O[1]+2240044497&4294967295,T=I+(M<<21&4294967295|M>>>11),M=N+(I^(T|~C))+O[8]+1873313359&4294967295,N=T+(M<<6&4294967295|M>>>26),M=C+(T^(N|~I))+O[15]+4264355552&4294967295,C=N+(M<<10&4294967295|M>>>22),M=I+(N^(C|~T))+O[6]+2734768916&4294967295,I=C+(M<<15&4294967295|M>>>17),M=T+(C^(I|~N))+O[13]+1309151649&4294967295,T=I+(M<<21&4294967295|M>>>11),M=N+(I^(T|~C))+O[4]+4149444226&4294967295,N=T+(M<<6&4294967295|M>>>26),M=C+(T^(N|~I))+O[11]+3174756917&4294967295,C=N+(M<<10&4294967295|M>>>22),M=I+(N^(C|~T))+O[2]+718787259&4294967295,I=C+(M<<15&4294967295|M>>>17),M=T+(C^(I|~N))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+C&4294967295}n.prototype.v=function(S,N){N===void 0&&(N=S.length);const T=N-this.blockSize,O=this.C;let I=this.h,C=0;for(;C<N;){if(I==0)for(;C<=T;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<N;)if(O[I++]=S.charCodeAt(C++),I==this.blockSize){i(this,O),I=0;break}}else for(;C<N;)if(O[I++]=S[C++],I==this.blockSize){i(this,O),I=0;break}}this.h=I,this.o+=N},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,T=0;T<4;++T)for(let O=0;O<32;O+=8)S[N++]=this.g[T]>>>O&255;return S};function a(S,N){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=N(S)}function o(S,N){this.h=N;const T=[];let O=!0;for(let I=S.length-1;I>=0;I--){const C=S[I]|0;O&&C==N||(T[I]=C,O=!1)}this.g=T}var l={};function c(S){return-128<=S&&S<128?a(S,function(N){return new o([N|0],N<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return x(u(-S));const N=[];let T=1;for(let O=0;S>=T;O++)N[O]=S/T|0,T*=4294967296;return new o(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return x(d(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(N,8));let O=h;for(let C=0;C<S.length;C+=8){var I=Math.min(8,S.length-C);const M=parseInt(S.substring(C,C+I),N);I<8?(I=u(Math.pow(N,I)),O=O.j(I).add(u(M))):(O=O.j(T),O=O.add(u(M)))}return O}var h=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-x(this).m();let S=0,N=1;for(let T=0;T<this.g.length;T++){const O=this.i(T);S+=(O>=0?O:4294967296+O)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+x(this).toString(S);const N=u(Math.pow(S,6));var T=this;let O="";for(;;){const I=k(T,N).g;T=g(T,I.j(N));let C=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=I,v(T))return C+O;for(;C.length<6;)C="0"+C;O=C+O}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=g(this,S),b(S)?-1:v(S)?0:1};function x(S){const N=S.g.length,T=[];for(let O=0;O<N;O++)T[O]=~S.g[O];return new o(T,~S.h).add(f)}t.abs=function(){return b(this)?x(this):this},t.add=function(S){const N=Math.max(this.g.length,S.g.length),T=[];let O=0;for(let I=0;I<=N;I++){let C=O+(this.i(I)&65535)+(S.i(I)&65535),M=(C>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);O=M>>>16,C&=65535,M&=65535,T[I]=M<<16|C}return new o(T,T[T.length-1]&-2147483648?-1:0)};function g(S,N){return S.add(x(N))}t.j=function(S){if(v(this)||v(S))return h;if(b(this))return b(S)?x(this).j(x(S)):x(x(this).j(S));if(b(S))return x(this.j(x(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const N=this.g.length+S.g.length,T=[];for(var O=0;O<2*N;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<S.g.length;I++){const C=this.i(O)>>>16,M=this.i(O)&65535,B=S.i(I)>>>16,F=S.i(I)&65535;T[2*O+2*I]+=M*F,y(T,2*O+2*I),T[2*O+2*I+1]+=C*F,y(T,2*O+2*I+1),T[2*O+2*I+1]+=M*B,y(T,2*O+2*I+1),T[2*O+2*I+2]+=C*B,y(T,2*O+2*I+2)}for(S=0;S<N;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=N;S<2*N;S++)T[S]=0;return new o(T,0)};function y(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function w(S,N){this.g=S,this.h=N}function k(S,N){if(v(N))throw Error("division by zero");if(v(S))return new w(h,h);if(b(S))return N=k(x(S),N),new w(x(N.g),x(N.h));if(b(N))return N=k(S,x(N)),new w(x(N.g),N.h);if(S.g.length>30){if(b(S)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var T=f,O=N;O.l(S)<=0;)T=j(T),O=j(O);var I=A(T,1),C=A(O,1);for(O=A(O,2),T=A(T,2);!v(O);){var M=C.add(O);M.l(S)<=0&&(I=I.add(T),C=M),O=A(O,1),T=A(T,1)}return N=g(S,I.j(N)),new w(I,N)}for(I=h;S.l(N)>=0;){for(T=Math.max(1,Math.floor(S.m()/N.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),C=u(T),M=C.j(N);b(M)||M.l(S)>0;)T-=O,C=u(T),M=C.j(N);v(C)&&(C=f),I=I.add(C),S=g(S,M)}return new w(I,S)}t.B=function(S){return k(this,S).h},t.and=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)&S.i(O);return new o(T,this.h&S.h)},t.or=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)|S.i(O);return new o(T,this.h|S.h)},t.xor=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)^S.i(O);return new o(T,this.h^S.h)};function j(S){const N=S.g.length+1,T=[];for(let O=0;O<N;O++)T[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(T,S.h)}function A(S,N){const T=N>>5;N%=32;const O=S.g.length-T,I=[];for(let C=0;C<O;C++)I[C]=N>0?S.i(C+T)>>>N|S.i(C+T+1)<<32-N:S.i(C+T);return new o(I,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,y4=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Cs=o}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var b4,du,w4,zf,hb,j4,N4,_4;(function(){var t,e=Object.defineProperty;function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var _=0;_<m.length;++_){var E=m[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(m,_){if(_)e:{var E=n;m=m.split(".");for(var D=0;D<m.length-1;D++){var U=m[D];if(!(U in E))break e;E=E[U]}m=m[m.length-1],D=E[m],_=_(D),_!=D&&_!=null&&e(E,m,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(_){var E=[],D;for(D in _)Object.prototype.hasOwnProperty.call(_,D)&&E.push([D,_[D]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function c(m,_,E){return m.call.apply(m.bind,arguments)}function u(m,_,E){return u=c,u.apply(null,arguments)}function d(m,_){var E=Array.prototype.slice.call(arguments,1);return function(){var D=E.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function h(m,_){function E(){}E.prototype=_.prototype,m.Z=_.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(D,U,q){for(var re=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)re[Pe-2]=arguments[Pe];return _.prototype[U].apply(D,re)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const _=m.length;if(_>0){const E=Array(_);for(let D=0;D<_;D++)E[D]=m[D];return E}return[]}function v(m,_){for(let D=1;D<arguments.length;D++){const U=arguments[D];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=m.length||0;const q=U.length||0;m.length=E+q;for(let re=0;re<q;re++)m[E+re]=U[re]}else m.push(U)}}class b{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(m){o.setTimeout(()=>{throw m},0)}function g(){var m=S;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class y{constructor(){this.h=this.g=null}add(_,E){const D=w.get();D.set(_,E),this.h?this.h.next=D:this.g=D,this.h=D}}var w=new b(()=>new k,m=>m.reset());class k{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let j,A=!1,S=new y,N=()=>{const m=Promise.resolve(void 0);j=()=>{m.then(T)}};function T(){for(var m;m=g();){try{m.h.call(m.g)}catch(E){x(E)}var _=w;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}A=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};o.addEventListener("test",E,_),o.removeEventListener("test",E,_)}catch{}return m}();function M(m){return/^[\s\xa0]*$/.test(m)}function B(m,_){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}h(B,I),B.prototype.init=function(m,_){const E=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(E=="mouseover"?_=m.fromElement:E=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var F="closure_listenable_"+(Math.random()*1e6|0),R=0;function V(m,_,E,D,U){this.listener=m,this.proxy=null,this.src=_,this.type=E,this.capture=!!D,this.ha=U,this.key=++R,this.da=this.fa=!1}function $(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function z(m,_,E){for(const D in m)_.call(E,m[D],D,m)}function K(m,_){for(const E in m)_.call(void 0,m[E],E,m)}function J(m){const _={};for(const E in m)_[E]=m[E];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(m,_){let E,D;for(let U=1;U<arguments.length;U++){D=arguments[U];for(E in D)m[E]=D[E];for(let q=0;q<ee.length;q++)E=ee[q],Object.prototype.hasOwnProperty.call(D,E)&&(m[E]=D[E])}}function Ee(m){this.src=m,this.g={},this.h=0}Ee.prototype.add=function(m,_,E,D,U){const q=m.toString();m=this.g[q],m||(m=this.g[q]=[],this.h++);const re=Ke(m,_,D,U);return re>-1?(_=m[re],E||(_.fa=!1)):(_=new V(_,this.src,q,!!D,U),_.fa=E,m.push(_)),_};function Fe(m,_){const E=_.type;if(E in m.g){var D=m.g[E],U=Array.prototype.indexOf.call(D,_,void 0),q;(q=U>=0)&&Array.prototype.splice.call(D,U,1),q&&($(_),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Ke(m,_,E,D){for(let U=0;U<m.length;++U){const q=m[U];if(!q.da&&q.listener==_&&q.capture==!!E&&q.ha==D)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),At={};function ne(m,_,E,D,U){if(Array.isArray(_)){for(let q=0;q<_.length;q++)ne(m,_[q],E,D,U);return null}return E=bn(E),m&&m[F]?m.J(_,E,l(D)?!!D.capture:!1,U):je(m,_,E,!1,D,U)}function je(m,_,E,D,U,q){if(!_)throw Error("Invalid event type");const re=l(U)?!!U.capture:!!U;let Pe=rt(m);if(Pe||(m[Mt]=Pe=new Ee(m)),E=Pe.add(_,E,D,re,q),E.proxy)return E;if(D=H(),E.proxy=D,D.src=m,D.listener=E,m.addEventListener)C||(U=re),U===void 0&&(U=!1),m.addEventListener(_.toString(),D,U);else if(m.attachEvent)m.attachEvent(ue(_.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return E}function H(){function m(E){return _.call(m.src,m.listener,E)}const _=ze;return m}function W(m,_,E,D,U){if(Array.isArray(_))for(var q=0;q<_.length;q++)W(m,_[q],E,D,U);else D=l(D)?!!D.capture:!!D,E=bn(E),m&&m[F]?(m=m.i,q=String(_).toString(),q in m.g&&(_=m.g[q],E=Ke(_,E,D,U),E>-1&&($(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete m.g[q],m.h--)))):m&&(m=rt(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Ke(_,E,D,U)),(E=m>-1?_[m]:null)&&oe(E))}function oe(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[F])Fe(_.i,m);else{var E=m.type,D=m.proxy;_.removeEventListener?_.removeEventListener(E,D,m.capture):_.detachEvent?_.detachEvent(ue(E),D):_.addListener&&_.removeListener&&_.removeListener(D),(E=rt(_))?(Fe(E,m),E.h==0&&(E.src=null,_[Mt]=null)):$(m)}}}function ue(m){return m in At?At[m]:At[m]="on"+m}function ze(m,_){if(m.da)m=!0;else{_=new B(_,this);const E=m.listener,D=m.ha||m.src;m.fa&&oe(m),m=E.call(D,_)}return m}function rt(m){return m=m[Mt],m instanceof Ee?m:null}var ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(m){return typeof m=="function"?m:(m[ke]||(m[ke]=function(_){return m.handleEvent(_)}),m[ke])}function mt(){O.call(this),this.i=new Ee(this),this.M=this,this.G=null}h(mt,O),mt.prototype[F]=!0,mt.prototype.removeEventListener=function(m,_,E,D){W(this,m,_,E,D)};function Tt(m,_){var E,D=m.G;if(D)for(E=[];D;D=D.G)E.push(D);if(m=m.M,D=_.type||_,typeof _=="string")_=new I(_,m);else if(_ instanceof I)_.target=_.target||m;else{var U=_;_=new I(D,m),le(_,U)}U=!0;let q,re;if(E)for(re=E.length-1;re>=0;re--)q=_.g=E[re],U=Jr(q,D,!0,_)&&U;if(q=_.g=m,U=Jr(q,D,!0,_)&&U,U=Jr(q,D,!1,_)&&U,E)for(re=0;re<E.length;re++)q=_.g=E[re],U=Jr(q,D,!1,_)&&U}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const E=m.g[_];for(let D=0;D<E.length;D++)$(E[D]);delete m.g[_],m.h--}}this.G=null},mt.prototype.J=function(m,_,E,D){return this.i.add(String(m),_,!1,E,D)},mt.prototype.K=function(m,_,E,D){return this.i.add(String(m),_,!0,E,D)};function Jr(m,_,E,D){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let q=0;q<_.length;++q){const re=_[q];if(re&&!re.da&&re.capture==E){const Pe=re.listener,Dt=re.ha||re.src;re.fa&&Fe(m.i,re),U=Pe.call(Dt,D)!==!1&&U}}return U&&!D.defaultPrevented}function ci(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(m,_||0)}function uo(m){m.g=ci(()=>{m.g=null,m.i&&(m.i=!1,uo(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Th extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(m){O.call(this),this.h=m,this.g={}}h(Gi,O);var r2=[];function n2(m){z(m.g,function(_,E){this.g.hasOwnProperty(E)&&oe(_)},m),m.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),n2(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wx=o.JSON.stringify,e5=o.JSON.parse,t5=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function i2(){}function s2(){}var jc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jx(){I.call(this,"d")}h(jx,I);function Nx(){I.call(this,"c")}h(Nx,I);var ta={},a2=null;function Eh(){return a2=a2||new mt}ta.Ia="serverreachability";function o2(m){I.call(this,ta.Ia,m)}h(o2,I);function Nc(m){const _=Eh();Tt(_,new o2(_))}ta.STAT_EVENT="statevent";function l2(m,_){I.call(this,ta.STAT_EVENT,m),this.stat=_}h(l2,I);function br(m){const _=Eh();Tt(_,new l2(_,m))}ta.Ja="timingevent";function c2(m,_){I.call(this,ta.Ja,m),this.size=_}h(c2,I);function _c(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},_)}function Sc(){this.g=!0}Sc.prototype.ua=function(){this.g=!1};function r5(m,_,E,D,U,q){m.info(function(){if(m.g)if(q){var re="",Pe=q.split("&");for(let Xe=0;Xe<Pe.length;Xe++){var Dt=Pe[Xe].split("=");if(Dt.length>1){const Ht=Dt[0];Dt=Dt[1];const Vn=Ht.split("_");re=Vn.length>=2&&Vn[1]=="type"?re+(Ht+"="+Dt+"&"):re+(Ht+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+D+") [attempt "+U+"]: "+_+`
`+E+`
`+re})}function n5(m,_,E,D,U,q,re){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+U+"]: "+_+`
`+E+`
`+q+" "+re})}function ho(m,_,E,D){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+s5(m,E)+(D?" "+D:"")})}function i5(m,_){m.info(function(){return"TIMEOUT: "+_})}Sc.prototype.info=function(){};function s5(m,_){if(!m.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(m=0;m<q.length;m++)if(Array.isArray(q[m])){var E=q[m];if(!(E.length<2)){var D=E[1];if(Array.isArray(D)&&!(D.length<1)){var U=D[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<D.length;re++)D[re]=""}}}}return wx(q)}catch{return _}}var Ph={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},u2={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},d2;function _x(){}h(_x,i2),_x.prototype.g=function(){return new XMLHttpRequest},d2=new _x;function kc(m){return encodeURIComponent(String(m))}function a5(m){var _=1;m=m.split(":");const E=[];for(;_>0&&m.length;)E.push(m.shift()),_--;return m.length&&E.push(m.join(":")),E}function Ki(m,_,E,D){this.j=m,this.i=_,this.l=E,this.S=D||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new h2}function h2(){this.i=null,this.g="",this.h=!1}var f2={},Sx={};function kx(m,_,E){m.M=1,m.A=Ch($n(_)),m.u=E,m.R=!0,m2(m,null)}function m2(m,_){m.F=Date.now(),Ih(m),m.B=$n(m.A);var E=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),A2(E.i,"t",D),m.C=0,E=m.j.L,m.h=new h2,m.g=H2(m.j,E?_:null,!m.u),m.P>0&&(m.O=new Th(u(m.Y,m,m.g),m.P)),_=m.V,E=m.g,D=m.ba;var U="readystatechange";Array.isArray(U)||(U&&(r2[0]=U.toString()),U=r2);for(let q=0;q<U.length;q++){const re=ne(E,U[q],D||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=m.J?J(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),Nc(),r5(m.i,m.v,m.B,m.l,m.S,m.u)}Ki.prototype.ba=function(m){m=m.target;const _=this.O;_&&Qi(m)==3?_.j():this.Y(m)},Ki.prototype.Y=function(m){try{if(m==this.g)e:{const Pe=Qi(this.g),Dt=this.g.ya(),Xe=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||M2(this.g)))){this.K||Pe!=4||Dt==7||(Dt==8||Xe<=0?Nc(3):Nc(2)),Ax(this);var _=this.g.ca();this.X=_;var E=o5(this);if(this.o=_==200,n5(this.i,this.v,this.B,this.l,this.S,Pe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var D,U=this.g;if((D=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var q=D;break t}}q=null}if(m=q)ho(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tx(this,m);else{this.o=!1,this.m=3,br(12),ra(this),Ac(this);break e}}if(this.R){m=!0;let Ht;for(;!this.K&&this.C<E.length;)if(Ht=l5(this,E),Ht==Sx){Pe==4&&(this.m=4,br(14),m=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==f2){this.m=4,br(15),ho(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else ho(this.i,this.l,Ht,null),Tx(this,Ht);if(p2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||E.length!=0||this.h.h||(this.m=1,br(16),m=!1),this.o=this.o&&m,!m)ho(this.i,this.l,E,"[Invalid Chunked Response]"),ra(this),Ac(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rx(re),re.P=!0,br(11))}}else ho(this.i,this.l,E,null),Tx(this,E);Pe==4&&ra(this),this.o&&!this.K&&(Pe==4?B2(this.j,this):(this.o=!1,Ih(this)))}else j5(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,br(12)):(this.m=0,br(13)),ra(this),Ac(this)}}}catch{}finally{}};function o5(m){if(!p2(m))return m.g.la();const _=M2(m.g);if(_==="")return"";let E="";const D=_.length,U=Qi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ra(m),Ac(m),"";m.h.i=new o.TextDecoder}for(let q=0;q<D;q++)m.h.h=!0,E+=m.h.i.decode(_[q],{stream:!(U&&q==D-1)});return _.length=0,m.h.g+=E,m.C=0,m.h.g}function p2(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function l5(m,_){var E=m.C,D=_.indexOf(`
`,E);return D==-1?Sx:(E=Number(_.substring(E,D)),isNaN(E)?f2:(D+=1,D+E>_.length?Sx:(_=_.slice(D,D+E),m.C=D+E,_)))}Ki.prototype.cancel=function(){this.K=!0,ra(this)};function Ih(m){m.T=Date.now()+m.H,g2(m,m.H)}function g2(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=_c(u(m.aa,m),_)}function Ax(m){m.D&&(o.clearTimeout(m.D),m.D=null)}Ki.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(i5(this.i,this.B),this.M!=2&&(Nc(),br(17)),ra(this),this.m=2,Ac(this)):g2(this,this.T-m)};function Ac(m){m.j.I==0||m.K||B2(m.j,m)}function ra(m){Ax(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,n2(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Tx(m,_){try{var E=m.j;if(E.I!=0&&(E.g==m||Ex(E.h,m))){if(!m.L&&Ex(E.h,m)&&E.I==3){try{var D=E.Ba.g.parse(_)}catch{D=null}if(Array.isArray(D)&&D.length==3){var U=D;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Lh(E),Dh(E);else break e;Dx(E),br(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=_c(u(E.Va,E),6e3));y2(E.h)<=1&&E.ta&&(E.ta=void 0)}else ia(E,11)}else if((m.L||E.g==m)&&Lh(E),!M(_))for(U=E.Ba.g.parse(_),_=0;_<U.length;_++){let Xe=U[_];const Ht=Xe[0];if(!(Ht<=E.K))if(E.K=Ht,Xe=Xe[1],E.I==2)if(Xe[0]=="c"){E.M=Xe[1],E.ba=Xe[2];const Vn=Xe[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const sa=Xe[4];sa!=null&&(E.za=sa,E.j.info("SVER="+E.za));const Ji=Xe[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(D=1.5*Ji,E.O=D,E.j.info("backChannelRequestTimeoutMs_="+D)),D=E;const Zi=m.g;if(Zi){const Vh=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vh){var q=D.h;q.g||Vh.indexOf("spdy")==-1&&Vh.indexOf("quic")==-1&&Vh.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Px(q,q.h),q.h=null))}if(D.G){const Lx=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;Lx&&(D.wa=Lx,nt(D.J,D.G,Lx))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),D=E;var re=m;if(D.na=W2(D,D.L?D.ba:null,D.W),re.L){b2(D.h,re);var Pe=re,Dt=D.O;Dt&&(Pe.H=Dt),Pe.D&&(Ax(Pe),Ih(Pe)),D.g=re}else V2(D);E.i.length>0&&Rh(E)}else Xe[0]!="stop"&&Xe[0]!="close"||ia(E,7);else E.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ia(E,7):Mx(E):Xe[0]!="noop"&&E.l&&E.l.qa(Xe),E.A=0)}}Nc(4)}catch{}}var c5=class{constructor(m,_){this.g=m,this.map=_}};function x2(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function v2(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function y2(m){return m.h?1:m.g?m.g.size:0}function Ex(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Px(m,_){m.g?m.g.add(_):m.h=_}function b2(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}x2.prototype.cancel=function(){if(this.i=w2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function w2(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const E of m.g.values())_=_.concat(E.G);return _}return p(m.i)}var j2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u5(m,_){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const D=m[E].indexOf("=");let U,q=null;D>=0?(U=m[E].substring(0,D),q=m[E].substring(D+1)):U=m[E],_(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Yi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof Yi?(this.l=m.l,Tc(this,m.j),this.o=m.o,this.g=m.g,Ec(this,m.u),this.h=m.h,Ix(this,T2(m.i)),this.m=m.m):m&&(_=String(m).match(j2))?(this.l=!1,Tc(this,_[1]||"",!0),this.o=Pc(_[2]||""),this.g=Pc(_[3]||"",!0),Ec(this,_[4]),this.h=Pc(_[5]||"",!0),Ix(this,_[6]||"",!0),this.m=Pc(_[7]||"")):(this.l=!1,this.i=new Cc(null,this.l))}Yi.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(Ic(_,N2,!0),":");var E=this.g;return(E||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Ic(_,N2,!0),"@"),m.push(kc(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ic(E,E.charAt(0)=="/"?f5:h5,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ic(E,p5)),m.join("")},Yi.prototype.resolve=function(m){const _=$n(this);let E=!!m.j;E?Tc(_,m.j):E=!!m.o,E?_.o=m.o:E=!!m.g,E?_.g=m.g:E=m.u!=null;var D=m.h;if(E)Ec(_,m.u);else if(E=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var U=_.h.lastIndexOf("/");U!=-1&&(D=_.h.slice(0,U+1)+D)}if(U=D,U==".."||U==".")D="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){D=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let re=0;re<U.length;){const Pe=U[re++];Pe=="."?D&&re==U.length&&q.push(""):Pe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),D&&re==U.length&&q.push("")):(q.push(Pe),D=!0)}D=q.join("/")}else D=U}return E?_.h=D:E=m.i.toString()!=="",E?Ix(_,T2(m.i)):E=!!m.m,E&&(_.m=m.m),_};function $n(m){return new Yi(m)}function Tc(m,_,E){m.j=E?Pc(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Ec(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function Ix(m,_,E){_ instanceof Cc?(m.i=_,g5(m.i,m.l)):(E||(_=Ic(_,m5)),m.i=new Cc(_,m.l))}function nt(m,_,E){m.i.set(_,E)}function Ch(m){return nt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Pc(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ic(m,_,E){return typeof m=="string"?(m=encodeURI(m).replace(_,d5),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function d5(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var N2=/[#\/\?@]/g,h5=/[#\?:]/g,f5=/[#\?]/g,m5=/[#\?@]/g,p5=/#/g;function Cc(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function na(m){m.g||(m.g=new Map,m.h=0,m.i&&u5(m.i,function(_,E){m.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Cc.prototype,t.add=function(m,_){na(this),this.i=null,m=fo(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(_),this.h+=1,this};function _2(m,_){na(m),_=fo(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function S2(m,_){return na(m),_=fo(m,_),m.g.has(_)}t.forEach=function(m,_){na(this),this.g.forEach(function(E,D){E.forEach(function(U){m.call(_,U,D,this)},this)},this)};function k2(m,_){na(m);let E=[];if(typeof _=="string")S2(m,_)&&(E=E.concat(m.g.get(fo(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)E=E.concat(m[_]);return E}t.set=function(m,_){return na(this),this.i=null,m=fo(this,m),S2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=k2(this,m),m.length>0?String(m[0]):_):_};function A2(m,_,E){_2(m,_),E.length>0&&(m.i=null,m.g.set(fo(m,_),p(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let D=0;D<_.length;D++){var E=_[D];const U=kc(E);E=k2(this,E);for(let q=0;q<E.length;q++){let re=U;E[q]!==""&&(re+="="+kc(E[q])),m.push(re)}}return this.i=m.join("&")};function T2(m){const _=new Cc;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function fo(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function g5(m,_){_&&!m.j&&(na(m),m.i=null,m.g.forEach(function(E,D){const U=D.toLowerCase();D!=U&&(_2(this,D),A2(this,U,E))},m)),m.j=_}function x5(m,_){const E=new Sc;if(o.Image){const D=new Image;D.onload=d(Xi,E,"TestLoadImage: loaded",!0,_,D),D.onerror=d(Xi,E,"TestLoadImage: error",!1,_,D),D.onabort=d(Xi,E,"TestLoadImage: abort",!1,_,D),D.ontimeout=d(Xi,E,"TestLoadImage: timeout",!1,_,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else _(!1)}function v5(m,_){const E=new Sc,D=new AbortController,U=setTimeout(()=>{D.abort(),Xi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:D.signal}).then(q=>{clearTimeout(U),q.ok?Xi(E,"TestPingServer: ok",!0,_):Xi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Xi(E,"TestPingServer: error",!1,_)})}function Xi(m,_,E,D,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),D(E)}catch{}}function y5(){this.g=new t5}function Cx(m){this.i=m.Sb||null,this.h=m.ab||!1}h(Cx,i2),Cx.prototype.g=function(){return new Oh(this.i,this.h)};function Oh(m,_){mt.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Oh,mt),t=Oh.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,Mc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oc(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Mc(this)),this.g&&(this.readyState=3,Mc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;E2(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function E2(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Oc(this):Mc(this),this.readyState==3&&E2(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Oc(this))},t.Na=function(m){this.g&&(this.response=m,Oc(this))},t.ga=function(){this.g&&Oc(this)};function Oc(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Mc(m)}t.setRequestHeader=function(m,_){this.A.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=_.next();return m.join(`\r
`)};function Mc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Oh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function P2(m){let _="";return z(m,function(E,D){_+=D,_+=":",_+=E,_+=`\r
`}),_}function Ox(m,_,E){e:{for(D in E){var D=!1;break e}D=!0}D||(E=P2(E),typeof m=="string"?E!=null&&kc(E):nt(m,_,E))}function bt(m){mt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(bt,mt);var b5=/^https?$/i,w5=["POST","PUT"];t=bt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,_,E,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():d2.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(q){I2(this,q);return}if(m=E||"",E=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var U in D)E.set(U,D[U]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const q of D.keys())E.set(q,D.get(q));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),U=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(w5,_,void 0)>=0)||D||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of E)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(q){I2(this,q)}};function I2(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,C2(m),Mh(m)}function C2(m){m.A||(m.A=!0,Tt(m,"complete"),Tt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Tt(this,"complete"),Tt(this,"abort"),Mh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mh(this,!0)),bt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?O2(this):this.Xa())},t.Xa=function(){O2(this)};function O2(m){if(m.h&&typeof a<"u"){if(m.v&&Qi(m)==4)setTimeout(m.Ca.bind(m),0);else if(Tt(m,"readystatechange"),Qi(m)==4){m.h=!1;try{const q=m.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var D;if(D=q===0){let re=String(m.D).match(j2)[1]||null;!re&&o.self&&o.self.location&&(re=o.self.location.protocol.slice(0,-1)),D=!b5.test(re?re.toLowerCase():"")}E=D}if(E)Tt(m,"complete"),Tt(m,"success");else{m.o=6;try{var U=Qi(m)>2?m.g.statusText:""}catch{U=""}m.l=U+" ["+m.ca()+"]",C2(m)}}finally{Mh(m)}}}}function Mh(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,_||Tt(m,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),e5(_)}};function M2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function j5(m){const _={};m=(m.g&&Qi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(M(m[D]))continue;var E=a5(m[D]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=_[U]||[];_[U]=q,q.push(E)}K(_,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dc(m,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||_}function D2(m){this.za=0,this.i=[],this.j=new Sc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dc("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dc("baseRetryDelayMs",5e3,m),this.Za=Dc("retryDelaySeedMs",1e4,m),this.Ta=Dc("forwardChannelMaxRetries",2,m),this.va=Dc("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new x2(m&&m.concurrentRequestLimit),this.Ba=new y5,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=D2.prototype,t.ka=8,t.I=1,t.connect=function(m,_,E,D){br(0),this.W=m,this.H=_||{},E&&D!==void 0&&(this.H.OSID=E,this.H.OAID=D),this.F=this.X,this.J=W2(this,null,this.W),Rh(this)};function Mx(m){if(R2(m),m.I==3){var _=m.V++,E=$n(m.J);if(nt(E,"SID",m.M),nt(E,"RID",_),nt(E,"TYPE","terminate"),Rc(m,E),_=new Ki(m,m.j,_),_.M=2,_.A=Ch($n(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=_.A,E=!0),E||(_.g=H2(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ih(_)}z2(m)}function Dh(m){m.g&&(Rx(m),m.g.cancel(),m.g=null)}function R2(m){Dh(m),m.v&&(o.clearTimeout(m.v),m.v=null),Lh(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Rh(m){if(!v2(m.h)&&!m.m){m.m=!0;var _=m.Ea;j||N(),A||(j(),A=!0),S.add(_,m),m.D=0}}function N5(m,_){return y2(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=_c(u(m.Ea,m,_),U2(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const U=new Ki(this,this.j,m);let q=this.o;if(this.U&&(q?(q=J(q),le(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var D=this.i[E];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(_+=D,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=$2(this,U,_),E=$n(this.J),nt(E,"RID",m),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),Rc(this,E),q&&(this.R?_="headers="+kc(P2(q))+"&"+_:this.u&&Ox(E,this.u,q)),Px(this.h,U),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",_),nt(E,"SID","null"),U.U=!0,kx(U,E,null)):kx(U,E,_),this.I=2}}else this.I==3&&(m?L2(this,m):this.i.length==0||v2(this.h)||L2(this))};function L2(m,_){var E;_?E=_.l:E=m.V++;const D=$n(m.J);nt(D,"SID",m.M),nt(D,"RID",E),nt(D,"AID",m.K),Rc(m,D),m.u&&m.o&&Ox(D,m.u,m.o),E=new Ki(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),_&&(m.i=_.G.concat(m.i)),_=$2(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Px(m.h,E),kx(E,D,_)}function Rc(m,_){m.H&&z(m.H,function(E,D){nt(_,D,E)}),m.l&&z({},function(E,D){nt(_,D,E)})}function $2(m,_,E){E=Math.min(m.i.length,E);const D=m.l?u(m.l.Ka,m.l,m):null;e:{var U=m.i;let Pe=-1;for(;;){const Dt=["count="+E];Pe==-1?E>0?(Pe=U[0].g,Dt.push("ofs="+Pe)):Pe=0:Dt.push("ofs="+Pe);let Xe=!0;for(let Ht=0;Ht<E;Ht++){var q=U[Ht].g;const Vn=U[Ht].map;if(q-=Pe,q<0)Pe=Math.max(0,U[Ht].g-100),Xe=!1;else try{q="req"+q+"_"||"";try{var re=Vn instanceof Map?Vn:Object.entries(Vn);for(const[sa,Ji]of re){let Zi=Ji;l(Ji)&&(Zi=wx(Ji)),Dt.push(q+sa+"="+encodeURIComponent(Zi))}}catch(sa){throw Dt.push(q+"type="+encodeURIComponent("_badmap")),sa}}catch{D&&D(Vn)}}if(Xe){re=Dt.join("&");break e}}re=void 0}return m=m.i.splice(0,E),_.G=m,re}function V2(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;j||N(),A||(j(),A=!0),S.add(_,m),m.A=0}}function Dx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=_c(u(m.Da,m),U2(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,F2(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=_c(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,br(10),Dh(this),F2(this))};function Rx(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function F2(m){m.g=new Ki(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=$n(m.na);nt(_,"RID","rpc"),nt(_,"SID",m.M),nt(_,"AID",m.K),nt(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&nt(_,"TO",m.ia),nt(_,"TYPE","xmlhttp"),Rc(m,_),m.u&&m.o&&Ox(_,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=Ch($n(_)),E.u=null,E.R=!0,m2(E,m)}t.Va=function(){this.C!=null&&(this.C=null,Dh(this),Dx(this),br(19))};function Lh(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function B2(m,_){var E=null;if(m.g==_){Lh(m),Rx(m),m.g=null;var D=2}else if(Ex(m.h,_))E=_.G,b2(m.h,_),D=1;else return;if(m.I!=0){if(_.o)if(D==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var U=m.D;D=Eh(),Tt(D,new c2(D,E)),Rh(m)}else V2(m);else if(U=_.m,U==3||U==0&&_.X>0||!(D==1&&N5(m,_)||D==2&&Dx(m)))switch(E&&E.length>0&&(_=m.h,_.i=_.i.concat(E)),U){case 1:ia(m,5);break;case 4:ia(m,10);break;case 3:ia(m,6);break;default:ia(m,2)}}}function U2(m,_){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*_}function ia(m,_){if(m.j.info("Error code "+_),_==2){var E=u(m.bb,m),D=m.Ua;const U=!D;D=new Yi(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Tc(D,"https"),Ch(D),U?x5(D.toString(),E):v5(D.toString(),E)}else br(2);m.I=0,m.l&&m.l.pa(_),z2(m),R2(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),br(2)):(this.j.info("Failed to ping google.com"),br(1))};function z2(m){if(m.I=0,m.ja=[],m.l){const _=w2(m.h);(_.length!=0||m.i.length!=0)&&(v(m.ja,_),v(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function W2(m,_,E){var D=E instanceof Yi?$n(E):new Yi(E);if(D.g!="")_&&(D.g=_+"."+D.g),Ec(D,D.u);else{var U=o.location;D=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const q=new Yi(null);D&&Tc(q,D),_&&(q.g=_),U&&Ec(q,U),E&&(q.h=E),D=q}return E=m.G,_=m.wa,E&&_&&nt(D,E,_),nt(D,"VER",m.ka),Rc(m,D),D}function H2(m,_,E){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new bt(new Cx({ab:E})):new bt(m.ma),_.Fa(m.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function q2(){}t=q2.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $h(){}$h.prototype.g=function(m,_){return new Rr(m,_)};function Rr(m,_){mt.call(this),this.g=new D2(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!M(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new mo(this)}h(Rr,mt),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){Mx(this.g)},Rr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=wx(m),m=E);_.i.push(new c5(_.Ya++,m)),_.I==3&&Rh(_)},Rr.prototype.N=function(){this.g.l=null,delete this.j,Mx(this.g),delete this.g,Rr.Z.N.call(this)};function G2(m){jx.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const E in _){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}h(G2,jx);function K2(){Nx.call(this),this.status=1}h(K2,Nx);function mo(m){this.g=m}h(mo,q2),mo.prototype.ra=function(){Tt(this.g,"a")},mo.prototype.qa=function(m){Tt(this.g,new G2(m))},mo.prototype.pa=function(m){Tt(this.g,new K2)},mo.prototype.oa=function(){Tt(this.g,"b")},$h.prototype.createWebChannel=$h.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,_4=function(){return new $h},N4=function(){return Eh()},j4=ta,hb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ph.NO_ERROR=0,Ph.TIMEOUT=8,Ph.HTTP_ERROR=6,zf=Ph,u2.COMPLETE="complete",w4=u2,s2.EventType=jc,jc.OPEN="a",jc.CLOSE="b",jc.ERROR="c",jc.MESSAGE="d",mt.prototype.listen=mt.prototype.J,du=s2,bt.prototype.listenOnce=bt.prototype.K,bt.prototype.getLastError=bt.prototype.Ha,bt.prototype.getLastErrorCode=bt.prototype.ya,bt.prototype.getStatus=bt.prototype.ca,bt.prototype.getResponseJson=bt.prototype.La,bt.prototype.getResponseText=bt.prototype.la,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Fa,b4=bt}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",K_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new ij("@firebase/firestore");function No(){return Fa.logLevel}function ie(t,...e){if(Fa.logLevel<=Ce.DEBUG){const r=e.map(pj);Fa.debug(`Firestore (${ic}): ${t}`,...r)}}function Di(t,...e){if(Fa.logLevel<=Ce.ERROR){const r=e.map(pj);Fa.error(`Firestore (${ic}): ${t}`,...r)}}function fl(t,...e){if(Fa.logLevel<=Ce.WARN){const r=e.map(pj);Fa.warn(`Firestore (${ic}): ${t}`,...r)}}function pj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,S4(t,n,r)}function S4(t,e,r){let n=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Di(n),new Error(n)}function Ue(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||S4(e,i,n)}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ui{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(fr.UNAUTHENTICATED))}shutdown(){}}class vB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class yB{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ue(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Os,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Os)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ue(typeof n.accessToken=="string",31837,{l:n}),new k4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class bB{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wB{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new bB(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jB{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ue(this.o===void 0,3512);const n=a=>{a.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ue(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Y_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=NB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Oe(t,e){return t<e?-1:t>e?1:0}function fb(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return yv(i)===yv(a)?Oe(i,a):yv(i)?1:-1}return Oe(t.length,e.length)}const _B=55296,SB=57343;function yv(t){const e=t.charCodeAt(0);return e>=_B&&e<=SB}function ml(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class Un{constructor(e,r,n){r===void 0?r=0:r>e.length&&xe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&xe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Un.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Oe(e.length,r.length)}static compareSegments(e,r){const n=Un.isNumericId(e),i=Un.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Un.extractNumericId(e).compare(Un.extractNumericId(r)):fb(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class gt extends Un{construct(e,r,n){return new gt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new gt(r)}static emptyPath(){return new gt([])}}const kB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Un{construct(e,r,n){return new ir(e,r,n)}static isValidIdentifier(e){return kB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new ir([X_])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(gt.fromString(e))}static fromName(e){return new he(gt.fromString(e).popFirst(5))}static empty(){return new he(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return gt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t,e,r){if(!r)throw new ce(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TB(t,e,r,n){if(e===!0&&n===!0)throw new ce(Q.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Q_(t){if(!he.isDocumentKey(t))throw new ce(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function cd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xj(t);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e){const r={typeString:t};return e&&(r.value=e),r}function hh(t,e){if(!A4(t))throw new ce(Q.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ce(Q.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,Z_=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Z_);return new ut(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<J_)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hh(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ct("string",ut._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ut(0,0))}static max(){return new Ne(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function EB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ne.fromTimestamp(n===1e9?new ut(r+1,0):new ut(r,n));return new $s(i,he.empty(),e)}function PB(t){return new $s(t.readTime,t.key,ud)}class $s{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new $s(Ne.min(),he.empty(),ud)}static max(){return new $s(Ne.max(),he.empty(),ud)}}function IB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=he.comparator(t.documentKey,e.documentKey),r!==0?r:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==CB)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new X((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof X?r:X.resolve(r)}catch(r){return X.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):X.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):X.reject(r)}static resolve(e){return new X((r,n)=>{r(e)})}static reject(e){return new X((r,n)=>{n(e)})}static waitFor(e){return new X((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>n(c))}),o=!0,a===i&&r()})}static or(e){let r=X.resolve(!1);for(const n of e)r=r.next(i=>i?X.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new X((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new X((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function MB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ac(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=-1;function xg(t){return t==null}function Pm(t){return t===0&&1/t==-1/0}function DB(t){return typeof t=="number"&&Number.isInteger(t)&&!Pm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="";function RB(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=eS(e)),e=LB(t.get(r),e);return eS(e)}function LB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case T4:r+="";break;default:r+=a}}return r}function eS(t){return t+T4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function eo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function E4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||nr.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??nr.RED,this.left=i??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new nr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new nr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new rS(this.data.getIterator())}getIteratorFrom(e){return new rS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new zt(this.comparator);return r.data=e,r}}class rS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new Pn([])}unionWith(e){let r=new zt(ir.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Pn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new P4("Invalid base64 string: "+a):a}}(e);return new lr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new lr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const $B=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const r=$B.exec(t);if(Ue(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="server_timestamp",C4="__type__",O4="__previous_value__",M4="__local_write_time__";function yj(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[C4])==null?void 0:n.stringValue)===I4}function vg(t){const e=t.mapValue.fields[O4];return yj(e)?vg(e):e}function dd(t){const e=Vs(t.mapValue.fields[M4].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e,r,n,i,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Im="(default)";class hd{constructor(e,r){this.projectId=e,this.database=r||Im}static empty(){return new hd("","")}get isDefaultDatabase(){return this.database===Im}isEqual(e){return e instanceof hd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="__type__",FB="__max__",lf={mapValue:{}},R4="__vector__",Cm="value";function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yj(t)?4:UB(t)?9007199254740991:BB(t)?10:11:xe(28295,{value:t})}function ri(t,e){if(t===e)return!0;const r=Bs(t);if(r!==Bs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Vs(i.timestampValue),l=Vs(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Fs(i.bytesValue).isEqual(Fs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Nt(i.doubleValue),l=Nt(a.doubleValue);return o===l?Pm(o)===Pm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(tS(o)!==tS(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ri(o[c],l[c])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function fd(t,e){return(t.values||[]).find(r=>ri(r,e))!==void 0}function pl(t,e){if(t===e)return 0;const r=Bs(t),n=Bs(e);if(r!==n)return Oe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Nt(a.integerValue||a.doubleValue),c=Nt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return nS(t.timestampValue,e.timestampValue);case 4:return nS(dd(t),dd(e));case 5:return fb(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Fs(a),c=Fs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Oe(l[u],c[u]);if(d!==0)return d}return Oe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Oe(Nt(a.latitude),Nt(o.latitude));return l!==0?l:Oe(Nt(a.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var f,p,v,b;const l=a.fields||{},c=o.fields||{},u=(f=l[Cm])==null?void 0:f.arrayValue,d=(p=c[Cm])==null?void 0:p.arrayValue,h=Oe(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:iS(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===lf.mapValue&&o===lf.mapValue)return 0;if(a===lf.mapValue)return 1;if(o===lf.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=fb(c[h],d[h]);if(f!==0)return f;const p=pl(l[c[h]],u[d[h]]);if(p!==0)return p}return Oe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:r})}}function nS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const r=Vs(t),n=Vs(e),i=Oe(r.seconds,n.seconds);return i!==0?i:Oe(r.nanos,n.nanos)}function iS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=pl(r[i],n[i]);if(a)return a}return Oe(r.length,n.length)}function gl(t){return mb(t)}function mb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Vs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Fs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return he.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=mb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${mb(r.fields[o])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Wf(t){switch(Bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vg(t);return e?16+Wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Wf(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return eo(n.fields,(a,o)=>{i+=a.length+Wf(o)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function pb(t){return!!t&&"integerValue"in t}function bj(t){return!!t&&"arrayValue"in t}function sS(t){return!!t&&"nullValue"in t}function aS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function BB(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[D4])==null?void 0:n.stringValue)===R4}function Tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Tu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Tu(t.arrayValue.values[r]);return e}return{...t}}function UB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===FB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Hf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(r)}setAll(e){let r=ir.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Tu(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Hf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){eo(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new on(Tu(this.value))}}function L4(t){const e=[];return eo(t.fields,(r,n)=>{const i=new ir([r]);if(Hf(n)){const a=L4(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new pr(e,0,Ne.min(),Ne.min(),Ne.min(),on.empty(),0)}static newFoundDocument(e,r,n,i){return new pr(e,1,r,Ne.min(),n,i,0)}static newNoDocument(e,r){return new pr(e,2,r,Ne.min(),Ne.min(),on.empty(),0)}static newUnknownDocument(e,r){return new pr(e,3,r,Ne.min(),Ne.min(),on.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r){this.position=e,this.inclusive=r}}function oS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=he.comparator(he.fromName(o.referenceValue),r.key):n=pl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function lS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ri(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r="asc"){this.field=e,this.dir=r}}function zB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{}class Vt extends $4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new HB(e,r,n):r==="array-contains"?new KB(e,n):r==="in"?new YB(e,n):r==="not-in"?new XB(e,n):r==="array-contains-any"?new QB(e,n):new Vt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new qB(e,n):new GB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(pl(r,this.value)):r!==null&&Bs(this.value)===Bs(r)&&this.matchesComparison(pl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends $4{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ni(e,r)}matches(e){return V4(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function V4(t){return t.op==="and"}function F4(t){return WB(t)&&V4(t)}function WB(t){for(const e of t.filters)if(e instanceof ni)return!1;return!0}function gb(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(F4(t))return t.filters.map(e=>gb(e)).join(",");{const e=t.filters.map(r=>gb(r)).join(",");return`${t.op}(${e})`}}function B4(t,e){return t instanceof Vt?function(n,i){return i instanceof Vt&&n.op===i.op&&n.field.isEqual(i.field)&&ri(n.value,i.value)}(t,e):t instanceof ni?function(n,i){return i instanceof ni&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&B4(o,i.filters[l]),!0):!1}(t,e):void xe(19439)}function U4(t){return t instanceof Vt?function(r){return`${r.field.canonicalString()} ${r.op} ${gl(r.value)}`}(t):t instanceof ni?function(r){return r.op.toString()+" {"+r.getFilters().map(U4).join(" ,")+"}"}(t):"Filter"}class HB extends Vt{constructor(e,r,n){super(e,r,n),this.key=he.fromName(n.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class qB extends Vt{constructor(e,r){super(e,"in",r),this.keys=z4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class GB extends Vt{constructor(e,r){super(e,"not-in",r),this.keys=z4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function z4(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>he.fromName(n.referenceValue))}class KB extends Vt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bj(r)&&fd(r.arrayValue,this.value)}}class YB extends Vt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&fd(this.value.arrayValue,r)}}class XB extends Vt{constructor(e,r){super(e,"not-in",r)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!fd(this.value.arrayValue,r)}}class QB extends Vt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bj(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>fd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function cS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new JB(t,e,r,n,i,a,o)}function wj(t){const e=Se(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>gb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),xg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>gl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>gl(n)).join(",")),e.Te=r}return e.Te}function jj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!zB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!B4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lS(t.startAt,e.startAt)&&lS(t.endAt,e.endAt)}function xb(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZB(t,e,r,n,i,a,o,l){return new yg(t,e,r,n,i,a,o,l)}function Nj(t){return new yg(t)}function uS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eU(t){return t.collectionGroup!==null}function Eu(t){const e=Se(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new zt(ir.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Mm(a,n))}),r.has(ir.keyField().canonicalString())||e.Ie.push(new Mm(ir.keyField(),n))}return e.Ie}function Yn(t){const e=Se(t);return e.Ee||(e.Ee=tU(e,Eu(t))),e.Ee}function tU(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Mm(i.field,a)});const r=t.endAt?new Om(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Om(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function vb(t,e,r){return new yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function bg(t,e){return jj(Yn(t),Yn(e))&&t.limitType===e.limitType}function W4(t){return`${wj(Yn(t))}|lt:${t.limitType}`}function _o(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>U4(i)).join(", ")}]`),xg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>gl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>gl(i)).join(",")),`Target(${n})`}(Yn(t))}; limitType=${t.limitType})`}function wg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):he.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Eu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,c){const u=oS(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Eu(n),i)||n.endAt&&!function(o,l,c){const u=oS(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Eu(n),i))}(t,e)}function rU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H4(t){return(e,r)=>{let n=!1;for(const i of Eu(t)){const a=nU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function nU(t,e,r){const n=t.field.isKeyField()?he.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?pl(c,u):xe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return E4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new yt(he.comparator);function Ri(){return iU}const q4=new yt(he.comparator);function hu(...t){let e=q4;for(const r of t)e=e.insert(r.key,r);return e}function G4(t){let e=q4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ba(){return Pu()}function K4(){return Pu()}function Pu(){return new to(t=>t.toString(),(t,e)=>t.isEqual(e))}const sU=new yt(he.comparator),aU=new zt(he.comparator);function Me(...t){let e=aU;for(const r of t)e=e.add(r);return e}const oU=new zt(Oe);function lU(){return oU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pm(e)?"-0":e}}function Y4(t){return{integerValue:""+t}}function cU(t,e){return DB(e)?Y4(e):_j(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function uU(t,e,r){return t instanceof md?function(i,a){const o={fields:{[C4]:{stringValue:I4},[M4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&yj(a)&&(a=vg(a)),a&&(o.fields[O4]=a),{mapValue:o}}(r,e):t instanceof pd?Q4(t,e):t instanceof gd?J4(t,e):function(i,a){const o=X4(i,a),l=dS(o)+dS(i.Ae);return pb(o)&&pb(i.Ae)?Y4(l):_j(i.serializer,l)}(t,e)}function dU(t,e,r){return t instanceof pd?Q4(t,e):t instanceof gd?J4(t,e):r}function X4(t,e){return t instanceof Dm?function(n){return pb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class md extends jg{}class pd extends jg{constructor(e){super(),this.elements=e}}function Q4(t,e){const r=Z4(e);for(const n of t.elements)r.some(i=>ri(i,n))||r.push(n);return{arrayValue:{values:r}}}class gd extends jg{constructor(e){super(),this.elements=e}}function J4(t,e){let r=Z4(e);for(const n of t.elements)r=r.filter(i=>!ri(i,n));return{arrayValue:{values:r}}}class Dm extends jg{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function dS(t){return Nt(t.integerValue||t.doubleValue)}function Z4(t){return bj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r){this.field=e,this.transform=r}}function fU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof pd&&i instanceof pd||n instanceof gd&&i instanceof gd?ml(n.elements,i.elements,ri):n instanceof Dm&&i instanceof Dm?ri(n.Ae,i.Ae):n instanceof md&&i instanceof md}(t.transform,e.transform)}class mU{constructor(e,r){this.version=e,this.transformResults=r}}class Si{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ng{}function eO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rO(t.key,Si.none()):new fh(t.key,t.data,Si.none());{const r=t.data,n=on.empty();let i=new zt(ir.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new ro(t.key,n,new Pn(i.toArray()),Si.none())}}function pU(t,e,r){t instanceof fh?function(i,a,o){const l=i.value.clone(),c=fS(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof ro?function(i,a,o){if(!qf(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=fS(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(tO(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Iu(t,e,r,n){return t instanceof fh?function(a,o,l,c){if(!qf(a.precondition,o))return l;const u=a.value.clone(),d=mS(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof ro?function(a,o,l,c){if(!qf(a.precondition,o))return l;const u=mS(a.fieldTransforms,c,o),d=o.data;return d.setAll(tO(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return qf(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function gU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=X4(n.transform,i||null);a!=null&&(r===null&&(r=on.empty()),r.set(n.field,a))}return r||null}function hS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ml(n,i,(a,o)=>fU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends Ng{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ro extends Ng{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function fS(t,e,r){const n=new Map;Ue(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,dU(o,l,r[i]))}return n}function mS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,uU(a,o,e))}return n}class rO extends Ng{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xU extends Ng{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&pU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=K4();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=eO(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Me())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(r,n)=>hS(r,n))&&ml(this.baseMutations,e.baseMutations,(r,n)=>hS(r,n))}}class Sj{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ue(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return sU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Sj(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,De;function wU(t){switch(t){case Q.OK:return xe(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function nO(t){if(t===void 0)return Di("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Et.OK:return Q.OK;case Et.CANCELLED:return Q.CANCELLED;case Et.UNKNOWN:return Q.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Q.INTERNAL;case Et.UNAVAILABLE:return Q.UNAVAILABLE;case Et.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Et.NOT_FOUND:return Q.NOT_FOUND;case Et.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Et.ABORTED:return Q.ABORTED;case Et.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Et.DATA_LOSS:return Q.DATA_LOSS;default:return xe(39323,{code:t})}}(De=Et||(Et={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new Cs([4294967295,4294967295],0);function pS(t){const e=jU().encode(t),r=new y4;return r.update(e),new Uint8Array(r.digest())}function gS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([r,n],0),new Cs([i,a],0)]}class kj{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new fu(`Invalid padding: ${r}`);if(n<0)throw new fu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new fu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Cs.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Cs.fromNumber(n)));return i.compare(NU)===1&&(i=new Cs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=pS(e),[n,i]=gS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new kj(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=pS(e),[n,i]=gS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,mh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new _g(Ne.min(),i,new yt(Oe),Ri(),Me())}}class mh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new mh(n,r,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class iO{constructor(e,r){this.targetId=e,this.Ce=r}}class sO{constructor(e,r,n=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class xS{constructor(){this.ve=0,this.Fe=vS(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),r=Me(),n=Me();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:xe(38017,{changeType:a})}}),new mh(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=vS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _U{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ri(),this.Je=cf(),this.He=cf(),this.Ye=new yt(Oe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(xb(a))if(n===0){const o=new he(a.path);this.et(r,o,pr.newNoDocument(o,Ne.min()))}else Ue(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=Fs(n).toUint8Array()}catch(c){if(c instanceof P4)return fl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new kj(o,i,a)}catch(c){return fl(c instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&xb(l.target)){const c=new he(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,pr.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Me();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new _g(e,r,this.Ye,this.je,n);return this.je=Ri(),this.Je=cf(),this.He=cf(),this.Ye=new yt(Oe),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new xS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new zt(Oe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new zt(Oe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function cf(){return new yt(he.comparator)}function vS(){return new yt(he.comparator)}const SU={asc:"ASCENDING",desc:"DESCENDING"},kU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AU={and:"AND",or:"OR"};class TU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function yb(t,e){return t.useProto3Json||xg(e)?e:{value:e}}function Rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EU(t,e){return Rm(t,e.toTimestamp())}function Xn(t){return Ue(!!t,49232),Ne.fromTimestamp(function(r){const n=Vs(r);return new ut(n.seconds,n.nanos)}(t))}function Aj(t,e){return bb(t,e).canonicalString()}function bb(t,e){const r=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function oO(t){const e=gt.fromString(t);return Ue(hO(e),10190,{key:e.toString()}),e}function wb(t,e){return Aj(t.databaseId,e.path)}function bv(t,e){const r=oO(e);if(r.get(1)!==t.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new he(cO(r))}function lO(t,e){return Aj(t.databaseId,e)}function PU(t){const e=oO(t);return e.length===4?gt.emptyPath():cO(e)}function jb(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cO(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function yS(t,e,r){return{name:wb(t,e),fields:r.value.mapValue.fields}}function IU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ue(d===void 0||typeof d=="string",58123),lr.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),lr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?Q.UNKNOWN:nO(u.code);return new ce(d,u.message||"")}(o);r=new sO(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bv(t,n.document.name),a=Xn(n.document.updateTime),o=n.document.createTime?Xn(n.document.createTime):Ne.min(),l=new on({mapValue:{fields:n.document.fields}}),c=pr.newFoundDocument(i,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Gf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bv(t,n.document),a=n.readTime?Xn(n.readTime):Ne.min(),o=pr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Gf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bv(t,n.document),a=n.removedTargetIds||[];r=new Gf([],a,i,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new bU(i,a),l=n.targetId;r=new iO(l,o)}}return r}function CU(t,e){let r;if(e instanceof fh)r={update:yS(t,e.key,e.value)};else if(e instanceof rO)r={delete:wb(t,e.key)};else if(e instanceof ro)r={update:yS(t,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof xU))return xe(16599,{Vt:e.type});r={verify:wb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Dm)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw xe(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:EU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)}(t,e.precondition)),r}function OU(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Xn(i.updateTime):Xn(a);return o.isEqual(Ne.min())&&(o=Xn(a)),new mU(o,i.transformResults||[])}(r,e))):[]}function MU(t,e){return{documents:[lO(t,e.path)]}}function DU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=lO(t,i);const a=function(u){if(u.length!==0)return dO(ni.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:So(f.field),direction:$U(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=yb(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function RU(t){let e=PU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ue(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=uO(h);return f instanceof ni&&F4(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(v){return new Mm(ko(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,xg(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Om(p,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Om(p,f)}(r.endAt)),ZB(e,i,o,a,l,"F",c,u)}function LU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function uO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ko(r.unaryFilter.field);return Vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ko(r.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ko(r.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ko(r.unaryFilter.field);return Vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Vt.create(ko(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ni.create(r.compositeFilter.filters.map(n=>uO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(r.compositeFilter.op))}(t):xe(30097,{filter:t})}function $U(t){return SU[t]}function VU(t){return kU[t]}function FU(t){return AU[t]}function So(t){return{fieldPath:t.canonicalString()}}function ko(t){return ir.fromServerFormat(t.fieldPath)}function dO(t){return t instanceof Vt?function(r){if(r.op==="=="){if(aS(r.value))return{unaryFilter:{field:So(r.field),op:"IS_NAN"}};if(sS(r.value))return{unaryFilter:{field:So(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(aS(r.value))return{unaryFilter:{field:So(r.field),op:"IS_NOT_NAN"}};if(sS(r.value))return{unaryFilter:{field:So(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(r.field),op:VU(r.op),value:r.value}}}(t):t instanceof ni?function(r){const n=r.getFilters().map(i=>dO(i));return n.length===1?n[0]:{compositeFilter:{op:FU(r.op),filters:n}}}(t):xe(54877,{filter:t})}function BU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function hO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r,n,i,a=Ne.min(),o=Ne.min(),l=lr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.yt=e}}function zU(t){const e=RU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.Cn=new HU}addToCollectionParentIndex(e,r){return this.Cn.add(r),X.resolve()}getCollectionParents(e,r){return X.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return X.resolve()}deleteFieldIndex(e,r){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,r){return X.resolve()}getDocumentsMatchingTarget(e,r){return X.resolve(null)}getIndexType(e,r){return X.resolve(0)}getFieldIndexes(e,r){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,r){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(e,r){return X.resolve($s.min())}updateCollectionGroup(e,r,n){return X.resolve()}updateIndexEntries(e,r){return X.resolve()}}class HU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new zt(gt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new zt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fO=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(fO,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="LruGarbageCollector",qU=1048576;function jS([t,e],[r,n]){const i=Oe(t,r);return i===0?Oe(e,n):i}class GU{constructor(e){this.Ir=e,this.buffer=new zt(jS),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();jS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class KU{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ie(wS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ac(r)?ie(wS,"Ignoring IndexedDB error during garbage collection: ",r):await sc(r)}await this.Vr(3e5)})}}class YU{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return X.resolve(gg.ce);const n=new GU(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(bS)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bS):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),No()<=Ce.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function XU(t,e){return new YU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.changes=new to(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?X.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Iu(n.mutation,i,Pn.empty(),ut.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Me()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Me()){const i=ba();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=hu();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ba();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Me()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=Ri();const o=Pu(),l=function(){return Pu()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ro)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Iu(d.mutation,u,d.mutation.getFieldMask(),ut.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new JU(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Pu();let i=new yt((o,l)=>o-l),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Pn.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(i.get(l.batchId)||Me()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=K4();d.forEach(f=>{if(!a.has(f)){const p=eO(r.get(f),n.get(f));p!==null&&h.set(f,p),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return X.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):eU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):X.resolve(ba());let l=ud,c=a;return o.next(u=>X.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Me())).next(d=>({batchId:l,changes:G4(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(n=>{let i=hu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=hu();return this.indexManager.getCollectionParents(e,a).next(l=>X.forEach(l,c=>{const u=function(h,f){return new yg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,pr.newInvalidDocument(d)))});let l=hu();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Iu(d.mutation,u,Pn.empty(),ut.now()),wg(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return X.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(r)),X.resolve()}getNamedQuery(e,r){return X.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:zU(i.bundledQuery),readTime:Xn(i.readTime)}}(r)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.overlays=new yt(he.comparator),this.qr=new Map}getOverlay(e,r){return X.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ba();return X.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),X.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),X.resolve()}getOverlaysForCollection(e,r,n){const i=ba(),a=r.length+1,o=new he(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return X.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new yt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=ba(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ba(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return X.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new yU(r,n));let a=this.qr.get(r);a===void 0&&(a=Me(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.Qr=new zt(qt.$r),this.Ur=new zt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new qt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new qt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new he(new gt([])),n=new qt(r,e),i=new qt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new he(new gt([])),n=new qt(r,e),i=new qt(r,e+1);let a=Me();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new qt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class qt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return he.comparator(e.key,r.key)||Oe(e.Yr,r.Yr)}static Kr(e,r){return Oe(e.Yr,r.Yr)||he.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new zt(qt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new qt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,r){return X.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?vj:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new qt(r,0),i=new qt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new zt(Oe);return r.forEach(i=>{const a=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),X.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;he.isDocumentKey(a)||(a=a.child(""));const o=new qt(new he(a),0);let l=new zt(Oe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),X.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ue(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return X.forEach(r.mutations,i=>{const a=new qt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new qt(r,0),i=this.Zr.firstAfterOrEqual(n);return X.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.ri=e,this.docs=function(){return new yt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return X.resolve(n?n.document.mutableCopy():pr.newInvalidDocument(r))}getEntries(e,r){let n=Ri();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():pr.newInvalidDocument(i))}),X.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ri();const o=r.path,l=new he(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||IB(PB(d),n)<=0||(i.has(d.key)||wg(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,r,n,i){xe(9500)}ii(e,r){return X.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new s7(this)}getSize(e){return X.resolve(this.size)}}class s7 extends QU{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),X.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.persistence=e,this.si=new to(r=>wj(r),jj),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Tj,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),X.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new xl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,X.resolve()}updateTargetData(e,r){return this.Pr(r),X.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),X.waitFor(a).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return X.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),X.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),X.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return X.resolve(n)}containsKey(e,r){return X.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,r){this.ui={},this.overlays={},this.ci=new gg(0),this.li=!1,this.li=!0,this.hi=new r7,this.referenceDelegate=e(this),this.Pi=new a7(this),this.indexManager=new WU,this.remoteDocumentCache=function(i){return new i7(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new UU(r),this.Ii=new e7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new t7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new n7(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ie("MemoryPersistence","Starting transaction:",e);const i=new o7(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return X.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class o7 extends OB{constructor(e){super(),this.currentSequenceNumber=e}}class Ej{constructor(e){this.persistence=e,this.Ri=new Tj,this.Vi=null}static mi(e){return new Ej(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),X.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),X.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),X.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,n=>{const i=he.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,Ne.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return X.or([()=>X.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Lm{constructor(e,r){this.persistence=e,this.pi=new to(n=>RB(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=XU(this,r)}static mi(e,r){return new Lm(e,r)}Ei(){}di(e){return X.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return X.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?X.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,Ne.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Wf(e.data.value)),r}br(e,r,n){return X.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return X.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Me(),i=Me();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Pj(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return R8()?8:MB(yr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new l7;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(No()<=Ce.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",_o(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(No()<=Ce.DEBUG&&ie("QueryEngine","Query:",_o(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(No()<=Ce.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",_o(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(r))):X.resolve())}ys(e,r){if(uS(r))return X.resolve(null);let n=Yn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=vb(r,null,"F"),n=Yn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Me(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,vb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return uS(r)||i.isEqual(Ne.min())?X.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?X.resolve(null):(No()<=Ce.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_o(r)),this.vs(e,o,r,EB(i,ud)).next(l=>l))})}Ds(e,r){let n=new zt(H4(e));return r.forEach((i,a)=>{wg(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return No()<=Ce.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",_o(r)),this.ps.getDocumentsMatchingQuery(e,r,$s.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="LocalStore",u7=3e8;class d7{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new yt(Oe),this.xs=new to(a=>wj(a),jj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function h7(t,e,r,n){return new d7(t,e,r,n)}async function pO(t,e){const r=Se(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Me();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function f7(t,e){const r=Se(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=X.resolve();return f.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(b=>{const x=u.docVersions.get(v);Ue(x!==null,48541),b.version.compareTo(x)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Me();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function gO(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function m7(t,e){const r=Se(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let p=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(lr.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(h,p),function(b,x,g){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=u7?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&l.push(r.Pi.updateTargetData(a,p))});let c=Ri(),u=Me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(p7(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(Ne.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return X.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function p7(t,e,r){let n=Me(),i=Me();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ri();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ne.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ie(Ij,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function g7(t,e){const r=Se(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=vj),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function x7(t,e){const r=Se(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,X.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new vs(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Nb(t,e,r){const n=Se(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ac(o))throw o;ie(Ij,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function NS(t,e,r){const n=Se(t);let i=Ne.min(),a=Me();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Se(c),f=h.xs.get(d);return f!==void 0?X.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(n,o,Yn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Ne.min(),r?a:Me())).next(l=>(v7(n,rU(e),l),{documents:l,Qs:a})))}function v7(t,e,r){let n=t.Os.get(e)||Ne.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class _S{constructor(){this.activeTargetIds=lU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y7{constructor(){this.Mo=new _S,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _S,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="ConnectivityMonitor";class kS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(SS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ie(SS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function _b(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",w7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Im?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=_b(),l=this.zo(e,r.toUriEncodedString());ie(wv,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(l),d=tc(u);return this.Jo(e,l,c,n,d).then(h=>(ie(wv,`Received RPC '${e}' ${o}: `,h),h),h=>{throw fl(wv,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=w7[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class _7 extends j7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=_b();return new Promise((l,c)=>{const u=new b4;u.setWithCredentials(!0),u.listenOnce(w4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case zf.NO_ERROR:const h=u.getResponseJson();ie(dr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case zf.TIMEOUT:ie(dr,`RPC '${e}' ${o} timed out`),c(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const f=u.getStatus();if(ie(dr,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const b=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(y)>=0?y:Q.UNKNOWN}(v.status);c(new ce(b,v.message))}else c(new ce(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(dr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ie(dr,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=_b(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_4(),l=N4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");ie(dr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let f=!1,p=!1;const v=new N7({Yo:x=>{p?ie(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(ie(dr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ie(dr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),b=(x,g,y)=>{x.listen(g,w=>{try{y(w)}catch(k){setTimeout(()=>{throw k},0)}})};return b(h,du.EventType.OPEN,()=>{p||(ie(dr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),b(h,du.EventType.CLOSE,()=>{p||(p=!0,ie(dr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),b(h,du.EventType.ERROR,x=>{p||(p=!0,fl(dr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.a_(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),b(h,du.EventType.MESSAGE,x=>{var g;if(!p){const y=x.data[0];Ue(!!y,16349);const w=y,k=(w==null?void 0:w.error)||((g=w[0])==null?void 0:g.error);if(k){ie(dr,`RPC '${e}' stream ${i} received error:`,k);const j=k.status;let A=function(T){const O=Et[T];if(O!==void 0)return nO(O)}(j),S=k.message;A===void 0&&(A=Q.INTERNAL,S="Unknown error status: "+j+" with message "+k.message),p=!0,v.a_(new ce(A,S)),h.close()}else ie(dr,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),b(l,j4.STAT_EVENT,x=>{x.stat===hb.PROXY?ie(dr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===hb.NOPROXY&&ie(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function jv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){return new TU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="PersistentStream";class vO{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xO(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Q.RESOURCE_EXHAUSTED?(Di(r.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(AS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ie(AS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S7 extends vO{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=IU(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ne.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Xn(o.readTime):Ne.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=jb(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=xb(c)?{documents:MU(a,c)}:{query:DU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=aO(a,o.resumeToken);const u=yb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ne.min())>0){l.readTime=Rm(a,o.snapshotVersion.toTimestamp());const u=yb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=LU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=jb(this.serializer),r.removeTarget=e,this.q_(r)}}class k7 extends vO{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=OU(e.writeResults,e.commitTime),n=Xn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=jb(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>CU(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{}class T7 extends A7{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,bb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ce(Q.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,bb(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Q.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class E7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Di(r),this.aa=!1):ie("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class P7{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{no(this)&&(ie(Ba,"Restarting streams for network reachability change."),await async function(c){const u=Se(c);u.Ea.add(4),await ph(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kg(u)}(this))})}),this.Ra=new E7(n,i)}}async function kg(t){if(no(t))for(const e of t.da)await e(!0)}async function ph(t){for(const e of t.da)await e(!1)}function yO(t,e){const r=Se(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Dj(r)?Mj(r):oc(r).O_()&&Oj(r,e))}function Cj(t,e){const r=Se(t),n=oc(r);r.Ia.delete(e),n.O_()&&bO(r,e),r.Ia.size===0&&(n.O_()?n.L_():no(r)&&r.Ra.set("Unknown"))}function Oj(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}oc(t).Y_(e)}function bO(t,e){t.Va.Ue(e),oc(t).Z_(e)}function Mj(t){t.Va=new _U({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Ra.ua()}function Dj(t){return no(t)&&!oc(t).x_()&&t.Ia.size>0}function no(t){return Se(t).Ea.size===0}function wO(t){t.Va=void 0}async function I7(t){t.Ra.set("Online")}async function C7(t){t.Ia.forEach((e,r)=>{Oj(t,e)})}async function O7(t,e){wO(t),Dj(t)?(t.Ra.ha(e),Mj(t)):t.Ra.set("Unknown")}async function M7(t,e,r){if(t.Ra.set("Online"),e instanceof sO&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(n){ie(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await $m(t,n)}else if(e instanceof Gf?t.Va.Ze(e):e instanceof iO?t.Va.st(e):t.Va.tt(e),!r.isEqual(Ne.min()))try{const n=await gO(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(lr.EMPTY_BYTE_STRING,d.snapshotVersion)),bO(a,c);const h=new vs(d.target,c,u,d.sequenceNumber);Oj(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){ie(Ba,"Failed to raise snapshot:",n),await $m(t,n)}}async function $m(t,e,r){if(!ac(e))throw e;t.Ea.add(1),await ph(t),t.Ra.set("Offline"),r||(r=()=>gO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(Ba,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await kg(t)})}function jO(t,e){return e().catch(r=>$m(t,r,e))}async function Ag(t){const e=Se(t),r=Us(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vj;for(;D7(e);)try{const i=await g7(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,R7(e,i)}catch(i){await $m(e,i)}NO(e)&&_O(e)}function D7(t){return no(t)&&t.Ta.length<10}function R7(t,e){t.Ta.push(e);const r=Us(t);r.O_()&&r.X_&&r.ea(e.mutations)}function NO(t){return no(t)&&!Us(t).x_()&&t.Ta.length>0}function _O(t){Us(t).start()}async function L7(t){Us(t).ra()}async function $7(t){const e=Us(t);for(const r of t.Ta)e.ea(r.mutations)}async function V7(t,e,r){const n=t.Ta.shift(),i=Sj.from(n,e,r);await jO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ag(t)}async function F7(t,e){e&&Us(t).X_&&await async function(n,i){if(function(o){return wU(o)&&o!==Q.ABORTED}(i.code)){const a=n.Ta.shift();Us(n).B_(),await jO(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ag(n)}}(t,e),NO(t)&&_O(t)}async function TS(t,e){const r=Se(t);r.asyncQueue.verifyOperationInProgress(),ie(Ba,"RemoteStore received new credentials");const n=no(r);r.Ea.add(3),await ph(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await kg(r)}async function B7(t,e){const r=Se(t);e?(r.Ea.delete(2),await kg(r)):e||(r.Ea.add(2),await ph(r),r.Ra.set("Unknown"))}function oc(t){return t.ma||(t.ma=function(r,n,i){const a=Se(r);return a.sa(),new S7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:I7.bind(null,t),t_:C7.bind(null,t),r_:O7.bind(null,t),H_:M7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Dj(t)?Mj(t):t.Ra.set("Unknown")):(await t.ma.stop(),wO(t))})),t.ma}function Us(t){return t.fa||(t.fa=function(r,n,i){const a=Se(r);return a.sa(),new k7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L7.bind(null,t),r_:F7.bind(null,t),ta:$7.bind(null,t),na:V7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ag(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(Ba,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Rj(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lj(t,e){if(Di("AsyncQueue",`${e}: ${t}`),ac(t))return new ce(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||he.comparator(r.key,n.key):(r,n)=>he.comparator(r.key,n.key),this.keyedMap=hu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new el;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.ga=new yt(he.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class vl{constructor(e,r,n,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new vl(e,r,el.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class z7{constructor(){this.queries=PS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Se(r),a=i.queries;i.queries=PS(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new ce(Q.ABORTED,"Firestore shutting down"))}}function PS(){return new to(t=>W4(t),bg)}async function W7(t,e){const r=Se(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new U7,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=Lj(o,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&$j(r)}async function H7(t,e){const r=Se(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function q7(t,e){const r=Se(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&$j(r)}function G7(t,e,r){const n=Se(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function $j(t){t.Ca.forEach(e=>{e.next()})}var Sb,IS;(IS=Sb||(Sb={})).Ma="default",IS.Cache="cache";class K7{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new vl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.key=e}}class kO{constructor(e){this.key=e}}class Y7{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=H4(e),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new ES,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=wg(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?v!==b&&(n.track({type:3,doc:p}),x=!0):this.su(f,p)||(n.track({type:2,doc:p}),x=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!f&&p?(n.track({type:0,doc:p}),x=!0):f&&!p&&(n.track({type:1,doc:f}),x=!0,(c||u)&&(l=!0)),x&&(p?(o=o.add(p),a=b?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:x})}};return b(p)-b(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new vl(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ES,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new kO(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new SO(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Me();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return vl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vj="SyncEngine";class X7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Q7{constructor(e){this.key=e,this.hu=!1}}class J7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new to(l=>W4(l),bg),this.Iu=new Map,this.Eu=new Set,this.du=new yt(he.comparator),this.Au=new Map,this.Ru=new Tj,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z7(t,e,r=!0){const n=CO(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await AO(n,e,r,!0),i}async function ez(t,e){const r=CO(t);await AO(r,e,!0,!1)}async function AO(t,e,r,n){const i=await x7(t.localStore,Yn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await tz(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&yO(t.remoteStore,i),l}async function tz(t,e,r,n,i){t.pu=(h,f,p)=>async function(b,x,g,y){let w=x.view.ru(g);w.Cs&&(w=await NS(b.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,w)));const k=y&&y.targetChanges.get(x.targetId),j=y&&y.targetMismatches.get(x.targetId)!=null,A=x.view.applyChanges(w,b.isPrimaryClient,k,j);return OS(b,x.targetId,A.au),A.snapshot}(t,h,f,p);const a=await NS(t.localStore,e,!0),o=new Y7(e,a.Qs),l=o.ru(a.documents),c=mh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);OS(t,r,u.au);const d=new X7(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function rz(t,e,r){const n=Se(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!bg(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Nb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Cj(n.remoteStore,i.targetId),kb(n,i.targetId)}).catch(sc)):(kb(n,i.targetId),await Nb(n.localStore,i.targetId,!0))}async function nz(t,e){const r=Se(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Cj(r.remoteStore,n.targetId))}async function iz(t,e,r){const n=dz(t);try{const i=await function(o,l){const c=Se(o),u=ut.now(),d=l.reduce((p,v)=>p.add(v.key),Me());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ri(),b=Me();return c.Ns.getEntries(p,d).next(x=>{v=x,v.forEach((g,y)=>{y.isValidDocument()||(b=b.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(x=>{h=x;const g=[];for(const y of l){const w=gU(y,h.get(y.key).overlayedDocument);w!=null&&g.push(new ro(y.key,w,L4(w.value.mapValue),Si.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,g,l)}).next(x=>{f=x;const g=x.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:f.batchId,changes:G4(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new yt(Oe)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await gh(n,i.changes),await Ag(n.remoteStore)}catch(i){const a=Lj(i,"Failed to persist write");r.reject(a)}}async function TO(t,e){const r=Se(t);try{const n=await m7(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ue(o.hu,14607):i.removedDocuments.size>0&&(Ue(o.hu,42227),o.hu=!1))}),await gh(r,n,e)}catch(n){await sc(n)}}function CS(t,e,r){const n=Se(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Se(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&$j(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function sz(t,e,r){const n=Se(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new yt(he.comparator);o=o.insert(a,pr.newNoDocument(a,Ne.min()));const l=Me().add(a),c=new _g(Ne.min(),new Map,new yt(Oe),o,l);await TO(n,c),n.du=n.du.remove(a),n.Au.delete(e),Fj(n)}else await Nb(n.localStore,e,!1).then(()=>kb(n,e,r)).catch(sc)}async function az(t,e){const r=Se(t),n=e.batch.batchId;try{const i=await f7(r.localStore,e);PO(r,n,null),EO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await gh(r,i)}catch(i){await sc(i)}}async function oz(t,e,r){const n=Se(t);try{const i=await function(o,l){const c=Se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Ue(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);PO(n,e,r),EO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await gh(n,i)}catch(i){await sc(i)}}function EO(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function PO(t,e,r){const n=Se(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function kb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||IO(t,n)})}function IO(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Cj(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Fj(t))}function OS(t,e,r){for(const n of r)n instanceof SO?(t.Ru.addReference(n.key,e),lz(t,n)):n instanceof kO?(ie(Vj,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||IO(t,n.key)):xe(19791,{wu:n})}function lz(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ie(Vj,"New document in limbo: "+r),t.Eu.add(n),Fj(t))}function Fj(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new he(gt.fromString(e)),n=t.fu.next();t.Au.set(n,new Q7(r)),t.du=t.du.insert(r,n),yO(t.remoteStore,new vs(Yn(Nj(r.path)),n,"TargetPurposeLimboResolution",gg.ce))}}async function gh(t,e,r){const n=Se(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Pj.As(c.targetId,u);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=Se(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(u,f=>X.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>X.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ac(h))throw h;ie(Ij,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),v=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(f,b)}}}(n.localStore,a))}async function cz(t,e){const r=Se(t);if(!r.currentUser.isEqual(e)){ie(Vj,"User change. New user:",e.toKey());const n=await pO(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ce(Q.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await gh(r,n.Ls)}}function uz(t,e){const r=Se(t),n=r.Au.get(e);if(n&&n.hu)return Me().add(n.key);{let i=Me();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function CO(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sz.bind(null,e),e.Pu.H_=q7.bind(null,e.eventManager),e.Pu.yu=G7.bind(null,e.eventManager),e}function dz(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=az.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oz.bind(null,e),e}class Vm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return h7(this.persistence,new c7,e.initialUser,this.serializer)}Cu(e){return new mO(Ej.mi,this.serializer)}Du(e){return new y7}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vm.provider={build:()=>new Vm};class hz extends Vm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ue(this.persistence.referenceDelegate instanceof Lm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new KU(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new mO(n=>Lm.mi(n,r),this.serializer)}}class Ab{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>CS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=cz.bind(null,this.syncEngine),await B7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z7}()}createDatastore(e){const r=Sg(e.databaseInfo.databaseId),n=function(a){return new _7(a)}(e.databaseInfo);return function(a,o,l,c){return new T7(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new P7(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>CS(this.syncEngine,r,0),function(){return kS.v()?new kS:new b7}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const h=new J7(i,a,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Se(i);ie(Ba,"RemoteStore shutting down."),a.Ea.add(5),await ph(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Ab.provider={build:()=>new Ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="FirestoreClient";class mz{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=gj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ie(zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ie(zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Lj(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Nv(t,e){t.asyncQueue.verifyOperationInProgress(),ie(zs,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await pO(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pz(t);ie(zs,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>TS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>TS(e.remoteStore,i)),t._onlineComponents=e}async function pz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(zs,"Using user provided OfflineComponentProvider");try{await Nv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;fl("Error using user provided cache. Falling back to memory cache: "+r),await Nv(t,new Vm)}}else ie(zs,"Using default OfflineComponentProvider"),await Nv(t,new hz(void 0));return t._offlineComponents}async function OO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(zs,"Using user provided OnlineComponentProvider"),await MS(t,t._uninitializedComponentsProvider._online)):(ie(zs,"Using default OnlineComponentProvider"),await MS(t,new Ab))),t._onlineComponents}function gz(t){return OO(t).then(e=>e.syncEngine)}async function xz(t){const e=await OO(t),r=e.eventManager;return r.onListen=Z7.bind(null,e.syncEngine),r.onUnlisten=rz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ez.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nz.bind(null,e.syncEngine),r}function vz(t,e,r={}){const n=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new fz({next:f=>{d.Nu(),o.enqueueAndForget(()=>H7(a,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new ce(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new ce(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new K7(Nj(l.path),d,{includeMetadataChanges:!0,qa:!0});return W7(a,h)}(await xz(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firestore.googleapis.com",RS=!0;class LS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DO,this.ssl=RS}else this.host=e.host,this.ssl=e.ssl??RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qU)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MO(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bj{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new xB;switch(n.type){case"firstParty":return new wB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=DS.get(r);n&&(ie("ComponentProvider","Removing Datastore"),DS.delete(r),n.terminate())}(this),Promise.resolve()}}function yz(t,e,r,n={}){var u;t=cd(t,Bj);const i=tc(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(IC(`https://${l}`),CC("Firestore",!0)),a.host!==DO&&a.host!==l&&fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Ra(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=fr.MOCK_USER;else{d=A8(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ce(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new fr(f)}t._authCredentials=new vB(new k4(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Uj(this.firestore,e,this._query)}}class Xt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(hh(r,Xt._jsonSchema))return new Xt(e,n||null,new he(gt.fromString(r.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Ct("string",Xt._jsonSchemaVersion),referencePath:Ct("string")};class xd extends Uj{constructor(e,r,n){super(e,r,Nj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new he(e))}withConverter(e){return new xd(this.firestore,e,this._path)}}function $S(t,e,...r){if(t=Yr(t),arguments.length===1&&(e=gj.newId()),AB("doc","path",e),t instanceof Bj){const n=gt.fromString(e,...r);return Q_(n),new Xt(t,null,new he(n))}{if(!(t instanceof Xt||t instanceof xd))throw new ce(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(gt.fromString(e,...r));return Q_(n),new Xt(t.firestore,t instanceof xd?t.converter:null,new he(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="AsyncQueue";class FS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xO(this,"async_queue_retry"),this._c=()=>{const n=jv();n&&ie(VS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=jv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=jv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Os;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ac(e))throw e;ie(VS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Di("INTERNAL UNHANDLED ERROR: ",BS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Rj.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:BS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function BS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zj extends Bj{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new FS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FS(e),this._firestoreClient=void 0,await e}}}function bz(t,e){const r=typeof t=="object"?t:RC(),n=typeof t=="string"?t:Im,i=aj(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=S8("firestore");a&&yz(i,...a)}return i}function RO(t){if(t._terminated)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wz(t),t._firestoreClient}function wz(t){var n,i,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new VB(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,MO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mz(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(lr.fromBase64String(e))}catch(r){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ln(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hh(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Ct("string",ln._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qn._jsonSchemaVersion}}static fromJSON(e){if(hh(e,Qn._jsonSchema))return new Qn(e.latitude,e.longitude)}}Qn._jsonSchemaVersion="firestore/geoPoint/1.0",Qn._jsonSchema={type:Ct("string",Qn._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hh(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Jn(e.vectorValues);throw new ce(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Ct("string",Jn._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=/^__.*__$/;class Nz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,r,this.fieldTransforms):new fh(e,this.data,r,this.fieldTransforms)}}function LO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class qj{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LO(this.Ac)&&jz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _z{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Sg(e)}Cc(e,r,n,i=!1){return new qj({Ac:e,methodName:r,Dc:n,path:ir.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sz(t){const e=t._freezeSettings(),r=Sg(t._databaseId);return new _z(t._databaseId,!!e.ignoreUndefinedProperties,r)}function kz(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);BO("Data must be an object, but it was:",o,n);const l=VO(n,o);let c,u;if(a.merge)c=new Pn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=Az(e,h,r);if(!o.contains(f))throw new ce(Q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ez(d,f)||d.push(f)}c=new Pn(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Nz(new on(l),c,u)}class Gj extends Hj{_toFieldTransform(e){return new hU(e.path,new md)}isEqual(e){return e instanceof Gj}}function $O(t,e){if(FO(t=Yr(t)))return BO("Unsupported field value:",e,t),VO(t,e);if(t instanceof Hj)return function(n,i){if(!LO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let c=$O(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Yr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ut.fromDate(n);return{timestampValue:Rm(i.serializer,a)}}if(n instanceof ut){const a=new ut(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Rm(i.serializer,a)}}if(n instanceof Qn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ln)return{bytesValue:aO(i.serializer,n._byteString)};if(n instanceof Xt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Aj(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Jn)return function(o,l){return{mapValue:{fields:{[D4]:{stringValue:R4},[Cm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return _j(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${xj(n)}`)}(t,e)}function VO(t,e){const r={};return E4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(n,i)=>{const a=$O(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function FO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Qn||t instanceof ln||t instanceof Xt||t instanceof Hj||t instanceof Jn)}function BO(t,e,r){if(!FO(r)||!A4(r)){const n=xj(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Az(t,e,r){if((e=Yr(e))instanceof Wj)return e._internalPath;if(typeof e=="string")return UO(t,e);throw Fm("Field path arguments must be of type string or ",t,!1,void 0,r)}const Tz=new RegExp("[~\\*/\\[\\]]");function UO(t,e,r){if(e.search(Tz)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Wj(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Fm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new ce(Q.INVALID_ARGUMENT,l+t+c)}function Ez(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(WO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Pz extends zO{data(){return super.data()}}function WO(t,e){return typeof e=="string"?UO(t,e):e instanceof Wj?e._internalPath:e._delegate._internalPath}class Iz{convertValue(e,r="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return eo(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Cm].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Nt(o.doubleValue));return new Jn(r)}convertGeoPoint(e){return new Qn(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const r=Vs(e);return new ut(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=gt.fromString(e);Ue(hO(n),9688,{name:e});const i=new hd(n.get(1),n.get(3)),a=new he(n.popFirst(5));return i.isEqual(r)||Di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class mu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends zO{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(WO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Aa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Ct("string",Aa._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Kf extends Aa{data(e={}){return super.data(e)}}class Cu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new mu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Kf(this._firestore,this._userDataWriter,n.key,n,new mu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Kf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Kf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new mu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Oz(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=gj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Oz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){t=cd(t,Xt);const e=cd(t.firestore,zj);return vz(RO(e),t._key).then(r=>$z(e,t,r))}Cu._jsonSchemaVersion="firestore/querySnapshot/1.0",Cu._jsonSchema={type:Ct("string",Cu._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class Dz extends Iz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,r)}}function Rz(t,e,r){t=cd(t,Xt);const n=cd(t.firestore,zj),i=Cz(t.converter,e);return Lz(n,[kz(Sz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Si.none())])}function Lz(t,e){return function(n,i){const a=new Os;return n.asyncQueue.enqueueAndForget(async()=>iz(await gz(n),i,a)),a.promise}(RO(t),e)}function $z(t,e,r){const n=r.docs.get(e._key),i=new Dz(t);return new Aa(t,i,e._key,n,new mu(r.hasPendingWrites,r.fromCache),e.converter)}function US(){return new Gj("serverTimestamp")}(function(e,r=!0){(function(i){ic=i})(rc),hl(new La("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new zj(new yB(n.getProvider("auth-internal")),new jB(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(u.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Is(G_,K_,e),Is(G_,K_,"esm2020")})();const Yf={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!Yf.apiKey||!Yf.authDomain||!Yf.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let Bm;if(N_().length===0)try{Bm=DC(Yf)}catch(t){throw console.error(" Firebase initialization failed:",t),t}else Bm=N_()[0];const go=pB(Bm),zS=bz(Bm),WS="marketing_management_website_messages",xo=localStorage.getItem("useMockAuth")!=="false",HO=P.createContext(void 0);function Vz({children:t}){const[e,r]=P.useState(!1),[n,i]=P.useState(null),[a,o]=P.useState(!0),l=async(w,k)=>{const j=Le().find(S=>S.email===w&&S.password===k);if(!j)throw new Error("Invalid email or password");if(!j.isActive)throw new Error("Account is inactive");const A={id:j.id,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(A),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(A))},c=async w=>{const k=`user-${Date.now()}`,j={id:k,email:w.email,fullName:w.fullName,role:w.role,phone:w.phone,password:w.password,isActive:!0,createdAt:new Date,updatedAt:new Date};NC.push(j),localStorage.setItem("marketing_management_website_users",JSON.stringify(Le().concat(j)));const A=Le().filter(O=>O.role==="admin"),S={id:`message-${Date.now()}`,senderId:k,recipientId:void 0,subject:"New User Registration",content:`A new user has registered: ${j.fullName} (${j.email}) as ${j.role}. Please review and approve if necessary.`,isRead:!1,isBroadcast:!0,createdAt:new Date,updatedAt:new Date},N=JSON.parse(localStorage.getItem(WS)||"[]");A.forEach(O=>{N.push({...S,recipientId:O.id,id:`message-${Date.now()}-${O.id}`})}),localStorage.setItem(WS,JSON.stringify(N));const T={id:k,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(T),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(T))},u=async()=>{i(null),r(!1),localStorage.removeItem("mockAuthUser")},d=async w=>{try{const k=await Mz($S(zS,"users",w.uid));if(!k.exists())return console.error("User document not found in Firestore"),null;const j=k.data();return j.isActive?{id:w.uid,email:j.email||w.email||"",fullName:j.fullName||"",role:j.role,phone:j.phone||""}:(console.error("User account is inactive"),null)}catch(k){return console.error("Error fetching user data:",k),null}};P.useEffect(()=>{if(xo){o(!0);const w=localStorage.getItem("mockAuthUser");if(w)try{const k=JSON.parse(w);i(k),r(!0)}catch(k){console.error("Error parsing stored user:",k),localStorage.removeItem("mockAuthUser")}o(!1)}else{const w=nF(go,async k=>{if(o(!0),k){const j=await d(k);j?(i(j),r(!0)):(i(null),r(!1))}else i(null),r(!1);o(!1)});return()=>w()}},[]);const h=async(w,k)=>{if(xo)return l(w,k);try{if(!go)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");await eF(go,w,k)}catch(j){throw console.error("Sign in error:",j),console.error("Error code:",j.code),console.error("Error message:",j.message),j.code==="auth/user-not-found"?new Error("auth/user-not-found - No user found with this email. Please create an account first."):j.code==="auth/wrong-password"?new Error("auth/wrong-password - Incorrect password."):j.code==="auth/invalid-email"?new Error("auth/invalid-email - Invalid email address format."):j.code==="auth/user-disabled"?new Error("auth/user-disabled - This account has been disabled."):j.code==="auth/too-many-requests"?new Error("auth/too-many-requests - Too many failed login attempts. Please try again later."):j.code==="auth/network-request-failed"?new Error("auth/network-request-failed - Network error. Please check your internet connection."):j.code==="auth/invalid-api-key"?new Error("auth/invalid-api-key - Firebase API key is invalid. Check your .env file."):j.code==="auth/configuration-not-found"?new Error("auth/configuration-not-found - Firebase configuration not found. Check your .env file."):new Error(j.message||j.code||"Failed to sign in")}},f=async w=>{if(xo)return c(w);try{if(!go)throw new Error("Firebase Auth not initialized. Please check your configuration.");const j=(await ZV(go,w.email,w.password)).user;await Rz($S(zS,"users",j.uid),{email:w.email,fullName:w.fullName,phone:w.phone,role:w.role,isActive:!0,createdAt:US(),updatedAt:US()})}catch(k){throw console.error("Sign up error:",k),console.error("Error code:",k.code),console.error("Error message:",k.message),k.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):k.code==="auth/invalid-email"?new Error("Invalid email address format."):k.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):k.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(k.message||"Failed to create account")}},p=w=>{if(!n)return;const k={...n,...w};i(k),xo&&localStorage.setItem("mockAuthUser",JSON.stringify(k))},v=async()=>{if(xo)return u();try{await iF(go)}catch(w){throw console.error("Sign out error:",w),new Error(w.message||"Failed to sign out")}},b=w=>{if(!n)return;const k={...n,role:w};i(k),xo&&localStorage.setItem("mockAuthUser",JSON.stringify(k))},x=w=>n?w.includes(n.role):!1,g=w=>n?n.role==="admin"?!0:xn(n.id,n.role).some(j=>j.id===w):!1,y=w=>n?n.role==="admin"||n.role==="web_developer"&&w.assignedTo===n.id||n.role==="client"&&w.createdBy===n.id:!1;return s.jsx(HO.Provider,{value:{isSignedIn:e,user:n,loading:a,signIn:h,signUp:f,signOut:v,updateCurrentUser:p,switchRole:b,hasRole:x,canAccessProject:g,canManageTicket:y},children:t})}function pe(){const t=P.useContext(HO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const Fz={theme:"system",setTheme:()=>null},Bz=P.createContext(Fz);function Uz({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,a]=P.useState(()=>localStorage.getItem(r)||e);P.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(i)},[i]);const o={theme:i,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return s.jsx(Bz.Provider,{...n,value:o,children:t})}const zz=t=>2,Wz=t=>{switch(t){case"admin":return"/admin/dashboard";case"web_developer":return"/developer/dashboard";case"social_media_coordinator":return"/coordinator/dashboard";case"client":return"/client-portal/dashboard";default:return"/dashboard"}},Hz=t=>t.startsWith("/admin/")||t.startsWith("/developer/")||t.startsWith("/coordinator/")||t.startsWith("/client-portal/");function be(){const{isSignedIn:t,user:e,signOut:r}=pe(),n=ve(),a=Ks().pathname,[o,l]=P.useState(0),[c,u]=P.useState(0);P.useEffect(()=>{if(e){const h=f8(e.id).length,f=zz(e.id);l(h),u(f)}},[e]);const d=async()=>{try{await r(),n("/login")}catch(h){console.error("Error signing out:",h),n("/login")}};return s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),s.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:s.jsxs("div",{className:"container flex items-center justify-between py-4",children:[s.jsxs("button",{onClick:()=>{Hz(a)?n(e?Wz(e.role):"/"):n("/")},className:"flex items-center gap-2 text-2xl font-bold text-primary hover:opacity-80 transition-opacity cursor-pointer",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-6"}),s.jsx("div",{className:"hidden md:flex items-center gap-6",children:t&&e&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:[e.role==="admin"&&"Admin",e.role==="web_developer"&&"Dev",e.role==="social_media_coordinator"&&"Coord",e.role==="client"&&"Client"]}),s.jsx("span",{className:"text-foreground/50",children:"|"})]})})}),s.jsx("div",{className:"flex items-center gap-4",children:t&&e?s.jsxs("div",{className:"flex items-center gap-4",children:[e.role==="admin"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Management Tools",children:s.jsxs("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(Y,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(Y,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"}),s.jsx(Y,{to:"/reports",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Reports"}),s.jsx("div",{className:"border-t border-border my-2"}),s.jsx(Y,{to:"/ai-insights",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"AI Insights"}),s.jsx(Y,{to:"/integrations",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Integrations"}),s.jsx(Y,{to:"/automation",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Automation"}),s.jsx(Y,{to:"/templates",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Templates"})]})})]}),e.role==="web_developer"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Developer Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(Y,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(Y,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"})]})})]}),e.role==="social_media_coordinator"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Coordinator Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(Y,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(Y,{to:"/analytics",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Analytics"}),s.jsx(Y,{to:"/tickets",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Tickets"})]})})]}),e.role==="client"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Support Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v6m0 6v6m6-9h-6m-6 3H3m6 3h6"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Y,{to:"/client-portal/files",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Files"}),s.jsx(Y,{to:"/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Messages"}),s.jsx(Y,{to:"/client-portal/feedback",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Feedback"})]})})]}),s.jsxs(Y,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:o>99?"99+":o})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx("p",{className:"font-semibold text-foreground",children:e.fullName})}),s.jsx("button",{onClick:d,className:"btn-secondary text-sm",children:"Sign Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Y,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),s.jsx(Y,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})})]})})]})}function we(){const[t,e]=P.useState(!1),[r,n]=P.useState(!1),[i,a]=P.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"border-t border-border bg-muted py-12",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),s.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Project Management"})}),s.jsx("li",{children:s.jsx("a",{href:"/tickets",className:"hover:text-primary",children:"Ticketing System"})}),s.jsx("li",{children:s.jsx("a",{href:"/analytics",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>n(!0),className:"hover:text-primary",children:"Privacy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>a(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),s.jsx("div",{className:"border-t border-border pt-8",children:s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2026 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),s.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Create an account with your assigned role"}),s.jsx("li",{children:"Access your role-specific dashboard"}),s.jsx("li",{children:"View assigned projects and tasks"}),s.jsx("li",{children:"Collaborate with your team members"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"View progress of your website through different stages"}),s.jsx("li",{children:"Create tickets for bug reports or content changes"}),s.jsx("li",{children:"Track analytics and social media performance"}),s.jsx("li",{children:"Communicate with your development team"}),s.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access all your assigned website projects"}),s.jsx("li",{children:"Update project stages as work progresses"}),s.jsx("li",{children:"Manage and resolve technical tickets"}),s.jsx("li",{children:"Track time and deliverables"}),s.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports, monitor performance trends, and handle support tickets related to social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),s.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Never share your login credentials"}),s.jsx("li",{children:"Enable two-factor authentication when available"}),s.jsx("li",{children:"Log out from shared devices"}),s.jsx("li",{children:"Report suspicious activity immediately"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",s.jsx("br",{}),"Phone: +27 21 123 4567",s.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Team members assigned to the same projects"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>n(!1),className:"w-full btn-primary",children:"Close"})})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),s.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Update project stages accurately as work progresses"}),s.jsx("li",{children:"Respond to tickets within agreed timeframes"}),s.jsx("li",{children:"Submit accurate analytics data"}),s.jsx("li",{children:"Respect intellectual property rights"}),s.jsx("li",{children:"Maintain professional communication standards"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),s.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>a(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function qz(){const{isSignedIn:t}=pe();return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsxs("main",{className:"flex flex-col",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/10",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-500"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),s.jsx("div",{className:"absolute bottom-32 left-32 w-4 h-4 bg-secondary rounded-full animate-bounce delay-500"}),s.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-accent rounded-full animate-bounce delay-700"})]}),s.jsx("div",{className:"container text-center relative z-10 px-4 py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-8",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Welcome to the Future of Marketing Management"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-balance bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent leading-tight",children:["Manage Websites.",s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"Track Social Media."}),s.jsx("br",{}),s.jsx("span",{className:"text-primary",children:"Collaborate Better."})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Your complete project management platform for website development and social media coordination with team collaboration, real-time analytics, and intelligent ticketing."}),s.jsx("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:t?s.jsxs(Y,{to:"/dashboard",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden min-w-[200px] text-center",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsxs("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]})}),s.jsx("span",{children:"Go to Dashboard"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Y,{to:"/register",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden min-w-[200px] text-center",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),s.jsx("span",{children:"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(Y,{to:"/login",className:"group border-2 border-primary/30 text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white hover:border-primary transition-all duration-300 transform hover:-translate-y-1 min-w-[200px] text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{children:"Sign In"})]})})]})})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{id:"features",className:"py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312265E' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Powerful Features"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"How Marketing Management Website Works"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Streamline your marketing operations with our comprehensive suite of tools designed for modern teams."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-primary transition-colors",children:"Team Collaboration"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently with real-time updates and notifications."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-primary/10 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-accent/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-accent transition-colors",children:"Project Tracking"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time with detailed analytics and status updates."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-accent to-primary rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/10 to-primary/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-secondary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-secondary transition-colors",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track website traffic and social media engagement. Get comprehensive insights into performance metrics with beautiful visualizations."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-secondary to-accent rounded-full"})})]})]})]}),s.jsx("div",{className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:[{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),title:"Smart Ticketing",desc:"AI-powered ticket management"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),title:"Mobile Ready",desc:"Access anywhere, anytime"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),title:"Secure",desc:"Enterprise-grade security"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Fast",desc:"Lightning-quick performance"}].map((e,r)=>s.jsxs("div",{className:"text-center p-6 rounded-xl bg-card/50 border border-border/50 hover:bg-card hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-primary/10 to-accent/10 rounded-lg flex items-center justify-center text-primary group-hover:scale-110 transition-transform duration-300",children:e.icon}),s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]},r))})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-background via-primary/5 to-secondary/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-primary/5 to-accent/5"})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Role-Based Experience"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent",children:"Built for Every Role"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tailored experiences designed specifically for each team member's workflow and responsibilities."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-3xl transform rotate-2 group-hover:rotate-3 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg",children:"Administrator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"System Administrator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Full system control with user management, project oversight, analytics access, and system configuration."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"User Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Analytics"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full Access"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary border border-primary/20",children:"Web Developer"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Web Developer"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Code, build, and deploy websites with ticket management, project tracking, and development tools."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ticket Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Repository"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deploy Tools"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-accent-dark/10 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-accent/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2m4 0H8l.5 16h7L16 4z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-accent/10 text-accent border border-accent/20",children:"Coordinator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Manage social media campaigns, track engagement metrics, and coordinate content across platforms."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Campaign Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analytics Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Content Calendar"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/10 to-success-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-success/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-success to-success-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-success/10 text-success border border-success/20",children:"Client"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Client Portal"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"View project progress, submit feedback, create support tickets, and communicate directly with your team."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Project Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"File Sharing"]})]})]})]})]})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary via-primary-dark to-primary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:s.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"white",opacity:"0.1"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#pattern)"})]})}),s.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsx("div",{className:"container text-center relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 border border-white/20 text-white text-sm font-medium mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Start Your Journey Today"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-white leading-tight",children:["Ready to Transform Your",s.jsx("br",{}),s.jsx("span",{className:"text-accent",children:"Marketing Workflow?"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of teams already managing their websites and social media campaigns more efficiently with our comprehensive marketing management platform."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(Y,{to:t?"/dashboard":"/register",className:"group relative bg-white text-primary px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[240px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(Y,{to:"/login",className:"group border-2 border-white/30 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white/10 hover:border-white transition-all duration-300 transform hover:-translate-y-1 backdrop-blur-sm w-[240px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})})]})]}),s.jsx(we,{})]})}let Gz=0;const qO=()=>{const[t,e]=P.useState([]);return{toasts:t,showToast:(n,i="info")=>{const a=String(Gz++),o={id:a,message:n,type:i};e(l=>[...l,o]),setTimeout(()=>{e(l=>l.filter(c=>c.id!==a))},3e3)}}};function GO({toasts:t}){return s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>s.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function Kz(){const t=ve(),e=Ks(),{toasts:r,showToast:n}=qO(),{signIn:i,loading:a,isSignedIn:o}=pe(),[l,c]=P.useState(""),[u,d]=P.useState(""),[h,f]=P.useState(!1),p=new URLSearchParams(e.search).get("portal")==="client";P.useEffect(()=>{o&&!a&&t("/dashboard")},[o,a,t]);const v=async b=>{if(b.preventDefault(),!l||!u){n("Please fill in all fields","error");return}f(!0);try{await i(l,u),n("Signing in...","success")}catch(x){let g="Failed to sign in. Please try again.";if(x instanceof Error&&"message"in x)g=x.message;else if(typeof x=="object"&&x!==null&&"code"in x)switch(x.code){case"auth/user-not-found":g="No account found with this email address.";break;case"auth/wrong-password":g="Incorrect password. Please try again.";break;case"auth/invalid-email":g="Please enter a valid email address.";break;case"auth/user-disabled":g="This account has been disabled.";break;case"auth/too-many-requests":g="Too many failed login attempts. Please try again later.";break;default:g="Authentication failed. Please try again."}n(g,"error")}finally{f(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:p?"Client Portal":"Sign In"}),s.jsx("p",{className:"text-muted-foreground",children:p?"Welcome Back - Access your project updates and files":"Access your Marketing Management Website account"})]}),s.jsxs("div",{className:"card",children:[p&&s.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-accent mb-2",children:"Client Portal Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-accent/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]}),s.jsx("p",{className:"text-xs text-accent/60 mt-2",children:"Don't have access? Contact support"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:l,onChange:b=>c(b.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:u,onChange:b=>d(b.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"remember",type:"checkbox",className:"rounded"}),s.jsx("label",{htmlFor:"remember",className:"text-sm text-foreground",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:()=>n("Password reset feature coming soon. Please contact support.","info"),className:"text-sm text-primary hover:underline bg-transparent border-none p-0 cursor-pointer",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:h||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h||a?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>n("Google sign-in feature coming soon. Please use email/password for now.","info"),className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(Y,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]}),p&&s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:s.jsx(Y,{to:"/",className:"text-primary font-semibold hover:underline",children:" Back to Main Site"})})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Secure"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Collaborative"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"Efficient"]})]})]})]})}),s.jsx(GO,{toasts:r}),s.jsx(we,{})]})}function Yz(){const t=ve(),{toasts:e,showToast:r}=qO(),{signUp:n,isSignedIn:i,loading:a}=pe(),[o,l]=P.useState("client"),[c,u]=P.useState(""),[d,h]=P.useState(""),[f,p]=P.useState(""),[v,b]=P.useState(""),[x,g]=P.useState(""),[y,w]=P.useState(!1),[k,j]=P.useState(!1),[A,S]=P.useState(!1),[N,T]=P.useState(!1);P.useEffect(()=>{i&&!a&&t("/dashboard")},[i,a,t]);const O=async I=>{if(I.preventDefault(),!c||!d||!f||!v||!x){r("Please fill in all fields","error");return}if(v!==x){r("Passwords do not match","error");return}if(v.length<6){r("Password must be at least 6 characters","error");return}if(!y){r("Please agree to terms and conditions","error");return}T(!0);try{await n({email:d,password:v,fullName:c,phone:f,role:o}),r("Account created successfully!","success")}catch(C){r(C.message||"Failed to create account","error")}finally{T(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted py-12",children:s.jsxs("div",{className:"container max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>l("client"),className:`p-6 rounded-lg border-2 transition text-center ${o==="client"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),s.jsxs("button",{onClick:()=>l("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${o==="web_developer"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),s.jsxs("button",{onClick:()=>l("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${o==="social_media_coordinator"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:f,onChange:I=>p(I.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{type:"password",value:v,onChange:I=>b(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",value:x,onChange:I=>g(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:I=>w(I.target.checked),className:"mt-1"}),s.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",s.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),s.jsx("button",{type:"submit",disabled:N||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:N?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(Y,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),s.jsx(GO,{toasts:e}),k&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),s.jsx("button",{onClick:()=>j(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>j(!1),className:"w-full btn-primary",children:"Close"})})]})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>S(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Payment processors to complete transactions"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>S(!1),className:"w-full btn-primary",children:"Close"})})]})}),s.jsx(we,{})]})}function Xz(){const{isSignedIn:t,user:e,loading:r}=pe(),n=ve();return P.useEffect(()=>{if(!r){if(!t){n("/login");return}if(e)switch(e.role){case"admin":n("/admin/dashboard");break;case"web_developer":n("/developer/dashboard");break;case"social_media_coordinator":n("/coordinator/dashboard");break;case"client":n("/client-portal/dashboard");break;default:n("/")}}},[t,e,r,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function KO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=KO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ae(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=KO(t))&&(n&&(n+=" "),n+=e);return n}const Kj="-",Qz=t=>{const e=Zz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Kj);return l[0]===""&&l.length!==1&&l.shift(),YO(l,e)||Jz(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},YO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?YO(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Kj);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},HS=/^\[(.+)\]$/,Jz=t=>{if(HS.test(t)){const e=HS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Zz=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return tW(Object.entries(t.classGroups),r).forEach(([a,o])=>{Tb(o,n,a,e)}),n},Tb=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:qS(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(eW(i)){Tb(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Tb(o,qS(e,a),r,n)})})},qS=(t,e)=>{let r=t;return e.split(Kj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},eW=t=>t.isThemeGetter,tW=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,rW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},XO="!",nW=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===i&&(n||l.slice(x,x+a)===e)){c.push(l.slice(d,x)),d=x+a;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(XO),v=p?f.substring(1):f,b=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},iW=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},sW=t=>({cache:rW(t.cacheSize),parseClassName:nW(t),...Qz(t)}),aW=/\s+/,oW=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(aW);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,b=n(v?f.substring(0,p):f);if(!b){if(!v){l=u+(l.length>0?" "+l:l);continue}if(b=n(f),!b){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=iW(d).join(":"),g=h?x+XO:x,y=g+b;if(a.includes(y))continue;a.push(y);const w=i(b,v);for(let k=0;k<w.length;++k){const j=w[k];a.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function lW(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=QO(e))&&(n&&(n+=" "),n+=r);return n}const QO=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=QO(t[n]))&&(r&&(r+=" "),r+=e);return r};function cW(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=sW(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=oW(c,r);return i(c,d),d}return function(){return a(lW.apply(null,arguments))}}const it=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},JO=/^\[(?:([a-z-]+):)?(.+)\]$/i,uW=/^\d+\/\d+$/,dW=new Set(["px","full","screen"]),hW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ui=t=>tl(t)||dW.has(t)||uW.test(t),rs=t=>lc(t,"length",_W),tl=t=>!!t&&!Number.isNaN(Number(t)),_v=t=>lc(t,"number",tl),Hc=t=>!!t&&Number.isInteger(Number(t)),xW=t=>t.endsWith("%")&&tl(t.slice(0,-1)),Te=t=>JO.test(t),ns=t=>hW.test(t),vW=new Set(["length","size","percentage"]),yW=t=>lc(t,vW,ZO),bW=t=>lc(t,"position",ZO),wW=new Set(["image","url"]),jW=t=>lc(t,wW,kW),NW=t=>lc(t,"",SW),qc=()=>!0,lc=(t,e,r)=>{const n=JO.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},_W=t=>fW.test(t)&&!mW.test(t),ZO=()=>!1,SW=t=>pW.test(t),kW=t=>gW.test(t),AW=()=>{const t=it("colors"),e=it("spacing"),r=it("blur"),n=it("brightness"),i=it("borderColor"),a=it("borderRadius"),o=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),h=it("invert"),f=it("gap"),p=it("gradientColorStops"),v=it("gradientColorStopPositions"),b=it("inset"),x=it("margin"),g=it("opacity"),y=it("padding"),w=it("saturate"),k=it("scale"),j=it("sepia"),A=it("skew"),S=it("space"),N=it("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Te,e],C=()=>[Te,e],M=()=>["",ui,rs],B=()=>["auto",tl,Te],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Te],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[tl,Te];return{cacheSize:500,separator:":",theme:{colors:[qc],spacing:[ui,rs],blur:["none","",ns,Te],brightness:J(),borderColor:[t],borderRadius:["none","","full",ns,Te],borderSpacing:C(),borderWidth:M(),contrast:J(),grayscale:z(),hueRotate:J(),invert:z(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[xW,rs],inset:I(),margin:I(),opacity:J(),padding:C(),saturate:J(),scale:J(),sepia:z(),skew:J(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Te]}],container:["container"],columns:[{columns:[ns]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Te]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hc,Te]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Te]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Hc,Te]}],"grid-cols":[{"grid-cols":[qc]}],"col-start-end":[{col:["auto",{span:["full",Hc,Te]},Te]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[qc]}],"row-start-end":[{row:["auto",{span:[Hc,Te]},Te]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Te]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Te,e]}],"min-w":[{"min-w":[Te,e,"min","max","fit"]}],"max-w":[{"max-w":[Te,e,"none","full","min","max","fit","prose",{screen:[ns]},ns]}],h:[{h:[Te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ns,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_v]}],"font-family":[{font:[qc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Te]}],"line-clamp":[{"line-clamp":["none",tl,_v]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ui,Te]}],"list-image":[{"list-image":["none",Te]}],"list-style-type":[{list:["none","disc","decimal",Te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ui,rs]}],"underline-offset":[{"underline-offset":["auto",ui,Te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),bW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[ui,Te]}],"outline-w":[{outline:[ui,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ui,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ns,NW]}],"shadow-color":[{shadow:[qc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ns,Te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Te]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Te]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Hc,Te]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ui,rs,_v]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TW=cW(AW);function EW(...t){return TW(Ae(t))}function eM(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function Rn(t){const e=typeof t=="string"?new Date(t):t,n=new Date().getTime()-e.getTime(),i=Math.floor(n/6e4),a=Math.floor(n/36e5),o=Math.floor(n/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:o<30?`${o} day${o>1?"s":""} ago`:eM(e)}function tM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function PW(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function IW(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-primary/10 text-primary border-primary/20",social_media_coordinator:"bg-accent/10 text-accent border-accent/20",client:"bg-success/10 text-success border-success/20"}[t]}function Br(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",seo_optimization:"SEO Optimisation",launch:"Launch",maintenance:"Maintenance"}[t]}function rM(t){return{planning:14.29,design:28.57,development:42.86,testing:57.14,seo_optimization:71.43,launch:85.71,maintenance:100}[t]}function nM(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function CW(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||tM(t)}function OW(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function MW(t){return tM(t)}function DW(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function pu(t){return new Intl.NumberFormat("en-ZA").format(t)}function RW(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function sr({title:t,value:e,icon:r,trend:n,className:i=""}){return s.jsx("div",{className:`bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8 shadow-sm hover:shadow-md transition-all duration-200 ${i}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide mb-2",children:t}),s.jsx("p",{className:"text-3xl lg:text-4xl font-bold text-foreground leading-none",children:typeof e=="number"?pu(e):e}),n&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n.isPositive?"bg-success/10 text-success-foreground":"bg-destructive/10 text-destructive-foreground"}`,children:[n.isPositive?"":""," ",Math.abs(n.value),"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),r&&s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx("div",{className:"text-primary w-6 h-6",children:r})})]})})}function xr({status:t,className:e=""}){return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${nM(t)} ${e}`,children:CW(t)})}function Ua({priority:t,className:e=""}){const r={low:"",medium:"",high:"",critical:""}[t];return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${OW(t)} ${e}`,children:[s.jsx("span",{children:r}),MW(t)]})}function df({className:t}){return s.jsx("div",{className:EW("animate-pulse rounded-md bg-muted",t)})}function hf(){return s.jsx("div",{className:"bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(df,{className:"h-4 w-24 mb-2"}),s.jsx(df,{className:"h-8 w-16 mb-3"}),s.jsx(df,{className:"h-4 w-20"})]}),s.jsx(df,{className:"w-12 h-12 rounded-lg"})]})})}var LW=Array.isArray,Dr=LW,$W=typeof Fh=="object"&&Fh&&Fh.Object===Object&&Fh,iM=$W,VW=iM,FW=typeof self=="object"&&self&&self.Object===Object&&self,BW=VW||FW||Function("return this")(),oi=BW,UW=oi,zW=UW.Symbol,xh=zW,GS=xh,sM=Object.prototype,WW=sM.hasOwnProperty,HW=sM.toString,Gc=GS?GS.toStringTag:void 0;function qW(t){var e=WW.call(t,Gc),r=t[Gc];try{t[Gc]=void 0;var n=!0}catch{}var i=HW.call(t);return n&&(e?t[Gc]=r:delete t[Gc]),i}var GW=qW,KW=Object.prototype,YW=KW.toString;function XW(t){return YW.call(t)}var QW=XW,KS=xh,JW=GW,ZW=QW,eH="[object Null]",tH="[object Undefined]",YS=KS?KS.toStringTag:void 0;function rH(t){return t==null?t===void 0?tH:eH:YS&&YS in Object(t)?JW(t):ZW(t)}var zi=rH;function nH(t){return t!=null&&typeof t=="object"}var Wi=nH,iH=zi,sH=Wi,aH="[object Symbol]";function oH(t){return typeof t=="symbol"||sH(t)&&iH(t)==aH}var cc=oH,lH=Dr,cH=cc,uH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dH=/^\w*$/;function hH(t,e){if(lH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||cH(t)?!0:dH.test(t)||!uH.test(t)||e!=null&&t in Object(e)}var Yj=hH;function fH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Qs=fH;const uc=qe(Qs);var mH=zi,pH=Qs,gH="[object AsyncFunction]",xH="[object Function]",vH="[object GeneratorFunction]",yH="[object Proxy]";function bH(t){if(!pH(t))return!1;var e=mH(t);return e==xH||e==vH||e==gH||e==yH}var Xj=bH;const ye=qe(Xj);var wH=oi,jH=wH["__core-js_shared__"],NH=jH,Sv=NH,XS=function(){var t=/[^.]+$/.exec(Sv&&Sv.keys&&Sv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _H(t){return!!XS&&XS in t}var SH=_H,kH=Function.prototype,AH=kH.toString;function TH(t){if(t!=null){try{return AH.call(t)}catch{}try{return t+""}catch{}}return""}var aM=TH,EH=Xj,PH=SH,IH=Qs,CH=aM,OH=/[\\^$.*+?()[\]{}|]/g,MH=/^\[object .+?Constructor\]$/,DH=Function.prototype,RH=Object.prototype,LH=DH.toString,$H=RH.hasOwnProperty,VH=RegExp("^"+LH.call($H).replace(OH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FH(t){if(!IH(t)||PH(t))return!1;var e=EH(t)?VH:MH;return e.test(CH(t))}var BH=FH;function UH(t,e){return t==null?void 0:t[e]}var zH=UH,WH=BH,HH=zH;function qH(t,e){var r=HH(t,e);return WH(r)?r:void 0}var io=qH,GH=io,KH=GH(Object,"create"),Tg=KH,QS=Tg;function YH(){this.__data__=QS?QS(null):{},this.size=0}var XH=YH;function QH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var JH=QH,ZH=Tg,eq="__lodash_hash_undefined__",tq=Object.prototype,rq=tq.hasOwnProperty;function nq(t){var e=this.__data__;if(ZH){var r=e[t];return r===eq?void 0:r}return rq.call(e,t)?e[t]:void 0}var iq=nq,sq=Tg,aq=Object.prototype,oq=aq.hasOwnProperty;function lq(t){var e=this.__data__;return sq?e[t]!==void 0:oq.call(e,t)}var cq=lq,uq=Tg,dq="__lodash_hash_undefined__";function hq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=uq&&e===void 0?dq:e,this}var fq=hq,mq=XH,pq=JH,gq=iq,xq=cq,vq=fq;function dc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dc.prototype.clear=mq;dc.prototype.delete=pq;dc.prototype.get=gq;dc.prototype.has=xq;dc.prototype.set=vq;var yq=dc;function bq(){this.__data__=[],this.size=0}var wq=bq;function jq(t,e){return t===e||t!==t&&e!==e}var Qj=jq,Nq=Qj;function _q(t,e){for(var r=t.length;r--;)if(Nq(t[r][0],e))return r;return-1}var Eg=_q,Sq=Eg,kq=Array.prototype,Aq=kq.splice;function Tq(t){var e=this.__data__,r=Sq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Aq.call(e,r,1),--this.size,!0}var Eq=Tq,Pq=Eg;function Iq(t){var e=this.__data__,r=Pq(e,t);return r<0?void 0:e[r][1]}var Cq=Iq,Oq=Eg;function Mq(t){return Oq(this.__data__,t)>-1}var Dq=Mq,Rq=Eg;function Lq(t,e){var r=this.__data__,n=Rq(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var $q=Lq,Vq=wq,Fq=Eq,Bq=Cq,Uq=Dq,zq=$q;function hc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hc.prototype.clear=Vq;hc.prototype.delete=Fq;hc.prototype.get=Bq;hc.prototype.has=Uq;hc.prototype.set=zq;var Pg=hc,Wq=io,Hq=oi,qq=Wq(Hq,"Map"),Jj=qq,JS=yq,Gq=Pg,Kq=Jj;function Yq(){this.size=0,this.__data__={hash:new JS,map:new(Kq||Gq),string:new JS}}var Xq=Yq;function Qq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Jq=Qq,Zq=Jq;function eG(t,e){var r=t.__data__;return Zq(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ig=eG,tG=Ig;function rG(t){var e=tG(this,t).delete(t);return this.size-=e?1:0,e}var nG=rG,iG=Ig;function sG(t){return iG(this,t).get(t)}var aG=sG,oG=Ig;function lG(t){return oG(this,t).has(t)}var cG=lG,uG=Ig;function dG(t,e){var r=uG(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var hG=dG,fG=Xq,mG=nG,pG=aG,gG=cG,xG=hG;function fc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fc.prototype.clear=fG;fc.prototype.delete=mG;fc.prototype.get=pG;fc.prototype.has=gG;fc.prototype.set=xG;var Zj=fc,oM=Zj,vG="Expected a function";function e1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vG);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(e1.Cache||oM),r}e1.Cache=oM;var lM=e1;const yG=qe(lM);var bG=lM,wG=500;function jG(t){var e=bG(t,function(n){return r.size===wG&&r.clear(),n}),r=e.cache;return e}var NG=jG,_G=NG,SG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kG=/\\(\\)?/g,AG=_G(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(SG,function(r,n,i,a){e.push(i?a.replace(kG,"$1"):n||r)}),e}),TG=AG;function EG(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var t1=EG,ZS=xh,PG=t1,IG=Dr,CG=cc,ek=ZS?ZS.prototype:void 0,tk=ek?ek.toString:void 0;function cM(t){if(typeof t=="string")return t;if(IG(t))return PG(t,cM)+"";if(CG(t))return tk?tk.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var OG=cM,MG=OG;function DG(t){return t==null?"":MG(t)}var uM=DG,RG=Dr,LG=Yj,$G=TG,VG=uM;function FG(t,e){return RG(t)?t:LG(t,e)?[t]:$G(VG(t))}var dM=FG,BG=cc;function UG(t){if(typeof t=="string"||BG(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Cg=UG,zG=dM,WG=Cg;function HG(t,e){e=zG(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[WG(e[r++])];return r&&r==n?t:void 0}var r1=HG,qG=r1;function GG(t,e,r){var n=t==null?void 0:qG(t,e);return n===void 0?r:n}var hM=GG;const qr=qe(hM);function KG(t){return t==null}var YG=KG;const _e=qe(YG);var XG=zi,QG=Dr,JG=Wi,ZG="[object String]";function eK(t){return typeof t=="string"||!QG(t)&&JG(t)&&XG(t)==ZG}var tK=eK;const za=qe(tK);var fM={exports:{}},Ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1=Symbol.for("react.element"),i1=Symbol.for("react.portal"),Og=Symbol.for("react.fragment"),Mg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),rK=Symbol.for("react.server_context"),$g=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),Ug=Symbol.for("react.lazy"),nK=Symbol.for("react.offscreen"),mM;mM=Symbol.for("react.module.reference");function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case n1:switch(t=t.type,t){case Og:case Dg:case Mg:case Vg:case Fg:return t;default:switch(t=t&&t.$$typeof,t){case rK:case Lg:case $g:case Ug:case Bg:case Rg:return t;default:return e}}case i1:return e}}}Ge.ContextConsumer=Lg;Ge.ContextProvider=Rg;Ge.Element=n1;Ge.ForwardRef=$g;Ge.Fragment=Og;Ge.Lazy=Ug;Ge.Memo=Bg;Ge.Portal=i1;Ge.Profiler=Dg;Ge.StrictMode=Mg;Ge.Suspense=Vg;Ge.SuspenseList=Fg;Ge.isAsyncMode=function(){return!1};Ge.isConcurrentMode=function(){return!1};Ge.isContextConsumer=function(t){return vn(t)===Lg};Ge.isContextProvider=function(t){return vn(t)===Rg};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===n1};Ge.isForwardRef=function(t){return vn(t)===$g};Ge.isFragment=function(t){return vn(t)===Og};Ge.isLazy=function(t){return vn(t)===Ug};Ge.isMemo=function(t){return vn(t)===Bg};Ge.isPortal=function(t){return vn(t)===i1};Ge.isProfiler=function(t){return vn(t)===Dg};Ge.isStrictMode=function(t){return vn(t)===Mg};Ge.isSuspense=function(t){return vn(t)===Vg};Ge.isSuspenseList=function(t){return vn(t)===Fg};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Og||t===Dg||t===Mg||t===Vg||t===Fg||t===nK||typeof t=="object"&&t!==null&&(t.$$typeof===Ug||t.$$typeof===Bg||t.$$typeof===Rg||t.$$typeof===Lg||t.$$typeof===$g||t.$$typeof===mM||t.getModuleId!==void 0)};Ge.typeOf=vn;fM.exports=Ge;var iK=fM.exports,sK=zi,aK=Wi,oK="[object Number]";function lK(t){return typeof t=="number"||aK(t)&&sK(t)==oK}var pM=lK;const cK=qe(pM);var uK=pM;function dK(t){return uK(t)&&t!=+t}var hK=dK;const vh=qe(hK);var jr=function(e){return e===0?0:e>0?1:-1},wa=function(e){return za(e)&&e.indexOf("%")===e.length-1},te=function(e){return cK(e)&&!vh(e)},fK=function(e){return _e(e)},Ut=function(e){return te(e)||za(e)},mK=0,mc=function(e){var r=++mK;return"".concat(e||"").concat(r)},Nr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!za(e))return n;var a;if(wa(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return vh(a)&&(a=n),i&&a>r&&(a=r),a},ms=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},pK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ur=function(e,r){return te(e)&&te(r)?function(n){return e+n*(r-e)}:function(){return r}};function Um(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):qr(n,e))===r})}var gK=function(e,r){return te(e)&&te(r)?e-r:za(e)&&za(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function rl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}var xK=["viewBox","children"],vK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rk=["points","pathLength"],kv={svg:xK,polygon:rk,polyline:rk},s1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),!uc(n))return null;var i={};return Object.keys(n).forEach(function(a){s1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},yK=function(e,r,n){return function(i){return e(r,n,i),null}},Wa=function(e,r,n){if(!uc(e)||Eb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];s1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=yK(o,r,n))}),i},bK=["children"],wK=["children"];function nk(t,e){if(t==null)return{};var r=jK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}var ik={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sk=null,Av=null,a1=function t(e){if(e===sk&&Array.isArray(Av))return Av;var r=[];return P.Children.forEach(e,function(n){_e(n)||(iK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Av=r,sk=e,r};function Gr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ki(i)}):n=[ki(e)],a1(t).forEach(function(i){var a=qr(i,"type.displayName")||qr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Fr(t,e){var r=Gr(t,e);return r&&r[0]}var ak=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!te(n)||n<=0||!te(i)||i<=0)},NK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_K=function(e){return e&&e.type&&za(e.type)&&NK.indexOf(e.type)>=0},SK=function(e){return e&&Pb(e)==="object"&&"clipDot"in e},kK=function(e,r,n,i){var a,o=(a=kv==null?void 0:kv[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ye(e)&&(i&&o.includes(r)||vK.includes(r))||n&&s1.includes(r)},de=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!uc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;kK((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},Ib=function t(e,r){if(e===r)return!0;var n=P.Children.count(e);if(n!==P.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ok(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!ok(a,o))return!1}return!0},ok=function(e,r){if(_e(e)&&_e(r))return!0;if(!_e(e)&&!_e(r)){var n=e.props||{},i=n.children,a=nk(n,bK),o=r.props||{},l=o.children,c=nk(o,wK);return i&&l?rl(a,c)&&Ib(i,l):!i&&!l?rl(a,c):!1}return!1},lk=function(e,r){var n=[],i={};return a1(e).forEach(function(a,o){if(_K(a))n.push(a);else if(a){var l=ki(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(a,l,o);n.push(h),i[l]=!0}}}),n},AK=function(e){var r=e&&e.type;return r&&ik[r]?ik[r]:null},TK=function(e,r){return a1(r).indexOf(e)},EK=["children","width","height","viewBox","className","style","title","desc"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(this,arguments)}function PK(t,e){if(t==null)return{};var r=IK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ob(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=PK(t,EK),d=i||{width:r,height:n,x:0,y:0},h=Ae("recharts-surface",a);return L.createElement("svg",Cb({},de(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),e)}var CK=["children","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(this,arguments)}function OK(t,e){if(t==null)return{};var r=MK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $e=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=OK(t,CK),a=Ae("recharts-layer",n);return L.createElement("g",Mb({className:a},de(i,!0),{ref:e}),r)}),On=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function DK(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var RK=DK,LK=RK;function $K(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:LK(t,e,r)}var VK=$K,FK="\\ud800-\\udfff",BK="\\u0300-\\u036f",UK="\\ufe20-\\ufe2f",zK="\\u20d0-\\u20ff",WK=BK+UK+zK,HK="\\ufe0e\\ufe0f",qK="\\u200d",GK=RegExp("["+qK+FK+WK+HK+"]");function KK(t){return GK.test(t)}var gM=KK;function YK(t){return t.split("")}var XK=YK,xM="\\ud800-\\udfff",QK="\\u0300-\\u036f",JK="\\ufe20-\\ufe2f",ZK="\\u20d0-\\u20ff",eY=QK+JK+ZK,tY="\\ufe0e\\ufe0f",rY="["+xM+"]",Db="["+eY+"]",Rb="\\ud83c[\\udffb-\\udfff]",nY="(?:"+Db+"|"+Rb+")",vM="[^"+xM+"]",yM="(?:\\ud83c[\\udde6-\\uddff]){2}",bM="[\\ud800-\\udbff][\\udc00-\\udfff]",iY="\\u200d",wM=nY+"?",jM="["+tY+"]?",sY="(?:"+iY+"(?:"+[vM,yM,bM].join("|")+")"+jM+wM+")*",aY=jM+wM+sY,oY="(?:"+[vM+Db+"?",Db,yM,bM,rY].join("|")+")",lY=RegExp(Rb+"(?="+Rb+")|"+oY+aY,"g");function cY(t){return t.match(lY)||[]}var uY=cY,dY=XK,hY=gM,fY=uY;function mY(t){return hY(t)?fY(t):dY(t)}var pY=mY,gY=VK,xY=gM,vY=pY,yY=uM;function bY(t){return function(e){e=yY(e);var r=xY(e)?vY(e):void 0,n=r?r[0]:e.charAt(0),i=r?gY(r,1).join(""):e.slice(1);return n[t]()+i}}var wY=bY,jY=wY,NY=jY("toUpperCase"),_Y=NY;const zg=qe(_Y);function Ze(t){return function(){return t}}const NM=Math.cos,Wm=Math.sin,Ln=Math.sqrt,Hm=Math.PI,Wg=2*Hm,Lb=Math.PI,$b=2*Lb,ha=1e-6,SY=$b-ha;function _M(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function kY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _M;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_M:kY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>ha)if(!(Math.abs(h*c-u*d)>ha)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-l,b=c*c+u*u,x=p*p+v*v,g=Math.sqrt(b),y=Math.sqrt(f),w=a*Math.tan((Lb-Math.acos((b+f-x)/(2*g*y)))/2),k=w/y,j=w/g;Math.abs(k-1)>ha&&this._append`L${e+k*d},${r+k*h}`,this._append`A${a},${a},0,0,${+(h*p>d*v)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ha||Math.abs(this._y1-d)>ha)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%$b+$b),f>SY?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>ha&&this._append`A${n},${n},0,${+(f>=Lb)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function o1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new AY(e)}function l1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SM(t){this._context=t}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hg(t){return new SM(t)}function kM(t){return t[0]}function AM(t){return t[1]}function TM(t,e){var r=Ze(!0),n=null,i=Hg,a=null,o=o1(l);t=typeof t=="function"?t:t===void 0?kM:Ze(t),e=typeof e=="function"?e:e===void 0?AM:Ze(e);function l(c){var u,d=(c=l1(c)).length,h,f=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ze(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ze(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ze(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function ff(t,e,r){var n=null,i=Ze(!0),a=null,o=Hg,l=null,c=o1(u);t=typeof t=="function"?t:t===void 0?kM:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?AM:Ze(+r);function u(h){var f,p,v,b=(h=l1(h)).length,x,g=!1,y,w=new Array(b),k=new Array(b);for(a==null&&(l=o(y=c())),f=0;f<=b;++f){if(!(f<b&&i(x=h[f],f,h))===g)if(g=!g)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=p;--v)l.point(w[v],k[v]);l.lineEnd(),l.areaEnd()}g&&(w[f]=+t(x,f,h),k[f]=+e(x,f,h),l.point(n?+n(x,f,h):w[f],r?+r(x,f,h):k[f]))}if(y)return l=null,y+""||null}function d(){return TM().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ze(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ze(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ze(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ze(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ze(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ze(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ze(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class EM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function TY(t){return new EM(t,!0)}function EY(t){return new EM(t,!1)}const c1={draw(t,e){const r=Ln(e/Hm);t.moveTo(r,0),t.arc(0,0,r,0,Wg)}},PY={draw(t,e){const r=Ln(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PM=Ln(1/3),IY=PM*2,CY={draw(t,e){const r=Ln(e/IY),n=r*PM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},OY={draw(t,e){const r=Ln(e),n=-r/2;t.rect(n,n,r,r)}},MY=.8908130915292852,IM=Wm(Hm/10)/Wm(7*Hm/10),DY=Wm(Wg/10)*IM,RY=-NM(Wg/10)*IM,LY={draw(t,e){const r=Ln(e*MY),n=DY*r,i=RY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Wg*a/5,l=NM(o),c=Wm(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},Tv=Ln(3),$Y={draw(t,e){const r=-Ln(e/(Tv*3));t.moveTo(0,r*2),t.lineTo(-Tv*r,-r),t.lineTo(Tv*r,-r),t.closePath()}},Zr=-.5,en=Ln(3)/2,Vb=1/Ln(12),VY=(Vb/2+1)*3,FY={draw(t,e){const r=Ln(e/VY),n=r/2,i=r*Vb,a=n,o=r*Vb+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Zr*n-en*i,en*n+Zr*i),t.lineTo(Zr*a-en*o,en*a+Zr*o),t.lineTo(Zr*l-en*c,en*l+Zr*c),t.lineTo(Zr*n+en*i,Zr*i-en*n),t.lineTo(Zr*a+en*o,Zr*o-en*a),t.lineTo(Zr*l+en*c,Zr*c-en*l),t.closePath()}};function BY(t,e){let r=null,n=o1(i);t=typeof t=="function"?t:Ze(t||c1),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ze(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ze(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function qm(){}function Gm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function CM(t){this._context=t}CM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UY(t){return new CM(t)}function OM(t){this._context=t}OM.prototype={areaStart:qm,areaEnd:qm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zY(t){return new OM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WY(t){return new MM(t)}function DM(t){this._context=t}DM.prototype={areaStart:qm,areaEnd:qm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HY(t){return new DM(t)}function ck(t){return t<0?-1:1}function uk(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(ck(a)+ck(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function dk(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ev(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Km(t){this._context=t}Km.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ev(this,this._t0,dk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ev(this,dk(this,r=uk(this,t,e)),r);break;default:Ev(this,this._t0,r=uk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function RM(t){this._context=new LM(t)}(RM.prototype=Object.create(Km.prototype)).point=function(t,e){Km.prototype.point.call(this,e,t)};function LM(t){this._context=t}LM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function qY(t){return new Km(t)}function GY(t){return new RM(t)}function $M(t){this._context=t}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=hk(t),i=hk(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function hk(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function KY(t){return new $M(t)}function qg(t,e){this._context=t,this._t=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function YY(t){return new qg(t,.5)}function XY(t){return new qg(t,0)}function QY(t){return new qg(t,1)}function yl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Fb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function JY(t,e){return t[e]}function ZY(t){const e=[];return e.key=t,e}function eX(){var t=Ze([]),e=Fb,r=yl,n=JY;function i(a){var o=Array.from(t.apply(this,arguments),ZY),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=l1(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ze(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ze(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Fb:typeof a=="function"?a:Ze(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??yl,i):r},i}function tX(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}yl(t,e)}}function rX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}yl(t,e)}}function nX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,v=0;v<l;++v){var b=t[e[v]],x=b[n][1]||0,g=b[n-1][1]||0;p+=x-g}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,yl(t,e)}}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}var iX=["type","size","sizeType"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(this,arguments)}function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){sX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sX(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=oX(t,"string");return vd(e)=="symbol"?e:e+""}function oX(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lX(t,e){if(t==null)return{};var r=cX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VM={symbolCircle:c1,symbolCross:PY,symbolDiamond:CY,symbolSquare:OY,symbolStar:LY,symbolTriangle:$Y,symbolWye:FY},uX=Math.PI/180,dX=function(e){var r="symbol".concat(zg(e));return VM[r]||c1},hX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*uX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fX=function(e,r){VM["symbol".concat(zg(e))]=r},u1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=lX(e,iX),u=mk(mk({},c),{},{type:n,size:a,sizeType:l}),d=function(){var x=dX(n),g=BY().type(x).size(hX(a,l,n));return g()},h=u.className,f=u.cx,p=u.cy,v=de(u,!0);return f===+f&&p===+p&&a===+a?L.createElement("path",Bb({},v,{className:Ae("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};u1.registerSymbol=fX;function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BM(n.key),n)}}function xX(t,e,r){return e&&gX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vX(t,e,r){return e=Ym(e),yX(t,FM()?Reflect.construct(e,r||[],Ym(t).constructor):e.apply(t,r))}function yX(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}function wX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zb(t,e)}function zb(t,e){return zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zb(t,e)}function yd(t,e,r){return e=BM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BM(t){var e=jX(t,"string");return bl(e)=="symbol"?e:e+""}function jX(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tn=32,d1=function(t){function e(){return pX(this,e),vX(this,e,arguments)}return wX(e,t),xX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=tn/2,o=tn/6,l=tn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:tn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(tn,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(tn/8,"h").concat(tn,"v").concat(tn*3/4,"h").concat(-tn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=mX({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(u1,{fill:c,cx:a,cy:a,size:tn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:tn,height:tn},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var b=p.formatter||c,x=Ae(yd(yd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=ye(p.value)?null:p.value;On(!ye(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return L.createElement("li",Ub({className:x,style:h,key:"legend-item-".concat(v)},Wa(n.props,p,v)),L.createElement(Ob,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(P.PureComponent);yd(d1,"displayName","Legend");yd(d1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NX=Pg;function _X(){this.__data__=new NX,this.size=0}var SX=_X;function kX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var AX=kX;function TX(t){return this.__data__.get(t)}var EX=TX;function PX(t){return this.__data__.has(t)}var IX=PX,CX=Pg,OX=Jj,MX=Zj,DX=200;function RX(t,e){var r=this.__data__;if(r instanceof CX){var n=r.__data__;if(!OX||n.length<DX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new MX(n)}return r.set(t,e),this.size=r.size,this}var LX=RX,$X=Pg,VX=SX,FX=AX,BX=EX,UX=IX,zX=LX;function pc(t){var e=this.__data__=new $X(t);this.size=e.size}pc.prototype.clear=VX;pc.prototype.delete=FX;pc.prototype.get=BX;pc.prototype.has=UX;pc.prototype.set=zX;var UM=pc,WX="__lodash_hash_undefined__";function HX(t){return this.__data__.set(t,WX),this}var qX=HX;function GX(t){return this.__data__.has(t)}var KX=GX,YX=Zj,XX=qX,QX=KX;function Xm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new YX;++e<r;)this.add(t[e])}Xm.prototype.add=Xm.prototype.push=XX;Xm.prototype.has=QX;var zM=Xm;function JX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var WM=JX;function ZX(t,e){return t.has(e)}var HM=ZX,eQ=zM,tQ=WM,rQ=HM,nQ=1,iQ=2;function sQ(t,e,r,n,i,a){var o=r&nQ,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&iQ?new eQ:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var v=t[h],b=e[h];if(n)var x=o?n(b,v,h,e,t,a):n(v,b,h,t,e,a);if(x!==void 0){if(x)continue;f=!1;break}if(p){if(!tQ(e,function(g,y){if(!rQ(p,y)&&(v===g||i(v,g,r,n,a)))return p.push(y)})){f=!1;break}}else if(!(v===b||i(v,b,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var qM=sQ,aQ=oi,oQ=aQ.Uint8Array,lQ=oQ;function cQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var uQ=cQ;function dQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var h1=dQ,gk=xh,xk=lQ,hQ=Qj,fQ=qM,mQ=uQ,pQ=h1,gQ=1,xQ=2,vQ="[object Boolean]",yQ="[object Date]",bQ="[object Error]",wQ="[object Map]",jQ="[object Number]",NQ="[object RegExp]",_Q="[object Set]",SQ="[object String]",kQ="[object Symbol]",AQ="[object ArrayBuffer]",TQ="[object DataView]",vk=gk?gk.prototype:void 0,Pv=vk?vk.valueOf:void 0;function EQ(t,e,r,n,i,a,o){switch(r){case TQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case AQ:return!(t.byteLength!=e.byteLength||!a(new xk(t),new xk(e)));case vQ:case yQ:case jQ:return hQ(+t,+e);case bQ:return t.name==e.name&&t.message==e.message;case NQ:case SQ:return t==e+"";case wQ:var l=mQ;case _Q:var c=n&gQ;if(l||(l=pQ),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=xQ,o.set(t,e);var d=fQ(l(t),l(e),n,i,a,o);return o.delete(t),d;case kQ:if(Pv)return Pv.call(t)==Pv.call(e)}return!1}var PQ=EQ;function IQ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var GM=IQ,CQ=GM,OQ=Dr;function MQ(t,e,r){var n=e(t);return OQ(t)?n:CQ(n,r(t))}var DQ=MQ;function RQ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var LQ=RQ;function $Q(){return[]}var VQ=$Q,FQ=LQ,BQ=VQ,UQ=Object.prototype,zQ=UQ.propertyIsEnumerable,yk=Object.getOwnPropertySymbols,WQ=yk?function(t){return t==null?[]:(t=Object(t),FQ(yk(t),function(e){return zQ.call(t,e)}))}:BQ,HQ=WQ;function qQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var GQ=qQ,KQ=zi,YQ=Wi,XQ="[object Arguments]";function QQ(t){return YQ(t)&&KQ(t)==XQ}var JQ=QQ,bk=JQ,ZQ=Wi,KM=Object.prototype,eJ=KM.hasOwnProperty,tJ=KM.propertyIsEnumerable,rJ=bk(function(){return arguments}())?bk:function(t){return ZQ(t)&&eJ.call(t,"callee")&&!tJ.call(t,"callee")},f1=rJ,Qm={exports:{}};function nJ(){return!1}var iJ=nJ;Qm.exports;(function(t,e){var r=oi,n=iJ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Qm,Qm.exports);var YM=Qm.exports,sJ=9007199254740991,aJ=/^(?:0|[1-9]\d*)$/;function oJ(t,e){var r=typeof t;return e=e??sJ,!!e&&(r=="number"||r!="symbol"&&aJ.test(t))&&t>-1&&t%1==0&&t<e}var m1=oJ,lJ=9007199254740991;function cJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lJ}var p1=cJ,uJ=zi,dJ=p1,hJ=Wi,fJ="[object Arguments]",mJ="[object Array]",pJ="[object Boolean]",gJ="[object Date]",xJ="[object Error]",vJ="[object Function]",yJ="[object Map]",bJ="[object Number]",wJ="[object Object]",jJ="[object RegExp]",NJ="[object Set]",_J="[object String]",SJ="[object WeakMap]",kJ="[object ArrayBuffer]",AJ="[object DataView]",TJ="[object Float32Array]",EJ="[object Float64Array]",PJ="[object Int8Array]",IJ="[object Int16Array]",CJ="[object Int32Array]",OJ="[object Uint8Array]",MJ="[object Uint8ClampedArray]",DJ="[object Uint16Array]",RJ="[object Uint32Array]",at={};at[TJ]=at[EJ]=at[PJ]=at[IJ]=at[CJ]=at[OJ]=at[MJ]=at[DJ]=at[RJ]=!0;at[fJ]=at[mJ]=at[kJ]=at[pJ]=at[AJ]=at[gJ]=at[xJ]=at[vJ]=at[yJ]=at[bJ]=at[wJ]=at[jJ]=at[NJ]=at[_J]=at[SJ]=!1;function LJ(t){return hJ(t)&&dJ(t.length)&&!!at[uJ(t)]}var $J=LJ;function VJ(t){return function(e){return t(e)}}var XM=VJ,Jm={exports:{}};Jm.exports;(function(t,e){var r=iM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Jm,Jm.exports);var FJ=Jm.exports,BJ=$J,UJ=XM,wk=FJ,jk=wk&&wk.isTypedArray,zJ=jk?UJ(jk):BJ,QM=zJ,WJ=GQ,HJ=f1,qJ=Dr,GJ=YM,KJ=m1,YJ=QM,XJ=Object.prototype,QJ=XJ.hasOwnProperty;function JJ(t,e){var r=qJ(t),n=!r&&HJ(t),i=!r&&!n&&GJ(t),a=!r&&!n&&!i&&YJ(t),o=r||n||i||a,l=o?WJ(t.length,String):[],c=l.length;for(var u in t)(e||QJ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||KJ(u,c)))&&l.push(u);return l}var ZJ=JJ,eZ=Object.prototype;function tZ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||eZ;return t===r}var rZ=tZ;function nZ(t,e){return function(r){return t(e(r))}}var JM=nZ,iZ=JM,sZ=iZ(Object.keys,Object),aZ=sZ,oZ=rZ,lZ=aZ,cZ=Object.prototype,uZ=cZ.hasOwnProperty;function dZ(t){if(!oZ(t))return lZ(t);var e=[];for(var r in Object(t))uZ.call(t,r)&&r!="constructor"&&e.push(r);return e}var hZ=dZ,fZ=Xj,mZ=p1;function pZ(t){return t!=null&&mZ(t.length)&&!fZ(t)}var yh=pZ,gZ=ZJ,xZ=hZ,vZ=yh;function yZ(t){return vZ(t)?gZ(t):xZ(t)}var Gg=yZ,bZ=DQ,wZ=HQ,jZ=Gg;function NZ(t){return bZ(t,jZ,wZ)}var _Z=NZ,Nk=_Z,SZ=1,kZ=Object.prototype,AZ=kZ.hasOwnProperty;function TZ(t,e,r,n,i,a){var o=r&SZ,l=Nk(t),c=l.length,u=Nk(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:AZ.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=o;++h<c;){f=l[h];var g=t[f],y=e[f];if(n)var w=o?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(!(w===void 0?g===y||i(g,y,r,n,a):w)){b=!1;break}x||(x=f=="constructor")}if(b&&!x){var k=t.constructor,j=e.constructor;k!=j&&"constructor"in t&&"constructor"in e&&!(typeof k=="function"&&k instanceof k&&typeof j=="function"&&j instanceof j)&&(b=!1)}return a.delete(t),a.delete(e),b}var EZ=TZ,PZ=io,IZ=oi,CZ=PZ(IZ,"DataView"),OZ=CZ,MZ=io,DZ=oi,RZ=MZ(DZ,"Promise"),LZ=RZ,$Z=io,VZ=oi,FZ=$Z(VZ,"Set"),ZM=FZ,BZ=io,UZ=oi,zZ=BZ(UZ,"WeakMap"),WZ=zZ,Wb=OZ,Hb=Jj,qb=LZ,Gb=ZM,Kb=WZ,eD=zi,gc=aM,_k="[object Map]",HZ="[object Object]",Sk="[object Promise]",kk="[object Set]",Ak="[object WeakMap]",Tk="[object DataView]",qZ=gc(Wb),GZ=gc(Hb),KZ=gc(qb),YZ=gc(Gb),XZ=gc(Kb),fa=eD;(Wb&&fa(new Wb(new ArrayBuffer(1)))!=Tk||Hb&&fa(new Hb)!=_k||qb&&fa(qb.resolve())!=Sk||Gb&&fa(new Gb)!=kk||Kb&&fa(new Kb)!=Ak)&&(fa=function(t){var e=eD(t),r=e==HZ?t.constructor:void 0,n=r?gc(r):"";if(n)switch(n){case qZ:return Tk;case GZ:return _k;case KZ:return Sk;case YZ:return kk;case XZ:return Ak}return e});var QZ=fa,Iv=UM,JZ=qM,ZZ=PQ,eee=EZ,Ek=QZ,Pk=Dr,Ik=YM,tee=QM,ree=1,Ck="[object Arguments]",Ok="[object Array]",mf="[object Object]",nee=Object.prototype,Mk=nee.hasOwnProperty;function iee(t,e,r,n,i,a){var o=Pk(t),l=Pk(e),c=o?Ok:Ek(t),u=l?Ok:Ek(e);c=c==Ck?mf:c,u=u==Ck?mf:u;var d=c==mf,h=u==mf,f=c==u;if(f&&Ik(t)){if(!Ik(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Iv),o||tee(t)?JZ(t,e,r,n,i,a):ZZ(t,e,c,r,n,i,a);if(!(r&ree)){var p=d&&Mk.call(t,"__wrapped__"),v=h&&Mk.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,x=v?e.value():e;return a||(a=new Iv),i(b,x,r,n,a)}}return f?(a||(a=new Iv),eee(t,e,r,n,i,a)):!1}var see=iee,aee=see,Dk=Wi;function tD(t,e,r,n,i){return t===e?!0:t==null||e==null||!Dk(t)&&!Dk(e)?t!==t&&e!==e:aee(t,e,r,n,tD,i)}var g1=tD,oee=UM,lee=g1,cee=1,uee=2;function dee(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new oee;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?lee(d,u,cee|uee,n,h):f))return!1}}return!0}var hee=dee,fee=Qs;function mee(t){return t===t&&!fee(t)}var rD=mee,pee=rD,gee=Gg;function xee(t){for(var e=gee(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,pee(i)]}return e}var vee=xee;function yee(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var nD=yee,bee=hee,wee=vee,jee=nD;function Nee(t){var e=wee(t);return e.length==1&&e[0][2]?jee(e[0][0],e[0][1]):function(r){return r===t||bee(r,t,e)}}var _ee=Nee;function See(t,e){return t!=null&&e in Object(t)}var kee=See,Aee=dM,Tee=f1,Eee=Dr,Pee=m1,Iee=p1,Cee=Cg;function Oee(t,e,r){e=Aee(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Cee(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Iee(i)&&Pee(o,i)&&(Eee(t)||Tee(t)))}var Mee=Oee,Dee=kee,Ree=Mee;function Lee(t,e){return t!=null&&Ree(t,e,Dee)}var $ee=Lee,Vee=g1,Fee=hM,Bee=$ee,Uee=Yj,zee=rD,Wee=nD,Hee=Cg,qee=1,Gee=2;function Kee(t,e){return Uee(t)&&zee(e)?Wee(Hee(t),e):function(r){var n=Fee(r,t);return n===void 0&&n===e?Bee(r,t):Vee(e,n,qee|Gee)}}var Yee=Kee;function Xee(t){return t}var xc=Xee;function Qee(t){return function(e){return e==null?void 0:e[t]}}var Jee=Qee,Zee=r1;function ete(t){return function(e){return Zee(e,t)}}var tte=ete,rte=Jee,nte=tte,ite=Yj,ste=Cg;function ate(t){return ite(t)?rte(ste(t)):nte(t)}var ote=ate,lte=_ee,cte=Yee,ute=xc,dte=Dr,hte=ote;function fte(t){return typeof t=="function"?t:t==null?ute:typeof t=="object"?dte(t)?cte(t[0],t[1]):lte(t):hte(t)}var li=fte;function mte(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var iD=mte;function pte(t){return t!==t}var gte=pte;function xte(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var vte=xte,yte=iD,bte=gte,wte=vte;function jte(t,e,r){return e===e?wte(t,e,r):yte(t,bte,r)}var Nte=jte,_te=Nte;function Ste(t,e){var r=t==null?0:t.length;return!!r&&_te(t,e,0)>-1}var kte=Ste;function Ate(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Tte=Ate;function Ete(){}var Pte=Ete,Cv=ZM,Ite=Pte,Cte=h1,Ote=1/0,Mte=Cv&&1/Cte(new Cv([,-0]))[1]==Ote?function(t){return new Cv(t)}:Ite,Dte=Mte,Rte=zM,Lte=kte,$te=Tte,Vte=HM,Fte=Dte,Bte=h1,Ute=200;function zte(t,e,r){var n=-1,i=Lte,a=t.length,o=!0,l=[],c=l;if(r)o=!1,i=$te;else if(a>=Ute){var u=e?null:Fte(t);if(u)return Bte(u);o=!1,i=Vte,c=new Rte}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var Wte=zte,Hte=li,qte=Wte;function Gte(t,e){return t&&t.length?qte(t,Hte(e)):[]}var Kte=Gte;const Rk=qe(Kte);function sD(t,e,r){return e===!0?Rk(t,r):ye(e)?Rk(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var Yte=["ref"];function Lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(r),!0).forEach(function(n){Kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function Qte(t,e,r){return e&&$k(t.prototype,e),r&&$k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jte(t,e,r){return e=Zm(e),Zte(t,aD()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function Zte(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(t)}function ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aD=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yb(t,e)}function Kg(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=rre(t,"string");return wl(e)=="symbol"?e:e+""}function rre(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nre(t,e){if(t==null)return{};var r=ire(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ire(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sre(t){return t.value}function are(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=nre(e,Yte);return L.createElement(d1,r)}var Vk=1,Ms=function(t){function e(){var r;Xte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jte(this,e,[].concat(i)),Kg(r,"lastBoundingBox",{width:-1,height:-1}),r}return tre(e,t),Qte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Vk||Math.abs(i.height-this.lastBoundingBox.height)>Vk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return di(di({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=di(di({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},are(a,di(di({},this.props),{},{payload:sD(d,u,sre)})))}}],[{key:"getWithHeight",value:function(n,i){var a=di(di({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&te(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(P.PureComponent);Kg(Ms,"displayName","Legend");Kg(Ms,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Fk=xh,ore=f1,lre=Dr,Bk=Fk?Fk.isConcatSpreadable:void 0;function cre(t){return lre(t)||ore(t)||!!(Bk&&t&&t[Bk])}var ure=cre,dre=GM,hre=ure;function lD(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=hre),i||(i=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?lD(l,e-1,r,n,i):dre(i,l):n||(i[i.length]=l)}return i}var cD=lD;function fre(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(a[c],c,a)===!1)break}return e}}var mre=fre,pre=mre,gre=pre(),xre=gre,vre=xre,yre=Gg;function bre(t,e){return t&&vre(t,e,yre)}var uD=bre,wre=yh;function jre(t,e){return function(r,n){if(r==null)return r;if(!wre(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Nre=jre,_re=uD,Sre=Nre,kre=Sre(_re),x1=kre,Are=x1,Tre=yh;function Ere(t,e){var r=-1,n=Tre(t)?Array(t.length):[];return Are(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var dD=Ere;function Pre(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Ire=Pre,Uk=cc;function Cre(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Uk(t),o=e!==void 0,l=e===null,c=e===e,u=Uk(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var Ore=Cre,Mre=Ore;function Dre(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,l=r.length;++n<o;){var c=Mre(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Rre=Dre,Ov=t1,Lre=r1,$re=li,Vre=dD,Fre=Ire,Bre=XM,Ure=Rre,zre=xc,Wre=Dr;function Hre(t,e,r){e.length?e=Ov(e,function(a){return Wre(a)?function(o){return Lre(o,a.length===1?a[0]:a)}:a}):e=[zre];var n=-1;e=Ov(e,Bre($re));var i=Vre(t,function(a,o,l){var c=Ov(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Fre(i,function(a,o){return Ure(a,o,r)})}var qre=Hre;function Gre(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Kre=Gre,Yre=Kre,zk=Math.max;function Xre(t,e,r){return e=zk(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=zk(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),Yre(t,this,l)}}var Qre=Xre;function Jre(t){return function(){return t}}var Zre=Jre,ene=io,tne=function(){try{var t=ene(Object,"defineProperty");return t({},"",{}),t}catch{}}(),hD=tne,rne=Zre,Wk=hD,nne=xc,ine=Wk?function(t,e){return Wk(t,"toString",{configurable:!0,enumerable:!1,value:rne(e),writable:!0})}:nne,sne=ine,ane=800,one=16,lne=Date.now;function cne(t){var e=0,r=0;return function(){var n=lne(),i=one-(n-r);if(r=n,i>0){if(++e>=ane)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var une=cne,dne=sne,hne=une,fne=hne(dne),mne=fne,pne=xc,gne=Qre,xne=mne;function vne(t,e){return xne(gne(t,e,pne),t+"")}var yne=vne,bne=Qj,wne=yh,jne=m1,Nne=Qs;function _ne(t,e,r){if(!Nne(r))return!1;var n=typeof e;return(n=="number"?wne(r)&&jne(e,r.length):n=="string"&&e in r)?bne(r[e],t):!1}var Yg=_ne,Sne=cD,kne=qre,Ane=yne,Hk=Yg,Tne=Ane(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Hk(t,e[0],e[1])?e=[]:r>2&&Hk(e[0],e[1],e[2])&&(e=[e[0]]),kne(t,Sne(e,1),[])}),Ene=Tne;const v1=qe(Ene);function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xb.apply(this,arguments)}function Pne(t,e){return Mne(t)||One(t,e)||Cne(t,e)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return qk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(t,e)}}function qk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function One(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Mne(t){if(Array.isArray(t))return t}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){Dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dne(t,e,r){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rne(t){var e=Lne(t,"string");return bd(e)=="symbol"?e:e+""}function Lne(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ne(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var Vne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,w=function(){if(d&&d.length){var C={padding:0,margin:0},M=(f?v1(d,f):d).map(function(B,F){if(B.type==="none")return null;var R=Mv({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),V=B.formatter||h||$ne,$=B.value,z=B.name,K=$,J=z;if(V&&K!=null&&J!=null){var ee=V($,z,B,F,d);if(Array.isArray(ee)){var le=Pne(ee,2);K=le[0],J=le[1]}else K=ee}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:R},Ut(J)?L.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ut(J)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},K),L.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:C},M)}return null},k=Mv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=Mv({margin:0},u),A=!_e(b),S=A?b:"",N=Ae("recharts-default-tooltip",p),T=Ae("recharts-tooltip-label",v);A&&x&&d!==void 0&&d!==null&&(S=x(b,d));var O=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Xb({className:N,style:k},O),L.createElement("p",{className:T,style:j},L.isValidElement(S)?S:"".concat(S)),w())};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function pf(t,e,r){return e=Fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fne(t){var e=Bne(t,"string");return wd(e)=="symbol"?e:e+""}function Bne(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kc="recharts-tooltip-wrapper",Une={visibility:"hidden"};function zne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ae(Kc,pf(pf(pf(pf({},"".concat(Kc,"-right"),te(r)&&e&&te(e.x)&&r>=e.x),"".concat(Kc,"-left"),te(r)&&e&&te(e.x)&&r<e.x),"".concat(Kc,"-bottom"),te(n)&&e&&te(e.y)&&n>=e.y),"".concat(Kc,"-top"),te(n)&&e&&te(e.y)&&n<e.y))}function Kk(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&te(a[n]))return a[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var v=h+l,b=c[n]+u;return v>b?Math.max(d,c[n]):Math.max(h,c[n])}function Wne(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Hne(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=Kk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Kk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Wne({translateX:d,translateY:h,useTranslate3d:l})):u=Une,{cssProperties:u,cssClasses:zne({translateX:d,translateY:h,coordinate:r})}}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){Jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mD(n.key),n)}}function Kne(t,e,r){return e&&Gne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yne(t,e,r){return e=ep(e),Xne(t,fD()?Reflect.construct(e,r||[],ep(t).constructor):e.apply(t,r))}function Xne(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qne(t)}function Qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function ep(t){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(t)}function Jne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qb(t,e)}function Jb(t,e,r){return e=mD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mD(t){var e=Zne(t,"string");return jl(e)=="symbol"?e:e+""}function Zne(t,e){if(jl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qk=1,eie=function(t){function e(){var r;qne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yne(this,e,[].concat(i)),Jb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Jb(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Jne(e,t),Kne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Qk||Math.abs(n.height-this.state.lastBoundingBox.height)>Qk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,w=Hne({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),k=w.cssClasses,j=w.cssProperties,A=Xk(Xk({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:k,style:A,ref:function(N){n.wrapperNode=N}},u)}}])}(P.PureComponent),tie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},so={isSsr:tie()};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gD(n.key),n)}}function iie(t,e,r){return e&&nie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sie(t,e,r){return e=tp(e),aie(t,pD()?Reflect.construct(e,r||[],tp(t).constructor):e.apply(t,r))}function aie(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oie(t)}function oie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function tp(t){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(t)}function lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zb(t,e)}function y1(t,e,r){return e=gD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gD(t){var e=cie(t,"string");return Nl(e)=="symbol"?e:e+""}function cie(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uie(t){return t.dataKey}function die(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(Vne,e)}var rn=function(t){function e(){return rie(this,e),sie(this,e,arguments)}return lie(e,t),iie(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,k=i.wrapperStyle,j=v??[];h&&j.length&&(j=sD(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,uie));var A=j.length>0;return L.createElement(eie,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:A,offset:p,position:x,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:k},die(u,Zk(Zk({},this.props),{},{payload:j})))}}])}(P.PureComponent);y1(rn,"displayName","Tooltip");y1(rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!so.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hie=oi,fie=function(){return hie.Date.now()},mie=fie,pie=/\s/;function gie(t){for(var e=t.length;e--&&pie.test(t.charAt(e)););return e}var xie=gie,vie=xie,yie=/^\s+/;function bie(t){return t&&t.slice(0,vie(t)+1).replace(yie,"")}var wie=bie,jie=wie,eA=Qs,Nie=cc,tA=NaN,_ie=/^[-+]0x[0-9a-f]+$/i,Sie=/^0b[01]+$/i,kie=/^0o[0-7]+$/i,Aie=parseInt;function Tie(t){if(typeof t=="number")return t;if(Nie(t))return tA;if(eA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jie(t);var r=Sie.test(t);return r||kie.test(t)?Aie(t.slice(2),r?2:8):_ie.test(t)?tA:+t}var xD=Tie,Eie=Qs,Dv=mie,rA=xD,Pie="Expected a function",Iie=Math.max,Cie=Math.min;function Oie(t,e,r){var n,i,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Pie);e=rA(e)||0,Eie(r)&&(d=!!r.leading,h="maxWait"in r,a=h?Iie(rA(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(A){var S=n,N=i;return n=i=void 0,u=A,o=t.apply(N,S),o}function v(A){return u=A,l=setTimeout(g,e),d?p(A):o}function b(A){var S=A-c,N=A-u,T=e-S;return h?Cie(T,a-N):T}function x(A){var S=A-c,N=A-u;return c===void 0||S>=e||S<0||h&&N>=a}function g(){var A=Dv();if(x(A))return y(A);l=setTimeout(g,b(A))}function y(A){return l=void 0,f&&n?p(A):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function k(){return l===void 0?o:y(Dv())}function j(){var A=Dv(),S=x(A);if(n=arguments,i=this,c=A,S){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(g,e),p(c)}return l===void 0&&(l=setTimeout(g,e)),o}return j.cancel=w,j.flush=k,j}var Mie=Oie,Die=Mie,Rie=Qs,Lie="Expected a function";function $ie(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Lie);return Rie(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Die(t,e,{leading:n,maxWait:e,trailing:i})}var Vie=$ie;const vD=qe(Vie);function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){Fie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fie(t,e,r){return e=Bie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bie(t){var e=Uie(t,"string");return jd(e)=="symbol"?e:e+""}function Uie(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zie(t,e){return Gie(t)||qie(t,e)||Hie(t,e)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(t,e){if(t){if(typeof t=="string")return iA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iA(t,e)}}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Gie(t){if(Array.isArray(t))return t}var Rv=P.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,g=t.className,y=t.onResize,w=t.style,k=w===void 0?{}:w,j=P.useRef(null),A=P.useRef();A.current=y,P.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=P.useState({containerWidth:i.width,containerHeight:i.height}),N=zie(S,2),T=N[0],O=N[1],I=P.useCallback(function(M,B){O(function(F){var R=Math.round(M),V=Math.round(B);return F.containerWidth===R&&F.containerHeight===V?F:{containerWidth:R,containerHeight:V}})},[]);P.useEffect(function(){var M=function(z){var K,J=z[0].contentRect,ee=J.width,le=J.height;I(ee,le),(K=A.current)===null||K===void 0||K.call(A,ee,le)};b>0&&(M=vD(M,b,{trailing:!0,leading:!1}));var B=new ResizeObserver(M),F=j.current.getBoundingClientRect(),R=F.width,V=F.height;return I(R,V),B.observe(j.current),function(){B.disconnect()}},[I,b]);var C=P.useMemo(function(){var M=T.containerWidth,B=T.containerHeight;if(M<0||B<0)return null;On(wa(o)||wa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),On(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=wa(o)?M:o,R=wa(c)?B:c;r&&r>0&&(F?R=F/r:R&&(F=R*r),f&&R>f&&(R=f)),On(F>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,R,o,c,d,h,r);var V=!Array.isArray(p)&&ki(p.type).endsWith("Chart");return L.Children.map(p,function($){return L.isValidElement($)?P.cloneElement($,gf({width:F,height:R},V?{style:gf({height:"100%",width:"100%",maxHeight:R,maxWidth:F},$.props.style)}:{})):$})},[r,p,c,f,h,d,T,o]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Ae("recharts-responsive-container",g),style:gf(gf({},k),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},C)}),Nd=function(e){return null};Nd.displayName="Cell";function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function e0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){Kie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kie(t,e,r){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yie(t){var e=Xie(t,"string");return _d(e)=="symbol"?e:e+""}function Xie(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vo={widthCache:{},cacheCount:0},Qie=2e3,Jie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aA="recharts_measurement_span";function Zie(t){var e=e0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ou=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||so.isSsr)return{width:0,height:0};var n=Zie(r),i=JSON.stringify({text:e,copyStyle:n});if(vo.widthCache[i])return vo.widthCache[i];try{var a=document.getElementById(aA);a||(a=document.createElement("span"),a.setAttribute("id",aA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=e0(e0({},Jie),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return vo.widthCache[i]=c,++vo.cacheCount>Qie&&(vo.cacheCount=0,vo.widthCache={}),c}catch{return{width:0,height:0}}},ese=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function rp(t,e){return ise(t)||nse(t,e)||rse(t,e)||tse()}function tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t,e){if(t){if(typeof t=="string")return oA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(t,e)}}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ise(t){if(Array.isArray(t))return t}function sse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ose(n.key),n)}}function ase(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ose(t){var e=lse(t,"string");return Sd(e)=="symbol"?e:e+""}function lse(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,use=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dse=Object.keys(yD),Fo="NaN";function hse(t,e){return t*yD[e]}var xf=function(){function t(e,r){sse(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!cse.test(r)&&(this.num=NaN,this.unit=""),dse.includes(r)&&(this.num=hse(e,r),this.unit="px")}return ase(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=use.exec(r))!==null&&n!==void 0?n:[],a=rp(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function bD(t){if(t.includes(Fo))return Fo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=cA.exec(e))!==null&&r!==void 0?r:[],i=rp(n,4),a=i[1],o=i[2],l=i[3],c=xf.parse(a??""),u=xf.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Fo;e=e.replace(cA,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=uA.exec(e))!==null&&h!==void 0?h:[],p=rp(f,4),v=p[1],b=p[2],x=p[3],g=xf.parse(v??""),y=xf.parse(x??""),w=b==="+"?g.add(y):g.subtract(y);if(w.isNaN())return Fo;e=e.replace(uA,w.toString())}return e}var dA=/\(([^()]*)\)/;function fse(t){for(var e=t;e.includes("(");){var r=dA.exec(e),n=rp(r,2),i=n[1];e=e.replace(dA,bD(i))}return e}function mse(t){var e=t.replace(/\s+/g,"");return e=fse(e),e=bD(e),e}function pse(t){try{return mse(t)}catch{return Fo}}function Lv(t){var e=pse(t.slice(5,-1));return e===Fo?"":e}var gse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xse=["dx","dy","angle","className","breakAll"];function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function hA(t,e){if(t==null)return{};var r=vse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fA(t,e){return jse(t)||wse(t,e)||bse(t,e)||yse()}function yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return mA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jse(t){if(Array.isArray(t))return t}var wD=/[ \f\n\r\t\v\u2028\u2029]+/,jD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];_e(r)||(n?a=r.toString().split(""):a=r.toString().split(wD));var o=a.map(function(c){return{word:c,width:Ou(c,i).width}}),l=n?0:Ou("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Nse=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=te(o),h=l,f=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(R,V){var $=V.word,z=V.width,K=R[R.length-1];if(K&&(i==null||a||K.width+z+n<Number(i)))K.words.push($),K.width+=z+n;else{var J={words:[$],width:z};R.push(J)}return R},[])},p=f(r),v=function(F){return F.reduce(function(R,V){return R.width>V.width?R:V})};if(!d)return p;for(var b="",x=function(F){var R=h.slice(0,F),V=jD({breakAll:u,style:c,children:R+b}).wordsWithComputedWidth,$=f(V),z=$.length>o||v($).width>Number(i);return[z,$]},g=0,y=h.length-1,w=0,k;g<=y&&w<=h.length-1;){var j=Math.floor((g+y)/2),A=j-1,S=x(A),N=fA(S,2),T=N[0],O=N[1],I=x(j),C=fA(I,1),M=C[0];if(!T&&!M&&(g=j+1),T&&M&&(y=j-1),!T&&M){k=O;break}w++}return k||p},pA=function(e){var r=_e(e)?[]:e.toString().split(wD);return[{words:r}]},_se=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!so.isSsr){var c,u,d=jD({breakAll:o,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return pA(i);return Nse({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return pA(i)},gA="#808080",Ha=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,g=x===void 0?gA:x,y=hA(e,gse),w=P.useMemo(function(){return _se({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),k=y.dx,j=y.dy,A=y.angle,S=y.className,N=y.breakAll,T=hA(y,xse);if(!Ut(n)||!Ut(a))return null;var O=n+(te(k)?k:0),I=a+(te(j)?j:0),C;switch(b){case"start":C=Lv("calc(".concat(u,")"));break;case"middle":C=Lv("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Lv("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(h){var B=w[0].width,F=y.width;M.push("scale(".concat((te(F)?F/B:1)/B,")"))}return A&&M.push("rotate(".concat(A,", ").concat(O,", ").concat(I,")")),M.length&&(T.transform=M.join(" ")),L.createElement("text",t0({},de(T,!0),{x:O,y:I,className:Ae("recharts-text",S),textAnchor:p,fill:g.includes("url")?gA:g}),w.map(function(R,V){var $=R.words.join(N?"":" ");return L.createElement("tspan",{x:O,dy:V===0?C:l,key:"".concat($,"-").concat(V)},$)}))};function Ds(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b1(t){let e,r,n;t.length!==2?(e=Ds,r=(l,c)=>Ds(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ds||t===Sse?t:kse,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function kse(){return 0}function ND(t){return t===null?NaN:+t}function*Ase(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Tse=b1(Ds),bh=Tse.right;b1(ND).center;class xA extends Map{constructor(e,r=Ise){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(vA(this,e))}has(e){return super.has(vA(this,e))}set(e,r){return super.set(Ese(this,e),r)}delete(e){return super.delete(Pse(this,e))}}function vA({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Ese({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Pse({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ise(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Cse(t=Ds){if(t===Ds)return _D;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function _D(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ose=Math.sqrt(50),Mse=Math.sqrt(10),Dse=Math.sqrt(2);function np(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Ose?10:a>=Mse?5:a>=Dse?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?np(t,e,r*2):[l,c,u]}function r0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?np(e,t,r):np(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function n0(t,e,r){return e=+e,t=+t,r=+r,np(t,e,r)[2]}function i0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?n0(e,t,r):n0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function yA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function SD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?_D:Cse(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),v=Math.min(n,Math.floor(e+(c-u)*h/c+f));SD(t,e,p,v,i)}const a=t[e];let o=r,l=n;for(Yc(t,r,e),i(t[n],a)>0&&Yc(t,r,n);o<l;){for(Yc(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Yc(t,r,l):(++l,Yc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Yc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Rse(t,e,r){if(t=Float64Array.from(Ase(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return bA(t);if(e>=1)return yA(t);var n,i=(n-1)*e,a=Math.floor(i),o=yA(SD(t,a).subarray(0,a+1)),l=bA(t.subarray(a+1));return o+(l-o)*(i-a)}}function Lse(t,e,r=ND){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function $se(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Hi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const s0=Symbol("implicit");function w1(){var t=new xA,e=[],r=[],n=s0;function i(a){let o=t.get(a);if(o===void 0){if(n!==s0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return w1(e,r).unknown(n)},yn.apply(i,arguments),i}function kd(){var t=w1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,v=p?i:n,b=p?n:i;a=(b-v)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),v+=(b-v-a*(f-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=$se(f).map(function(g){return v+a*g});return r(p?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return kd(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},yn.apply(h(),arguments)}function kD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kD(e())},t}function Mu(){return kD(kd.apply(null,arguments).paddingInner(1))}function j1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function AD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function wh(){}var Ad=.7,ip=1/Ad,nl="\\s*([+-]?\\d+)\\s*",Td="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vse=/^#([0-9a-f]{3,8})$/,Fse=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),Bse=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),Use=new RegExp(`^rgba\\(${nl},${nl},${nl},${Td}\\)$`),zse=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Td}\\)$`),Wse=new RegExp(`^hsl\\(${Td},${Zn},${Zn}\\)$`),Hse=new RegExp(`^hsla\\(${Td},${Zn},${Zn},${Td}\\)$`),wA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j1(wh,Ed,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jA,formatHex:jA,formatHex8:qse,formatHsl:Gse,formatRgb:NA,toString:NA});function jA(){return this.rgb().formatHex()}function qse(){return this.rgb().formatHex8()}function Gse(){return TD(this).formatHsl()}function NA(){return this.rgb().formatRgb()}function Ed(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Vse.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_A(e):r===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Fse.exec(t))?new Ir(e[1],e[2],e[3],1):(e=Bse.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Use.exec(t))?vf(e[1],e[2],e[3],e[4]):(e=zse.exec(t))?vf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wse.exec(t))?AA(e[1],e[2]/100,e[3]/100,1):(e=Hse.exec(t))?AA(e[1],e[2]/100,e[3]/100,e[4]):wA.hasOwnProperty(t)?_A(wA[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function _A(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function vf(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ir(t,e,r,n)}function Kse(t){return t instanceof wh||(t=Ed(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function a0(t,e,r,n){return arguments.length===1?Kse(t):new Ir(t,e,r,n??1)}function Ir(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}j1(Ir,a0,AD(wh,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ad:Math.pow(Ad,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(Ta(this.r),Ta(this.g),Ta(this.b),sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SA,formatHex:SA,formatHex8:Yse,formatRgb:kA,toString:kA}));function SA(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function Yse(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const t=sp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ta(this.r)}, ${Ta(this.g)}, ${Ta(this.b)}${t===1?")":`, ${t})`}`}function sp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ta(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ja(t){return t=Ta(t),(t<16?"0":"")+t.toString(16)}function AA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Tn(t,e,r,n)}function TD(t){if(t instanceof Tn)return new Tn(t.h,t.s,t.l,t.opacity);if(t instanceof wh||(t=Ed(t)),!t)return new Tn;if(t instanceof Tn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Tn(o,l,c,t.opacity)}function Xse(t,e,r,n){return arguments.length===1?TD(t):new Tn(t,e,r,n??1)}function Tn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}j1(Tn,Xse,AD(wh,{brighter(t){return t=t==null?ip:Math.pow(ip,t),new Tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ad:Math.pow(Ad,t),new Tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ir($v(t>=240?t-240:t+120,i,n),$v(t,i,n),$v(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Tn(TA(this.h),yf(this.s),yf(this.l),sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sp(this.opacity);return`${t===1?"hsl(":"hsla("}${TA(this.h)}, ${yf(this.s)*100}%, ${yf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TA(t){return t=(t||0)%360,t<0?t+360:t}function yf(t){return Math.max(0,Math.min(1,t||0))}function $v(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const N1=t=>()=>t;function Qse(t,e){return function(r){return t+r*e}}function Jse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zse(t){return(t=+t)==1?ED:function(e,r){return r-e?Jse(e,r,t):N1(isNaN(e)?r:e)}}function ED(t,e){var r=e-t;return r?Qse(t,r):N1(isNaN(t)?e:t)}const EA=function t(e){var r=Zse(e);function n(i,a){var o=r((i=a0(i)).r,(a=a0(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=ED(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function eae(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function tae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rae(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=vc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function nae(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ap(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iae(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=vc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var o0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vv=new RegExp(o0.source,"g");function sae(t){return function(){return t}}function aae(t){return function(e){return t(e)+""}}function oae(t,e){var r=o0.lastIndex=Vv.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=o0.exec(t))&&(i=Vv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ap(n,i)})),r=Vv.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?aae(c[0].x):sae(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function vc(t,e){var r=typeof e,n;return e==null||r==="boolean"?N1(e):(r==="number"?ap:r==="string"?(n=Ed(e))?(e=n,EA):oae:e instanceof Ed?EA:e instanceof Date?nae:tae(e)?eae:Array.isArray(e)?rae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iae:ap)(t,e)}function _1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function lae(t,e){e===void 0&&(e=t,t=vc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function cae(t){return function(){return t}}function op(t){return+t}var PA=[0,1];function _r(t){return t}function l0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:cae(isNaN(e)?NaN:.5)}function uae(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function dae(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=l0(i,n),a=r(o,a)):(n=l0(n,i),a=r(a,o)),function(l){return a(n(l))}}function hae(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=l0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=bh(t,l,1,n)-1;return a[c](i[c](l))}}function jh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xg(){var t=PA,e=PA,r=vc,n,i,a,o=_r,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==_r&&(o=uae(t[0],t[f-1])),l=f>2?hae:dae,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(n),ap)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,op),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=_1,d()},h.clamp=function(f){return arguments.length?(o=f?!0:_r,d()):o!==_r},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return n=f,i=p,d()}}function S1(){return Xg()(_r,_r)}function fae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _l(t){return t=lp(Math.abs(t)),t?t[1]:NaN}function mae(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function pae(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pd(t){if(!(e=gae.exec(t)))throw new Error("invalid format: "+t);var e;return new k1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pd.prototype=k1.prototype;function k1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}k1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xae(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var PD;function vae(t,e){var r=lp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(PD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+lp(t,Math.max(0,e+a-1))[0]}function IA(t,e){var r=lp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const CA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>IA(t*100,e),r:IA,s:vae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OA(t){return t}var MA=Array.prototype.map,DA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yae(t){var e=t.grouping===void 0||t.thousands===void 0?OA:mae(MA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?OA:pae(MA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Pd(h);var f=h.fill,p=h.align,v=h.sign,b=h.symbol,x=h.zero,g=h.width,y=h.comma,w=h.precision,k=h.trim,j=h.type;j==="n"?(y=!0,j="g"):CA[j]||(w===void 0&&(w=12),k=!0,j="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var A=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=b==="$"?n:/[%p]/.test(j)?o:"",N=CA[j],T=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(I){var C=A,M=S,B,F,R;if(j==="c")M=N(I)+M,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?c:N(Math.abs(I),w),k&&(I=xae(I)),V&&+I==0&&v!=="+"&&(V=!1),C=(V?v==="("?v:l:v==="-"||v==="("?"":v)+C,M=(j==="s"?DA[8+PD/3]:"")+M+(V&&v==="("?")":""),T){for(B=-1,F=I.length;++B<F;)if(R=I.charCodeAt(B),48>R||R>57){M=(R===46?i+I.slice(B+1):I.slice(B))+M,I=I.slice(0,B);break}}}y&&!x&&(I=e(I,1/0));var $=C.length+I.length+M.length,z=$<g?new Array(g-$+1).join(f):"";switch(y&&x&&(I=e(z+I,z.length?g-M.length:1/0),z=""),p){case"<":I=C+I+M+z;break;case"=":I=C+z+I+M;break;case"^":I=z.slice(0,$=z.length>>1)+C+I+M+z.slice($);break;default:I=z+C+I+M;break}return a(I)}return O.toString=function(){return h+""},O}function d(h,f){var p=u((h=Pd(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(_l(f)/3)))*3,b=Math.pow(10,-v),x=DA[8+v/3];return function(g){return p(b*g)+x}}return{format:u,formatPrefix:d}}var bf,A1,ID;bae({thousands:",",grouping:[3],currency:["$",""]});function bae(t){return bf=yae(t),A1=bf.format,ID=bf.formatPrefix,bf}function wae(t){return Math.max(0,-_l(Math.abs(t)))}function jae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_l(e)/3)))*3-_l(Math.abs(t)))}function Nae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_l(e)-_l(t))+1}function CD(t,e,r,n){var i=i0(t,e,r),a;switch(n=Pd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=jae(i,o))&&(n.precision=a),ID(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Nae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=wae(i))&&(n.precision=a-(n.type==="%")*2);break}}return A1(n)}function Js(t){var e=t.domain;return t.ticks=function(r){var n=e();return r0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return CD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=n0(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function cp(){var t=S1();return t.copy=function(){return jh(t,cp())},yn.apply(t,arguments),Js(t)}function OD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,op),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return OD(t).unknown(e)},t=arguments.length?Array.from(t,op):[0,1],Js(r)}function MD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function RA(t){return Math.log(t)}function LA(t){return Math.exp(t)}function _ae(t){return-Math.log(-t)}function Sae(t){return-Math.exp(-t)}function kae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Aae(t){return t===10?kae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Tae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $A(t){return(e,r)=>-t(-e,r)}function T1(t){const e=t(RA,LA),r=e.domain;let n=10,i,a;function o(){return i=Tae(n),a=Aae(n),r()[0]<0?(i=$A(i),a=$A(a),t(_ae,Sae)):t(RA,LA),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),v,b;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<n;++v)if(b=f<0?v/a(-f):v*a(f),!(b<u)){if(b>d)break;g.push(b)}}else for(;f<=p;++f)for(v=n-1;v>=1;--v)if(b=f>0?v/a(-f):v*a(f),!(b<u)){if(b>d)break;g.push(b)}g.length*2<x&&(g=r0(u,d,x))}else g=r0(f,p,Math.min(p-f,x)).map(a);return h?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pd(c)).precision==null&&(c.trim=!0),c=A1(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(MD(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function DD(){const t=T1(Xg()).domain([1,10]);return t.copy=()=>jh(t,DD()).base(t.base()),yn.apply(t,arguments),t}function VA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function E1(t){var e=1,r=t(VA(e),FA(e));return r.constant=function(n){return arguments.length?t(VA(e=+n),FA(e)):e},Js(r)}function RD(){var t=E1(Xg());return t.copy=function(){return jh(t,RD()).constant(t.constant())},yn.apply(t,arguments)}function BA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Eae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Pae(t){return t<0?-t*t:t*t}function P1(t){var e=t(_r,_r),r=1;function n(){return r===1?t(_r,_r):r===.5?t(Eae,Pae):t(BA(r),BA(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Js(e)}function I1(){var t=P1(Xg());return t.copy=function(){return jh(t,I1()).exponent(t.exponent())},yn.apply(t,arguments),t}function Iae(){return I1.apply(null,arguments).exponent(.5)}function UA(t){return Math.sign(t)*t*t}function Cae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function LD(){var t=S1(),e=[0,1],r=!1,n;function i(a){var o=Cae(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(UA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,op)).map(UA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yn.apply(i,arguments),Js(i)}function $D(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Lse(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[bh(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ds),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return $D().domain(t).range(e).unknown(n)},yn.apply(a,arguments)}function VD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[bh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return VD().domain([t,e]).range(i).unknown(a)},yn.apply(Js(o),arguments)}function FD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[bh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return FD().domain(t).range(e).unknown(r)},yn.apply(i,arguments)}const Fv=new Date,Bv=new Date;function Wt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Wt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Fv.setTime(+a),Bv.setTime(+o),t(Fv),t(Bv),Math.floor(r(Fv,Bv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const up=Wt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);up.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Wt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):up);up.range;const yi=1e3,dn=yi*60,bi=dn*60,Li=bi*24,C1=Li*7,zA=Li*30,Uv=Li*365,Na=Wt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());Na.range;const O1=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*dn)},(t,e)=>(e-t)/dn,t=>t.getMinutes());O1.range;const M1=Wt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dn)},(t,e)=>(e-t)/dn,t=>t.getUTCMinutes());M1.range;const D1=Wt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*dn)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getHours());D1.range;const R1=Wt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bi)},(t,e)=>(e-t)/bi,t=>t.getUTCHours());R1.range;const Nh=Wt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dn)/Li,t=>t.getDate()-1);Nh.range;const Qg=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);Qg.range;const BD=Wt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));BD.range;function ao(t){return Wt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*dn)/C1)}const Jg=ao(0),dp=ao(1),Oae=ao(2),Mae=ao(3),Sl=ao(4),Dae=ao(5),Rae=ao(6);Jg.range;dp.range;Oae.range;Mae.range;Sl.range;Dae.range;Rae.range;function oo(t){return Wt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/C1)}const Zg=oo(0),hp=oo(1),Lae=oo(2),$ae=oo(3),kl=oo(4),Vae=oo(5),Fae=oo(6);Zg.range;hp.range;Lae.range;$ae.range;kl.range;Vae.range;Fae.range;const L1=Wt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());L1.range;const $1=Wt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());$1.range;const $i=Wt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});$i.range;const Vi=Wt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Vi.range;function UD(t,e,r,n,i,a){const o=[[Na,1,yi],[Na,5,5*yi],[Na,15,15*yi],[Na,30,30*yi],[a,1,dn],[a,5,5*dn],[a,15,15*dn],[a,30,30*dn],[i,1,bi],[i,3,3*bi],[i,6,6*bi],[i,12,12*bi],[n,1,Li],[n,2,2*Li],[r,1,C1],[e,1,zA],[e,3,3*zA],[t,1,Uv]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),v=p?p.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,p=b1(([,,x])=>x).right(o,f);if(p===o.length)return t.every(i0(u/Uv,d/Uv,h));if(p===0)return up.every(Math.max(i0(u,d,h),1));const[v,b]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(b)}return[l,c]}const[Bae,Uae]=UD(Vi,$1,Zg,BD,R1,M1),[zae,Wae]=UD($i,L1,Jg,Nh,D1,O1);function zv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Hae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Qc(i),d=Jc(i),h=Qc(a),f=Jc(a),p=Qc(o),v=Jc(o),b=Qc(l),x=Jc(l),g=Qc(c),y=Jc(c),w={a:V,A:$,b:z,B:K,c:null,d:YA,e:YA,f:moe,g:_oe,G:koe,H:doe,I:hoe,j:foe,L:zD,m:poe,M:goe,p:J,q:ee,Q:JA,s:ZA,S:xoe,u:voe,U:yoe,V:boe,w:woe,W:joe,x:null,X:null,y:Noe,Y:Soe,Z:Aoe,"%":QA},k={a:le,A:Ee,b:Fe,B:Ke,c:null,d:XA,e:XA,f:Ioe,g:Boe,G:zoe,H:Toe,I:Eoe,j:Poe,L:HD,m:Coe,M:Ooe,p:Mt,q:At,Q:JA,s:ZA,S:Moe,u:Doe,U:Roe,V:Loe,w:$oe,W:Voe,x:null,X:null,y:Foe,Y:Uoe,Z:Woe,"%":QA},j={a:O,A:I,b:C,B:M,c:B,d:GA,e:GA,f:ooe,g:qA,G:HA,H:KA,I:KA,j:noe,L:aoe,m:roe,M:ioe,p:T,q:toe,Q:coe,s:uoe,S:soe,u:Xae,U:Qae,V:Jae,w:Yae,W:Zae,x:F,X:R,y:qA,Y:HA,Z:eoe,"%":loe};w.x=A(r,w),w.X=A(n,w),w.c=A(e,w),k.x=A(r,k),k.X=A(n,k),k.c=A(e,k);function A(ne,je){return function(H){var W=[],oe=-1,ue=0,ze=ne.length,rt,ke,bn;for(H instanceof Date||(H=new Date(+H));++oe<ze;)ne.charCodeAt(oe)===37&&(W.push(ne.slice(ue,oe)),(ke=WA[rt=ne.charAt(++oe)])!=null?rt=ne.charAt(++oe):ke=rt==="e"?" ":"0",(bn=je[rt])&&(rt=bn(H,ke)),W.push(rt),ue=oe+1);return W.push(ne.slice(ue,oe)),W.join("")}}function S(ne,je){return function(H){var W=Xc(1900,void 0,1),oe=N(W,ne,H+="",0),ue,ze;if(oe!=H.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(je&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ue=Wv(Xc(W.y,0,1)),ze=ue.getUTCDay(),ue=ze>4||ze===0?hp.ceil(ue):hp(ue),ue=Qg.offset(ue,(W.V-1)*7),W.y=ue.getUTCFullYear(),W.m=ue.getUTCMonth(),W.d=ue.getUTCDate()+(W.w+6)%7):(ue=zv(Xc(W.y,0,1)),ze=ue.getDay(),ue=ze>4||ze===0?dp.ceil(ue):dp(ue),ue=Nh.offset(ue,(W.V-1)*7),W.y=ue.getFullYear(),W.m=ue.getMonth(),W.d=ue.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),ze="Z"in W?Wv(Xc(W.y,0,1)).getUTCDay():zv(Xc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(ze+5)%7:W.w+W.U*7-(ze+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Wv(W)):zv(W)}}function N(ne,je,H,W){for(var oe=0,ue=je.length,ze=H.length,rt,ke;oe<ue;){if(W>=ze)return-1;if(rt=je.charCodeAt(oe++),rt===37){if(rt=je.charAt(oe++),ke=j[rt in WA?je.charAt(oe++):rt],!ke||(W=ke(ne,H,W))<0)return-1}else if(rt!=H.charCodeAt(W++))return-1}return W}function T(ne,je,H){var W=u.exec(je.slice(H));return W?(ne.p=d.get(W[0].toLowerCase()),H+W[0].length):-1}function O(ne,je,H){var W=p.exec(je.slice(H));return W?(ne.w=v.get(W[0].toLowerCase()),H+W[0].length):-1}function I(ne,je,H){var W=h.exec(je.slice(H));return W?(ne.w=f.get(W[0].toLowerCase()),H+W[0].length):-1}function C(ne,je,H){var W=g.exec(je.slice(H));return W?(ne.m=y.get(W[0].toLowerCase()),H+W[0].length):-1}function M(ne,je,H){var W=b.exec(je.slice(H));return W?(ne.m=x.get(W[0].toLowerCase()),H+W[0].length):-1}function B(ne,je,H){return N(ne,e,je,H)}function F(ne,je,H){return N(ne,r,je,H)}function R(ne,je,H){return N(ne,n,je,H)}function V(ne){return o[ne.getDay()]}function $(ne){return a[ne.getDay()]}function z(ne){return c[ne.getMonth()]}function K(ne){return l[ne.getMonth()]}function J(ne){return i[+(ne.getHours()>=12)]}function ee(ne){return 1+~~(ne.getMonth()/3)}function le(ne){return o[ne.getUTCDay()]}function Ee(ne){return a[ne.getUTCDay()]}function Fe(ne){return c[ne.getUTCMonth()]}function Ke(ne){return l[ne.getUTCMonth()]}function Mt(ne){return i[+(ne.getUTCHours()>=12)]}function At(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=A(ne+="",w);return je.toString=function(){return ne},je},parse:function(ne){var je=S(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=A(ne+="",k);return je.toString=function(){return ne},je},utcParse:function(ne){var je=S(ne+="",!0);return je.toString=function(){return ne},je}}}var WA={"-":"",_:" ",0:"0"},er=/^\s*\d+/,qae=/^%/,Gae=/[\\^$*+?|[\]().{}]/g;function Ve(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Kae(t){return t.replace(Gae,"\\$&")}function Qc(t){return new RegExp("^(?:"+t.map(Kae).join("|")+")","i")}function Jc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Yae(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Xae(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Qae(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Jae(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Zae(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function HA(t,e,r){var n=er.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qA(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eoe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function toe(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function roe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function GA(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function noe(t,e,r){var n=er.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function KA(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ioe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function soe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function aoe(t,e,r){var n=er.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ooe(t,e,r){var n=er.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function loe(t,e,r){var n=qae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function coe(t,e,r){var n=er.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function uoe(t,e,r){var n=er.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function YA(t,e){return Ve(t.getDate(),e,2)}function doe(t,e){return Ve(t.getHours(),e,2)}function hoe(t,e){return Ve(t.getHours()%12||12,e,2)}function foe(t,e){return Ve(1+Nh.count($i(t),t),e,3)}function zD(t,e){return Ve(t.getMilliseconds(),e,3)}function moe(t,e){return zD(t,e)+"000"}function poe(t,e){return Ve(t.getMonth()+1,e,2)}function goe(t,e){return Ve(t.getMinutes(),e,2)}function xoe(t,e){return Ve(t.getSeconds(),e,2)}function voe(t){var e=t.getDay();return e===0?7:e}function yoe(t,e){return Ve(Jg.count($i(t)-1,t),e,2)}function WD(t){var e=t.getDay();return e>=4||e===0?Sl(t):Sl.ceil(t)}function boe(t,e){return t=WD(t),Ve(Sl.count($i(t),t)+($i(t).getDay()===4),e,2)}function woe(t){return t.getDay()}function joe(t,e){return Ve(dp.count($i(t)-1,t),e,2)}function Noe(t,e){return Ve(t.getFullYear()%100,e,2)}function _oe(t,e){return t=WD(t),Ve(t.getFullYear()%100,e,2)}function Soe(t,e){return Ve(t.getFullYear()%1e4,e,4)}function koe(t,e){var r=t.getDay();return t=r>=4||r===0?Sl(t):Sl.ceil(t),Ve(t.getFullYear()%1e4,e,4)}function Aoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ve(e/60|0,"0",2)+Ve(e%60,"0",2)}function XA(t,e){return Ve(t.getUTCDate(),e,2)}function Toe(t,e){return Ve(t.getUTCHours(),e,2)}function Eoe(t,e){return Ve(t.getUTCHours()%12||12,e,2)}function Poe(t,e){return Ve(1+Qg.count(Vi(t),t),e,3)}function HD(t,e){return Ve(t.getUTCMilliseconds(),e,3)}function Ioe(t,e){return HD(t,e)+"000"}function Coe(t,e){return Ve(t.getUTCMonth()+1,e,2)}function Ooe(t,e){return Ve(t.getUTCMinutes(),e,2)}function Moe(t,e){return Ve(t.getUTCSeconds(),e,2)}function Doe(t){var e=t.getUTCDay();return e===0?7:e}function Roe(t,e){return Ve(Zg.count(Vi(t)-1,t),e,2)}function qD(t){var e=t.getUTCDay();return e>=4||e===0?kl(t):kl.ceil(t)}function Loe(t,e){return t=qD(t),Ve(kl.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function $oe(t){return t.getUTCDay()}function Voe(t,e){return Ve(hp.count(Vi(t)-1,t),e,2)}function Foe(t,e){return Ve(t.getUTCFullYear()%100,e,2)}function Boe(t,e){return t=qD(t),Ve(t.getUTCFullYear()%100,e,2)}function Uoe(t,e){return Ve(t.getUTCFullYear()%1e4,e,4)}function zoe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?kl(t):kl.ceil(t),Ve(t.getUTCFullYear()%1e4,e,4)}function Woe(){return"+0000"}function QA(){return"%"}function JA(t){return+t}function ZA(t){return Math.floor(+t/1e3)}var yo,GD,KD;Hoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hoe(t){return yo=Hae(t),GD=yo.format,yo.parse,KD=yo.utcFormat,yo.utcParse,yo}function qoe(t){return new Date(t)}function Goe(t){return t instanceof Date?+t:+new Date(+t)}function V1(t,e,r,n,i,a,o,l,c,u){var d=S1(),h=d.invert,f=d.domain,p=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),w=u("%B"),k=u("%Y");function j(A){return(c(A)<A?p:l(A)<A?v:o(A)<A?b:a(A)<A?x:n(A)<A?i(A)<A?g:y:r(A)<A?w:k)(A)}return d.invert=function(A){return new Date(h(A))},d.domain=function(A){return arguments.length?f(Array.from(A,Goe)):f().map(qoe)},d.ticks=function(A){var S=f();return t(S[0],S[S.length-1],A??10)},d.tickFormat=function(A,S){return S==null?j:u(S)},d.nice=function(A){var S=f();return(!A||typeof A.range!="function")&&(A=e(S[0],S[S.length-1],A??10)),A?f(MD(S,A)):d},d.copy=function(){return jh(d,V1(t,e,r,n,i,a,o,l,c,u))},d}function Koe(){return yn.apply(V1(zae,Wae,$i,L1,Jg,Nh,D1,O1,Na,GD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yoe(){return yn.apply(V1(Bae,Uae,Vi,$1,Zg,Qg,R1,M1,Na,KD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var t=0,e=1,r,n,i,a,o=_r,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,v;return arguments.length?([p,v]=f,o=h(p,v),u):[o(0),o(1)]}}return u.range=d(vc),u.rangeRound=d(_1),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Zs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YD(){var t=Js(ex()(_r));return t.copy=function(){return Zs(t,YD())},Hi.apply(t,arguments)}function XD(){var t=T1(ex()).domain([1,10]);return t.copy=function(){return Zs(t,XD()).base(t.base())},Hi.apply(t,arguments)}function QD(){var t=E1(ex());return t.copy=function(){return Zs(t,QD()).constant(t.constant())},Hi.apply(t,arguments)}function F1(){var t=P1(ex());return t.copy=function(){return Zs(t,F1()).exponent(t.exponent())},Hi.apply(t,arguments)}function Xoe(){return F1.apply(null,arguments).exponent(.5)}function JD(){var t=[],e=_r;function r(n){if(n!=null&&!isNaN(n=+n))return e((bh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ds),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Rse(t,a/n))},r.copy=function(){return JD(e).domain(t)},Hi.apply(r,arguments)}function tx(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=_r,d,h=!1,f;function p(b){return isNaN(b=+b)?f:(b=.5+((b=+d(b))-a)*(n*b<n*a?l:c),u(h?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(b){return arguments.length?(h=!!b,p):h},p.interpolator=function(b){return arguments.length?(u=b,p):u};function v(b){return function(x){var g,y,w;return arguments.length?([g,y,w]=x,u=lae(b,[g,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(vc),p.rangeRound=v(_1),p.unknown=function(b){return arguments.length?(f=b,p):f},function(b){return d=b,i=b(t),a=b(e),o=b(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function ZD(){var t=Js(tx()(_r));return t.copy=function(){return Zs(t,ZD())},Hi.apply(t,arguments)}function eR(){var t=T1(tx()).domain([.1,1,10]);return t.copy=function(){return Zs(t,eR()).base(t.base())},Hi.apply(t,arguments)}function tR(){var t=E1(tx());return t.copy=function(){return Zs(t,tR()).constant(t.constant())},Hi.apply(t,arguments)}function B1(){var t=P1(tx());return t.copy=function(){return Zs(t,B1()).exponent(t.exponent())},Hi.apply(t,arguments)}function Qoe(){return B1.apply(null,arguments).exponent(.5)}const eT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kd,scaleDiverging:ZD,scaleDivergingLog:eR,scaleDivergingPow:B1,scaleDivergingSqrt:Qoe,scaleDivergingSymlog:tR,scaleIdentity:OD,scaleImplicit:s0,scaleLinear:cp,scaleLog:DD,scaleOrdinal:w1,scalePoint:Mu,scalePow:I1,scaleQuantile:$D,scaleQuantize:VD,scaleRadial:LD,scaleSequential:YD,scaleSequentialLog:XD,scaleSequentialPow:F1,scaleSequentialQuantile:JD,scaleSequentialSqrt:Xoe,scaleSequentialSymlog:QD,scaleSqrt:Iae,scaleSymlog:RD,scaleThreshold:FD,scaleTime:Koe,scaleUtc:Yoe,tickFormat:CD},Symbol.toStringTag,{value:"Module"}));var Joe=cc;function Zoe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!Joe(o):r(o,l)))var l=o,c=a}return c}var rx=Zoe;function ele(t,e){return t>e}var rR=ele,tle=rx,rle=rR,nle=xc;function ile(t){return t&&t.length?tle(t,nle,rle):void 0}var sle=ile;const nx=qe(sle);function ale(t,e){return t<e}var nR=ale,ole=rx,lle=nR,cle=xc;function ule(t){return t&&t.length?ole(t,cle,lle):void 0}var dle=ule;const ix=qe(dle);var hle=t1,fle=li,mle=dD,ple=Dr;function gle(t,e){var r=ple(t)?hle:mle;return r(t,fle(e))}var xle=gle,vle=cD,yle=xle;function ble(t,e){return vle(yle(t,e),1)}var wle=ble;const jle=qe(wle);var Nle=g1;function _le(t,e){return Nle(t,e)}var Sle=_le;const _h=qe(Sle);var yc=1e9,kle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z1,ft=!0,pn="[DecimalError] ",Ea=pn+"Invalid argument: ",U1=pn+"Exponent out of range: ",bc=Math.floor,ma=Math.pow,Ale=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,Gt=1e7,lt=7,iR=9007199254740991,fp=bc(iR/lt),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*lt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(t){return Ai(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,r=e.constructor;return Qe(Ai(e,new r(t),0,1),r.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return Ot(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(zr))throw Error(pn+"NaN");if(r.s<1)throw Error(pn+(r.s?"NaN":"-Infinity"));return r.eq(zr)?new n(0):(ft=!1,e=Ai(Id(r,a),Id(t,a),a),ft=!0,Qe(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oR(e,t):sR(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(pn+"NaN");return r.s?(ft=!1,e=Ai(r,t,0,1).times(t),ft=!0,r.minus(e)):Qe(new n(r),i)};ae.naturalExponential=ae.exp=function(){return aR(this)};ae.naturalLogarithm=ae.ln=function(){return Id(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sR(e,t):oR(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ea+t);if(e=Ot(i)+1,n=i.d.length-1,r=n*lt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ae.squareRoot=ae.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(pn+"NaN")}for(t=Ot(l),ft=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Wn(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Ai(l,a,o+2)).times(.5),Wn(a.d).slice(0,o)===(e=Wn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Qe(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ft=!0,Qe(n,r)};ae.times=ae.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(a=f,f=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+p[n]*f[i-n-1]+e,a[i--]=l%Gt|0,e=l/Gt|0;a[i]=(a[i]+e)%Gt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ft?Qe(t,h.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ii(t,0,yc),e===void 0?e=n.rounding:ii(e,0,8),Qe(r,t+Ot(r)+1,e))};ae.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=qa(n,!0):(ii(t,0,yc),e===void 0?e=i.rounding:ii(e,0,8),n=Qe(new i(n),t+1,e),r=qa(n,!0,t+1)),r};ae.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?qa(i):(ii(t,0,yc),e===void 0?e=a.rounding:ii(e,0,8),n=Qe(new a(i),t+Ot(i)+1,e),r=qa(n.abs(),!1,t+Ot(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return Qe(new e(t),Ot(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(zr);if(l=new c(l),!l.s){if(t.s<1)throw Error(pn+"Infinity");return l}if(l.eq(zr))return l;if(n=c.precision,t.eq(zr))return Qe(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=iR){for(i=new c(zr),e=Math.ceil(n/lt+4),ft=!1;r%2&&(i=i.times(l),rT(i.d,e)),r=bc(r/2),r!==0;)l=l.times(l),rT(l.d,e);return ft=!0,t.s<0?new c(zr).div(i):Qe(i,n)}}else if(a<0)throw Error(pn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ft=!1,i=t.times(Id(l,n+u)),ft=!0,i=aR(i),i.s=a,i};ae.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ot(i),n=qa(i,r<=a.toExpNeg||r>=a.toExpPos)):(ii(t,1,yc),e===void 0?e=a.rounding:ii(e,0,8),i=Qe(new a(i),t,e),r=Ot(i),n=qa(i,t<=r||r<=a.toExpNeg,t)),n};ae.toSignificantDigits=ae.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ii(t,1,yc),e===void 0?e=n.rounding:ii(e,0,8)),Qe(new n(r),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),r=t.constructor;return qa(t,e<=r.toExpNeg||e>=r.toExpPos)};function sR(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ft?Qe(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/lt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Gt|0,c[a]%=Gt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ft?Qe(e,h):e}function ii(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ea+t)}function Wn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=lt-n.length,r&&(a+=os(r)),a+=n;o=t[e],n=o+"",r=lt-n.length,r&&(a+=os(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ai=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Gt|0,o=a/Gt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Gt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,h,f,p,v,b,x,g,y,w,k,j,A,S,N,T=n.constructor,O=n.s==i.s?1:-1,I=n.d,C=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(pn+"Division by zero");for(c=n.e-i.e,S=C.length,j=I.length,p=new T(O),v=p.d=[],u=0;C[u]==(I[u]||0);)++u;if(C[u]>(I[u]||0)&&--c,a==null?y=a=T.precision:o?y=a+(Ot(n)-Ot(i))+1:y=a,y<0)return new T(0);if(y=y/lt+2|0,u=0,S==1)for(d=0,C=C[0],y++;(u<j||d)&&y--;u++)w=d*Gt+(I[u]||0),v[u]=w/C|0,d=w%C|0;else{for(d=Gt/(C[0]+1)|0,d>1&&(C=t(C,d),I=t(I,d),S=C.length,j=I.length),k=S,b=I.slice(0,S),x=b.length;x<S;)b[x++]=0;N=C.slice(),N.unshift(0),A=C[0],C[1]>=Gt/2&&++A;do d=0,l=e(C,b,S,x),l<0?(g=b[0],S!=x&&(g=g*Gt+(b[1]||0)),d=g/A|0,d>1?(d>=Gt&&(d=Gt-1),h=t(C,d),f=h.length,x=b.length,l=e(h,b,f,x),l==1&&(d--,r(h,S<f?N:C,f))):(d==0&&(l=d=1),h=C.slice()),f=h.length,f<x&&h.unshift(0),r(b,h,x),l==-1&&(x=b.length,l=e(C,b,S,x),l<1&&(d++,r(b,S<x?N:C,x))),x=b.length):l===0&&(d++,b=[0]),v[u++]=d,l&&b[0]?b[x++]=I[k]||0:(b=[I[k]],x=1);while((k++<j||b[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,Qe(p,o?a+Ot(p)+1:a)}}();function aR(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(Ot(t)>16)throw Error(U1+Ot(t));if(!t.s)return new d(zr);for(ft=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(ma(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(zr),d.precision=l;;){if(i=Qe(i.times(t),l),r=r.times(++c),o=a.plus(Ai(i,r,l)),Wn(o.d).slice(0,l)===Wn(a.d).slice(0,l)){for(;u--;)a=Qe(a.times(a),l);return d.precision=h,e==null?(ft=!0,Qe(a,h)):a}a=o}}function Ot(t){for(var e=t.e*lt,r=t.d[0];r>=10;r/=10)e++;return e}function Hv(t,e,r){if(e>t.LN10.sd())throw ft=!0,r&&(t.precision=r),Error(pn+"LN10 precision limit exceeded");return Qe(new t(t.LN10),e)}function os(t){for(var e="";t--;)e+="0";return e}function Id(t,e){var r,n,i,a,o,l,c,u,d,h=1,f=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(pn+(p.s?"NaN":"-Infinity"));if(p.eq(zr))return new b(0);if(e==null?(ft=!1,u=x):u=e,p.eq(10))return e==null&&(ft=!0),Hv(b,u);if(u+=f,b.precision=u,r=Wn(v),n=r.charAt(0),a=Ot(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Wn(p.d),n=r.charAt(0),h++;a=Ot(p),n>1?(p=new b("0."+r),a++):p=new b(n+"."+r.slice(1))}else return c=Hv(b,u+2,x).times(a+""),p=Id(new b(n+"."+r.slice(1)),u-f).plus(c),b.precision=x,e==null?(ft=!0,Qe(p,x)):p;for(l=o=p=Ai(p.minus(zr),p.plus(zr),u),d=Qe(p.times(p),u),i=3;;){if(o=Qe(o.times(d),u),c=l.plus(Ai(o,new b(i),u)),Wn(c.d).slice(0,u)===Wn(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Hv(b,u+2,x).times(a+""))),l=Ai(l,new b(h),u),b.precision=x,e==null?(ft=!0,Qe(l,x)):l;l=c,i+=2}}function tT(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=bc(r/lt),t.d=[],n=(r+1)%lt,r<0&&(n+=lt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=lt;n<i;)t.d.push(+e.slice(n,n+=lt));e=e.slice(n),n=lt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ft&&(t.e>fp||t.e<-fp))throw Error(U1+r)}else t.s=0,t.e=0,t.d=[0];return t}function Qe(t,e,r){var n,i,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=lt,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/lt),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=lt,i=n-lt+o}if(r!==void 0&&(a=ma(10,o-i-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ma(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=Ot(t),h.length=1,e=e-a-1,h[0]=ma(10,(lt-e%lt)%lt),t.e=bc(-e/lt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=ma(10,lt-n),h[d]=i>0?(u/ma(10,o-i)%ma(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Gt&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Gt)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(ft&&(t.e>fp||t.e<-fp))throw Error(U1+Ot(t));return t}function oR(t,e){var r,n,i,a,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),ft?Qe(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/lt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Gt-1;--c[a],c[i]+=Gt}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ft?Qe(e,p):e):new f(0)}function qa(t,e,r){var n,i=Ot(t),a=Wn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+os(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+os(-i-1)+a,r&&(n=r-o)>0&&(a+=os(n))):i>=o?(a+=os(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+os(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=os(n))),t.s<0?"-"+a:a}function rT(t,e){if(t.length>e)return t.length=e,!0}function lR(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ea+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return tT(o,a.toString())}else if(typeof a!="string")throw Error(Ea+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Ale.test(a))tT(o,a);else throw Error(Ea+a)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=lR,i.config=i.set=Tle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Tle(t){if(!t||typeof t!="object")throw Error(pn+"Object expected");var e,r,n,i=["precision",1,yc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(bc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ea+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ea+r+": "+n);return this}var z1=lR(kle);zr=new z1(1);const Ye=z1;function Ele(t){return Ole(t)||Cle(t)||Ile(t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return c0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c0(t,e)}}function Cle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ole(t){if(Array.isArray(t))return c0(t)}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Mle=function(e){return e},cR={},uR=function(e){return e===cR},nT=function(e){return function r(){return arguments.length===0||arguments.length===1&&uR(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Dle=function t(e,r){return e===1?r:nT(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==cR}).length;return o>=e?r.apply(void 0,i):t(e-o,nT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return uR(h)?c.shift():h});return r.apply(void 0,Ele(d).concat(c))}))})},sx=function(e){return Dle(e.length,e)},u0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Rle=sx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Lle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Mle;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},d0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dR=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function $le(t){var e;return t===0?e=1:e=Math.floor(new Ye(t).abs().log(10).toNumber())+1,e}function Vle(t,e,r){for(var n=new Ye(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Fle=sx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Ble=sx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Ule=sx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ax={rangeStep:Vle,getDigitCount:$le,interpolateNumber:Fle,uninterpolateNumber:Ble,uninterpolateTruncation:Ule};function h0(t){return Hle(t)||Wle(t)||hR(t)||zle()}function zle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hle(t){if(Array.isArray(t))return f0(t)}function Cd(t,e){return Kle(t)||Gle(t,e)||hR(t,e)||qle()}function qle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hR(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Kle(t){if(Array.isArray(t))return t}function fR(t){var e=Cd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function mR(t,e,r){if(t.lte(0))return new Ye(0);var n=ax.getDigitCount(t.toNumber()),i=new Ye(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new Ye(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new Ye(Math.ceil(c))}function Yle(t,e,r){var n=1,i=new Ye(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ye(10).pow(ax.getDigitCount(t)-1),i=new Ye(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ye(Math.floor(t)))}else t===0?i=new Ye(Math.floor((e-1)/2)):r||(i=new Ye(Math.floor(t)));var o=Math.floor((e-1)/2),l=Lle(Rle(function(c){return i.add(new Ye(c-o).mul(n)).toNumber()}),u0);return l(0,e)}function pR(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var a=mR(new Ye(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ye(0):(o=new Ye(t).add(e).div(2),o=o.sub(new Ye(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Ye(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?pR(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ye(l).mul(a)),tickMax:o.add(new Ye(c).mul(a))})}function Xle(t){var e=Cd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=fR([r,n]),c=Cd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(h0(u0(0,i-1).map(function(){return 1/0}))):[].concat(h0(u0(0,i-1).map(function(){return-1/0})),[d]);return r>n?d0(h):h}if(u===d)return Yle(u,i,a);var f=pR(u,d,o,a),p=f.step,v=f.tickMin,b=f.tickMax,x=ax.rangeStep(v,b.add(new Ye(.1).mul(p)),p);return r>n?d0(x):x}function Qle(t,e){var r=Cd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fR([n,i]),l=Cd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=mR(new Ye(u).sub(c).div(d-1),a,0),f=[].concat(h0(ax.rangeStep(new Ye(c),new Ye(u).sub(new Ye(.99).mul(h)),h)),[u]);return n>i?d0(f):f}var Jle=dR(Xle),Zle=dR(Qle),ece="Invariant failed";function Ga(t,e){throw new Error(ece)}var tce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(this,arguments)}function rce(t,e){return ace(t)||sce(t,e)||ice(t,e)||nce()}function nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ace(t){if(Array.isArray(t))return t}function oce(t,e){if(t==null)return{};var r=lce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vR(n.key),n)}}function dce(t,e,r){return e&&uce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,r){return e=pp(e),fce(t,gR()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function fce(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pp(t)}function pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m0(t,e)}function m0(t,e){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m0(t,e)}function xR(t,e,r){return e=vR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vR(t){var e=gce(t,"string");return Al(e)=="symbol"?e:e+""}function gce(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sh=function(t){function e(){return cce(this,e),hce(this,e,arguments)}return pce(e,t),dce(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=oce(n,tce),p=de(f,!1);this.props.direction==="x"&&d.type!=="number"&&Ga();var v=c.map(function(b){var x=u(b,l),g=x.x,y=x.y,w=x.value,k=x.errorVal;if(!k)return null;var j=[],A,S;if(Array.isArray(k)){var N=rce(k,2);A=N[0],S=N[1]}else A=S=k;if(a==="vertical"){var T=d.scale,O=y+i,I=O+o,C=O-o,M=T(w-A),B=T(w+S);j.push({x1:B,y1:I,x2:B,y2:C}),j.push({x1:M,y1:O,x2:B,y2:O}),j.push({x1:M,y1:I,x2:M,y2:C})}else if(a==="horizontal"){var F=h.scale,R=g+i,V=R-o,$=R+o,z=F(w-A),K=F(w+S);j.push({x1:V,y1:K,x2:$,y2:K}),j.push({x1:R,y1:z,x2:R,y2:K}),j.push({x1:V,y1:z,x2:$,y2:z})}return L.createElement($e,mp({className:"recharts-errorBar",key:"bar-".concat(j.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),j.map(function(J){return L.createElement("line",mp({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return L.createElement($e,{className:"recharts-errorBars"},v)}}])}(L.Component);xR(Sh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xR(Sh,"displayName","ErrorBar");function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function sT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(r),!0).forEach(function(n){xce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xce(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=yce(t,"string");return Od(e)=="symbol"?e:e+""}function yce(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yR=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Fr(r,Ms);if(!o)return null;var l=Ms.defaultProps,c=l!==void 0?aa(aa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,v=p.sectors||p.data||[];return d.concat(v.map(function(b){return{type:o.props.iconType||f.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?aa(aa({},f),h.props):{},v=p.dataKey,b=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:W1(h),value:b||v,payload:p}}),aa(aa(aa({},c),Ms.getWithHeight(o,i)),{},{payload:u,item:o})};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function aT(t){return Nce(t)||jce(t)||wce(t)||bce()}function bce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t,e){if(t){if(typeof t=="string")return p0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p0(t,e)}}function jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nce(t){if(Array.isArray(t))return p0(t)}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(r),!0).forEach(function(n){il(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function il(t,e,r){return e=_ce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ce(t){var e=Sce(t,"string");return Md(e)=="symbol"?e:e+""}function Sce(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ft(t,e,r){return _e(t)||_e(e)?r:Ut(e)?qr(t,e,r):ye(e)?e(t):r}function Du(t,e,r,n){var i=jle(t,function(l){return Ft(l,e)});if(r==="number"){var a=i.filter(function(l){return te(l)||parseFloat(l)});return a.length?[ix(a),nx(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!_e(l)}):i;return o.map(function(l){return Ut(l)||l instanceof Date?l:""})}var kce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(jr(h-d)!==jr(f-h)){var v=[];if(jr(f-h)===jr(c[1]-c[0])){p=f;var b=h+c[1]-c[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{p=d;var x=f+c[1]-c[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var g=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(e>(y+h)/2&&e<=(w+h)/2){o=i[u].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===l-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},W1=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Ace=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var v=d[h[f]],b=v.items,x=v.cateAxisId,g=b.filter(function(S){return ki(S.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,w=y!==void 0?jt(jt({},y),g[0].props):g[0].props,k=w.barSize,j=w[x];o[j]||(o[j]=[]);var A=_e(k)?r:k;o[j].push({item:g[0],stackList:g.slice(1),barSize:_e(A)?void 0:Nr(A,n,0)})}}return o},Tce=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Nr(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,v=o.reduce(function(k,j){return k+j.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(f=!0,p*=.9,v=c*p);var b=(i-v)/2>>0,x={offset:b-u,size:0};d=o.reduce(function(k,j){var A={item:j.item,position:{offset:x.offset+x.size+u,size:f?p:j.barSize}},S=[].concat(aT(k),[A]);return x=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){S.push({item:N,position:x})}),S},h)}else{var g=Nr(n,i,0,!0);i-2*g-(c-1)*u<=0&&(u=0);var y=(i-2*g-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(k,j,A){var S=[].concat(aT(k),[{item:j.item,position:{offset:g+(y+u)*A+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){S.push({item:N,position:S[S.length-1].position})}),S},h)}return d},Ece=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=yR({children:a,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&te(e[p]))return jt(jt({},e),{},il({},p,e[p]+(h||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&te(e[v]))return jt(jt({},e),{},il({},v,e[v]+(f||0)))}return e},Pce=function(e,r,n){return _e(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bR=function(e,r,n,i,a){var o=r.props.children,l=Gr(o,Sh).filter(function(u){return Pce(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Ft(d,n);if(_e(h))return u;var f=Array.isArray(h)?[ix(h),nx(h)]:[h,h],p=c.reduce(function(v,b){var x=Ft(d,b,0),g=f[0]-Math.abs(Array.isArray(x)?x[0]:x),y=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ice=function(e,r,n,i,a){var o=r.map(function(l){return bR(e,l,n,a,i)}).filter(function(l){return!_e(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wR=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&bR(e,c,u,i)||Du(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},jR=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},NR=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},wi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?jr(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!vh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:a?a[h]:h,index:f,offset:u}})},qv=new WeakMap,wf=function(e,r){if(typeof r!="function")return e;qv.has(e)||qv.set(e,new WeakMap);var n=qv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},_R=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:kd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:cp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Mu(),realScaleType:"point"}:a==="category"?{scale:kd(),realScaleType:"band"}:{scale:cp(),realScaleType:"linear"};if(za(i)){var c="scale".concat(zg(i));return{scale:(eT[c]||Mu)(),realScaleType:eT[c]?c:"point"}}return ye(i)?{scale:i}:{scale:Mu(),realScaleType:"point"}},lT=1e-4,SR=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-lT,o=Math.max(i[0],i[1])+lT,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},Cce=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Oce=function(e,r){if(!r||r.length!==2||!te(r[0])||!te(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!te(e[0])||e[0]<n)&&(a[0]=n),(!te(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Mce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=vh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Dce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=vh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Rce={sign:Mce,expand:tX,none:yl,silhouette:rX,wiggle:nX,positive:Dce},Lce=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=Rce[n],o=eX().keys(i).value(function(l,c){return+Ft(l,c,0)}).order(Fb).offset(a);return o(e)},$ce=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?jt(jt({},f.type.defaultProps),f.props):f.props,b=v.stackId,x=v.hide;if(x)return h;var g=v[n],y=h[g]||{hasStack:!1,stackGroups:{}};if(Ut(b)){var w=y.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[b]=w}else y.stackGroups[mc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return jt(jt({},h),{},il({},g,y))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var g=p.stackGroups[x];return jt(jt({},b),{},il({},x,{numericAxisId:n,cateAxisId:i,items:g.items,stackedData:Lce(e,g.items,a)}))},v)}return jt(jt({},h),{},il({},f,p))},d)},kR=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Jle(u,a,l);return e.domain([ix(d),nx(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),f=Zle(h,a,l);return{niceTicks:f}}return null};function cT(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_e(i[e.dataKey])){var l=Um(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Ft(i,_e(o)?e.dataKey:o);return _e(c)?null:e.scale(c)}var uT=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Ft(o,r.dataKey,r.domain[l]);return _e(c)?null:r.scale(c)-a/2+i},Vce=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Fce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ut(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Bce=function(e){return e.reduce(function(r,n){return[ix(n.concat([r[0]]).filter(te)),nx(n.concat([r[1]]).filter(te))]},[1/0,-1/0])},AR=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=Bce(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},dT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g0=function(e,r,n){if(ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(te(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(dT.test(e[0])){var a=+dT.exec(e[0])[1];i[0]=r[0]-a}else ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(te(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(hT.test(e[1])){var o=+hT.exec(e[1])[1];i[1]=r[1]+o}else ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},gp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=v1(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},fT=function(e,r,n){return!e||!e.length||_h(e,qr(n,"type.defaultProps.domain"))?r:e},TR=function(e,r){var n=e.type.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return jt(jt({},de(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:W1(e),value:Ft(r,i),type:c,payload:r,chartType:u,hide:d})};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(n){ER(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ER(t,e,r){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uce(t){var e=zce(t,"string");return Dd(e)=="symbol"?e:e+""}function zce(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wce(t,e){return Kce(t)||Gce(t,e)||qce(t,e)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,e){if(t){if(typeof t=="string")return pT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pT(t,e)}}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Kce(t){if(Array.isArray(t))return t}var xp=Math.PI/180,Yce=function(e){return e*180/Math.PI},tt=function(e,r,n,i){return{x:e+Math.cos(-xp*i)*n,y:r+Math.sin(-xp*i)*n}},PR=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Xce=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Nr(e.cx,o,o/2),h=Nr(e.cy,l,l/2),f=PR(o,l,n),p=Nr(e.innerRadius,f,0),v=Nr(e.outerRadius,f,f*.8),b=Object.keys(r);return b.reduce(function(x,g){var y=r[g],w=y.domain,k=y.reversed,j;if(_e(y.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,v]),k&&(j=[j[1],j[0]]);else{j=y.range;var A=j,S=Wce(A,2);c=S[0],u=S[1]}var N=_R(y,a),T=N.realScaleType,O=N.scale;O.domain(w).range(j),SR(O);var I=kR(O,fi(fi({},y),{},{realScaleType:T})),C=fi(fi(fi({},y),I),{},{range:j,radius:v,realScaleType:T,scale:O,cx:d,cy:h,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return fi(fi({},x),{},ER({},g,C))},{})},Qce=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Jce=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=Qce({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Yce(u),angleInRadian:u}},Zce=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},eue=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},gT=function(e,r){var n=e.x,i=e.y,a=Jce({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Zce(r),h=d.startAngle,f=d.endAngle,p=l,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?fi(fi({},r),{},{radius:o,angle:eue(p,r)}):null},IR=function(e){return!P.isValidElement(e)&&!ye(e)&&typeof e!="boolean"?e.className:""};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var tue=["offset"];function rue(t){return aue(t)||sue(t)||iue(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(t,e){if(t){if(typeof t=="string")return x0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(t,e)}}function sue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aue(t){if(Array.isArray(t))return x0(t)}function x0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oue(t,e){if(t==null)return{};var r=lue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cue(t,e,r){return e=uue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uue(t){var e=due(t,"string");return Rd(e)=="symbol"?e:e+""}function due(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ld.apply(this,arguments)}var hue=function(e){var r=e.value,n=e.formatter,i=_e(e.children)?r:e.children;return ye(n)?n(i):i},fue=function(e,r){var n=jr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},mue=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,v=c.endAngle,b=c.clockWise,x=(h+f)/2,g=fue(p,v),y=g>=0?1:-1,w,k;i==="insideStart"?(w=p+y*o,k=b):i==="insideEnd"?(w=v-y*o,k=!b):i==="end"&&(w=v+y*o,k=b),k=g<=0?k:!k;var j=tt(u,d,x,w),A=tt(u,d,x,w+(k?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),N=_e(e.id)?mc("recharts-radial-line-"):e.id;return L.createElement("text",Ld({},n,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:N,d:S})),L.createElement("textPath",{xlinkHref:"#".concat(N)},r))},pue=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(i==="outside"){var p=tt(o,l,u+n,f),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=tt(o,l,x,f),y=g.x,w=g.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},gue=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",v=h>0?"start":"end",b=u>=0?1:-1,x=b*i,g=b>0?"end":"start",y=b>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Lt(Lt({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var k={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return Lt(Lt({},k),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Lt(Lt({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Lt(Lt({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?Lt({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Lt({x:l+u-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideTop"?Lt({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Lt({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Lt({x:l+x,y:c+f,textAnchor:y,verticalAnchor:v},S):a==="insideTopRight"?Lt({x:l+u-x,y:c+f,textAnchor:g,verticalAnchor:v},S):a==="insideBottomLeft"?Lt({x:l+x,y:c+d-f,textAnchor:y,verticalAnchor:p},S):a==="insideBottomRight"?Lt({x:l+u-x,y:c+d-f,textAnchor:g,verticalAnchor:p},S):uc(a)&&(te(a.x)||wa(a.x))&&(te(a.y)||wa(a.y))?Lt({x:l+Nr(a.x,u),y:c+Nr(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):Lt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},xue=function(e){return"cx"in e&&te(e.cx)};function Yt(t){var e=t.offset,r=e===void 0?5:e,n=oue(t,tue),i=Lt({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!a||_e(l)&&_e(c)&&!P.isValidElement(u)&&!ye(u))return null;if(P.isValidElement(u))return P.cloneElement(u,i);var p;if(ye(u)){if(p=P.createElement(u,i),P.isValidElement(p))return p}else p=hue(i);var v=xue(a),b=de(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return mue(i,p,b);var x=v?pue(i):gue(i);return L.createElement(Ha,Ld({className:Ae("recharts-label",h)},b,x,{breakAll:f}),p)}Yt.displayName="Label";var CR=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,v=e.left,b=e.width,x=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(te(b)&&te(x)){if(te(h)&&te(f))return{x:h,y:f,width:b,height:x};if(te(p)&&te(v))return{x:p,y:v,width:b,height:x}}return te(h)&&te(f)?{x:h,y:f,width:0,height:0}:te(r)&&te(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},vue=function(e,r){return e?e===!0?L.createElement(Yt,{key:"label-implicit",viewBox:r}):Ut(e)?L.createElement(Yt,{key:"label-implicit",viewBox:r,value:e}):P.isValidElement(e)?e.type===Yt?P.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Yt,{key:"label-implicit",content:e,viewBox:r}):ye(e)?L.createElement(Yt,{key:"label-implicit",content:e,viewBox:r}):uc(e)?L.createElement(Yt,Ld({viewBox:r},e,{key:"label-implicit"})):null:null},yue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=CR(e),o=Gr(i,Yt).map(function(c,u){return P.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=vue(e.label,r||a);return[l].concat(rue(o))};Yt.parseViewBox=CR;Yt.renderCallByParent=yue;function bue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var wue=bue;const jue=qe(wue);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}var Nue=["valueAccessor"],_ue=["data","dataKey","clockWise","id","textBreakAll"];function Sue(t){return Eue(t)||Tue(t)||Aue(t)||kue()}function kue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return v0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(t,e)}}function Tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eue(t){if(Array.isArray(t))return v0(t)}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vp.apply(this,arguments)}function vT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(r),!0).forEach(function(n){Pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pue(t,e,r){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iue(t){var e=Cue(t,"string");return $d(e)=="symbol"?e:e+""}function Cue(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bT(t,e){if(t==null)return{};var r=Oue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mue=function(e){return Array.isArray(e.value)?jue(e.value):e.value};function Ti(t){var e=t.valueAccessor,r=e===void 0?Mue:e,n=bT(t,Nue),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=bT(n,_ue);return!i||!i.length?null:L.createElement($e,{className:"recharts-label-list"},i.map(function(d,h){var f=_e(a)?r(d,h):Ft(d&&d.payload,a),p=_e(l)?{}:{id:"".concat(l,"-").concat(h)};return L.createElement(Yt,vp({},de(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Yt.parseViewBox(_e(o)?d:yT(yT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ti.displayName="LabelList";function Due(t,e){return t?t===!0?L.createElement(Ti,{key:"labelList-implicit",data:e}):L.isValidElement(t)||ye(t)?L.createElement(Ti,{key:"labelList-implicit",data:e,content:t}):uc(t)?L.createElement(Ti,vp({data:e},t,{key:"labelList-implicit"})):null:null}function Rue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Gr(n,Ti).map(function(o,l){return P.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Due(t.label,e);return[a].concat(Sue(i))}Ti.renderCallByParent=Rue;function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function wT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(r),!0).forEach(function(n){Lue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lue(t,e,r){return e=$ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Vue(t,"string");return Vd(e)=="symbol"?e:e+""}function Vue(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fue=function(e,r){var n=jr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},jf=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/xp,f=u?a:a+o*h,p=tt(r,n,d,f),v=tt(r,n,i,f),b=u?a-o*h:a,x=tt(r,n,d*Math.cos(h*xp),b);return{center:p,circleTangency:v,lineTangency:x,theta:h}},OR=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Fue(o,l),u=o+c,d=tt(r,n,a,o),h=tt(r,n,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=tt(r,n,i,o),v=tt(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Bue=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=jr(d-u),f=jf({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,v=f.lineTangency,b=f.theta,x=jf({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,w=x.theta,k=c?Math.abs(u-d):Math.abs(u-d)-b-w;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OR({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var A=jf({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=A.circleTangency,N=A.lineTangency,T=A.theta,O=jf({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,C=O.lineTangency,M=O.theta,B=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(B<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Uue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MR=function(e){var r=jT(jT({},Uue),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<a||d===h)return null;var p=Ae("recharts-sector",f),v=o-a,b=Nr(l,v,0,!0),x;return b>0&&Math.abs(d-h)<360?x=Bue({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=OR({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),L.createElement("path",y0({},de(r,!0),{className:p,d:x,role:"img"}))};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(this,arguments)}function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _T(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zue(t,e,r){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wue(t){var e=Hue(t,"string");return Fd(e)=="symbol"?e:e+""}function Hue(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ST={curveBasisClosed:zY,curveBasisOpen:WY,curveBasis:UY,curveBumpX:TY,curveBumpY:EY,curveLinearClosed:HY,curveLinear:Hg,curveMonotoneX:qY,curveMonotoneY:GY,curveNatural:KY,curveStep:YY,curveStepAfter:QY,curveStepBefore:XY},Nf=function(e){return e.x===+e.x&&e.y===+e.y},Zc=function(e){return e.x},eu=function(e){return e.y},que=function(e,r){if(ye(e))return e;var n="curve".concat(zg(e));return(n==="curveMonotone"||n==="curveBump")&&r?ST["".concat(n).concat(r==="vertical"?"Y":"X")]:ST[n]||Hg},Gue=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=que(n,l),h=u?a.filter(function(b){return Nf(b)}):a,f;if(Array.isArray(o)){var p=u?o.filter(function(b){return Nf(b)}):o,v=h.map(function(b,x){return _T(_T({},b),{},{base:p[x]})});return l==="vertical"?f=ff().y(eu).x1(Zc).x0(function(b){return b.base.x}):f=ff().x(Zc).y1(eu).y0(function(b){return b.base.y}),f.defined(Nf).curve(d),f(v)}return l==="vertical"&&te(o)?f=ff().y(eu).x1(Zc).x0(o):te(o)?f=ff().x(Zc).y1(eu).y0(o):f=TM().x(Zc).y(eu),f.defined(Nf).curve(d),f(h)},yp=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Gue(e):i;return P.createElement("path",b0({},de(e,!1),zm(e),{className:Ae("recharts-curve",r),d:o,ref:a}))},DR={exports:{}},Kue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yue=Kue,Xue=Yue;function RR(){}function LR(){}LR.resetWarningCache=RR;var Que=function(){function t(n,i,a,o,l,c){if(c!==Xue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:LR,resetWarningCache:RR};return r.PropTypes=r,r};DR.exports=Que();var Jue=DR.exports;const Be=qe(Jue),{getOwnPropertyNames:Zue,getOwnPropertySymbols:ede}=Object,{hasOwnProperty:tde}=Object.prototype;function Gv(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function _f(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function rde(t){return t!=null?t[Symbol.toStringTag]:void 0}function kT(t){return Zue(t).concat(ede(t))}const nde=Object.hasOwn||((t,e)=>tde.call(t,e));function lo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ide="__v",sde="__o",ade="_owner",{getOwnPropertyDescriptor:AT,keys:TT}=Object;function ode(t,e){return t.byteLength===e.byteLength&&bp(new Uint8Array(t),new Uint8Array(e))}function lde(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function cde(t,e){return t.byteLength===e.byteLength&&bp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function ude(t,e){return lo(t.getTime(),e.getTime())}function dde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function hde(t,e){return t===e}function ET(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(i[h]){h++;continue}const f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}const fde=lo;function mde(t,e,r){const n=TT(t);let i=n.length;if(TT(e).length!==i)return!1;for(;i-- >0;)if(!$R(t,e,r,n[i]))return!1;return!0}function tu(t,e,r){const n=kT(t);let i=n.length;if(kT(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!$R(t,e,r,a)||(o=AT(t,a),l=AT(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function pde(t,e){return lo(t.valueOf(),e.valueOf())}function gde(t,e){return t.source===e.source&&t.flags===e.flags}function PT(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function bp(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function xde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $R(t,e,r,n){return(n===ade||n===sde||n===ide)&&(t.$$typeof||e.$$typeof)?!0:nde(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const vde="[object ArrayBuffer]",yde="[object Arguments]",bde="[object Boolean]",wde="[object DataView]",jde="[object Date]",Nde="[object Error]",_de="[object Map]",Sde="[object Number]",kde="[object Object]",Ade="[object RegExp]",Tde="[object Set]",Ede="[object String]",Pde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ide="[object URL]",Cde=Object.prototype.toString;function Ode({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:v}){return function(x,g,y){if(x===g)return!0;if(x==null||g==null)return!1;const w=typeof x;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?l(x,g,y):w==="function"?a(x,g,y):!1;const k=x.constructor;if(k!==g.constructor)return!1;if(k===Object)return c(x,g,y);if(Array.isArray(x))return e(x,g,y);if(k===Date)return n(x,g,y);if(k===RegExp)return d(x,g,y);if(k===Map)return o(x,g,y);if(k===Set)return h(x,g,y);const j=Cde.call(x);if(j===jde)return n(x,g,y);if(j===Ade)return d(x,g,y);if(j===_de)return o(x,g,y);if(j===Tde)return h(x,g,y);if(j===kde)return typeof x.then!="function"&&typeof g.then!="function"&&c(x,g,y);if(j===Ide)return p(x,g,y);if(j===Nde)return i(x,g,y);if(j===yde)return c(x,g,y);if(Pde[j])return f(x,g,y);if(j===vde)return t(x,g,y);if(j===wde)return r(x,g,y);if(j===bde||j===Sde||j===Ede)return u(x,g,y);if(v){let A=v[j];if(!A){const S=rde(x);S&&(A=v[S])}if(A)return A(x,g,y)}return!1}}function Mde({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:ode,areArraysEqual:r?tu:lde,areDataViewsEqual:cde,areDatesEqual:ude,areErrorsEqual:dde,areFunctionsEqual:hde,areMapsEqual:r?Gv(ET,tu):ET,areNumbersEqual:fde,areObjectsEqual:r?tu:mde,arePrimitiveWrappersEqual:pde,areRegExpsEqual:gde,areSetsEqual:r?Gv(PT,tu):PT,areTypedArraysEqual:r?Gv(bp,tu):bp,areUrlsEqual:xde,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=_f(n.areArraysEqual),a=_f(n.areMapsEqual),o=_f(n.areObjectsEqual),l=_f(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function Dde(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function Rde({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Lde=ea();ea({strict:!0});ea({circular:!0});ea({circular:!0,strict:!0});ea({createInternalComparator:()=>lo});ea({strict:!0,createInternalComparator:()=>lo});ea({circular:!0,createInternalComparator:()=>lo});ea({circular:!0,createInternalComparator:()=>lo,strict:!0});function ea(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Mde(t),o=Ode(a),l=r?r(o):Dde(o);return Rde({circular:e,comparator:o,createState:n,equals:l,strict:i})}function $de(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):$de(i)};requestAnimationFrame(n)}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function Vde(t){return zde(t)||Ude(t)||Bde(t)||Fde()}function Fde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bde(t,e){if(t){if(typeof t=="string")return CT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CT(t,e)}}function CT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ude(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zde(t){if(Array.isArray(t))return t}function Wde(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Vde(o),c=l[0],u=l.slice(1);if(typeof c=="number"){IT(i.bind(null,u),c);return}i(c),IT(i.bind(null,u));return}w0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function OT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(r),!0).forEach(function(n){VR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VR(t,e,r){return e=Hde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hde(t){var e=qde(t,"string");return Bd(e)==="symbol"?e:String(e)}function qde(t,e){if(Bd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gde=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Kde=function(e){return e},Yde=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ru=function(e,r){return Object.keys(r).reduce(function(n,i){return MT(MT({},n),{},VR({},i,e(i,r[i])))},{})},DT=function(e,r,n){return e.map(function(i){return"".concat(Yde(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Xde(t,e){return Zde(t)||Jde(t,e)||FR(t,e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Zde(t){if(Array.isArray(t))return t}function ehe(t){return nhe(t)||rhe(t)||FR(t)||the()}function the(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FR(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function rhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nhe(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wp=1e-4,BR=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},UR=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},RT=function(e,r){return function(n){var i=BR(e,r);return UR(i,n)}},ihe=function(e,r){return function(n){var i=BR(e,r),a=[].concat(ehe(i.map(function(o,l){return o*l}).slice(1)),[0]);return UR(a,n)}},LT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Xde(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var h=RT(i,o),f=RT(a,l),p=ihe(i,o),v=function(g){return g>1?1:g<0?0:g},b=function(g){for(var y=g>1?1:g,w=y,k=0;k<8;++k){var j=h(w)-y,A=p(w);if(Math.abs(j-y)<wp||A<wp)return f(w);w=v(w-j/A)}return f(w)};return b.isStepper=!1,b},she=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*n,v=f*a,b=f+(p-v)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<wp&&Math.abs(b)<wp?[h,0]:[x,b]};return c.isStepper=!0,c.dt=l,c},ahe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LT(i);case"spring":return she();default:if(i.split("(")[0]==="cubic-bezier")return LT(i)}return typeof i=="function"?i:null};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function $T(t){return che(t)||lhe(t)||zR(t)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function che(t){if(Array.isArray(t))return _0(t)}function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){N0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N0(t,e,r){return e=uhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uhe(t){var e=dhe(t,"string");return Ud(e)==="symbol"?e:String(e)}function dhe(t,e){if(Ud(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hhe(t,e){return phe(t)||mhe(t,e)||zR(t,e)||fhe()}function fhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zR(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function phe(t){if(Array.isArray(t))return t}var jp=function(e,r,n){return e+(r-e)*n},S0=function(e){var r=e.from,n=e.to;return r!==n},ghe=function t(e,r,n){var i=Ru(function(a,o){if(S0(o)){var l=e(o.from,o.to,o.velocity),c=hhe(l,2),u=c[0],d=c[1];return tr(tr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ru(function(a,o){return S0(o)?tr(tr({},o),{},{velocity:jp(o.velocity,i[a].velocity,n),from:jp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const xhe=function(t,e,r,n,i){var a=Gde(t,e),o=a.reduce(function(x,g){return tr(tr({},x),{},N0({},g,[t[g],e[g]]))},{}),l=a.reduce(function(x,g){return tr(tr({},x),{},N0({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Ru(function(g,y){return y.from},l)},p=function(){return!Object.values(l).filter(S0).length},v=function(g){u||(u=g);var y=g-u,w=y/r.dt;l=ghe(r,l,w),i(tr(tr(tr({},t),e),f())),u=g,p()||(c=requestAnimationFrame(h))},b=function(g){d||(d=g);var y=(g-d)/n,w=Ru(function(j,A){return jp.apply(void 0,$T(A).concat([r(y)]))},o);if(i(tr(tr(tr({},t),e),w)),y<1)c=requestAnimationFrame(h);else{var k=Ru(function(j,A){return jp.apply(void 0,$T(A).concat([r(1)]))},o);i(tr(tr(tr({},t),e),k))}};return h=r.isStepper?v:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var vhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yhe(t,e){if(t==null)return{};var r=bhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bhe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Kv(t){return _he(t)||Nhe(t)||jhe(t)||whe()}function whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jhe(t,e){if(t){if(typeof t=="string")return k0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(t,e)}}function Nhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _he(t){if(Array.isArray(t))return k0(t)}function k0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(r),!0).forEach(function(n){gu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gu(t,e,r){return e=WR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function She(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function khe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WR(n.key),n)}}function Ahe(t,e,r){return e&&khe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WR(t){var e=The(t,"string");return Tl(e)==="symbol"?e:String(e)}function The(t,e){if(Tl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A0(t,e)}function A0(t,e){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A0(t,e)}function Phe(t){var e=Ihe();return function(){var n=Np(t),i;if(e){var a=Np(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return T0(this,i)}}function T0(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E0(t)}function E0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ihe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(t)}var si=function(t){Ehe(r,t);var e=Phe(r);function r(n,i){var a;She(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(E0(a)),a.changeStyle=a.changeStyle.bind(E0(a)),!l||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),T0(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},T0(a);a.state={style:c?gu({},c,u):u}}else a.state={style:{}};return a}return Ahe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var p={style:c?gu({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Lde(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?h:i.to;if(this.state&&f){var x={style:c?gu({},c,b):b};(c&&f[c]!==b||!c&&f!==b)&&this.setState(x)}this.runAnimation(jn(jn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=xhe(o,l,ahe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(b,x,g){if(g===0)return b;var y=x.duration,w=x.easing,k=w===void 0?"ease":w,j=x.style,A=x.properties,S=x.onAnimationEnd,N=g>0?o[g-1]:x,T=A||Object.keys(j);if(typeof k=="function"||k==="spring")return[].concat(Kv(b),[a.runJSAnimation.bind(a,{from:N.style,to:j,duration:y,easing:k}),y]);var O=DT(T,y,k),I=jn(jn(jn({},N.style),j),{},{transition:O});return[].concat(Kv(b),[I,y,S]).filter(Kde)};return this.manager.start([c].concat(Kv(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wde());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var b=l?gu({},l,c):c,x=DT(Object.keys(b),o,u);v.start([d,a,jn(jn({},b),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=yhe(i,vhe),u=P.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(p){var v=p.props,b=v.style,x=b===void 0?{}:b,g=v.className,y=P.cloneElement(p,jn(jn({},c),{},{style:jn(jn({},x),d),className:g}));return y};return u===1?h(P.Children.only(a)):L.createElement("div",null,P.Children.map(a,function(f){return h(f)}))}}]),r}(P.PureComponent);si.displayName="Animate";si.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};si.propTypes={from:Be.oneOfType([Be.object,Be.string]),to:Be.oneOfType([Be.object,Be.string]),attributeName:Be.string,duration:Be.number,begin:Be.number,easing:Be.oneOfType([Be.string,Be.func]),steps:Be.arrayOf(Be.shape({duration:Be.number.isRequired,style:Be.object.isRequired,easing:Be.oneOfType([Be.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Be.func]),properties:Be.arrayOf("string"),onAnimationEnd:Be.func})),children:Be.oneOfType([Be.node,Be.func]),isActive:Be.bool,canBegin:Be.bool,onAnimationEnd:Be.func,shouldReAnimate:Be.bool,onAnimationStart:Be.func,onAnimationReStart:Be.func};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}function Che(t,e){return Rhe(t)||Dhe(t,e)||Mhe(t,e)||Ohe()}function Ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mhe(t,e){if(t){if(typeof t=="string")return BT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(t,e)}}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Rhe(t){if(Array.isArray(t))return t}function UT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(r),!0).forEach(function(n){Lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lhe(t,e,r){return e=$he(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $he(t){var e=Vhe(t,"string");return zd(e)=="symbol"?e:e+""}function Vhe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WT=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Fhe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},Bhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H1=function(e){var r=zT(zT({},Bhe),e),n=P.useRef(),i=P.useState(-1),a=Che(i,2),o=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Ae("recharts-rectangle",p);return y?L.createElement(si,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:b,animationEasing:v,isActive:y},function(k){var j=k.width,A=k.height,S=k.x,N=k.y;return L.createElement(si,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:g,easing:v},L.createElement("path",_p({},de(r,!0),{className:w,d:WT(S,N,j,A,f),ref:n})))}):L.createElement("path",_p({},de(r,!0),{className:w,d:WT(c,u,d,h,f)}))},Uhe=["points","className","baseLinePoints","connectNulls"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(this,arguments)}function zhe(t,e){if(t==null)return{};var r=Whe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Whe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HT(t){return Khe(t)||Ghe(t)||qhe(t)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qhe(t,e){if(t){if(typeof t=="string")return P0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P0(t,e)}}function Ghe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Khe(t){if(Array.isArray(t))return P0(t)}function P0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qT=function(e){return e&&e.x===+e.x&&e.y===+e.y},Yhe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){qT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qT(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Lu=function(e,r){var n=Yhe(e);r&&(n=[n.reduce(function(a,o){return[].concat(HT(a),HT(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Xhe=function(e,r,n){var i=Lu(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Lu(r.reverse(),n).slice(1))},Qhe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=zhe(e,Uhe);if(!r||!r.length)return null;var l=Ae("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Xhe(r,i,a);return L.createElement("g",{className:l},L.createElement("path",Bo({},de(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Bo({},de(o,!0),{fill:"none",d:Lu(r,a)})):null,c?L.createElement("path",Bo({},de(o,!0),{fill:"none",d:Lu(i,a)})):null)}var d=Lu(r,a);return L.createElement("path",Bo({},de(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}var ox=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ae("recharts-dot",a);return r===+r&&n===+n&&i===+i?P.createElement("circle",I0({},de(e,!1),zm(e),{className:o,cx:r,cy:n,r:i})):null};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}var Jhe=["x","y","top","left","width","height","className"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function GT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zhe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(r),!0).forEach(function(n){efe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function efe(t,e,r){return e=tfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tfe(t){var e=rfe(t,"string");return Wd(e)=="symbol"?e:e+""}function rfe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nfe(t,e){if(t==null)return{};var r=ife(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ife(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sfe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},afe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,v=e.className,b=nfe(e,Jhe),x=Zhe({x:n,y:a,top:l,left:u,width:h,height:p},b);return!te(n)||!te(a)||!te(h)||!te(p)||!te(l)||!te(u)?null:L.createElement("path",C0({},de(x,!0),{className:Ae("recharts-cross",v),d:sfe(n,a,h,p,l,u)}))},ofe=rx,lfe=rR,cfe=li;function ufe(t,e){return t&&t.length?ofe(t,cfe(e),lfe):void 0}var dfe=ufe;const hfe=qe(dfe);var ffe=rx,mfe=li,pfe=nR;function gfe(t,e){return t&&t.length?ffe(t,mfe(e),pfe):void 0}var xfe=gfe;const vfe=qe(xfe);var yfe=["cx","cy","angle","ticks","axisLine"],bfe=["ticks","tick","angle","tickFormatter","stroke"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}function KT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(r),!0).forEach(function(n){lx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YT(t,e){if(t==null)return{};var r=wfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qR(n.key),n)}}function Nfe(t,e,r){return e&&XT(t.prototype,e),r&&XT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _fe(t,e,r){return e=Sp(e),Sfe(t,HR()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function Sfe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kfe(t)}function kfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HR=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(t)}function Afe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(t,e)}function lx(t,e,r){return e=qR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qR(t){var e=Tfe(t,"string");return El(e)=="symbol"?e:e+""}function Tfe(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cx=function(t){function e(){return jfe(this,e),_fe(this,e,arguments)}return Afe(e,t),Nfe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return tt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=hfe(l,function(d){return d.coordinate||0}),u=vfe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=YT(n,yfe),d=l.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),h=tt(i,a,d[0],o),f=tt(i,a,d[1],o),p=oa(oa(oa({},de(u,!1)),{},{fill:"none"},de(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return L.createElement("line",$u({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=YT(i,bfe),h=this.getTickTextAnchor(),f=de(d,!1),p=de(o,!1),v=a.map(function(b,x){var g=n.getTickValueCoord(b),y=oa(oa(oa(oa({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:x},g),{},{payload:b});return L.createElement($e,$u({className:Ae("recharts-polar-radius-axis-tick",IR(o)),key:"tick-".concat(b.coordinate)},Wa(n.props,b,x)),e.renderTickItem(o,y,c?c(b.value,x):b.value))});return L.createElement($e,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement($e,{className:Ae("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Yt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):ye(n)?o=n(i):o=L.createElement(Ha,$u({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(P.PureComponent);lx(cx,"displayName","PolarRadiusAxis");lx(cx,"axisType","radiusAxis");lx(cx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ga.apply(this,arguments)}function QT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(r),!0).forEach(function(n){ux(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Efe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KR(n.key),n)}}function Pfe(t,e,r){return e&&JT(t.prototype,e),r&&JT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ife(t,e,r){return e=kp(e),Cfe(t,GR()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function Cfe(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(t)}function Ofe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(t)}function Mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function ux(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=Dfe(t,"string");return Pl(e)=="symbol"?e:e+""}function Dfe(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rfe=Math.PI/180,ZT=1e-5,dx=function(t){function e(){return Efe(this,e),Ife(this,e,arguments)}return Mfe(e,t),Pfe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=tt(a,o,l,n.coordinate),f=tt(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Rfe),o;return a>ZT?o=i==="outer"?"start":"end":a<-ZT?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=la(la({},de(this.props,!1)),{},{fill:"none"},de(l,!1));if(c==="circle")return L.createElement(ox,ga({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return tt(i,a,o,f.coordinate)});return L.createElement(Qhe,ga({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=de(this.props,!1),h=de(o,!1),f=la(la({},d),{},{fill:"none"},de(l,!1)),p=a.map(function(v,b){var x=n.getTickLineCoord(v),g=n.getTickTextAnchor(v),y=la(la(la({textAnchor:g},d),{},{stroke:"none",fill:u},h),{},{index:b,payload:v,x:x.x2,y:x.y2});return L.createElement($e,ga({className:Ae("recharts-polar-angle-axis-tick",IR(o)),key:"tick-".concat(v.coordinate)},Wa(n.props,v,b)),l&&L.createElement("line",ga({className:"recharts-polar-angle-axis-tick-line"},f,x)),o&&e.renderTickItem(o,y,c?c(v.value,b):v.value))});return L.createElement($e,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement($e,{className:Ae("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):ye(n)?o=n(i):o=L.createElement(Ha,ga({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(P.PureComponent);ux(dx,"displayName","PolarAngleAxis");ux(dx,"axisType","angleAxis");ux(dx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lfe=JM,$fe=Lfe(Object.getPrototypeOf,Object),Vfe=$fe,Ffe=zi,Bfe=Vfe,Ufe=Wi,zfe="[object Object]",Wfe=Function.prototype,Hfe=Object.prototype,YR=Wfe.toString,qfe=Hfe.hasOwnProperty,Gfe=YR.call(Object);function Kfe(t){if(!Ufe(t)||Ffe(t)!=zfe)return!1;var e=Bfe(t);if(e===null)return!0;var r=qfe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&YR.call(r)==Gfe}var Yfe=Kfe;const Xfe=qe(Yfe);var Qfe=zi,Jfe=Wi,Zfe="[object Boolean]";function eme(t){return t===!0||t===!1||Jfe(t)&&Qfe(t)==Zfe}var tme=eme;const rme=qe(tme);function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ap.apply(this,arguments)}function nme(t,e){return ome(t)||ame(t,e)||sme(t,e)||ime()}function ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return eE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(t,e)}}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ame(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ome(t){if(Array.isArray(t))return t}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){lme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lme(t,e,r){return e=cme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cme(t){var e=ume(t,"string");return Hd(e)=="symbol"?e:e+""}function ume(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nE=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},dme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hme=function(e){var r=rE(rE({},dme),e),n=P.useRef(),i=P.useState(-1),a=nme(i,2),o=a[0],l=a[1];P.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Ae("recharts-trapezoid",p);return g?L.createElement(si,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:b,animationEasing:v,isActive:g},function(w){var k=w.upperWidth,j=w.lowerWidth,A=w.height,S=w.x,N=w.y;return L.createElement(si,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},L.createElement("path",Ap({},de(r,!0),{className:y,d:nE(S,N,k,j,A),ref:n})))}):L.createElement("g",null,L.createElement("path",Ap({},de(r,!0),{className:y,d:nE(c,u,d,h,f)})))},fme=["option","shapeType","propTransformer","activeClassName","isActive"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function mme(t,e){if(t==null)return{};var r=pme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(r),!0).forEach(function(n){gme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gme(t,e,r){return e=xme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xme(t){var e=vme(t,"string");return qd(e)=="symbol"?e:e+""}function vme(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yme(t,e){return Tp(Tp({},e),t)}function bme(t,e){return t==="symbols"}function sE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(H1,r);case"trapezoid":return L.createElement(hme,r);case"sector":return L.createElement(MR,r);case"symbols":if(bme(e))return L.createElement(u1,r);break;default:return null}}function wme(t){return P.isValidElement(t)?t.props:t}function XR(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?yme:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=mme(t,fme),u;if(P.isValidElement(e))u=P.cloneElement(e,Tp(Tp({},c),wme(e)));else if(ye(e))u=e(c);else if(Xfe(e)&&!rme(e)){var d=i(e,c);u=L.createElement(sE,{shapeType:r,elementProps:d})}else{var h=c;u=L.createElement(sE,{shapeType:r,elementProps:h})}return l?L.createElement($e,{className:o},u):u}function hx(t,e){return e!=null&&"trapezoids"in t.props}function fx(t,e){return e!=null&&"sectors"in t.props}function Gd(t,e){return e!=null&&"points"in t.props}function jme(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Nme(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function _me(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Sme(t,e){var r;return hx(t,e)?r=jme:fx(t,e)?r=Nme:Gd(t,e)&&(r=_me),r}function kme(t,e){var r;return hx(t,e)?r="trapezoids":fx(t,e)?r="sectors":Gd(t,e)&&(r="points"),r}function Ame(t,e){if(hx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(fx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Gd(t,e)?e.payload:{}}function Tme(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=kme(r,e),a=Ame(r,e),o=n.filter(function(c,u){var d=_h(a,c),h=r.props[i].filter(function(v){var b=Sme(r,e);return b(v,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Xf;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uo.apply(this,arguments)}function aE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aE(Object(r),!0).forEach(function(n){cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JR(n.key),n)}}function Pme(t,e,r){return e&&oE(t.prototype,e),r&&oE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,r){return e=Ep(e),Cme(t,QR()?Reflect.construct(e,r||[],Ep(t).constructor):e.apply(t,r))}function Cme(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(t)}function Ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(t)}function Mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D0(t,e)}function cn(t,e,r){return e=JR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JR(t){var e=Dme(t,"string");return Il(e)=="symbol"?e:e+""}function Dme(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qi=function(t){function e(r){var n;return Eme(this,e),n=Ime(this,e,[r]),cn(n,"pieRef",null),cn(n,"sectorRefs",[]),cn(n,"id",mc("recharts-pie-")),cn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ye(i)&&i()}),cn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Mme(e,t),Pme(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=de(this.props,!1),h=de(o,!1),f=de(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(b,x){var g=(b.startAngle+b.endAngle)/2,y=tt(b.cx,b.cy,b.outerRadius+p,g),w=Je(Je(Je(Je({},d),b),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(y.x,b.cx)},y),k=Je(Je(Je(Je({},d),b),{},{fill:"none",stroke:b.fill},f),{},{index:x,points:[tt(b.cx,b.cy,b.outerRadius,g),y]}),j=c;return _e(c)&&_e(u)?j="value":_e(c)&&(j=u),L.createElement($e,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(o,w,Ft(b,j)))});return L.createElement($e,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,p=h?o:f,v=Je(Je({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement($e,Uo({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Wa(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(XR,Uo({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return L.createElement(si,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],g=a&&a[0],y=g.startAngle;return a.forEach(function(w,k){var j=f&&f[k],A=k>0?qr(w,"paddingAngle",0):0;if(j){var S=Ur(j.endAngle-j.startAngle,w.endAngle-w.startAngle),N=Je(Je({},w),{},{startAngle:y+A,endAngle:y+S(b)+A});x.push(N),y=N.endAngle}else{var T=w.endAngle,O=w.startAngle,I=Ur(0,T-O),C=I(b),M=Je(Je({},w),{},{startAngle:y+A,endAngle:y+C+A});x.push(M),y=M.endAngle}}),L.createElement($e,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!_h(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!te(u)||!te(d)||!te(h)||!te(f))return null;var b=Ae("recharts-pie",l);return L.createElement($e,{tabIndex:this.props.rootTabIndex,className:b,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Yt.renderCallByParent(this.props,null,!1),(!p||v)&&Ti.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(ye(n))return n(i);var o=Ae("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(yp,Uo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(ye(n)&&(o=n(i),L.isValidElement(o)))return o;var l=Ae("recharts-pie-label-text",typeof n!="boolean"&&!ye(n)?n.className:"");return L.createElement(Ha,Uo({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(P.PureComponent);Xf=qi;cn(qi,"displayName","Pie");cn(qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!so.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cn(qi,"parseDeltaAngle",function(t,e){var r=jr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});cn(qi,"getRealPieData",function(t){var e=t.data,r=t.children,n=de(t,!1),i=Gr(r,Nd);return e&&e.length?e.map(function(a,o){return Je(Je(Je({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Je(Je({},n),a.props)}):[]});cn(qi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=PR(i,a),l=n+Nr(t.cx,i,i/2),c=r+Nr(t.cy,a,a/2),u=Nr(t.innerRadius,o,0),d=Nr(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});cn(qi,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Je(Je({},e.type.defaultProps),e.props):e.props,i=Xf.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),v=Xf.parseCoordinateOfPie(n,r),b=Xf.parseDeltaAngle(o,l),x=Math.abs(b),g=u;_e(u)&&_e(h)?(On(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):_e(u)&&(On(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=h);var y=i.filter(function(N){return Ft(N,g,0)!==0}).length,w=(x>=360?y:y-1)*c,k=x-y*p-w,j=i.reduce(function(N,T){var O=Ft(T,g,0);return N+(te(O)?O:0)},0),A;if(j>0){var S;A=i.map(function(N,T){var O=Ft(N,g,0),I=Ft(N,d,T),C=(te(O)?O:0)/j,M;T?M=S.endAngle+jr(b)*c*(O!==0?1:0):M=o;var B=M+jr(b)*((O!==0?p:0)+C*k),F=(M+B)/2,R=(v.innerRadius+v.outerRadius)/2,V=[{name:I,value:O,payload:N,dataKey:g,type:f}],$=tt(v.cx,v.cy,R,F);return S=Je(Je(Je({percent:C,cornerRadius:a,name:I,tooltipPayload:V,midAngle:F,middleRadius:R,tooltipPosition:$},N),v),{},{value:Ft(N,g),startAngle:M,endAngle:B,payload:N,paddingAngle:jr(b)*c}),S})}return Je(Je({},v),{},{sectors:A,data:i})});var Rme=Math.ceil,Lme=Math.max;function $me(t,e,r,n){for(var i=-1,a=Lme(Rme((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Vme=$me,Fme=xD,lE=1/0,Bme=17976931348623157e292;function Ume(t){if(!t)return t===0?t:0;if(t=Fme(t),t===lE||t===-lE){var e=t<0?-1:1;return e*Bme}return t===t?t:0}var ZR=Ume,zme=Vme,Wme=Yg,Yv=ZR;function Hme(t){return function(e,r,n){return n&&typeof n!="number"&&Wme(e,r,n)&&(r=n=void 0),e=Yv(e),r===void 0?(r=e,e=0):r=Yv(r),n=n===void 0?e<r?1:-1:Yv(n),zme(e,r,n,t)}}var qme=Hme,Gme=qme,Kme=Gme(),Yme=Kme;const Pp=qe(Yme);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function cE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cE(Object(r),!0).forEach(function(n){e3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e3(t,e,r){return e=Xme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xme(t){var e=Qme(t,"string");return Kd(e)=="symbol"?e:e+""}function Qme(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jme=["Webkit","Moz","O","ms"],Zme=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Jme.reduce(function(a,o){return uE(uE({},a),{},e3({},o+n,r))},{});return i[e]=r,i};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){$r(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function epe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r3(n.key),n)}}function tpe(t,e,r){return e&&hE(t.prototype,e),r&&hE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rpe(t,e,r){return e=Cp(e),npe(t,t3()?Reflect.construct(e,r||[],Cp(t).constructor):e.apply(t,r))}function npe(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ipe(t)}function ipe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(t)}function spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(t,e)}function $r(t,e,r){return e=r3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r3(t){var e=ape(t,"string");return Cl(e)=="symbol"?e:e+""}function ape(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ope=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Mu().domain(Pp(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},fE=function(e){return e.changedTouches&&!!e.changedTouches.length},Ol=function(t){function e(r){var n;return epe(this,e),n=rpe(this,e,[r]),$r(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$r(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$r(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),$r(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$r(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$r(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$r(n,"handleSlideDragStart",function(i){var a=fE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return spe(e,t),tpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,a),f=Math.max(i,a),p=e.getIndexInRange(o,h),v=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Ft(a[n],l,n);return ye(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,v=c.onChange,b=n.pageX-a;b>0?b=Math.min(b,u+d-h-l,u+d-h-o):b<0&&(b=Math.max(b,u-o,u-l));var x=this.getIndex({startX:o+b,endX:l+b});(x.startIndex!==f||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=fE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,v=d.onChange,b=d.gap,x=d.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),g[o]=u+y;var w=this.getIndex(g),k=w.startIndex,j=w.endIndex,A=function(){var N=x.length-1;return o==="startX"&&(l>c?k%b===0:j%b===0)||l<c&&j===N||o==="endX"&&(l>c?j%b===0:k%b===0)||l>c&&j===N};this.setState($r($r({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&A()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState($r({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=P.Children.only(u);return h?L.cloneElement(h,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,v=c.data,b=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=Xv(Xv({},de(this.props,!1)),{},{x:g,y:u,width:d,height:h}),w=p||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return L.createElement($e,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,v={pointerEvents:"none",fill:u};return L.createElement($e,{className:"recharts-brush-texts"},L.createElement(Ha,Ip({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},v),this.getTextOfTick(i)),L.createElement(Ha,Ip({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,v=f.endX,b=f.isTextActive,x=f.isSlideMoving,g=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!te(l)||!te(c)||!te(u)||!te(d)||u<=0||d<=0)return null;var w=Ae("recharts-brush",a),k=L.Children.count(o)===1,j=Zme("userSelect","none");return L.createElement($e,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||g||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Xv({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?ope({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(P.PureComponent);$r(Ol,"displayName","Brush");$r(Ol,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lpe=x1;function cpe(t,e){var r;return lpe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var upe=cpe,dpe=WM,hpe=li,fpe=upe,mpe=Dr,ppe=Yg;function gpe(t,e,r){var n=mpe(t)?dpe:fpe;return r&&ppe(t,e,r)&&(e=void 0),n(t,hpe(e))}var xpe=gpe;const vpe=qe(xpe);var ei=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},mE=hD;function ype(t,e,r){e=="__proto__"&&mE?mE(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var bpe=ype,wpe=bpe,jpe=uD,Npe=li;function _pe(t,e){var r={};return e=Npe(e),jpe(t,function(n,i,a){wpe(r,i,e(n,i,a))}),r}var Spe=_pe;const kpe=qe(Spe);function Ape(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Tpe=Ape,Epe=x1;function Ppe(t,e){var r=!0;return Epe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Ipe=Ppe,Cpe=Tpe,Ope=Ipe,Mpe=li,Dpe=Dr,Rpe=Yg;function Lpe(t,e,r){var n=Dpe(t)?Cpe:Ope;return r&&Rpe(t,e,r)&&(e=void 0),n(t,Mpe(e))}var $pe=Lpe;const n3=qe($pe);var Vpe=["x","y"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ru(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){Fpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fpe(t,e,r){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bpe(t){var e=Upe(t,"string");return Yd(e)=="symbol"?e:e+""}function Upe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){if(t==null)return{};var r=Wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hpe(t,e){var r=t.x,n=t.y,i=zpe(t,Vpe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return ru(ru(ru(ru(ru({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function gE(t){return L.createElement(XR,L0({shapeType:"rectangle",propTransformer:Hpe,activeClassName:"recharts-active-bar"},t))}var qpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=te(n)||fK(n);return a?e(n,i):(a||Ga(),r)}},Gpe=["value","background"],i3;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Kpe(t,e){if(t==null)return{};var r=Ype(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ype(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Op.apply(this,arguments)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a3(n.key),n)}}function Qpe(t,e,r){return e&&vE(t.prototype,e),r&&vE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jpe(t,e,r){return e=Mp(e),Zpe(t,s3()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function Zpe(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ege(t)}function ege(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s3=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function ys(t,e,r){return e=a3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a3(t){var e=rge(t,"string");return Ml(e)=="symbol"?e:e+""}function rge(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var co=function(t){function e(){var r;Xpe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jpe(this,e,[].concat(i)),ys(r,"state",{isAnimationFinished:!1}),ys(r,"id",mc("recharts-bar-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return tge(e,t),Qpe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=de(this.props,!1);return n&&n.map(function(h,f){var p=f===c,v=p?u:o,b=Pt(Pt(Pt({},d),h),{},{isActive:p,option:v,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement($e,Op({className:"recharts-bar-rectangle"},Wa(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),L.createElement(gE,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return L.createElement(si,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=a.map(function(x,g){var y=f&&f[g];if(y){var w=Ur(y.x,x.x),k=Ur(y.y,x.y),j=Ur(y.width,x.width),A=Ur(y.height,x.height);return Pt(Pt({},x),{},{x:w(v),y:k(v),width:j(v),height:A(v)})}if(o==="horizontal"){var S=Ur(0,x.height),N=S(v);return Pt(Pt({},x),{},{y:x.y+x.height-N,height:N})}var T=Ur(0,x.width),O=T(v);return Pt(Pt({},x),{},{width:O})});return L.createElement($e,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!_h(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=de(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=Kpe(u,Gpe);if(!h)return null;var p=Pt(Pt(Pt(Pt(Pt({},f),{},{fill:"#eee"},h),c),Wa(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(gE,Op({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Gr(d,Sh);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Ft(x,g)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement($e,v,h.map(function(b){return L.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,v=n.background,b=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,g=Ae("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,k=y||w,j=_e(b)?this.id:b;return L.createElement($e,{className:g},y||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(j)},L.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,L.createElement($e,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,j),(!p||x)&&Ti.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(P.PureComponent);i3=co;ys(co,"displayName","Bar");ys(co,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!so.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ys(co,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Cce(n,r);if(!p)return null;var v=e.layout,b=r.type.defaultProps,x=b!==void 0?Pt(Pt({},b),r.props):r.props,g=x.dataKey,y=x.children,w=x.minPointSize,k=v==="horizontal"?o:a,j=u?k.scale.domain():null,A=Vce({numericAxis:k}),S=Gr(y,Nd),N=h.map(function(T,O){var I,C,M,B,F,R;u?I=Oce(u[d+O],j):(I=Ft(T,g),Array.isArray(I)||(I=[A,I]));var V=qpe(w,i3.defaultProps.minPointSize)(I[1],O);if(v==="horizontal"){var $,z=[o.scale(I[0]),o.scale(I[1])],K=z[0],J=z[1];C=uT({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:O}),M=($=J??K)!==null&&$!==void 0?$:void 0,B=p.size;var ee=K-J;if(F=Number.isNaN(ee)?0:ee,R={x:C,y:o.y,width:B,height:o.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var le=jr(F||V)*(Math.abs(V)-Math.abs(F));M-=le,F+=le}}else{var Ee=[a.scale(I[0]),a.scale(I[1])],Fe=Ee[0],Ke=Ee[1];if(C=Fe,M=uT({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:T,index:O}),B=Ke-Fe,F=p.size,R={x:a.x,y:M,width:a.width,height:F},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var Mt=jr(B||V)*(Math.abs(V)-Math.abs(B));B+=Mt}}return Pt(Pt(Pt({},T),{},{x:C,y:M,width:B,height:F,value:u?I:I[1],payload:T,background:R},S&&S[O]&&S[O].props),{},{tooltipPayload:[TR(r,T)],tooltipPosition:{x:C+B/2,y:M+F/2}})});return Pt({data:N,layout:v},f)});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o3(n.key),n)}}function ige(t,e,r){return e&&yE(t.prototype,e),r&&yE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bE(Object(r),!0).forEach(function(n){mx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mx(t,e,r){return e=o3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3(t){var e=sge(t,"string");return Xd(e)=="symbol"?e:e+""}function sge(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l3=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Fr(u,co);return d.reduce(function(p,v){var b=r[v],x=b.orientation,g=b.domain,y=b.padding,w=y===void 0?{}:y,k=b.mirror,j=b.reversed,A="".concat(x).concat(k?"Mirror":""),S,N,T,O,I;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var C=g[1]-g[0],M=1/0,B=b.categoricalDomain.sort(gK);if(B.forEach(function(Ee,Fe){Fe>0&&(M=Math.min((Ee||0)-(B[Fe-1]||0),M))}),Number.isFinite(M)){var F=M/C,R=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(S=F*R/2),b.padding==="no-gap"){var V=Nr(e.barCategoryGap,F*R),$=F*R/2;S=$-V-($-V)/R*V}}}i==="xAxis"?N=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:N=b.range,j&&(N=[N[1],N[0]]);var z=_R(b,a,f),K=z.scale,J=z.realScaleType;K.domain(g).range(N),SR(K);var ee=kR(K,Sn(Sn({},b),{},{realScaleType:J}));i==="xAxis"?(I=x==="top"&&!k||x==="bottom"&&k,T=n.left,O=h[A]-I*b.height):i==="yAxis"&&(I=x==="left"&&!k||x==="right"&&k,T=h[A]-I*b.width,O=n.top);var le=Sn(Sn(Sn({},b),ee),{},{realScaleType:J,x:T,y:O,scale:K,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return le.bandSize=gp(le,ee),!b.hide&&i==="xAxis"?h[A]+=(I?-1:1)*le.height:b.hide||(h[A]+=(I?-1:1)*le.width),Sn(Sn({},p),{},mx({},v,le))},{})},c3=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},age=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return c3({x:r,y:n},{x:i,y:a})},u3=function(){function t(e){nge(this,t),this.scale=e}return ige(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();mx(u3,"EPS",1e-4);var q1=function(e){var r=Object.keys(e).reduce(function(n,i){return Sn(Sn({},n),{},mx({},i,u3.create(e[i])))},{});return Sn(Sn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return kpe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return n3(i,function(a,o){return r[o].isInRange(a)})}})};function oge(t){return(t%180+180)%180}var lge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=oge(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},cge=li,uge=yh,dge=Gg;function hge(t){return function(e,r,n){var i=Object(e);if(!uge(e)){var a=cge(r);e=dge(e),r=function(l){return a(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var fge=hge,mge=ZR;function pge(t){var e=mge(t),r=e%1;return e===e?r?e-r:e:0}var gge=pge,xge=iD,vge=li,yge=gge,bge=Math.max;function wge(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:yge(r);return i<0&&(i=bge(n+i,0)),xge(t,vge(e),i)}var jge=wge,Nge=fge,_ge=jge,Sge=Nge(_ge),kge=Sge;const Age=qe(kge);var Tge=yG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),G1=P.createContext(void 0),K1=P.createContext(void 0),d3=P.createContext(void 0),h3=P.createContext({}),f3=P.createContext(void 0),m3=P.createContext(0),p3=P.createContext(0),wE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Tge(a);return L.createElement(G1.Provider,{value:n},L.createElement(K1.Provider,{value:i},L.createElement(h3.Provider,{value:a},L.createElement(d3.Provider,{value:d},L.createElement(f3.Provider,{value:o},L.createElement(m3.Provider,{value:u},L.createElement(p3.Provider,{value:c},l)))))))},Ege=function(){return P.useContext(f3)},g3=function(e){var r=P.useContext(G1);r==null&&Ga();var n=r[e];return n==null&&Ga(),n},Pge=function(){var e=P.useContext(G1);return ms(e)},Ige=function(){var e=P.useContext(K1),r=Age(e,function(n){return n3(n.domain,Number.isFinite)});return r||ms(e)},x3=function(e){var r=P.useContext(K1);r==null&&Ga();var n=r[e];return n==null&&Ga(),n},Cge=function(){var e=P.useContext(d3);return e},Oge=function(){return P.useContext(h3)},Y1=function(){return P.useContext(p3)},X1=function(){return P.useContext(m3)};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Mge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y3(n.key),n)}}function Rge(t,e,r){return e&&Dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lge(t,e,r){return e=Dp(e),$ge(t,v3()?Reflect.construct(e,r||[],Dp(t).constructor):e.apply(t,r))}function $ge(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vge(t)}function Vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(t)}function Fge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){Q1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q1(t,e,r){return e=y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3(t){var e=Bge(t,"string");return Dl(e)=="symbol"?e:e+""}function Bge(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uge(t,e){return qge(t)||Hge(t,e)||Wge(t,e)||zge()}function zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return _E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(t,e)}}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qge(t){if(Array.isArray(t))return t}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(this,arguments)}var Gge=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):ye(e)?n=e(r):n=L.createElement("line",F0({},r,{className:"recharts-reference-line-line"})),n},Kge=function(e,r,n,i,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,p=a.height;if(n){var v=u.y,b=e.y.apply(v,{position:o});if(ei(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:d+f,y:b},{x:d,y:b}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=e.x.apply(g,{position:o});if(ei(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return l==="top"?w.reverse():w}if(i){var k=u.segment,j=k.map(function(A){return e.apply(A,{position:o})});return ei(u,"discard")&&vpe(j,function(A){return!e.isInRange(A)})?null:j}return null};function Yge(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Ege(),d=g3(i),h=x3(a),f=Cge();if(!u||!f)return null;On(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=q1({x:d.scale,y:h.scale}),v=Ut(e),b=Ut(r),x=n&&n.length===2,g=Kge(p,v,b,x,f,t.position,d.orientation,h.orientation,t);if(!g)return null;var y=Uge(g,2),w=y[0],k=w.x,j=w.y,A=y[1],S=A.x,N=A.y,T=ei(t,"hidden")?"url(#".concat(u,")"):void 0,O=NE(NE({clipPath:T},de(t,!0)),{},{x1:k,y1:j,x2:S,y2:N});return L.createElement($e,{className:Ae("recharts-reference-line",l)},Gge(o,O),Yt.renderCallByParent(t,age({x1:k,y1:j,x2:S,y2:N})))}var J1=function(t){function e(){return Mge(this,e),Lge(this,e,arguments)}return Fge(e,t),Rge(e,[{key:"render",value:function(){return L.createElement(Yge,this.props)}}])}(L.Component);Q1(J1,"displayName","ReferenceLine");Q1(J1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){px(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w3(n.key),n)}}function Jge(t,e,r){return e&&Qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zge(t,e,r){return e=Rp(e),exe(t,b3()?Reflect.construct(e,r||[],Rp(t).constructor):e.apply(t,r))}function exe(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return txe(t)}function txe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b3=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}function rxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function px(t,e,r){return e=w3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w3(t){var e=nxe(t,"string");return Rl(e)=="symbol"?e:e+""}function nxe(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ixe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=q1({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ei(e,"discard")&&!o.isInRange(l)?null:l},gx=function(t){function e(){return Xge(this,e),Zge(this,e,arguments)}return rxe(e,t),Jge(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Ut(i),d=Ut(a);if(On(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=ixe(this.props);if(!h)return null;var f=h.x,p=h.y,v=this.props,b=v.shape,x=v.className,g=ei(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=kE(kE({clipPath:g},de(this.props,!0)),{},{cx:f,cy:p});return L.createElement($e,{className:Ae("recharts-reference-dot",x)},e.renderDot(b,y),Yt.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);px(gx,"displayName","ReferenceDot");px(gx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});px(gx,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):ye(t)?r=t(e):r=L.createElement(ox,B0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){xx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function axe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N3(n.key),n)}}function oxe(t,e,r){return e&&axe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lxe(t,e,r){return e=Lp(e),cxe(t,j3()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function cxe(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uxe(t)}function uxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function dxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function xx(t,e,r){return e=N3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N3(t){var e=hxe(t,"string");return Ll(e)=="symbol"?e:e+""}function hxe(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fxe=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=q1({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ei(a,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:c3(p,v)},vx=function(t){function e(){return sxe(this,e),lxe(this,e,arguments)}return dxe(e,t),oxe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;On(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Ut(i),f=Ut(a),p=Ut(o),v=Ut(l),b=this.props.shape;if(!h&&!f&&!p&&!v&&!b)return null;var x=fxe(h,f,p,v,this.props);if(!x&&!b)return null;var g=ei(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement($e,{className:Ae("recharts-reference-area",c)},e.renderRect(b,TE(TE({clipPath:g},de(this.props,!0)),x)),Yt.renderCallByParent(this.props,x))}}])}(L.Component);xx(vx,"displayName","ReferenceArea");xx(vx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xx(vx,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):ye(t)?r=t(e):r=L.createElement(H1,z0({},e,{className:"recharts-reference-area-rect"})),r});function _3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function mxe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lge(n,r)}function pxe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function $p(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function gxe(t,e){return _3(t,e+1)}function xxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:_3(n,u)};var b=c,x,g=function(){return x===void 0&&(x=r(v,b)),x},y=v.coordinate,w=c===0||$p(t,y,g,d,l);w||(c=0,d=o,u+=1),w&&(d=y+t*(g()/2+i),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function EE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EE(Object(r),!0).forEach(function(n){vxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vxe(t,e,r){return e=yxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yxe(t){var e=bxe(t,"string");return Qd(e)=="symbol"?e:e+""}function bxe(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var p=a[f],v,b=function(){return v===void 0&&(v=r(p,f)),v};if(f===o-1){var x=t*(p.coordinate+t*b()/2-c);a[f]=p=hr(hr({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[f]=p=hr(hr({},p),{},{tickCoord:p.coordinate});var g=$p(t,p.tickCoord,b,l,c);g&&(c=p.tickCoord-t*(b()/2+i),a[f]=hr(hr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function jxe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=hr(hr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=$p(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=hr(hr({},d),{},{isShow:!0}))}for(var v=a?l-1:l,b=function(y){var w=o[y],k,j=function(){return k===void 0&&(k=r(w,y)),k};if(y===0){var A=t*(w.coordinate-t*j()/2-c);o[y]=w=hr(hr({},w),{},{tickCoord:A<0?w.coordinate-A*t:w.coordinate})}else o[y]=w=hr(hr({},w),{},{tickCoord:w.coordinate});var S=$p(t,w.tickCoord,j,c,u);S&&(c=w.tickCoord+t*(j()/2+i),o[y]=hr(hr({},w),{},{isShow:!0}))},x=0;x<v;x++)b(x);return o}function Z1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(te(c)||so.isSsr)return gxe(i,typeof c=="number"&&te(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Ou(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(w,k){var j=ye(u)?u(w.value,k):w.value;return p==="width"?mxe(Ou(j,{fontSize:e,letterSpacing:r}),v,h):Ou(j,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?jr(i[1].coordinate-i[0].coordinate):1,g=pxe(a,x,p);return c==="equidistantPreserveStart"?xxe(x,g,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=jxe(x,g,b,i,o,c==="preserveStartEnd"):f=wxe(x,g,b,i,o),f.filter(function(y){return y.isShow}))}var Nxe=["viewBox"],_xe=["viewBox"],Sxe=["ticks"];function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function zo(){return zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zo.apply(this,arguments)}function PE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(r),!0).forEach(function(n){e2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qv(t,e){if(t==null)return{};var r=kxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k3(n.key),n)}}function Txe(t,e,r){return e&&IE(t.prototype,e),r&&IE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Exe(t,e,r){return e=Vp(e),Pxe(t,S3()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function Pxe(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ixe(t)}function Ixe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function Cxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(t,e)}function e2(t,e,r){return e=k3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k3(t){var e=Oxe(t,"string");return $l(e)=="symbol"?e:e+""}function Oxe(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wc=function(t){function e(r){var n;return Axe(this,e),n=Exe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Cxe(e,t),Txe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Qv(n,Nxe),l=this.props,c=l.viewBox,u=Qv(l,_xe);return!rl(a,c)||!rl(o,u)||!rl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,v,b,x,g,y,w=h?-1:1,k=n.tickSize||d,j=te(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!h*c,b=x-w*k,y=b-w*f,g=j;break;case"left":b=x=n.coordinate,v=a+ +!h*l,p=v-w*k,g=p-w*f,y=j;break;case"right":b=x=n.coordinate,v=a+ +h*l,p=v+w*k,g=p+w*f,y=j;break;default:p=v=n.coordinate,x=o+ +h*c,b=x+w*k,y=b+w*f,g=j;break}return{line:{x1:p,y1:b,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Rt(Rt(Rt({},de(this.props,!1)),de(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Rt(Rt({},h),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Rt(Rt({},h),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return L.createElement("line",zo({},h,{className:Ae("recharts-cartesian-axis-line",qr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=Z1(Rt(Rt({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=de(this.props,!1),g=de(d,!1),y=Rt(Rt({},x),{},{fill:"none"},de(c,!1)),w=p.map(function(k,j){var A=o.getTickLineCoord(k),S=A.line,N=A.tick,T=Rt(Rt(Rt(Rt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},g),N),{},{index:j,payload:k,visibleTicksCount:p.length,tickFormatter:h});return L.createElement($e,zo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Wa(o.props,k,j)),c&&L.createElement("line",zo({},y,S,{className:Ae("recharts-cartesian-axis-tick-line",qr(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(ye(h)?h(k.value,j):k.value).concat(f||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=Qv(h,Sxe),v=f;return ye(c)&&(v=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:L.createElement($e,{className:Ae("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=Ae(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Rt(Rt({},i),{},{className:l})):ye(n)?o=n(Rt(Rt({},i),{},{className:l})):o=L.createElement(Ha,zo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(P.Component);e2(wc,"displayName","CartesianAxis");e2(wc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mxe=["x1","y1","x2","y2","key"],Dxe=["offset"];function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){Rxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rxe(t,e,r){return e=Lxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lxe(t){var e=$xe(t,"string");return Ka(e)=="symbol"?e:e+""}function $xe(t,e){if(Ka(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ka(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_a.apply(this,arguments)}function OE(t,e){if(t==null)return{};var r=Vxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Fxe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A3(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=OE(e,Mxe),u=de(c,!1);u.offset;var d=OE(u,Dxe);r=L.createElement("line",_a({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Bxe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gr(gr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return A3(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Uxe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=gr(gr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return A3(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function zxe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],b=v?i+o-f:d[p+1]-f;if(b<=0)return null;var x=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Wxe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],b=v?a+l-f:d[p+1]-f;if(b<=0)return null;var x=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:b,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Hxe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return NR(Z1(gr(gr(gr({},wc.defaultProps),n),{},{ticks:wi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},qxe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return NR(Z1(gr(gr(gr({},wc.defaultProps),n),{},{ticks:wi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},bo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function q0(t){var e,r,n,i,a,o,l=Y1(),c=X1(),u=Oge(),d=gr(gr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:bo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:bo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:bo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:bo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:bo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:bo.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,v=d.height,b=d.syncWithTicks,x=d.horizontalValues,g=d.verticalValues,y=Pge(),w=Ige();if(!te(p)||p<=0||!te(v)||v<=0||!te(h)||h!==+h||!te(f)||f!==+f)return null;var k=d.verticalCoordinatesGenerator||Hxe,j=d.horizontalCoordinatesGenerator||qxe,A=d.horizontalPoints,S=d.verticalPoints;if((!A||!A.length)&&ye(j)){var N=x&&x.length,T=j({yAxis:w?gr(gr({},w),{},{ticks:N?x:w.ticks}):void 0,width:l,height:c,offset:u},N?!0:b);On(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ka(T),"]")),Array.isArray(T)&&(A=T)}if((!S||!S.length)&&ye(k)){var O=g&&g.length,I=k({xAxis:y?gr(gr({},y),{},{ticks:O?g:y.ticks}):void 0,width:l,height:c,offset:u},O?!0:b);On(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ka(I),"]")),Array.isArray(I)&&(S=I)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Fxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Bxe,_a({},d,{offset:u,horizontalPoints:A,xAxis:y,yAxis:w})),L.createElement(Uxe,_a({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),L.createElement(zxe,_a({},d,{horizontalPoints:A})),L.createElement(Wxe,_a({},d,{verticalPoints:S})))}q0.displayName="CartesianGrid";var Gxe=["type","layout","connectNulls","ref"],Kxe=["key"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function ME(t,e){if(t==null)return{};var r=Yxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}function DE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(r),!0).forEach(function(n){kn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wo(t){return Zxe(t)||Jxe(t)||Qxe(t)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(t,e){if(t){if(typeof t=="string")return G0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(t,e)}}function Jxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zxe(t){if(Array.isArray(t))return G0(t)}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E3(n.key),n)}}function tve(t,e,r){return e&&RE(t.prototype,e),r&&RE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rve(t,e,r){return e=Fp(e),nve(t,T3()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function nve(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ive(t)}function ive(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T3=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K0(t,e)}function kn(t,e,r){return e=E3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3(t){var e=ave(t,"string");return Vl(e)=="symbol"?e:e+""}function ave(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fl=function(t){function e(){var r;eve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rve(this,e,[].concat(i)),kn(r,"state",{isAnimationFinished:!0,totalLength:0}),kn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),kn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],v=0,b=0;v<c.length;b+=c[v],++v)if(b+c[v]>h){p=[].concat(wo(c.slice(0,v)),[h-b]);break}var x=p.length%2===0?[0,f]:[f];return[].concat(wo(e.repeat(c,d)),wo(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),kn(r,"id",mc("recharts-line-")),kn(r,"pathRef",function(o){r.mainCurve=o}),kn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),kn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sve(e,t),tve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Gr(d,Sh);if(!h)return null;var f=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:Ft(b.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement($e,p,h.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=de(this.props,!1),f=de(c,!0),p=u.map(function(b,x){var g=Lr(Lr(Lr({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement($e,Vu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=ME(l,Gxe),f=Lr(Lr(Lr({},de(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(yp,Vu({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,v=o.animateNewValues,b=o.width,x=o.height,g=this.state,y=g.prevPoints,w=g.totalLength;return L.createElement(si,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var j=k.t;if(y){var A=y.length/l.length,S=l.map(function(C,M){var B=Math.floor(M*A);if(y[B]){var F=y[B],R=Ur(F.x,C.x),V=Ur(F.y,C.y);return Lr(Lr({},C),{},{x:R(j),y:V(j)})}if(v){var $=Ur(b*2,C.x),z=Ur(x/2,C.y);return Lr(Lr({},C),{},{x:$(j),y:z(j)})}return Lr(Lr({},C),{},{x:C.x,y:C.y})});return a.renderCurveStatically(S,n,i)}var N=Ur(0,w),T=N(j),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});O=a.getStrokeDasharray(T,w,I)}else O=a.generateSimpleStrokeDasharray(w,T);return a.renderCurveStatically(l,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!_h(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,w=Ae("recharts-line",c),k=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,A=k||j,S=_e(x)?this.id:x,N=(n=de(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,O=T===void 0?3:T,I=N.strokeWidth,C=I===void 0?2:I,M=SK(o)?o:{},B=M.clipDot,F=B===void 0?!0:B,R=O*2+C;return L.createElement($e,{className:w},k||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:k?f:f-p/2,y:j?h:h-v/2,width:k?p:p*2,height:j?v:v*2})),!F&&L.createElement("clipPath",{id:"clipPath-dots-".concat(S)},L.createElement("rect",{x:f-R/2,y:h-R/2,width:p+R,height:v+R}))):null,!y&&this.renderCurve(A,S),this.renderErrorBar(A,S),(y||o)&&this.renderDots(A,F,S),(!b||g)&&Ti.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(wo(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(wo(o),wo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(ye(n))a=n(i);else{var o=i.key,l=ME(i,Kxe),c=Ae("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(ox,Vu({key:o},l,{className:c}))}return a}}])}(P.PureComponent);kn(Fl,"displayName","Line");kn(Fl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!so.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});kn(Fl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var v=Ft(f,o);return d==="horizontal"?{x:cT({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:_e(v)?null:n.scale(v),value:v,payload:f}:{x:_e(v)?null:r.scale(v),y:cT({axis:n,ticks:a,bandSize:l,entry:f,index:p}),value:v,payload:f}});return Lr({points:h,layout:d},u)});function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C3(n.key),n)}}function cve(t,e,r){return e&&lve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uve(t,e,r){return e=Bp(e),dve(t,P3()?Reflect.construct(e,r||[],Bp(t).constructor):e.apply(t,r))}function dve(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hve(t)}function hve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P3=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(t)}function fve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function I3(t,e,r){return e=C3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C3(t){var e=mve(t,"string");return Bl(e)=="symbol"?e:e+""}function mve(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function pve(t){var e=t.xAxisId,r=Y1(),n=X1(),i=g3(e);return i==null?null:P.createElement(wc,X0({},i,{className:Ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return wi(o,!0)}}))}var Ul=function(t){function e(){return ove(this,e),uve(this,e,arguments)}return fve(e,t),cve(e,[{key:"render",value:function(){return P.createElement(pve,this.props)}}])}(P.Component);I3(Ul,"displayName","XAxis");I3(Ul,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D3(n.key),n)}}function vve(t,e,r){return e&&xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yve(t,e,r){return e=Up(e),bve(t,O3()?Reflect.construct(e,r||[],Up(t).constructor):e.apply(t,r))}function bve(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wve(t)}function wve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(t)}function jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(t,e)}function M3(t,e,r){return e=D3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D3(t){var e=Nve(t,"string");return zl(e)=="symbol"?e:e+""}function Nve(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(this,arguments)}var _ve=function(e){var r=e.yAxisId,n=Y1(),i=X1(),a=x3(r);return a==null?null:P.createElement(wc,J0({},a,{className:Ae("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return wi(l,!0)}}))},Wl=function(t){function e(){return gve(this,e),yve(this,e,arguments)}return jve(e,t),vve(e,[{key:"render",value:function(){return P.createElement(_ve,this.props)}}])}(P.Component);M3(Wl,"displayName","YAxis");M3(Wl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LE(t){return Tve(t)||Ave(t)||kve(t)||Sve()}function Sve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kve(t,e){if(t){if(typeof t=="string")return Z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z0(t,e)}}function Ave(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tve(t){if(Array.isArray(t))return Z0(t)}function Z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ew=function(e,r,n,i,a){var o=Gr(e,J1),l=Gr(e,gx),c=[].concat(LE(o),LE(l)),u=Gr(e,vx),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(b,x){if(x.props[d]===n&&ei(x.props,"extendDomain")&&te(x.props[h])){var g=x.props[h];return[Math.min(b[0],g),Math.max(b[1],g)]}return b},f)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(b,x){if(x.props[d]===n&&ei(x.props,"extendDomain")&&te(x.props[p])&&te(x.props[v])){var g=x.props[p],y=x.props[v];return[Math.min(b[0],g,y),Math.max(b[1],g,y)]}return b},f)}return a&&a.length&&(f=a.reduce(function(b,x){return te(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},f)),f},R3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,v=new Array(p);f<p;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,v){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],g=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,p),!0;case 6:return x.fn.call(x.context,d,h,f,p,v),!0}for(w=1,y=new Array(g-1);w<g;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var k=x.length,j;for(w=0;w<k;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),g){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!y)for(j=1,y=new Array(g-1);j<g;j++)y[j-1]=arguments[j];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var b=0,x=[],g=v.length;b<g;b++)(v[b].fn!==d||f&&!v[b].once||h&&v[b].context!==h)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(R3);var Eve=R3.exports;const Pve=qe(Eve);var Jv=new Pve,Zv="recharts.syncMouseEvents";function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function Ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L3(n.key),n)}}function Ove(t,e,r){return e&&Cve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ey(t,e,r){return e=L3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L3(t){var e=Mve(t,"string");return Jd(e)=="symbol"?e:e+""}function Mve(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dve=function(){function t(){Ive(this,t),ey(this,"activeIndex",0),ey(this,"coordinateList",[]),ey(this,"layout","horizontal")}return Ove(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Rve(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&te(n)&&te(i))return!0}return!1}function Lve(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=tt(e,r,n,i),l=tt(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function $ve(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=tt(l,c,u,h),p=tt(l,c,d,h);n=f.x,i=f.y,a=p.x,o=p.y}else return $3(e);return[{x:n,y:i},{x:a,y:o}]}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){Vve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vve(t,e,r){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fve(t){var e=Bve(t,"string");return Zd(e)=="symbol"?e:e+""}function Bve(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uve(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,b=yp;if(f==="ScatterChart")v=o,b=afe;else if(f==="BarChart")v=Lve(h,o,c,d),b=H1;else if(h==="radial"){var x=$3(o),g=x.cx,y=x.cy,w=x.radius,k=x.startAngle,j=x.endAngle;v={cx:g,cy:y,startAngle:k,endAngle:j,innerRadius:w,outerRadius:w},b=MR}else v={points:$ve(h,o,c)},b=yp;var A=Sf(Sf(Sf(Sf({stroke:"#ccc",pointerEvents:"none"},c),v),de(p,!1)),{},{payload:l,payloadIndex:u,className:Ae("recharts-tooltip-cursor",p.className)});return P.isValidElement(p)?P.cloneElement(p,A):P.createElement(b,A)}var zve=["item"],Wve=["children","className","width","height","style","compact","title","desc"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function VE(t,e){return Gve(t)||qve(t,e)||F3(t,e)||Hve()}function Hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Gve(t){if(Array.isArray(t))return t}function FE(t,e){if(t==null)return{};var r=Kve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B3(n.key),n)}}function Qve(t,e,r){return e&&Xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jve(t,e,r){return e=zp(e),Zve(t,V3()?Reflect.construct(e,r||[],zp(t).constructor):e.apply(t,r))}function Zve(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eye(t)}function eye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(t)}function tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tw(t,e)}function ql(t){return iye(t)||nye(t)||F3(t)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3(t,e){if(t){if(typeof t=="string")return rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(t,e)}}function nye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iye(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function me(t,e,r){return e=B3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B3(t){var e=sye(t,"string");return Hl(e)=="symbol"?e:e+""}function sye(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aye={xAxis:["bottom","top"],yAxis:["left","right"]},oye={width:"100%",height:"100%"},U3={x:0,y:0};function kf(t){return t}var lye=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},cye=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return G(G(G({},i),tt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return G(G(G({},i),tt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return U3},yx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ql(l),ql(u)):l},[]);return o.length>0?o:e&&e.length&&te(i)&&te(a)?e.slice(i,a+1):[]};function z3(t){return t==="number"?[0,"auto"]:void 0}var nw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=yx(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=Um(p,o.dataKey,i)}else f=h&&h[n]||l[n];return f?[].concat(ql(c),[TR(u,f)]):c},[])},UE=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=lye(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=kce(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=nw(e,r,d,h),p=cye(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},uye=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=jR(d,a);return n.reduce(function(v,b){var x,g=b.type.defaultProps!==void 0?G(G({},b.type.defaultProps),b.props):b.props,y=g.type,w=g.dataKey,k=g.allowDataOverflow,j=g.allowDuplicatedCategory,A=g.scale,S=g.ticks,N=g.includeHidden,T=g[o];if(v[T])return v;var O=yx(e.data,{graphicalItems:i.filter(function(ee){var le,Ee=o in ee.props?ee.props[o]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[o];return Ee===T}),dataStartIndex:c,dataEndIndex:u}),I=O.length,C,M,B;Rve(g.domain,k,y)&&(C=g0(g.domain,null,k),p&&(y==="number"||A!=="auto")&&(B=Du(O,w,"category")));var F=z3(y);if(!C||C.length===0){var R,V=(R=g.domain)!==null&&R!==void 0?R:F;if(w){if(C=Du(O,w,y),y==="category"&&p){var $=pK(C);j&&$?(M=C,C=Pp(0,I)):j||(C=fT(V,C,b).reduce(function(ee,le){return ee.indexOf(le)>=0?ee:[].concat(ql(ee),[le])},[]))}else if(y==="category")j?C=C.filter(function(ee){return ee!==""&&!_e(ee)}):C=fT(V,C,b).reduce(function(ee,le){return ee.indexOf(le)>=0||le===""||_e(le)?ee:[].concat(ql(ee),[le])},[]);else if(y==="number"){var z=Ice(O,i.filter(function(ee){var le,Ee,Fe=o in ee.props?ee.props[o]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[o],Ke="hide"in ee.props?ee.props.hide:(Ee=ee.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return Fe===T&&(N||!Ke)}),w,a,d);z&&(C=z)}p&&(y==="number"||A!=="auto")&&(B=Du(O,w,"category"))}else p?C=Pp(0,I):l&&l[T]&&l[T].hasStack&&y==="number"?C=f==="expand"?[0,1]:AR(l[T].stackGroups,c,u):C=wR(O,i.filter(function(ee){var le=o in ee.props?ee.props[o]:ee.type.defaultProps[o],Ee="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return le===T&&(N||!Ee)}),y,d,!0);if(y==="number")C=ew(h,C,T,a,S),V&&(C=g0(V,C,k));else if(y==="category"&&V){var K=V,J=C.every(function(ee){return K.indexOf(ee)>=0});J&&(C=K)}}return G(G({},v),{},me({},T,G(G({},g),{},{axisType:a,domain:C,categoricalDomain:B,duplicateDomain:M,originalDomain:(x=g.domain)!==null&&x!==void 0?x:F,isCategorical:p,layout:d})))},{})},dye=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=yx(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,v=jR(d,a),b=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?G(G({},g.type.defaultProps),g.props):g.props,w=y[o],k=z3("number");if(!x[w]){b++;var j;return v?j=Pp(0,p):l&&l[w]&&l[w].hasStack?(j=AR(l[w].stackGroups,c,u),j=ew(h,j,w,a)):(j=g0(k,wR(f,n.filter(function(A){var S,N,T=o in A.props?A.props[o]:(S=A.type.defaultProps)===null||S===void 0?void 0:S[o],O="hide"in A.props?A.props.hide:(N=A.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===w&&!O}),"number",d),i.defaultProps.allowDataOverflow),j=ew(h,j,w,a)),G(G({},x),{},me({},w,G(G({axisType:a},i.defaultProps),{},{hide:!0,orientation:qr(aye,"".concat(a,".").concat(b%2),null),domain:j,originalDomain:k,isCategorical:v,layout:d})))}return x},{})},hye=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=Gr(d,a),p={};return f&&f.length?p=uye(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=dye(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},fye=function(e){var r=ms(e),n=wi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:v1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:gp(r,n)}},zE=function(e){var r=e.children,n=e.defaultShowTooltip,i=Fr(r,Ol),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},mye=function(e){return!e||!e.length?!1:e.some(function(r){var n=ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},WE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pye=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=Fr(h,Ol),v=Fr(h,Ms),b=Object.keys(c).reduce(function(j,A){var S=c[A],N=S.orientation;return!S.mirror&&!S.hide?G(G({},j),{},me({},N,j[N]+S.width)):j},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(j,A){var S=o[A],N=S.orientation;return!S.mirror&&!S.hide?G(G({},j),{},me({},N,qr(j,"".concat(N))+S.height)):j},{top:f.top||0,bottom:f.bottom||0}),g=G(G({},x),b),y=g.bottom;p&&(g.bottom+=p.props.height||Ol.defaultProps.height),v&&r&&(g=Ece(g,i,n,r));var w=u-g.left-g.right,k=d-g.top-g.bottom;return G(G({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(k,0)})},gye=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},t2=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(g,y){var w=y.graphicalItems,k=y.stackGroups,j=y.offset,A=y.updateId,S=y.dataStartIndex,N=y.dataEndIndex,T=g.barSize,O=g.layout,I=g.barGap,C=g.barCategoryGap,M=g.maxBarSize,B=WE(O),F=B.numericAxisName,R=B.cateAxisName,V=mye(w),$=[];return w.forEach(function(z,K){var J=yx(g.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:N}),ee=z.type.defaultProps!==void 0?G(G({},z.type.defaultProps),z.props):z.props,le=ee.dataKey,Ee=ee.maxBarSize,Fe=ee["".concat(F,"Id")],Ke=ee["".concat(R,"Id")],Mt={},At=c.reduce(function(Jr,ci){var uo=y["".concat(ci.axisType,"Map")],Th=ee["".concat(ci.axisType,"Id")];uo&&uo[Th]||ci.axisType==="zAxis"||Ga();var Gi=uo[Th];return G(G({},Jr),{},me(me({},ci.axisType,Gi),"".concat(ci.axisType,"Ticks"),wi(Gi)))},Mt),ne=At[R],je=At["".concat(R,"Ticks")],H=k&&k[Fe]&&k[Fe].hasStack&&Fce(z,k[Fe].stackGroups),W=ki(z.type).indexOf("Bar")>=0,oe=gp(ne,je),ue=[],ze=V&&Ace({barSize:T,stackGroups:k,totalSize:gye(At,R)});if(W){var rt,ke,bn=_e(Ee)?M:Ee,mt=(rt=(ke=gp(ne,je,!0))!==null&&ke!==void 0?ke:bn)!==null&&rt!==void 0?rt:0;ue=Tce({barGap:I,barCategoryGap:C,bandSize:mt!==oe?mt:oe,sizeList:ze[Ke],maxBarSize:bn}),mt!==oe&&(ue=ue.map(function(Jr){return G(G({},Jr),{},{position:G(G({},Jr.position),{},{offset:Jr.position.offset-mt/2})})}))}var Tt=z&&z.type&&z.type.getComposedData;Tt&&$.push({props:G(G({},Tt(G(G({},At),{},{displayedData:J,props:g,dataKey:le,item:z,bandSize:oe,barPosition:ue,offset:j,stackedData:H,layout:O,dataStartIndex:S,dataEndIndex:N}))),{},me(me(me({key:z.key||"item-".concat(K)},F,At[F]),R,At[R]),"animationId",A)),childIndex:TK(z,g.children),item:z})}),$},p=function(g,y){var w=g.props,k=g.dataStartIndex,j=g.dataEndIndex,A=g.updateId;if(!ak({props:w}))return null;var S=w.children,N=w.layout,T=w.stackOffset,O=w.data,I=w.reverseStackOrder,C=WE(N),M=C.numericAxisName,B=C.cateAxisName,F=Gr(S,n),R=$ce(O,F,"".concat(M,"Id"),"".concat(B,"Id"),T,I),V=c.reduce(function(ee,le){var Ee="".concat(le.axisType,"Map");return G(G({},ee),{},me({},Ee,hye(w,G(G({},le),{},{graphicalItems:F,stackGroups:le.axisType===M&&R,dataStartIndex:k,dataEndIndex:j}))))},{}),$=pye(G(G({},V),{},{props:w,graphicalItems:F}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(ee){V[ee]=d(w,V[ee],$,ee.replace("Map",""),r)});var z=V["".concat(B,"Map")],K=fye(z),J=f(w,G(G({},V),{},{dataStartIndex:k,dataEndIndex:j,updateId:A,graphicalItems:F,stackGroups:R,offset:$}));return G(G({formattedGraphicalItems:J,graphicalItems:F,offset:$,stackGroups:R},K),V)},v=function(x){function g(y){var w,k,j;return Yve(this,g),j=Jve(this,g,[y]),me(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),me(j,"accessibilityManager",new Dve),me(j,"handleLegendBBoxUpdate",function(A){if(A){var S=j.state,N=S.dataStartIndex,T=S.dataEndIndex,O=S.updateId;j.setState(G({legendBBox:A},p({props:j.props,dataStartIndex:N,dataEndIndex:T,updateId:O},G(G({},j.state),{},{legendBBox:A}))))}}),me(j,"handleReceiveSyncEvent",function(A,S,N){if(j.props.syncId===A){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),me(j,"handleBrushChange",function(A){var S=A.startIndex,N=A.endIndex;if(S!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return G({dataStartIndex:S,dataEndIndex:N},p({props:j.props,dataStartIndex:S,dataEndIndex:N,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),me(j,"handleMouseEnter",function(A){var S=j.getMouseInfo(A);if(S){var N=G(G({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseEnter;ye(T)&&T(N,A)}}),me(j,"triggeredAfterMouseMove",function(A){var S=j.getMouseInfo(A),N=S?G(G({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseMove;ye(T)&&T(N,A)}),me(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),me(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),me(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),me(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var N=j.props.onMouseLeave;ye(N)&&N(S,A)}),me(j,"handleOuterEvent",function(A){var S=AK(A),N=qr(j.props,"".concat(S));if(S&&ye(N)){var T,O;/.*touch.*/i.test(S)?O=j.getMouseInfo(A.changedTouches[0]):O=j.getMouseInfo(A),N((T=O)!==null&&T!==void 0?T:{},A)}}),me(j,"handleClick",function(A){var S=j.getMouseInfo(A);if(S){var N=G(G({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onClick;ye(T)&&T(N,A)}}),me(j,"handleMouseDown",function(A){var S=j.props.onMouseDown;if(ye(S)){var N=j.getMouseInfo(A);S(N,A)}}),me(j,"handleMouseUp",function(A){var S=j.props.onMouseUp;if(ye(S)){var N=j.getMouseInfo(A);S(N,A)}}),me(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),me(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),me(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),me(j,"handleDoubleClick",function(A){var S=j.props.onDoubleClick;if(ye(S)){var N=j.getMouseInfo(A);S(N,A)}}),me(j,"handleContextMenu",function(A){var S=j.props.onContextMenu;if(ye(S)){var N=j.getMouseInfo(A);S(N,A)}}),me(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&Jv.emit(Zv,j.props.syncId,A,j.eventEmitterSymbol)}),me(j,"applySyncEvent",function(A){var S=j.props,N=S.layout,T=S.syncMethod,O=j.state.updateId,I=A.dataStartIndex,C=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(G({dataStartIndex:I,dataEndIndex:C},p({props:j.props,dataStartIndex:I,dataEndIndex:C,updateId:O},j.state)));else if(A.activeTooltipIndex!==void 0){var M=A.chartX,B=A.chartY,F=A.activeTooltipIndex,R=j.state,V=R.offset,$=R.tooltipTicks;if(!V)return;if(typeof T=="function")F=T($,A);else if(T==="value"){F=-1;for(var z=0;z<$.length;z++)if($[z].value===A.activeLabel){F=z;break}}var K=G(G({},V),{},{x:V.left,y:V.top}),J=Math.min(M,K.x+K.width),ee=Math.min(B,K.y+K.height),le=$[F]&&$[F].value,Ee=nw(j.state,j.props.data,F),Fe=$[F]?{x:N==="horizontal"?$[F].coordinate:J,y:N==="horizontal"?ee:$[F].coordinate}:U3;j.setState(G(G({},A),{},{activeLabel:le,activeCoordinate:Fe,activePayload:Ee,activeTooltipIndex:F}))}else j.setState(A)}),me(j,"renderCursor",function(A){var S,N=j.state,T=N.isTooltipActive,O=N.activeCoordinate,I=N.activePayload,C=N.offset,M=N.activeTooltipIndex,B=N.tooltipAxisBandSize,F=j.getTooltipEventType(),R=(S=A.props.active)!==null&&S!==void 0?S:T,V=j.props.layout,$=A.key||"_recharts-cursor";return L.createElement(Uve,{key:$,activeCoordinate:O,activePayload:I,activeTooltipIndex:M,chartName:r,element:A,isActive:R,layout:V,offset:C,tooltipAxisBandSize:B,tooltipEventType:F})}),me(j,"renderPolarAxis",function(A,S,N){var T=qr(A,"type.axisType"),O=qr(j.state,"".concat(T,"Map")),I=A.type.defaultProps,C=I!==void 0?G(G({},I),A.props):A.props,M=O&&O[C["".concat(T,"Id")]];return P.cloneElement(A,G(G({},M),{},{className:Ae(T,M.className),key:A.key||"".concat(S,"-").concat(N),ticks:wi(M,!0)}))}),me(j,"renderPolarGrid",function(A){var S=A.props,N=S.radialLines,T=S.polarAngles,O=S.polarRadius,I=j.state,C=I.radiusAxisMap,M=I.angleAxisMap,B=ms(C),F=ms(M),R=F.cx,V=F.cy,$=F.innerRadius,z=F.outerRadius;return P.cloneElement(A,{polarAngles:Array.isArray(T)?T:wi(F,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:wi(B,!0).map(function(K){return K.coordinate}),cx:R,cy:V,innerRadius:$,outerRadius:z,key:A.key||"polar-grid",radialLines:N})}),me(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,S=j.props,N=S.children,T=S.width,O=S.height,I=j.props.margin||{},C=T-(I.left||0)-(I.right||0),M=yR({children:N,formattedGraphicalItems:A,legendWidth:C,legendContent:u});if(!M)return null;var B=M.item,F=FE(M,zve);return P.cloneElement(B,G(G({},F),{},{chartWidth:T,chartHeight:O,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),me(j,"renderTooltip",function(){var A,S=j.props,N=S.children,T=S.accessibilityLayer,O=Fr(N,rn);if(!O)return null;var I=j.state,C=I.isTooltipActive,M=I.activeCoordinate,B=I.activePayload,F=I.activeLabel,R=I.offset,V=(A=O.props.active)!==null&&A!==void 0?A:C;return P.cloneElement(O,{viewBox:G(G({},R),{},{x:R.left,y:R.top}),active:V,label:F,payload:V?B:[],coordinate:M,accessibilityLayer:T})}),me(j,"renderBrush",function(A){var S=j.props,N=S.margin,T=S.data,O=j.state,I=O.offset,C=O.dataStartIndex,M=O.dataEndIndex,B=O.updateId;return P.cloneElement(A,{key:A.key||"_recharts-brush",onChange:wf(j.handleBrushChange,A.props.onChange),data:T,x:te(A.props.x)?A.props.x:I.left,y:te(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(N.bottom||0),width:te(A.props.width)?A.props.width:I.width,startIndex:C,endIndex:M,updateId:"brush-".concat(B)})}),me(j,"renderReferenceElement",function(A,S,N){if(!A)return null;var T=j,O=T.clipPathId,I=j.state,C=I.xAxisMap,M=I.yAxisMap,B=I.offset,F=A.type.defaultProps||{},R=A.props,V=R.xAxisId,$=V===void 0?F.xAxisId:V,z=R.yAxisId,K=z===void 0?F.yAxisId:z;return P.cloneElement(A,{key:A.key||"".concat(S,"-").concat(N),xAxis:C[$],yAxis:M[K],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),me(j,"renderActivePoints",function(A){var S=A.item,N=A.activePoint,T=A.basePoint,O=A.childIndex,I=A.isRange,C=[],M=S.props.key,B=S.item.type.defaultProps!==void 0?G(G({},S.item.type.defaultProps),S.item.props):S.item.props,F=B.activeDot,R=B.dataKey,V=G(G({index:O,dataKey:R,cx:N.x,cy:N.y,r:4,fill:W1(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},de(F,!1)),zm(F));return C.push(g.renderActiveDot(F,V,"".concat(M,"-activePoint-").concat(O))),T?C.push(g.renderActiveDot(F,G(G({},V),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(O))):I&&C.push(null),C}),me(j,"renderGraphicChild",function(A,S,N){var T=j.filterFormatItem(A,S,N);if(!T)return null;var O=j.getTooltipEventType(),I=j.state,C=I.isTooltipActive,M=I.tooltipAxis,B=I.activeTooltipIndex,F=I.activeLabel,R=j.props.children,V=Fr(R,rn),$=T.props,z=$.points,K=$.isRange,J=$.baseLine,ee=T.item.type.defaultProps!==void 0?G(G({},T.item.type.defaultProps),T.item.props):T.item.props,le=ee.activeDot,Ee=ee.hide,Fe=ee.activeBar,Ke=ee.activeShape,Mt=!!(!Ee&&C&&V&&(le||Fe||Ke)),At={};O!=="axis"&&V&&V.props.trigger==="click"?At={onClick:wf(j.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(At={onMouseLeave:wf(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:wf(j.handleItemMouseEnter,A.props.onMouseEnter)});var ne=P.cloneElement(A,G(G({},T.props),At));function je(ci){return typeof M.dataKey=="function"?M.dataKey(ci.payload):null}if(Mt)if(B>=0){var H,W;if(M.dataKey&&!M.allowDuplicatedCategory){var oe=typeof M.dataKey=="function"?je:"payload.".concat(M.dataKey.toString());H=Um(z,oe,F),W=K&&J&&Um(J,oe,F)}else H=z==null?void 0:z[B],W=K&&J&&J[B];if(Ke||Fe){var ue=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[P.cloneElement(A,G(G(G({},T.props),At),{},{activeIndex:ue})),null,null]}if(!_e(H))return[ne].concat(ql(j.renderActivePoints({item:T,activePoint:H,basePoint:W,childIndex:B,isRange:K})))}else{var ze,rt=(ze=j.getItemByXY(j.state.activeCoordinate))!==null&&ze!==void 0?ze:{graphicalItem:ne},ke=rt.graphicalItem,bn=ke.item,mt=bn===void 0?A:bn,Tt=ke.childIndex,Jr=G(G(G({},T.props),At),{},{activeIndex:Tt});return[P.cloneElement(mt,Jr),null,null]}return K?[ne,null,null]:[ne,null]}),me(j,"renderCustomized",function(A,S,N){return P.cloneElement(A,G(G({key:"recharts-customized-".concat(N)},j.props),j.state))}),me(j,"renderMap",{CartesianGrid:{handler:kf,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:kf},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:kf},YAxis:{handler:kf},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:mc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=vD(j.triggeredAfterMouseMove,(k=y.throttleDelay)!==null&&k!==void 0?k:1e3/60),j.state={},j}return tye(g,x),Qve(g,[{key:"componentDidMount",value:function(){var w,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,k=w.children,j=w.data,A=w.height,S=w.layout,N=Fr(k,rn);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=nw(this.state,j,T,O),C=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+A)/2,B=S==="horizontal",F=B?{x:C,y:M}:{y:C,x:M},R=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});R&&(F=G(G({},F),R.props.points[T].tooltipPosition),I=R.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:F};this.setState(V),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(w){Ib([Fr(w.children,rn)],[Fr(this.props.children,rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Fr(this.props.children,rn);if(w&&typeof w.props.shared=="boolean"){var k=w.props.shared?"axis":"item";return l.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var k=this.container,j=k.getBoundingClientRect(),A=ese(j),S={chartX:Math.round(w.pageX-A.left),chartY:Math.round(w.pageY-A.top)},N=j.width/k.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,N);if(!T)return null;var O=this.state,I=O.xAxisMap,C=O.yAxisMap,M=this.getTooltipEventType(),B=UE(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&I&&C){var F=ms(I).scale,R=ms(C).scale,V=F&&F.invert?F.invert(S.chartX):null,$=R&&R.invert?R.invert(S.chartY):null;return G(G({},S),{},{xValue:V,yValue:$},B)}return B?G(G({},S),B):null}},{key:"inRange",value:function(w,k){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,S=w/j,N=k/j;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,O=S>=T.left&&S<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return O?{x:S,y:N}:null}var I=this.state,C=I.angleAxisMap,M=I.radiusAxisMap;if(C&&M){var B=ms(C);return gT({x:S,y:N},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,k=this.getTooltipEventType(),j=Fr(w,rn),A={};j&&k==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=zm(this.props,this.handleOuterEvent);return G(G({},S),A)}},{key:"addListener",value:function(){Jv.on(Zv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jv.removeListener(Zv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,k,j){for(var A=this.state.formattedGraphicalItems,S=0,N=A.length;S<N;S++){var T=A[S];if(T.item===w||T.props.key===w.key||k===ki(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,k=this.state.offset,j=k.left,A=k.top,S=k.height,N=k.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:j,y:A,height:S,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(k,j){var A=VE(j,2),S=A[0],N=A[1];return G(G({},k),{},me({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(k,j){var A=VE(j,2),S=A[0],N=A[1];return G(G({},k),{},me({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(w){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[w])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(w){var k=this.state,j=k.formattedGraphicalItems,A=k.activeItem;if(j&&j.length)for(var S=0,N=j.length;S<N;S++){var T=j[S],O=T.props,I=T.item,C=I.type.defaultProps!==void 0?G(G({},I.type.defaultProps),I.props):I.props,M=ki(I.type);if(M==="Bar"){var B=(O.data||[]).find(function($){return Fhe(w,$)});if(B)return{graphicalItem:T,payload:B}}else if(M==="RadialBar"){var F=(O.data||[]).find(function($){return gT(w,$)});if(F)return{graphicalItem:T,payload:F}}else if(hx(T,A)||fx(T,A)||Gd(T,A)){var R=Tme({graphicalItem:T,activeTooltipItem:A,itemData:C.data}),V=C.activeIndex===void 0?R:C.activeIndex;return{graphicalItem:G(G({},T),{},{childIndex:V}),payload:Gd(T,A)?C.data[R]:T.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!ak(this))return null;var k=this.props,j=k.children,A=k.className,S=k.width,N=k.height,T=k.style,O=k.compact,I=k.title,C=k.desc,M=FE(k,Wve),B=de(M,!1);if(O)return L.createElement(wE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Ob,Wo({},B,{width:S,height:N,title:I,desc:C}),this.renderClipPath(),lk(j,this.renderMap)));if(this.props.accessibilityLayer){var F,R;B.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,B.role=(R=this.props.role)!==null&&R!==void 0?R:"application",B.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},B.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return L.createElement(wE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Wo({className:Ae("recharts-wrapper",A),style:G({position:"relative",cursor:"default",width:S,height:N},T)},V,{ref:function(z){w.container=z}}),L.createElement(Ob,Wo({},B,{width:S,height:N,title:I,desc:C,style:oye}),this.renderClipPath(),lk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);me(v,"displayName",r),me(v,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),me(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,w=x.data,k=x.children,j=x.width,A=x.height,S=x.layout,N=x.stackOffset,T=x.margin,O=g.dataStartIndex,I=g.dataEndIndex;if(g.updateId===void 0){var C=zE(x);return G(G(G({},C),{},{updateId:0},p(G(G({props:x},C),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:A,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:k})}if(y!==g.prevDataKey||w!==g.prevData||j!==g.prevWidth||A!==g.prevHeight||S!==g.prevLayout||N!==g.prevStackOffset||!rl(T,g.prevMargin)){var M=zE(x),B={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},F=G(G({},UE(g,w,S)),{},{updateId:g.updateId+1}),R=G(G(G({},M),B),F);return G(G(G({},R),p(G({props:x},R),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:A,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:k})}if(!Ib(k,g.prevChildren)){var V,$,z,K,J=Fr(k,Ol),ee=J&&(V=($=J.props)===null||$===void 0?void 0:$.startIndex)!==null&&V!==void 0?V:O,le=J&&(z=(K=J.props)===null||K===void 0?void 0:K.endIndex)!==null&&z!==void 0?z:I,Ee=ee!==O||le!==I,Fe=!_e(w),Ke=Fe&&!Ee?g.updateId:g.updateId+1;return G(G({updateId:Ke},p(G(G({props:x},g),{},{updateId:Ke,dataStartIndex:ee,dataEndIndex:le}),g)),{},{prevChildren:k,dataStartIndex:ee,dataEndIndex:le})}return null}),me(v,"renderActiveDot",function(x,g,y){var w;return P.isValidElement(x)?w=P.cloneElement(x,g):ye(x)?w=x(g):w=L.createElement(ox,g),L.createElement($e,{className:"recharts-active-dot",key:y},w)});var b=P.forwardRef(function(g,y){return L.createElement(v,Wo({},g,{ref:y}))});return b.displayName=v.displayName,b},xye=t2({chartName:"LineChart",GraphicalChild:Fl,axisComponents:[{axisType:"xAxis",AxisComp:Ul},{axisType:"yAxis",AxisComp:Wl}],formatAxisMap:l3}),vye=t2({chartName:"BarChart",GraphicalChild:co,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ul},{axisType:"yAxis",AxisComp:Wl}],formatAxisMap:l3}),yye=t2({chartName:"PieChart",GraphicalChild:qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dx},{axisType:"radiusAxis",AxisComp:cx}],formatAxisMap:Xce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function bye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(10),[a,o]=P.useState(""),[l,c]=P.useState(1),[u,d]=P.useState(!0),[h,f]=P.useState([]),[p,v]=P.useState(!1),[b,x]=P.useState(0),[g,y]=P.useState(kt()),[w,k]=P.useState(Jt()),[j,A]=P.useState(Le()),[S,N]=P.useState(null),[T,O]=P.useState(null);if(P.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]),P.useEffect(()=>{const H=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(H)},[]),P.useEffect(()=>{y(kt()),k(Jt()),A(Le())},[b]),P.useEffect(()=>{const H=()=>x(W=>W+1);return window.addEventListener("focus",H),()=>window.removeEventListener("focus",H)},[]),P.useEffect(()=>{const H=()=>x(W=>W+1);return window.addEventListener("projectsUpdated",H),()=>window.removeEventListener("projectsUpdated",H)},[]),P.useEffect(()=>{const H=()=>x(W=>W+1);return window.addEventListener("ticketsUpdated",H),()=>window.removeEventListener("ticketsUpdated",H)},[]),P.useEffect(()=>{const H=()=>x(W=>W+1);return window.addEventListener("messagesUpdated",H),()=>window.removeEventListener("messagesUpdated",H)},[]),!t||!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const I={totalProjects:g.length,activeProjects:g.filter(H=>H.status==="active").length,totalUsers:j.length,openTickets:w.filter(H=>H.status==="open"||H.status==="in_progress").length},C=g.slice(0,5),M=w.slice(0,5),B=P.useMemo(()=>g.filter(H=>H.name.toLowerCase().includes(a.toLowerCase())||H.description.toLowerCase().includes(a.toLowerCase())||H.projectType.toLowerCase().includes(a.toLowerCase())),[g,a]),F=Math.ceil(B.length/n),R=(l-1)*n,V=R+n,$=B.slice(R,V);P.useEffect(()=>{c(1)},[a]),P.useEffect(()=>{l>F&&F>0&&c(F)},[n,F,l]);const z=H=>w.filter(W=>W.projectId===H).length,K=H=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const oe=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(ue=>ue.id!==H);localStorage.setItem("marketing_management_website_projects",JSON.stringify(oe)),window.location.reload()}},J=(H,W)=>{f(W?oe=>[...oe,H]:oe=>oe.filter(ue=>ue!==H))},ee=H=>{f(H?$.map(W=>W.id):[])},le=()=>{if(h.length!==0&&window.confirm(`Are you sure you want to delete ${h.length} selected project(s)? This action cannot be undone.`)){const W=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(oe=>!h.includes(oe.id));localStorage.setItem("marketing_management_website_projects",JSON.stringify(W)),f([]),window.location.reload()}};P.useEffect(()=>{v(h.length>0)},[h]);const Ee=(H,W)=>{m_(H,{webDeveloperId:W||void 0}),N(null),x(oe=>oe+1)},Fe=(H,W)=>{m_(H,{socialMediaCoordinatorId:W||void 0}),O(null),x(oe=>oe+1)},Ke=[{name:"Open",value:w.filter(H=>H.status==="open").length,color:"#ef4444"},{name:"In Progress",value:w.filter(H=>H.status==="in_progress").length,color:"#f59e0b"},{name:"Resolved",value:w.filter(H=>H.status==="resolved").length,color:"#10b981"},{name:"Closed",value:w.filter(H=>H.status==="closed").length,color:"#6b7280"}].filter(H=>H.value>0),Mt=P.useMemo(()=>{const H=["planning","design","development","testing","seo_optimization","launch","maintenance"],W={};return H.forEach(oe=>{W[Br(oe)]=0}),g.forEach(oe=>{const ue=Br(oe.currentStage);W[ue]=(W[ue]||0)+1}),H.map(oe=>({name:Br(oe),value:W[Br(oe)]}))},[g]),At=["#fbbf24","#8b5cf6","#3b82f6","#10b981","#06b6d4","#f59e0b","#ef4444"],je=Array.from({length:7},(W,oe)=>{const ue=new Date;return ue.setDate(ue.getDate()-(6-oe)),ue}).map(W=>{const oe=w.filter(ze=>new Date(ze.createdAt).toDateString()===W.toDateString()).length,ue=g.filter(ze=>new Date(ze.createdAt).toDateString()===W.toDateString()).length;return{date:W.toLocaleDateString("en-US",{weekday:"short"}),tickets:oe,projects:ue}});return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.jsxs("div",{className:"lg:col-span-4 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Analytics Overview"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ticket Status Distribution"}),s.jsx(Rv,{width:"100%",height:250,children:s.jsxs(yye,{children:[s.jsx(qi,{data:Ke,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:Ke.map((H,W)=>s.jsx(Nd,{fill:H.color},`cell-${W}`))}),s.jsx(rn,{}),s.jsx(Ms,{})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Project Stages Summary"}),s.jsx(Rv,{width:"100%",height:400,children:s.jsxs(vye,{data:Mt,margin:{top:20,right:30,left:20,bottom:30},children:[s.jsx(q0,{strokeDasharray:"3 3"}),s.jsx(Ul,{dataKey:"name",angle:-50,textAnchor:"end",height:120,interval:0,tick:{fontSize:16}}),s.jsx(Wl,{}),s.jsx(rn,{}),s.jsx(co,{dataKey:"value",radius:[4,4,0,0],children:Mt.map((H,W)=>s.jsx(Nd,{fill:At[W]},`cell-${W}`))})]})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity (Last 7 Days)"}),s.jsx(Rv,{width:"100%",height:300,children:s.jsxs(xye,{data:je,children:[s.jsx(q0,{strokeDasharray:"3 3"}),s.jsx(Ul,{dataKey:"date"}),s.jsx(Wl,{}),s.jsx(rn,{}),s.jsx(Ms,{}),s.jsx(Fl,{type:"monotone",dataKey:"tickets",stroke:"#ef4444",strokeWidth:2,name:"New Tickets"}),s.jsx(Fl,{type:"monotone",dataKey:"projects",stroke:"#3b82f6",strokeWidth:2,name:"New Projects"})]})})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:u?s.jsxs(s.Fragment,{children:[s.jsx(hf,{}),s.jsx(hf,{}),s.jsx(hf,{}),s.jsx(hf,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{title:"Total Projects",value:I.totalProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(sr,{title:"Active Projects",value:I.activeProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx(sr,{title:"Total Users",value:I.totalUsers,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsx(sr,{title:"Open Tickets",value:I.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(Y,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"}),s.jsx(Y,{to:"/admin/projects",className:"btn-outline hover:border-accent hover:text-accent",children:"Manage Projects"}),s.jsx(Y,{to:"/admin/users",className:"btn-outline hover:border-accent hover:text-accent",children:"Manage Users"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",B.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:H=>i(Number(H.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:H=>o(H.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:s.jsx("input",{type:"checkbox",checked:h.length===$.length&&$.length>0,onChange:H=>ee(H.target.checked),className:"rounded border-accent/30 bg-primary-foreground/20 text-primary focus:ring-accent"})}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Coordinator"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:$.map((H,W)=>{const oe=j.find(ke=>ke.id===H.clientId),ue=j.find(ke=>ke.id===H.webDeveloperId),ze=j.find(ke=>ke.id===H.socialMediaCoordinatorId),rt=z(H.id);return s.jsxs("tr",{className:`${W%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",checked:h.includes(H.id),onChange:ke=>J(H.id,ke.target.checked),className:"rounded border-border focus:ring-primary"})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:R+W+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:H.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:H.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(xr,{status:H.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-accent/10 text-accent border border-accent/20",children:Br(H.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:oe?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:oe.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:oe.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:S===H.id?s.jsxs("select",{value:"",onChange:ke=>Ee(H.id,ke.target.value),onBlur:()=>N(null),className:"w-full px-2 py-1 border border-border rounded bg-background text-foreground text-xs",autoFocus:!0,children:[s.jsx("option",{value:"",children:"Select Developer..."}),j.filter(ke=>ke.role==="web_developer").map(ke=>s.jsx("option",{value:ke.id,children:ke.fullName},ke.id))]}):ue?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:ue.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ue.email})]}):s.jsx("button",{onClick:()=>N(H.id),className:"text-xs text-primary hover:underline italic cursor-pointer",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:T===H.id?s.jsxs("select",{value:"",onChange:ke=>Fe(H.id,ke.target.value),onBlur:()=>O(null),className:"w-full px-2 py-1 border border-border rounded bg-background text-foreground text-xs",autoFocus:!0,children:[s.jsx("option",{value:"",children:"Select Coordinator..."}),j.filter(ke=>ke.role==="social_media_coordinator").map(ke=>s.jsx("option",{value:ke.id,children:ke.fullName},ke.id))]}):ze?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:ze.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:ze.email})]}):s.jsx("button",{onClick:()=>O(H.id),className:"text-xs text-primary hover:underline italic cursor-pointer",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:rt}),s.jsx(Y,{to:`/admin/tickets?project=${H.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Y,{to:`/admin/analytics/${H.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-accent text-accent-foreground rounded text-xs font-medium hover:bg-accent/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{to:`/admin/projects/${H.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>K(H.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},H.id)})},`${n}-${l}`)]},`${n}-${l}`)}),p&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("span",{className:"text-sm font-medium text-red-800",children:[h.length," project",h.length>1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>f([]),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancel"}),s.jsx("button",{onClick:le,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete Selected"})]})]})}),F>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",R+1,"-",Math.min(V,B.length)," of ",B.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(H=>Math.max(1,H-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,F)},(H,W)=>{const oe=Math.max(1,Math.min(F-4,l-2))+W;return oe>F?null:s.jsx("button",{onClick:()=>c(oe),className:`px-3 py-1 text-sm border rounded ${oe===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:oe},oe)})}),s.jsx("button",{onClick:()=>c(H=>Math.min(F,H+1)),disabled:l===F,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),s.jsx(Y,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:C.map(H=>{const W=j.find(oe=>oe.id===H.clientId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:H.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W==null?void 0:W.fullName})]}),s.jsx(xr,{status:H.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",s.jsx("span",{className:"text-foreground",children:Br(H.currentStage)})]}),s.jsx("span",{className:"text-muted-foreground",children:Rn(H.updatedAt)})]})]},H.id)})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),s.jsx(Y,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:M.map(H=>{const W=g.find(oe=>oe.id===H.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:H.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:W==null?void 0:W.name})]}),s.jsx(Ua,{priority:H.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(xr,{status:H.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Rn(H.createdAt)})]})]},H.id)})})]})]})]})}),s.jsx(we,{})]})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...jye,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:W3("lucide",i),...l},[...o.map(([u,d])=>P.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=(t,e)=>{const r=P.forwardRef(({className:n,...i},a)=>P.createElement(Nye,{ref:a,iconNode:e,className:W3(`lucide-${wye(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=kh("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=kh("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=kh("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=kh("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=kh("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function Tye({role:t,className:e=""}){const r=t==="admin";return s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2 shadow-sm ${r?"bg-gradient-to-r from-primary to-primary-dark text-white border-primary/80 shadow-primary/20":IW(t)} ${e}`,children:[r&&s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),PW(t),r&&s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}function Eye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState([]);P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{i(Le())},[]);const a=c=>{r("/admin/users/"+c+"/edit")},o=c=>{l8(c),i(Le())},l=c=>{if(e){if(c===e.id){alert("You cannot delete your own account.");return}window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(g8(c)?i(Le()):alert("Failed to delete user."))}};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",n.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",s.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),s.jsx(Y,{to:"/admin/users/new",className:"btn-primary hover:shadow-accent/20",children:"+ New User"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Role"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Joined"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:n.map((c,u)=>s.jsxs("tr",{className:`${u%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{children:s.jsx("div",{className:"font-semibold text-foreground",children:c.fullName})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Tye,{role:c.role})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:c.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.phone}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Rn(c.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>a(c.id),title:"Edit",children:s.jsx(_ye,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>o(c.id),title:c.isActive?"Deactivate":"Activate",children:c.isActive?s.jsx(Aye,{className:"h-4 w-4"}):s.jsx(kye,{className:"h-4 w-4"})}),c.role!=="admin"&&s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>l(c.id),title:"Delete",children:s.jsx(H3,{className:"h-4 w-4"})})]})})]},c.id))})]})})]})]})}),s.jsx(we,{})]})}function Pye(){const{isSignedIn:t,user:e,updateCurrentUser:r}=pe(),n=ve(),a=Jl().id,o=a?jm(a):null,[l,c]=P.useState(!1),[u,d]=P.useState(!0),[h,f]=P.useState(""),[p,v]=P.useState(o||null),[b,x]=P.useState(()=>o?{fullName:o.fullName,email:o.email,phone:o.phone,role:o.role,isActive:o.isActive,changePassword:!1,newPassword:"",confirmPassword:""}:{fullName:"",email:"",phone:"",role:"client",isActive:!0,changePassword:!1,newPassword:"",confirmPassword:""});if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),P.useEffect(()=>{o?d(!1):n("/admin/users")},[o,n]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(u||!p)return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(we,{})]});const g=async y=>{if(y.preventDefault(),f(""),!b.fullName||!b.email||!b.phone){f("Please fill in all required fields");return}if(b.changePassword){if(!b.newPassword||!b.confirmPassword){f("Please enter and confirm the new password");return}if(b.newPassword!==b.confirmPassword){f("Passwords do not match");return}if(b.newPassword.length<6){f("Password must be at least 6 characters long");return}}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)){f("Please enter a valid email address");return}c(!0);try{o8(a,{email:b.email,fullName:b.fullName,phone:b.phone,role:b.role,isActive:b.isActive,...b.changePassword&&{password:b.newPassword}}),e&&a===e.id&&r({fullName:b.fullName,email:b.email,phone:b.phone,role:b.role}),n("/admin/users")}catch{f("Failed to update user. Please try again."),c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Y,{to:"/admin/users",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Edit User"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Update user information and role assignment"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("form",{onSubmit:g,className:"card",children:[h&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:h}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"fullName",value:b.fullName,onChange:y=>x({...b,fullName:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",value:b.email,onChange:y=>x({...b,email:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:"phone",value:b.phone,onChange:y=>x({...b,phone:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"+27821234567",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:["User Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"role",value:b.role,onChange:y=>x({...b,role:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",required:!0,disabled:p.id===e.id,children:[s.jsx("option",{value:"client",children:"Client - Can view projects and create tickets"}),s.jsx("option",{value:"web_developer",children:"Web Developer - Can manage projects and tickets"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator - Can manage social media and analytics"}),s.jsx("option",{value:"admin",children:"Admin - Full system access"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot change your own role"}),p.id!==e.id&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select the appropriate role based on user responsibilities"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:b.isActive,onChange:y=>x({...b,isActive:y.target.checked}),className:"w-5 h-5 border border-border rounded",disabled:p.id===e.id}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Active User (can sign in to the system)"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot deactivate your own account"})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",checked:b.changePassword,onChange:y=>x({...b,changePassword:y.target.checked}),className:"w-5 h-5 border border-border rounded"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Change Password"})]}),b.changePassword&&s.jsxs("div",{className:"space-y-4 ml-8",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"newPassword",value:b.newPassword,onChange:y=>x({...b,newPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter new password (min. 6 characters)",minLength:6})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"confirmPassword",value:b.confirmPassword,onChange:y=>x({...b,confirmPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Re-enter new password",minLength:6})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-border",children:[s.jsx(Y,{to:"/admin/users",className:"btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Updating User...":"Update User"})]})]})})]})}),s.jsx(we,{})]})}function Iye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(10),[a,o]=P.useState(""),[l,c]=P.useState(1);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=kt(),d=Le(),h=Jt(),f=P.useMemo(()=>u.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase())||w.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),p=Math.ceil(f.length/n),v=(l-1)*n,b=v+n,x=f.slice(v,b);P.useEffect(()=>{c(1)},[a]);const g=w=>h.filter(k=>k.projectId===w).length,y=w=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const j=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(A=>A.id!==w);localStorage.setItem("marketing_management_website_projects",JSON.stringify(j)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),s.jsx(Y,{to:"/admin/projects/new",className:"btn-primary hover:shadow-accent/20",children:"+ New Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",f.length,")"]})}),s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:w=>i(Number(w.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:x.map((w,k)=>{const j=d.find(N=>N.id===w.clientId),A=d.find(N=>N.id===w.webDeveloperId);d.find(N=>N.id===w.socialMediaCoordinatorId);const S=g(w.id);return s.jsxs("tr",{className:`${k%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:v+k+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:w.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(xr,{status:w.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Br(w.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:j.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:j.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:A.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:A.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:S}),s.jsx(Y,{to:`/admin/tickets?project=${w.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Y,{to:`/admin/analytics/${w.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{to:`/admin/projects/${w.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx(Sye,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx(H3,{className:"w-4 h-4"})})]})})]},w.id)})})]})}),p>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",v+1,"-",Math.min(b,f.length)," of ",f.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(w=>Math.max(1,w-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,p)},(w,k)=>{const j=Math.max(1,Math.min(p-4,l-2))+k;return j>p?null:s.jsx("button",{onClick:()=>c(j),className:`px-3 py-1 text-sm border rounded ${j===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:j},j)})}),s.jsx("button",{onClick:()=>c(w=>Math.min(p,w+1)),disabled:l===p,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(we,{})]})}function Cye(){var I;const{isSignedIn:t,user:e}=pe(),r=ve(),[n]=r8(),[i,a]=P.useState(10),[o,l]=P.useState(""),[c,u]=P.useState("all"),[d,h]=P.useState("all"),[f,p]=P.useState(1),[v,b]=P.useState(0);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{const C=()=>b(M=>M+1);return window.addEventListener("messagesUpdated",C),()=>window.removeEventListener("messagesUpdated",C)},[]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const x=Jt(),g=kt(),y=Le();P.useEffect(()=>{},[v]);const w=n.get("project");let k=x;w&&(k=x.filter(C=>C.projectId===w)),k=k.filter(C=>{const M=!o||C.title.toLowerCase().includes(o.toLowerCase())||C.description.toLowerCase().includes(o.toLowerCase())||C.id.toLowerCase().includes(o.toLowerCase()),B=c==="all"||C.status===c,F=d==="all"||C.priority===d;return M&&B&&F});const j=Math.ceil(k.length/i),A=(f-1)*i,S=A+i,N=k.slice(A,S);P.useEffect(()=>{p(1)},[o,c,d]);const T=(C,M)=>{Ni(C,{assignedTo:M||void 0}),b(B=>B+1)},O=(C,M)=>{Ni(C,{status:M}),b(B=>B+1)};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:w?`Tickets for ${((I=g.find(C=>C.id===w))==null?void 0:I.name)||"Project"}`:"All Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:w?"View all tickets for this project":"View and manage all tickets in the system"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),w&&s.jsx(Y,{to:`/admin/projects/${w}`,className:"btn-outline hover:border-accent hover:text-accent",children:"View Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Tickets (",k.length,")"]})}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority:"}),s.jsxs("select",{value:d,onChange:C=>h(C.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs("select",{value:i,onChange:C=>a(Number(C.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:o,onChange:C=>l(C.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search tickets..."})]})]}),(c!=="all"||d!=="all"||o)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Status: ",c.replace("_"," "),s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Priority: ",d,s.jsx("button",{onClick:()=>h("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),o&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:['Search: "',o,'"',s.jsx("button",{onClick:()=>l(""),className:"ml-1 hover:text-primary-dark",children:""})]}),s.jsx("button",{onClick:()=>{u("all"),h("all"),l("")},className:"text-primary hover:text-primary-dark text-xs underline",children:"Clear all"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Title"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Assigned To"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Created"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsxs("tbody",{children:[N.map((C,M)=>{const B=g.find(F=>F.id===C.projectId);return s.jsxs("tr",{className:`${M%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:A+M+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:C.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:C.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:B?s.jsx("div",{className:"font-medium text-foreground",children:B.name}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Unknown Project"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Ua,{priority:C.priority})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(xr,{status:C.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:C.type.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:C.assignedTo||"",onChange:F=>T(C.id,F.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground min-w-[120px]",children:[s.jsx("option",{value:"",children:"Not assigned"}),y.filter(F=>F.role==="web_developer"||F.role==="social_media_coordinator").map(F=>s.jsx("option",{value:F.id,children:F.fullName},F.id))]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:Rn(C.createdAt)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:C.status,onChange:F=>O(C.id,F.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})})]},C.id)}),!N.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})]})]})}),j>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A+1,"-",Math.min(S,k.length)," of ",k.length," tickets"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(C=>Math.max(1,C-1)),disabled:f===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,j)},(C,M)=>{const B=Math.max(1,Math.min(j-4,f-2))+M;return B>j?null:s.jsx("button",{onClick:()=>p(B),className:`px-3 py-1 text-sm border rounded ${B===f?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:B},B)})}),s.jsx("button",{onClick:()=>p(C=>Math.min(j,C+1)),disabled:f===j,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(we,{})]})}function Oye(){const{user:t,isSignedIn:e}=pe(),r=ve();return P.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/tickets");break;case"web_developer":r("/developer/tickets");break;case"social_media_coordinator":r("/coordinator/tickets");break;case"client":r("/client/tickets");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Mye(){const{user:t,isSignedIn:e}=pe(),r=ve();return P.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/analytics");break;case"web_developer":r("/developer/analytics");break;case"social_media_coordinator":r("/coordinator/analytics");break;case"client":r("/client/analytics");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Dye(){const{isSignedIn:t,user:e}=pe(),r=ve(),i=Jl().id,[a,o]=P.useState(null),[l,c]=P.useState([]),[u,d]=P.useState({name:"",description:"",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",notes:""});P.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const x=Ja(i);if(!x){r("/admin/dashboard");return}o(x),d(y=>{const w={name:x.name,description:x.description,websiteUrl:x.websiteUrl||"",googleAnalyticsPropertyId:x.googleAnalyticsPropertyId||"",googleAnalyticsViewId:x.googleAnalyticsViewId||"",clientId:x.clientId,webDeveloperId:x.webDeveloperId||"",socialMediaCoordinatorId:x.socialMediaCoordinatorId||"",currentStage:x.currentStage,status:x.status,notes:x.notes||""};return JSON.stringify(y)!==JSON.stringify(w)?w:y});const g=Le();c(g)},[t,e,i,r]);const h=x=>{x.preventDefault();const g=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]"),y=g.findIndex(w=>w.id===i);y!==-1&&(g[y]={...g[y],...u,webDeveloperId:u.webDeveloperId||void 0,socialMediaCoordinatorId:u.socialMediaCoordinatorId||void 0,updatedAt:new Date},localStorage.setItem("marketing_management_website_projects",JSON.stringify(g)),alert("Project updated successfully!"),r("/admin/dashboard"))},f=x=>{const{name:g,value:y}=x.target;d(w=>({...w,[g]:y}))};if(!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const p=l.filter(x=>x.role==="client"),v=l.filter(x=>x.role==="web_developer"),b=l.filter(x=>x.role==="social_media_coordinator");return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project details and assignments"})]}),s.jsx("form",{onSubmit:h,className:"card",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:u.description,onChange:f,required:!0,rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",name:"websiteUrl",value:u.websiteUrl,onChange:f,placeholder:"https://example.com",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team Assignment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"clientId",value:u.clientId,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a client"}),p.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{name:"webDeveloperId",value:u.webDeveloperId,onChange:f,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),v.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Developer will see this project in their dashboard and can work on tickets"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Social Media Coordinator"}),s.jsxs("select",{name:"socialMediaCoordinatorId",value:u.socialMediaCoordinatorId,onChange:f,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),b.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Current Stage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"currentStage",value:u.currentStage,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"seo_optimization",children:"SEO Optimisation"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"GA4 Property ID"}),s.jsx("input",{type:"text",name:"googleAnalyticsPropertyId",value:u.googleAnalyticsPropertyId,onChange:f,placeholder:"G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"View ID (Legacy)"}),s.jsx("input",{type:"text",name:"googleAnalyticsViewId",value:u.googleAnalyticsViewId,onChange:f,placeholder:"123456789",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:u.notes,onChange:f,rows:4,placeholder:"Add any additional notes about this project...",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"submit",className:"px-6 py-3 bg-accent text-accent-foreground rounded-lg font-semibold hover:bg-accent/80 hover:shadow-accent/20 transition",children:"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-accent/10 hover:border-accent hover:text-accent transition",children:"Cancel"})]})]})})]})})}),s.jsx(we,{})]})}function Rye(){const{isSignedIn:t,user:e}=pe(),r=ve(),i=Jl().id,[a,o]=P.useState(null);if(P.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const c=Ja(i);if(!c){r("/admin/dashboard");return}o(c)},[t,e,i,r]),!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l={pageViews:88645,uniqueVisitors:37892,bounceRate:42.3,avgSessionDuration:"3:24",topPages:[{page:"index/",views:88645},{page:"/learnershipApplication",views:3214},{page:"/services SETA Qualication",views:2890},{page:"/Skills programme",views:405}],trafficSources:[{source:"Organic Search",sessions:5234,percentage:45.2},{source:"Direct",sessions:3121,percentage:27},{source:"Social Media",sessions:1890,percentage:16.3},{source:"Referral",sessions:1456,percentage:12.6}]};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics for ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:"Google Analytics data and insights"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{to:`/admin/projects/${i}`,className:"btn-outline hover:border-accent hover:text-accent",children:"View Project"}),s.jsx(Y,{to:`/admin/projects/${i}/edit`,className:"btn-primary hover:shadow-accent/20",children:"Edit Project"})]})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsPropertyId||"Not configured"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID (Legacy)"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsViewId||"Not configured"})]})]}),a.websiteUrl&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.websiteUrl})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.pageViews.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Page Views"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.uniqueVisitors.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[l.bounceRate,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce Rate"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.avgSessionDuration}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Top Pages"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Page"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Page Views"})]})}),s.jsx("tbody",{children:l.topPages.map((c,u)=>s.jsxs("tr",{className:u%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:c.page}),s.jsx("td",{className:"px-4 py-3",children:c.views.toLocaleString()})]},u))})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Traffic Sources"}),s.jsx("div",{className:"space-y-4",children:l.trafficSources.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:c.source}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.sessions.toLocaleString()," sessions"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-lg font-bold text-primary",children:[c.percentage,"%"]})})]},u))})]})]})}),s.jsx(we,{})]})}function Lye(){const{user:t}=pe(),[e,r]=P.useState(()=>localStorage.getItem("useMockAuth")!=="false"),n=()=>{const i=!e;r(i),localStorage.setItem("useMockAuth",i.toString()),alert(`Authentication mode changed to ${i?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Current Authentication Status"}),s.jsxs("p",{className:"text-primary/80 mb-4",children:[s.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",s.jsx("br",{}),s.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:n,className:"btn-primary hover:shadow-accent/20",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),s.jsx("span",{className:"text-sm text-primary",children:" Requires page refresh to take effect"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),s.jsx("li",{children:"Data persists in browser localStorage"}),s.jsx("li",{children:"No Firebase setup required"}),s.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Works offline"}),s.jsx("li",{children:"Fast development setup"}),s.jsx("li",{children:"No external dependencies"}),s.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),s.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Create a Firebase project at ",s.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),s.jsx("li",{children:"Enable Authentication and Firestore Database"}),s.jsxs("li",{children:["Copy your Firebase config to ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),s.jsxs("li",{children:["In ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),s.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),s.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),s.jsxs("div",{className:"bg-secondary/10 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:" Switching to Firebase:"}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",s.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),s.jsx("p",{className:"text-sm text-primary/80",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Secure user authentication"}),s.jsx("li",{children:"Real-time data synchronization"}),s.jsx("li",{children:"Scalable database solution"}),s.jsx("li",{children:"User management dashboard"})]})]})]})]}),s.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),s.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),s.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(Y,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),s.jsx(Y,{to:"/login",className:"btn-outline",children:"Test Login"}),s.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),s.jsx(we,{})]})}function $ye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[a,o]=P.useState(!1);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=async c=>{c.preventDefault(),o(!0);try{const u={id:`user-${Date.now()}`,...n,createdAt:new Date,updatedAt:new Date};u8(u),alert(`User "${n.fullName}" created successfully!`),r("/admin/users")}catch(u){console.error("Error creating user:",u),alert("Failed to create user. Please try again.")}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),s.jsxs(Y,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2 hover:border-accent hover:text-accent",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),s.jsxs("form",{onSubmit:l,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"fullName",required:!0,value:n.fullName,onChange:c=>i({...n,fullName:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",required:!0,value:n.email,onChange:c=>i({...n,email:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",id:"phone",required:!0,value:n.phone,onChange:c=>i({...n,phone:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),s.jsxs("select",{id:"role",required:!0,value:n.role,onChange:c=>i({...n,role:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"web_developer",children:"Web Developer"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),s.jsx("input",{type:"password",id:"password",required:!0,value:n.password,onChange:c=>i({...n,password:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:c=>i({...n,isActive:c.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:a?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"btn-outline flex-1 hover:border-accent hover:text-accent",disabled:a,children:"Cancel"})]})]})]})}),s.jsx(we,{})]})}function Vye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(0),[a,o]=P.useState(null);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{const v=()=>i(b=>b+1);return window.addEventListener("ticketsUpdated",v),()=>window.removeEventListener("ticketsUpdated",v)},[]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});P.useEffect(()=>{},[n]);const l=xn(e.id,e.role),c=ec(e.id,e.role),u={assignedProjects:l.length,openTickets:c.filter(v=>v.status==="open").length,inProgressTickets:c.filter(v=>v.status==="in_progress").length,resolvedTickets:c.filter(v=>v.status==="resolved").length},d=l.slice(0,3),h=c.slice(0,5),f=async(v,b)=>{o(v);try{Ni(v,{status:b}),i(x=>x+1)}catch(x){console.error("Failed to update ticket status:",x)}finally{o(null)}},p=async v=>{o(v);try{Ni(v,{status:"resolved"}),rb(v,e.id),i(b=>b+1)}catch(b){console.error("Failed to notify admins of resolution:",b)}finally{o(null)}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(sr,{title:"Assigned Projects",value:u.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(sr,{title:"Open Tickets",value:u.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(sr,{title:"In Progress",value:u.inProgressTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(sr,{title:"Resolved",value:u.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(Y,{to:"/developer/tickets",className:"btn-primary hover:shadow-accent/20",children:"View Tickets"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"})}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(v=>{const b=dg(v.id).filter(x=>x.assignedTo===e.id);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:v.description})]}),s.jsx(xr,{status:v.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary/10 text-primary text-xs font-medium",children:Br(v.currentStage)}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",Rn(v.updatedAt)]})]}),b.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"My Tickets:"}),s.jsxs("div",{className:"space-y-2",children:[b.slice(0,2).map(x=>s.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:x.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(xr,{status:x.status}),s.jsx(Ua,{priority:x.priority})]})]}),s.jsxs("div",{className:"flex gap-2 ml-2",children:[x.status==="open"&&s.jsx("button",{onClick:()=>f(x.id,"in_progress"),disabled:a===x.id,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:a===x.id?"...":"Start"}),x.status==="in_progress"&&s.jsx("button",{onClick:()=>p(x.id),disabled:a===x.id,className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:a===x.id?"...":"Update"}),x.status==="resolved"&&s.jsx("button",{onClick:()=>f(x.id,"resolved"),disabled:a===x.id,className:"px-2 py-1 text-xs bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50",children:a===x.id?"...":"Update"})]})]},x.id)),b.length>2&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",b.length-2," more tickets"]})]})]})]},v.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"})}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(v=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:DW(v.type)})]}),s.jsx(Ua,{priority:v.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(xr,{status:v.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Rn(v.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[v.status!=="closed"&&s.jsxs(s.Fragment,{children:[v.status==="open"&&s.jsx("button",{onClick:()=>f(v.id,"in_progress"),disabled:a===v.id,className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:a===v.id?"Updating...":"Start Working"}),v.status==="in_progress"&&s.jsx("button",{onClick:()=>p(v.id),disabled:a===v.id,className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:a===v.id?"Notifying...":"Update - I have resolved this ticket"}),v.status==="resolved"&&s.jsx("button",{onClick:()=>f(v.id,"resolved"),disabled:a===v.id,className:"px-3 py-1 text-xs bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50",children:a===v.id?"Updating...":"Update"})]}),s.jsx(Y,{to:"/developer/tickets",className:"px-3 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600",children:"View Details"})]})]},v.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),s.jsx(we,{})]})}function Fye(){const{isSignedIn:t,user:e}=pe(),r=ve();if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const[n,i]=P.useState("all"),[a,o]=P.useState(""),[l,c]=P.useState([]),[u,d]=P.useState(0),h=()=>{if(e){const g=ec(e.id,e.role);c(g)}};P.useEffect(()=>{h()},[e,u]);const f=l,p=f.filter(g=>n==="all"||g.status===n).filter(g=>!a||g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())||g.id.toLowerCase().includes(a.toLowerCase())),v=(g,y)=>{y==="resolved"?(Ni(g,{status:"resolved"}),rb(g,e.id)):Ni(g,{status:y}),d(w=>w+1)},b={totalAssigned:f.length,critical:f.filter(g=>g.priority==="critical"&&g.status!=="resolved"&&g.status!=="closed").length,overSevenDays:f.filter(g=>Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/864e5)>7&&g.status!=="resolved"&&g.status!=="closed").length},x=g=>Math.floor((new Date().getTime()-new Date(g).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:b.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:b.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:b.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex gap-4 flex-wrap items-center justify-between",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"}),s.jsx("button",{onClick:()=>i("closed"),className:`px-4 py-2 rounded-md font-medium transition ${n==="closed"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Closed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(g=>{const y=Ja(g.projectId),w=x(g.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(Y,{to:`/projects/${g.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(y==null?void 0:y.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[g.status==="closed"?s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Closed"}):s.jsxs("select",{value:g.status,onChange:k=>v(g.id,k.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"})]}),g.status==="resolved"&&s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx("textarea",{placeholder:g.resolutionNotes||"Add resolution notes...",defaultValue:g.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:k=>{const j=k.target.value.trim();j&&j!==g.resolutionNotes&&(Ni(g.id,{resolutionNotes:j}),d(A=>A+1))}}),s.jsx("button",{onClick:()=>{console.log("Send button clicked for ticket",g.id),rb(g.id,e.id)},className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 whitespace-nowrap cursor-pointer",title:"Send resolution notification to admin",children:"Send"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),g.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),g.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),g.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:w})})]},g.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(we,{})]})}function Bye(){const{isSignedIn:t,user:e}=pe(),r=ve();if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=xn(e.id,e.role),i=Qa(),a=n.map(p=>p.id),o=i.filter(p=>a.includes(p.projectId)),l=o.reduce((p,v)=>p+v.reach,0),c=o.reduce((p,v)=>p+v.engagement,0),u=o.reduce((p,v)=>p+v.posts,0),d={assignedProjects:n.length,totalReach:l,totalEngagement:c,totalPosts:u},h=n.slice(0,3),f=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(sr,{title:"Assigned Projects",value:d.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(sr,{title:"Total Reach",value:pu(d.totalReach),icon:s.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),s.jsx(sr,{title:"Total Engagement",value:pu(d.totalEngagement),icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx(sr,{title:"Total Posts",value:d.totalPosts,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(Y,{to:"/coordinator/analytics/new",className:"btn-outline hover:border-accent hover:text-accent",children:"+ Add Analytics Entry"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(Y,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(p=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),p.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),p.projectType==="website"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:"Website"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:p.description})]}),s.jsx(xr,{status:p.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:Br(p.currentStage)}),p.projectType==="social_media"&&p.socialMediaPlatforms&&s.jsxs("div",{className:"flex gap-1",children:[p.socialMediaPlatforms.slice(0,3).map(v=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:v},v)),p.socialMediaPlatforms.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",p.socialMediaPlatforms.length-3]})]})]})]},p.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),s.jsx(Y,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(p=>{const v=n.find(b=>b.id===p.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground capitalize",children:p.platform}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v==null?void 0:v.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:eM(p.date)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-semibold text-foreground",children:pu(p.reach)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-semibold text-foreground",children:pu(p.engagement)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-semibold text-foreground",children:p.posts})]})]})]},p.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No analytics entries yet."}),s.jsx(Y,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),s.jsx(we,{})]})}function Uye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState({});if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{if(e){const c=xn(e.id,e.role);i(c);const u=Qa(),d={};c.forEach(h=>{const f=u.filter(p=>p.projectId===h.id);d[h.id]=f}),o(d)}},[e]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=c=>{const u=a[c]||[],d=u.reduce((p,v)=>p+v.reach,0),h=u.reduce((p,v)=>p+v.engagement,0),f=u.reduce((p,v)=>p+v.posts,0);return{totalReach:d,totalEngagement:h,totalPosts:f,entryCount:u.length}};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your assigned social media projects"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(c=>{const u=l(c.id);return s.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:c.name}),c.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:c.description})]}),s.jsx(xr,{status:c.status})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Stage:"}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:Br(c.currentStage)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Analytics Entries:"}),s.jsx("span",{className:"font-medium",children:u.entryCount})]}),u.entryCount>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Reach:"}),s.jsx("span",{className:"font-medium",children:u.totalReach.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Engagement:"}),s.jsx("span",{className:"font-medium",children:u.totalEngagement.toLocaleString()})]})]})]}),c.socialMediaPlatforms&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Platforms:"}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[c.socialMediaPlatforms.slice(0,4).map(d=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:d},d)),c.socialMediaPlatforms.length>4&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",c.socialMediaPlatforms.length-4]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{to:`/analytics/${c.id}`,className:"flex-1 btn-outline text-sm text-center",children:"View Analytics"}),s.jsx(Y,{to:"/coordinator/analytics/new",className:"btn-primary text-sm text-center px-4 py-2",children:"+ Add Entry"})]})]})},c.id)})}),n.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No projects assigned yet."})})]})}),s.jsx(we,{})]})}function zye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState("all"),[a,o]=P.useState(""),[l,c]=P.useState([]),[u,d]=P.useState(0);P.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]);const h=()=>{if(e){const g=ec(e.id,e.role);c(g)}};if(P.useEffect(()=>{h()},[e,u]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=l,p=f.filter(g=>n==="all"||g.status===n).filter(g=>!a||g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())||g.id.toLowerCase().includes(a.toLowerCase())),v=(g,y)=>{Ni(g,{status:y}),d(w=>w+1)},b={totalAssigned:f.length,critical:f.filter(g=>g.priority==="critical"&&g.status!=="resolved"&&g.status!=="closed").length,overSevenDays:f.filter(g=>Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/864e5)>7&&g.status!=="resolved"&&g.status!=="closed").length},x=g=>Math.floor((new Date().getTime()-new Date(g).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets from Social Media Coordinator"}),s.jsx("div",{className:"mt-4",children:s.jsx(Y,{to:"/coordinator/dashboard",className:"btn-outline",children:" Back to Dashboard"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:b.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:b.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:b.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-foreground whitespace-nowrap",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary flex-1",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(g=>{const y=Ja(g.projectId),w=x(g.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(Y,{to:`/projects/${g.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(y==null?void 0:y.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("select",{value:g.status,onChange:k=>v(g.id,k.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]}),g.status==="resolved"&&s.jsx("textarea",{placeholder:g.resolutionNotes||"Add resolution notes...",defaultValue:g.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:k=>{const j=k.target.value.trim();j&&j!==g.resolutionNotes&&(Ni(g.id,{resolutionNotes:j}),d(A=>A+1))}})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),g.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),g.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),g.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:w})})]},g.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(we,{})]})}function Wye(){const{user:t}=pe(),e=ve(),[r,n]=P.useState({projectId:"",platform:"instagram",date:new Date().toISOString().split("T")[0],reach:"",engagement:"",posts:"",notes:""}),[i,a]=P.useState(!1);if(!t||t.role!=="social_media_coordinator")return null;const l=xn(t.id,t.role).filter(d=>d.projectType==="social_media"),c=async d=>{if(d.preventDefault(),!r.projectId||!r.reach||!r.engagement||!r.posts){alert("Please fill in all required fields");return}a(!0);try{const h={id:`analytics-${Date.now()}`,projectId:r.projectId,platform:r.platform,date:new Date(r.date),reach:parseInt(r.reach),engagement:parseInt(r.engagement),posts:parseInt(r.posts),recordedBy:t.id,notes:r.notes||void 0,createdAt:new Date};d8(h),e("/coordinator/dashboard")}catch(h){console.error("Error adding analytics entry:",h),alert("Failed to add analytics entry")}finally{a(!1)}},u=d=>{const{name:h,value:f}=d.target;n(p=>({...p,[h]:f}))};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>e("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Add New Analytics Entry"}),s.jsx("p",{className:"text-muted-foreground",children:"Record your social media performance metrics"})]}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",role:"form","aria-labelledby":"form-title",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project *"}),s.jsxs("select",{name:"projectId",value:r.projectId,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a project"}),l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platform *"}),s.jsxs("select",{name:"platform",value:r.platform,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"instagram",children:"Instagram"}),s.jsx("option",{value:"facebook",children:"Facebook"}),s.jsx("option",{value:"twitter",children:"Twitter"}),s.jsx("option",{value:"linkedin",children:"LinkedIn"}),s.jsx("option",{value:"tiktok",children:"TikTok"}),s.jsx("option",{value:"youtube",children:"YouTube"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Date *"}),s.jsx("input",{type:"date",name:"date",value:r.date,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Reach *"}),s.jsx("input",{type:"number",name:"reach",value:r.reach,onChange:u,placeholder:"e.g., 15000",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Engagement *"}),s.jsx("input",{type:"number",name:"engagement",value:r.engagement,onChange:u,placeholder:"e.g., 850",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Posts *"}),s.jsx("input",{type:"number",name:"posts",value:r.posts,onChange:u,placeholder:"e.g., 5",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:r.notes,onChange:u,placeholder:"Additional notes or observations...",rows:4,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"button",onClick:()=>e("/coordinator/dashboard"),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50",children:i?"Adding...":"Add Entry"})]})]})})]})})}),s.jsx(we,{})]})}function Wp({fullName:t,profileImage:e,size:r="md",className:n=""}){const i={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return s.jsx("div",{className:`${i[r]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${n}`,title:t,children:e?s.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):RW(t)})}function Hye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(0);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{const h=()=>i(p=>p+1),f=()=>i(p=>p+1);return window.addEventListener("ticketsUpdated",h),window.addEventListener("messagesUpdated",f),()=>{window.removeEventListener("ticketsUpdated",h),window.removeEventListener("messagesUpdated",f)}},[]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});P.useEffect(()=>{},[n]);const a=xn(e.id,e.role),o=ec(e.id,e.role),l=Le(),c={myProjects:a.length,activeTickets:o.filter(h=>h.status==="open"||h.status==="in_progress").length,resolvedTickets:o.filter(h=>h.status==="resolved").length,closedTickets:o.filter(h=>h.status==="closed").length,inProgressProjects:a.filter(h=>h.status==="active").length},u=a.slice(0,3),d=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx(sr,{title:"My Projects",value:c.myProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(sr,{title:"In Progress",value:c.inProgressProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(sr,{title:"Active Tickets",value:c.activeTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),s.jsx(sr,{title:"Resolved",value:c.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(sr,{title:"Closed",value:c.closedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(Y,{to:"/client/tickets/new",className:"btn-primary hover:shadow-accent/20",children:"+ Create New Ticket"}),s.jsx(Y,{to:"/client/projects",className:"btn-outline hover:border-accent hover:text-accent",children:"View All Projects"}),s.jsx(Y,{to:"/client/tickets",className:"btn-outline hover:border-accent hover:text-accent",children:"View All Tickets"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(Y,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),u.length>0?s.jsx("div",{className:"space-y-4",children:u.map(h=>{const f=l.find(g=>g.id===h.webDeveloperId),p=l.find(g=>g.id===h.socialMediaCoordinatorId),v=rM(h.currentStage),b=dg(h.id).filter(g=>g.createdBy===e.id),x={open:b.filter(g=>g.status==="open").length,inProgress:b.filter(g=>g.status==="in_progress").length,resolved:b.filter(g=>g.status==="resolved").length,closed:b.filter(g=>g.status==="closed").length};return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:h.description})]}),s.jsx(xr,{status:h.status})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[v.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${v}%`}})})]}),b.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Ticket Status:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[x.open>0&&s.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-center",children:[x.open," Open"]}),x.inProgress>0&&s.jsxs("div",{className:"bg-yellow-50 text-yellow-700 px-2 py-1 rounded text-center",children:[x.inProgress," In Progress"]}),x.resolved>0&&s.jsxs("div",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-center",children:[x.resolved," Resolved"]}),x.closed>0&&s.jsxs("div",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded text-center",children:[x.closed," Closed"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:Br(h.currentStage)}),s.jsxs("div",{className:"flex items-center gap-1",children:[f&&s.jsx(Wp,{fullName:f.fullName,size:"sm"}),p&&s.jsx(Wp,{fullName:p.fullName,size:"sm"})]})]})]},h.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),s.jsx(Y,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(h=>{const f=l.find(p=>p.id===h.assignedTo);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.title}),f&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",f.fullName]})]}),s.jsx(Ua,{priority:h.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(xr,{status:h.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Rn(h.createdAt)})]})]},h.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No tickets yet."}),s.jsx(Y,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),s.jsx(we,{})]})}function qye(){const{isSignedIn:t,user:e}=pe(),r=ve();if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=xn(e.id,e.role),i=Le();return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),s.jsx(Y,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(a=>{const o=i.find(u=>u.id===a.webDeveloperId),l=i.find(u=>u.id===a.socialMediaCoordinatorId),c=rM(a.currentStage);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.name}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description})]}),s.jsx(xr,{status:a.status})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[c.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${c}%`}})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary",children:Br(a.currentStage)})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wp,{fullName:o.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wp,{fullName:l.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Y,{to:`/client/tickets/new?project=${a.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),s.jsx("button",{className:"btn-outline flex-1",children:"View Details"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Rn(a.updatedAt)]})})]},a.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),s.jsx(we,{})]})}function Gye(){const{isSignedIn:t,user:e}=pe(),r=ve();if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ec(e.id,e.role),i=kt(),a=Le();return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Y,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),s.jsx(Y,{to:"/client/tickets/new",className:"btn-primary hover:shadow-accent/20",children:"+ Create New Ticket"})]})]})}),s.jsx("div",{className:"space-y-4",children:n.length>0?n.map(o=>{const l=i.find(u=>u.id===o.projectId),c=a.find(u=>u.id===o.assignedTo);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:o.title}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:o.description}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",s.jsx("span",{className:"font-medium",children:l.name})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(xr,{status:o.status}),s.jsx(Ua,{priority:o.priority})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Type: ",o.type.replace("_"," ")]}),c&&s.jsxs("span",{children:["Assigned to: ",c.fullName]}),s.jsx("span",{children:Rn(o.createdAt)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),s.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},o.id)}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),s.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),s.jsx(Y,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),s.jsx(we,{})]})}function Kye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(""),[a,o]=P.useState(""),[l,c]=P.useState("medium"),[u,d]=P.useState("feature_request"),[h,f]=P.useState(""),[p,v]=P.useState(!1);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login");const y=new URLSearchParams(window.location.search).get("project");y&&f(y)},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const b=xn(e.id,e.role);Le();const x=async g=>{g.preventDefault(),v(!0);const y={id:`ticket-${Date.now()}`,projectId:h,createdBy:e.id,title:n,description:a,type:u,priority:l,status:"open",createdAt:new Date,updatedAt:new Date};c8(y),i(""),o(""),c("medium"),d("feature_request"),f(""),v(!1),r("/client/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),s.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),s.jsx(Y,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),s.jsxs("select",{value:h,onChange:g=>f(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[s.jsx("option",{value:"",children:"Choose a project..."}),b.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),s.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"content_change",children:"Content Change"}),s.jsx("option",{value:"design_update",children:"Design Update"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),s.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{value:a,onChange:g=>o(g.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:p||!h,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:p?"Creating...":"Create Ticket"}),s.jsx(Y,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:"Cancel"})]})]})}),s.jsxs("div",{className:"mt-8 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2",children:" Ticket Guidelines"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsx("li",{children:" Be specific about what you need"}),s.jsx("li",{children:" Include any relevant details or examples"}),s.jsx("li",{children:" Choose the appropriate priority level"}),s.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),s.jsx(we,{})]})}function Yye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState(""),[a,o]=P.useState({tickets:[],projects:[],users:[],messages:[]}),[l,c]=P.useState(!1),[u,d]=P.useState({projects:!0,tickets:!0,users:!0,messages:!0});if(P.useEffect(()=>{t||r("/login")},[t,r]),P.useEffect(()=>{if(!n.trim()){o({tickets:[],projects:[],users:[],messages:[]});return}c(!0);const f=n.toLowerCase(),p=u.tickets?Jt().filter(g=>g.title.toLowerCase().includes(f)||g.description.toLowerCase().includes(f)||g.id.toLowerCase().includes(f)||g.type.replace("_"," ").toLowerCase().includes(f)):[],v=u.projects?kt().filter(g=>g.name.toLowerCase().includes(f)||g.description.toLowerCase().includes(f)||g.id.toLowerCase().includes(f)):[],b=u.users?Le().filter(g=>g.fullName.toLowerCase().includes(f)||g.email.toLowerCase().includes(f)||g.role.toLowerCase().includes(f)):[],x=u.messages?sh().filter(g=>g.subject&&g.subject.toLowerCase().includes(f)||g.content&&g.content.toLowerCase().includes(f)):[];o({tickets:p,projects:v,users:b,messages:x}),c(!1)},[n,u]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=a.tickets.length+a.projects.length+a.users.length+a.messages.length;return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:e.role==="admin"?"/admin/dashboard":e.role==="web_developer"?"/developer/dashboard":e.role==="social_media_coordinator"?"/coordinator/dashboard":"/client-portal/dashboard",className:"btn-outline text-sm hover:border-accent hover:text-accent",children:" Back to Dashboard"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Global Search"}),s.jsx("p",{className:"text-muted-foreground",children:"Find anything across your entire workspace - projects, tickets, users, and messages"})]})]}),s.jsx("div",{className:"card mb-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"Search for projects, tickets, users, messages...",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Search in:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(u).map(([f,p])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:v=>d(b=>({...b,[f]:v.target.checked})),className:"rounded border-border"}),s.jsx("span",{className:"text-sm text-foreground capitalize",children:f})]},f))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/70 transition text-sm",disabled:!n,children:"Clear Search"})})]})}),n&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center",children:l?s.jsx("p",{className:"text-muted-foreground",children:"Searching..."}):s.jsxs("p",{className:"text-muted-foreground",children:["Found ",h," result",h!==1?"s":"",' for "',n,'"']})}),a.tickets.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Tickets (",a.tickets.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.tickets.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:f.type.replace("_"," ")}),s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded",children:f.status.replace("_"," ")})]})]}),s.jsx(Y,{to:"/admin/tickets",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.projects.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Projects (",a.projects.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.projects.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:f.status})})]}),s.jsx(Y,{to:`/admin/projects/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.users.length>0&&e.role==="admin"&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Users (",a.users.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.users.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.email}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:f.role})})]}),e.role==="admin"&&s.jsx(Y,{to:`/admin/users/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.messages.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Messages (",a.messages.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.messages.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.subject||"No Subject"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:f.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Message"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString()})]})]}),s.jsx(Y,{to:"/messages",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),h===0&&!l&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-6xl",children:""})}),s.jsx("p",{className:"text-xl font-medium text-muted-foreground mb-2",children:"0 results found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try different keywords or check your spelling"}),s.jsxs("div",{className:"card max-w-2xl mx-auto text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" Search Tips"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"What you can search:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Project names and descriptions"}),s.jsx("li",{children:" Ticket titles and content"}),s.jsx("li",{children:" User names and roles"}),s.jsx("li",{children:" Message subjects and content"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Advanced features:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Filter by content type"}),s.jsx("li",{children:" Relevance-based ranking"}),s.jsx("li",{children:" Real-time search results"}),s.jsx("li",{children:" Direct navigation to results"})]})]})]})]})]})]})]})}),s.jsx(we,{})]})}const Xye=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function Qye(){const{isSignedIn:t,user:e,switchRole:r}=pe(),n=ve();if(P.useEffect(()=>{t||n("/login")},[t,n]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=a=>{r(a),setTimeout(()=>{n(a==="admin"?"/admin/dashboard":"/dashboard")},300)};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",s.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:e.role.replace("_"," ").toUpperCase()})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Xye.map(a=>{const o=e.role===a.value;return s.jsxs("button",{onClick:()=>!o&&i(a.value),disabled:o,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${o?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[o&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),s.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-white/20":"bg-primary/10"}`,children:[a.value==="admin"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-primary"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.value==="web_developer"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),a.value==="social_media_coordinator"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),a.value==="client"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),s.jsx("h2",{className:`text-2xl font-bold mb-3 ${o?"text-white":"text-[#1e2875]"}`,children:a.label}),s.jsx("p",{className:`text-sm leading-relaxed ${o?"text-white/90":"text-muted-foreground"}`,children:a.description}),!o&&s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[s.jsx("span",{children:"Click to switch"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},a.value)})}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-accent text-accent-foreground shadow-md hover:shadow-accent/20 transition font-semibold",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),s.jsx(we,{})]})}function Jye(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState("website"),[a,o]=P.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",notes:"",campaignGoals:"",targetAudience:""}),[l,c]=P.useState([]);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=Le(),d=u.filter(x=>x.role==="client"),h=u.filter(x=>x.role==="web_developer"),f=u.filter(x=>x.role==="social_media_coordinator"),p=["facebook","instagram","twitter","linkedin","tiktok","youtube"],v=x=>{c(g=>g.includes(x)?g.filter(y=>y!==x):[...g,x])},b=x=>{x.preventDefault();const g={id:`proj-${Date.now()}`,...a,projectType:n,socialMediaPlatforms:n==="social_media"?l:void 0,createdAt:new Date,updatedAt:new Date},w=[...kt(),g];localStorage.setItem(ct.PROJECTS,JSON.stringify(w)),window.dispatchEvent(new Event("projectsUpdated")),alert(`${n==="website"?"Website":"Social Media"} project "${a.name}" created successfully!`),r("/admin/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),s.jsxs(Y,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2 hover:border-accent hover:text-accent",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{type:"button",onClick:()=>i("website"),className:`p-6 border-2 rounded-lg transition ${n==="website"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),s.jsx("button",{type:"button",onClick:()=>i("social_media"),className:`p-6 border-2 rounded-lg transition ${n==="social_media"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),s.jsxs("form",{onSubmit:b,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),s.jsx("input",{type:"text",id:"name",required:!0,value:a.name,onChange:x=>o({...a,name:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",required:!0,value:a.description,onChange:x=>o({...a,description:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),s.jsxs("select",{id:"clientId",required:!0,value:a.clientId,onChange:x=>o({...a,clientId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a client"}),d.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),s.jsxs("select",{id:"currentStage",required:!0,value:a.currentStage,onChange:x=>o({...a,currentStage:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"seo_optimization",children:"SEO Optimisation"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),n==="website"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{id:"webDeveloperId",value:a.webDeveloperId,onChange:x=>o({...a,webDeveloperId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a developer (optional)"}),h.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",n==="social_media"&&"*"]}),s.jsxs("select",{id:"socialMediaCoordinatorId",required:n==="social_media",value:a.socialMediaCoordinatorId,onChange:x=>o({...a,socialMediaCoordinatorId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsxs("option",{value:"",children:["Select a coordinator ",n==="website"&&"(optional)"]}),f.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]})]}),n==="website"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",id:"websiteUrl",value:a.websiteUrl,onChange:x=>o({...a,websiteUrl:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsPropertyId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics Property ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsPropertyId",value:a.googleAnalyticsPropertyId,onChange:x=>o({...a,googleAnalyticsPropertyId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"G-XXXXXXXXXX"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsViewId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics View ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsViewId",value:a.googleAnalyticsViewId,onChange:x=>o({...a,googleAnalyticsViewId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"123456789"})]})]})]}),n==="social_media"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platforms *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(x=>s.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[s.jsx("input",{type:"checkbox",checked:l.includes(x),onChange:()=>v(x),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("span",{className:"text-sm font-medium capitalize",children:x})]},x))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),s.jsx("textarea",{id:"campaignGoals",required:!0,value:a.campaignGoals,onChange:x=>o({...a,campaignGoals:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),s.jsx("textarea",{id:"targetAudience",required:!0,value:a.targetAudience,onChange:x=>o({...a,targetAudience:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",value:a.notes,onChange:x=>o({...a,notes:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs("button",{type:"submit",className:"btn-primary flex-1 hover:shadow-accent/20",children:["Create ",n==="website"?"Website":"Social Media"," Project"]}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"btn-outline flex-1 hover:border-accent hover:text-accent",children:"Cancel"})]})]})]})}),s.jsx(we,{})]})}const q3=6048e5,Zye=864e5,ebe=6e4,HE=Symbol.for("constructDateFrom");function gn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&HE in t?t[HE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Zt(t,e){return gn(e||t,t)}function Hp(t,e,r){const n=Zt(t,r==null?void 0:r.in);return isNaN(e)?gn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function G3(t,e,r){const n=Zt(t,r==null?void 0:r.in);if(isNaN(e))return gn(t,NaN);if(!e)return n;const i=n.getDate(),a=gn(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let tbe={};function Ah(){return tbe}function ti(t,e){var l,c,u,d;const r=Ah(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Zt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function qp(t,e){return ti(t,{...e,weekStartsOn:1})}function K3(t,e){const r=Zt(t,e==null?void 0:e.in),n=r.getFullYear(),i=gn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=qp(i),o=gn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=qp(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function qE(t){const e=Zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function bx(t,...e){const r=gn.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Gp(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function rbe(t,e,r){const[n,i]=bx(r==null?void 0:r.in,t,e),a=Gp(n),o=Gp(i),l=+a-qE(a),c=+o-qE(o);return Math.round((l-c)/Zye)}function nbe(t,e){const r=K3(t,e),n=gn(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),qp(n)}function Y3(t,e,r){return Hp(t,e*7,r)}function GE(t,e,r){const[n,i]=bx(r==null?void 0:r.in,t,e);return+Gp(n)==+Gp(i)}function ibe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sbe(t){return!(!ibe(t)&&typeof t!="number"||isNaN(+Zt(t)))}function abe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function obe(t,e){return+Zt(t)-+Zt(e)}function KE(t,e,r){const n=obe(t,e)/ebe;return abe(r==null?void 0:r.roundingMethod)(n)}function lbe(t,e){const r=Zt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function cbe(t,e){const[r,n]=bx(t,e.start,e.end);return{start:r,end:n}}function YE(t,e){const{start:r,end:n}=cbe(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(gn(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function X3(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ube(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function XE(t,e){var l,c;const r=Ah(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Zt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const dbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hbe=(t,e,r)=>{let n;const i=dbe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ty(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const fbe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gbe={date:ty({formats:fbe,defaultWidth:"full"}),time:ty({formats:mbe,defaultWidth:"full"}),dateTime:ty({formats:pbe,defaultWidth:"full"})},xbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vbe=(t,e,r,n)=>xbe[t];function nu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const ybe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sbe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kbe={ordinalNumber:Sbe,era:nu({values:ybe,defaultWidth:"wide"}),quarter:nu({values:bbe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nu({values:wbe,defaultWidth:"wide"}),day:nu({values:jbe,defaultWidth:"wide"}),dayPeriod:nu({values:Nbe,defaultWidth:"wide",formattingValues:_be,defaultFormattingWidth:"wide"})};function iu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Tbe(l,h=>h.test(o)):Abe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Abe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Tbe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ebe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Pbe=/^(\d+)(th|st|nd|rd)?/i,Ibe=/\d+/i,Cbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Obe={any:[/^b/i,/^(a|c)/i]},Mbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dbe={any:[/1/i,/2/i,/3/i,/4/i]},Rbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$be={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Fbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ube={ordinalNumber:Ebe({matchPattern:Pbe,parsePattern:Ibe,valueCallback:t=>parseInt(t,10)}),era:iu({matchPatterns:Cbe,defaultMatchWidth:"wide",parsePatterns:Obe,defaultParseWidth:"any"}),quarter:iu({matchPatterns:Mbe,defaultMatchWidth:"wide",parsePatterns:Dbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:iu({matchPatterns:Rbe,defaultMatchWidth:"wide",parsePatterns:Lbe,defaultParseWidth:"any"}),day:iu({matchPatterns:$be,defaultMatchWidth:"wide",parsePatterns:Vbe,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:Fbe,defaultMatchWidth:"any",parsePatterns:Bbe,defaultParseWidth:"any"})},zbe={code:"en-US",formatDistance:hbe,formatLong:gbe,formatRelative:vbe,localize:kbe,match:Ube,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wbe(t,e){const r=Zt(t,e==null?void 0:e.in);return rbe(r,ube(r))+1}function Hbe(t,e){const r=Zt(t,e==null?void 0:e.in),n=+qp(r)-+nbe(r);return Math.round(n/q3)+1}function Q3(t,e){var d,h,f,p;const r=Zt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Ah(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=gn((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=ti(o,e),c=gn((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=ti(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function qbe(t,e){var l,c,u,d;const r=Ah(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=Q3(t,e),a=gn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ti(a,e)}function Gbe(t,e){const r=Zt(t,e==null?void 0:e.in),n=+ti(r,e)-+qbe(r,e);return Math.round(n/q3)+1}function We(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const is={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return We(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):We(r+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return We(i,e.length)}},jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QE={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return is.y(t,e)},Y:function(t,e,r,n){const i=Q3(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return We(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):We(a,e.length)},R:function(t,e){const r=K3(t);return We(r,e.length)},u:function(t,e){const r=t.getFullYear();return We(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return We(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return We(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return is.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return We(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Gbe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,r){const n=Hbe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):We(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):is.d(t,e)},D:function(t,e,r){const n=Wbe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):We(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return We(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return We(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=jo.noon:n===0?i=jo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=jo.evening:n>=12?i=jo.afternoon:n>=4?i=jo.morning:i=jo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return is.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):is.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):is.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):is.s(t,e)},S:function(t,e){return is.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ZE(n);case"XXXX":case"XX":return pa(n);case"XXXXX":case"XXX":default:return pa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return ZE(n);case"xxxx":case"xx":return pa(n);case"xxxxx":case"xxx":default:return pa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JE(n,":");case"OOOO":default:return"GMT"+pa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JE(n,":");case"zzzz":default:return"GMT"+pa(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return We(n,e.length)},T:function(t,e,r){return We(+t,e.length)}};function JE(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+We(a,2)}function ZE(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):pa(t,e)}function pa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=We(Math.trunc(n/60),2),a=We(n%60,2);return r+i+e+a}const eP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},J3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Kbe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return eP(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",eP(n,e)).replace("{{time}}",J3(i,e))},Ybe={p:J3,P:Kbe},Xbe=/^D+$/,Qbe=/^Y+$/,Jbe=["D","DD","YY","YYYY"];function Zbe(t){return Xbe.test(t)}function e0e(t){return Qbe.test(t)}function t0e(t,e,r){const n=r0e(t,e,r);if(console.warn(n),Jbe.includes(t))throw new RangeError(n)}function r0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const n0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s0e=/^'([^]*?)'?$/,a0e=/''/g,o0e=/[a-zA-Z]/;function ot(t,e,r){var d,h,f,p;const n=Ah(),i=n.locale??zbe,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Zt(t,r==null?void 0:r.in);if(!sbe(l))throw new RangeError("Invalid time value");let c=e.match(i0e).map(v=>{const b=v[0];if(b==="p"||b==="P"){const x=Ybe[b];return x(v,i.formatLong)}return v}).join("").match(n0e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:l0e(v)};if(QE[b])return{isToken:!0,value:v};if(b.match(o0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const b=v.value;(e0e(b)||Zbe(b))&&t0e(b,e,String(t));const x=QE[b[0]];return x(l,b,i.localize,u)}).join("")}function l0e(t){const e=t.match(s0e);return e?e[1].replace(a0e,"'"):t}function c0e(t,e,r){const[n,i]=bx(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Z3(t,e,r){return Hp(t,-e,r)}function u0e(t,e,r){return G3(t,-1,r)}function d0e(t,e,r){return Y3(t,-1,r)}function h0e(){const{isSignedIn:t,user:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(null),[h,f]=P.useState(!1),[p,v]=P.useState({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1});P.useEffect(()=>{t||r("/login")},[t,r]),P.useEffect(()=>{e&&(i(Da(e.id)),o(Le()),c(kt()))},[e]);const b=A=>{m8(A),i(S=>S.map(N=>N.id===A?{...N,isRead:!0}:N))},x=A=>{window.confirm("Are you sure you want to delete this message?")&&p8(A)&&(i(S=>S.filter(N=>N.id!==A)),(u==null?void 0:u.id)===A&&d(null))},g=()=>{if(!e||!p.subject.trim()||!p.content.trim())return;const A={id:`message-${Date.now()}`,senderId:e.id,recipientId:p.isBroadcast?void 0:p.recipientId||void 0,subject:p.subject,content:p.content,isRead:!1,isBroadcast:p.isBroadcast,projectId:p.projectId||void 0,createdAt:new Date,updatedAt:new Date};_C(A),i(S=>[A,...S]),v({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1}),f(!1)},y=A=>{const S=a.find(N=>N.id===A);return S?S.fullName:"Unknown"},w=A=>{if(!A)return"Everyone (Broadcast)";const S=a.find(N=>N.id===A);return S?S.fullName:"Unknown"},k=A=>{if(!A)return null;const S=l.find(N=>N.id===A);return S?S.name:null},j=n.filter(A=>!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)).length;return e?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(Y,{to:"/dashboard",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark transition-colors font-medium",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Messages"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Communicate with team members and clients",j>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),j," unread"]})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary px-6 py-3 self-start lg:self-auto",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Compose Message"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Messages"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:n.map(A=>s.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 border ${(u==null?void 0:u.id)===A.id?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-border/50 hover:border-primary/20"} ${!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)?"border-l-4 border-l-primary bg-secondary/10":""}`,onClick:()=>{d(A),!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)&&b(A.id)},children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:[A.senderId===(e==null?void 0:e.id)?"To: ":"From: ",A.senderId===(e==null?void 0:e.id)?w(A.recipientId):y(A.senderId),A.isBroadcast&&" (Broadcast)"]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate font-medium",children:A.subject})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:ot(A.createdAt,"MMM dd")}),s.jsx("button",{onClick:S=>{S.stopPropagation(),x(A.id)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-auto flex-shrink-0"})]},A.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:u?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.subject}),s.jsx("button",{onClick:()=>x(u.id),className:"text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[s.jsxs("span",{children:[u.senderId===(e==null?void 0:e.id)?"Sent to ":"From ",u.senderId===(e==null?void 0:e.id)?w(u.recipientId):y(u.senderId),u.isBroadcast&&" (Broadcast)"]}),s.jsx("span",{children:""}),s.jsx("span",{children:ot(u.createdAt,"PPP 'at' p")})]}),k(u.projectId)&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project: ",k(u.projectId)]})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"whitespace-pre-wrap text-foreground text-lg leading-relaxed",children:u.content})})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm flex items-center justify-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Select a message to view"})]})})})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Compose New Message"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Send a message to team members or broadcast to everyone"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"broadcast",checked:p.isBroadcast,onChange:A=>v(S=>({...S,isBroadcast:A.target.checked,recipientId:A.target.checked?"":S.recipientId})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"broadcast",className:"text-sm font-medium text-foreground",children:"Broadcast to all users"})]}),!p.isBroadcast&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient"}),s.jsxs("select",{value:p.recipientId,onChange:A=>v(S=>({...S,recipientId:A.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select recipient"}),a.filter(A=>A.id!==(e==null?void 0:e.id)&&A.isActive).map(A=>s.jsxs("option",{value:A.id,children:[A.fullName," (",A.role,")"]},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Related Project (Optional)"}),s.jsxs("select",{value:p.projectId,onChange:A=>v(S=>({...S,projectId:A.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select project"}),l.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:p.subject,onChange:A=>v(S=>({...S,subject:A.target.value})),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),s.jsx("textarea",{value:p.content,onChange:A=>v(S=>({...S,content:A.target.value})),placeholder:"Enter your message",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>f(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:!p.subject.trim()||!p.content.trim()||!p.isBroadcast&&!p.recipientId,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Message"})]})]})]})})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function f0e(){const{user:t,signOut:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(!0);if(P.useEffect(()=>{if(!t){r("/login?portal=client");return}if(t.role!=="client"){switch(t.role){case"admin":r("/admin/dashboard");break;case"web_developer":r("/developer/dashboard");break;case"social_media_coordinator":r("/coordinator/dashboard");break;default:r("/")}return}i(xn(t.id,t.role)),o(ec(t.id,t.role)),c(Da(t.id)),d(!1)},[t,r]),!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const h=n.filter(v=>v.status==="active"),f=a.slice(0,3),p=l.filter(v=>!v.isRead&&v.recipientId===(t==null?void 0:t.id));return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Project Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your project progress and communicate with our team"})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(Y,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(Y,{to:"/client-portal/files",className:"btn-outline",children:"View Files"}),s.jsx(Y,{to:"/messages",className:"btn-outline",children:"Messages"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.filter(v=>v.status==="open"||v.status==="in_progress").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread Messages"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Your Projects"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"Recent Projects"})]}),s.jsx("div",{className:"space-y-4",children:h.length>0?h.slice(0,3).map(v=>s.jsxs(Y,{to:`/client-portal/project/${v.id}`,className:"block p-4 border border-border/50 rounded-lg hover:bg-muted/50 hover:border-primary/20 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:v.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Stage: ",v.currentStage]}),s.jsxs("span",{children:["Updated ",ot(v.updatedAt,"MMM dd")]})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No active projects yet"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Recent Activity"}),s.jsx(Y,{to:"/client/tickets",className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map(v=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground text-sm",children:v.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",v.status]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ot(v.createdAt,"MMM dd, yyyy")})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No recent activity"})]})})]})]})]})}),s.jsx(we,{})]})}function m0e(){const{id:t}=Jl(),{user:e}=pe(),r=ve(),[n,i]=P.useState(null),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState(!0);P.useEffect(()=>{if(!e||e.role!=="client"){r("/login?portal=client");return}if(!t){r("/client-portal/dashboard");return}const f=Ja(t);if(!f||f.clientId!==e.id){r("/client-portal/dashboard");return}i(f),o(dg(t)),c(Da(e.id).filter(p=>p.projectId===t)),d(!1)},[e,t,r]);const h=f=>({planning:"bg-primary/10 text-primary",development:"bg-accent/10 text-accent",testing:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"})[status]||"bg-gray-100 text-gray-800";return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u||!n?s.jsx("div",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-300 rounded"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:n.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${nM(n.status)}`,children:n.status}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(n.currentStage)}`,children:n.currentStage}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Updated ",ot(n.updatedAt,"MMM dd, yyyy")]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Y,{to:"/messages",className:"btn-outline px-4 py-2",children:"Message Team"}),s.jsx(Y,{to:"/client-portal/files",className:"btn-outline px-4 py-2",children:"Share Files"}),s.jsx(Y,{to:"/client-portal/feedback",className:"btn-primary px-4 py-2",children:"Submit Feedback"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Progress"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[n.currentStage==="planning"&&"25%",n.currentStage==="design"&&"40%",n.currentStage==="development"&&"60%",n.currentStage==="testing"&&"80%",n.currentStage==="launch"&&"100%",n.currentStage==="maintenance"&&"100%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:n.currentStage==="planning"?"25%":n.currentStage==="design"?"40%":n.currentStage==="development"?"60%":n.currentStage==="testing"?"80%":(n.currentStage==="launch","100%")}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Project Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"text-foreground capitalize",children:n.projectType.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),s.jsx("span",{className:"text-foreground",children:ot(n.createdAt,"MMM dd, yyyy")})]}),n.launchDate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Launch Date:"}),s.jsx("span",{className:"text-foreground",children:ot(n.launchDate,"MMM dd, yyyy")})]}),n.websiteUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Website:"}),s.jsx("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View Site"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Team Members"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Developer:"}),s.jsx("span",{className:"text-foreground",children:n.webDeveloperId?"Assigned":"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Coordinator:"}),s.jsx("span",{className:"text-foreground",children:n.socialMediaCoordinatorId?"Assigned":"Not assigned"})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Updates"}),s.jsx("div",{className:"space-y-4",children:a.length>0?a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[f.description.substring(0,100),"..."]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{className:`px-2 py-1 rounded-full ${f.status==="open"?"bg-yellow-100 text-yellow-800":f.status==="in_progress"?"bg-primary/10 text-primary":f.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status.replace("_"," ")}),s.jsx("span",{children:ot(f.createdAt,"MMM dd, yyyy")})]})]})]},f.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No updates yet"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Y,{to:"/messages",className:"block w-full btn-outline text-center py-2",children:"Message Team"}),s.jsx(Y,{to:"/client-portal/files",className:"block w-full btn-outline text-center py-2",children:"Share Files"}),s.jsx(Y,{to:"/client-portal/feedback",className:"block w-full btn-primary text-center py-2",children:"Submit Feedback"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Project Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Open Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.filter(f=>f.status==="open"||f.status==="in_progress").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Messages:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:l.length})]})]})]})]})]})]})}),s.jsx(we,{})]})}function p0e(){const{user:t}=pe(),[e,r]=P.useState([]),[n,i]=P.useState(""),[a,o]=P.useState([]),[l,c]=P.useState(!1);P.useEffect(()=>{if(t&&t.role==="client"){const p=xn(t.id,t.role);r(p),p.length>0&&i(p[0].id)}},[t]);const u=p=>{const v=Array.from(p.target.files||[]);o(b=>[...b,...v])},d=async()=>{!n||a.length===0||(c(!0),await new Promise(p=>setTimeout(p,2e3)),o([]),c(!1),alert("Files uploaded successfully!"))},h=p=>{o(v=>v.filter((b,x)=>x!==p))},f=p=>{if(p===0)return"0 Bytes";const v=1024,b=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(p)/Math.log(v));return parseFloat((p/Math.pow(v,x)).toFixed(2))+" "+b[x]};return!t||t.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Files with Your Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Upload documents, images, or any files your project team needs to access"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Project"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:e.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Upload Files"}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:u,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.svg,.zip,.rar"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop files here or click to browse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, SVG, ZIP, RAR (max 10MB each)"})]})]})]}),a.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Files to Upload"}),s.jsx("div",{className:"space-y-3",children:a.map((p,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f(p.size)})]})]}),s.jsx("button",{onClick:()=>h(v),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},v))})]}),a.length>0&&s.jsx("button",{onClick:d,disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading Files..."]}):`Upload ${a.length} File${a.length>1?"s":""}`})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Previously Shared Files"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-5.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-muted-foreground",children:"No files shared yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Files you upload will appear here for your team's access"})]})})]})]})})}),s.jsx(we,{})]})}function g0e(){const{user:t}=pe(),[e,r]=P.useState([]),[n,i]=P.useState(""),[a,o]=P.useState({rating:5,category:"overall",comment:"",isPublic:!1}),[l,c]=P.useState(!1);P.useEffect(()=>{if(t&&t.role==="client"){const h=xn(t.id,t.role);r(h),h.length>0&&i(h[0].id)}},[t]);const u=async h=>{if(h.preventDefault(),!n||!a.comment.trim()){alert("Please fill in all required fields");return}c(!0),await new Promise(f=>setTimeout(f,1500)),o({rating:5,category:"overall",comment:"",isPublic:!1}),c(!1),alert("Thank you for your feedback! We'll review it and get back to you soon.")};if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Your Feedback"}),s.jsx("p",{className:"text-muted-foreground",children:"Help us improve by sharing your thoughts about our work"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Which project is this feedback about?"}),s.jsx("select",{value:n,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",required:!0,children:e.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"How would you rate our work?"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>s.jsx("button",{type:"button",onClick:()=>o(f=>({...f,rating:h})),className:`w-8 h-8 ${h<=a.rating?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:s.jsx("svg",{viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},h))}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:d[a.rating]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"What area does this feedback relate to?"}),s.jsxs("select",{value:a.category,onChange:h=>o(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"overall",children:"Overall Experience"}),s.jsx("option",{value:"design",children:"Design Quality"}),s.jsx("option",{value:"functionality",children:"Website Functionality"}),s.jsx("option",{value:"communication",children:"Team Communication"}),s.jsx("option",{value:"timeline",children:"Project Timeline"}),s.jsx("option",{value:"support",children:"Customer Support"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Your Feedback"}),s.jsx("textarea",{value:a.comment,onChange:h=>o(f=>({...f,comment:h.target.value})),placeholder:"Please share your detailed feedback, suggestions for improvement, or any concerns...",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground resize-none",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your feedback helps us improve our services. Be as specific as possible."})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:h=>o(f=>({...f,isPublic:h.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-foreground",children:"Make this feedback public (visible to other clients as testimonials)"})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting Feedback..."]}):"Submit Feedback"})]})}),s.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 rounded-xl border border-secondary/20 dark:border-secondary/30 p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary dark:text-primary mb-3",children:" Tips for Better Feedback"}),s.jsxs("ul",{className:"space-y-2 text-sm text-primary dark:text-primary",children:[s.jsx("li",{children:" Be specific about what you liked or didn't like"}),s.jsx("li",{children:" Include examples from your experience"}),s.jsx("li",{children:" Suggest improvements when possible"}),s.jsx("li",{children:" Mention both positive aspects and areas for growth"}),s.jsx("li",{children:" Rate based on your overall satisfaction with the work"})]})]})]})})}),s.jsx(we,{})]})}function x0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState("30d"),[a,o]=P.useState({projects:[],tickets:[],website:[],social:[],users:[]}),[l,c]=P.useState(!0);P.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}const d=kt(),h=Jt(),f=nj(),p=Qa(),v=Le();o({projects:d,tickets:h,website:f,social:p,users:v}),c(!1)},[t,e,r]);const u={totalProjects:a.projects.length,activeProjects:a.projects.filter(d=>d.status==="active").length,totalTickets:a.tickets.length,resolvedTickets:a.tickets.filter(d=>d.status==="resolved").length,avgPageViews:a.website.length>0?Math.round(a.website.reduce((d,h)=>d+h.pageViews,0)/a.website.length):0,totalEngagement:a.social.reduce((d,h)=>d+h.engagement,0),totalReach:a.social.reduce((d,h)=>d+h.reach,0)};return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsxs("button",{onClick:()=>r("/dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-muted-foreground hover:text-foreground border border-border rounded-lg hover:bg-muted transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive insights into your business performance and project metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-xs text-red-600",children:"-5% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.users.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-xs text-green-600",children:"+15% vs last period"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Status Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="active").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="completed").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Paused"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="paused").length})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Ticket Priority Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Critical"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="critical").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"High"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="high").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="medium").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Low"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="low").length})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-4",children:[a.tickets.slice(0,5).map(d=>{const h=a.projects.find(f=>f.id===d.projectId);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${d.priority==="critical"?"bg-red-500":d.priority==="high"?"bg-orange-500":d.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:d.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h==null?void 0:h.name,"  ",ot(d.createdAt,"MMM dd, yyyy")]})]})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="open"?"bg-red-100 text-red-800":d.status==="in_progress"?"bg-yellow-100 text-yellow-800":d.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:d.status.replace("_"," ")})]},d.id)}),a.tickets.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent activity"})]})]})]})}),s.jsx(we,{})]})}function v0e(){const{isSignedIn:t,user:e}=pe(),r=ve(),i=Jl().id,[a,o]=P.useState(null),[l,c]=P.useState(null),[u,d]=P.useState(!1),[h,f]=P.useState(null);P.useEffect(()=>{if(!t){r("/login");return}const x=Ja(i);if(!x){r("/dashboard");return}if(o(x),x.googleAnalyticsPropertyId&&/^G-\d+$/.test(x.googleAnalyticsPropertyId))p(x.googleAnalyticsPropertyId);else{const g=f_(i);c(g)}},[t,i,r]);const p=async x=>{d(!0),f(null);try{const g=await fetch(`http://localhost:3001/api/analytics/${x}`);if(!g.ok)throw new Error(`API Error: ${g.status} ${g.statusText}`);const y=await g.json();c(y)}catch(g){console.error("Failed to fetch real analytics:",g),f(g instanceof Error?g.message:"Failed to fetch analytics");const y=f_(i);c(y)}finally{d(!1)}};if(!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const b=a.googleAnalyticsPropertyId&&/^G-\d+$/.test(a.googleAnalyticsPropertyId)?`https://analytics.google.com/analytics/web/#/p${a.googleAnalyticsPropertyId.substring(2)}/reports/intelligenthome`:a.googleAnalyticsViewId&&/^\d+$/.test(a.googleAnalyticsViewId)?`https://analytics.google.com/analytics/web/#/report-home/a${a.googleAnalyticsViewId}`:null;return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics - ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:a.description}),a.websiteUrl&&s.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:a.websiteUrl})]}),b?s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Live Google Analytics"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"View real-time analytics data for this website directly in Google Analytics."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.84 2.9982v17.9987c.0086 1.6473-1.3177 2.9897-2.965 2.9984H4.1065c-1.647-.0087-2.9735-1.351-2.965-2.9983V2.9982C1.133 1.3509 2.4596.0086 4.1066 0h15.769c1.6472.0086 2.9735 1.351 2.9649 2.9983zm-5.9207 5.557L12.2649 0H4.1066C2.9465.0009 2.007.9398 1.999 2.0998v18.0005c.008 1.16.9405 2.0989 2.1005 2.0997h15.7674c1.16-.0008 2.0926-.9397 2.1006-2.0997V8.556h-5.112zm-6.1505 9.4836c-.5513.5645-1.3086.8815-2.1007.8796-.792.0019-1.5494-.315-2.1007-.8796-.5519-.5646-.8615-1.3304-.8595-2.1252-.002-.7948.3076-1.5606.8595-2.1252.5513-.5645 1.3086-.8815 2.1007-.8795.792-.002 1.5494.315 2.1007.8795.5518.5646.8614 1.3304.8594 2.1252.002.7948-.3076 1.5606-.8594 2.1252z"})}),"Open Google Analytics Dashboard"]}),s.jsx("div",{className:"bg-secondary/10 border-l-4 border-primary p-4 rounded",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-primary flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-primary mb-1",children:"Google Analytics Access Required"}),s.jsxs("p",{className:"text-sm text-primary/80",children:["You need to be logged into Google Analytics and have access to this property (",a.googleAnalyticsPropertyId||a.googleAnalyticsViewId,") to view the reports."]})]})]})})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Want Embedded Analytics?"]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"To embed Google Analytics reports directly on this page, you'll need to:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-1 mb-4",children:[s.jsx("li",{children:"Set up Google Analytics Embed API"}),s.jsx("li",{children:"Create a service account in Google Cloud"}),s.jsx("li",{children:"Authorize the service account in Google Analytics"}),s.jsx("li",{children:"Implement the embedding code"})]}),s.jsxs("a",{href:"https://developers.google.com/analytics/devguides/reporting/embed/v1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium text-sm",children:["Learn about Google Analytics Embed API",s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}):s.jsx("div",{className:"card mb-8 bg-yellow-50 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-8 h-8 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Google Analytics Not Configured"}),s.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"This project doesn't have a Google Analytics Property ID configured yet."}),s.jsx("p",{className:"text-sm text-yellow-800",children:"Contact your administrator to add the Google Analytics Property ID for this project."})]})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Website Analytics Summary"}),s.jsxs("div",{className:"flex items-center gap-4",children:[(a==null?void 0:a.googleAnalyticsPropertyId)&&/^G-\d+$/.test(a.googleAnalyticsPropertyId)&&s.jsxs("button",{onClick:()=>p(a.googleAnalyticsPropertyId),disabled:u,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg font-semibold hover:bg-primary/80 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]}),u&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Fetching real data..."]})]})]}),h&&s.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Analytics Fetch Error"}),s.jsx("p",{className:"text-sm text-yellow-800",children:h}),s.jsx("p",{className:"text-sm text-yellow-800 mt-2",children:"Showing cached/manual data instead."})]})]})}),l.website&&l.website.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.website.slice(0,3).map(x=>s.jsxs("div",{className:"p-6 bg-gradient-to-br from-secondary/10 to-primary/5 rounded-lg border border-secondary/20",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:new Date(x.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-2xl font-bold text-[#1e2875]",children:x.pageViews.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique Visitors"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:x.uniqueVisitors.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bounce Rate"}),s.jsxs("p",{className:"text-lg font-medium text-foreground",children:[x.bounceRate,"%"]})]})]})]},x.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No analytics data available yet."})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Social Media Analytics"}),l.social&&l.social.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.social.map(x=>{var g;return s.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg border border-pink-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-700 capitalize",children:x.platform}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(x.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"text-lg font-bold text-[#1e2875]",children:x.posts})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"text-lg font-bold text-foreground",children:x.engagement})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:x.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Followers"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:((g=x.followers)==null?void 0:g.toLocaleString())||"N/A"})]})]})]},x.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No social media analytics data available yet."})]})]})}),s.jsx(we,{})]})}function y0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState(!0),u=P.useCallback(async()=>{if(!t)return;c(!0),await new Promise(x=>setTimeout(x,100));const f=kt(),p=Jt(),v=f.filter(x=>x.webDeveloperId===t.id),b=p.filter(x=>x.assignedTo===t.id);i(v),o(b),c(!1)},[t]);P.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="web_developer"){r("/dashboard");return}u()},[t,e,r,u]);const d=P.useMemo(()=>n.filter(f=>f.status==="active"),[n]);P.useMemo(()=>n.filter(f=>f.status==="completed"),[n]),P.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]);const h=P.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Development Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your development progress, project assignments, and ticket resolution metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:f.status})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.status})]},f.id)),n.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",n.length-5," more projects"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Tickets"}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ot(f.createdAt,"MMM dd, yyyy")})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})]},f.id)),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No tickets assigned yet."})]})]})]})}),s.jsx(we,{})]})}function b0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState(!0),u=P.useCallback(async()=>{if(!t)return;c(!0),await new Promise(y=>setTimeout(y,100));const v=kt(),b=Qa(),x=v.filter(y=>y.projectType==="social_media"&&y.socialMediaCoordinatorId===t.id),g=b.filter(y=>x.some(w=>w.id===y.projectId));i(x),o(g),c(!1)},[t]);P.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="social_media_coordinator"){r("/dashboard");return}u()},[t,e,r,u]);const d=P.useMemo(()=>a.filter(v=>{const b=Z3(new Date,7);return v.date>=b}),[a]),h=P.useMemo(()=>a.reduce((v,b)=>v+b.reach,0),[a]),f=P.useMemo(()=>a.reduce((v,b)=>v+b.engagement,0),[a]),p=P.useMemo(()=>a.reduce((v,b)=>v+b.posts,0),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Social Media Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Monitor your social media performance across all assigned projects and platforms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reach"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Engagement"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Posts"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Social Media Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(v=>{var b;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:v.name}),s.jsx("div",{className:"flex gap-1 mt-1",children:(b=v.socialMediaPlatforms)==null?void 0:b.slice(0,3).map(x=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:x},x))})]}),s.jsx("a",{href:`/analytics/${v.id}`,className:"text-primary hover:underline text-sm",children:"View Details"})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No social media projects assigned yet."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add Analytics Entry"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Analytics (Last 7 Days)"}),d.length>0?s.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(v=>{const b=n.find(x=>x.id===v.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:b==null?void 0:b.name}),s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:v.platform})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-medium",children:v.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-medium",children:v.engagement.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-medium",children:v.posts})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:ot(v.date,"MMM dd, yyyy")})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No recent analytics entries."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add First Entry"})]})]})]})]})}),s.jsx(we,{})]})}function w0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState(!0),u=P.useCallback(async()=>{if(!t)return;c(!0),await new Promise(x=>setTimeout(x,100));const f=kt(),p=Jt(),v=f.filter(x=>x.clientId===t.id),b=p.filter(x=>v.some(g=>g.id===x.projectId));i(v),o(b),c(!1)},[t]);P.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="client"){r("/dashboard");return}u()},[t,e,r,u]);const d=P.useMemo(()=>n.filter(f=>f.status==="active"),[n]),h=P.useMemo(()=>n.filter(f=>f.status==="completed"),[n]);return P.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]),P.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]),l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track the progress of your website development projects and manage support tickets"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Support Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(f=>s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:f.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Current Stage: ",s.jsx("span",{className:"capitalize",children:f.currentStage})]}),s.jsx("a",{href:`/analytics/${f.id}`,className:"text-primary hover:underline",children:"View Progress"})]})]},f.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary text-sm",children:"New Ticket"})]}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>{const p=n.find(v=>v.id===f.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="open"?"bg-red-100 text-red-800":f.status==="in_progress"?"bg-yellow-100 text-yellow-800":f.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[p==null?void 0:p.name,"  ",ot(f.createdAt,"MMM dd, yyyy")]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})})]},f.id)}),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No support tickets yet."}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary",children:"Create First Ticket"})]})]})]})]})}),s.jsx(we,{})]})}const j0e=[{id:"event-1",title:"SpecCon Website Launch Meeting",description:"Final review before launch",eventType:"meeting",priority:"high",startDate:new Date(2025,0,15,10,0),endDate:new Date(2025,0,15,11,30),allDay:!1,location:"Conference Room A",attendees:["user-1","user-2","user-3","user-5"],organizerId:"user-1",projectId:"proj-1",isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"confirmed",notes:"Please review final designs before meeting",createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Andebe Platform Deadline",description:"Development completion deadline",eventType:"deadline",priority:"critical",startDate:new Date(2025,0,20),endDate:new Date(2025,0,20),allDay:!0,attendees:["user-2","user-3"],organizerId:"user-1",projectId:"proj-2",isRecurring:!1,recurrenceType:"none",reminderMinutes:1440,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Client Presentation - Megrolowveld",description:"Present design concepts to client",eventType:"presentation",priority:"high",startDate:new Date(2025,0,18,14,0),endDate:new Date(2025,0,18,15,30),allDay:!1,location:"Virtual Meeting",attendees:["user-1","user-4","user-5","user-6"],organizerId:"user-1",projectId:"proj-3",isRecurring:!1,recurrenceType:"none",reminderMinutes:30,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-4",title:"Weekly Team Standup",description:"Weekly progress update and planning",eventType:"meeting",priority:"medium",startDate:new Date(2025,0,16,9,0),endDate:new Date(2025,0,16,9,30),allDay:!1,location:"Main Conference Room",attendees:["user-1","user-2","user-3","user-4"],organizerId:"user-1",isRecurring:!0,recurrenceType:"weekly",recurrenceEndDate:new Date(2025,11,31),reminderMinutes:5,status:"confirmed",createdAt:new Date,updatedAt:new Date}];function N0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState(new Date),[a,o]=P.useState("month"),[l,c]=P.useState(j0e),[u,d]=P.useState(()=>kt()),[h,f]=P.useState(()=>Le()),[p,v]=P.useState(null),[b,x]=P.useState(!1),[g,y]=P.useState({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""});P.useEffect(()=>{if(!e){r("/login");return}},[e,r]),P.useEffect(()=>{localStorage.setItem("marketing_management_website_events",JSON.stringify(l))},[l]);const w=R=>l.filter(V=>(V.allDay,GE(V.startDate,R))),k=()=>{const R=X3(n),V=lbe(n),$=ti(R),z=XE(V);return YE({start:$,end:z}).map(J=>({date:J,events:w(J)}))},j=()=>{const R=ti(n),V=XE(n);return YE({start:R,end:V}).map(z=>({date:z,events:w(z)}))},A=()=>{i(a==="month"?R=>u0e(R):a==="week"?R=>d0e(R):R=>Hp(R,-1))},S=()=>{i(a==="month"?R=>G3(R,1):a==="week"?R=>Y3(R,1):R=>Hp(R,1))},N=()=>{i(new Date)},T=()=>{if(!g.title.trim()){alert("Please enter an event title");return}if(!g.startDate){alert("Please select a start date");return}const R=new Date(`${g.startDate}T${g.startTime||"00:00"}`),V=new Date(`${g.endDate||g.startDate}T${g.endTime||"23:59"}`),$={id:`event-${Date.now()}`,title:g.title,description:g.description||void 0,eventType:g.eventType,priority:g.priority,startDate:R,endDate:V,allDay:!g.startTime&&!g.endTime,location:g.location||void 0,attendees:[(t==null?void 0:t.id)||"user-1"],organizerId:(t==null?void 0:t.id)||"user-1",projectId:g.projectId||void 0,isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"scheduled",createdAt:new Date,updatedAt:new Date};c(z=>[...z,$]),x(!1),y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""})},O=()=>{y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""}),x(!0)},I=R=>({meeting:"bg-primary/10 text-primary border-primary/20",deadline:"bg-red-100 text-red-800 border-red-200",milestone:"bg-green-100 text-green-800 border-green-200",review:"bg-purple-100 text-purple-800 border-purple-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",kickoff:"bg-indigo-100 text-indigo-800 border-indigo-200",presentation:"bg-pink-100 text-pink-800 border-pink-200"})[R]||"bg-gray-100 text-gray-800 border-gray-200",C=R=>({low:"border-l-4 border-l-green-500",medium:"border-l-4 border-l-yellow-500",high:"border-l-4 border-l-orange-500",critical:"border-l-4 border-l-red-500"})[R]||"",M=R=>{if(!R)return null;const V=u.find($=>$.id===R);return V==null?void 0:V.name},B=R=>R.map(V=>{const $=h.find(z=>z.id===V);return($==null?void 0:$.fullName)||"Unknown"}).join(", "),F=R=>R.allDay?"All Day":`${ot(R.startDate,"h:mm a")} - ${ot(R.endDate,"h:mm a")}`;return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Calendar"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Schedule meetings, track deadlines, and manage project timelines"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:O,className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:A,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("h2",{className:"text-xl font-semibold text-foreground min-w-[200px] text-center",children:[a==="month"&&ot(n,"MMMM yyyy"),a==="week"&&`Week of ${ot(ti(n),"MMM dd")}`,a==="day"&&ot(n,"EEEE, MMMM dd, yyyy")]}),s.jsx("button",{onClick:S,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("button",{onClick:N,className:"btn-outline px-4 py-2",children:"Today"})]}),s.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:[{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}].map(R=>s.jsx("button",{onClick:()=>o(R.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===R.value?"bg-white dark:bg-gray-700 text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:R.label},R.value))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[a==="month"&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-px mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(R=>s.jsx("div",{className:"p-3 text-center font-semibold text-muted-foreground text-sm",children:R},R))}),s.jsx("div",{className:"grid grid-cols-7 gap-px",children:k().map(({date:R,events:V},$)=>s.jsxs("div",{className:`min-h-[120px] p-2 border border-border/20 ${c0e(R,n)?"bg-background":"bg-muted/30"}`,children:[s.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:ot(R,"d")}),s.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(z=>s.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 transition-opacity ${I(z.eventType)} ${C(z.priority)}`,onClick:()=>v(z),children:[s.jsx("div",{className:"font-medium truncate",children:z.title}),!z.allDay&&s.jsx("div",{className:"text-xs opacity-75",children:ot(z.startDate,"h:mm a")})]},z.id)),V.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",V.length-3," more"]})]})]},$))})]}),a==="week"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:j().map(({date:R,events:V})=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:ot(R,"EEEE, MMMM dd")}),s.jsx("div",{className:"space-y-2",children:V.length>0?V.map($=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${I($.eventType)} ${C($.priority)}`,onClick:()=>v($),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:$.title}),s.jsx("p",{className:"text-sm opacity-75",children:F($)}),$.location&&s.jsxs("p",{className:"text-sm opacity-75",children:[" ",$.location]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I($.eventType)}`,children:$.eventType})})]})},$.id)):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events scheduled"})})]},R.toISOString()))})}),a==="day"&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:ot(n,"EEEE, MMMM dd, yyyy")}),s.jsx("div",{className:"space-y-4",children:w(n).length>0?w(n).map(R=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${I(R.eventType)} ${C(R.priority)}`,onClick:()=>v(R),children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:R.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I(R.eventType)}`,children:R.eventType})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Time"}),s.jsx("p",{className:"text-sm",children:F(R)})]}),R.location&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Location"}),s.jsx("p",{className:"text-sm",children:R.location})]})]}),R.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Description"}),s.jsx("p",{className:"text-sm",children:R.description})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Attendees"}),s.jsx("p",{className:"text-sm",children:B(R.attendees)})]}),R.projectId&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Project"}),s.jsx("p",{className:"text-sm",children:M(R.projectId)})]})]})]},R.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No events scheduled for this day"})]})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-3"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Upcoming Events"}),s.jsx("div",{className:"space-y-3",children:l.filter(R=>R.startDate>=new Date).sort((R,V)=>R.startDate.getTime()-V.startDate.getTime()).slice(0,5).map(R=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${I(R.eventType)} ${C(R.priority)}`,onClick:()=>v(R),children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:R.title}),s.jsxs("p",{className:"text-xs opacity-75",children:[ot(R.startDate,"MMM dd"),"  ",F(R)]}),R.location&&s.jsxs("p",{className:"text-xs opacity-75",children:[" ",R.location]})]},R.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Legend"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),s.jsx("span",{children:"Meeting"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Deadline"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Milestone"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),s.jsx("span",{children:"Review"})]})]})]})]})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Create New Event"}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Title"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event title",value:g.title,onChange:R=>y(V=>({...V,title:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Event Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.eventType,onChange:R=>y(V=>({...V,eventType:R.target.value})),children:[s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"deadline",children:"Deadline"}),s.jsx("option",{value:"presentation",children:"Presentation"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"milestone",children:"Milestone"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.startDate,onChange:R=>y(V=>({...V,startDate:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.startTime,onChange:R=>y(V=>({...V,startTime:R.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.endDate,onChange:R=>y(V=>({...V,endDate:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.endTime,onChange:R=>y(V=>({...V,endTime:R.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Location"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event location",value:g.location,onChange:R=>y(V=>({...V,location:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,placeholder:"Event description",value:g.description,onChange:R=>y(V=>({...V,description:R.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Priority"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.priority,onChange:R=>y(V=>({...V,priority:R.target.value})),children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.projectId,onChange:R=>y(V=>({...V,projectId:R.target.value})),children:[s.jsx("option",{value:"",children:"Select project"}),u.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>x(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:T,className:"btn-primary px-6 py-2",children:"Create Event"})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:p.title}),s.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Date & Time"}),s.jsx("p",{className:"text-foreground",children:ot(p.startDate,"EEEE, MMMM dd, yyyy")}),s.jsx("p",{className:"text-muted-foreground",children:F(p)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Type & Priority"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I(p.eventType)}`,children:p.eventType}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.priority==="critical"?"bg-red-100 text-red-800":p.priority==="high"?"bg-orange-100 text-orange-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.priority})]})]})]}),p.location&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Location"}),s.jsxs("p",{className:"text-foreground",children:[" ",p.location]})]}),p.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-foreground",children:p.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Attendees"}),s.jsx("p",{className:"text-foreground",children:B(p.attendees)})]}),p.projectId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Related Project"}),s.jsx("p",{className:"text-foreground",children:M(p.projectId)})]}),p.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-foreground",children:p.notes})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:s.jsx("button",{onClick:()=>v(null),className:"btn-outline px-6 py-2",children:"Close"})})]})]})})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const _0e=[{id:"timer-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Working on homepage hero image update",entryType:"development",startTime:new Date,status:"running",accumulatedTime:0,isBillable:!0,hourlyRate:75,tags:["frontend","design"]}],S0e=[{id:"entry-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Homepage hero image implementation",entryType:"development",startTime:new Date(Date.now()-2*60*60*1e3),endTime:new Date(Date.now()-1*60*60*1e3),duration:60,isBillable:!0,hourlyRate:75,tags:["frontend","design"],createdAt:new Date,updatedAt:new Date},{id:"entry-2",userId:"user-3",projectId:"proj-2",description:"Client meeting - Andebe platform requirements",entryType:"meeting",startTime:new Date(Date.now()-24*60*60*1e3),endTime:new Date(Date.now()-23.5*60*60*1e3),duration:30,isBillable:!0,hourlyRate:85,tags:["meeting","client"],createdAt:new Date,updatedAt:new Date}];function k0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState(null),[a,o]=P.useState(_0e),l=P.useMemo(()=>S0e,[]),[c,u]=P.useState(l),[d,h]=P.useState([]),[f,p]=P.useState([]),[v,b]=P.useState([]),[x,g]=P.useState(new Date),[y,w]=P.useState("week"),[k,j]=P.useState({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""});P.useEffect(()=>{if(!e){r("/login");return}h(kt()),p(Jt()),b(Le());const R=setInterval(()=>{g(new Date)},1e3);return()=>clearInterval(R)},[e,r]);const A=R=>{const V=new Date(R.startTime);return KE(x,V)},S=R=>{const V=Math.floor(R/60),$=R%60;return`${V.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},N=()=>{if(!t||!k.description.trim())return;const R={id:`timer-${Date.now()}`,userId:t.id,projectId:k.projectId||void 0,ticketId:k.ticketId||void 0,description:k.description,entryType:k.entryType,startTime:new Date,status:"running",accumulatedTime:0,isBillable:k.isBillable,tags:k.tags.split(",").map(V=>V.trim()).filter(V=>V)};i(R),o(V=>[R,...V])},T=()=>{if(!n||!t)return;const R=new Date,V=KE(R,new Date(n.startTime)),$={id:`entry-${Date.now()}`,userId:t.id,projectId:n.projectId,ticketId:n.ticketId,description:n.description,entryType:n.entryType,startTime:n.startTime,endTime:R,duration:V,isBillable:n.isBillable,hourlyRate:n.hourlyRate,tags:n.tags,createdAt:new Date,updatedAt:new Date};u(z=>[$,...z]),i(null),o(z=>z.filter(K=>K.id!==n.id)),j({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""})},O=()=>{const R=new Date;let V;switch(y){case"today":V=new Date(R.getFullYear(),R.getMonth(),R.getDate());break;case"week":V=ti(R);break;case"month":V=X3(R);break;default:V=ti(R)}return c.filter($=>new Date($.startTime)>=V&&$.userId===(t==null?void 0:t.id))},I=R=>{const V=R.reduce((K,J)=>K+J.duration,0),$=R.filter(K=>K.isBillable).reduce((K,J)=>K+J.duration,0),z=R.filter(K=>K.isBillable&&K.hourlyRate).reduce((K,J)=>K+J.duration/60*(J.hourlyRate||0),0);return{totalHours:Math.round(V/60*100)/100,billableHours:Math.round($/60*100)/100,totalAmount:Math.round(z*100)/100}},C=O(),M=I(C),B=R=>{if(!R)return"No Project";const V=d.find($=>$.id===R);return(V==null?void 0:V.name)||"Unknown Project"},F=R=>{if(!R)return null;const V=f.find($=>$.id===R);return V==null?void 0:V.title};return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Time Tracking"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your work hours, monitor productivity, and manage billable time"})]}),s.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}].map(R=>s.jsx("button",{onClick:()=>w(R.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y===R.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:R.label},R.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:n?"Active Timer":"Start Tracking Time"}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-mono font-bold text-primary mb-4",children:S(A(n))}),s.jsx("div",{className:"text-lg text-muted-foreground mb-2",children:n.description}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Project: ",B(n.projectId),n.ticketId&&s.jsxs("span",{children:["  Ticket: ",F(n.ticketId)]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:T,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Stop Timer"]})})]}):s.jsxs("form",{onSubmit:R=>{R.preventDefault(),N()},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{value:k.projectId,onChange:R=>j(V=>({...V,projectId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Project (Optional)"}),d.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ticket"}),s.jsxs("select",{value:k.ticketId,onChange:R=>j(V=>({...V,ticketId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Ticket (Optional)"}),f.filter(R=>!k.projectId||R.projectId===k.projectId).map(R=>s.jsx("option",{value:R.id,children:R.title},R.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("input",{type:"text",value:k.description,onChange:R=>j(V=>({...V,description:R.target.value})),placeholder:"What are you working on?",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Activity Type"}),s.jsxs("select",{value:k.entryType,onChange:R=>j(V=>({...V,entryType:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"billable",checked:k.isBillable,onChange:R=>j(V=>({...V,isBillable:R.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-foreground",children:"Billable"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:k.tags,onChange:R=>j(V=>({...V,tags:R.target.value})),placeholder:"frontend, backend, etc.",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground"})]})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary py-3",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polygon",{points:"10,8 16,12 10,16 10,8"})]}),"Start Timer"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4",children:["This ",y.charAt(0).toUpperCase()+y.slice(1)]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Hours"}),s.jsxs("span",{className:"text-xl font-bold text-foreground",children:[M.totalHours,"h"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Billable Hours"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[M.billableHours,"h"]})]}),M.totalAmount>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",M.totalAmount]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Entries"}),s.jsx("span",{className:"text-sm font-medium",children:C.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg per day"}),s.jsxs("span",{className:"text-sm font-medium",children:[y==="week"?Math.round(M.totalHours/7*10)/10:y==="month"?Math.round(M.totalHours/30*10)/10:Math.round(M.totalHours*10)/10,"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Most active project"}),s.jsx("span",{className:"text-sm font-medium",children:C.length>0?B(C[0].projectId):"None"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Time Entries"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of your tracked time"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Project"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Duration"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Billable"})]})}),s.jsxs("tbody",{children:[C.map((R,V)=>s.jsxs("tr",{className:V%2===0?"bg-background":"bg-muted/30",children:[s.jsx("td",{className:"py-3 px-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:R.description}),R.tags.length>0&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[R.tags.slice(0,2).map($=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:$},$)),R.tags.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",R.tags.length-2]})]})]})}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:B(R.projectId)}),s.jsx("td",{className:"py-3 px-6",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.entryType==="development"?"bg-primary/10 text-primary":R.entryType==="design"?"bg-purple-100 text-purple-800":R.entryType==="meeting"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.entryType})}),s.jsxs("td",{className:"py-3 px-6 font-medium",children:[Math.floor(R.duration/60),"h ",R.duration%60,"m"]}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:ot(new Date(R.startTime),"MMM dd")}),s.jsx("td",{className:"py-3 px-6",children:R.isBillable?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-muted-foreground",children:""})})]},R.id)),C.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No time entries found for the selected period"})})]})]})})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const A0e=[{id:"template-1",name:"Basic Business Website",description:"A professional website for small businesses including homepage, about, services, and contact pages.",category:"website",estimatedDuration:21,estimatedBudget:3500,difficulty:"beginner",tags:["business","professional","responsive"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Design",description:"Wireframes, mockups, and design approval",order:1,estimatedDuration:7,dependencies:[],deliverables:["design-mockups","wireframes"]},{id:"phase-2",name:"Development",description:"Website coding and implementation",order:2,estimatedDuration:10,dependencies:["phase-1"],deliverables:["homepage","about-page","services-page","contact-page"]},{id:"phase-3",name:"Testing & Launch",description:"Quality assurance and deployment",order:3,estimatedDuration:4,dependencies:["phase-2"],deliverables:["testing-report","live-website"]}],deliverables:[{id:"design-mockups",name:"Design Mockups",description:"Visual design concepts for all pages",phaseId:"phase-1",type:"design",estimatedHours:16,isRequired:!0},{id:"wireframes",name:"Wireframes",description:"Page structure and layout planning",phaseId:"phase-1",type:"design",estimatedHours:8,isRequired:!0},{id:"homepage",name:"Homepage",description:"Main landing page with hero section",phaseId:"phase-2",type:"code",estimatedHours:12,isRequired:!0},{id:"about-page",name:"About Page",description:"Company information and team section",phaseId:"phase-2",type:"code",estimatedHours:8,isRequired:!0},{id:"services-page",name:"Services Page",description:"Business services and offerings",phaseId:"phase-2",type:"code",estimatedHours:10,isRequired:!0},{id:"contact-page",name:"Contact Page",description:"Contact form and business information",phaseId:"phase-2",type:"code",estimatedHours:6,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:36,skills:["HTML","CSS","JavaScript","React"]},{id:"role-2",role:"social_media_coordinator",required:!1,estimatedHours:8,skills:["Social Media","Content Creation"]}],checklists:[]},{id:"template-2",name:"E-commerce Website",description:"Complete online store with product catalog, shopping cart, and payment integration.",category:"ecommerce",estimatedDuration:35,estimatedBudget:8500,difficulty:"intermediate",tags:["ecommerce","shopping","payments"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Requirements",description:"Product analysis and technical planning",order:1,estimatedDuration:5,dependencies:[],deliverables:["requirements-doc","tech-spec"]},{id:"phase-2",name:"Design & UI/UX",description:"User interface and experience design",order:2,estimatedDuration:8,dependencies:["phase-1"],deliverables:["ui-design","user-flows"]},{id:"phase-3",name:"Development",description:"Full-stack development and integration",order:3,estimatedDuration:18,dependencies:["phase-2"],deliverables:["frontend-code","backend-api","database-setup","payment-integration"]},{id:"phase-4",name:"Testing & Deployment",description:"Quality assurance and production launch",order:4,estimatedDuration:4,dependencies:["phase-3"],deliverables:["testing-report","live-site"]}],deliverables:[{id:"requirements-doc",name:"Requirements Document",description:"Detailed project requirements and specifications",phaseId:"phase-1",type:"document",estimatedHours:16,isRequired:!0},{id:"ui-design",name:"UI Design System",description:"Complete design system and component library",phaseId:"phase-2",type:"design",estimatedHours:24,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:80,skills:["React","Node.js","Database","API Development"]}],checklists:[]},{id:"template-3",name:"Social Media Campaign",description:"Complete social media strategy and content creation for brand awareness.",category:"social_media",estimatedDuration:28,estimatedBudget:4200,difficulty:"intermediate",tags:["social","content","branding"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Strategy & Planning",description:"Audience analysis and campaign strategy",order:1,estimatedDuration:7,dependencies:[],deliverables:["strategy-doc","content-calendar"]},{id:"phase-2",name:"Content Creation",description:"Design and create social media content",order:2,estimatedDuration:14,dependencies:["phase-1"],deliverables:["social-posts","graphics","videos"]},{id:"phase-3",name:"Launch & Monitoring",description:"Campaign execution and performance tracking",order:3,estimatedDuration:7,dependencies:["phase-2"],deliverables:["campaign-report","analytics"]}],deliverables:[],teamRoles:[{id:"role-1",role:"social_media_coordinator",required:!0,estimatedHours:56,skills:["Social Media","Content Creation","Graphic Design","Analytics"]}],checklists:[]}];function T0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState(A0e),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(null);P.useEffect(()=>{if(!e){r("/login");return}},[e,r]);const h=[{value:"all",label:"All Categories"},{value:"website",label:"Website"},{value:"social_media",label:"Social Media"},{value:"ecommerce",label:"E-commerce"},{value:"branding",label:"Branding"},{value:"mobile",label:"Mobile App"}],f=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],p=n.filter(x=>{const g=a==="all"||x.category===a,y=l==="all"||x.difficulty===l;return g&&y}),v=x=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[x]||"bg-gray-100 text-gray-800",b=x=>({website:"bg-primary/10 text-primary",social_media:"bg-pink-100 text-pink-800",ecommerce:"bg-purple-100 text-purple-800",branding:"bg-orange-100 text-orange-800",mobile:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"})[x]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Templates"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Jumpstart your projects with professionally designed templates and predefined workflows"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),s.jsx("select",{value:l,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),t.role==="admin"&&s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn-primary px-6 py-2",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Template"]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(x=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>d(x),children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:x.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v(x.difficulty)}`,children:x.difficulty})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:x.description})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b(x.category)}`,children:x.category.replace("_"," ")}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.phases.length," phases"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:[x.estimatedDuration," days"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Budget:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:["$",x.estimatedBudget.toLocaleString()]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[x.tags.slice(0,3).map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g)),x.tags.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",x.tags.length-3," more"]})]}),s.jsx("button",{className:"w-full btn-primary py-2 text-sm",children:"Use This Template"})]})]})]},x.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No templates found matching your criteria"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters or create a custom template"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u.name}),s.jsx("p",{className:"text-muted-foreground",children:u.description})]}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[u.estimatedDuration," days"]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Estimated Budget"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",u.estimatedBudget.toLocaleString()]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Difficulty"}),s.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${v(u.difficulty)}`,children:u.difficulty})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Project Phases"}),s.jsx("div",{className:"space-y-4",children:u.phases.map((x,g)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:x.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:x.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",s.jsxs("span",{className:"font-medium text-foreground",children:[x.estimatedDuration," days"]})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Deliverables: ",s.jsx("span",{className:"font-medium text-foreground",children:x.deliverables.length})]})]})]})]},x.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Team Requirements"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.teamRoles.map(x=>s.jsxs("div",{className:"p-4 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground capitalize",children:x.role.replace("_"," ")}),x.required&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Est. ",x.estimatedHours," hours"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:x.skills.map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g))})]},x.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>d(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Use This Template"})]})]})})})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function E0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState("30d"),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState([]),[h,f]=P.useState([]),[p,v]=P.useState([]);P.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}o(kt()),c(Jt()),d(Le()),f(nj()),v(Qa())},[e,t,r]);const x=(()=>{const T=Z3(new Date,n==="7d"?7:n==="30d"?30:n==="90d"?90:365);return{recentTickets:l.filter(O=>new Date(O.createdAt)>=T),recentProjects:a.filter(O=>new Date(O.createdAt)>=T),recentWebsite:h.filter(O=>new Date(O.date)>=T),recentSocial:p.filter(O=>new Date(O.date)>=T)}})(),g={totalProjects:a.length,activeProjects:a.filter(N=>N.status==="active").length,completedProjects:a.filter(N=>N.status==="completed").length,projectCompletionRate:a.length>0?Math.round(a.filter(N=>N.status==="completed").length/a.length*100):0,totalTickets:x.recentTickets.length,openTickets:x.recentTickets.filter(N=>N.status==="open"||N.status==="in_progress").length,resolvedTickets:x.recentTickets.filter(N=>N.status==="resolved").length,avgResolutionTime:2.4,totalPageViews:x.recentWebsite.reduce((N,T)=>N+T.pageViews,0),uniqueVisitors:x.recentWebsite.length>0?Math.round(x.recentWebsite.reduce((N,T)=>N+T.uniqueVisitors,0)/x.recentWebsite.length):0,avgBounceRate:x.recentWebsite.length>0?Math.round(x.recentWebsite.reduce((N,T)=>N+T.bounceRate,0)/x.recentWebsite.length):0,totalReach:x.recentSocial.reduce((N,T)=>N+T.reach,0),totalEngagement:x.recentSocial.reduce((N,T)=>N+T.engagement,0),engagementRate:x.recentSocial.length>0?Math.round(x.recentSocial.reduce((N,T)=>N+T.engagement,0)/x.recentSocial.reduce((N,T)=>N+T.reach,0)*100):0,totalUsers:u.length,activeUsers:u.filter(N=>N.isActive).length,teamUtilization:78,totalRevenue:156750,avgProjectValue:Math.round(a.reduce((N,T)=>N+3500,0)/a.length),profitMargin:32},y={revenue:[{month:"Jan",value:12500},{month:"Feb",value:15200},{month:"Mar",value:18900},{month:"Apr",value:22100},{month:"May",value:25800},{month:"Jun",value:31200}],projects:[{month:"Jan",value:8},{month:"Feb",value:12},{month:"Mar",value:15},{month:"Apr",value:18},{month:"May",value:22},{month:"Jun",value:25}]},w=a.filter(N=>N.status==="active").sort((N,T)=>new Date(T.updatedAt).getTime()-new Date(N.updatedAt).getTime()).slice(0,5),k=[{type:"project",action:"completed",item:"SpecCon Website",time:"2 hours ago"},{type:"ticket",action:"resolved",item:"Mobile navigation fix",time:"4 hours ago"},{type:"meeting",action:"scheduled",item:"Client presentation",time:"6 hours ago"},{type:"user",action:"joined",item:"Jane Smith",time:"1 day ago"},{type:"analytics",action:"reported",item:"Website traffic up 15%",time:"2 days ago"}],j=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),A=N=>({project:"",ticket:"",meeting:"",user:"",analytics:""})[N]||"",S=N=>({project:"text-primary",ticket:"text-green-600",meeting:"text-purple-600",user:"text-orange-600",analytics:"text-indigo-600"})[N]||"text-gray-600";return!t||t.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Executive Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive business overview and performance insights"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn-outline px-4 py-2",children:"Export Report"}),s.jsx("button",{className:"btn-primary px-4 py-2",children:"Schedule Meeting"})]})]}),s.jsx("div",{className:"flex gap-2 mb-8",children:[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}].map(N=>s.jsx("button",{onClick:()=>i(N.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===N.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:N.label},N.value))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:j(g.totalRevenue)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.projectCompletionRate,"% completion rate"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.totalPageViews.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[g.teamUtilization,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Utilization"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.activeUsers,"/",g.totalUsers," active members"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Performance Trends"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Revenue Growth"}),s.jsx("span",{className:"text-sm text-green-600",children:"+18%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.revenue.map((N,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${N.value/35e3*60}px`}},N.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.revenue.map(N=>s.jsx("span",{children:N.month},N.month))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Project Delivery"}),s.jsx("span",{className:"text-sm text-primary",children:"+25%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.projects.map((N,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${N.value/30*60}px`}},N.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.projects.map(N=>s.jsx("span",{children:N.month},N.month))})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Active Projects"}),s.jsx("div",{className:"space-y-4",children:w.map((N,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:T+1})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:N.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.currentStage,"  ",N.projectType]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.status==="active"?"bg-green-100 text-green-800":N.status==="completed"?"bg-success/10 text-success":"bg-yellow-100 text-yellow-800"}`,children:N.status})})]},N.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:k.map((N,T)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-xl",children:A(N.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:`font-medium ${S(N.type)}`,children:N.action.charAt(0).toUpperCase()+N.action.slice(1)})," "+N.item]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]},T))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full btn-primary text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),s.jsxs("button",{className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Send Message"]}),s.jsxs(Y,{to:"/analytics",className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Key Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Resolution Time"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.avgResolutionTime,"d"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.engagementRate,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[g.profitMargin,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Client Satisfaction"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"4.8/5.0"})]})]})]})]})]})]})}),s.jsx(we,{})]})}function P0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),n=P.useMemo(()=>[{id:"notif-1",type:"project",title:"Project Status Updated",message:"SpecCon website project has moved to the testing phase",read:!1,createdAt:new Date(Date.now()-1e3*60*30),actionUrl:"/client-portal/project/proj-1",priority:"medium",sender:"John Developer",metadata:{projectId:"proj-1",oldStatus:"development",newStatus:"testing"}},{id:"notif-2",type:"deadline",title:"Upcoming Deadline",message:"Andebe platform development deadline is approaching (2 days remaining)",read:!1,createdAt:new Date(Date.now()-1e3*60*60*2),actionUrl:"/calendar",priority:"high",metadata:{projectId:"proj-2",deadline:new Date(Date.now()+1e3*60*60*24*2)}},{id:"notif-3",type:"message",title:"New Message from Client",message:"Emma Business sent you a message about the Venueideas project",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4),actionUrl:"/messages",priority:"medium",sender:"Emma Business",metadata:{messageId:"message-6",projectId:"proj-10"}},{id:"notif-4",type:"meeting",title:"Meeting Reminder",message:"Client presentation meeting starts in 1 hour",read:!1,createdAt:new Date(Date.now()-1e3*60*15),actionUrl:"/calendar",priority:"urgent",metadata:{meetingId:"event-3",startTime:new Date(Date.now()+1e3*60*45)}},{id:"notif-5",type:"ticket",title:"Ticket Assigned",message:"New bug report assigned to you: Mobile navigation issue",read:!0,createdAt:new Date(Date.now()-1e3*60*60*6),actionUrl:"/developer/tickets",priority:"high",sender:"Admin User",metadata:{ticketId:"ticket-2",priority:"high"}},{id:"notif-6",type:"system",title:"System Maintenance",message:"Scheduled maintenance will begin tonight at 10 PM",read:!0,createdAt:new Date(Date.now()-1e3*60*60*24),priority:"low",metadata:{maintenanceStart:new Date(Date.now()+1e3*60*60*2)}}],[]),[i,a]=P.useState(n),[o,l]=P.useState("all"),[c,u]=P.useState("all");P.useEffect(()=>{const y=setInterval(()=>{if(Math.random()<.1){const w={id:`notif-${Date.now()}`,type:["project","ticket","message","deadline"][Math.floor(Math.random()*4)],title:"New Activity",message:"Something happened in your workspace",read:!1,createdAt:new Date,priority:["low","medium","high","urgent"][Math.floor(Math.random()*4)]};a(k=>[w,...k])}},5e3);return()=>clearInterval(y)},[]);const d=i.filter(y=>{const w=o==="all"||o==="unread"&&!y.read||o==="read"&&y.read,k=c==="all"||y.type===c;return w&&k}),h=i.filter(y=>!y.read).length,f=y=>{a(w=>w.map(k=>k.id===y?{...k,read:!0}:k))},p=()=>{a(y=>y.map(w=>({...w,read:!0})))},v=y=>{a(w=>w.filter(k=>k.id!==y))},b=y=>({project:"",ticket:"",message:"",deadline:"",meeting:"",system:""})[y]||"",x=y=>({low:"border-l-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-l-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-l-red-500 bg-red-50 dark:bg-red-900/20"})[y]||"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20",g=y=>{const k=Math.floor((new Date().getTime()-y.getTime())/(1e3*60));if(k<1)return"Just now";if(k<60)return`${k}m ago`;const j=Math.floor(k/60);if(j<24)return`${j}h ago`;const A=Math.floor(j/24);return A<7?`${A}d ago`:ot(y,"MMM dd")};return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Notifications"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Stay updated with real-time activity and important alerts",h>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),h," unread"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[h>0&&s.jsx("button",{onClick:p,className:"btn-outline",children:"Mark All Read"}),s.jsx("button",{className:"btn-primary",children:"Notification Settings"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Status:"}),[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"read",label:"Read"}].map(y=>s.jsx("button",{onClick:()=>l(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${o===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Type:"}),[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"ticket",label:"Tickets"},{value:"message",label:"Messages"},{value:"meeting",label:"Meetings"},{value:"deadline",label:"Deadlines"},{value:"system",label:"System"}].map(y=>s.jsx("button",{onClick:()=>u(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${c===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]})]})}),s.jsx("div",{className:"space-y-4",children:d.length>0?d.map(y=>s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 transition-all duration-200 hover:shadow-md ${y.read?"":`border-l-4 ${x(y.priority)}`}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-lg",children:b(y.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:y.title}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!y.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:g(y.createdAt)})]})]}),s.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:y.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.priority==="urgent"?"bg-red-100 text-red-800":y.priority==="high"?"bg-orange-100 text-orange-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.priority}),y.sender&&s.jsxs("span",{className:"text-muted-foreground",children:["From: ",y.sender]}),s.jsx("span",{className:"text-muted-foreground capitalize",children:y.type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[y.actionUrl&&s.jsx("button",{onClick:()=>r(y.actionUrl),className:"btn-primary text-sm px-3 py-1",children:"View"}),!y.read&&s.jsx("button",{onClick:()=>f(y.id),className:"btn-outline text-sm px-3 py-1",children:"Mark Read"}),s.jsx("button",{onClick:()=>v(y.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"Delete notification",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},y.id)):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-muted-foreground",children:o==="unread"?"All caught up! No unread notifications.":c!=="all"?`No ${c} notifications found.`:"You have no notifications at this time."})]})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl border border-primary/10 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Notification Preferences"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize when and how you receive notifications to stay informed without being overwhelmed."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Project Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Status changes, new milestones"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Ticket Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"New assignments, updates"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upcoming meetings, deadlines"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]})]})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const tP=(t,e,r,n)=>{const i=[],a=t.filter(k=>k.status==="completed").length,o=t.length,l=o>0?a/o*100:0;l>80?i.push({type:"success",title:"Excellent Project Completion Rate",description:`Your team has completed ${l.toFixed(1)}% of projects. This indicates high efficiency and client satisfaction.`,recommendation:"Consider taking on more complex projects to further challenge your team's capabilities.",impact:"high",category:"performance"}):l<50&&i.push({type:"warning",title:"Project Completion Rate Needs Improvement",description:`Only ${l.toFixed(1)}% of projects are completed. This may indicate workflow inefficiencies.`,recommendation:"Review project management processes and consider implementing more structured workflows.",impact:"high",category:"performance"});const c=e.filter(k=>k.status==="open"||k.status==="in_progress").length,u=e.filter(k=>k.status==="resolved").length,d=e.length;(d>0?u/d*100:0)<70&&i.push({type:"alert",title:"High Open Ticket Volume",description:`${c} tickets remain unresolved. This may impact client satisfaction.`,recommendation:"Reassign critical tickets and consider hiring additional support staff.",impact:"high",category:"support"});const f=r.filter(k=>k.isActive).length,p=r.length,v=f/p*100;v<80&&i.push({type:"info",title:"Underutilized Team Capacity",description:`${v.toFixed(1)}% of your team is actively engaged. There may be opportunities for growth.`,recommendation:"Consider taking on additional projects or providing professional development opportunities.",impact:"medium",category:"team"});const b=n.filter(k=>!k.isRead).length;b>10&&i.push({type:"warning",title:"High Volume of Unread Messages",description:`${b} messages are unread. This may indicate communication bottlenecks.`,recommendation:"Review team communication patterns and consider implementing daily standups.",impact:"medium",category:"communication"});const x=t.filter(k=>{const j=new Date(k.createdAt);return j.setDate(j.getDate()+30),new Date>j&&k.status!=="completed"});x.length>0&&i.push({type:"urgent",title:"Overdue Projects Detected",description:`${x.length} project(s) are behind schedule.`,recommendation:"Review project timelines and reallocate resources to bring projects back on track.",impact:"high",category:"timeline"});const g=28500;i.push({type:"success",title:"Exceptional Client Satisfaction",description:`Client satisfaction rating of ${4.8}/5.0 shows outstanding service quality.`,recommendation:"Leverage client testimonials in marketing materials and consider referral programs.",impact:"high",category:"client"});const w=g*1.15;return i.push({type:"info",title:"Revenue Growth Projection",description:`Based on current trends, projected monthly revenue could reach $${w.toLocaleString()}.`,recommendation:"Prepare for scaling by investing in team growth and process optimization.",impact:"medium",category:"forecasting"}),i.sort((k,j)=>{const A={high:3,medium:2,low:1},S={urgent:4,alert:3,warning:2,success:1,info:0};return A[k.impact]!==A[j.impact]?A[j.impact]-A[k.impact]:S[j.type]-S[k.type]})};function I0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState("all"),[l,c]=P.useState("all"),[u,d]=P.useState(!0);P.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}d(!0),setTimeout(()=>{const g=kt(),y=Jt(),w=Le(),k=t?Da(t.id):[],j=tP(g,y,w,k);i(j),d(!1)},2e3)},[e,t,r]);const h=[{value:"all",label:"All Insights"},{value:"performance",label:"Performance"},{value:"team",label:"Team"},{value:"client",label:"Client"},{value:"financial",label:"Financial"},{value:"communication",label:"Communication"},{value:"timeline",label:"Timeline"},{value:"forecasting",label:"Forecasting"}],f=[{value:"all",label:"All Priorities"},{value:"high",label:"High Impact"},{value:"medium",label:"Medium Impact"},{value:"low",label:"Low Impact"}],p=n.filter(g=>{const y=a==="all"||g.category===a,w=l==="all"||g.impact===l;return y&&w}),v=g=>({success:"",warning:"",alert:"",urgent:"",info:""})[g]||"",b=g=>({success:"border-green-500 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",alert:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20",info:"border-primary bg-secondary/10 dark:bg-secondary/20"})[g]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",x=g=>({high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[g]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" AI-Powered Insights"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Intelligent analysis and actionable recommendations to optimize your business performance"})]}),u&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Analyzing Your Data..."}),s.jsx("p",{className:"text-muted-foreground",children:"Our AI is processing your business metrics and generating insights"})]})]}),s.jsx("div",{className:"mt-4 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:g=>o(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impact Level"}),s.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{d(!0),setTimeout(()=>{const g=kt(),y=Jt(),w=Le(),k=t?Da(t.id):[],j=tP(g,y,w,k);i(j),d(!1)},1500)},className:"btn-primary px-6 py-2",children:" Re-analyze"})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((g,y)=>s.jsxs("div",{className:`rounded-xl border-l-4 p-6 ${b(g.type)} hover:shadow-lg transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"text-3xl",children:v(g.type)}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${x(g.impact)}`,children:[g.impact," impact"]})]}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-3",children:g.title}),s.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:g.description}),s.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Recommendation"}),s.jsx("p",{className:"text-sm text-foreground",children:g.recommendation})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{className:"capitalize",children:g.category}),s.jsx("span",{className:"capitalize",children:g.type})]})]},y))}),p.length===0&&!u&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No insights found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or run a new analysis to generate insights"}),s.jsx("button",{onClick:()=>{o("all"),c("all")},className:"btn-primary",children:"Show All Insights"})]}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 via-purple-500/5 to-blue-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" AI-Powered Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Advanced machine learning and predictive analytics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Predictive Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecast trends and project outcomes"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Recommendations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actionable insights for optimization"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Pattern Recognition"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Identify trends and anomalies"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Real-time Analysis"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous monitoring and alerts"})]})]})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const ry=[{id:"slack",name:"Slack",description:"Connect your workspace for real-time notifications and team communication",category:"communication",status:"available",icon:"",features:["Real-time notifications","Channel integration","Team mentions","Status updates"],setupSteps:["Authorize Slack workspace","Select notification channels","Configure message templates","Test integration"],pricing:"Free"},{id:"google-calendar",name:"Google Calendar",description:"Sync your calendar with Google Calendar for seamless scheduling",category:"productivity",status:"available",icon:"",features:["Two-way sync","Meeting invites","Availability sharing","Reminder integration"],setupSteps:["Connect Google account","Grant calendar permissions","Select calendars to sync","Configure sync settings"],pricing:"Free"},{id:"zapier",name:"Zapier",description:"Automate workflows by connecting with 5,000+ apps",category:"automation",status:"available",icon:"",features:["Workflow automation","App integrations","Custom triggers","Data synchronization"],setupSteps:["Create Zapier account","Generate API key","Configure webhooks","Test automation flows"],pricing:"$29.99/month"},{id:"mailchimp",name:"Mailchimp",description:"Sync client data and automate email campaigns",category:"marketing",status:"available",icon:"",features:["Contact synchronization","Automated campaigns","Performance tracking","List management"],setupSteps:["Connect Mailchimp account","Map data fields","Configure sync rules","Set up automation triggers"],pricing:"Free to $299/month"},{id:"stripe",name:"Stripe",description:"Process payments and manage billing automatically",category:"financial",status:"coming_soon",icon:"",features:["Payment processing","Invoice generation","Subscription management","Financial reporting"],setupSteps:["Connect Stripe account","Configure payment methods","Set up webhooks","Test payment flow"],pricing:"2.9% + 30 per transaction"},{id:"github",name:"GitHub",description:"Track development progress and code deployments",category:"development",status:"available",icon:"",features:["Repository monitoring","Deployment tracking","Issue synchronization","Code review integration"],setupSteps:["Authorize GitHub account","Select repositories","Configure webhooks","Set up notifications"],pricing:"Free"},{id:"figma",name:"Figma",description:"Sync design files and track creative project progress",category:"design",status:"coming_soon",icon:"",features:["File synchronization","Version tracking","Comment integration","Design handoff"],setupSteps:["Connect Figma account","Select design files","Configure sync settings","Set up notifications"],pricing:"Free to $144/year"},{id:"hubspot",name:"HubSpot",description:"CRM integration for lead management and client tracking",category:"crm",status:"available",icon:"",features:["Lead synchronization","Contact management","Deal tracking","Email integration"],setupSteps:["Connect HubSpot account","Map data fields","Configure sync rules","Set up automation"],pricing:"Free to $3,600/month"}];function C0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState("all"),[a,o]=P.useState(null),l=P.useMemo(()=>[{id:"slack-connected",integrationId:"slack",status:"connected",connectedAt:new Date(Date.now()-7*24*60*60*1e3),lastSync:new Date(Date.now()-30*60*1e3),settings:{channels:["#general","#projects","#client-updates"],notifications:["project_updates","deadline_alerts","client_messages"]}},{id:"google-calendar-connected",integrationId:"google-calendar",status:"connected",connectedAt:new Date(Date.now()-14*24*60*60*1e3),lastSync:new Date(Date.now()-5*60*1e3),settings:{calendars:["Work Calendar","Client Meetings"],syncDirection:"two-way",reminderTime:15}}],[]);P.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const c=[{value:"all",label:"All Categories"},{value:"communication",label:"Communication"},{value:"productivity",label:"Productivity"},{value:"automation",label:"Automation"},{value:"marketing",label:"Marketing"},{value:"financial",label:"Financial"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"crm",label:"CRM"}],u=ry.filter(p=>n==="all"||p.category===n),d=async p=>{var v;o(p),await new Promise(b=>setTimeout(b,2e3)),alert(`Successfully connected to ${(v=ry.find(b=>b.id===p))==null?void 0:v.name}!`),o(null)},h=p=>l.find(v=>v.integrationId===p),f=p=>({connected:"bg-green-100 text-green-800",available:"bg-secondary/10 text-secondary",coming_soon:"bg-yellow-100 text-yellow-800"})[p]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" API Integrations Hub"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Connect with your favorite tools and automate your workflow"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Connected Services"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(p=>{const v=ry.find(b=>b.id===p.integrationId);return v?s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:v.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Connected"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",new Date(p.lastSync).toLocaleString()]})]},p.id):null})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Filter by Category"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:c.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{className:"font-medium",children:["API Status: ",s.jsx("span",{className:"text-green-600",children:" Online"})]}),s.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>{const v=h(p.id),b=a===p.id;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-3xl",children:p.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:p.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f(p.status)}`,children:p.status.replace("_"," ")})]})]}),v&&s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:p.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Key Features:"}),s.jsx("ul",{className:"space-y-1",children:p.features.slice(0,3).map((x,g)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),x]},g))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Pricing: ",s.jsx("span",{className:"text-primary",children:p.pricing})]})}),s.jsx("div",{className:"flex gap-3",children:v?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"flex-1 btn-outline text-sm",children:"Configure"}),s.jsx("button",{className:"btn-outline text-red-600 hover:bg-red-50 text-sm px-4",children:"Disconnect"})]}):p.status==="coming_soon"?s.jsx("button",{className:"flex-1 btn-outline text-sm",disabled:!0,children:"Coming Soon"}):s.jsx("button",{onClick:()=>d(p.id),disabled:b,className:"flex-1 btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:b?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):"Connect"})}),!v&&p.status==="available"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Setup Steps:"}),s.jsx("ol",{className:"text-xs text-muted-foreground space-y-1",children:p.setupSteps.map((x,g)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"flex-shrink-0 w-4 h-4 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium",children:g+1}),x]},g))})]})]},p.id)})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Why Integrate?"}),s.jsx("p",{className:"text-muted-foreground",children:"Maximize productivity with seamless tool connections"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Automate Workflows"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminate manual data entry and repetitive tasks with smart automation"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Real-time Sync"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep all your tools in sync with instant data synchronization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Unified Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get comprehensive insights across all connected platforms"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Developer Resources"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"REST API"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Build custom integrations with our comprehensive REST API"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"View API Documentation"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"Generate API Key"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Receive real-time notifications for system events"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"Configure Webhooks"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"View Event Logs"})]})]})]})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const O0e=[{id:"workflow-1",name:"New Project Welcome Email",description:"Automatically send welcome email when a new project is created",trigger:{type:"project_created",conditions:[]},actions:[{type:"send_email",config:{to:"{{client.email}}",subject:"Welcome to {{project.name}}!",template:"welcome_email"}},{type:"create_task",config:{title:"Send project brief to client",assignee:"account_manager",dueDate:"2 days from now"}}],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),lastTriggered:new Date(Date.now()-2*24*60*60*1e3),triggerCount:15},{id:"workflow-2",name:"High Priority Ticket Escalation",description:"Escalate high-priority tickets and notify team leads",trigger:{type:"ticket_created",conditions:[{field:"priority",operator:"equals",value:"critical"}]},actions:[{type:"notify_user",config:{user:"team_lead",message:"Critical ticket created: {{ticket.title}}",channel:"urgent"}},{type:"update_ticket",config:{status:"in_progress",assignee:"senior_developer"}},{type:"create_meeting",config:{title:"Urgent Ticket Review: {{ticket.title}}",attendees:["team_lead","project_manager"],duration:30}}],isActive:!0,createdAt:new Date(Date.now()-45*24*60*60*1e3),lastTriggered:new Date(Date.now()-1*24*60*60*1e3),triggerCount:8},{id:"workflow-3",name:"Project Completion Celebration",description:"Celebrate project completion with automated notifications",trigger:{type:"project_completed",conditions:[]},actions:[{type:"send_notification",config:{to:"all_team_members",message:" Project {{project.name}} completed successfully!",type:"celebration"}},{type:"create_task",config:{title:"Schedule project retrospective meeting",assignee:"project_manager",dueDate:"1 week from now"}},{type:"send_email",config:{to:"{{client.email}}",subject:"Project {{project.name}} Completed!",template:"completion_email"}}],isActive:!0,createdAt:new Date(Date.now()-60*24*60*60*1e3),lastTriggered:new Date(Date.now()-5*24*60*60*1e3),triggerCount:12}],ny=[{id:"project_created",name:"Project Created",icon:"",description:"When a new project is created"},{id:"project_completed",name:"Project Completed",icon:"",description:"When a project status changes to completed"},{id:"ticket_created",name:"Ticket Created",icon:"",description:"When a new ticket is created"},{id:"ticket_updated",name:"Ticket Updated",icon:"",description:"When a ticket is updated"},{id:"client_feedback",name:"Client Feedback",icon:"",description:"When client submits feedback"},{id:"deadline_approaching",name:"Deadline Approaching",icon:"",description:"When a deadline is within 24 hours"}],iy=[{id:"send_email",name:"Send Email",icon:"",description:"Send an email notification"},{id:"send_notification",name:"Send Notification",icon:"",description:"Send in-app notification"},{id:"create_task",name:"Create Task",icon:"",description:"Create a new task"},{id:"update_ticket",name:"Update Ticket",icon:"",description:"Update ticket properties"},{id:"create_meeting",name:"Create Meeting",icon:"",description:"Schedule a meeting"},{id:"notify_user",name:"Notify User",icon:"",description:"Send notification to specific user"},{id:"webhook",name:"Webhook",icon:"",description:"Send data to external service"}];function M0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),n=P.useMemo(()=>O0e,[]),[i,a]=P.useState(n),[o,l]=P.useState(null),[c,u]=P.useState(!1),[d,h]=P.useState({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]});P.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const f=()=>{const g={...d,id:`workflow-${Date.now()}`,isActive:!0,createdAt:new Date,lastTriggered:null,triggerCount:0};a(y=>[g,...y]),h({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]}),u(!1)},p=g=>{a(y=>y.map(w=>w.id===g?{...w,isActive:!w.isActive}:w))},v=g=>{confirm("Are you sure you want to delete this workflow?")&&a(y=>y.filter(w=>w.id!==g))},b=g=>{const y=ny.find(w=>w.id===g);return(y==null?void 0:y.name)||g},x=g=>{const y=iy.find(w=>w.id===g);return(y==null?void 0:y.name)||g};return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(Y,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" Workflow Automation"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Create powerful automations to streamline your business processes"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Workflow"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map(g=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g.isActive?"bg-green-500":"bg-gray-400"}`}),s.jsx("button",{onClick:()=>l(g),className:"p-1 hover:bg-muted rounded",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"font-medium",children:b(g.trigger.type)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"font-medium",children:[g.actions.length," configured"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"font-medium",children:[g.triggerCount," times"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(g.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g.isActive?"bg-green-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g.isActive?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:"text-xs text-muted-foreground",children:g.isActive?"Active":"Inactive"})]}),s.jsx("button",{onClick:()=>v(g.id),className:"p-1 text-muted-foreground hover:text-red-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},g.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Triggers"}),s.jsx("div",{className:"space-y-3",children:ny.map(g=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:g.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})]},g.id))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Actions"}),s.jsx("div",{className:"space-y-3",children:iy.map(g=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:g.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})]},g.id))})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Create New Workflow"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Workflow Name"}),s.jsx("input",{type:"text",value:d.name,onChange:g=>h(y=>({...y,name:g.target.value})),placeholder:"Enter workflow name",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{value:d.description,onChange:g=>h(y=>({...y,description:g.target.value})),placeholder:"Describe what this workflow does",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Trigger Event"}),s.jsxs("select",{value:d.trigger.type,onChange:g=>h(y=>({...y,trigger:{...y.trigger,type:g.target.value}})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a trigger"}),ny.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsx("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-primary dark:text-primary",children:[" ",s.jsx("strong",{children:"Pro Tip:"})," Start with simple workflows and gradually add complexity. Test your workflows thoroughly before deploying to production."]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>u(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!d.name.trim()||!d.trigger.type,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})]})})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:o.name}),s.jsx("p",{className:"text-muted-foreground",children:o.description})]}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workflow Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 text-sm px-2 py-1 rounded-full ${o.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o.isActive?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"ml-2 text-sm",children:b(o.trigger.type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.actions.length," configured"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.triggerCount," times"]})]}),o.lastTriggered&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Run:"}),s.jsx("span",{className:"ml-2 text-sm",children:new Date(o.lastTriggered).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Configured Actions"}),s.jsxs("div",{className:"space-y-3",children:[o.actions.map((g,y)=>{var w;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-xl",children:((w=iy.find(k=>k.id===g.type))==null?void 0:w.icon)||""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:x(g.type)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configured with ",Object.keys(g.config||{}).length," settings"]})]})]},y)}),o.actions.length===0&&s.jsx("p",{className:"text-muted-foreground text-sm",children:"No actions configured yet"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border mt-8",children:[s.jsx("button",{onClick:()=>l(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Edit Workflow"})]})]})})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500/5 via-blue-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Automation Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your business with intelligent workflows"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Reduce Manual Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate repetitive tasks and focus on strategic work that matters"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Increase Efficiency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Streamline processes and reduce response times across your organization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Improve Consistency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ensure standardized processes and reduce human error in workflows"})]})]})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function D0e(){const{user:t,isSignedIn:e}=pe(),r=ve(),[n,i]=P.useState([]),[a,o]=P.useState([]),[l,c]=P.useState([]),[u,d]=P.useState([]),[h,f]=P.useState(!0);P.useEffect(()=>{if(!e){r("/login");return}const w=kt(),k=Jt(),j=Le(),A=t?Da(t.id):[];i(w),o(k),c(j),d(A),f(!1)},[e,t,r]);const p={totalProjects:n.length,activeProjects:n.filter(w=>w.status==="active").length,completedProjects:n.filter(w=>w.status==="completed").length,totalTickets:a.length,openTickets:a.filter(w=>w.status==="open"||w.status==="in_progress").length,resolvedTickets:a.filter(w=>w.status==="resolved").length,totalUsers:l.length,activeUsers:l.filter(w=>w.isActive).length,unreadMessages:u.filter(w=>!w.isRead&&w.recipientId===(t==null?void 0:t.id)).length,totalRevenue:156750},v=[{type:"project",action:"completed",item:"SpecCon Website",user:"John Developer",time:"2 hours ago",icon:""},{type:"ticket",action:"resolved",item:"Mobile navigation fix",user:"Jane Smith",time:"4 hours ago",icon:""},{type:"message",action:"sent",item:"Client feedback received",user:"Emma Business",time:"6 hours ago",icon:""},{type:"meeting",action:"scheduled",item:"Project review meeting",user:"Admin User",time:"1 day ago",icon:""}],b=()=>{if(!t)return[];switch(t.role){case"admin":return[{title:"New Project",description:"Create a new project",icon:"",action:"/admin/projects/new",color:"bg-primary"},{title:"Manage Users",description:"Add or edit team members",icon:"",action:"/admin/users",color:"bg-green-500"},{title:"View Analytics",description:"Business performance data",icon:"",action:"/analytics",color:"bg-purple-500"},{title:"System Reports",description:"Executive dashboard",icon:"",action:"/reports",color:"bg-orange-500"}];case"web_developer":return[{title:"My Tickets",description:"Assigned development tasks",icon:"",action:"/developer/tickets",color:"bg-primary"},{title:"My Projects",description:"Social media campaigns",icon:"",action:"/coordinator/projects",color:"bg-primary"},{title:"Project Status",description:"View project progress",icon:"",action:"/client-portal/dashboard",color:"bg-primary"},{title:"Submit Feedback",description:"Rate our work",icon:"",action:"/client-portal/feedback",color:"bg-green-500"},{title:"Share Files",description:"Upload project assets",icon:"",action:"/client-portal/files",color:"bg-purple-500"},{title:"Message Team",description:"Contact your team",icon:"",action:"/messages",color:"bg-orange-500"}];default:return[]}},x=[{type:"deadline",title:"Project Deadline Approaching",message:"Andebe platform development deadline is in 2 days",priority:"high",action:"/calendar"},{type:"ticket",title:"High Priority Ticket",message:"Critical bug reported in production system",priority:"urgent",action:"/tickets"},{type:"meeting",title:"Meeting Reminder",message:"Client presentation in 1 hour",priority:"medium",action:"/calendar"}],g=w=>({low:"border-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20"})[w]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",y=w=>({low:"",medium:"",high:"",urgent:""})[w]||"";return t?s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:["Welcome back, ",t.fullName,"! "]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Here's what's happening in your workspace today"})]}),x.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Priority Alerts"}),s.jsx("div",{className:"space-y-4",children:x.map((w,k)=>s.jsx(Y,{to:w.action,className:`block p-4 rounded-xl border-l-4 ${g(w.priority)} hover:shadow-md transition-shadow`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:y(w.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:w.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:w.message})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},k))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.resolvedTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Resolved"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeUsers}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Team Members"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",p.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b().map((w,k)=>s.jsx(Y,{to:w.action,className:"group p-4 border border-border/50 rounded-lg hover:border-primary/50 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${w.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform`,children:w.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},k))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:v.map((w,k)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-lg",children:w.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-medium",children:w.user})," ",w.action," ",s.jsx("span",{className:"font-medium",children:w.item})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.time})]})]},k))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:s.jsx(Y,{to:"/notifications",className:"text-primary hover:underline text-sm font-medium",children:"View all notifications "})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Status"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Healthy"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Response"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"120ms"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Team Productivity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Daily Hours"}),s.jsx("span",{className:"text-sm font-medium",children:"6.8h"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tickets/Day"}),s.jsx("span",{className:"text-sm font-medium",children:"4.2"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"2.1h"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Client Satisfaction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Rating"}),s.jsx("span",{className:"text-sm font-medium",children:"4.8/5.0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"98%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Retention Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"94%"})]})]})]})]})]})}),s.jsx(we,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function R0e(){const{isSignedIn:t,user:e}=pe(),r=ve(),i=Jl().id,a=i?Ja(i):null,o=Le(),l=i?dg(i):[],[c,u]=P.useState(!a),[d,h]=P.useState(a||null),[f,p]=P.useState(a&&o.find(j=>j.id===a.clientId)||null),[v,b]=P.useState(a&&o.find(j=>j.id===a.webDeveloperId)||null),[x,g]=P.useState(a&&o.find(j=>j.id===a.socialMediaCoordinatorId)||null),[y,w]=P.useState(l);if(P.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),P.useEffect(()=>{a||r("/admin/dashboard")},[a,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(c||!d)return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(we,{})]});const k={totalTickets:y.length,openTickets:y.filter(j=>j.status==="open").length,inProgressTickets:y.filter(j=>j.status==="in_progress").length,resolvedTickets:y.filter(j=>j.status==="resolved"||j.status==="closed").length};return s.jsxs(s.Fragment,{children:[s.jsx(be,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Y,{to:"/admin/dashboard",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:d.name}),s.jsx(xr,{status:d.status})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Y,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"}),s.jsx(Y,{to:`/admin/analytics/${i}`,className:"btn-outline",children:"View Analytics"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Project Type"}),s.jsx("div",{className:"text-foreground capitalize",children:d.projectType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("div",{className:"text-foreground",children:d.description})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Stage"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Br(d.currentStage)})]}),d.websiteUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:d.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:d.websiteUrl})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),f?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:f.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Web Developer"}),v?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:v.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Social Media Coordinator"}),x?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:x.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:x.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]})]})]}),d.projectType==="website"&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Analytics"}),s.jsxs("div",{className:"space-y-4",children:[d.googleAnalyticsPropertyId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:d.googleAnalyticsPropertyId})]}),d.googleAnalyticsViewId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:d.googleAnalyticsViewId})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("div",{className:"text-foreground",children:new Date(d.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.launchDate&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Launch Date"}),s.jsx("div",{className:"text-foreground",children:new Date(d.launchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Last Updated"}),s.jsx("div",{className:"text-foreground",children:Rn(d.updatedAt)})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:k.totalTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:k.openTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:k.inProgressTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:k.resolvedTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})]}),d.notes&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Notes"}),s.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:d.notes})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground",children:["Tickets (",y.length,")"]}),s.jsx(Y,{to:`/admin/tickets?project=${i}`,className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),y.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tickets for this project yet"}):s.jsx("div",{className:"space-y-4",children:y.slice(0,10).map(j=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]}),s.jsx(Ua,{priority:j.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(xr,{status:j.status}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded capitalize",children:j.type.replace("_"," ")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Rn(j.createdAt)})]})]},j.id))})]})]})]})]})}),s.jsx(we,{})]})}function L0e(){const{user:t}=pe();return s.jsx(bye,{},(t==null?void 0:t.id)||"guest")}function $0e(){return s.jsx(Uz,{defaultTheme:"light",storageKey:"marketing-website-theme",children:s.jsx(Vz,{children:s.jsxs(W$,{children:[s.jsx(fe,{path:"/",element:s.jsx(qz,{})}),s.jsx(fe,{path:"/login",element:s.jsx(Kz,{})}),s.jsx(fe,{path:"/register",element:s.jsx(Yz,{})}),s.jsx(fe,{path:"/dashboard",element:s.jsx(Xz,{})}),s.jsx(fe,{path:"/messages",element:s.jsx(h0e,{})}),s.jsx(fe,{path:"/admin/dashboard",element:s.jsx(L0e,{})}),s.jsx(fe,{path:"/admin/users",element:s.jsx(Eye,{})}),s.jsx(fe,{path:"/admin/users/:id/edit",element:s.jsx(Pye,{})}),s.jsx(fe,{path:"/admin/users/new",element:s.jsx($ye,{})}),s.jsx(fe,{path:"/admin/projects",element:s.jsx(Iye,{})}),s.jsx(fe,{path:"/admin/projects/new",element:s.jsx(Jye,{})}),s.jsx(fe,{path:"/admin/projects/:id",element:s.jsx(R0e,{})}),s.jsx(fe,{path:"/admin/projects/:id/edit",element:s.jsx(Dye,{})}),s.jsx(fe,{path:"/tickets",element:s.jsx(Oye,{})}),s.jsx(fe,{path:"/analytics",element:s.jsx(Mye,{})}),s.jsx(fe,{path:"/admin/analytics",element:s.jsx(x0e,{})}),s.jsx(fe,{path:"/developer/analytics",element:s.jsx(y0e,{})}),s.jsx(fe,{path:"/coordinator/analytics",element:s.jsx(b0e,{})}),s.jsx(fe,{path:"/client/analytics",element:s.jsx(w0e,{})}),s.jsx(fe,{path:"/analytics/:id",element:s.jsx(v0e,{})}),s.jsx(fe,{path:"/admin/analytics/:id",element:s.jsx(Rye,{})}),s.jsx(fe,{path:"/calendar",element:s.jsx(N0e,{})}),s.jsx(fe,{path:"/time-tracking",element:s.jsx(k0e,{})}),s.jsx(fe,{path:"/templates",element:s.jsx(T0e,{})}),s.jsx(fe,{path:"/reports",element:s.jsx(E0e,{})}),s.jsx(fe,{path:"/notifications",element:s.jsx(P0e,{})}),s.jsx(fe,{path:"/ai-insights",element:s.jsx(I0e,{})}),s.jsx(fe,{path:"/integrations",element:s.jsx(C0e,{})}),s.jsx(fe,{path:"/automation",element:s.jsx(M0e,{})}),s.jsx(fe,{path:"/search",element:s.jsx(Yye,{})}),s.jsx(fe,{path:"/dashboard/enhanced",element:s.jsx(D0e,{})}),s.jsx(fe,{path:"/admin/tickets",element:s.jsx(Cye,{})}),s.jsx(fe,{path:"/admin/notifications",element:s.jsx(Lye,{})}),s.jsx(fe,{path:"/developer/dashboard",element:s.jsx(Vye,{})}),s.jsx(fe,{path:"/developer/tickets",element:s.jsx(Fye,{})}),s.jsx(fe,{path:"/coordinator/dashboard",element:s.jsx(Bye,{})}),s.jsx(fe,{path:"/coordinator/projects",element:s.jsx(Uye,{})}),s.jsx(fe,{path:"/coordinator/tickets",element:s.jsx(zye,{})}),s.jsx(fe,{path:"/coordinator/analytics/new",element:s.jsx(Wye,{})}),s.jsx(fe,{path:"/client/dashboard",element:s.jsx(Hye,{})}),s.jsx(fe,{path:"/client/projects",element:s.jsx(qye,{})}),s.jsx(fe,{path:"/client/tickets",element:s.jsx(Gye,{})}),s.jsx(fe,{path:"/client/tickets/new",element:s.jsx(Kye,{})}),s.jsx(fe,{path:"/switch-role",element:s.jsx(Qye,{})}),s.jsx(fe,{path:"/client-portal/dashboard",element:s.jsx(f0e,{})}),s.jsx(fe,{path:"/client-portal/project/:id",element:s.jsx(m0e,{})}),s.jsx(fe,{path:"/client-portal/files",element:s.jsx(p0e,{})}),s.jsx(fe,{path:"/client-portal/feedback",element:s.jsx(g0e,{})}),s.jsx(fe,{path:"*",element:s.jsx(U$,{to:"/",replace:!0})})]})})})}sy.createRoot(document.getElementById("root")).render(s.jsx(L.StrictMode,{children:s.jsx(J$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx($0e,{})})}));
