function AE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sv={exports:{}},hc={},iv={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=Symbol.for("react.element"),CE=Symbol.for("react.portal"),PE=Symbol.for("react.fragment"),RE=Symbol.for("react.strict_mode"),DE=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),ME=Symbol.for("react.context"),OE=Symbol.for("react.forward_ref"),LE=Symbol.for("react.suspense"),UE=Symbol.for("react.memo"),FE=Symbol.for("react.lazy"),dp=Symbol.iterator;function zE(t){return t===null||typeof t!="object"?null:(t=dp&&t[dp]||t["@@iterator"],typeof t=="function"?t:null)}var ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},av=Object.assign,lv={};function li(t,e,n){this.props=t,this.context=e,this.refs=lv,this.updater=n||ov}li.prototype.isReactComponent={};li.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};li.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cv(){}cv.prototype=li.prototype;function Eh(t,e,n){this.props=t,this.context=e,this.refs=lv,this.updater=n||ov}var bh=Eh.prototype=new cv;bh.constructor=Eh;av(bh,li.prototype);bh.isPureReactComponent=!0;var hp=Array.isArray,uv=Object.prototype.hasOwnProperty,Th={current:null},dv={key:!0,ref:!0,__self:!0,__source:!0};function hv(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)uv.call(e,r)&&!dv.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:ea,type:t,key:i,ref:a,props:s,_owner:Th.current}}function BE(t,e){return{$$typeof:ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ea}function $E(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fp=/\/+/g;function gu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$E(""+t.key):e.toString(36)}function Ja(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ea:case CE:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+gu(a,0):r,hp(s)?(n="",t!=null&&(n=t.replace(fp,"$&/")+"/"),Ja(s,e,n,"",function(d){return d})):s!=null&&(Nh(s)&&(s=BE(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(fp,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",hp(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+gu(i,c);a+=Ja(i,e,n,u,s)}else if(u=zE(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+gu(i,c++),a+=Ja(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Aa(t,e,n){if(t==null)return t;var r=[],s=0;return Ja(t,r,"","",function(i){return e.call(n,i,s++)}),r}function WE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ft={current:null},Za={transition:null},HE={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Th};function fv(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Aa,forEach:function(t,e,n){Aa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Aa(t,function(){e++}),e},toArray:function(t){return Aa(t,function(e){return e})||[]},only:function(t){if(!Nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=li;te.Fragment=PE;te.Profiler=DE;te.PureComponent=Eh;te.StrictMode=RE;te.Suspense=LE;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HE;te.act=fv;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=av({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Th.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)uv.call(e,u)&&!dv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:ea,type:t.type,key:s,ref:i,props:r,_owner:a}};te.createContext=function(t){return t={$$typeof:ME,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VE,_context:t},t.Consumer=t};te.createElement=hv;te.createFactory=function(t){var e=hv.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:OE,render:t}};te.isValidElement=Nh;te.lazy=function(t){return{$$typeof:FE,_payload:{_status:-1,_result:t},_init:WE}};te.memo=function(t,e){return{$$typeof:UE,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=Za.transition;Za.transition={};try{t()}finally{Za.transition=e}};te.unstable_act=fv;te.useCallback=function(t,e){return ft.current.useCallback(t,e)};te.useContext=function(t){return ft.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return ft.current.useDeferredValue(t)};te.useEffect=function(t,e){return ft.current.useEffect(t,e)};te.useId=function(){return ft.current.useId()};te.useImperativeHandle=function(t,e,n){return ft.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return ft.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return ft.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return ft.current.useMemo(t,e)};te.useReducer=function(t,e,n){return ft.current.useReducer(t,e,n)};te.useRef=function(t){return ft.current.useRef(t)};te.useState=function(t){return ft.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return ft.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return ft.current.useTransition()};te.version="18.3.1";iv.exports=te;var V=iv.exports;const mv=kE(V),qE=AE({__proto__:null,default:mv},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=V,KE=Symbol.for("react.element"),QE=Symbol.for("react.fragment"),YE=Object.prototype.hasOwnProperty,XE=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JE={key:!0,ref:!0,__self:!0,__source:!0};function pv(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)YE.call(e,r)&&!JE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KE,type:t,key:i,ref:a,props:s,_owner:XE.current}}hc.Fragment=QE;hc.jsx=pv;hc.jsxs=pv;sv.exports=hc;var o=sv.exports,td={},gv={exports:{}},jt={},yv={exports:{}},vv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Y){var Z=B.length;B.push(Y);e:for(;0<Z;){var pe=Z-1>>>1,Te=B[pe];if(0<s(Te,Y))B[pe]=Y,B[Z]=Te,Z=pe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],Z=B.pop();if(Z!==Y){B[0]=Z;e:for(var pe=0,Te=B.length,Pr=Te>>>1;pe<Pr;){var At=2*(pe+1)-1,Rr=B[At],Ut=At+1,Vn=B[Ut];if(0>s(Rr,Z))Ut<Te&&0>s(Vn,Rr)?(B[pe]=Vn,B[Ut]=Z,pe=Ut):(B[pe]=Rr,B[At]=Z,pe=At);else if(Ut<Te&&0>s(Vn,Z))B[pe]=Vn,B[Ut]=Z,pe=Ut;else break e}}return Y}function s(B,Y){var Z=B.sortIndex-Y.sortIndex;return Z!==0?Z:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,g=3,_=!1,A=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=B)r(d),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(d)}}function C(B){if(k=!1,w(B),!A)if(n(u)!==null)A=!0,wi(L);else{var Y=n(d);Y!==null&&Ei(C,Y.startTime-B)}}function L(B,Y){A=!1,k&&(k=!1,b(x),x=-1),_=!0;var Z=g;try{for(w(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||B&&!j());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,g=p.priorityLevel;var Te=pe(p.expirationTime<=Y);Y=t.unstable_now(),typeof Te=="function"?p.callback=Te:p===n(u)&&r(u),w(Y)}else r(u);p=n(u)}if(p!==null)var Pr=!0;else{var At=n(d);At!==null&&Ei(C,At.startTime-Y),Pr=!1}return Pr}finally{p=null,g=Z,_=!1}}var F=!1,E=null,x=-1,T=5,I=-1;function j(){return!(t.unstable_now()-I<T)}function P(){if(E!==null){var B=t.unstable_now();I=B;var Y=!0;try{Y=E(!0,B)}finally{Y?N():(F=!1,E=null)}}else F=!1}var N;if(typeof y=="function")N=function(){y(P)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,pn=We.port2;We.port1.onmessage=P,N=function(){pn.postMessage(null)}}else N=function(){S(P,0)};function wi(B){E=B,F||(F=!0,N())}function Ei(B,Y){x=S(function(){B(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){A||_||(A=!0,wi(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var Z=g;g=Y;try{return B()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=g;g=B;try{return Y()}finally{g=Z}},t.unstable_scheduleCallback=function(B,Y,Z){var pe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?pe+Z:pe):Z=pe,B){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=Z+Te,B={id:f++,callback:Y,priorityLevel:B,startTime:Z,expirationTime:Te,sortIndex:-1},Z>pe?(B.sortIndex=Z,e(d,B),n(u)===null&&B===n(d)&&(k?(b(x),x=-1):k=!0,Ei(C,Z-pe))):(B.sortIndex=Te,e(u,B),A||_||(A=!0,wi(L))),B},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(B){var Y=g;return function(){var Z=g;g=Y;try{return B.apply(this,arguments)}finally{g=Z}}}})(vv);yv.exports=vv;var ZE=yv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb=V,Nt=ZE;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xv=new Set,Eo={};function as(t,e){Ks(t,e),Ks(t+"Capture",e)}function Ks(t,e){for(Eo[t]=e,t=0;t<e.length;t++)xv.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=Object.prototype.hasOwnProperty,tb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mp={},pp={};function nb(t){return nd.call(pp,t)?!0:nd.call(mp,t)?!1:tb.test(t)?pp[t]=!0:(mp[t]=!0,!1)}function rb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sb(t,e,n,r){if(e===null||typeof e>"u"||rb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ih=/[\-:]([a-z])/g;function jh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ih,jh);Qe[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ih,jh);Qe[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ih,jh);Qe[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sh(t,e,n,r){var s=Qe.hasOwnProperty(e)?Qe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sb(e,n,s,r)&&(n=null),r||s===null?nb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rn=eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),rd=Symbol.for("react.profiler"),_v=Symbol.for("react.provider"),wv=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),sd=Symbol.for("react.suspense"),id=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),Ev=Symbol.for("react.offscreen"),gp=Symbol.iterator;function Ui(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,yu;function Ki(t){if(yu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yu=e&&e[1]||""}return`
`+yu+t}var vu=!1;function xu(t,e){if(!t||vu)return"";vu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{vu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ki(t):""}function ib(t){switch(t.tag){case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 2:case 15:return t=xu(t.type,!1),t;case 11:return t=xu(t.type.render,!1),t;case 1:return t=xu(t.type,!0),t;default:return""}}function od(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case Ns:return"Portal";case rd:return"Profiler";case Ah:return"StrictMode";case sd:return"Suspense";case id:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wv:return(t.displayName||"Context")+".Consumer";case _v:return(t._context.displayName||"Context")+".Provider";case kh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ch:return e=t.displayName||null,e!==null?e:od(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return od(t(e))}catch{}}return null}function ob(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return od(e);case 8:return e===Ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ab(t){var e=bv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ca(t){t._valueTracker||(t._valueTracker=ab(t))}function Tv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ad(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nv(t,e){e=e.checked,e!=null&&Sh(t,"checked",e,!1)}function ld(t,e){Nv(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cd(t,e.type,n):e.hasOwnProperty("defaultValue")&&cd(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cd(t,e,n){(e!=="number"||wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qi=Array.isArray;function Ls(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ud(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Qi(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function Iv(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _p(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pa,Sv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lb=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(t){lb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),io[e]=io[t]})});function Av(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||io.hasOwnProperty(t)&&io[t]?(""+e).trim():e+"px"}function kv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Av(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cb=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hd(t,e){if(e){if(cb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=null;function Ph(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pd=null,Us=null,Fs=null;function wp(t){if(t=ra(t)){if(typeof pd!="function")throw Error(U(280));var e=t.stateNode;e&&(e=yc(e),pd(t.stateNode,t.type,e))}}function Cv(t){Us?Fs?Fs.push(t):Fs=[t]:Us=t}function Pv(){if(Us){var t=Us,e=Fs;if(Fs=Us=null,wp(t),e)for(t=0;t<e.length;t++)wp(e[t])}}function Rv(t,e){return t(e)}function Dv(){}var _u=!1;function Vv(t,e,n){if(_u)return t(e,n);_u=!0;try{return Rv(t,e,n)}finally{_u=!1,(Us!==null||Fs!==null)&&(Dv(),Pv())}}function To(t,e){var n=t.stateNode;if(n===null)return null;var r=yc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var gd=!1;if(Nn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){gd=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{gd=!1}function ub(t,e,n,r,s,i,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var oo=!1,El=null,bl=!1,yd=null,db={onError:function(t){oo=!0,El=t}};function hb(t,e,n,r,s,i,a,c,u){oo=!1,El=null,ub.apply(db,arguments)}function fb(t,e,n,r,s,i,a,c,u){if(hb.apply(this,arguments),oo){if(oo){var d=El;oo=!1,El=null}else throw Error(U(198));bl||(bl=!0,yd=d)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ep(t){if(ls(t)!==t)throw Error(U(188))}function mb(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ep(s),t;if(i===r)return Ep(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Ov(t){return t=mb(t),t!==null?Lv(t):null}function Lv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lv(t);if(e!==null)return e;t=t.sibling}return null}var Uv=Nt.unstable_scheduleCallback,bp=Nt.unstable_cancelCallback,pb=Nt.unstable_shouldYield,gb=Nt.unstable_requestPaint,Ie=Nt.unstable_now,yb=Nt.unstable_getCurrentPriorityLevel,Rh=Nt.unstable_ImmediatePriority,Fv=Nt.unstable_UserBlockingPriority,Tl=Nt.unstable_NormalPriority,vb=Nt.unstable_LowPriority,zv=Nt.unstable_IdlePriority,fc=null,sn=null;function xb(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(fc,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Eb,_b=Math.log,wb=Math.LN2;function Eb(t){return t>>>=0,t===0?32:31-(_b(t)/wb|0)|0}var Ra=64,Da=4194304;function Yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=Yi(c):(i&=a,i!==0&&(r=Yi(i)))}else a=n&~s,a!==0?r=Yi(a):i!==0&&(r=Yi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qt(e),s=1<<n,r|=t[n],e&=~s;return r}function bb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-qt(i),c=1<<a,u=s[a];u===-1?(!(c&n)||c&r)&&(s[a]=bb(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function vd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bv(){var t=Ra;return Ra<<=1,!(Ra&4194240)&&(Ra=64),t}function wu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ta(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qt(e),t[e]=n}function Nb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Dh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function $v(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wv,Vh,Hv,qv,Gv,xd=!1,Va=[],nr=null,rr=null,sr=null,No=new Map,Io=new Map,qn=[],Ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tp(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function zi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ra(e),e!==null&&Vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function jb(t,e,n,r,s){switch(e){case"focusin":return nr=zi(nr,t,e,n,r,s),!0;case"dragenter":return rr=zi(rr,t,e,n,r,s),!0;case"mouseover":return sr=zi(sr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return No.set(i,zi(No.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Io.set(i,zi(Io.get(i)||null,t,e,n,r,s)),!0}return!1}function Kv(t){var e=Br(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=Mv(n),e!==null){t.blockedOn=e,Gv(t.priority,function(){Hv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function el(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_d(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);md=r,n.target.dispatchEvent(r),md=null}else return e=ra(n),e!==null&&Vh(e),t.blockedOn=n,!1;e.shift()}return!0}function Np(t,e,n){el(t)&&n.delete(e)}function Sb(){xd=!1,nr!==null&&el(nr)&&(nr=null),rr!==null&&el(rr)&&(rr=null),sr!==null&&el(sr)&&(sr=null),No.forEach(Np),Io.forEach(Np)}function Bi(t,e){t.blockedOn===e&&(t.blockedOn=null,xd||(xd=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,Sb)))}function jo(t){function e(s){return Bi(s,t)}if(0<Va.length){Bi(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nr!==null&&Bi(nr,t),rr!==null&&Bi(rr,t),sr!==null&&Bi(sr,t),No.forEach(e),Io.forEach(e),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)Kv(n),n.blockedOn===null&&qn.shift()}var zs=Rn.ReactCurrentBatchConfig,Il=!0;function Ab(t,e,n,r){var s=le,i=zs.transition;zs.transition=null;try{le=1,Mh(t,e,n,r)}finally{le=s,zs.transition=i}}function kb(t,e,n,r){var s=le,i=zs.transition;zs.transition=null;try{le=4,Mh(t,e,n,r)}finally{le=s,zs.transition=i}}function Mh(t,e,n,r){if(Il){var s=_d(t,e,n,r);if(s===null)Cu(t,e,r,jl,n),Tp(t,r);else if(jb(s,t,e,n,r))r.stopPropagation();else if(Tp(t,r),e&4&&-1<Ib.indexOf(t)){for(;s!==null;){var i=ra(s);if(i!==null&&Wv(i),i=_d(t,e,n,r),i===null&&Cu(t,e,r,jl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cu(t,e,r,null,n)}}var jl=null;function _d(t,e,n,r){if(jl=null,t=Ph(r),t=Br(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jl=t,null}function Qv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yb()){case Rh:return 1;case Fv:return 4;case Tl:case vb:return 16;case zv:return 536870912;default:return 16}default:return 16}}var Jn=null,Oh=null,tl=null;function Yv(){if(tl)return tl;var t,e=Oh,n=e.length,r,s="value"in Jn?Jn.value:Jn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return tl=s.slice(t,1<r?1-r:void 0)}function nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ma(){return!0}function Ip(){return!1}function St(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ma:Ip,this.isPropagationStopped=Ip,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lh=St(ci),na=_e({},ci,{view:0,detail:0}),Cb=St(na),Eu,bu,$i,mc=_e({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(Eu=t.screenX-$i.screenX,bu=t.screenY-$i.screenY):bu=Eu=0,$i=t),Eu)},movementY:function(t){return"movementY"in t?t.movementY:bu}}),jp=St(mc),Pb=_e({},mc,{dataTransfer:0}),Rb=St(Pb),Db=_e({},na,{relatedTarget:0}),Tu=St(Db),Vb=_e({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),Mb=St(Vb),Ob=_e({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lb=St(Ob),Ub=_e({},ci,{data:0}),Sp=St(Ub),Fb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $b(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bb[t])?!!e[t]:!1}function Uh(){return $b}var Wb=_e({},na,{key:function(t){if(t.key){var e=Fb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uh,charCode:function(t){return t.type==="keypress"?nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hb=St(Wb),qb=_e({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=St(qb),Gb=_e({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uh}),Kb=St(Gb),Qb=_e({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=St(Qb),Xb=_e({},mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jb=St(Xb),Zb=[9,13,27,32],Fh=Nn&&"CompositionEvent"in window,ao=null;Nn&&"documentMode"in document&&(ao=document.documentMode);var e2=Nn&&"TextEvent"in window&&!ao,Xv=Nn&&(!Fh||ao&&8<ao&&11>=ao),kp=" ",Cp=!1;function Jv(t,e){switch(t){case"keyup":return Zb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var js=!1;function t2(t,e){switch(t){case"compositionend":return Zv(e);case"keypress":return e.which!==32?null:(Cp=!0,kp);case"textInput":return t=e.data,t===kp&&Cp?null:t;default:return null}}function n2(t,e){if(js)return t==="compositionend"||!Fh&&Jv(t,e)?(t=Yv(),tl=Oh=Jn=null,js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xv&&e.locale!=="ko"?null:e.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r2[t.type]:e==="textarea"}function ex(t,e,n,r){Cv(r),e=Sl(e,"onChange"),0<e.length&&(n=new Lh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lo=null,So=null;function s2(t){dx(t,0)}function pc(t){var e=ks(t);if(Tv(e))return t}function i2(t,e){if(t==="change")return e}var tx=!1;if(Nn){var Nu;if(Nn){var Iu="oninput"in document;if(!Iu){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),Iu=typeof Rp.oninput=="function"}Nu=Iu}else Nu=!1;tx=Nu&&(!document.documentMode||9<document.documentMode)}function Dp(){lo&&(lo.detachEvent("onpropertychange",nx),So=lo=null)}function nx(t){if(t.propertyName==="value"&&pc(So)){var e=[];ex(e,So,t,Ph(t)),Vv(s2,e)}}function o2(t,e,n){t==="focusin"?(Dp(),lo=e,So=n,lo.attachEvent("onpropertychange",nx)):t==="focusout"&&Dp()}function a2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(So)}function l2(t,e){if(t==="click")return pc(e)}function c2(t,e){if(t==="input"||t==="change")return pc(e)}function u2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qt=typeof Object.is=="function"?Object.is:u2;function Ao(t,e){if(Qt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nd.call(e,s)||!Qt(t[s],e[s]))return!1}return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,e){var n=Vp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vp(n)}}function rx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sx(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wl(t.document)}return e}function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d2(t){var e=sx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rx(n.ownerDocument.documentElement,n)){if(r!==null&&zh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Mp(n,i);var a=Mp(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h2=Nn&&"documentMode"in document&&11>=document.documentMode,Ss=null,wd=null,co=null,Ed=!1;function Op(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||Ss==null||Ss!==wl(r)||(r=Ss,"selectionStart"in r&&zh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),co&&Ao(co,r)||(co=r,r=Sl(wd,"onSelect"),0<r.length&&(e=new Lh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function Oa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var As={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},ju={},ix={};Nn&&(ix=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function gc(t){if(ju[t])return ju[t];if(!As[t])return t;var e=As[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ix)return ju[t]=e[n];return t}var ox=gc("animationend"),ax=gc("animationiteration"),lx=gc("animationstart"),cx=gc("transitionend"),ux=new Map,Lp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,e){ux.set(t,e),as(e,[t])}for(var Su=0;Su<Lp.length;Su++){var Au=Lp[Su],f2=Au.toLowerCase(),m2=Au[0].toUpperCase()+Au.slice(1);Nr(f2,"on"+m2)}Nr(ox,"onAnimationEnd");Nr(ax,"onAnimationIteration");Nr(lx,"onAnimationStart");Nr("dblclick","onDoubleClick");Nr("focusin","onFocus");Nr("focusout","onBlur");Nr(cx,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Up(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fb(r,e,void 0,t),t.currentTarget=null}function dx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;Up(s,c,d),i=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;Up(s,c,d),i=u}}}if(bl)throw t=yd,bl=!1,yd=null,t}function he(t,e){var n=e[jd];n===void 0&&(n=e[jd]=new Set);var r=t+"__bubble";n.has(r)||(hx(e,t,2,!1),n.add(r))}function ku(t,e,n){var r=0;e&&(r|=4),hx(n,t,r,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function ko(t){if(!t[La]){t[La]=!0,xv.forEach(function(n){n!=="selectionchange"&&(p2.has(n)||ku(n,!1,t),ku(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,ku("selectionchange",!1,e))}}function hx(t,e,n,r){switch(Qv(e)){case 1:var s=Ab;break;case 4:s=kb;break;default:s=Mh}n=s.bind(null,e,n,t),s=void 0,!gd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Br(c),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}c=c.parentNode}}r=r.return}Vv(function(){var d=i,f=Ph(n),p=[];e:{var g=ux.get(t);if(g!==void 0){var _=Lh,A=t;switch(t){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":_=Hb;break;case"focusin":A="focus",_=Tu;break;case"focusout":A="blur",_=Tu;break;case"beforeblur":case"afterblur":_=Tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=jp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Kb;break;case ox:case ax:case lx:_=Mb;break;case cx:_=Yb;break;case"scroll":_=Cb;break;case"wheel":_=Jb;break;case"copy":case"cut":case"paste":_=Lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Ap}var k=(e&4)!==0,S=!k&&t==="scroll",b=k?g!==null?g+"Capture":null:g;k=[];for(var y=d,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,b!==null&&(C=To(y,b),C!=null&&k.push(Co(y,C,w)))),S)break;y=y.return}0<k.length&&(g=new _(g,A,null,n,f),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==md&&(A=n.relatedTarget||n.fromElement)&&(Br(A)||A[In]))break e;if((_||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,_?(A=n.relatedTarget||n.toElement,_=d,A=A?Br(A):null,A!==null&&(S=ls(A),A!==S||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=d),_!==A)){if(k=jp,C="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Ap,C="onPointerLeave",b="onPointerEnter",y="pointer"),S=_==null?g:ks(_),w=A==null?g:ks(A),g=new k(C,y+"leave",_,n,f),g.target=S,g.relatedTarget=w,C=null,Br(f)===d&&(k=new k(b,y+"enter",A,n,f),k.target=w,k.relatedTarget=S,C=k),S=C,_&&A)t:{for(k=_,b=A,y=0,w=k;w;w=xs(w))y++;for(w=0,C=b;C;C=xs(C))w++;for(;0<y-w;)k=xs(k),y--;for(;0<w-y;)b=xs(b),w--;for(;y--;){if(k===b||b!==null&&k===b.alternate)break t;k=xs(k),b=xs(b)}k=null}else k=null;_!==null&&Fp(p,g,_,k,!1),A!==null&&S!==null&&Fp(p,S,A,k,!0)}}e:{if(g=d?ks(d):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var L=i2;else if(Pp(g))if(tx)L=c2;else{L=a2;var F=o2}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=l2);if(L&&(L=L(t,d))){ex(p,L,n,f);break e}F&&F(t,g,d),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&cd(g,"number",g.value)}switch(F=d?ks(d):window,t){case"focusin":(Pp(F)||F.contentEditable==="true")&&(Ss=F,wd=d,co=null);break;case"focusout":co=wd=Ss=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Op(p,n,f);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":Op(p,n,f)}var E;if(Fh)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else js?Jv(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Xv&&n.locale!=="ko"&&(js||x!=="onCompositionStart"?x==="onCompositionEnd"&&js&&(E=Yv()):(Jn=f,Oh="value"in Jn?Jn.value:Jn.textContent,js=!0)),F=Sl(d,x),0<F.length&&(x=new Sp(x,t,null,n,f),p.push({event:x,listeners:F}),E?x.data=E:(E=Zv(n),E!==null&&(x.data=E)))),(E=e2?t2(t,n):n2(t,n))&&(d=Sl(d,"onBeforeInput"),0<d.length&&(f=new Sp("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=E))}dx(p,e)})}function Co(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=To(t,n),i!=null&&r.unshift(Co(t,i,s)),i=To(t,e),i!=null&&r.push(Co(t,i,s))),t=t.return}return r}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fp(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=To(n,i),u!=null&&a.unshift(Co(n,u,c))):s||(u=To(n,i),u!=null&&a.push(Co(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(g2,`
`).replace(y2,"")}function Ua(t,e,n){if(e=zp(e),zp(t)!==e&&n)throw Error(U(425))}function Al(){}var bd=null,Td=null;function Nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Id=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(t){return Bp.resolve(null).then(t).catch(_2)}:Id;function _2(t){setTimeout(function(){throw t})}function Pu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jo(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),rn="__reactFiber$"+ui,Po="__reactProps$"+ui,In="__reactContainer$"+ui,jd="__reactEvents$"+ui,w2="__reactListeners$"+ui,E2="__reactHandles$"+ui;function Br(t){var e=t[rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$p(t);t!==null;){if(n=t[rn])return n;t=$p(t)}return e}t=n,n=t.parentNode}return null}function ra(t){return t=t[rn]||t[In],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function yc(t){return t[Po]||null}var Sd=[],Cs=-1;function Ir(t){return{current:t}}function me(t){0>Cs||(t.current=Sd[Cs],Sd[Cs]=null,Cs--)}function ue(t,e){Cs++,Sd[Cs]=t.current,t.current=e}var yr={},at=Ir(yr),vt=Ir(!1),Qr=yr;function Qs(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xt(t){return t=t.childContextTypes,t!=null}function kl(){me(vt),me(at)}function Wp(t,e,n){if(at.current!==yr)throw Error(U(168));ue(at,e),ue(vt,n)}function fx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,ob(t)||"Unknown",s));return _e({},n,r)}function Cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Qr=at.current,ue(at,t),ue(vt,vt.current),!0}function Hp(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=fx(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,me(vt),me(at),ue(at,t)):me(vt),ue(vt,n)}var yn=null,vc=!1,Ru=!1;function mx(t){yn===null?yn=[t]:yn.push(t)}function b2(t){vc=!0,mx(t)}function jr(){if(!Ru&&yn!==null){Ru=!0;var t=0,e=le;try{var n=yn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yn=null,vc=!1}catch(s){throw yn!==null&&(yn=yn.slice(t+1)),Uv(Rh,jr),s}finally{le=e,Ru=!1}}return null}var Ps=[],Rs=0,Pl=null,Rl=0,kt=[],Ct=0,Yr=null,vn=1,xn="";function Ur(t,e){Ps[Rs++]=Rl,Ps[Rs++]=Pl,Pl=t,Rl=e}function px(t,e,n){kt[Ct++]=vn,kt[Ct++]=xn,kt[Ct++]=Yr,Yr=t;var r=vn;t=xn;var s=32-qt(r)-1;r&=~(1<<s),n+=1;var i=32-qt(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,vn=1<<32-qt(e)+s|n<<s|r,xn=i+t}else vn=1<<i|n<<s|r,xn=t}function Bh(t){t.return!==null&&(Ur(t,1),px(t,1,0))}function $h(t){for(;t===Pl;)Pl=Ps[--Rs],Ps[Rs]=null,Rl=Ps[--Rs],Ps[Rs]=null;for(;t===Yr;)Yr=kt[--Ct],kt[Ct]=null,xn=kt[--Ct],kt[Ct]=null,vn=kt[--Ct],kt[Ct]=null}var Tt=null,bt=null,ge=!1,$t=null;function gx(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tt=t,bt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:vn,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tt=t,bt=null,!0):!1;default:return!1}}function Ad(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kd(t){if(ge){var e=bt;if(e){var n=e;if(!qp(t,e)){if(Ad(t))throw Error(U(418));e=ir(n.nextSibling);var r=Tt;e&&qp(t,e)?gx(r,n):(t.flags=t.flags&-4097|2,ge=!1,Tt=t)}}else{if(Ad(t))throw Error(U(418));t.flags=t.flags&-4097|2,ge=!1,Tt=t}}}function Gp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Fa(t){if(t!==Tt)return!1;if(!ge)return Gp(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nd(t.type,t.memoizedProps)),e&&(e=bt)){if(Ad(t))throw yx(),Error(U(418));for(;e;)gx(t,e),e=ir(e.nextSibling)}if(Gp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=Tt?ir(t.stateNode.nextSibling):null;return!0}function yx(){for(var t=bt;t;)t=ir(t.nextSibling)}function Ys(){bt=Tt=null,ge=!1}function Wh(t){$t===null?$t=[t]:$t.push(t)}var T2=Rn.ReactCurrentBatchConfig;function Wi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function za(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kp(t){var e=t._init;return e(t._payload)}function vx(t){function e(b,y){if(t){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=cr(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function c(b,y,w,C){return y===null||y.tag!==6?(y=Fu(w,b.mode,C),y.return=b,y):(y=s(y,w),y.return=b,y)}function u(b,y,w,C){var L=w.type;return L===Is?f(b,y,w.props.children,C,w.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wn&&Kp(L)===y.type)?(C=s(y,w.props),C.ref=Wi(b,y,w),C.return=b,C):(C=cl(w.type,w.key,w.props,null,b.mode,C),C.ref=Wi(b,y,w),C.return=b,C)}function d(b,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=zu(w,b.mode,C),y.return=b,y):(y=s(y,w.children||[]),y.return=b,y)}function f(b,y,w,C,L){return y===null||y.tag!==7?(y=Gr(w,b.mode,C,L),y.return=b,y):(y=s(y,w),y.return=b,y)}function p(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Fu(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ka:return w=cl(y.type,y.key,y.props,null,b.mode,w),w.ref=Wi(b,null,y),w.return=b,w;case Ns:return y=zu(y,b.mode,w),y.return=b,y;case Wn:var C=y._init;return p(b,C(y._payload),w)}if(Qi(y)||Ui(y))return y=Gr(y,b.mode,w,null),y.return=b,y;za(b,y)}return null}function g(b,y,w,C){var L=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:c(b,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ka:return w.key===L?u(b,y,w,C):null;case Ns:return w.key===L?d(b,y,w,C):null;case Wn:return L=w._init,g(b,y,L(w._payload),C)}if(Qi(w)||Ui(w))return L!==null?null:f(b,y,w,C,null);za(b,w)}return null}function _(b,y,w,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(w)||null,c(y,b,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ka:return b=b.get(C.key===null?w:C.key)||null,u(y,b,C,L);case Ns:return b=b.get(C.key===null?w:C.key)||null,d(y,b,C,L);case Wn:var F=C._init;return _(b,y,w,F(C._payload),L)}if(Qi(C)||Ui(C))return b=b.get(w)||null,f(y,b,C,L,null);za(y,C)}return null}function A(b,y,w,C){for(var L=null,F=null,E=y,x=y=0,T=null;E!==null&&x<w.length;x++){E.index>x?(T=E,E=null):T=E.sibling;var I=g(b,E,w[x],C);if(I===null){E===null&&(E=T);break}t&&E&&I.alternate===null&&e(b,E),y=i(I,y,x),F===null?L=I:F.sibling=I,F=I,E=T}if(x===w.length)return n(b,E),ge&&Ur(b,x),L;if(E===null){for(;x<w.length;x++)E=p(b,w[x],C),E!==null&&(y=i(E,y,x),F===null?L=E:F.sibling=E,F=E);return ge&&Ur(b,x),L}for(E=r(b,E);x<w.length;x++)T=_(E,b,x,w[x],C),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?x:T.key),y=i(T,y,x),F===null?L=T:F.sibling=T,F=T);return t&&E.forEach(function(j){return e(b,j)}),ge&&Ur(b,x),L}function k(b,y,w,C){var L=Ui(w);if(typeof L!="function")throw Error(U(150));if(w=L.call(w),w==null)throw Error(U(151));for(var F=L=null,E=y,x=y=0,T=null,I=w.next();E!==null&&!I.done;x++,I=w.next()){E.index>x?(T=E,E=null):T=E.sibling;var j=g(b,E,I.value,C);if(j===null){E===null&&(E=T);break}t&&E&&j.alternate===null&&e(b,E),y=i(j,y,x),F===null?L=j:F.sibling=j,F=j,E=T}if(I.done)return n(b,E),ge&&Ur(b,x),L;if(E===null){for(;!I.done;x++,I=w.next())I=p(b,I.value,C),I!==null&&(y=i(I,y,x),F===null?L=I:F.sibling=I,F=I);return ge&&Ur(b,x),L}for(E=r(b,E);!I.done;x++,I=w.next())I=_(E,b,x,I.value,C),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?x:I.key),y=i(I,y,x),F===null?L=I:F.sibling=I,F=I);return t&&E.forEach(function(P){return e(b,P)}),ge&&Ur(b,x),L}function S(b,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Is&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ka:e:{for(var L=w.key,F=y;F!==null;){if(F.key===L){if(L=w.type,L===Is){if(F.tag===7){n(b,F.sibling),y=s(F,w.props.children),y.return=b,b=y;break e}}else if(F.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Wn&&Kp(L)===F.type){n(b,F.sibling),y=s(F,w.props),y.ref=Wi(b,F,w),y.return=b,b=y;break e}n(b,F);break}else e(b,F);F=F.sibling}w.type===Is?(y=Gr(w.props.children,b.mode,C,w.key),y.return=b,b=y):(C=cl(w.type,w.key,w.props,null,b.mode,C),C.ref=Wi(b,y,w),C.return=b,b=C)}return a(b);case Ns:e:{for(F=w.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=s(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=zu(w,b.mode,C),y.return=b,b=y}return a(b);case Wn:return F=w._init,S(b,y,F(w._payload),C)}if(Qi(w))return A(b,y,w,C);if(Ui(w))return k(b,y,w,C);za(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,w),y.return=b,b=y):(n(b,y),y=Fu(w,b.mode,C),y.return=b,b=y),a(b)):n(b,y)}return S}var Xs=vx(!0),xx=vx(!1),Dl=Ir(null),Vl=null,Ds=null,Hh=null;function qh(){Hh=Ds=Vl=null}function Gh(t){var e=Dl.current;me(Dl),t._currentValue=e}function Cd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){Vl=t,Hh=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yt=!0),t.firstContext=null)}function Ot(t){var e=t._currentValue;if(Hh!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(Vl===null)throw Error(U(308));Ds=t,Vl.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var $r=null;function Kh(t){$r===null?$r=[t]:$r.push(t)}function _x(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Kh(e)):(n.next=s.next,s.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hn=!1;function Qh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function En(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jn(t,n)}return s=r.interleaved,s===null?(e.next=e,Kh(r)):(e.next=s.next,s.next=e),r.interleaved=e,jn(t,n)}function rl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}function Qp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ml(t,e,n,r){var s=t.updateQueue;Hn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,f=d=u=null,c=i;do{var g=c.lane,_=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:_,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var A=t,k=c;switch(g=e,_=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){p=A.call(_,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,g=typeof A=="function"?A.call(_,p,g):A,g==null)break e;p=_e({},p,g);break e;case 2:Hn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else _={eventTime:_,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=_,u=p):f=f.next=_,a|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jr|=a,t.lanes=a,t.memoizedState=p}}function Yp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var sa={},on=Ir(sa),Ro=Ir(sa),Do=Ir(sa);function Wr(t){if(t===sa)throw Error(U(174));return t}function Yh(t,e){switch(ue(Do,e),ue(Ro,t),ue(on,sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dd(e,t)}me(on),ue(on,e)}function Js(){me(on),me(Ro),me(Do)}function Ex(t){Wr(Do.current);var e=Wr(on.current),n=dd(e,t.type);e!==n&&(ue(Ro,t),ue(on,n))}function Xh(t){Ro.current===t&&(me(on),me(Ro))}var ye=Ir(0);function Ol(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Du=[];function Jh(){for(var t=0;t<Du.length;t++)Du[t]._workInProgressVersionPrimary=null;Du.length=0}var sl=Rn.ReactCurrentDispatcher,Vu=Rn.ReactCurrentBatchConfig,Xr=0,xe=null,Re=null,ze=null,Ll=!1,uo=!1,Vo=0,N2=0;function et(){throw Error(U(321))}function Zh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qt(t[n],e[n]))return!1;return!0}function ef(t,e,n,r,s,i){if(Xr=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sl.current=t===null||t.memoizedState===null?A2:k2,t=n(r,s),uo){i=0;do{if(uo=!1,Vo=0,25<=i)throw Error(U(301));i+=1,ze=Re=null,e.updateQueue=null,sl.current=C2,t=n(r,s)}while(uo)}if(sl.current=Ul,e=Re!==null&&Re.next!==null,Xr=0,ze=Re=xe=null,Ll=!1,e)throw Error(U(300));return t}function tf(){var t=Vo!==0;return Vo=0,t}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?xe.memoizedState=ze=t:ze=ze.next=t,ze}function Lt(){if(Re===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=ze===null?xe.memoizedState:ze.next;if(e!==null)ze=e,Re=t;else{if(t===null)throw Error(U(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},ze===null?xe.memoizedState=ze=t:ze=ze.next=t}return ze}function Mo(t,e){return typeof e=="function"?e(t):e}function Mu(t){var e=Lt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=a=null,u=null,d=i;do{var f=d.lane;if((Xr&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=r):u=u.next=p,xe.lanes|=f,Jr|=f}d=d.next}while(d!==null&&d!==i);u===null?a=r:u.next=c,Qt(r,e.memoizedState)||(yt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,Jr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ou(t){var e=Lt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Qt(i,e.memoizedState)||(yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bx(){}function Tx(t,e){var n=xe,r=Lt(),s=e(),i=!Qt(r.memoizedState,s);if(i&&(r.memoizedState=s,yt=!0),r=r.queue,nf(jx.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Oo(9,Ix.bind(null,n,r,s,e),void 0,null),$e===null)throw Error(U(349));Xr&30||Nx(n,e,s)}return s}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ix(t,e,n,r){e.value=n,e.getSnapshot=r,Sx(e)&&Ax(t)}function jx(t,e,n){return n(function(){Sx(e)&&Ax(t)})}function Sx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qt(t,n)}catch{return!0}}function Ax(t){var e=jn(t,1);e!==null&&Gt(e,t,1,-1)}function Xp(t){var e=tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=S2.bind(null,xe,t),[e.memoizedState,t]}function Oo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kx(){return Lt().memoizedState}function il(t,e,n,r){var s=tn();xe.flags|=t,s.memoizedState=Oo(1|e,n,void 0,r===void 0?null:r)}function xc(t,e,n,r){var s=Lt();r=r===void 0?null:r;var i=void 0;if(Re!==null){var a=Re.memoizedState;if(i=a.destroy,r!==null&&Zh(r,a.deps)){s.memoizedState=Oo(e,n,i,r);return}}xe.flags|=t,s.memoizedState=Oo(1|e,n,i,r)}function Jp(t,e){return il(8390656,8,t,e)}function nf(t,e){return xc(2048,8,t,e)}function Cx(t,e){return xc(4,2,t,e)}function Px(t,e){return xc(4,4,t,e)}function Rx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dx(t,e,n){return n=n!=null?n.concat([t]):null,xc(4,4,Rx.bind(null,e,t),n)}function rf(){}function Vx(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mx(t,e){var n=Lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ox(t,e,n){return Xr&21?(Qt(n,e)||(n=Bv(),xe.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=n)}function I2(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=Vu.transition;Vu.transition={};try{t(!1),e()}finally{le=n,Vu.transition=r}}function Lx(){return Lt().memoizedState}function j2(t,e,n){var r=lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ux(t))Fx(e,n);else if(n=_x(t,e,n,r),n!==null){var s=ht();Gt(n,t,r,s),zx(n,e,r)}}function S2(t,e,n){var r=lr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ux(t))Fx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Qt(c,a)){var u=e.interleaved;u===null?(s.next=s,Kh(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=_x(t,e,s,r),n!==null&&(s=ht(),Gt(n,t,r,s),zx(n,e,r))}}function Ux(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Fx(t,e){uo=Ll=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}var Ul={readContext:Ot,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},A2={readContext:Ot,useCallback:function(t,e){return tn().memoizedState=[t,e===void 0?null:e],t},useContext:Ot,useEffect:Jp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,il(4194308,4,Rx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return il(4194308,4,t,e)},useInsertionEffect:function(t,e){return il(4,2,t,e)},useMemo:function(t,e){var n=tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j2.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=tn();return t={current:t},e.memoizedState=t},useState:Xp,useDebugValue:rf,useDeferredValue:function(t){return tn().memoizedState=t},useTransition:function(){var t=Xp(!1),e=t[0];return t=I2.bind(null,t[1]),tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,s=tn();if(ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),$e===null)throw Error(U(349));Xr&30||Nx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Jp(jx.bind(null,r,i,t),[t]),r.flags|=2048,Oo(9,Ix.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tn(),e=$e.identifierPrefix;if(ge){var n=xn,r=vn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=N2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k2={readContext:Ot,useCallback:Vx,useContext:Ot,useEffect:nf,useImperativeHandle:Dx,useInsertionEffect:Cx,useLayoutEffect:Px,useMemo:Mx,useReducer:Mu,useRef:kx,useState:function(){return Mu(Mo)},useDebugValue:rf,useDeferredValue:function(t){var e=Lt();return Ox(e,Re.memoizedState,t)},useTransition:function(){var t=Mu(Mo)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:bx,useSyncExternalStore:Tx,useId:Lx,unstable_isNewReconciler:!1},C2={readContext:Ot,useCallback:Vx,useContext:Ot,useEffect:nf,useImperativeHandle:Dx,useInsertionEffect:Cx,useLayoutEffect:Px,useMemo:Mx,useReducer:Ou,useRef:kx,useState:function(){return Ou(Mo)},useDebugValue:rf,useDeferredValue:function(t){var e=Lt();return Re===null?e.memoizedState=t:Ox(e,Re.memoizedState,t)},useTransition:function(){var t=Ou(Mo)[0],e=Lt().memoizedState;return[t,e]},useMutableSource:bx,useSyncExternalStore:Tx,useId:Lx,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _c={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),s=lr(t),i=En(r,s);i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Gt(e,t,s,r),rl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),s=lr(t),i=En(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=or(t,i,s),e!==null&&(Gt(e,t,s,r),rl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=lr(t),s=En(n,r);s.tag=2,e!=null&&(s.callback=e),e=or(t,s,r),e!==null&&(Gt(e,t,r,n),rl(e,t,r))}};function Zp(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ao(n,r)||!Ao(s,i):!0}function Bx(t,e,n){var r=!1,s=yr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(s=xt(e)?Qr:at.current,r=e.contextTypes,i=(r=r!=null)?Qs(t,s):yr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_c,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function eg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function Rd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Qh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ot(i):(i=xt(e)?Qr:at.current,s.context=Qs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Pd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_c.enqueueReplaceState(s,s.state,null),Ml(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e){try{var n="",r=e;do n+=ib(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Lu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P2=typeof WeakMap=="function"?WeakMap:Map;function $x(t,e,n){n=En(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zl||(zl=!0,Wd=r),Dd(t,e)},n}function Wx(t,e,n){n=En(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dd(t,e),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function tg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=q2.bind(null,t,e,n),e.then(t,t))}function ng(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rg(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=En(-1,1),e.tag=2,or(n,e,1))),n.lanes|=1),t)}var R2=Rn.ReactCurrentOwner,yt=!1;function dt(t,e,n,r){e.child=t===null?xx(e,null,n,r):Xs(e,t.child,n,r)}function sg(t,e,n,r,s){n=n.render;var i=e.ref;return Bs(e,s),r=ef(t,e,n,r,i,s),n=tf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sn(t,e,s)):(ge&&n&&Bh(e),e.flags|=1,dt(t,e,r,s),e.child)}function ig(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Hx(t,e,i,r,s)):(t=cl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ao,n(a,r)&&t.ref===e.ref)return Sn(t,e,s)}return e.flags|=1,t=cr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Hx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ao(i,r)&&t.ref===e.ref)if(yt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(yt=!0);else return e.lanes=t.lanes,Sn(t,e,s)}return Vd(t,e,n,r,s)}function qx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Ms,Et),Et|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ue(Ms,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(Ms,Et),Et|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ue(Ms,Et),Et|=r;return dt(t,e,s,n),e.child}function Gx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vd(t,e,n,r,s){var i=xt(n)?Qr:at.current;return i=Qs(e,i),Bs(e,s),n=ef(t,e,n,r,i,s),r=tf(),t!==null&&!yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Sn(t,e,s)):(ge&&r&&Bh(e),e.flags|=1,dt(t,e,n,s),e.child)}function og(t,e,n,r,s){if(xt(n)){var i=!0;Cl(e)}else i=!1;if(Bs(e,s),e.stateNode===null)ol(t,e),Bx(e,n,r),Rd(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ot(d):(d=xt(n)?Qr:at.current,d=Qs(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==d)&&eg(e,a,r,d),Hn=!1;var g=e.memoizedState;a.state=g,Ml(e,r,a,s),u=e.memoizedState,c!==r||g!==u||vt.current||Hn?(typeof f=="function"&&(Pd(e,n,f,r),u=e.memoizedState),(c=Hn||Zp(e,n,c,r,g,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,wx(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:zt(e.type,c),a.props=d,p=e.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ot(u):(u=xt(n)?Qr:at.current,u=Qs(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||g!==u)&&eg(e,a,r,u),Hn=!1,g=e.memoizedState,a.state=g,Ml(e,r,a,s);var A=e.memoizedState;c!==p||g!==A||vt.current||Hn?(typeof _=="function"&&(Pd(e,n,_,r),A=e.memoizedState),(d=Hn||Zp(e,n,d,r,g,A,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,A,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,A,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),a.props=r,a.state=A,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Md(t,e,n,r,i,s)}function Md(t,e,n,r,s,i){Gx(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&Hp(e,n,!1),Sn(t,e,i);r=e.stateNode,R2.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Xs(e,t.child,null,i),e.child=Xs(e,null,c,i)):dt(t,e,c,i),e.memoizedState=r.state,s&&Hp(e,n,!0),e.child}function Kx(t){var e=t.stateNode;e.pendingContext?Wp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wp(t,e.context,!1),Yh(t,e.containerInfo)}function ag(t,e,n,r,s){return Ys(),Wh(s),e.flags|=256,dt(t,e,n,r),e.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qx(t,e,n){var r=e.pendingProps,s=ye.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ue(ye,s&1),t===null)return kd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bc(a,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ld(n),e.memoizedState=Od,t):sf(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return D2(t,e,a,r,c,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=cr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=cr(c,i):(i=Gr(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Ld(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Od,r}return i=t.child,t=i.sibling,r=cr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sf(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ba(t,e,n,r){return r!==null&&Wh(r),Xs(e,t.child,null,n),t=sf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D2(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Lu(Error(U(422))),Ba(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bc({mode:"visible",children:r.children},s,0,null),i=Gr(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xs(e,t.child,null,a),e.child.memoizedState=Ld(a),e.memoizedState=Od,i);if(!(e.mode&1))return Ba(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(U(419)),r=Lu(i,r,void 0),Ba(t,e,a,r)}if(c=(a&t.childLanes)!==0,yt||c){if(r=$e,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jn(t,s),Gt(r,t,s,-1))}return df(),r=Lu(Error(U(421))),Ba(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=G2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bt=ir(s.nextSibling),Tt=e,ge=!0,$t=null,t!==null&&(kt[Ct++]=vn,kt[Ct++]=xn,kt[Ct++]=Yr,vn=t.id,xn=t.overflow,Yr=e),e=sf(e,r.children),e.flags|=4096,e)}function lg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cd(t.return,e,n)}function Uu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Yx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(dt(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,n,e);else if(t.tag===19)lg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ue(ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ol(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Uu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ol(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Uu(e,!0,n,null,i);break;case"together":Uu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ol(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V2(t,e,n){switch(e.tag){case 3:Kx(e),Ys();break;case 5:Ex(e);break;case 1:xt(e.type)&&Cl(e);break;case 4:Yh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ue(Dl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?Qx(t,e,n):(ue(ye,ye.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,qx(t,e,n)}return Sn(t,e,n)}var Xx,Ud,Jx,Zx;Xx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ud=function(){};Jx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wr(on.current);var i=null;switch(n){case"input":s=ad(t,s),r=ad(t,r),i=[];break;case"select":s=_e({},s,{value:void 0}),r=_e({},r,{value:void 0}),i=[];break;case"textarea":s=ud(t,s),r=ud(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Al)}hd(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&he("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Zx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M2(t,e,n){var r=e.pendingProps;switch($h(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return xt(e.type)&&kl(),tt(e),null;case 3:return r=e.stateNode,Js(),me(vt),me(at),Jh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Gd($t),$t=null))),Ud(t,e),tt(e),null;case 5:Xh(e);var s=Wr(Do.current);if(n=e.type,t!==null&&e.stateNode!=null)Jx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return tt(e),null}if(t=Wr(on.current),Fa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rn]=e,r[Po]=i,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<Xi.length;s++)he(Xi[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":yp(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":xp(r,i),he("invalid",r)}hd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Ua(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Ua(r.textContent,c,t),s=["children",""+c]):Eo.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&he("scroll",r)}switch(n){case"input":Ca(r),vp(r,i,!0);break;case"textarea":Ca(r),_p(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Al)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[rn]=e,t[Po]=r,Xx(t,e,!1,!1),e.stateNode=t;e:{switch(a=fd(n,r),n){case"dialog":he("cancel",t),he("close",t),s=r;break;case"iframe":case"object":case"embed":he("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xi.length;s++)he(Xi[s],t);s=r;break;case"source":he("error",t),s=r;break;case"img":case"image":case"link":he("error",t),he("load",t),s=r;break;case"details":he("toggle",t),s=r;break;case"input":yp(t,r),s=ad(t,r),he("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=_e({},r,{value:void 0}),he("invalid",t);break;case"textarea":xp(t,r),s=ud(t,r),he("invalid",t);break;default:s=r}hd(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?kv(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Sv(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bo(t,u):typeof u=="number"&&bo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&he("scroll",t):u!=null&&Sh(t,i,u,a))}switch(n){case"input":Ca(t),vp(t,r,!1);break;case"textarea":Ca(t),_p(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ls(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ls(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Zx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Wr(Do.current),Wr(on.current),Fa(e)){if(r=e.stateNode,n=e.memoizedProps,r[rn]=e,(i=r.nodeValue!==n)&&(t=Tt,t!==null))switch(t.tag){case 3:Ua(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rn]=e,e.stateNode=r}return tt(e),null;case 13:if(me(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&bt!==null&&e.mode&1&&!(e.flags&128))yx(),Ys(),e.flags|=98560,i=!1;else if(i=Fa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[rn]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else $t!==null&&(Gd($t),$t=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Ve===0&&(Ve=3):df())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Js(),Ud(t,e),t===null&&ko(e.stateNode.containerInfo),tt(e),null;case 10:return Gh(e.type._context),tt(e),null;case 17:return xt(e.type)&&kl(),tt(e),null;case 19:if(me(ye),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Hi(i,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ol(t),a!==null){for(e.flags|=128,Hi(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ie()>ei&&(e.flags|=128,r=!0,Hi(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ol(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ge)return tt(e),null}else 2*Ie()-i.renderingStartTime>ei&&n!==1073741824&&(e.flags|=128,r=!0,Hi(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ie(),e.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return uf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function O2(t,e){switch($h(e),e.tag){case 1:return xt(e.type)&&kl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Js(),me(vt),me(at),Jh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xh(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return Js(),null;case 10:return Gh(e.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var $a=!1,st=!1,L2=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function Fd(t,e,n){try{n()}catch(r){be(t,e,r)}}var cg=!1;function U2(t,e){if(bd=Il,t=sx(),zh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var _;p!==n||s!==0&&p.nodeType!==3||(c=a+s),p!==i||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(_=p.firstChild)!==null;)g=p,p=_;for(;;){if(p===t)break t;if(g===n&&++d===s&&(c=a),g===i&&++f===r&&(u=a),(_=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=_}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Td={focusedElem:t,selectionRange:n},Il=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,S=A.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:zt(e.type,k),S);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){be(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=cg,cg=!1,A}function ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fd(e,n,i)}s=s.next}while(s!==r)}}function wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e_(t){var e=t.alternate;e!==null&&(t.alternate=null,e_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rn],delete e[Po],delete e[jd],delete e[w2],delete e[E2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t_(t){return t.tag===5||t.tag===3||t.tag===4}function ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Al));else if(r!==4&&(t=t.child,t!==null))for(Bd(t,e,n),t=t.sibling;t!==null;)Bd(t,e,n),t=t.sibling}function $d(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($d(t,e,n),t=t.sibling;t!==null;)$d(t,e,n),t=t.sibling}var He=null,Bt=!1;function Bn(t,e,n){for(n=n.child;n!==null;)n_(t,e,n),n=n.sibling}function n_(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(fc,n)}catch{}switch(n.tag){case 5:st||Vs(n,e);case 6:var r=He,s=Bt;He=null,Bn(t,e,n),He=r,Bt=s,He!==null&&(Bt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Bt?(t=He,n=n.stateNode,t.nodeType===8?Pu(t.parentNode,n):t.nodeType===1&&Pu(t,n),jo(t)):Pu(He,n.stateNode));break;case 4:r=He,s=Bt,He=n.stateNode.containerInfo,Bt=!0,Bn(t,e,n),He=r,Bt=s;break;case 0:case 11:case 14:case 15:if(!st&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fd(n,e,a),s=s.next}while(s!==r)}Bn(t,e,n);break;case 1:if(!st&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){be(n,e,c)}Bn(t,e,n);break;case 21:Bn(t,e,n);break;case 22:n.mode&1?(st=(r=st)||n.memoizedState!==null,Bn(t,e,n),st=r):Bn(t,e,n);break;default:Bn(t,e,n)}}function dg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new L2),e.forEach(function(r){var s=K2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:He=c.stateNode,Bt=!1;break e;case 3:He=c.stateNode.containerInfo,Bt=!0;break e;case 4:He=c.stateNode.containerInfo,Bt=!0;break e}c=c.return}if(He===null)throw Error(U(160));n_(i,a,s),He=null,Bt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){be(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r_(e,t),e=e.sibling}function r_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(e,t),en(t),r&4){try{ho(3,t,t.return),wc(3,t)}catch(k){be(t,t.return,k)}try{ho(5,t,t.return)}catch(k){be(t,t.return,k)}}break;case 1:Ft(e,t),en(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(Ft(e,t),en(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{bo(s,"")}catch(k){be(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Nv(s,i),fd(c,a);var d=fd(c,i);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?kv(s,p):f==="dangerouslySetInnerHTML"?Sv(s,p):f==="children"?bo(s,p):Sh(s,f,p,d)}switch(c){case"input":ld(s,i);break;case"textarea":Iv(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var _=i.value;_!=null?Ls(s,!!i.multiple,_,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ls(s,!!i.multiple,i.defaultValue,!0):Ls(s,!!i.multiple,i.multiple?[]:"",!1))}s[Po]=i}catch(k){be(t,t.return,k)}}break;case 6:if(Ft(e,t),en(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){be(t,t.return,k)}}break;case 3:if(Ft(e,t),en(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jo(e.containerInfo)}catch(k){be(t,t.return,k)}break;case 4:Ft(e,t),en(t);break;case 13:Ft(e,t),en(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lf=Ie())),r&4&&dg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(st=(d=st)||f,Ft(e,t),st=d):Ft(e,t),en(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(g=W,_=g.child,g.tag){case 0:case 11:case 14:case 15:ho(4,g,g.return);break;case 1:Vs(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){be(r,n,k)}}break;case 5:Vs(g,g.return);break;case 22:if(g.memoizedState!==null){fg(p);continue}}_!==null?(_.return=g,W=_):fg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Av("display",a))}catch(k){be(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(k){be(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ft(e,t),en(t),r&4&&dg(t);break;case 21:break;default:Ft(e,t),en(t)}}function en(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t_(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bo(s,""),r.flags&=-33);var i=ug(t);$d(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=ug(t);Bd(t,c,a);break;default:throw Error(U(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F2(t,e,n){W=t,s_(t)}function s_(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||$a;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||st;c=$a;var d=st;if($a=a,(st=u)&&!d)for(W=s;W!==null;)a=W,u=a.child,a.tag===22&&a.memoizedState!==null?mg(s):u!==null?(u.return=a,W=u):mg(s);for(;i!==null;)W=i,s_(i),i=i.sibling;W=s,$a=c,st=d}hg(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):hg(t)}}function hg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!st)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yp(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yp(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&jo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}st||e.flags&512&&zd(e)}catch(g){be(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function fg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function mg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wc(4,e)}catch(u){be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){be(e,s,u)}}var i=e.return;try{zd(e)}catch(u){be(e,i,u)}break;case 5:var a=e.return;try{zd(e)}catch(u){be(e,a,u)}}}catch(u){be(e,e.return,u)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var z2=Math.ceil,Fl=Rn.ReactCurrentDispatcher,of=Rn.ReactCurrentOwner,Mt=Rn.ReactCurrentBatchConfig,oe=0,$e=null,ke=null,Ke=0,Et=0,Ms=Ir(0),Ve=0,Lo=null,Jr=0,Ec=0,af=0,fo=null,gt=null,lf=0,ei=1/0,gn=null,zl=!1,Wd=null,ar=null,Wa=!1,Zn=null,Bl=0,mo=0,Hd=null,al=-1,ll=0;function ht(){return oe&6?Ie():al!==-1?al:al=Ie()}function lr(t){return t.mode&1?oe&2&&Ke!==0?Ke&-Ke:T2.transition!==null?(ll===0&&(ll=Bv()),ll):(t=le,t!==0||(t=window.event,t=t===void 0?16:Qv(t.type)),t):1}function Gt(t,e,n,r){if(50<mo)throw mo=0,Hd=null,Error(U(185));ta(t,n,r),(!(oe&2)||t!==$e)&&(t===$e&&(!(oe&2)&&(Ec|=n),Ve===4&&Gn(t,Ke)),_t(t,r),n===1&&oe===0&&!(e.mode&1)&&(ei=Ie()+500,vc&&jr()))}function _t(t,e){var n=t.callbackNode;Tb(t,e);var r=Nl(t,t===$e?Ke:0);if(r===0)n!==null&&bp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bp(n),e===1)t.tag===0?b2(pg.bind(null,t)):mx(pg.bind(null,t)),x2(function(){!(oe&6)&&jr()}),n=null;else{switch($v(r)){case 1:n=Rh;break;case 4:n=Fv;break;case 16:n=Tl;break;case 536870912:n=zv;break;default:n=Tl}n=h_(n,i_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i_(t,e){if(al=-1,ll=0,oe&6)throw Error(U(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var r=Nl(t,t===$e?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$l(t,r);else{e=r;var s=oe;oe|=2;var i=a_();($e!==t||Ke!==e)&&(gn=null,ei=Ie()+500,qr(t,e));do try{W2();break}catch(c){o_(t,c)}while(!0);qh(),Fl.current=i,oe=s,ke!==null?e=0:($e=null,Ke=0,e=Ve)}if(e!==0){if(e===2&&(s=vd(t),s!==0&&(r=s,e=qd(t,s))),e===1)throw n=Lo,qr(t,0),Gn(t,r),_t(t,Ie()),n;if(e===6)Gn(t,r);else{if(s=t.current.alternate,!(r&30)&&!B2(s)&&(e=$l(t,r),e===2&&(i=vd(t),i!==0&&(r=i,e=qd(t,i))),e===1))throw n=Lo,qr(t,0),Gn(t,r),_t(t,Ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Fr(t,gt,gn);break;case 3:if(Gn(t,r),(r&130023424)===r&&(e=lf+500-Ie(),10<e)){if(Nl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Id(Fr.bind(null,t,gt,gn),e);break}Fr(t,gt,gn);break;case 4:if(Gn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-qt(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z2(r/1960))-r,10<r){t.timeoutHandle=Id(Fr.bind(null,t,gt,gn),r);break}Fr(t,gt,gn);break;case 5:Fr(t,gt,gn);break;default:throw Error(U(329))}}}return _t(t,Ie()),t.callbackNode===n?i_.bind(null,t):null}function qd(t,e){var n=fo;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=$l(t,e),t!==2&&(e=gt,gt=n,e!==null&&Gd(e)),t}function Gd(t){gt===null?gt=t:gt.push.apply(gt,t)}function B2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~af,e&=~Ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qt(e),r=1<<n;t[n]=-1,e&=~r}}function pg(t){if(oe&6)throw Error(U(327));$s();var e=Nl(t,0);if(!(e&1))return _t(t,Ie()),null;var n=$l(t,e);if(t.tag!==0&&n===2){var r=vd(t);r!==0&&(e=r,n=qd(t,r))}if(n===1)throw n=Lo,qr(t,0),Gn(t,e),_t(t,Ie()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fr(t,gt,gn),_t(t,Ie()),null}function cf(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(ei=Ie()+500,vc&&jr())}}function Zr(t){Zn!==null&&Zn.tag===0&&!(oe&6)&&$s();var e=oe;oe|=1;var n=Mt.transition,r=le;try{if(Mt.transition=null,le=1,t)return t()}finally{le=r,Mt.transition=n,oe=e,!(oe&6)&&jr()}}function uf(){Et=Ms.current,me(Ms)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,v2(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch($h(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kl();break;case 3:Js(),me(vt),me(at),Jh();break;case 5:Xh(r);break;case 4:Js();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Gh(r.type._context);break;case 22:case 23:uf()}n=n.return}if($e=t,ke=t=cr(t.current,null),Ke=Et=e,Ve=0,Lo=null,af=Ec=Jr=0,gt=fo=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}$r=null}return t}function o_(t,e){do{var n=ke;try{if(qh(),sl.current=Ul,Ll){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ll=!1}if(Xr=0,ze=Re=xe=null,uo=!1,Vo=0,of.current=null,n===null||n.return===null){Ve=1,Lo=e,ke=null;break}e:{var i=t,a=n.return,c=n,u=e;if(e=Ke,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=ng(a);if(_!==null){_.flags&=-257,rg(_,a,c,i,e),_.mode&1&&tg(i,d,e),e=_,u=d;var A=e.updateQueue;if(A===null){var k=new Set;k.add(u),e.updateQueue=k}else A.add(u);break e}else{if(!(e&1)){tg(i,d,e),df();break e}u=Error(U(426))}}else if(ge&&c.mode&1){var S=ng(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),rg(S,a,c,i,e),Wh(Zs(u,c));break e}}i=u=Zs(u,c),Ve!==4&&(Ve=2),fo===null?fo=[i]:fo.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=$x(i,u,e);Qp(i,b);break e;case 1:c=u;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ar===null||!ar.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Wx(i,c,e);Qp(i,C);break e}}i=i.return}while(i!==null)}c_(n)}catch(L){e=L,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function a_(){var t=Fl.current;return Fl.current=Ul,t===null?Ul:t}function df(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),$e===null||!(Jr&268435455)&&!(Ec&268435455)||Gn($e,Ke)}function $l(t,e){var n=oe;oe|=2;var r=a_();($e!==t||Ke!==e)&&(gn=null,qr(t,e));do try{$2();break}catch(s){o_(t,s)}while(!0);if(qh(),oe=n,Fl.current=r,ke!==null)throw Error(U(261));return $e=null,Ke=0,Ve}function $2(){for(;ke!==null;)l_(ke)}function W2(){for(;ke!==null&&!pb();)l_(ke)}function l_(t){var e=d_(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?c_(t):ke=e,of.current=null}function c_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O2(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,ke=null;return}}else if(n=M2(n,e,Et),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);Ve===0&&(Ve=5)}function Fr(t,e,n){var r=le,s=Mt.transition;try{Mt.transition=null,le=1,H2(t,e,n,r)}finally{Mt.transition=s,le=r}return null}function H2(t,e,n,r){do $s();while(Zn!==null);if(oe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nb(t,i),t===$e&&(ke=$e=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wa||(Wa=!0,h_(Tl,function(){return $s(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var a=le;le=1;var c=oe;oe|=4,of.current=null,U2(t,n),r_(n,t),d2(Td),Il=!!bd,Td=bd=null,t.current=n,F2(n),gb(),oe=c,le=a,Mt.transition=i}else t.current=n;if(Wa&&(Wa=!1,Zn=t,Bl=s),i=t.pendingLanes,i===0&&(ar=null),xb(n.stateNode),_t(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,t=Wd,Wd=null,t;return Bl&1&&t.tag!==0&&$s(),i=t.pendingLanes,i&1?t===Hd?mo++:(mo=0,Hd=t):mo=0,jr(),null}function $s(){if(Zn!==null){var t=$v(Bl),e=Mt.transition,n=le;try{if(Mt.transition=null,le=16>t?16:t,Zn===null)var r=!1;else{if(t=Zn,Zn=null,Bl=0,oe&6)throw Error(U(331));var s=oe;for(oe|=4,W=t.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:ho(8,f,i)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var g=f.sibling,_=f.return;if(e_(f),f===d){W=null;break}if(g!==null){g.return=_,W=g;break}W=_}}}var A=i.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ho(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,W=b;break e}W=i.return}}var y=t.current;for(W=y;W!==null;){a=W;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,W=w;else e:for(a=y;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:wc(9,c)}}catch(L){be(c,c.return,L)}if(c===a){W=null;break e}var C=c.sibling;if(C!==null){C.return=c.return,W=C;break e}W=c.return}}if(oe=s,jr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(fc,t)}catch{}r=!0}return r}finally{le=n,Mt.transition=e}}return!1}function gg(t,e,n){e=Zs(n,e),e=$x(t,e,1),t=or(t,e,1),e=ht(),t!==null&&(ta(t,1,e),_t(t,e))}function be(t,e,n){if(t.tag===3)gg(t,t,n);else for(;e!==null;){if(e.tag===3){gg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){t=Zs(n,t),t=Wx(e,t,1),e=or(e,t,1),t=ht(),e!==null&&(ta(e,1,t),_t(e,t));break}}e=e.return}}function q2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,$e===t&&(Ke&n)===n&&(Ve===4||Ve===3&&(Ke&130023424)===Ke&&500>Ie()-lf?qr(t,0):af|=n),_t(t,e)}function u_(t,e){e===0&&(t.mode&1?(e=Da,Da<<=1,!(Da&130023424)&&(Da=4194304)):e=1);var n=ht();t=jn(t,e),t!==null&&(ta(t,e,n),_t(t,n))}function G2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u_(t,n)}function K2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),u_(t,n)}var d_;d_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yt=!1,V2(t,e,n);yt=!!(t.flags&131072)}else yt=!1,ge&&e.flags&1048576&&px(e,Rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ol(t,e),t=e.pendingProps;var s=Qs(e,at.current);Bs(e,n),s=ef(null,e,r,t,s,n);var i=tf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xt(r)?(i=!0,Cl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qh(e),s.updater=_c,e.stateNode=s,s._reactInternals=e,Rd(e,r,t,n),e=Md(null,e,r,!0,i,n)):(e.tag=0,ge&&i&&Bh(e),dt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ol(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y2(r),t=zt(r,t),s){case 0:e=Vd(null,e,r,t,n);break e;case 1:e=og(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=ig(null,e,r,zt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),Vd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),og(t,e,r,s,n);case 3:e:{if(Kx(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wx(t,e),Ml(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Zs(Error(U(423)),e),e=ag(t,e,r,n,s);break e}else if(r!==s){s=Zs(Error(U(424)),e),e=ag(t,e,r,n,s);break e}else for(bt=ir(e.stateNode.containerInfo.firstChild),Tt=e,ge=!0,$t=null,n=xx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===s){e=Sn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return Ex(e),t===null&&kd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Nd(r,s)?a=null:i!==null&&Nd(r,i)&&(e.flags|=32),Gx(t,e),dt(t,e,a,n),e.child;case 6:return t===null&&kd(e),null;case 13:return Qx(t,e,n);case 4:return Yh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),sg(t,e,r,s,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,ue(Dl,r._currentValue),r._currentValue=a,i!==null)if(Qt(i.value,a)){if(i.children===s.children&&!vt.current){e=Sn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=En(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Cd(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(U(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Cd(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}dt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bs(e,n),s=Ot(s),r=r(s),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,s=zt(r,e.pendingProps),s=zt(r.type,s),ig(t,e,r,s,n);case 15:return Hx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zt(r,s),ol(t,e),e.tag=1,xt(r)?(t=!0,Cl(e)):t=!1,Bs(e,n),Bx(e,r,s),Rd(e,r,s,n),Md(null,e,r,!0,t,n);case 19:return Yx(t,e,n);case 22:return qx(t,e,n)}throw Error(U(156,e.tag))};function h_(t,e){return Uv(t,e)}function Q2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,r){return new Q2(t,e,n,r)}function hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y2(t){if(typeof t=="function")return hf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kh)return 11;if(t===Ch)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cl(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")hf(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Is:return Gr(n.children,s,i,e);case Ah:a=8,s|=8;break;case rd:return t=Vt(12,n,e,s|2),t.elementType=rd,t.lanes=i,t;case sd:return t=Vt(13,n,e,s),t.elementType=sd,t.lanes=i,t;case id:return t=Vt(19,n,e,s),t.elementType=id,t.lanes=i,t;case Ev:return bc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _v:a=10;break e;case wv:a=9;break e;case kh:a=11;break e;case Ch:a=14;break e;case Wn:a=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Vt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Vt(7,t,r,e),t.lanes=n,t}function bc(t,e,n,r){return t=Vt(22,t,r,e),t.elementType=Ev,t.lanes=n,t.stateNode={isHidden:!1},t}function Fu(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function zu(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function X2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wu(0),this.expirationTimes=wu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ff(t,e,n,r,s,i,a,c,u){return t=new X2(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(i),t}function J2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f_(t){if(!t)return yr;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(xt(n))return fx(t,n,e)}return e}function m_(t,e,n,r,s,i,a,c,u){return t=ff(n,r,!0,t,s,i,a,c,u),t.context=f_(null),n=t.current,r=ht(),s=lr(n),i=En(r,s),i.callback=e??null,or(n,i,s),t.current.lanes=s,ta(t,s,r),_t(t,r),t}function Tc(t,e,n,r){var s=e.current,i=ht(),a=lr(s);return n=f_(n),e.context===null?e.context=n:e.pendingContext=n,e=En(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=or(s,e,a),t!==null&&(Gt(t,s,a,i),rl(t,s,a)),a}function Wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mf(t,e){yg(t,e),(t=t.alternate)&&yg(t,e)}function Z2(){return null}var p_=typeof reportError=="function"?reportError:function(t){console.error(t)};function pf(t){this._internalRoot=t}Nc.prototype.render=pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Tc(t,e,null,null)};Nc.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){Tc(null,t,null,null)}),e[In]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var e=qv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&Kv(t)}};function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ic(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vg(){}function e1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Wl(a);i.call(d)}}var a=m_(e,r,t,0,null,!1,!1,"",vg);return t._reactRootContainer=a,t[In]=a.current,ko(t.nodeType===8?t.parentNode:t),Zr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=Wl(u);c.call(d)}}var u=ff(t,0,!1,null,null,!1,!1,"",vg);return t._reactRootContainer=u,t[In]=u.current,ko(t.nodeType===8?t.parentNode:t),Zr(function(){Tc(e,u,n,r)}),u}function jc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var u=Wl(a);c.call(u)}}Tc(e,a,t,s)}else a=e1(n,e,t,s,r);return Wl(a)}Wv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yi(e.pendingLanes);n!==0&&(Dh(e,n|1),_t(e,Ie()),!(oe&6)&&(ei=Ie()+500,jr()))}break;case 13:Zr(function(){var r=jn(t,1);if(r!==null){var s=ht();Gt(r,t,1,s)}}),mf(t,1)}};Vh=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=ht();Gt(e,t,134217728,n)}mf(t,134217728)}};Hv=function(t){if(t.tag===13){var e=lr(t),n=jn(t,e);if(n!==null){var r=ht();Gt(n,t,e,r)}mf(t,e)}};qv=function(){return le};Gv=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};pd=function(t,e,n){switch(e){case"input":if(ld(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yc(r);if(!s)throw Error(U(90));Tv(r),ld(r,s)}}}break;case"textarea":Iv(t,n);break;case"select":e=n.value,e!=null&&Ls(t,!!n.multiple,e,!1)}};Rv=cf;Dv=Zr;var t1={usingClientEntryPoint:!1,Events:[ra,ks,yc,Cv,Pv,cf]},qi={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},n1={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ov(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||Z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{fc=Ha.inject(n1),sn=Ha}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(e))throw Error(U(200));return J2(t,e,null,n)};jt.createRoot=function(t,e){if(!gf(t))throw Error(U(299));var n=!1,r="",s=p_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ff(t,1,!1,null,null,n,!1,r,s),t[In]=e.current,ko(t.nodeType===8?t.parentNode:t),new pf(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Ov(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return Zr(t)};jt.hydrate=function(t,e,n){if(!Ic(e))throw Error(U(200));return jc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!gf(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=p_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=m_(e,null,t,1,n??null,s,!1,i,a),t[In]=e.current,ko(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nc(e)};jt.render=function(t,e,n){if(!Ic(e))throw Error(U(200));return jc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!Ic(t))throw Error(U(40));return t._reactRootContainer?(Zr(function(){jc(null,null,t,!1,function(){t._reactRootContainer=null,t[In]=null})}),!0):!1};jt.unstable_batchedUpdates=cf;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ic(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return jc(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function g_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g_)}catch(t){console.error(t)}}g_(),gv.exports=jt;var r1=gv.exports,xg=r1;td.createRoot=xg.createRoot,td.hydrateRoot=xg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uo.apply(this,arguments)}var er;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(er||(er={}));const _g="popstate";function s1(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return Kd("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Hl(s)}return o1(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i1(){return Math.random().toString(36).substr(2,8)}function wg(t,e){return{usr:t.state,key:t.key,idx:e}}function Kd(t,e,n,r){return n===void 0&&(n=null),Uo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?di(e):e,{state:n,key:e&&e.key||r||i1()})}function Hl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function o1(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=er.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(Uo({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){c=er.Pop;let S=f(),b=S==null?null:S-d;d=S,u&&u({action:c,location:k.location,delta:b})}function g(S,b){c=er.Push;let y=Kd(k.location,S,b);d=f()+1;let w=wg(y,d),C=k.createHref(y);try{a.pushState(w,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(C)}i&&u&&u({action:c,location:k.location,delta:1})}function _(S,b){c=er.Replace;let y=Kd(k.location,S,b);d=f();let w=wg(y,d),C=k.createHref(y);a.replaceState(w,"",C),i&&u&&u({action:c,location:k.location,delta:0})}function A(S){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:Hl(S);return y=y.replace(/ $/,"%20"),je(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let k={get action(){return c},get location(){return t(s,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(_g,p),u=S,()=>{s.removeEventListener(_g,p),u=null}},createHref(S){return e(s,S)},createURL:A,encodeLocation(S){let b=A(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:_,go(S){return a.go(S)}};return k}var Eg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Eg||(Eg={}));function a1(t,e,n){return n===void 0&&(n="/"),l1(t,e,n)}function l1(t,e,n,r){let s=typeof e=="string"?di(e):e,i=vf(s.pathname||"/",n);if(i==null)return null;let a=y_(t);c1(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=w1(i);c=v1(a[u],d)}return c}function y_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=ur([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),y_(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:g1(d,i.index),routesMeta:f})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let u of v_(i.path))s(i,a,u)}),e}function v_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=v_(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function c1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:y1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const u1=/^:[\w-]+$/,d1=3,h1=2,f1=1,m1=10,p1=-2,bg=t=>t==="*";function g1(t,e){let n=t.split("/"),r=n.length;return n.some(bg)&&(r+=p1),e&&(r+=h1),n.filter(s=>!bg(s)).reduce((s,i)=>s+(u1.test(i)?d1:i===""?f1:m1),r)}function y1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function v1(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=x1({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:ur([i,p.pathname]),pathnameBase:I1(ur([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ur([i,p.pathnameBase]))}return a}function x1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:_}=f;if(g==="*"){let k=c[p]||"";a=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const A=c[p];return _&&!A?d[g]=void 0:d[g]=(A||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function _1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function w1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const E1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b1=t=>E1.test(t);function T1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?di(t):t,i;if(n)if(b1(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),yf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Tg(n.substring(1),"/"):i=Tg(n,e)}else i=e;return{pathname:i,search:j1(r),hash:S1(s)}}function Tg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function N1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xf(t,e){let n=N1(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _f(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=di(t):(s=Uo({},t),je(!s.pathname||!s.pathname.includes("?"),Bu("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),Bu("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),Bu("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=T1(s,c),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const ur=t=>t.join("/").replace(/\/\/+/g,"/"),I1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x_=["post","put","patch","delete"];new Set(x_);const k1=["get",...x_];new Set(k1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(this,arguments)}const wf=V.createContext(null),C1=V.createContext(null),Sr=V.createContext(null),Sc=V.createContext(null),Ar=V.createContext({outlet:null,matches:[],isDataRoute:!1}),__=V.createContext(null);function P1(t,e){let{relative:n}=e===void 0?{}:e;hi()||je(!1);let{basename:r,navigator:s}=V.useContext(Sr),{hash:i,pathname:a,search:c}=E_(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:ur([r,a])),s.createHref({pathname:u,search:c,hash:i})}function hi(){return V.useContext(Sc)!=null}function fi(){return hi()||je(!1),V.useContext(Sc).location}function w_(t){V.useContext(Sr).static||V.useLayoutEffect(t)}function Oe(){let{isDataRoute:t}=V.useContext(Ar);return t?H1():R1()}function R1(){hi()||je(!1);let t=V.useContext(wf),{basename:e,future:n,navigator:r}=V.useContext(Sr),{matches:s}=V.useContext(Ar),{pathname:i}=fi(),a=JSON.stringify(xf(s,n.v7_relativeSplatPath)),c=V.useRef(!1);return w_(()=>{c.current=!0}),V.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=_f(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ur([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,t])}function E_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(Sr),{matches:s}=V.useContext(Ar),{pathname:i}=fi(),a=JSON.stringify(xf(s,r.v7_relativeSplatPath));return V.useMemo(()=>_f(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function D1(t,e){return V1(t,e)}function V1(t,e,n,r){hi()||je(!1);let{navigator:s}=V.useContext(Sr),{matches:i}=V.useContext(Ar),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=fi(),f;if(e){var p;let S=typeof e=="string"?di(e):e;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||je(!1),f=S}else f=d;let g=f.pathname||"/",_=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=a1(t,{pathname:_}),k=F1(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:ur([u,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:ur([u,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&k?V.createElement(Sc.Provider,{value:{location:Fo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:er.Pop}},k):k}function M1(){let t=W1(),e=A1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const O1=V.createElement(M1,null);class L1 extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Ar.Provider,{value:this.props.routeContext},V.createElement(__.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U1(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext(wf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Ar.Provider,{value:e},r)}function F1(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||je(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:_}=n,A=p.route.loader&&g[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||A){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let _,A=!1,k=null,S=null;n&&(_=c&&p.route.id?c[p.route.id]:void 0,k=p.route.errorElement||O1,u&&(d<0&&g===0?(q1("route-fallback"),A=!0,S=null):d===g&&(A=!0,S=p.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,g+1)),y=()=>{let w;return _?w=k:A?w=S:p.route.Component?w=V.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=f,V.createElement(U1,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?V.createElement(L1,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var b_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b_||{}),T_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T_||{});function z1(t){let e=V.useContext(wf);return e||je(!1),e}function B1(t){let e=V.useContext(C1);return e||je(!1),e}function $1(t){let e=V.useContext(Ar);return e||je(!1),e}function N_(t){let e=$1(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function W1(){var t;let e=V.useContext(__),n=B1(),r=N_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function H1(){let{router:t}=z1(b_.UseNavigateStable),e=N_(T_.UseNavigateStable),n=V.useRef(!1);return w_(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fo({fromRouteId:e},i)))},[t,e])}const Ng={};function q1(t,e,n){Ng[t]||(Ng[t]=!0)}function G1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function K1(t){let{to:e,replace:n,state:r,relative:s}=t;hi()||je(!1);let{future:i,static:a}=V.useContext(Sr),{matches:c}=V.useContext(Ar),{pathname:u}=fi(),d=Oe(),f=_f(e,xf(c,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return V.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function Se(t){je(!1)}function Q1(t){let{basename:e="/",children:n=null,location:r,navigationType:s=er.Pop,navigator:i,static:a=!1,future:c}=t;hi()&&je(!1);let u=e.replace(/^\/*/,"/"),d=V.useMemo(()=>({basename:u,navigator:i,static:a,future:Fo({v7_relativeSplatPath:!1},c)}),[u,c,i,a]);typeof r=="string"&&(r=di(r));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:A="default"}=r,k=V.useMemo(()=>{let S=vf(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:_,key:A},navigationType:s}},[u,f,p,g,_,A,s]);return k==null?null:V.createElement(Sr.Provider,{value:d},V.createElement(Sc.Provider,{children:n,value:k}))}function Y1(t){let{children:e,location:n}=t;return D1(Qd(e),n)}new Promise(()=>{});function Qd(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){n.push.apply(n,Qd(r.props.children,i));return}r.type!==Se&&je(!1),!r.props.index||!r.props.children||je(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Qd(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yd.apply(this,arguments)}function X1(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function J1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z1(t,e){return t.button===0&&(!e||e==="_self")&&!J1(t)}const eT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tT="6";try{window.__reactRouterVersion=tT}catch{}const nT="startTransition",Ig=qE[nT];function rT(t){let{basename:e,children:n,future:r,window:s}=t,i=V.useRef();i.current==null&&(i.current=s1({window:s,v5Compat:!0}));let a=i.current,[c,u]=V.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},f=V.useCallback(p=>{d&&Ig?Ig(()=>u(p)):u(p)},[u,d]);return V.useLayoutEffect(()=>a.listen(f),[a,f]),V.useEffect(()=>G1(r),[r]),V.createElement(Q1,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const sT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H=V.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,g=X1(e,eT),{basename:_}=V.useContext(Sr),A,k=!1;if(typeof d=="string"&&iT.test(d)&&(A=d,sT))try{let w=new URL(window.location.href),C=d.startsWith("//")?new URL(w.protocol+d):new URL(d),L=vf(C.pathname,_);C.origin===w.origin&&L!=null?d=L+C.search+C.hash:k=!0}catch{}let S=P1(d,{relative:s}),b=oT(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function y(w){r&&r(w),w.defaultPrevented||b(w)}return V.createElement("a",Yd({},g,{href:A||S,onClick:k||i?r:y,ref:n,target:u}))});var jg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jg||(jg={}));var Sg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sg||(Sg={}));function oT(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,u=Oe(),d=fi(),f=E_(t,{relative:a});return V.useCallback(p=>{if(Z1(p,n)){p.preventDefault();let g=r!==void 0?r:Hl(d)===Hl(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[d,u,f,r,s,n,t,i,a,c])}const cs={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics"},I_=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],aT=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",googleAnalyticsPropertyId:"G-XXXXXXXXXX",googleAnalyticsViewId:"123456789",createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",googleAnalyticsPropertyId:"G-YYYYYYYYYY",googleAnalyticsViewId:"987654321",createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","linkedin","twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",socialMediaPlatforms:["instagram","tiktok","facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",socialMediaPlatforms:["linkedin","facebook","youtube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")}],lT=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],cT=[{id:"social-1",projectId:"proj-1",platform:"facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"linkedin",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}];function Ac(t,e){if(typeof window>"u")return e;try{const n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error(`Error loading ${t} from localStorage:`,n),e}}function Ef(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error(`Error saving ${t} to localStorage:`,n)}}function Yt(){return Ac(cs.USERS,I_)}function uT(t){const n=Yt().map(r=>r.id===t?{...r,isActive:!r.isActive,updatedAt:new Date}:r);Ef(cs.USERS,n)}function ia(){return Ac(cs.PROJECTS,aT)}function kc(){return Ac(cs.TICKETS,lT)}function dT(t){const n=[...kc(),t];Ef(cs.TICKETS,n)}function hT(t){const n=[...Yt(),t];Ef(cs.USERS,n)}function fT(){return Ac(cs.SOCIAL_ANALYTICS,cT)}function mT(t){return ia().find(e=>e.id===t)}function us(t,e){const n=ia();return e==="admin"?n:e==="web_developer"?n.filter(r=>r.webDeveloperId===t):e==="social_media_coordinator"?n.filter(r=>r.socialMediaCoordinatorId===t):e==="client"?n.filter(r=>r.clientId===t):[]}function Cc(t,e){const n=kc();if(e==="admin")return n;if(e==="web_developer")return n.filter(r=>r.assignedTo===t);if(e==="client")return n.filter(r=>r.createdBy===t);if(e==="social_media_coordinator"){const s=us(t,e).map(i=>i.id);return n.filter(i=>s.includes(i.projectId))}return[]}const pT=()=>{};var Ag={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|d>>6,_=d&63;u||(_=64,a||(g=64)),r.push(n[f],n[p],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||p==null)throw new yT;const g=i<<2|c>>4;if(r.push(g),d!==64){const _=c<<4&240|d>>2;if(r.push(_),p!==64){const A=d<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vT=function(t){const e=j_(t);return S_.encodeByteArray(e,!0)},ql=function(t){return vT(t).replace(/\./g,"")},A_=function(t){try{return S_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=()=>xT().__FIREBASE_DEFAULTS__,wT=()=>{if(typeof process>"u"||typeof Ag>"u")return;const t=Ag.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ET=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&A_(t[1]);return e&&JSON.parse(e)},Pc=()=>{try{return pT()||_T()||wT()||ET()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k_=t=>{var e,n;return(n=(e=Pc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bT=t=>{const e=k_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C_=()=>{var t;return(t=Pc())==null?void 0:t.config},P_=t=>{var e;return(e=Pc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ql(JSON.stringify(n)),ql(JSON.stringify(a)),""].join(".")}const po={};function IT(){const t={prod:[],emulator:[]};for(const e of Object.keys(po))po[e]?t.emulator.push(e):t.prod.push(e);return t}function jT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kg=!1;function D_(t,e){if(typeof window>"u"||typeof document>"u"||!mi(window.location.host)||po[t]===e||po[t]||kg)return;po[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=IT().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{kg=!0,a()},g}function f(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=jT(r),_=n("text"),A=document.getElementById(_)||document.createElement("span"),k=n("learnmore"),S=document.getElementById(k)||document.createElement("a"),b=n("preprendIcon"),y=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;c(w),f(S,k);const C=d();u(y,b),w.append(y,A,S,C),document.body.appendChild(w)}i?(A.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function AT(){var e;const t=(e=Pc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DT(){return!AT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VT(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OT,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oa.prototype.create)}}class oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?LT(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Dn(s,c,r)}}function LT(t,e){return t.replace(UT,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UT=/\{\$([^}]+)}/g;function FT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Cg(i)&&Cg(a)){if(!es(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Cg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ji(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Zi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zT(t,e){const n=new BT(t,e);return n.subscribe.bind(n)}class BT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$T(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$u),s.error===void 0&&(s.error=$u),s.complete===void 0&&(s.complete=$u);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $T(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $u(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HT(t){return t===zr?void 0:t}function qT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const KT={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},QT=ne.INFO,YT={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},XT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YT[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=QT,this._logHandler=XT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const JT=(t,e)=>e.some(n=>t instanceof n);let Pg,Rg;function ZT(){return Pg||(Pg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eN(){return Rg||(Rg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,Xd=new WeakMap,M_=new WeakMap,Wu=new WeakMap,Tf=new WeakMap;function tN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(dr(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&V_.set(n,t)}).catch(()=>{}),Tf.set(e,t),e}function nN(t){if(Xd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Xd.set(t,e)}let Jd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rN(t){Jd=t(Jd)}function sN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hu(this),e,...n);return M_.set(r,e.sort?e.sort():[e]),dr(r)}:eN().includes(t)?function(...e){return t.apply(Hu(this),e),dr(V_.get(this))}:function(...e){return dr(t.apply(Hu(this),e))}}function iN(t){return typeof t=="function"?sN(t):(t instanceof IDBTransaction&&nN(t),JT(t,ZT())?new Proxy(t,Jd):t)}function dr(t){if(t instanceof IDBRequest)return tN(t);if(Wu.has(t))return Wu.get(t);const e=iN(t);return e!==t&&(Wu.set(t,e),Tf.set(e,t)),e}const Hu=t=>Tf.get(t);function oN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=dr(a);return r&&a.addEventListener("upgradeneeded",u=>{r(dr(a.result),u.oldVersion,u.newVersion,dr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const aN=["get","getKey","getAll","getAllKeys","count"],lN=["put","add","delete","clear"],qu=new Map;function Dg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qu.get(e))return qu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aN.includes(n)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return qu.set(e,i),i}rN(t=>({...t,get:(e,n,r)=>Dg(e,n)||t.get(e,n,r),has:(e,n)=>!!Dg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zd="@firebase/app",Vg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new bf("@firebase/app"),dN="@firebase/app-compat",hN="@firebase/analytics-compat",fN="@firebase/analytics",mN="@firebase/app-check-compat",pN="@firebase/app-check",gN="@firebase/auth",yN="@firebase/auth-compat",vN="@firebase/database",xN="@firebase/data-connect",_N="@firebase/database-compat",wN="@firebase/functions",EN="@firebase/functions-compat",bN="@firebase/installations",TN="@firebase/installations-compat",NN="@firebase/messaging",IN="@firebase/messaging-compat",jN="@firebase/performance",SN="@firebase/performance-compat",AN="@firebase/remote-config",kN="@firebase/remote-config-compat",CN="@firebase/storage",PN="@firebase/storage-compat",RN="@firebase/firestore",DN="@firebase/ai",VN="@firebase/firestore-compat",MN="firebase",ON="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh="[DEFAULT]",LN={[Zd]:"fire-core",[dN]:"fire-core-compat",[fN]:"fire-analytics",[hN]:"fire-analytics-compat",[pN]:"fire-app-check",[mN]:"fire-app-check-compat",[gN]:"fire-auth",[yN]:"fire-auth-compat",[vN]:"fire-rtdb",[xN]:"fire-data-connect",[_N]:"fire-rtdb-compat",[wN]:"fire-fn",[EN]:"fire-fn-compat",[bN]:"fire-iid",[TN]:"fire-iid-compat",[NN]:"fire-fcm",[IN]:"fire-fcm-compat",[jN]:"fire-perf",[SN]:"fire-perf-compat",[AN]:"fire-rc",[kN]:"fire-rc-compat",[CN]:"fire-gcs",[PN]:"fire-gcs-compat",[RN]:"fire-fst",[VN]:"fire-fst-compat",[DN]:"fire-vertex","fire-js":"fire-js",[MN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,UN=new Map,th=new Map;function Mg(t,e){try{t.container.addComponent(e)}catch(n){An.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(th.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,t);for(const n of zo.values())Mg(n,t);for(const n of UN.values())Mg(n,t);return!0}function Nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new oa("app","Firebase",FN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=ON;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:eh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hr.create("bad-app-name",{appName:String(s)});if(n||(n=C_()),!n)throw hr.create("no-options");const i=zo.get(s);if(i){if(es(n,i.options)&&es(r,i.config))return i;throw hr.create("duplicate-app",{appName:s})}const a=new GT(s);for(const u of th.values())a.addComponent(u);const c=new zN(n,r,a);return zo.set(s,c),c}function L_(t=eh){const e=zo.get(t);if(!e&&t===eh&&C_())return O_();if(!e)throw hr.create("no-app",{appName:t});return e}function Og(){return Array.from(zo.values())}function fr(t,e,n){let r=LN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(a.join(" "));return}ti(new ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebase-heartbeat-database",$N=1,Bo="firebase-heartbeat-store";let Gu=null;function U_(){return Gu||(Gu=oN(BN,$N,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),Gu}async function WN(t){try{const n=(await U_()).transaction(Bo),r=await n.objectStore(Bo).get(F_(t));return await n.done,r}catch(e){if(e instanceof Dn)An.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});An.warn(n.message)}}}async function Lg(t,e){try{const r=(await U_()).transaction(Bo,"readwrite");await r.objectStore(Bo).put(e,F_(t)),await r.done}catch(n){if(n instanceof Dn)An.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});An.warn(r.message)}}}function F_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1024,qN=30;class GN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ug();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>qN){const a=YN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){An.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ug(),{heartbeatsToSend:r,unsentEntries:s}=KN(this._heartbeatsCache.heartbeats),i=ql(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return An.warn(n),""}}}function Ug(){return new Date().toISOString().substring(0,10)}function KN(t,e=HN){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Fg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Fg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VT()?MT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fg(t){return ql(JSON.stringify({version:2,heartbeats:t})).length}function YN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){ti(new ts("platform-logger",e=>new cN(e),"PRIVATE")),ti(new ts("heartbeat",e=>new GN(e),"PRIVATE")),fr(Zd,Vg,t),fr(Zd,Vg,"esm2020"),fr("fire-js","")}XN("");var JN="firebase",ZN="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(JN,ZN,"app");function z_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=z_,B_=new oa("auth","Firebase",z_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new bf("@firebase/auth");function tI(t,...e){Gl.logLevel<=ne.WARN&&Gl.warn(`Auth (${pi}): ${t}`,...e)}function ul(t,...e){Gl.logLevel<=ne.ERROR&&Gl.error(`Auth (${pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,...e){throw If(t,...e)}function an(t,...e){return If(t,...e)}function $_(t,e,n){const r={...eI(),[e]:n};return new oa("auth","Firebase",r).create(e,{appName:t.name})}function bn(t){return $_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function If(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return B_.create(t,...e)}function K(t,e,...n){if(!t)throw If(e,...n)}function _n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ul(e),new Error(e)}function kn(t,e){t||_n(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nI(){return zg()==="http:"||zg()==="https:"}function zg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nI()||CT()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.shortDelay=e,this.longDelay=n,kn(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||PT()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e){kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aI=new la(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cr(t,e,n,r,s={}){return H_(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=aa({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return kT()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&mi(t.emulatorConfig.host)&&(d.credentials="include"),W_.fetch()(await q_(t,t.config.apiHost,n,c),d)})}async function H_(t,e,n){t._canInitEmulator=!1;const r={...iI,...e};try{const s=new cI(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw qa(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qa(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw qa(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw qa(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $_(t,f,d);Xt(t,f)}}catch(s){if(s instanceof Dn)throw s;Xt(t,"network-request-failed",{message:String(s)})}}async function ca(t,e,n,r,s={}){const i=await Cr(t,e,n,r,s);return"mfaPendingCredential"in i&&Xt(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function q_(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?jf(t.config,s):`${t.config.apiScheme}://${s}`;return oI.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function lI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),aI.get())})}}function qa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=an(t,e,r);return s.customData._tokenResponse=n,s}function Bg(t){return t!==void 0&&t.enterprise!==void 0}class uI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dI(t,e){return Cr(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function Kl(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(t,e=!1){const n=It(t),r=await n.getIdToken(e),s=Sf(r);K(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:go(Ku(s.auth_time)),issuedAtTime:go(Ku(s.iat)),expirationTime:go(Ku(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ku(t){return Number(t)*1e3}function Sf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ul("JWT malformed, contained fewer than 3 sections"),null;try{const s=A_(n);return s?JSON.parse(s):(ul("Failed to decode base64 JWT payload"),null)}catch(s){return ul("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $g(t){const e=Sf(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&mI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=go(this.lastLoginAt),this.creationTime=go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){var p;const e=t.auth,n=await t.getIdToken(),r=await $o(t,Kl(e,{idToken:n}));K(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?G_(s.providerUserInfo):[],a=yI(t.providerData,i),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rh(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function gI(t){const e=It(t);await Ql(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yI(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function G_(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(t,e){const n=await H_(t,{},async()=>{const r=aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await q_(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return t.emulatorConfig&&mi(t.emulatorConfig.host)&&(u.credentials="include"),W_.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xI(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$g(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=$g(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await vI(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Ws;return r&&(K(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(K(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(K(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wt{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $o(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ql(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pt(this.auth.app))return Promise.reject(bn(this.auth));const e=await this.getIdToken();return await $o(this,hI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:_,providerData:A,stsTokenManager:k}=n;K(p&&k,e,"internal-error");const S=Ws.fromJSON(this.name,k);K(typeof p=="string",e,"internal-error"),$n(r,e.name),$n(s,e.name),K(typeof g=="boolean",e,"internal-error"),K(typeof _=="boolean",e,"internal-error"),$n(i,e.name),$n(a,e.name),$n(c,e.name),$n(u,e.name),$n(d,e.name),$n(f,e.name);const b=new Wt({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:_,photoURL:a,phoneNumber:i,tenantId:c,stsTokenManager:S,createdAt:d,lastLoginAt:f});return A&&Array.isArray(A)&&(b.providerData=A.map(y=>({...y}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ws;s.updateFromServerResponse(n);const i=new Wt({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ql(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];K(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?G_(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new Ws;c.updateFromIdToken(r);const u=new Wt({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new rh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map;function wn(t){kn(t instanceof Function,"Expected a class definition");let e=Wg.get(t);return e?(kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}K_.type="NONE";const Hg=K_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=dl(this.userKey,s.apiKey,i),this.fullPersistenceKey=dl("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kl(this.auth,{idToken:e}).catch(()=>{});return n?Wt._fromGetAccountInfoResponse(this.auth,n,e):null}return Wt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(wn(Hg),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||wn(Hg);const a=dl(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){let p;if(typeof f=="string"){const g=await Kl(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Wt._fromGetAccountInfoResponse(e,g,f)}else p=Wt._fromJSON(e,f);d!==i&&(c=p),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Hs(i,e,r):(i=u[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Hs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e0(e))return"Blackberry";if(t0(e))return"Webos";if(Y_(e))return"Safari";if((e.includes("chrome/")||X_(e))&&!e.includes("edge/"))return"Chrome";if(Z_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q_(t=lt()){return/firefox\//i.test(t)}function Y_(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X_(t=lt()){return/crios\//i.test(t)}function J_(t=lt()){return/iemobile/i.test(t)}function Z_(t=lt()){return/android/i.test(t)}function e0(t=lt()){return/blackberry/i.test(t)}function t0(t=lt()){return/webos/i.test(t)}function Af(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _I(t=lt()){var e;return Af(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wI(){return RT()&&document.documentMode===10}function n0(t=lt()){return Af(t)||Z_(t)||t0(t)||e0(t)||/windows phone/i.test(t)||J_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t,e=[]){let n;switch(t){case"Browser":n=qg(lt());break;case"Worker":n=`${qg(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const u=e(i);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=6;class NI{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gg(this),this.idTokenSubscription=new Gg(this),this.beforeStateQueue=new EI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kl(this,{idToken:e}),r=await Wt._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Pt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ql(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pt(this.app))return Promise.reject(bn(this));const n=e?It(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pt(this.app)?Promise.reject(bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pt(this.app)?Promise.reject(bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bI(this),n=new NI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&tI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ds(t){return It(t)}class Gg{constructor(e){this.auth=e,this.observer=null,this.addObserver=zT(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jI(t){Rc=t}function s0(t){return Rc.loadJS(t)}function SI(){return Rc.recaptchaEnterpriseScript}function AI(){return Rc.gapiScript}function kI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new PI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RI="recaptcha-enterprise",i0="NO_RECAPTCHA";class DI{constructor(e){this.type=RI,this.auth=ds(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{dI(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new uI(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(i,a,c){const u=window.grecaptcha;Bg(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(i0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&Bg(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=SI();u.length!==0&&(u+=c),s0(u).then(()=>{s(c,i,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function Kg(t,e,n,r=!1,s=!1){const i=new DI(t);let a;if(s)a=i0;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function sh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Kg(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Kg(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e){const n=Nf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(es(i,e??{}))return s;Xt(s,"already-initialized")}return n.initialize({options:e})}function MI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OI(t,e,n){const r=ds(t);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=o0(e),{host:a,port:c}=LI(e),u=c===null?"":`:${c}`,d={url:`${i}//${a}${u}/`},f=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(es(d,r.config.emulator)&&es(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,mi(a)?(R_(`${i}//${a}${u}`),D_("Auth",!0)):UI()}function o0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LI(t){const e=o0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qg(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:Qg(a)}}}function Qg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}}async function FI(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t,e){return ca(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e){return ca(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function $I(t,e){return ca(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends kf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,n,"signInWithPassword",zI);case"emailLink":return BI(e,{email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sh(e,r,"signUpPassword",FI);case"emailLink":return $I(e,{idToken:n,email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return ca(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="http://localhost";class ns extends kf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new ns(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:WI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=aa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qI(t){const e=Ji(Zi(t)).link,n=e?Ji(Zi(e)).deep_link_id:null,r=Ji(Zi(t)).deep_link_id;return(r?Ji(Zi(r)).link:null)||r||n||e||t}class Cf{constructor(e){const n=Ji(Zi(e)),r=n.apiKey??null,s=n.oobCode??null,i=HI(n.mode??null);K(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=qI(e);try{return new Cf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.providerId=gi.PROVIDER_ID}static credential(e,n){return Wo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cf.parseLink(n);return K(r,"argument-error"),Wo._fromEmailAndCode(e,r.code,r.tenantId)}}gi.PROVIDER_ID="password";gi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends a0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn extends ua{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kn.credential(e.oauthAccessToken)}catch{return null}}}Kn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends ua{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends ua{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yn.credential(e.oauthAccessToken)}catch{return null}}}Yn.GITHUB_SIGN_IN_METHOD="github.com";Yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends ua{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xn.credential(n,r)}catch{return null}}}Xn.TWITTER_SIGN_IN_METHOD="twitter.com";Xn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e){return ca(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wt._fromIdTokenResponse(e,r,s),a=Yg(r);return new rs({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yg(r);return new rs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Dn{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yl(e,n,r,s)}}function l0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Yl._fromErrorAndOperation(t,i,e,r):i})}async function KI(t,e,n=!1){const r=await $o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t,e,n=!1){const{auth:r}=t;if(Pt(r.app))return Promise.reject(bn(r));const s="reauthenticate";try{const i=await $o(t,l0(r,s,e,t),n);K(i.idToken,r,"internal-error");const a=Sf(i.idToken);K(a,r,"internal-error");const{sub:c}=a;return K(t.uid===c,r,"user-mismatch"),rs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(t,e,n=!1){if(Pt(t.app))return Promise.reject(bn(t));const r="signIn",s=await l0(t,r,e),i=await rs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function YI(t,e){return c0(ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t){const e=ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XI(t,e,n){if(Pt(t.app))return Promise.reject(bn(t));const r=ds(t),a=await sh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GI).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&u0(t),u}),c=await rs._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function JI(t,e,n){return Pt(t.app)?Promise.reject(bn(t)):YI(It(t),gi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u0(t),r})}function ZI(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function ej(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function tj(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function nj(t){return It(t).signOut()}const Xl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xl,"1"),this.storage.removeItem(Xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1e3,sj=10;class h0 extends d0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=n0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);wI()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h0.type="LOCAL";const ij=h0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends d0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f0.type="SESSION";const m0=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Dc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,i)),u=await oj(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,u)=>{const d=Pf("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function lj(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function dj(){return p0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firebaseLocalStorageDb",hj=1,Jl="firebaseLocalStorage",y0="fbase_key";class da{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vc(t,e){return t.transaction([Jl],e?"readwrite":"readonly").objectStore(Jl)}function fj(){const t=indexedDB.deleteDatabase(g0);return new da(t).toPromise()}function ih(){const t=indexedDB.open(g0,hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jl,{keyPath:y0})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jl)?e(r):(r.close(),await fj(),e(await ih()))})})}async function Xg(t,e,n){const r=Vc(t,!0).put({[y0]:e,value:n});return new da(r).toPromise()}async function mj(t,e){const n=Vc(t,!1).get(e),r=await new da(n).toPromise();return r===void 0?null:r.value}function Jg(t,e){const n=Vc(t,!0).delete(e);return new da(n).toPromise()}const pj=800,gj=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ih(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dc._getInstance(dj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await cj(),!this.activeServiceWorker)return;this.sender=new aj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ih();return await Xg(e,Xl,"1"),await Jg(e,Xl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vc(s,!1).getAll();return new da(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const yj=v0;new la(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){return e?wn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends kf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xj(t){return c0(t.auth,new Rf(t),t.bypassAuthState)}function _j(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),QI(n,new Rf(t),t.bypassAuthState)}async function wj(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),KI(n,new Rf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xj;case"linkViaPopup":case"linkViaRedirect":return wj;case"reauthViaPopup":case"reauthViaRedirect":return _j;default:Xt(this.auth,"internal-error")}}resolve(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new la(2e3,1e4);class Os extends x0{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){kn(this.filter.length===1,"Popup operations only handle one event");const e=Pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ej.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="pendingRedirect",hl=new Map;class Tj extends x0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hl.get(this.auth._key());if(!e){try{const r=await Nj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hl.set(this.auth._key(),e)}return this.bypassAuthState||hl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nj(t,e){const n=Sj(e),r=jj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Ij(t,e){hl.set(t._key(),e)}function jj(t){return wn(t._redirectPersistence)}function Sj(t){return dl(bj,t.config.apiKey,t.name)}async function Aj(t,e,n=!1){if(Pt(t.app))return Promise.reject(bn(t));const r=ds(t),s=vj(r,e),a=await new Tj(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=10*60*1e3;class Cj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_0(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zg(e))}saveEventToCache(e){this.cachedEventUids.add(Zg(e)),this.lastProcessedEventTime=Date.now()}}function Zg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vj=/^https?/;async function Mj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rj(t);for(const n of e)try{if(Oj(n))return}catch{}Xt(t,"unauthorized-domain")}function Oj(t){const e=nh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Vj.test(n))return!1;if(Dj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new la(3e4,6e4);function ey(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uj(t){return new Promise((e,n)=>{var s,i,a;function r(){ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ey(),n(an(t,"network-request-failed"))},timeout:Lj.get()})}if((i=(s=ln().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=ln().gapi)!=null&&a.load)r();else{const c=kI("iframefcb");return ln()[c]=()=>{gapi.load?r():n(an(t,"network-request-failed"))},s0(`${AI()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw fl=null,e})}let fl=null;function Fj(t){return fl=fl||Uj(t),fl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new la(5e3,15e3),Bj="__/auth/iframe",$j="emulator/auth/iframe",Wj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qj(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jf(e,$j):`https://${t.config.authDomain}/${Bj}`,r={apiKey:e.apiKey,appName:t.name,v:pi},s=Hj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${aa(r).slice(1)}`}async function Gj(t){const e=await Fj(t),n=ln().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:qj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=an(t,"network-request-failed"),c=ln().setTimeout(()=>{i(a)},zj.get());function u(){ln().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qj=500,Yj=600,Xj="_blank",Jj="http://localhost";class ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zj(t,e,n,r=Qj,s=Yj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...Kj,width:r.toString(),height:s.toString(),top:i,left:a},d=lt().toLowerCase();n&&(c=X_(d)?Xj:n),Q_(d)&&(e=e||Jj,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[_,A])=>`${g}${_}=${A},`,"");if(_I(d)&&c!=="_self")return eS(e||"",c),new ty(null);const p=window.open(e||"",c,f);K(p,t,"popup-blocked");try{p.focus()}catch{}return new ty(p)}function eS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__/auth/handler",nS="emulator/auth/handler",rS=encodeURIComponent("fac");async function ny(t,e,n,r,s,i){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pi,eventId:s};if(e instanceof a0){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",FT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof ua){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${rS}=${encodeURIComponent(u)}`:"";return`${sS(t)}?${aa(c).slice(1)}${d}`}function sS({config:t}){return t.emulator?jf(t,nS):`https://${t.authDomain}/${tS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="webStorageSupport";class iS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m0,this._completeRedirectFn=Aj,this._overrideRedirectResult=Ij}async _openPopup(e,n,r,s){var a;kn((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await ny(e,n,r,nh(),s);return Zj(e,i,Pf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ny(e,n,r,nh(),s);return lj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(kn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Gj(e),r=new Cj(e);return n.register("authEvent",s=>(K(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qu,{type:Qu},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Qu];i!==void 0&&n(!!i),Xt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Mj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n0()||Y_()||Af()}}const oS=iS;var ry="@firebase/auth",sy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cS(t){ti(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r0(t)},d=new II(r,s,i,u);return MI(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new ts("auth-internal",e=>{const n=ds(e.getProvider("auth").getImmediate());return(r=>new aS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(ry,sy,lS(t)),fr(ry,sy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=5*60,dS=P_("authIdTokenMaxAge")||uS;let iy=null;const hS=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dS)return;const s=n==null?void 0:n.token;iy!==s&&(iy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fS(t=L_()){const e=Nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(t,{popupRedirectResolver:oS,persistence:[yj,ij,m0]}),r=P_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=hS(i.toString());ej(n,a,()=>a(n.currentUser)),ZI(n,c=>a(c))}}const s=k_("auth");return s&&OI(n,`http://${s}`),n}function mS(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jI({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=an("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",mS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cS("Browser");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,w0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,x){function T(){}T.prototype=x.prototype,E.F=x.prototype,E.prototype=new T,E.prototype.constructor=E,E.D=function(I,j,P){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return x.prototype[j].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,x,T){T||(T=0);const I=Array(16);if(typeof x=="string")for(var j=0;j<16;++j)I[j]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(j=0;j<16;++j)I[j]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=E.g[0],T=E.g[1],j=E.g[2];let P=E.g[3],N;N=x+(P^T&(j^P))+I[0]+3614090360&4294967295,x=T+(N<<7&4294967295|N>>>25),N=P+(j^x&(T^j))+I[1]+3905402710&4294967295,P=x+(N<<12&4294967295|N>>>20),N=j+(T^P&(x^T))+I[2]+606105819&4294967295,j=P+(N<<17&4294967295|N>>>15),N=T+(x^j&(P^x))+I[3]+3250441966&4294967295,T=j+(N<<22&4294967295|N>>>10),N=x+(P^T&(j^P))+I[4]+4118548399&4294967295,x=T+(N<<7&4294967295|N>>>25),N=P+(j^x&(T^j))+I[5]+1200080426&4294967295,P=x+(N<<12&4294967295|N>>>20),N=j+(T^P&(x^T))+I[6]+2821735955&4294967295,j=P+(N<<17&4294967295|N>>>15),N=T+(x^j&(P^x))+I[7]+4249261313&4294967295,T=j+(N<<22&4294967295|N>>>10),N=x+(P^T&(j^P))+I[8]+1770035416&4294967295,x=T+(N<<7&4294967295|N>>>25),N=P+(j^x&(T^j))+I[9]+2336552879&4294967295,P=x+(N<<12&4294967295|N>>>20),N=j+(T^P&(x^T))+I[10]+4294925233&4294967295,j=P+(N<<17&4294967295|N>>>15),N=T+(x^j&(P^x))+I[11]+2304563134&4294967295,T=j+(N<<22&4294967295|N>>>10),N=x+(P^T&(j^P))+I[12]+1804603682&4294967295,x=T+(N<<7&4294967295|N>>>25),N=P+(j^x&(T^j))+I[13]+4254626195&4294967295,P=x+(N<<12&4294967295|N>>>20),N=j+(T^P&(x^T))+I[14]+2792965006&4294967295,j=P+(N<<17&4294967295|N>>>15),N=T+(x^j&(P^x))+I[15]+1236535329&4294967295,T=j+(N<<22&4294967295|N>>>10),N=x+(j^P&(T^j))+I[1]+4129170786&4294967295,x=T+(N<<5&4294967295|N>>>27),N=P+(T^j&(x^T))+I[6]+3225465664&4294967295,P=x+(N<<9&4294967295|N>>>23),N=j+(x^T&(P^x))+I[11]+643717713&4294967295,j=P+(N<<14&4294967295|N>>>18),N=T+(P^x&(j^P))+I[0]+3921069994&4294967295,T=j+(N<<20&4294967295|N>>>12),N=x+(j^P&(T^j))+I[5]+3593408605&4294967295,x=T+(N<<5&4294967295|N>>>27),N=P+(T^j&(x^T))+I[10]+38016083&4294967295,P=x+(N<<9&4294967295|N>>>23),N=j+(x^T&(P^x))+I[15]+3634488961&4294967295,j=P+(N<<14&4294967295|N>>>18),N=T+(P^x&(j^P))+I[4]+3889429448&4294967295,T=j+(N<<20&4294967295|N>>>12),N=x+(j^P&(T^j))+I[9]+568446438&4294967295,x=T+(N<<5&4294967295|N>>>27),N=P+(T^j&(x^T))+I[14]+3275163606&4294967295,P=x+(N<<9&4294967295|N>>>23),N=j+(x^T&(P^x))+I[3]+4107603335&4294967295,j=P+(N<<14&4294967295|N>>>18),N=T+(P^x&(j^P))+I[8]+1163531501&4294967295,T=j+(N<<20&4294967295|N>>>12),N=x+(j^P&(T^j))+I[13]+2850285829&4294967295,x=T+(N<<5&4294967295|N>>>27),N=P+(T^j&(x^T))+I[2]+4243563512&4294967295,P=x+(N<<9&4294967295|N>>>23),N=j+(x^T&(P^x))+I[7]+1735328473&4294967295,j=P+(N<<14&4294967295|N>>>18),N=T+(P^x&(j^P))+I[12]+2368359562&4294967295,T=j+(N<<20&4294967295|N>>>12),N=x+(T^j^P)+I[5]+4294588738&4294967295,x=T+(N<<4&4294967295|N>>>28),N=P+(x^T^j)+I[8]+2272392833&4294967295,P=x+(N<<11&4294967295|N>>>21),N=j+(P^x^T)+I[11]+1839030562&4294967295,j=P+(N<<16&4294967295|N>>>16),N=T+(j^P^x)+I[14]+4259657740&4294967295,T=j+(N<<23&4294967295|N>>>9),N=x+(T^j^P)+I[1]+2763975236&4294967295,x=T+(N<<4&4294967295|N>>>28),N=P+(x^T^j)+I[4]+1272893353&4294967295,P=x+(N<<11&4294967295|N>>>21),N=j+(P^x^T)+I[7]+4139469664&4294967295,j=P+(N<<16&4294967295|N>>>16),N=T+(j^P^x)+I[10]+3200236656&4294967295,T=j+(N<<23&4294967295|N>>>9),N=x+(T^j^P)+I[13]+681279174&4294967295,x=T+(N<<4&4294967295|N>>>28),N=P+(x^T^j)+I[0]+3936430074&4294967295,P=x+(N<<11&4294967295|N>>>21),N=j+(P^x^T)+I[3]+3572445317&4294967295,j=P+(N<<16&4294967295|N>>>16),N=T+(j^P^x)+I[6]+76029189&4294967295,T=j+(N<<23&4294967295|N>>>9),N=x+(T^j^P)+I[9]+3654602809&4294967295,x=T+(N<<4&4294967295|N>>>28),N=P+(x^T^j)+I[12]+3873151461&4294967295,P=x+(N<<11&4294967295|N>>>21),N=j+(P^x^T)+I[15]+530742520&4294967295,j=P+(N<<16&4294967295|N>>>16),N=T+(j^P^x)+I[2]+3299628645&4294967295,T=j+(N<<23&4294967295|N>>>9),N=x+(j^(T|~P))+I[0]+4096336452&4294967295,x=T+(N<<6&4294967295|N>>>26),N=P+(T^(x|~j))+I[7]+1126891415&4294967295,P=x+(N<<10&4294967295|N>>>22),N=j+(x^(P|~T))+I[14]+2878612391&4294967295,j=P+(N<<15&4294967295|N>>>17),N=T+(P^(j|~x))+I[5]+4237533241&4294967295,T=j+(N<<21&4294967295|N>>>11),N=x+(j^(T|~P))+I[12]+1700485571&4294967295,x=T+(N<<6&4294967295|N>>>26),N=P+(T^(x|~j))+I[3]+2399980690&4294967295,P=x+(N<<10&4294967295|N>>>22),N=j+(x^(P|~T))+I[10]+4293915773&4294967295,j=P+(N<<15&4294967295|N>>>17),N=T+(P^(j|~x))+I[1]+2240044497&4294967295,T=j+(N<<21&4294967295|N>>>11),N=x+(j^(T|~P))+I[8]+1873313359&4294967295,x=T+(N<<6&4294967295|N>>>26),N=P+(T^(x|~j))+I[15]+4264355552&4294967295,P=x+(N<<10&4294967295|N>>>22),N=j+(x^(P|~T))+I[6]+2734768916&4294967295,j=P+(N<<15&4294967295|N>>>17),N=T+(P^(j|~x))+I[13]+1309151649&4294967295,T=j+(N<<21&4294967295|N>>>11),N=x+(j^(T|~P))+I[4]+4149444226&4294967295,x=T+(N<<6&4294967295|N>>>26),N=P+(T^(x|~j))+I[11]+3174756917&4294967295,P=x+(N<<10&4294967295|N>>>22),N=j+(x^(P|~T))+I[2]+718787259&4294967295,j=P+(N<<15&4294967295|N>>>17),N=T+(P^(j|~x))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+x&4294967295,E.g[1]=E.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+j&4294967295,E.g[3]=E.g[3]+P&4294967295}r.prototype.v=function(E,x){x===void 0&&(x=E.length);const T=x-this.blockSize,I=this.C;let j=this.h,P=0;for(;P<x;){if(j==0)for(;P<=T;)s(this,E,P),P+=this.blockSize;if(typeof E=="string"){for(;P<x;)if(I[j++]=E.charCodeAt(P++),j==this.blockSize){s(this,I),j=0;break}}else for(;P<x;)if(I[j++]=E[P++],j==this.blockSize){s(this,I),j=0;break}}this.h=j,this.o+=x},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var x=1;x<E.length-8;++x)E[x]=0;x=this.o*8;for(var T=E.length-8;T<E.length;++T)E[T]=x&255,x/=256;for(this.v(E),E=Array(16),x=0,T=0;T<4;++T)for(let I=0;I<32;I+=8)E[x++]=this.g[T]>>>I&255;return E};function i(E,x){var T=c;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=x(E)}function a(E,x){this.h=x;const T=[];let I=!0;for(let j=E.length-1;j>=0;j--){const P=E[j]|0;I&&P==x||(T[j]=P,I=!1)}this.g=T}var c={};function u(E){return-128<=E&&E<128?i(E,function(x){return new a([x|0],x<0?-1:0)}):new a([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return S(d(-E));const x=[];let T=1;for(let I=0;E>=T;I++)x[I]=E/T|0,T*=4294967296;return new a(x,0)}function f(E,x){if(E.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(E.charAt(0)=="-")return S(f(E.substring(1),x));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=d(Math.pow(x,8));let I=p;for(let P=0;P<E.length;P+=8){var j=Math.min(8,E.length-P);const N=parseInt(E.substring(P,P+j),x);j<8?(j=d(Math.pow(x,j)),I=I.j(j).add(d(N))):(I=I.j(T),I=I.add(d(N)))}return I}var p=u(0),g=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(k(this))return-S(this).m();let E=0,x=1;for(let T=0;T<this.g.length;T++){const I=this.i(T);E+=(I>=0?I:4294967296+I)*x,x*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(k(this))return"-"+S(this).toString(E);const x=d(Math.pow(E,6));var T=this;let I="";for(;;){const j=C(T,x).g;T=b(T,j.j(x));let P=((T.g.length>0?T.g[0]:T.h)>>>0).toString(E);if(T=j,A(T))return P+I;for(;P.length<6;)P="0"+P;I=P+I}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(let x=0;x<E.g.length;x++)if(E.g[x]!=0)return!1;return!0}function k(E){return E.h==-1}t.l=function(E){return E=b(this,E),k(E)?-1:A(E)?0:1};function S(E){const x=E.g.length,T=[];for(let I=0;I<x;I++)T[I]=~E.g[I];return new a(T,~E.h).add(g)}t.abs=function(){return k(this)?S(this):this},t.add=function(E){const x=Math.max(this.g.length,E.g.length),T=[];let I=0;for(let j=0;j<=x;j++){let P=I+(this.i(j)&65535)+(E.i(j)&65535),N=(P>>>16)+(this.i(j)>>>16)+(E.i(j)>>>16);I=N>>>16,P&=65535,N&=65535,T[j]=N<<16|P}return new a(T,T[T.length-1]&-2147483648?-1:0)};function b(E,x){return E.add(S(x))}t.j=function(E){if(A(this)||A(E))return p;if(k(this))return k(E)?S(this).j(S(E)):S(S(this).j(E));if(k(E))return S(this.j(S(E)));if(this.l(_)<0&&E.l(_)<0)return d(this.m()*E.m());const x=this.g.length+E.g.length,T=[];for(var I=0;I<2*x;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(let j=0;j<E.g.length;j++){const P=this.i(I)>>>16,N=this.i(I)&65535,We=E.i(j)>>>16,pn=E.i(j)&65535;T[2*I+2*j]+=N*pn,y(T,2*I+2*j),T[2*I+2*j+1]+=P*pn,y(T,2*I+2*j+1),T[2*I+2*j+1]+=N*We,y(T,2*I+2*j+1),T[2*I+2*j+2]+=P*We,y(T,2*I+2*j+2)}for(E=0;E<x;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=x;E<2*x;E++)T[E]=0;return new a(T,0)};function y(E,x){for(;(E[x]&65535)!=E[x];)E[x+1]+=E[x]>>>16,E[x]&=65535,x++}function w(E,x){this.g=E,this.h=x}function C(E,x){if(A(x))throw Error("division by zero");if(A(E))return new w(p,p);if(k(E))return x=C(S(E),x),new w(S(x.g),S(x.h));if(k(x))return x=C(E,S(x)),new w(S(x.g),x.h);if(E.g.length>30){if(k(E)||k(x))throw Error("slowDivide_ only works with positive integers.");for(var T=g,I=x;I.l(E)<=0;)T=L(T),I=L(I);var j=F(T,1),P=F(I,1);for(I=F(I,2),T=F(T,2);!A(I);){var N=P.add(I);N.l(E)<=0&&(j=j.add(T),P=N),I=F(I,1),T=F(T,1)}return x=b(E,j.j(x)),new w(j,x)}for(j=p;E.l(x)>=0;){for(T=Math.max(1,Math.floor(E.m()/x.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),P=d(T),N=P.j(x);k(N)||N.l(E)>0;)T-=I,P=d(T),N=P.j(x);A(P)&&(P=g),j=j.add(P),E=b(E,N)}return new w(j,E)}t.B=function(E){return C(this,E).h},t.and=function(E){const x=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<x;I++)T[I]=this.i(I)&E.i(I);return new a(T,this.h&E.h)},t.or=function(E){const x=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<x;I++)T[I]=this.i(I)|E.i(I);return new a(T,this.h|E.h)},t.xor=function(E){const x=Math.max(this.g.length,E.g.length),T=[];for(let I=0;I<x;I++)T[I]=this.i(I)^E.i(I);return new a(T,this.h^E.h)};function L(E){const x=E.g.length+1,T=[];for(let I=0;I<x;I++)T[I]=E.i(I)<<1|E.i(I-1)>>>31;return new a(T,E.h)}function F(E,x){const T=x>>5;x%=32;const I=E.g.length-T,j=[];for(let P=0;P<I;P++)j[P]=x>0?E.i(P+T)>>>x|E.i(P+T+1)<<32-x:E.i(P+T);return new a(j,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,w0=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,mr=a}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,eo,b0,ml,oh,T0,N0,I0;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ga=="object"&&Ga];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var m=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var R=l[v];if(!(R in m))break e;m=m[R]}l=l[l.length-1],v=m[l],h=h(v),h!=v&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var m=[],v;for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&m.push([v,h[v]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,m){return l.call.apply(l.bind,arguments)}function d(l,h,m){return d=u,d.apply(null,arguments)}function f(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function p(l,h){function m(){}m.prototype=h.prototype,l.Z=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(v,R,D){for(var z=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)z[ee-2]=arguments[ee];return h.prototype[R].apply(v,z)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function _(l){const h=l.length;if(h>0){const m=Array(h);for(let v=0;v<h;v++)m[v]=l[v];return m}return[]}function A(l,h){for(let v=1;v<arguments.length;v++){const R=arguments[v];var m=typeof R;if(m=m!="object"?m:R?Array.isArray(R)?"array":m:"null",m=="array"||m=="object"&&typeof R.length=="number"){m=l.length||0;const D=R.length||0;l.length=m+D;for(let z=0;z<D;z++)l[m+z]=R[z]}else l.push(R)}}class k{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function S(l){a.setTimeout(()=>{throw l},0)}function b(){var l=E;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class y{constructor(){this.h=this.g=null}add(h,m){const v=w.get();v.set(h,m),this.h?this.h.next=v:this.g=v,this.h=v}}var w=new k(()=>new C,l=>l.reset());class C{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,E=new y,x=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(T)}};function T(){for(var l;l=b();){try{l.h.call(l.g)}catch(m){S(m)}var h=w;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}F=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function N(l){return/^[\s\xa0]*$/.test(l)}function We(l,h){j.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}p(We,j),We.prototype.init=function(l,h){const m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var pn="closure_listenable_"+(Math.random()*1e6|0),wi=0;function Ei(l,h,m,v,R){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!v,this.ha=R,this.key=++wi,this.da=this.fa=!1}function B(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Y(l,h,m){for(const v in l)h.call(m,l[v],v,l)}function Z(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function pe(l){const h={};for(const m in l)h[m]=l[m];return h}const Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pr(l,h){let m,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(m in v)l[m]=v[m];for(let D=0;D<Te.length;D++)m=Te[D],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function At(l){this.src=l,this.g={},this.h=0}At.prototype.add=function(l,h,m,v,R){const D=l.toString();l=this.g[D],l||(l=this.g[D]=[],this.h++);const z=Ut(l,h,v,R);return z>-1?(h=l[z],m||(h.fa=!1)):(h=new Ei(h,this.src,D,!!v,R),h.fa=m,l.push(h)),h};function Rr(l,h){const m=h.type;if(m in l.g){var v=l.g[m],R=Array.prototype.indexOf.call(v,h,void 0),D;(D=R>=0)&&Array.prototype.splice.call(v,R,1),D&&(B(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ut(l,h,m,v){for(let R=0;R<l.length;++R){const D=l[R];if(!D.da&&D.listener==h&&D.capture==!!m&&D.ha==v)return R}return-1}var Vn="closure_lm_"+(Math.random()*1e6|0),Qc={};function fm(l,h,m,v,R){if(Array.isArray(h)){for(let D=0;D<h.length;D++)fm(l,h[D],m,v,R);return null}return m=gm(m),l&&l[pn]?l.J(h,m,c(v)?!!v.capture:!1,R):eE(l,h,m,!1,v,R)}function eE(l,h,m,v,R,D){if(!h)throw Error("Invalid event type");const z=c(R)?!!R.capture:!!R;let ee=Xc(l);if(ee||(l[Vn]=ee=new At(l)),m=ee.add(h,m,v,z,D),m.proxy)return m;if(v=tE(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)P||(R=z),R===void 0&&(R=!1),l.addEventListener(h.toString(),v,R);else if(l.attachEvent)l.attachEvent(pm(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function tE(){function l(m){return h.call(l.src,l.listener,m)}const h=nE;return l}function mm(l,h,m,v,R){if(Array.isArray(h))for(var D=0;D<h.length;D++)mm(l,h[D],m,v,R);else v=c(v)?!!v.capture:!!v,m=gm(m),l&&l[pn]?(l=l.i,D=String(h).toString(),D in l.g&&(h=l.g[D],m=Ut(h,m,v,R),m>-1&&(B(h[m]),Array.prototype.splice.call(h,m,1),h.length==0&&(delete l.g[D],l.h--)))):l&&(l=Xc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ut(h,m,v,R)),(m=l>-1?h[l]:null)&&Yc(m))}function Yc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[pn])Rr(h.i,l);else{var m=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(m,v,l.capture):h.detachEvent?h.detachEvent(pm(m),v):h.addListener&&h.removeListener&&h.removeListener(v),(m=Xc(h))?(Rr(m,l),m.h==0&&(m.src=null,h[Vn]=null)):B(l)}}}function pm(l){return l in Qc?Qc[l]:Qc[l]="on"+l}function nE(l,h){if(l.da)l=!0;else{h=new We(h,this);const m=l.listener,v=l.ha||l.src;l.fa&&Yc(l),l=m.call(v,h)}return l}function Xc(l){return l=l[Vn],l instanceof At?l:null}var Jc="__closure_events_fn_"+(Math.random()*1e9>>>0);function gm(l){return typeof l=="function"?l:(l[Jc]||(l[Jc]=function(h){return l.handleEvent(h)}),l[Jc])}function Ze(){I.call(this),this.i=new At(this),this.M=this,this.G=null}p(Ze,I),Ze.prototype[pn]=!0,Ze.prototype.removeEventListener=function(l,h,m,v){mm(this,l,h,m,v)};function ct(l,h){var m,v=l.G;if(v)for(m=[];v;v=v.G)m.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new j(h,l);else if(h instanceof j)h.target=h.target||l;else{var R=h;h=new j(v,l),Pr(h,R)}R=!0;let D,z;if(m)for(z=m.length-1;z>=0;z--)D=h.g=m[z],R=ya(D,v,!0,h)&&R;if(D=h.g=l,R=ya(D,v,!0,h)&&R,R=ya(D,v,!1,h)&&R,m)for(z=0;z<m.length;z++)D=h.g=m[z],R=ya(D,v,!1,h)&&R}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const m=l.g[h];for(let v=0;v<m.length;v++)B(m[v]);delete l.g[h],l.h--}}this.G=null},Ze.prototype.J=function(l,h,m,v){return this.i.add(String(l),h,!1,m,v)},Ze.prototype.K=function(l,h,m,v){return this.i.add(String(l),h,!0,m,v)};function ya(l,h,m,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let R=!0;for(let D=0;D<h.length;++D){const z=h[D];if(z&&!z.da&&z.capture==m){const ee=z.listener,Pe=z.ha||z.src;z.fa&&Rr(l.i,z),R=ee.call(Pe,v)!==!1&&R}}return R&&!v.defaultPrevented}function rE(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=d(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(l,h||0)}function ym(l){l.g=rE(()=>{l.g=null,l.i&&(l.i=!1,ym(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class sE extends I{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ym(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(l){I.call(this),this.h=l,this.g={}}p(bi,I);var vm=[];function xm(l){Y(l.g,function(h,m){this.g.hasOwnProperty(m)&&Yc(h)},l),l.g={}}bi.prototype.N=function(){bi.Z.N.call(this),xm(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=a.JSON.stringify,iE=a.JSON.parse,oE=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function _m(){}function wm(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function eu(){j.call(this,"d")}p(eu,j);function tu(){j.call(this,"c")}p(tu,j);var Dr={},Em=null;function va(){return Em=Em||new Ze}Dr.Ia="serverreachability";function bm(l){j.call(this,Dr.Ia,l)}p(bm,j);function Ni(l){const h=va();ct(h,new bm(h))}Dr.STAT_EVENT="statevent";function Tm(l,h){j.call(this,Dr.STAT_EVENT,l),this.stat=h}p(Tm,j);function ut(l){const h=va();ct(h,new Tm(h,l))}Dr.Ja="timingevent";function Nm(l,h){j.call(this,Dr.Ja,l),this.size=h}p(Nm,j);function Ii(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function aE(l,h,m,v,R,D){l.info(function(){if(l.g)if(D){var z="",ee=D.split("&");for(let ce=0;ce<ee.length;ce++){var Pe=ee[ce].split("=");if(Pe.length>1){const Ue=Pe[0];Pe=Pe[1];const Zt=Ue.split("_");z=Zt.length>=2&&Zt[1]=="type"?z+(Ue+"="+Pe+"&"):z+(Ue+"=redacted&")}}}else z=null;else z=D;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+h+`
`+m+`
`+z})}function lE(l,h,m,v,R,D,z){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+h+`
`+m+`
`+D+" "+z})}function gs(l,h,m,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+uE(l,m)+(v?" "+v:"")})}function cE(l,h){l.info(function(){return"TIMEOUT: "+h})}ji.prototype.info=function(){};function uE(l,h){if(!l.g)return h;if(!h)return null;try{const D=JSON.parse(h);if(D){for(l=0;l<D.length;l++)if(Array.isArray(D[l])){var m=D[l];if(!(m.length<2)){var v=m[1];if(Array.isArray(v)&&!(v.length<1)){var R=v[0];if(R!="noop"&&R!="stop"&&R!="close")for(let z=1;z<v.length;z++)v[z]=""}}}}return Zc(D)}catch{return h}}var xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Im={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jm;function nu(){}p(nu,_m),nu.prototype.g=function(){return new XMLHttpRequest},jm=new nu;function Si(l){return encodeURIComponent(String(l))}function dE(l){var h=1;l=l.split(":");const m=[];for(;h>0&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function Mn(l,h,m,v){this.j=l,this.i=h,this.l=m,this.S=v||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sm}function Sm(){this.i=null,this.g="",this.h=!1}var Am={},ru={};function su(l,h,m){l.M=1,l.A=wa(Jt(h)),l.u=m,l.R=!0,km(l,null)}function km(l,h){l.F=Date.now(),_a(l),l.B=Jt(l.A);var m=l.B,v=l.S;Array.isArray(v)||(v=[String(v)]),$m(m.i,"t",v),l.C=0,m=l.j.L,l.h=new Sm,l.g=ap(l.j,m?h:null,!l.u),l.P>0&&(l.O=new sE(d(l.Y,l,l.g),l.P)),h=l.V,m=l.g,v=l.ba;var R="readystatechange";Array.isArray(R)||(R&&(vm[0]=R.toString()),R=vm);for(let D=0;D<R.length;D++){const z=fm(m,R[D],v||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.J?pe(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Ni(),aE(l.i,l.v,l.B,l.l,l.S,l.u)}Mn.prototype.ba=function(l){l=l.target;const h=this.O;h&&Un(l)==3?h.j():this.Y(l)},Mn.prototype.Y=function(l){try{if(l==this.g)e:{const ee=Un(this.g),Pe=this.g.ya(),ce=this.g.ca();if(!(ee<3)&&(ee!=3||this.g&&(this.h.h||this.g.la()||Ym(this.g)))){this.K||ee!=4||Pe==7||(Pe==8||ce<=0?Ni(3):Ni(2)),iu(this);var h=this.g.ca();this.X=h;var m=hE(this);if(this.o=h==200,lE(this.i,this.v,this.B,this.l,this.S,ee,h),this.o){if(this.U&&!this.L){t:{if(this.g){var v,R=this.g;if((v=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(v)){var D=v;break t}}D=null}if(l=D)gs(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ou(this,l);else{this.o=!1,this.m=3,ut(12),Vr(this),Ai(this);break e}}if(this.R){l=!0;let Ue;for(;!this.K&&this.C<m.length;)if(Ue=fE(this,m),Ue==ru){ee==4&&(this.m=4,ut(14),l=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Am){this.m=4,ut(15),gs(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else gs(this.i,this.l,Ue,null),ou(this,Ue);if(Cm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ee!=4||m.length!=0||this.h.h||(this.m=1,ut(16),l=!1),this.o=this.o&&l,!l)gs(this.i,this.l,m,"[Invalid Chunked Response]"),Vr(this),Ai(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),mu(z),z.P=!0,ut(11))}}else gs(this.i,this.l,m,null),ou(this,m);ee==4&&Vr(this),this.o&&!this.K&&(ee==4?rp(this.j,this):(this.o=!1,_a(this)))}else jE(this.g),h==400&&m.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Vr(this),Ai(this)}}}catch{}finally{}};function hE(l){if(!Cm(l))return l.g.la();const h=Ym(l.g);if(h==="")return"";let m="";const v=h.length,R=Un(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Vr(l),Ai(l),"";l.h.i=new a.TextDecoder}for(let D=0;D<v;D++)l.h.h=!0,m+=l.h.i.decode(h[D],{stream:!(R&&D==v-1)});return h.length=0,l.h.g+=m,l.C=0,l.h.g}function Cm(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function fE(l,h){var m=l.C,v=h.indexOf(`
`,m);return v==-1?ru:(m=Number(h.substring(m,v)),isNaN(m)?Am:(v+=1,v+m>h.length?ru:(h=h.slice(v,v+m),l.C=v+m,h)))}Mn.prototype.cancel=function(){this.K=!0,Vr(this)};function _a(l){l.T=Date.now()+l.H,Pm(l,l.H)}function Pm(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ii(d(l.aa,l),h)}function iu(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Mn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(cE(this.i,this.B),this.M!=2&&(Ni(),ut(17)),Vr(this),this.m=2,Ai(this)):Pm(this,this.T-l)};function Ai(l){l.j.I==0||l.K||rp(l.j,l)}function Vr(l){iu(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,xm(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function ou(l,h){try{var m=l.j;if(m.I!=0&&(m.g==l||au(m.h,l))){if(!l.L&&au(m.h,l)&&m.I==3){try{var v=m.Ba.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)Ia(m),Ta(m);else break e;fu(m),ut(18)}}else m.xa=R[1],0<m.xa-m.K&&R[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ii(d(m.Va,m),6e3));Vm(m.h)<=1&&m.ta&&(m.ta=void 0)}else Or(m,11)}else if((l.L||m.g==l)&&Ia(m),!N(h))for(R=m.Ba.g.parse(h),h=0;h<R.length;h++){let ce=R[h];const Ue=ce[0];if(!(Ue<=m.K))if(m.K=Ue,ce=ce[1],m.I==2)if(ce[0]=="c"){m.M=ce[1],m.ba=ce[2];const Zt=ce[3];Zt!=null&&(m.ka=Zt,m.j.info("VER="+m.ka));const Lr=ce[4];Lr!=null&&(m.za=Lr,m.j.info("SVER="+m.za));const Fn=ce[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(v=1.5*Fn,m.O=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const zn=l.g;if(zn){const Sa=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var D=v.h;D.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(lu(D,D.h),D.h=null))}if(v.G){const pu=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(v.wa=pu,de(v.J,v.G,pu))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),v=m;var z=l;if(v.na=op(v,v.L?v.ba:null,v.W),z.L){Mm(v.h,z);var ee=z,Pe=v.O;Pe&&(ee.H=Pe),ee.D&&(iu(ee),_a(ee)),v.g=z}else tp(v);m.i.length>0&&Na(m)}else ce[0]!="stop"&&ce[0]!="close"||Or(m,7);else m.I==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Or(m,7):hu(m):ce[0]!="noop"&&m.l&&m.l.qa(ce),m.A=0)}}Ni(4)}catch{}}var mE=class{constructor(l,h){this.g=l,this.map=h}};function Rm(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vm(l){return l.h?1:l.g?l.g.size:0}function au(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function lu(l,h){l.g?l.g.add(h):l.h=h}function Mm(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Rm.prototype.cancel=function(){if(this.i=Om(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Om(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.G);return h}return _(l.i)}var Lm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pE(l,h){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const v=l[m].indexOf("=");let R,D=null;v>=0?(R=l[m].substring(0,v),D=l[m].substring(v+1)):R=l[m],h(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function On(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof On?(this.l=l.l,ki(this,l.j),this.o=l.o,this.g=l.g,Ci(this,l.u),this.h=l.h,cu(this,Wm(l.i)),this.m=l.m):l&&(h=String(l).match(Lm))?(this.l=!1,ki(this,h[1]||"",!0),this.o=Pi(h[2]||""),this.g=Pi(h[3]||"",!0),Ci(this,h[4]),this.h=Pi(h[5]||"",!0),cu(this,h[6]||"",!0),this.m=Pi(h[7]||"")):(this.l=!1,this.i=new Di(null,this.l))}On.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ri(h,Um,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ri(h,Um,!0),"@"),l.push(Si(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ri(m,m.charAt(0)=="/"?vE:yE,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ri(m,_E)),l.join("")},On.prototype.resolve=function(l){const h=Jt(this);let m=!!l.j;m?ki(h,l.j):m=!!l.o,m?h.o=l.o:m=!!l.g,m?h.g=l.g:m=l.u!=null;var v=l.h;if(m)Ci(h,l.u);else if(m=!!l.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var R=h.h.lastIndexOf("/");R!=-1&&(v=h.h.slice(0,R+1)+v)}if(R=v,R==".."||R==".")v="";else if(R.indexOf("./")!=-1||R.indexOf("/.")!=-1){v=R.lastIndexOf("/",0)==0,R=R.split("/");const D=[];for(let z=0;z<R.length;){const ee=R[z++];ee=="."?v&&z==R.length&&D.push(""):ee==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),v&&z==R.length&&D.push("")):(D.push(ee),v=!0)}v=D.join("/")}else v=R}return m?h.h=v:m=l.i.toString()!=="",m?cu(h,Wm(l.i)):m=!!l.m,m&&(h.m=l.m),h};function Jt(l){return new On(l)}function ki(l,h,m){l.j=m?Pi(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ci(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function cu(l,h,m){h instanceof Di?(l.i=h,wE(l.i,l.l)):(m||(h=Ri(h,xE)),l.i=new Di(h,l.l))}function de(l,h,m){l.i.set(h,m)}function wa(l){return de(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Pi(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ri(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,gE),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gE(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Um=/[#\/\?@]/g,yE=/[#\?:]/g,vE=/[#\?]/g,xE=/[#\?@]/g,_E=/#/g;function Di(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Mr(l){l.g||(l.g=new Map,l.h=0,l.i&&pE(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Di.prototype,t.add=function(l,h){Mr(this),this.i=null,l=ys(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Fm(l,h){Mr(l),h=ys(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function zm(l,h){return Mr(l),h=ys(l,h),l.g.has(h)}t.forEach=function(l,h){Mr(this),this.g.forEach(function(m,v){m.forEach(function(R){l.call(h,R,v,this)},this)},this)};function Bm(l,h){Mr(l);let m=[];if(typeof h=="string")zm(l,h)&&(m=m.concat(l.g.get(ys(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)m=m.concat(l[h]);return m}t.set=function(l,h){return Mr(this),this.i=null,l=ys(this,l),zm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Bm(this,l),l.length>0?String(l[0]):h):h};function $m(l,h,m){Fm(l,h),m.length>0&&(l.i=null,l.g.set(ys(l,h),_(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let v=0;v<h.length;v++){var m=h[v];const R=Si(m);m=Bm(this,m);for(let D=0;D<m.length;D++){let z=R;m[D]!==""&&(z+="="+Si(m[D])),l.push(z)}}return this.i=l.join("&")};function Wm(l){const h=new Di;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function ys(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function wE(l,h){h&&!l.j&&(Mr(l),l.i=null,l.g.forEach(function(m,v){const R=v.toLowerCase();v!=R&&(Fm(this,v),$m(this,R,m))},l)),l.j=h}function EE(l,h){const m=new ji;if(a.Image){const v=new Image;v.onload=f(Ln,m,"TestLoadImage: loaded",!0,h,v),v.onerror=f(Ln,m,"TestLoadImage: error",!1,h,v),v.onabort=f(Ln,m,"TestLoadImage: abort",!1,h,v),v.ontimeout=f(Ln,m,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function bE(l,h){const m=new ji,v=new AbortController,R=setTimeout(()=>{v.abort(),Ln(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(D=>{clearTimeout(R),D.ok?Ln(m,"TestPingServer: ok",!0,h):Ln(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(R),Ln(m,"TestPingServer: error",!1,h)})}function Ln(l,h,m,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(m)}catch{}}function TE(){this.g=new oE}function uu(l){this.i=l.Sb||null,this.h=l.ab||!1}p(uu,_m),uu.prototype.g=function(){return new Ea(this.i,this.h)};function Ea(l,h){Ze.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Ea,Ze),t=Ea.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Mi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hm(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hm(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Vi(this):Mi(this),this.readyState==3&&Hm(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Vi(this))},t.Na=function(l){this.g&&(this.response=l,Vi(this))},t.ga=function(){this.g&&Vi(this)};function Vi(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Mi(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Mi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function qm(l){let h="";return Y(l,function(m,v){h+=v,h+=":",h+=m,h+=`\r
`}),h}function du(l,h,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=qm(m),typeof l=="string"?m!=null&&Si(m):de(l,h,m))}function Ee(l){Ze.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ee,Ze);var NE=/^https?$/i,IE=["POST","PUT"];t=Ee.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jm.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(D){Gm(this,D);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)m.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const D of v.keys())m.set(D,v.get(D));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),R=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(IE,h,void 0)>=0)||v||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,z]of m)this.g.setRequestHeader(D,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(D){Gm(this,D)}};function Gm(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,Km(l),ba(l)}function Km(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ct(this,"complete"),ct(this,"abort"),ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),Ee.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qm(this):this.Xa())},t.Xa=function(){Qm(this)};function Qm(l){if(l.h&&typeof i<"u"){if(l.v&&Un(l)==4)setTimeout(l.Ca.bind(l),0);else if(ct(l,"readystatechange"),Un(l)==4){l.h=!1;try{const D=l.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var v;if(v=D===0){let z=String(l.D).match(Lm)[1]||null;!z&&a.self&&a.self.location&&(z=a.self.location.protocol.slice(0,-1)),v=!NE.test(z?z.toLowerCase():"")}m=v}if(m)ct(l,"complete"),ct(l,"success");else{l.o=6;try{var R=Un(l)>2?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.ca()+"]",Km(l)}}finally{ba(l)}}}}function ba(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,h||ct(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Un(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Un(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),iE(h)}};function Ym(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jE(l){const h={};l=(l.g&&Un(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(N(l[v]))continue;var m=dE(l[v]);const R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=h[R]||[];h[R]=D,D.push(m)}Z(h,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Xm(l){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,l),this.Za=Oi("retryDelaySeedMs",1e4,l),this.Ta=Oi("forwardChannelMaxRetries",2,l),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Rm(l&&l.concurrentRequestLimit),this.Ba=new TE,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xm.prototype,t.ka=8,t.I=1,t.connect=function(l,h,m,v){ut(0),this.W=l,this.H=h||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.J=op(this,null,this.W),Na(this)};function hu(l){if(Jm(l),l.I==3){var h=l.V++,m=Jt(l.J);if(de(m,"SID",l.M),de(m,"RID",h),de(m,"TYPE","terminate"),Li(l,m),h=new Mn(l,l.j,h),h.M=2,h.A=wa(Jt(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.A,m=!0),m||(h.g=ap(h.j,null),h.g.ea(h.A)),h.F=Date.now(),_a(h)}ip(l)}function Ta(l){l.g&&(mu(l),l.g.cancel(),l.g=null)}function Jm(l){Ta(l),l.v&&(a.clearTimeout(l.v),l.v=null),Ia(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Na(l){if(!Dm(l.h)&&!l.m){l.m=!0;var h=l.Ea;L||x(),F||(L(),F=!0),E.add(h,l),l.D=0}}function SE(l,h){return Vm(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ii(d(l.Ea,l,h),sp(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const R=new Mn(this,this.j,l);let D=this.o;if(this.U&&(D?(D=pe(D),Pr(D,this.U)):D=this.U),this.u!==null||this.R||(R.J=D,D=null),this.S)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,h>4096){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=ep(this,R,h),m=Jt(this.J),de(m,"RID",l),de(m,"CVER",22),this.G&&de(m,"X-HTTP-Session-Id",this.G),Li(this,m),D&&(this.R?h="headers="+Si(qm(D))+"&"+h:this.u&&du(m,this.u,D)),lu(this.h,R),this.Ra&&de(m,"TYPE","init"),this.S?(de(m,"$req",h),de(m,"SID","null"),R.U=!0,su(R,m,null)):su(R,m,h),this.I=2}}else this.I==3&&(l?Zm(this,l):this.i.length==0||Dm(this.h)||Zm(this))};function Zm(l,h){var m;h?m=h.l:m=l.V++;const v=Jt(l.J);de(v,"SID",l.M),de(v,"RID",m),de(v,"AID",l.K),Li(l,v),l.u&&l.o&&du(v,l.u,l.o),m=new Mn(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),h&&(l.i=h.G.concat(l.i)),h=ep(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),lu(l.h,m),su(m,v,h)}function Li(l,h){l.H&&Y(l.H,function(m,v){de(h,v,m)}),l.l&&Y({},function(m,v){de(h,v,m)})}function ep(l,h,m){m=Math.min(l.i.length,m);const v=l.l?d(l.l.Ka,l.l,l):null;e:{var R=l.i;let ee=-1;for(;;){const Pe=["count="+m];ee==-1?m>0?(ee=R[0].g,Pe.push("ofs="+ee)):ee=0:Pe.push("ofs="+ee);let ce=!0;for(let Ue=0;Ue<m;Ue++){var D=R[Ue].g;const Zt=R[Ue].map;if(D-=ee,D<0)ee=Math.max(0,R[Ue].g-100),ce=!1;else try{D="req"+D+"_"||"";try{var z=Zt instanceof Map?Zt:Object.entries(Zt);for(const[Lr,Fn]of z){let zn=Fn;c(Fn)&&(zn=Zc(Fn)),Pe.push(D+Lr+"="+encodeURIComponent(zn))}}catch(Lr){throw Pe.push(D+"type="+encodeURIComponent("_badmap")),Lr}}catch{v&&v(Zt)}}if(ce){z=Pe.join("&");break e}}z=void 0}return l=l.i.splice(0,m),h.G=l,z}function tp(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;L||x(),F||(L(),F=!0),E.add(h,l),l.A=0}}function fu(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ii(d(l.Da,l),sp(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,np(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ii(d(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),Ta(this),np(this))};function mu(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function np(l){l.g=new Mn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Jt(l.na);de(h,"RID","rpc"),de(h,"SID",l.M),de(h,"AID",l.K),de(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&de(h,"TO",l.ia),de(h,"TYPE","xmlhttp"),Li(l,h),l.u&&l.o&&du(h,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=wa(Jt(h)),m.u=null,m.R=!0,km(m,l)}t.Va=function(){this.C!=null&&(this.C=null,Ta(this),fu(this),ut(19))};function Ia(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function rp(l,h){var m=null;if(l.g==h){Ia(l),mu(l),l.g=null;var v=2}else if(au(l.h,h))m=h.G,Mm(l.h,h),v=1;else return;if(l.I!=0){if(h.o)if(v==1){m=h.u?h.u.length:0,h=Date.now()-h.F;var R=l.D;v=va(),ct(v,new Nm(v,m)),Na(l)}else tp(l);else if(R=h.m,R==3||R==0&&h.X>0||!(v==1&&SE(l,h)||v==2&&fu(l)))switch(m&&m.length>0&&(h=l.h,h.i=h.i.concat(m)),R){case 1:Or(l,5);break;case 4:Or(l,10);break;case 3:Or(l,6);break;default:Or(l,2)}}}function sp(l,h){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*h}function Or(l,h){if(l.j.info("Error code "+h),h==2){var m=d(l.bb,l),v=l.Ua;const R=!v;v=new On(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ki(v,"https"),wa(v),R?EE(v.toString(),m):bE(v.toString(),m)}else ut(2);l.I=0,l.l&&l.l.pa(h),ip(l),Jm(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function ip(l){if(l.I=0,l.ja=[],l.l){const h=Om(l.h);(h.length!=0||l.i.length!=0)&&(A(l.ja,h),A(l.ja,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.oa()}}function op(l,h,m){var v=m instanceof On?Jt(m):new On(m);if(v.g!="")h&&(v.g=h+"."+v.g),Ci(v,v.u);else{var R=a.location;v=R.protocol,h=h?h+"."+R.hostname:R.hostname,R=+R.port;const D=new On(null);v&&ki(D,v),h&&(D.g=h),R&&Ci(D,R),m&&(D.h=m),v=D}return m=l.G,h=l.wa,m&&h&&de(v,m,h),de(v,"VER",l.ka),Li(l,v),v}function ap(l,h,m){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ee(new uu({ab:m})):new Ee(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lp(){}t=lp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ja(){}ja.prototype.g=function(l,h){return new wt(l,h)};function wt(l,h){Ze.call(this),this.g=new Xm(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!N(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!N(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new vs(this)}p(wt,Ze),wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){hu(this.g)},wt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Zc(l),l=m);h.i.push(new mE(h.Ya++,l)),h.I==3&&Na(h)},wt.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,wt.Z.N.call(this)};function cp(l){eu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}p(cp,eu);function up(){tu.call(this),this.status=1}p(up,tu);function vs(l){this.g=l}p(vs,lp),vs.prototype.ra=function(){ct(this.g,"a")},vs.prototype.qa=function(l){ct(this.g,new cp(l))},vs.prototype.pa=function(l){ct(this.g,new up)},vs.prototype.oa=function(){ct(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,I0=function(){return new ja},N0=function(){return va()},T0=Dr,oh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xa.NO_ERROR=0,xa.TIMEOUT=8,xa.HTTP_ERROR=6,ml=xa,Im.COMPLETE="complete",b0=Im,wm.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,eo=wm,Ee.prototype.listenOnce=Ee.prototype.K,Ee.prototype.getLastError=Ee.prototype.Ha,Ee.prototype.getLastErrorCode=Ee.prototype.ya,Ee.prototype.getStatus=Ee.prototype.ca,Ee.prototype.getResponseJson=Ee.prototype.La,Ee.prototype.getResponseText=Ee.prototype.la,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Fa,E0=Ee}).apply(typeof Ga<"u"?Ga:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore",ly="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new bf("@firebase/firestore");function ws(){return ss.logLevel}function $(t,...e){if(ss.logLevel<=ne.DEBUG){const n=e.map(Df);ss.debug(`Firestore (${yi}): ${t}`,...n)}}function Cn(t,...e){if(ss.logLevel<=ne.ERROR){const n=e.map(Df);ss.error(`Firestore (${yi}): ${t}`,...n)}}function ni(t,...e){if(ss.logLevel<=ne.WARN){const n=e.map(Df);ss.warn(`Firestore (${yi}): ${t}`,...n)}}function Df(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,j0(t,r,n)}function j0(t,e,n){let r=`FIRESTORE (${yi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cn(r),new Error(r)}function ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||j0(e,s,r)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class gS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yS{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new S0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new rt(e)}}class vS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _S{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);const r=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,$("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=wS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function ah(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Yu(s)===Yu(i)?re(s,i):Yu(s)?1:-1}return re(t.length,e.length)}const ES=55296,bS=57343;function Yu(t){const e=t.charCodeAt(0);return e>=ES&&e<=bS}function ri(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="__name__";class nn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=nn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return re(e.length,n.length)}static compareSegments(e,n){const r=nn.isNumericId(e),s=nn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?nn.extractNumericId(e).compare(nn.extractNumericId(n)):ah(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class ve extends nn{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const TS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends nn{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return TS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uy}static keyField(){return new Ge([uy])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ve.fromString(e))}static fromName(e){return new G(ve.fromString(e).popFirst(5))}static empty(){return new G(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e,n){if(!n)throw new q(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IS(t,e,n,r){if(e===!0&&r===!0)throw new q(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dy(t){if(!G.isDocumentKey(t))throw new q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function A0(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Ho(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(t);throw new q(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e){const n={typeString:t};return e&&(n.value=e),n}function ha(t,e){if(!A0(t))throw new q(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new q(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,fy=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(e){return fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fy);return new fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hy)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fy}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ha(e,fe._jsonSchema))return new fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Ce("string",fe._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new fe(0,0))}static max(){return new X(new fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=-1;function jS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new fe(n+1,0):new fe(n,r));return new vr(s,G.empty(),e)}function SS(t){return new vr(t.readTime,t.key,qo)}class vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vr(X.min(),G.empty(),qo)}static max(){return new vr(X.max(),G.empty(),qo)}}function AS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==kS)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++i,a&&i===s&&n()},u=>r(u))}),a=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{a[d]=f,++c,c===i&&r(a)},f=>s(f))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=-1;function Oc(t){return t==null}function Zl(t){return t===0&&1/t==-1/0}function RS(t){return typeof t=="number"&&Number.isInteger(t)&&!Zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="";function DS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=my(e)),e=VS(t.get(n),e);return my(e)}function VS(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case k0:n+="";break;default:n+=i}}return n}function my(t){return t+k0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.comparator=e,this.root=n||qe.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}}class Ka{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??qe.RED,this.left=s??qe.EMPTY,this.right=i??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return qe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(e){return new gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new Me(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new P0("Invalid base64 string: "+i):i}}(e);return new Ye(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Ye(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const MS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(ae(!!t,39018),typeof t=="string"){let e=0;const n=MS.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _r(t){return typeof t=="string"?Ye.fromBase64String(t):Ye.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="server_timestamp",D0="__type__",V0="__previous_value__",M0="__local_write_time__";function Lf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[D0])==null?void 0:r.stringValue)===R0}function Lc(t){const e=t.mapValue.fields[V0];return Lf(e)?Lc(e):e}function Go(t){const e=xr(t.mapValue.fields[M0].timestampValue);return new fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,s,i,a,c,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const ec="(default)";class Ko{constructor(e,n){this.projectId=e,this.database=n||ec}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="__type__",LS="__max__",Qa={mapValue:{}},L0="__vector__",tc="value";function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lf(t)?4:FS(t)?9007199254740991:US(t)?10:11:Q(28295,{value:t})}function fn(t,e){if(t===e)return!0;const n=wr(t);if(n!==wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Go(t).isEqual(Go(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=xr(s.timestampValue),c=xr(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return _r(s.bytesValue).isEqual(_r(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ne(s.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(s.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ne(s.integerValue)===Ne(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ne(s.doubleValue),c=Ne(i.doubleValue);return a===c?Zl(a)===Zl(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(py(a)!==py(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!fn(a[u],c[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function Qo(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=wr(t),r=wr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ne(i.integerValue||i.doubleValue),u=Ne(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return yy(t.timestampValue,e.timestampValue);case 4:return yy(Go(t),Go(e));case 5:return ah(t.stringValue,e.stringValue);case 6:return function(i,a){const c=_r(i),u=_r(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=re(c[d],u[d]);if(f!==0)return f}return re(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const c=re(Ne(i.latitude),Ne(a.latitude));return c!==0?c:re(Ne(i.longitude),Ne(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vy(t.arrayValue,e.arrayValue);case 10:return function(i,a){var g,_,A,k;const c=i.fields||{},u=a.fields||{},d=(g=c[tc])==null?void 0:g.arrayValue,f=(_=u[tc])==null?void 0:_.arrayValue,p=re(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((k=f==null?void 0:f.values)==null?void 0:k.length)||0);return p!==0?p:vy(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Qa.mapValue&&a===Qa.mapValue)return 0;if(i===Qa.mapValue)return 1;if(a===Qa.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=ah(u[p],f[p]);if(g!==0)return g;const _=si(c[u[p]],d[f[p]]);if(_!==0)return _}return re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function yy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=xr(t),r=xr(e),s=re(n.seconds,r.seconds);return s!==0?s:re(n.nanos,r.nanos)}function vy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=si(n[s],r[s]);if(i)return i}return re(n.length,r.length)}function ii(t){return lh(t)}function lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=lh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${lh(n.fields[a])}`;return s+"}"}(t.mapValue):Q(61005,{value:t})}function pl(t){switch(wr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(t);return e?16+pl(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+pl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return hs(r.fields,(i,a)=>{s+=i.length+pl(a)}),s}(t.mapValue);default:throw Q(13486,{value:t})}}function ch(t){return!!t&&"integerValue"in t}function Uf(t){return!!t&&"arrayValue"in t}function xy(t){return!!t&&"nullValue"in t}function _y(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gl(t){return!!t&&"mapValue"in t}function US(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[O0])==null?void 0:r.stringValue)===L0}function yo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=yo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yo(t.arrayValue.values[n]);return e}return{...t}}function FS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yo(n)}setAll(e){let n=Ge.emptyPath(),r={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=yo(a):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Rt(yo(this.value))}}function U0(t){const e=[];return hs(t.fields,(n,r)=>{const s=new Ge([n]);if(gl(r)){const i=U0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new it(e,0,X.min(),X.min(),X.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,s){return new it(e,1,n,X.min(),r,s,0)}static newNoDocument(e,n){return new it(e,2,n,X.min(),X.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new it(e,3,n,X.min(),X.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.position=e,this.inclusive=n}}function wy(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(a.referenceValue),n.key):r=si(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ey(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function zS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{}class De extends F0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $S(e,n,r):n==="array-contains"?new qS(e,r):n==="in"?new GS(e,r):n==="not-in"?new KS(e,r):n==="array-contains-any"?new QS(e,r):new De(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WS(e,r):new HS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(si(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends F0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mn(e,n)}matches(e){return z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z0(t){return t.op==="and"}function B0(t){return BS(t)&&z0(t)}function BS(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function uh(t){if(t instanceof De)return t.field.canonicalString()+t.op.toString()+ii(t.value);if(B0(t))return t.filters.map(e=>uh(e)).join(",");{const e=t.filters.map(n=>uh(n)).join(",");return`${t.op}(${e})`}}function $0(t,e){return t instanceof De?function(r,s){return s instanceof De&&r.op===s.op&&r.field.isEqual(s.field)&&fn(r.value,s.value)}(t,e):t instanceof mn?function(r,s){return s instanceof mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,c)=>i&&$0(a,s.filters[c]),!0):!1}(t,e):void Q(19439)}function W0(t){return t instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${ii(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(W0).join(" ,")+"}"}(t):"Filter"}class $S extends De{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class WS extends De{constructor(e,n){super(e,"in",n),this.keys=H0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HS extends De{constructor(e,n){super(e,"not-in",n),this.keys=H0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H0(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class qS extends De{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uf(n)&&Qo(n.arrayValue,this.value)}}class GS extends De{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class KS extends De{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qo(this.value.arrayValue,n)}}class QS extends De{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function by(t,e=null,n=[],r=[],s=null,i=null,a=null){return new YS(t,e,n,r,s,i,a)}function Ff(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ii(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ii(r)).join(",")),e.Te=n}return e.Te}function zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ey(t.startAt,e.startAt)&&Ey(t.endAt,e.endAt)}function dh(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XS(t,e,n,r,s,i,a,c){return new Uc(t,e,n,r,s,i,a,c)}function Bf(t){return new Uc(t)}function Ty(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JS(t){return t.collectionGroup!==null}function vo(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Me(Ge.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new rc(i,r))}),n.has(Ge.keyField().canonicalString())||e.Ie.push(new rc(Ge.keyField(),r))}return e.Ie}function cn(t){const e=J(t);return e.Ee||(e.Ee=ZS(e,vo(t))),e.Ee}function ZS(t,e){if(t.limitType==="F")return by(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new rc(s.field,i)});const n=t.endAt?new nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nc(t.startAt.position,t.startAt.inclusive):null;return by(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hh(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fc(t,e){return zf(cn(t),cn(e))&&t.limitType===e.limitType}function q0(t){return`${Ff(cn(t))}|lt:${t.limitType}`}function Es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>W0(s)).join(", ")}]`),Oc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ii(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ii(s)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function zc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of vo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,c,u){const d=wy(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,vo(r),s)||r.endAt&&!function(a,c,u){const d=wy(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,vo(r),s))}(t,e)}function eA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G0(t){return(e,n)=>{let r=!1;for(const s of vo(t)){const i=tA(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function tA(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,a,c){const u=a.data.field(i),d=c.data.field(i);return u!==null&&d!==null?si(u,d):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new we(G.comparator);function Pn(){return nA}const K0=new we(G.comparator);function to(...t){let e=K0;for(const n of t)e=e.insert(n.key,n);return e}function Q0(t){let e=K0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return xo()}function Y0(){return xo()}function xo(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const rA=new we(G.comparator),sA=new Me(G.comparator);function se(...t){let e=sA;for(const n of t)e=e.add(n);return e}const iA=new Me(re);function oA(){return iA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}function X0(t){return{integerValue:""+t}}function aA(t,e){return RS(e)?X0(e):$f(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(){this._=void 0}}function lA(t,e,n){return t instanceof Yo?function(s,i){const a={fields:{[D0]:{stringValue:R0},[M0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Lf(i)&&(i=Lc(i)),i&&(a.fields[V0]=i),{mapValue:a}}(n,e):t instanceof Xo?Z0(t,e):t instanceof Jo?ew(t,e):function(s,i){const a=J0(s,i),c=Ny(a)+Ny(s.Ae);return ch(a)&&ch(s.Ae)?X0(c):$f(s.serializer,c)}(t,e)}function cA(t,e,n){return t instanceof Xo?Z0(t,e):t instanceof Jo?ew(t,e):n}function J0(t,e){return t instanceof sc?function(r){return ch(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yo extends Bc{}class Xo extends Bc{constructor(e){super(),this.elements=e}}function Z0(t,e){const n=tw(e);for(const r of t.elements)n.some(s=>fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jo extends Bc{constructor(e){super(),this.elements=e}}function ew(t,e){let n=tw(e);for(const r of t.elements)n=n.filter(s=>!fn(s,r));return{arrayValue:{values:n}}}class sc extends Bc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ny(t){return Ne(t.integerValue||t.doubleValue)}function tw(t){return Uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.field=e,this.transform=n}}function dA(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xo&&s instanceof Xo||r instanceof Jo&&s instanceof Jo?ri(r.elements,s.elements,fn):r instanceof sc&&s instanceof sc?fn(r.Ae,s.Ae):r instanceof Yo&&s instanceof Yo}(t.transform,e.transform)}class hA{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $c{}function nw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sw(t.key,Tn.none()):new fa(t.key,t.data,Tn.none());{const n=t.data,r=Rt.empty();let s=new Me(Ge.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ms(t.key,r,new Ht(s.toArray()),Tn.none())}}function fA(t,e,n){t instanceof fa?function(s,i,a){const c=s.value.clone(),u=jy(s.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(s,i,a){if(!yl(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=jy(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(rw(s)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _o(t,e,n,r){return t instanceof fa?function(i,a,c,u){if(!yl(i.precondition,a))return c;const d=i.value.clone(),f=Sy(i.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(i,a,c,u){if(!yl(i.precondition,a))return c;const d=Sy(i.fieldTransforms,u,a),f=a.data;return f.setAll(rw(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,c){return yl(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function mA(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=J0(r.transform,s||null);i!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,i))}return n||null}function Iy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ri(r,s,(i,a)=>dA(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fa extends $c{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ms extends $c{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jy(t,e,n){const r=new Map;ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,cA(a,c,n[s]))}return r}function Sy(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,lA(i,a,e))}return r}class sw extends $c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pA extends $c{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fA(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Y0();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const u=nw(a,c);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(n,r)=>Iy(n,r))&&ri(this.baseMutations,e.baseMutations,(n,r)=>Iy(n,r))}}class Wf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return rA}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Wf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,ie;function xA(t){switch(t){case O.OK:return Q(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function iw(t){if(t===void 0)return Cn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ae.OK:return O.OK;case Ae.CANCELLED:return O.CANCELLED;case Ae.UNKNOWN:return O.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return O.INTERNAL;case Ae.UNAVAILABLE:return O.UNAVAILABLE;case Ae.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ae.NOT_FOUND:return O.NOT_FOUND;case Ae.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ae.ABORTED:return O.ABORTED;case Ae.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ae.DATA_LOSS:return O.DATA_LOSS;default:return Q(39323,{code:t})}}(ie=Ae||(Ae={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new mr([4294967295,4294967295],0);function Ay(t){const e=_A().encode(t),n=new w0;return n.update(e),new Uint8Array(n.digest())}function ky(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new mr([n,r],0),new mr([s,i],0)]}class Hf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(mr.fromNumber(r)));return s.compare(wA)===1&&(s=new mr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ay(e),[r,s]=ky(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Hf(i,s,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.ge===0)return;const n=Ay(e),[r,s]=ky(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wc(X.min(),s,new we(re),Pn(),se())}}class ma{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ma(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class ow{constructor(e,n){this.targetId=e,this.Ce=n}}class aw{constructor(e,n,r=Ye.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Cy{constructor(){this.ve=0,this.Fe=Py(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),n=se(),r=se();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q(38017,{changeType:i})}}),new ma(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Py()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class EA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pn(),this.Je=Ya(),this.He=Ya(),this.Ye=new we(re)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(dh(i))if(r===0){const a=new G(i.path);this.et(n,a,it.newNoDocument(a,X.min()))}else ae(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),u=c?this.ct(c,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=_r(r).toUint8Array()}catch(u){if(u instanceof P0)return ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Hf(a,s,i)}catch(u){return ni(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const c=this.ot(a);if(c){if(i.current&&dh(c.target)){const u=new G(c.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,it.newNoDocument(u,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let r=se();this.He.forEach((i,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Wc(e,n,this.Ye,this.je,r);return this.je=Pn(),this.Je=Ya(),this.He=Ya(),this.Ye=new we(re),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Cy,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Me(re),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Me(re),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Cy),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ya(){return new we(G.comparator)}function Py(){return new we(G.comparator)}const bA={asc:"ASCENDING",desc:"DESCENDING"},TA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NA={and:"AND",or:"OR"};class IA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fh(t,e){return t.useProto3Json||Oc(e)?e:{value:e}}function ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jA(t,e){return ic(t,e.toTimestamp())}function un(t){return ae(!!t,49232),X.fromTimestamp(function(n){const r=xr(n);return new fe(r.seconds,r.nanos)}(t))}function qf(t,e){return mh(t,e).canonicalString()}function mh(t,e){const n=function(s){return new ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cw(t){const e=ve.fromString(t);return ae(mw(e),10190,{key:e.toString()}),e}function ph(t,e){return qf(t.databaseId,e.path)}function Xu(t,e){const n=cw(e);if(n.get(1)!==t.databaseId.projectId)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(dw(n))}function uw(t,e){return qf(t.databaseId,e)}function SA(t){const e=cw(t);return e.length===4?ve.emptyPath():dw(e)}function gh(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dw(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ry(t,e,n){return{name:ph(t,e),fields:n.value.mapValue.fields}}function AA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Q(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(ae(f===void 0||typeof f=="string",58123),Ye.fromBase64String(f||"")):(ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ye.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const f=d.code===void 0?O.UNKNOWN:iw(d.code);return new q(f,d.message||"")}(a);n=new aw(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xu(t,r.document.name),i=un(r.document.updateTime),a=r.document.createTime?un(r.document.createTime):X.min(),c=new Rt({mapValue:{fields:r.document.fields}}),u=it.newFoundDocument(s,i,a,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new vl(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xu(t,r.document),i=r.readTime?un(r.readTime):X.min(),a=it.newNoDocument(s,i),c=r.removedTargetIds||[];n=new vl([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xu(t,r.document),i=r.removedTargetIds||[];n=new vl([],i,s,null)}else{if(!("filter"in e))return Q(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new vA(s,i),c=r.targetId;n=new ow(c,a)}}return n}function kA(t,e){let n;if(e instanceof fa)n={update:Ry(t,e.key,e.value)};else if(e instanceof sw)n={delete:ph(t,e.key)};else if(e instanceof ms)n={update:Ry(t,e.key,e.data),updateMask:UA(e.fieldMask)};else{if(!(e instanceof pA))return Q(16599,{Vt:e.type});n={verify:ph(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Yo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sc)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Q(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:jA(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q(27497)}(t,e.precondition)),n}function CA(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?un(s.updateTime):un(i);return a.isEqual(X.min())&&(a=un(i)),new hA(a,s.transformResults||[])}(n,e))):[]}function PA(t,e){return{documents:[uw(t,e.path)]}}function RA(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uw(t,s);const i=function(d){if(d.length!==0)return fw(mn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:bs(g.field),direction:MA(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=fh(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function DA(t){let e=SA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ae(r===1,65062);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=hw(p);return g instanceof mn&&B0(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(A){return new rc(Ts(A.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Oc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,_=p.values||[];return new nc(_,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,_=p.values||[];return new nc(_,g)}(n.endAt)),XS(e,s,a,i,c,"F",u,d)}function VA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ts(n.unaryFilter.field);return De.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ts(n.unaryFilter.field);return De.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ts(n.unaryFilter.field);return De.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ts(n.unaryFilter.field);return De.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return De.create(Ts(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>hw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function MA(t){return bA[t]}function OA(t){return TA[t]}function LA(t){return NA[t]}function bs(t){return{fieldPath:t.canonicalString()}}function Ts(t){return Ge.fromServerFormat(t.fieldPath)}function fw(t){return t instanceof De?function(n){if(n.op==="=="){if(_y(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NAN"}};if(xy(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_y(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NAN"}};if(xy(n.value))return{unaryFilter:{field:bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bs(n.field),op:OA(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(s=>fw(s));return r.length===1?r[0]:{compositeFilter:{op:LA(n.op),filters:r}}}(t):Q(54877,{filter:t})}function UA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,s,i=X.min(),a=X.min(),c=Ye.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.yt=e}}function zA(t){const e=DA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.Cn=new $A}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(vr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class $A{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Me(ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Me(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pw=41943040;class pt{static withCacheSize(e){return new pt(e,pt.DEFAULT_COLLECTION_PERCENTILE,pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pt.DEFAULT_COLLECTION_PERCENTILE=10,pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pt.DEFAULT=new pt(pw,pt.DEFAULT_COLLECTION_PERCENTILE,pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pt.DISABLED=new pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oi(0)}static cr(){return new oi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",WA=1048576;function My([t,e],[n,r]){const s=re(t,n);return s===0?re(e,r):s}class HA{constructor(e){this.Ir=e,this.buffer=new Me(My),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();My(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$(Vy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xi(n)?$(Vy,"Ignoring IndexedDB error during garbage collection: ",n):await vi(n)}await this.Vr(3e5)})}}class GA{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Mc.ce);const r=new HA(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(Dy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),ws()<=ne.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function KA(t,e){return new GA(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&_o(r.mutation,s,Ht.empty(),fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=Hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=to();return i.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,s){let i=Pn();const a=xo(),c=function(){return xo()}();return n.forEach((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof ms)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),_o(f.mutation,d,f.mutation.getFieldMask(),fe.now())):a.set(d.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>c.set(d,new YA(f,a.get(d)??null))),c))}recalculateAndSaveOverlays(e,n){const r=xo();let s=new we((a,c)=>a-c),i=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Ht.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(s.get(c.batchId)||se()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=Y0();f.forEach(g=>{if(!i.has(g)){const _=nw(n.get(g),r.get(g));_!==null&&p.set(g,_),i=i.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Hr());let c=qo,u=i;return a.next(d=>M.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,se())).next(f=>({batchId:c,changes:Q0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=to();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=to();return this.indexManager.getCollectionParents(e,i).next(c=>M.forEach(c,u=>{const d=function(p,g){return new Uc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,it.newInvalidDocument(f)))});let c=to();return a.forEach((u,d)=>{const f=i.get(u);f!==void 0&&_o(f.mutation,d,Ht.empty(),fe.now()),zc(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return M.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:zA(s.bundledQuery),readTime:un(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new we(G.comparator),this.qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Hr(),i=n.length+1,a=new G(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new we((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=Hr(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=Hr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return M.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new yA(n,r));let i=this.qr.get(n);i===void 0&&(i=se(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.Qr=new Me(Fe.$r),this.Ur=new Me(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Fe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Fe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new G(new ve([])),r=new Fe(n,e),s=new Fe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new G(new ve([])),r=new Fe(n,e),s=new Fe(n,e+1);let i=se();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new Fe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return G.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Fe.$r)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new gA(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new Fe(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,n){return M.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Of:this.tr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fe(n,0),s=new Fe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const c=this.Xr(a.Yr);i.push(c)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(re);return n.forEach(s=>{const i=new Fe(s,0),a=new Fe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],c=>{r=r.add(c.Yr)})}),M.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const a=new Fe(new G(i),0);let c=new Me(re);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.Yr)),!0)},a),M.resolve(this.ti(c))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return M.forEach(n.mutations,s=>{const i=new Fe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Fe(n,0),s=this.Zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.ri=e,this.docs=function(){return new we(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():it.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():it.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Pn();const a=n.path,c=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||AS(SS(f),r)<=0||(s.has(f.key)||zc(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q(9500)}ii(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rk(this)}getSize(e){return M.resolve(this.size)}}class rk extends QA{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.persistence=e,this.si=new fs(n=>Ff(n),zf),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.oi=0,this._i=new Gf,this.targetCount=0,this.ai=oi.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),M.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new oi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Pr(n),M.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mc(0),this.li=!1,this.li=!0,this.hi=new ek,this.referenceDelegate=e(this),this.Pi=new sk(this),this.indexManager=new BA,this.remoteDocumentCache=function(s){return new nk(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new FA(n),this.Ii=new JA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new tk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const s=new ik(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return M.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ik extends CS{constructor(e){super(),this.currentSequenceNumber=e}}class Kf{constructor(e){this.persistence=e,this.Ri=new Gf,this.Vi=null}static mi(e){return new Kf(e)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.fi,r=>{const s=G.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return M.or([()=>M.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class oc{constructor(e,n){this.persistence=e,this.pi=new fs(r=>DS(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=KA(this,n)}static mi(e,n){return new oc(e,n)}Ei(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return M.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?M.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,n).next(c=>{c||(r++,i.removeEntry(a,X.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),M.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pl(e.data.value)),n}br(e,n,r){return M.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return M.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=se(),s=se();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return DT()?8:PS(lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new ok;return this.Ss(e,n,a).next(c=>{if(i.result=c,this.Vs)return this.bs(e,n,a,c.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ws()<=ne.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),M.resolve()):(ws()<=ne.DEBUG&&$("QueryEngine","Query:",Es(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ws()<=ne.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):M.resolve())}ys(e,n){if(Ty(n))return M.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hh(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=se(...i);return this.ps.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,c);return this.Cs(n,d,a,u.readTime)?this.ys(e,hh(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return Ty(n)||s.isEqual(X.min())?M.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?M.resolve(null):(ws()<=ne.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Es(n)),this.vs(e,a,n,jS(s,qo)).next(c=>c))})}Ds(e,n){let r=new Me(G0(e));return n.forEach((s,i)=>{zc(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ws()<=ne.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Es(n)),this.ps.getDocumentsMatchingQuery(e,n,vr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="LocalStore",lk=3e8;class ck{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new we(re),this.xs=new fs(i=>Ff(i),zf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function uk(t,e,n,r){return new ck(t,e,n,r)}async function yw(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],c=[];let u=se();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:c}))})})}function dk(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let _=M.resolve();return g.forEach(A=>{_=_.next(()=>f.getEntry(u,A)).next(k=>{const S=d.docVersions.get(A);ae(S!==null,48541),k.version.compareTo(S)<0&&(p.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=se();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vw(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function hk(t,e){const n=J(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;c.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,p)));let _=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Ye.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),s=s.insert(p,_),function(k,S,b){return k.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=lk?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,_,f)&&c.push(n.Pi.updateTargetData(i,_))});let u=Pn(),d=se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push(fk(i,a,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!r.isEqual(X.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=s,i))}function fk(t,e,n){let r=se(),s=se();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Pn();return n.forEach((c,u)=>{const d=i.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):$(Yf,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{ks:a,qs:s}})}function mk(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Of),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pk(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Pi.allocateTargetId(r).next(a=>(s=new tr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function yh(t,e,n){const r=J(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!xi(a))throw a;$(Yf,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Oy(t,e,n){const r=J(t);let s=X.min(),i=se();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const p=J(u),g=p.xs.get(f);return g!==void 0?M.resolve(p.Ms.get(g)):p.Pi.getTargetData(d,f)}(r,a,cn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:X.min(),n?i:se())).next(c=>(gk(r,eA(e),c),{documents:c,Qs:i})))}function gk(t,e,n){let r=t.Os.get(e)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ly{constructor(){this.activeTargetIds=oA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yk{constructor(){this.Mo=new Ly,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ly,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class Fy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$(Uy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$(Uy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa=null;function vh(){return Xa===null?Xa=function(){return 268435456+Math.round(2147483648*Math.random())}():Xa++,"0x"+Xa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="RestConnection",xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _k{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=vh(),c=this.zo(e,n.toUriEncodedString());$(Ju,`Sending RPC '${e}' ${a}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(c),f=mi(d);return this.Jo(e,c,u,r,f).then(p=>($(Ju,`Received RPC '${e}' ${a}: `,p),p),p=>{throw ni(Ju,`RPC '${e}' ${a} failed with error: `,p,"url: ",c,"request:",r),p})}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=xk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class Ek extends _k{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=vh();return new Promise((c,u)=>{const d=new E0;d.setWithCredentials(!0),d.listenOnce(b0.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ml.NO_ERROR:const p=d.getResponseJson();$(nt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),c(p);break;case ml.TIMEOUT:$(nt,`RPC '${e}' ${a} timed out`),u(new q(O.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:const g=d.getStatus();if($(nt,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const A=_==null?void 0:_.error;if(A&&A.status&&A.message){const k=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(y)>=0?y:O.UNKNOWN}(A.status);u(new q(k,A.message))}else u(new q(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new q(O.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{$(nt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);$(nt,`RPC '${e}' ${a} sending request:`,s),d.send(n,"POST",f,r,15)})}T_(e,n,r){const s=vh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=I0(),c=N0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");$(nt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=a.createWebChannel(f,u);this.I_(p);let g=!1,_=!1;const A=new wk({Yo:S=>{_?$(nt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(g||($(nt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),$(nt,`RPC '${e}' stream ${s} sending:`,S),p.send(S))},Zo:()=>p.close()}),k=(S,b,y)=>{S.listen(b,w=>{try{y(w)}catch(C){setTimeout(()=>{throw C},0)}})};return k(p,eo.EventType.OPEN,()=>{_||($(nt,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),k(p,eo.EventType.CLOSE,()=>{_||(_=!0,$(nt,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(p))}),k(p,eo.EventType.ERROR,S=>{_||(_=!0,ni(nt,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),A.a_(new q(O.UNAVAILABLE,"The operation could not be completed")))}),k(p,eo.EventType.MESSAGE,S=>{var b;if(!_){const y=S.data[0];ae(!!y,16349);const w=y,C=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(C){$(nt,`RPC '${e}' stream ${s} received error:`,C);const L=C.status;let F=function(T){const I=Ae[T];if(I!==void 0)return iw(I)}(L),E=C.message;F===void 0&&(F=O.INTERNAL,E="Unknown error status: "+L+" with message "+C.message),_=!0,A.a_(new q(F,E)),p.close()}else $(nt,`RPC '${e}' stream ${s} received:`,y),A.u_(y)}}),k(c,T0.STAT_EVENT,S=>{S.stat===oh.PROXY?$(nt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===oh.NOPROXY&&$(nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Zu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return new IA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="PersistentStream";class _w{constructor(e,n,r,s,i,a,c,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new q(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $(zy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():($(zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bk extends _w{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AA(this.serializer,e),r=function(i){if(!("targetChange"in i))return X.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?X.min():a.readTime?un(a.readTime):X.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gh(this.serializer),n.addTarget=function(i,a){let c;const u=a.target;if(c=dh(u)?{documents:PA(i,u)}:{query:RA(i,u).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=lw(i,a.resumeToken);const d=fh(i,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(X.min())>0){c.readTime=ic(i,a.snapshotVersion.toTimestamp());const d=fh(i,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=VA(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gh(this.serializer),n.removeTarget=e,this.q_(n)}}class Tk extends _w{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CA(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kA(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{}class Ik extends Nk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,mh(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Ho(e,mh(n,r),s,a,c,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(O.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cn(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="RemoteStore";class Sk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{ps(this)&&($(is,"Restarting streams for network reachability change."),await async function(u){const d=J(u);d.Ea.add(4),await pa(d),d.Ra.set("Unknown"),d.Ea.delete(4),await qc(d)}(this))})}),this.Ra=new jk(r,s)}}async function qc(t){if(ps(t))for(const e of t.da)await e(!0)}async function pa(t){for(const e of t.da)await e(!1)}function ww(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),em(n)?Zf(n):_i(n).O_()&&Jf(n,e))}function Xf(t,e){const n=J(t),r=_i(n);n.Ia.delete(e),r.O_()&&Ew(n,e),n.Ia.size===0&&(r.O_()?r.L_():ps(n)&&n.Ra.set("Unknown"))}function Jf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_i(t).Y_(e)}function Ew(t,e){t.Va.Ue(e),_i(t).Z_(e)}function Zf(t){t.Va=new EA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_i(t).start(),t.Ra.ua()}function em(t){return ps(t)&&!_i(t).x_()&&t.Ia.size>0}function ps(t){return J(t).Ea.size===0}function bw(t){t.Va=void 0}async function Ak(t){t.Ra.set("Online")}async function kk(t){t.Ia.forEach((e,n)=>{Jf(t,e)})}async function Ck(t,e){bw(t),em(t)?(t.Ra.ha(e),Zf(t)):t.Ra.set("Unknown")}async function Pk(t,e,n){if(t.Ra.set("Online"),e instanceof aw&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))}(t,e)}catch(r){$(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ac(t,r)}else if(e instanceof vl?t.Va.Ze(e):e instanceof ow?t.Va.st(e):t.Va.tt(e),!n.isEqual(X.min()))try{const r=await vw(t.localStore);n.compareTo(r)>=0&&await function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(Ye.EMPTY_BYTE_STRING,f.snapshotVersion)),Ew(i,u);const p=new tr(f.target,u,d,f.sequenceNumber);Jf(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){$(is,"Failed to raise snapshot:",r),await ac(t,r)}}async function ac(t,e,n){if(!xi(e))throw e;t.Ea.add(1),await pa(t),t.Ra.set("Offline"),n||(n=()=>vw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(is,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qc(t)})}function Tw(t,e){return e().catch(n=>ac(t,n,e))}async function Gc(t){const e=J(t),n=Er(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Of;for(;Rk(e);)try{const s=await mk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Dk(e,s)}catch(s){await ac(e,s)}Nw(e)&&Iw(e)}function Rk(t){return ps(t)&&t.Ta.length<10}function Dk(t,e){t.Ta.push(e);const n=Er(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Nw(t){return ps(t)&&!Er(t).x_()&&t.Ta.length>0}function Iw(t){Er(t).start()}async function Vk(t){Er(t).ra()}async function Mk(t){const e=Er(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ok(t,e,n){const r=t.Ta.shift(),s=Wf.from(r,e,n);await Tw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gc(t)}async function Lk(t,e){e&&Er(t).X_&&await async function(r,s){if(function(a){return xA(a)&&a!==O.ABORTED}(s.code)){const i=r.Ta.shift();Er(r).B_(),await Tw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gc(r)}}(t,e),Nw(t)&&Iw(t)}async function By(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$(is,"RemoteStore received new credentials");const r=ps(n);n.Ea.add(3),await pa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qc(n)}async function Uk(t,e){const n=J(t);e?(n.Ea.delete(2),await qc(n)):e||(n.Ea.add(2),await pa(n),n.Ra.set("Unknown"))}function _i(t){return t.ma||(t.ma=function(n,r,s){const i=J(n);return i.sa(),new bk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Ak.bind(null,t),t_:kk.bind(null,t),r_:Ck.bind(null,t),H_:Pk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),em(t)?Zf(t):t.Ra.set("Unknown")):(await t.ma.stop(),bw(t))})),t.ma}function Er(t){return t.fa||(t.fa=function(n,r,s){const i=J(n);return i.sa(),new Tk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vk.bind(null,t),r_:Lk.bind(null,t),ta:Mk.bind(null,t),na:Ok.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gc(t)):(await t.fa.stop(),t.Ta.length>0&&($(is,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new tm(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),xi(t))return new q(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{static emptySet(e){return new Gs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=to(),this.sortedSet=new we(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.ga=new we(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ai{constructor(e,n,r,s,i,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ai(e,n,Gs.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class zk{constructor(){this.queries=Wy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=J(n),i=s.queries;s.queries=Wy(),i.forEach((a,c)=>{for(const u of c.Sa)u.onError(r)})})(this,new q(O.ABORTED,"Firestore shutting down"))}}function Wy(){return new fs(t=>q0(t),Fc)}async function Bk(t,e){const n=J(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Fk,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=nm(a,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&rm(n)}async function $k(t,e){const n=J(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Wk(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&rm(n)}function Hk(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function rm(t){t.Ca.forEach(e=>{e.next()})}var xh,Hy;(Hy=xh||(xh={})).Ma="default",Hy.Cache="cache";class qk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ai(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ai.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class Sw{constructor(e){this.key=e}}class Gk{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=G0(e),this.tu=new Gs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $y,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),_=zc(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;g&&_?g.data.isEqual(_.data)?A!==k&&(r.track({type:3,doc:_}),S=!0):this.su(g,_)||(r.track({type:2,doc:_}),S=!0,(u&&this.eu(_,u)>0||d&&this.eu(_,d)<0)&&(c=!0)):!g&&_?(r.track({type:0,doc:_}),S=!0):g&&!_&&(r.track({type:1,doc:g}),S=!0,(u||d)&&(c=!0)),S&&(_?(a=a.add(_),i=k?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,p)=>function(_,A){const k=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:S})}};return k(_)-k(A)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new ai(this.query,e.tu,i,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $y,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Sw(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new jw(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ai.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sm="SyncEngine";class Kk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qk{constructor(e){this.key=e,this.hu=!1}}class Yk{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new fs(c=>q0(c),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new we(G.comparator),this.Au=new Map,this.Ru=new Gf,this.Vu={},this.mu=new Map,this.fu=oi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xk(t,e,n=!0){const r=Dw(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Aw(r,e,n,!0),s}async function Jk(t,e){const n=Dw(t);await Aw(n,e,!0,!1)}async function Aw(t,e,n,r){const s=await pk(t.localStore,cn(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await Zk(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&ww(t.remoteStore,s),c}async function Zk(t,e,n,r,s){t.pu=(p,g,_)=>async function(k,S,b,y){let w=S.view.ru(b);w.Cs&&(w=await Oy(k.localStore,S.query,!1).then(({documents:E})=>S.view.ru(E,w)));const C=y&&y.targetChanges.get(S.targetId),L=y&&y.targetMismatches.get(S.targetId)!=null,F=S.view.applyChanges(w,k.isPrimaryClient,C,L);return Gy(k,S.targetId,F.au),F.snapshot}(t,p,g,_);const i=await Oy(t.localStore,e,!0),a=new Gk(e,i.Qs),c=a.ru(i.documents),u=ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(c,t.isPrimaryClient,u);Gy(t,n,d.au);const f=new Kk(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function eC(t,e,n){const r=J(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!Fc(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await yh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Xf(r.remoteStore,s.targetId),_h(r,s.targetId)}).catch(vi)):(_h(r,s.targetId),await yh(r.localStore,s.targetId,!0))}async function tC(t,e){const n=J(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xf(n.remoteStore,r.targetId))}async function nC(t,e,n){const r=cC(t);try{const s=await function(a,c){const u=J(a),d=fe.now(),f=c.reduce((_,A)=>_.add(A.key),se());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let A=Pn(),k=se();return u.Ns.getEntries(_,f).next(S=>{A=S,A.forEach((b,y)=>{y.isValidDocument()||(k=k.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,A)).next(S=>{p=S;const b=[];for(const y of c){const w=mA(y,p.get(y.key).overlayedDocument);w!=null&&b.push(new ms(y.key,w,U0(w.value.mapValue),Tn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,b,c)}).next(S=>{g=S;const b=S.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(_,S.batchId,b)})}).then(()=>({batchId:g.batchId,changes:Q0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new we(re)),d=d.insert(c,u),a.Vu[a.currentUser.toKey()]=d}(r,s.batchId,n),await ga(r,s.changes),await Gc(r.remoteStore)}catch(s){const i=nm(s,"Failed to persist write");n.reject(i)}}async function kw(t,e){const n=J(t);try{const r=await hk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Au.get(i);a&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?ae(a.hu,14607):s.removedDocuments.size>0&&(ae(a.hu,42227),a.hu=!1))}),await ga(n,r,e)}catch(r){await vi(r)}}function qy(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=J(a);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(c)&&(d=!0)}),d&&rm(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rC(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new we(G.comparator);a=a.insert(i,it.newNoDocument(i,X.min()));const c=se().add(i),u=new Wc(X.min(),new Map,new we(re),a,c);await kw(r,u),r.du=r.du.remove(i),r.Au.delete(e),im(r)}else await yh(r.localStore,e,!1).then(()=>_h(r,e,n)).catch(vi)}async function sC(t,e){const n=J(t),r=e.batch.batchId;try{const s=await dk(n.localStore,e);Pw(n,r,null),Cw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ga(n,s)}catch(s){await vi(s)}}async function iC(t,e,n){const r=J(t);try{const s=await function(a,c){const u=J(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(ae(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);Pw(r,e,n),Cw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ga(r,s)}catch(s){await vi(s)}}function Cw(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Pw(t,e,n){const r=J(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function _h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Rw(t,r)})}function Rw(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),im(t))}function Gy(t,e,n){for(const r of n)r instanceof jw?(t.Ru.addReference(r.key,e),oC(t,r)):r instanceof Sw?($(sm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Rw(t,r.key)):Q(19791,{wu:r})}function oC(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||($(sm,"New document in limbo: "+n),t.Eu.add(r),im(t))}function im(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(ve.fromString(e)),r=t.fu.next();t.Au.set(r,new Qk(n)),t.du=t.du.insert(n,r),ww(t.remoteStore,new tr(cn(Bf(n.path)),r,"TargetPurposeLimboResolution",Mc.ce))}}async function ga(t,e,n){const r=J(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((c,u)=>{a.push(r.pu(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Qf.As(u.targetId,d);i.push(p)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(u,d){const f=J(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(d,g=>M.forEach(g.Es,_=>f.persistence.referenceDelegate.addReference(p,g.targetId,_)).next(()=>M.forEach(g.ds,_=>f.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))}catch(p){if(!xi(p))throw p;$(Yf,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const _=f.Ms.get(g),A=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(A);f.Ms=f.Ms.insert(g,k)}}}(r.localStore,i))}async function aC(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$(sm,"User change. New user:",e.toKey());const r=await yw(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(c=>{c.forEach(u=>{u.reject(new q(O.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ga(n,r.Ls)}}function lC(t,e){const n=J(t),r=n.Au.get(e);if(r&&r.hu)return se().add(r.key);{let s=se();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function Dw(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rC.bind(null,e),e.Pu.H_=Wk.bind(null,e.eventManager),e.Pu.yu=Hk.bind(null,e.eventManager),e}function cC(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,e),e}class lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return uk(this.persistence,new ak,e.initialUser,this.serializer)}Cu(e){return new gw(Kf.mi,this.serializer)}Du(e){return new yk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lc.provider={build:()=>new lc};class uC extends lc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ae(this.persistence.referenceDelegate instanceof oc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new qA(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?pt.withCacheSize(this.cacheSizeBytes):pt.DEFAULT;return new gw(r=>oc.mi(r,n),this.serializer)}}class wh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),await Uk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zk}()}createDatastore(e){const n=Hc(e.databaseInfo.databaseId),r=function(i){return new Ek(i)}(e.databaseInfo);return function(i,a,c,u){return new Ik(i,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,c){return new Sk(r,s,i,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>qy(this.syncEngine,n,0),function(){return Fy.v()?new Fy:new vk}())}createSyncEngine(e,n){return function(s,i,a,c,u,d,f){const p=new Yk(s,i,a,c,u,d);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=J(s);$(is,"RemoteStore shutting down."),i.Ea.add(5),await pa(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}wh.provider={build:()=>new wh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class hC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=rt.UNAUTHENTICATED,this.clientId=Vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{$(br,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>($(br,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ed(t,e){t.asyncQueue.verifyOperationInProgress(),$(br,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ky(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fC(t);$(br,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>By(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>By(e.remoteStore,s)),t._onlineComponents=e}async function fC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(br,"Using user provided OfflineComponentProvider");try{await ed(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await ed(t,new lc)}}else $(br,"Using default OfflineComponentProvider"),await ed(t,new uC(void 0));return t._offlineComponents}async function Vw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(br,"Using user provided OnlineComponentProvider"),await Ky(t,t._uninitializedComponentsProvider._online)):($(br,"Using default OnlineComponentProvider"),await Ky(t,new wh))),t._onlineComponents}function mC(t){return Vw(t).then(e=>e.syncEngine)}async function pC(t){const e=await Vw(t),n=e.eventManager;return n.onListen=Xk.bind(null,e.syncEngine),n.onUnlisten=eC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tC.bind(null,e.syncEngine),n}function gC(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,c,u,d){const f=new dC({next:g=>{f.Nu(),a.enqueueAndForget(()=>$k(i,p));const _=g.docs.has(c);!_&&g.fromCache?d.reject(new q(O.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&u&&u.source==="server"?d.reject(new q(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new qk(Bf(c.path),f,{includeMetadataChanges:!0,qa:!0});return Bk(i,p)}(await pC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="firestore.googleapis.com",Yy=!0;class Xy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=Yy}else this.host=e.host,this.ssl=e.ssl??Yy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WA)throw new q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pS;switch(r.type){case"firstParty":return new xS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qy.get(n);r&&($("ComponentProvider","Removing Datastore"),Qy.delete(n),r.terminate())}(this),Promise.resolve()}}function yC(t,e,n,r={}){var d;t=Ho(t,om);const s=mi(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(R_(`https://${c}`),D_("Firestore",!0)),i.host!==Ow&&i.host!==c&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:s,emulatorOptions:r};if(!es(u,a)&&(t._setSettings(u),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=rt.MOCK_USER;else{f=NT(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new rt(g)}t._authCredentials=new gS(new S0(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new am(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ha(n,Be._jsonSchema))return new Be(e,r||null,new G(ve.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ce("string",Be._jsonSchemaVersion),referencePath:Ce("string")};class Zo extends am{constructor(e,n,r){super(e,n,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new G(e))}withConverter(e){return new Zo(this.firestore,e,this._path)}}function Jy(t,e,...n){if(t=It(t),arguments.length===1&&(e=Vf.newId()),NS("doc","path",e),t instanceof om){const r=ve.fromString(e,...n);return dy(r),new Be(t,null,new G(r))}{if(!(t instanceof Be||t instanceof Zo))throw new q(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return dy(r),new Be(t.firestore,t instanceof Zo?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="AsyncQueue";class ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xw(this,"async_queue_retry"),this._c=()=>{const r=Zu();r&&$(Zy,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Zu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xi(e))throw e;$(Zy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cn("INTERNAL UNHANDLED ERROR: ",tv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=tm.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:tv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lm extends om{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ev,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function vC(t,e){const n=typeof t=="object"?t:L_(),r=typeof t=="string"?t:ec,s=Nf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bT("firestore");i&&yC(s,...i)}return s}function Lw(t){if(t._terminated)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xC(t),t._firestoreClient}function xC(t){var r,s,i;const e=t._freezeSettings(),n=function(c,u,d,f){return new OS(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Mw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hC(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dt(Ye.fromBase64String(e))}catch(n){throw new q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dt(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ha(e,Dt._jsonSchema))return Dt.fromBase64String(e.bytes)}}Dt._jsonSchemaVersion="firestore/bytes/1.0",Dt._jsonSchema={type:Ce("string",Dt._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(e){if(ha(e,dn._jsonSchema))return new dn(e.latitude,e.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:Ce("string",dn._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ha(e,hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hn(e.vectorValues);throw new q(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:Ce("string",hn._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^__.*__$/;class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}function Uw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:t})}}class dm{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Uw(this.Ac)&&_C.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hc(e)}Cc(e,n,r,s=!1){return new dm({Ac:e,methodName:n,Dc:r,path:Ge.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bC(t){const e=t._freezeSettings(),n=Hc(t._databaseId);return new EC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TC(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);$w("Data must be an object, but it was:",a,r);const c=zw(r,a);let u,d;if(i.merge)u=new Ht(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=NC(e,p,n);if(!a.contains(g))throw new q(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jC(f,g)||f.push(g)}u=new Ht(f),d=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=a.fieldTransforms;return new wC(new Rt(c),u,d)}class hm extends um{_toFieldTransform(e){return new uA(e.path,new Yo)}isEqual(e){return e instanceof hm}}function Fw(t,e){if(Bw(t=It(t)))return $w("Unsupported field value:",e,t),zw(t,e);if(t instanceof um)return function(r,s){if(!Uw(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const c of r){let u=Fw(c,s.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aA(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=fe.fromDate(r);return{timestampValue:ic(s.serializer,i)}}if(r instanceof fe){const i=new fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ic(s.serializer,i)}}if(r instanceof dn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dt)return{bytesValue:lw(s.serializer,r._byteString)};if(r instanceof Be){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hn)return function(a,c){return{mapValue:{fields:{[O0]:{stringValue:L0},[tc]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return $f(c.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Mf(r)}`)}(t,e)}function zw(t,e){const n={};return C0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(t,(r,s)=>{const i=Fw(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Bw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fe||t instanceof dn||t instanceof Dt||t instanceof Be||t instanceof um||t instanceof hn)}function $w(t,e,n){if(!Bw(n)||!A0(n)){const r=Mf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function NC(t,e,n){if((e=It(e))instanceof cm)return e._internalPath;if(typeof e=="string")return Ww(t,e);throw cc("Field path arguments must be of type string or ",t,!1,void 0,n)}const IC=new RegExp("[~\\*/\\[\\]]");function Ww(t,e,n){if(e.search(IC)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cm(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cc(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new q(O.INVALID_ARGUMENT,c+t+u)}function jC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SC extends Hw{data(){return super.data()}}function qw(t,e){return typeof e=="string"?Ww(t,e):e instanceof cm?e._internalPath:e._delegate._internalPath}class AC{convertValue(e,n="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[tc].arrayValue)==null?void 0:s.values)==null?void 0:i.map(a=>Ne(a.doubleValue));return new hn(n)}convertGeoPoint(e){return new dn(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const n=xr(e);return new fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);ae(mw(r),9688,{name:e});const s=new Ko(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||Cn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kr extends Hw{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Ce("string",Kr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class xl extends Kr{data(e={}){return super.data(e)}}class wo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ro(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xl(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new xl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ro(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new xl(s._firestore,s._userDataWriter,c.doc.key,c.doc,new ro(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:CC(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){t=Ho(t,Be);const e=Ho(t.firestore,lm);return gC(Lw(e),t._key).then(n=>MC(e,t,n))}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:Ce("string",wo._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class RC extends AC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function DC(t,e,n){t=Ho(t,Be);const r=Ho(t.firestore,lm),s=kC(t.converter,e);return VC(r,[TC(bC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tn.none())])}function VC(t,e){return function(r,s){const i=new pr;return r.asyncQueue.enqueueAndForget(async()=>nC(await mC(r),s,i)),i.promise}(Lw(t),e)}function MC(t,e,n){const r=n.docs.get(e._key),s=new RC(t);return new Kr(t,s,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}function nv(){return new hm("serverTimestamp")}(function(e,n=!0){(function(s){yi=s})(pi),ti(new ts("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new lm(new yS(r.getProvider("auth-internal")),new _S(a,r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(d.options.projectId,f)}(a,s),a);return i={useFetchStreams:n,...i},c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),fr(ay,ly,e),fr(ay,ly,"esm2020")})();const _l={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!_l.apiKey||!_l.authDomain||!_l.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let uc;if(Og().length===0)try{uc=O_(_l),console.log(" Firebase initialized successfully")}catch(t){throw console.error(" Firebase initialization failed:",t),t}else uc=Og()[0];const _s=fS(uc),rv=vC(uc),Gi=localStorage.getItem("useMockAuth")!=="false",Gw=V.createContext(void 0);function OC({children:t}){const[e,n]=V.useState(!1),[r,s]=V.useState(null),[i,a]=V.useState(!0),c=async(y,w)=>{const C=I_.find(F=>F.email===y&&F.password===w);if(!C)throw new Error("Invalid email or password");if(!C.isActive)throw new Error("Account is inactive");const L={id:C.id,email:C.email,fullName:C.fullName,role:C.role,phone:C.phone};s(L),n(!0),localStorage.setItem("mockAuthUser",JSON.stringify(L))},u=async y=>{const w={id:`user-${Date.now()}`,email:y.email,fullName:y.fullName,role:y.role,phone:y.phone};s(w),n(!0),localStorage.setItem("mockAuthUser",JSON.stringify(w))},d=async()=>{s(null),n(!1),localStorage.removeItem("mockAuthUser")},f=async y=>{try{const w=await PC(Jy(rv,"users",y.uid));if(!w.exists())return console.error("User document not found in Firestore"),null;const C=w.data();return C.isActive?{id:y.uid,email:C.email||y.email||"",fullName:C.fullName||"",role:C.role,phone:C.phone||""}:(console.error("User account is inactive"),null)}catch(w){return console.error("Error fetching user data:",w),null}};V.useEffect(()=>{if(Gi){a(!0);const y=localStorage.getItem("mockAuthUser");if(y)try{const w=JSON.parse(y);s(w),n(!0)}catch(w){console.error("Error parsing stored user:",w),localStorage.removeItem("mockAuthUser")}a(!1)}else{const y=tj(_s,async w=>{if(a(!0),w){const C=await f(w);C?(s(C),n(!0)):(s(null),n(!1))}else s(null),n(!1);a(!1)});return()=>y()}},[]);const p=async(y,w)=>{if(Gi)return c(y,w);try{if(!_s)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");await JI(_s,y,w)}catch(C){throw console.error("Sign in error:",C),console.error("Error code:",C.code),console.error("Error message:",C.message),C.code==="auth/user-not-found"?new Error("auth/user-not-found - No user found with this email. Please create an account first."):C.code==="auth/wrong-password"?new Error("auth/wrong-password - Incorrect password."):C.code==="auth/invalid-email"?new Error("auth/invalid-email - Invalid email address format."):C.code==="auth/user-disabled"?new Error("auth/user-disabled - This account has been disabled."):C.code==="auth/too-many-requests"?new Error("auth/too-many-requests - Too many failed login attempts. Please try again later."):C.code==="auth/network-request-failed"?new Error("auth/network-request-failed - Network error. Please check your internet connection."):C.code==="auth/invalid-api-key"?new Error("auth/invalid-api-key - Firebase API key is invalid. Check your .env file."):C.code==="auth/configuration-not-found"?new Error("auth/configuration-not-found - Firebase configuration not found. Check your .env file."):new Error(C.message||C.code||"Failed to sign in")}},g=async y=>{if(Gi)return u(y);try{if(!_s)throw new Error("Firebase Auth not initialized. Please check your configuration.");const C=(await XI(_s,y.email,y.password)).user;await DC(Jy(rv,"users",C.uid),{email:y.email,fullName:y.fullName,phone:y.phone,role:y.role,isActive:!0,createdAt:nv(),updatedAt:nv()})}catch(w){throw console.error("Sign up error:",w),console.error("Error code:",w.code),console.error("Error message:",w.message),w.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):w.code==="auth/invalid-email"?new Error("Invalid email address format."):w.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):w.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(w.message||"Failed to create account")}},_=async()=>{if(Gi)return d();try{await nj(_s)}catch(y){throw console.error("Sign out error:",y),new Error(y.message||"Failed to sign out")}},A=y=>{if(!r)return;const w={...r,role:y};s(w),Gi&&localStorage.setItem("mockAuthUser",JSON.stringify(w))},k=y=>r?y.includes(r.role):!1,S=y=>r?r.role==="admin"?!0:us(r.id,r.role).some(C=>C.id===y):!1,b=y=>r?r.role==="admin"||r.role==="web_developer"&&y.assignedTo===r.id||r.role==="client"&&y.createdBy===r.id:!1;return o.jsx(Gw.Provider,{value:{isSignedIn:e,user:r,loading:i,signIn:p,signUp:g,signOut:_,switchRole:A,hasRole:k,canAccessProject:S,canManageTicket:b},children:t})}function Le(){const t=V.useContext(Gw);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const LC={theme:"system",setTheme:()=>null},UC=V.createContext(LC);function FC({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,i]=V.useState(()=>localStorage.getItem(n)||e);V.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(u);return}c.classList.add(s)},[s]);const a={theme:s,setTheme:c=>{localStorage.setItem(n,c),i(c)}};return o.jsx(UC.Provider,{...r,value:a,children:t})}function Kw(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function Tr(t){const e=typeof t=="string"?new Date(t):t,r=new Date().getTime()-e.getTime(),s=Math.floor(r/6e4),i=Math.floor(r/36e5),a=Math.floor(r/864e5);return s<1?"just now":s<60?`${s} minute${s>1?"s":""} ago`:i<24?`${i} hour${i>1?"s":""} ago`:a<30?`${a} day${a>1?"s":""} ago`:Kw(e)}function Qw(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zC(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function BC(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-blue-100 text-blue-700 border-blue-200",social_media_coordinator:"bg-pink-100 text-pink-700 border-pink-200",client:"bg-green-100 text-green-700 border-green-200"}[t]}function os(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",launch:"Launch",maintenance:"Maintenance"}[t]}function Yw(t){return{planning:16.67,design:33.33,development:50,testing:66.67,launch:83.33,maintenance:100}[t]}function $C(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function WC(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||Qw(t)}function HC(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function qC(t){return Qw(t)}function GC(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function so(t){return new Intl.NumberFormat("en-ZA").format(t)}function KC(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function Xw({role:t,className:e=""}){return o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${BC(t)} ${e}`,children:zC(t)})}function Xe(){const{isSignedIn:t,user:e,signOut:n}=Le(),r=Oe();fi().pathname;const i=async()=>{try{await n(),r("/")}catch(a){console.error("Error signing out:",a),r("/")}};return o.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:o.jsxs("div",{className:"container flex items-center justify-between py-4",children:[o.jsxs(H,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[o.jsx("img",{src:"/Logo.png",alt:"Logo",className:"h-10 w-auto"}),o.jsx("span",{children:"Marketing Website"})]}),o.jsx("div",{className:"hidden md:flex items-center gap-8",children:t&&o.jsx(o.Fragment,{children:(e==null?void 0:e.role)==="social_media_coordinator"&&o.jsx(H,{to:"/coordinator/projects",className:"text-foreground hover:text-primary transition",children:"My Projects"})})}),o.jsx("div",{className:"flex items-center gap-4",children:t&&e?o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-sm text-right",children:[o.jsx("p",{className:"font-semibold text-foreground",children:e.fullName}),o.jsx(Xw,{role:e.role,className:"mt-1"})]}),(e==null?void 0:e.role)==="admin"&&o.jsx(H,{to:"/admin/notifications",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:"System Notifications",children:o.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})})}),o.jsx("button",{onClick:i,className:"btn-secondary text-sm",children:"Sign Out"})]}):o.jsxs(o.Fragment,{children:[o.jsx(H,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),o.jsx(H,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})})]})})}function Je(){const[t,e]=V.useState(!1),[n,r]=V.useState(!1),[s,i]=V.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsx("footer",{className:"border-t border-border bg-muted py-12",children:o.jsxs("div",{className:"container",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),o.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.jsx("li",{children:o.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary",children:"Project Management"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary",children:"Ticketing System"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),o.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[o.jsx("li",{children:o.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>r(!0),className:"hover:text-primary",children:"Privacy"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>i(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),o.jsx("div",{className:"border-t border-border pt-8",children:o.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2025 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),o.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Create an account with your assigned role"}),o.jsx("li",{children:"Access your role-specific dashboard"}),o.jsx("li",{children:"View assigned projects and tasks"}),o.jsx("li",{children:"Collaborate with your team members"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"View progress of your website through different stages"}),o.jsx("li",{children:"Create tickets for bug reports or content changes"}),o.jsx("li",{children:"Track analytics and social media performance"}),o.jsx("li",{children:"Communicate with your development team"}),o.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Access all your assigned website projects"}),o.jsx("li",{children:"Update project stages as work progresses"}),o.jsx("li",{children:"Manage and resolve client tickets"}),o.jsx("li",{children:"Track time and deliverables"}),o.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),o.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports and monitor performance trends."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),o.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Use a strong, unique password"}),o.jsx("li",{children:"Never share your login credentials"}),o.jsx("li",{children:"Enable two-factor authentication when available"}),o.jsx("li",{children:"Log out from shared devices"}),o.jsx("li",{children:"Report suspicious activity immediately"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),o.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",o.jsx("br",{}),"Phone: +27 21 123 4567",o.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),o.jsx("button",{onClick:()=>r(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Personal information (name, email address, phone number)"}),o.jsx("li",{children:"Project files, documents, and assets"}),o.jsx("li",{children:"Website analytics and social media metrics"}),o.jsx("li",{children:"Ticket history and communications"}),o.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Manage and track website development projects"}),o.jsx("li",{children:"Facilitate team collaboration and communication"}),o.jsx("li",{children:"Store and track analytics data"}),o.jsx("li",{children:"Communicate with you about your projects and tickets"}),o.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Comply with legal obligations"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),o.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[o.jsx("li",{children:"Team members assigned to the same projects"}),o.jsx("li",{children:"Service providers who assist in operating our platform"}),o.jsx("li",{children:"Law enforcement when required by law"}),o.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),o.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),o.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Access your personal information"}),o.jsx("li",{children:"Correct inaccurate information"}),o.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),o.jsx("li",{children:"Object to processing of your information"}),o.jsx("li",{children:"Withdraw consent at any time"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),o.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),o.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),o.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),o.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),o.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",o.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),o.jsx("div",{className:"bg-muted p-4 rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Last Updated:"})," January 2025",o.jsx("br",{}),o.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsx("button",{onClick:()=>r(!1),className:"w-full btn-primary",children:"Close"})})]})}),s&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),o.jsx("button",{onClick:()=>i(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),o.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),o.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Provide accurate and complete information"}),o.jsx("li",{children:"Maintain the security of your account credentials"}),o.jsx("li",{children:"Accept responsibility for all activities under your account"}),o.jsx("li",{children:"Notify us immediately of any unauthorized use"}),o.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Perform assigned tasks professionally and on time"}),o.jsx("li",{children:"Maintain confidentiality of client information"}),o.jsx("li",{children:"Communicate effectively with team members"}),o.jsx("li",{children:"Provide accurate project updates and analytics"}),o.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Update project stages accurately as work progresses"}),o.jsx("li",{children:"Respond to tickets within agreed timeframes"}),o.jsx("li",{children:"Submit accurate analytics data"}),o.jsx("li",{children:"Respect intellectual property rights"}),o.jsx("li",{children:"Maintain professional communication standards"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),o.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Unauthorized access to other users' projects or data"}),o.jsx("li",{children:"Sharing confidential client information"}),o.jsx("li",{children:"Submitting false or misleading analytics data"}),o.jsx("li",{children:"Harassing other users or team members"}),o.jsx("li",{children:"Attempting to circumvent security measures"}),o.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),o.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),o.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),o.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),o.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),o.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),o.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),o.jsx("div",{className:"bg-muted p-4 rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Last Updated:"})," January 2025",o.jsx("br",{}),o.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsx("button",{onClick:()=>i(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function QC(){const{isSignedIn:t}=Le();return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsxs("main",{className:"flex flex-col",children:[o.jsxs("section",{className:"relative py-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522071820081-009f0129c71c?q=80&w=2070&auto=format&fit=crop')"}}),o.jsx("div",{className:"absolute inset-0 bg-black/50"}),o.jsxs("div",{className:"container text-center relative z-10",children:[o.jsx("h1",{className:"text-5xl font-bold mb-6 text-balance text-white !text-white",children:"Manage Websites. Track Social Media. Collaborate Better"}),o.jsx("p",{className:"text-xl text-white/95 mb-8 max-w-2xl mx-auto text-balance",children:"Marketing Management Website is your complete project management platform for website development and social media coordination with team collaboration and ticketing."}),o.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[o.jsx(H,{to:t?"/dashboard":"/register",className:"bg-white text-primary px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition",children:t?"Go to Dashboard":"Get Started"}),o.jsx(H,{to:"/login",className:"bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-primary/90 transition border-2 border-white",children:"Sign In"})]})]})]}),o.jsx("section",{className:"py-16 bg-background",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"How Marketing Management Website Works"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-3xl",children:""})})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Team Collaboration"}),o.jsx("p",{className:"text-muted-foreground",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently."})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-3xl",children:""})})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Project Tracking"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time."})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-3xl",children:""})})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Track website traffic and social media engagement. Get insights into performance metrics."})]})]})]})}),o.jsx("section",{className:"py-16 bg-muted",children:o.jsxs("div",{className:"container",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Built for Every Role"}),o.jsx("p",{className:"text-center text-muted-foreground mb-12",children:"Tailored experiences for your entire team"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-700 border border-purple-200",children:"Administrator"})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Admin"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage all projects, assign team members, and oversee the entire system."})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-700 border border-blue-200",children:"Web Developer"})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Developer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, and track development stages."})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-pink-100 text-pink-700 border border-pink-200",children:"Social Media Coordinator"})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Coordinator"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics and manage analytics for assigned projects."})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700 border border-green-200",children:"Client"})}),o.jsx("h3",{className:"font-bold text-lg mb-2",children:"Client"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, and communicate with your team."})]})]})]})}),o.jsx("section",{className:"py-16 bg-primary text-white",children:o.jsxs("div",{className:"container text-center",children:[o.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Get Started?"}),o.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join teams managing their websites and social media with Marketing Management Website."}),o.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[o.jsx(H,{to:t?"/dashboard":"/register",className:"bg-white text-primary px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition",children:t?"Go to Dashboard":"Get Started Now"}),o.jsx(H,{to:"/login",className:"border-2 border-white text-white px-8 py-3 rounded-lg font-bold hover:bg-white/10 transition",children:"Sign In"})]})]})})]}),o.jsx(Je,{})]})}let YC=0;const Jw=()=>{const[t,e]=V.useState([]);return{toasts:t,showToast:(r,s="info")=>{const i=String(YC++),a={id:i,message:r,type:s};e(c=>[...c,a]),setTimeout(()=>{e(c=>c.filter(u=>u.id!==i))},3e3)}}};function Zw({toasts:t}){return o.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>o.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function XC(){const t=Oe(),{toasts:e,showToast:n}=Jw(),{signIn:r,loading:s,isSignedIn:i}=Le(),[a,c]=V.useState(""),[u,d]=V.useState(""),[f,p]=V.useState(!1);V.useEffect(()=>{i&&!s&&t("/dashboard")},[i,s,t]);const g=async _=>{if(_.preventDefault(),!a||!u){n("Please fill in all fields","error");return}p(!0);try{await r(a,u),n("Signing in...","success")}catch(A){let k="Failed to sign in. Please try again.";A.message&&(A.message.includes("auth/user-not-found")||A.message.includes("auth/wrong-password")?k="Invalid email or password":A.message.includes("auth/invalid-email")?k="Invalid email address":A.message.includes("auth/too-many-requests")?k="Too many failed attempts. Please try again later.":A.message.includes("auth/user-disabled")?k="This account has been disabled":k=A.message),n(k,"error")}finally{p(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Sign In"}),o.jsx("p",{className:"text-muted-foreground",children:"Access your Marketing Management Website account"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Test Accounts:"}),o.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Administrator:"})," admin@system.com / admin123"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Web Developer:"})," dev@system.com / dev123"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Web Developer:"})," jane.dev@system.com / dev123"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Social Media Coordinator:"})," social@system.com / social123"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]})]}),o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:a,onChange:_=>c(_.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),o.jsx("input",{type:"password",value:u,onChange:_=>d(_.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",className:"rounded"}),o.jsx("span",{className:"text-sm text-foreground",children:"Remember me"})]}),o.jsx(H,{to:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),o.jsx("button",{type:"submit",disabled:f||s,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f||s?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-border"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[o.jsx("span",{children:""})," Continue with Google"]})}),o.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",o.jsx(H,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]})]}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("span",{className:"text-lg",children:" Secure"}),o.jsx("span",{className:"text-lg",children:" Collaborative"}),o.jsx("span",{className:"text-lg",children:" Efficient"})]})]})]})}),o.jsx(Zw,{toasts:e}),o.jsx(Je,{})]})}function JC(){const t=Oe(),{toasts:e,showToast:n}=Jw(),{signUp:r,isSignedIn:s,loading:i}=Le(),[a,c]=V.useState("client"),[u,d]=V.useState(""),[f,p]=V.useState(""),[g,_]=V.useState(""),[A,k]=V.useState(""),[S,b]=V.useState(""),[y,w]=V.useState(!1),[C,L]=V.useState(!1),[F,E]=V.useState(!1),[x,T]=V.useState(!1);V.useEffect(()=>{s&&!i&&t("/dashboard")},[s,i,t]);const I=async j=>{if(j.preventDefault(),!u||!f||!g||!A||!S){n("Please fill in all fields","error");return}if(A!==S){n("Passwords do not match","error");return}if(A.length<6){n("Password must be at least 6 characters","error");return}if(!y){n("Please agree to terms and conditions","error");return}T(!0);try{await r({email:f,password:A,fullName:u,phone:g,role:a}),n("Account created successfully!","success")}catch(P){n(P.message||"Failed to create account","error")}finally{T(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted py-12",children:o.jsxs("div",{className:"container max-w-2xl",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),o.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),o.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:o.jsxs("p",{className:"text-sm text-foreground",children:[o.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("button",{onClick:()=>c("client"),className:`p-6 rounded-lg border-2 transition text-center ${a==="client"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),o.jsxs("button",{onClick:()=>c("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${a==="web_developer"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),o.jsxs("button",{onClick:()=>c("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${a==="social_media_coordinator"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[o.jsx("div",{className:"text-4xl mb-2",children:""}),o.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),o.jsxs("form",{onSubmit:I,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:u,onChange:j=>d(j.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:f,onChange:j=>p(j.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:g,onChange:j=>_(j.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),o.jsx("input",{type:"password",value:A,onChange:j=>k(j.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),o.jsx("input",{type:"password",value:S,onChange:j=>b(j.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),o.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:o.jsxs("label",{className:"flex items-start gap-3",children:[o.jsx("input",{type:"checkbox",checked:y,onChange:j=>w(j.target.checked),className:"mt-1"}),o.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",o.jsx("button",{type:"button",onClick:()=>L(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",o.jsx("button",{type:"button",onClick:()=>E(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),o.jsx("button",{type:"submit",disabled:x||i,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Creating Account...":"Create Account"})]}),o.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",o.jsx(H,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),o.jsx(Zw,{toasts:e}),C&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),o.jsx("button",{onClick:()=>L(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),o.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),o.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Provide accurate and complete information"}),o.jsx("li",{children:"Maintain the security of your account credentials"}),o.jsx("li",{children:"Accept responsibility for all activities under your account"}),o.jsx("li",{children:"Notify us immediately of any unauthorized use"}),o.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Perform assigned tasks professionally and on time"}),o.jsx("li",{children:"Maintain confidentiality of client information"}),o.jsx("li",{children:"Communicate effectively with team members"}),o.jsx("li",{children:"Provide accurate project updates and analytics"}),o.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),o.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Unauthorized access to other users' projects or data"}),o.jsx("li",{children:"Sharing confidential client information"}),o.jsx("li",{children:"Submitting false or misleading analytics data"}),o.jsx("li",{children:"Harassing other users or team members"}),o.jsx("li",{children:"Attempting to circumvent security measures"}),o.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),o.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),o.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),o.jsx("div",{className:"bg-muted p-4 rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Last Updated:"})," January 2025",o.jsx("br",{}),o.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsx("button",{onClick:()=>L(!1),className:"w-full btn-primary",children:"Close"})})]})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),o.jsx("button",{onClick:()=>E(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Personal information (name, email address, phone number)"}),o.jsx("li",{children:"Project files, documents, and assets"}),o.jsx("li",{children:"Website analytics and social media metrics"}),o.jsx("li",{children:"Ticket history and communications"}),o.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Manage and track website development projects"}),o.jsx("li",{children:"Facilitate team collaboration and communication"}),o.jsx("li",{children:"Store and track analytics data"}),o.jsx("li",{children:"Communicate with you about your projects and tickets"}),o.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),o.jsx("li",{children:"Improve our services and user experience"}),o.jsx("li",{children:"Comply with legal obligations"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),o.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[o.jsx("li",{children:"Payment processors to complete transactions"}),o.jsx("li",{children:"Service providers who assist in operating our platform"}),o.jsx("li",{children:"Law enforcement when required by law"}),o.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),o.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),o.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),o.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),o.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[o.jsx("li",{children:"Access your personal information"}),o.jsx("li",{children:"Correct inaccurate information"}),o.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),o.jsx("li",{children:"Object to processing of your information"}),o.jsx("li",{children:"Withdraw consent at any time"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),o.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),o.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),o.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),o.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),o.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",o.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),o.jsx("div",{className:"bg-muted p-4 rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Last Updated:"})," January 2025",o.jsx("br",{}),o.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),o.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:o.jsx("button",{onClick:()=>E(!1),className:"w-full btn-primary",children:"Close"})})]})}),o.jsx(Je,{})]})}function ZC(){const{isSignedIn:t,user:e,loading:n}=Le(),r=Oe();return V.useEffect(()=>{if(!n){if(!t){r("/login");return}if(e)switch(e.role){case"admin":r("/admin/dashboard");break;case"web_developer":r("/developer/dashboard");break;case"social_media_coordinator":r("/coordinator/dashboard");break;case"client":r("/client/dashboard");break;default:r("/")}}},[t,e,n,r]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function ot({title:t,value:e,icon:n,trend:r,className:s=""}){return o.jsx("div",{className:`card ${s}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:t}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:typeof e=="number"?so(e):e}),r&&o.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[o.jsxs("span",{className:`text-xs ${r.isPositive?"text-green-600":"text-red-600"}`,children:[r.isPositive?"":""," ",Math.abs(r.value),"%"]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),n&&o.jsx("div",{className:"text-primary opacity-20",children:n})]})})}function Kt({status:t,className:e=""}){return o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${$C(t)} ${e}`,children:WC(t)})}function Kc({priority:t,className:e=""}){const n={low:"",medium:"",high:"",critical:""}[t];return o.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${HC(t)} ${e}`,children:[o.jsx("span",{children:n}),qC(t)]})}function eP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=ia(),s=kc(),i=Yt(),a={totalProjects:r.length,activeProjects:r.filter(f=>f.status==="active").length,totalUsers:i.length,openTickets:s.filter(f=>f.status==="open"||f.status==="in_progress").length},c=r.slice(0,5),u=s.slice(0,5),d=f=>s.filter(p=>p.projectId===f).length;return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ot,{title:"Total Projects",value:a.totalProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),o.jsx(ot,{title:"Active Projects",value:a.activeProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),o.jsx(ot,{title:"Total Users",value:a.totalUsers,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),o.jsx(ot,{title:"Open Tickets",value:a.openTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx(H,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"}),o.jsx(H,{to:"/admin/projects",className:"btn-outline",children:"Manage Projects"}),o.jsx(H,{to:"/admin/users",className:"btn-outline",children:"Manage Users"})]})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"All Projects"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",o.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",children:[o.jsx("option",{children:"10"}),o.jsx("option",{children:"25"}),o.jsx("option",{defaultValue:"50",children:"50"}),o.jsx("option",{children:"100"})]})," ","entries"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),o.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search projects..."})]})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-[#1e2875] text-white",children:[o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"#"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Project Name"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Current Stage"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Developer"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"My Tickets"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Analytics"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:r.map((f,p)=>{const g=i.find(A=>A.id===f.webDeveloperId);i.find(A=>A.id===f.socialMediaCoordinatorId);const _=d(f.id);return o.jsxs("tr",{className:`${p%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 transition border-b border-gray-200`,children:[o.jsx("td",{className:"px-4 py-3 text-sm",children:p+1}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-foreground",children:f.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(Kt,{status:f.status})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:os(f.currentStage)})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:"text-sm",children:g?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-medium text-foreground",children:g.fullName}),o.jsx("div",{className:"text-xs text-muted-foreground",children:g.email})]}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-semibold text-sm",children:_}),o.jsx(H,{to:`/tickets?project=${f.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs(H,{to:`/analytics/${f.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-[#1e2875] text-white rounded text-xs font-medium hover:bg-[#2a3488] transition",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H,{to:`/admin/projects/${f.id}`,className:"text-xs text-primary hover:underline",children:"View"}),o.jsx(H,{to:`/admin/projects/${f.id}/edit`,className:"text-xs text-primary hover:underline",children:"Edit"})]})})]},f.id)})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),o.jsx(H,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),o.jsx("div",{className:"space-y-4",children:c.map(f=>{const p=i.find(g=>g.id===f.clientId);return o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:p==null?void 0:p.fullName})]}),o.jsx(Kt,{status:f.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",o.jsx("span",{className:"text-foreground",children:os(f.currentStage)})]}),o.jsx("span",{className:"text-muted-foreground",children:Tr(f.updatedAt)})]})]},f.id)})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),o.jsx(H,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),o.jsx("div",{className:"space-y-4",children:u.map(f=>{const p=r.find(g=>g.id===f.projectId);return o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:f.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:p==null?void 0:p.name})]}),o.jsx(Kc,{priority:f.priority})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(Kt,{status:f.status}),o.jsx("span",{className:"text-xs text-muted-foreground",children:Tr(f.createdAt)})]})]},f.id)})})]})]})]})}),o.jsx(Je,{})]})}function tP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState([]);V.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),V.useEffect(()=>{s(Yt())},[]);const i=c=>{alert("Edit functionality coming soon! User ID: "+c)},a=c=>{uT(c),s(Yt())};return!e||e.role!=="admin"?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),o.jsx(H,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",r.length,")"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",o.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[o.jsx("option",{value:"10",children:"10"}),o.jsx("option",{value:"25",children:"25"}),o.jsx("option",{value:"50",children:"50"}),o.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),o.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),o.jsx(H,{to:"/admin/users/new",className:"btn-primary",children:"+ New User"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-[#1e2875] text-white",children:[o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"#"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Email"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Role"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Phone"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Joined"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:r.map((c,u)=>o.jsxs("tr",{className:`${u%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 transition border-b border-gray-200`,children:[o.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{children:o.jsx("div",{className:"font-semibold text-foreground",children:c.fullName})})}),o.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.email}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(Xw,{role:c.role})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:c.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.phone}),o.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Tr(c.createdAt)}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>i(c.id),children:"Edit"}),o.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>a(c.id),children:c.isActive?"Deactivate":"Activate"})]})})]},c.id))})]})})]})]})}),o.jsx(Je,{})]})}function nP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState(10),[i,a]=V.useState(""),[c,u]=V.useState(1);if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d=ia(),f=Yt(),p=kc(),g=V.useMemo(()=>d.filter(y=>y.name.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())||y.projectType.toLowerCase().includes(i.toLowerCase())),[d,i]),_=Math.ceil(g.length/r),A=(c-1)*r,k=A+r,S=g.slice(A,k);V.useEffect(()=>{u(1)},[i]);const b=y=>p.filter(w=>w.projectId===y).length;return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(H,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),o.jsx(H,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"})]})]})}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",g.length,")"]})}),o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),o.jsxs("select",{value:r,onChange:y=>s(Number(y.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"}),o.jsx("option",{value:100,children:"100"})]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),o.jsx("input",{type:"text",value:i,onChange:y=>a(y.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-[#1e2875] text-white",children:[o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"#"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Project Name"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Status"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Current Stage"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Client"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Developer"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Tickets"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#2a3488]",children:"Analytics"}),o.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),o.jsx("tbody",{children:S.map((y,w)=>{const C=f.find(E=>E.id===y.clientId),L=f.find(E=>E.id===y.webDeveloperId);f.find(E=>E.id===y.socialMediaCoordinatorId);const F=b(y.id);return o.jsxs("tr",{className:`${w%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 transition border-b border-gray-200`,children:[o.jsx("td",{className:"px-4 py-3 text-sm",children:w+1}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-foreground",children:y.name}),o.jsx("div",{className:"text-xs text-muted-foreground",children:y.description})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx(Kt,{status:y.status})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:os(y.currentStage)})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:"text-sm",children:C?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-medium text-foreground",children:C.fullName}),o.jsx("div",{className:"text-xs text-muted-foreground",children:C.email})]}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:"text-sm",children:L?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-medium text-foreground",children:L.fullName}),o.jsx("div",{className:"text-xs text-muted-foreground",children:L.email})]}):o.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 font-semibold text-sm",children:F}),o.jsx(H,{to:`/tickets?project=${y.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs(H,{to:`/analytics/${y.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-[#1e2875] text-white rounded text-xs font-medium hover:bg-[#2a3488] transition",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(H,{to:`/admin/projects/${y.id}`,className:"text-xs text-primary hover:underline",children:"View"}),o.jsx(H,{to:`/admin/projects/${y.id}/edit`,className:"text-xs text-primary hover:underline",children:"Edit"})]})})]},y.id)})})]})}),_>1&&o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A+1,"-",Math.min(k,g.length)," of ",g.length," projects"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>u(y=>Math.max(1,y-1)),disabled:c===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),o.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,_)},(y,w)=>{const C=Math.max(1,Math.min(_-4,c-2))+w;return C>_?null:o.jsx("button",{onClick:()=>u(C),className:`px-3 py-1 text-sm border rounded ${C===c?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:C},C)})}),o.jsx("button",{onClick:()=>u(y=>Math.min(_,y+1)),disabled:c===_,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),o.jsx(Je,{})]})}function rP(){const{user:t}=Le(),[e,n]=V.useState(()=>localStorage.getItem("useMockAuth")!=="false"),r=()=>{const s=!e;n(s),localStorage.setItem("useMockAuth",s.toString()),alert(`Authentication mode changed to ${s?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12 max-w-4xl",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),o.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),o.jsx(H,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Current Authentication Status"}),o.jsxs("p",{className:"text-blue-700 mb-4",children:[o.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",o.jsx("br",{}),o.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("button",{onClick:r,className:"btn-primary",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),o.jsx("span",{className:"text-sm text-blue-600",children:" Requires page refresh to take effect"})]})]}),o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[o.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),o.jsx("li",{children:"Data persists in browser localStorage"}),o.jsx("li",{children:"No Firebase setup required"}),o.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[o.jsx("li",{children:"Works offline"}),o.jsx("li",{children:"Fast development setup"}),o.jsx("li",{children:"No external dependencies"}),o.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),o.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[o.jsxs("li",{children:["Create a Firebase project at ",o.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),o.jsx("li",{children:"Enable Authentication and Firestore Database"}),o.jsxs("li",{children:["Copy your Firebase config to ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),o.jsxs("li",{children:["In ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",o.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),o.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),o.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Switching to Firebase:"}),o.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",o.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),o.jsx("p",{className:"text-sm text-blue-700",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[o.jsx("li",{children:"Secure user authentication"}),o.jsx("li",{children:"Real-time data synchronization"}),o.jsx("li",{children:"Scalable database solution"}),o.jsx("li",{children:"User management dashboard"})]})]})]})]}),o.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[o.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),o.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),o.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),o.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx(H,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),o.jsx(H,{to:"/login",className:"btn-outline",children:"Test Login"}),o.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),o.jsx(Je,{})]})}function sP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[i,a]=V.useState(!1);if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const c=async u=>{u.preventDefault(),a(!0);try{const d={id:`user-${Date.now()}`,...r,createdAt:new Date,updatedAt:new Date};hT(d),alert(`User "${r.fullName}" created successfully!`),n("/admin/users")}catch(d){console.error("Error creating user:",d),alert("Failed to create user. Please try again.")}finally{a(!1)}};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12 max-w-2xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),o.jsxs(H,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),o.jsxs("form",{onSubmit:c,className:"card space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",id:"fullName",required:!0,value:r.fullName,onChange:u=>s({...r,fullName:u.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",id:"email",required:!0,value:r.email,onChange:u=>s({...r,email:u.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),o.jsx("input",{type:"tel",id:"phone",required:!0,value:r.phone,onChange:u=>s({...r,phone:u.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),o.jsxs("select",{id:"role",required:!0,value:r.role,onChange:u=>s({...r,role:u.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"client",children:"Client"}),o.jsx("option",{value:"web_developer",children:"Web Developer"}),o.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),o.jsx("option",{value:"admin",children:"Admin"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),o.jsx("input",{type:"password",id:"password",required:!0,value:r.password,onChange:u=>s({...r,password:u.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:u=>s({...r,isActive:u.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),o.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",disabled:i,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create User"}),o.jsx("button",{type:"button",onClick:()=>n("/admin/users"),className:"btn-outline flex-1",disabled:i,children:"Cancel"})]})]})]})}),o.jsx(Je,{})]})}function iP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="web_developer")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=us(e.id,e.role),s=Cc(e.id,e.role),i={assignedProjects:r.length,openTickets:s.filter(u=>u.status==="open").length,inProgressTickets:s.filter(u=>u.status==="in_progress").length,resolvedTickets:s.filter(u=>u.status==="resolved").length},a=r.slice(0,3),c=s.slice(0,5);return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ot,{title:"Assigned Projects",value:i.assignedProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),o.jsx(ot,{title:"Open Tickets",value:i.openTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx(ot,{title:"In Progress",value:i.inProgressTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx(ot,{title:"Resolved",value:i.resolvedTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx(H,{to:"/developer/projects",className:"btn-primary",children:"View All Projects"}),o.jsx(H,{to:"/developer/tickets",className:"btn-outline",children:"View All Tickets"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),o.jsx(H,{to:"/developer/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),a.length>0?o.jsx("div",{className:"space-y-4",children:a.map(u=>o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:u.name}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:u.description})]}),o.jsx(Kt,{status:u.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-medium",children:os(u.currentStage)}),o.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",Tr(u.updatedAt)]})]})]},u.id))}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No projects assigned yet."})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),o.jsx(H,{to:"/developer/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),c.length>0?o.jsx("div",{className:"space-y-4",children:c.map(u=>o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:u.title}),o.jsx("p",{className:"text-sm text-muted-foreground",children:GC(u.type)})]}),o.jsx(Kc,{priority:u.priority})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[o.jsx(Kt,{status:u.status}),o.jsx("span",{className:"text-xs text-muted-foreground",children:Tr(u.createdAt)})]})]},u.id))}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),o.jsx(Je,{})]})}function oP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState("all");if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="web_developer")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=Cc(e.id,e.role),a=r==="all"?i:i.filter(d=>d.status===r),c={totalAssigned:i.length,critical:i.filter(d=>d.priority==="critical"&&d.status!=="resolved"&&d.status!=="closed").length,overSevenDays:i.filter(d=>Math.floor((new Date().getTime()-new Date(d.createdAt).getTime())/864e5)>7&&d.status!=="resolved"&&d.status!=="closed").length},u=d=>Math.floor((new Date().getTime()-new Date(d).getTime())/(1e3*60*60*24));return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),o.jsx("div",{className:"text-4xl font-bold text-gray-900",children:c.totalAssigned})]}),o.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),o.jsx("div",{className:"text-4xl font-bold text-red-600",children:c.critical})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),o.jsx("div",{className:"text-4xl font-bold text-blue-600",children:c.overSevenDays})]})]}),o.jsx("div",{className:"card mb-6",children:o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-md font-medium transition ${r==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),o.jsx("button",{onClick:()=>s("open"),className:`px-4 py-2 rounded-md font-medium transition ${r==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),o.jsx("button",{onClick:()=>s("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${r==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),o.jsx("button",{onClick:()=>s("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${r==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]})}),o.jsx("div",{className:"card overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-navy-900",children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider bg-[#1e293b]",children:"PROJECT"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider bg-[#1e293b]",children:"TITLE"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider bg-[#1e293b]",children:"STATUS"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider bg-[#1e293b]",children:"SEVERITY"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider bg-[#1e293b]",children:"DAYS OPEN"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.length>0?a.map(d=>{const f=mT(d.projectId),p=u(d.createdAt);return o.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx(H,{to:`/projects/${d.projectId}`,className:"text-blue-600 hover:text-blue-800 hover:underline",children:(f==null?void 0:f.name)||"Unknown Project"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:d.title})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[d.status==="in_progress"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"Dev started working on ticket"}),d.status==="resolved"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Resolved"}),d.status==="open"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:"Open"}),d.status==="closed"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-400 text-white",children:"Closed"})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[d.priority==="critical"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),d.priority==="high"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),d.priority==="medium"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),d.priority==="low"&&o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"text-sm text-gray-900 font-medium",children:p})})]},d.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),o.jsx(Je,{})]})}function aP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="social_media_coordinator")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=us(e.id,e.role),s=fT(),i=r.map(_=>_.id),a=s.filter(_=>i.includes(_.projectId)),c=a.reduce((_,A)=>_+A.reach,0),u=a.reduce((_,A)=>_+A.engagement,0),d=a.reduce((_,A)=>_+A.posts,0),f={assignedProjects:r.length,totalReach:c,totalEngagement:u,totalPosts:d},p=r.slice(0,3),g=a.slice(0,5);return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ot,{title:"Assigned Projects",value:f.assignedProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),o.jsx(ot,{title:"Total Reach",value:so(f.totalReach),icon:o.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),o.jsx(ot,{title:"Total Engagement",value:so(f.totalEngagement),icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),o.jsx(ot,{title:"Total Posts",value:f.totalPosts,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx(H,{to:"/coordinator/projects",className:"btn-primary",children:"View All Projects"}),o.jsx(H,{to:"/coordinator/analytics/new",className:"btn-outline",children:"+ Add Analytics Entry"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),o.jsx(H,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),p.length>0?o.jsx("div",{className:"space-y-4",children:p.map(_=>o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:_.name}),_.projectType==="social_media"&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),_.projectType==="website"&&o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:"Website"})]}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:_.description})]}),o.jsx(Kt,{status:_.status})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:os(_.currentStage)}),_.projectType==="social_media"&&_.socialMediaPlatforms&&o.jsxs("div",{className:"flex gap-1",children:[_.socialMediaPlatforms.slice(0,3).map(A=>o.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:A},A)),_.socialMediaPlatforms.length>3&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",_.socialMediaPlatforms.length-3]})]})]})]},_.id))}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No projects assigned yet."})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),o.jsx(H,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),g.length>0?o.jsx("div",{className:"space-y-4",children:g.map(_=>{const A=r.find(k=>k.id===_.projectId);return o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground capitalize",children:_.platform}),o.jsx("p",{className:"text-sm text-muted-foreground",children:A==null?void 0:A.name})]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:Kw(_.date)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),o.jsx("p",{className:"font-semibold text-foreground",children:so(_.reach)})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),o.jsx("p",{className:"font-semibold text-foreground",children:so(_.engagement)})]}),o.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),o.jsx("p",{className:"font-semibold text-foreground",children:_.posts})]})]})]},_.id)})}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"No analytics entries yet."}),o.jsx(H,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),o.jsx(Je,{})]})}function dc({fullName:t,profileImage:e,size:n="md",className:r=""}){const s={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return o.jsx("div",{className:`${s[n]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${r}`,title:t,children:e?o.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):KC(t)})}function lP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="client")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=us(e.id,e.role),s=Cc(e.id,e.role),i=Yt(),a={myProjects:r.length,activeTickets:s.filter(d=>d.status==="open"||d.status==="in_progress").length,resolvedTickets:s.filter(d=>d.status==="resolved").length,inProgressProjects:r.filter(d=>d.status==="active").length},c=r.slice(0,3),u=s.slice(0,5);return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),o.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ot,{title:"My Projects",value:a.myProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),o.jsx(ot,{title:"In Progress",value:a.inProgressProjects,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx(ot,{title:"Active Tickets",value:a.activeTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),o.jsx(ot,{title:"Resolved",value:a.resolvedTickets,icon:o.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"flex gap-4 flex-wrap",children:[o.jsx(H,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),o.jsx(H,{to:"/client/projects",className:"btn-outline",children:"View All Projects"}),o.jsx(H,{to:"/client/tickets",className:"btn-outline",children:"View All Tickets"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),o.jsx(H,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),c.length>0?o.jsx("div",{className:"space-y-4",children:c.map(d=>{const f=i.find(_=>_.id===d.webDeveloperId),p=i.find(_=>_.id===d.socialMediaCoordinatorId),g=Yw(d.currentStage);return o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:d.name}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:d.description})]}),o.jsx(Kt,{status:d.status})]}),o.jsxs("div",{className:"mb-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-medium text-foreground",children:[g.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${g}%`}})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:os(d.currentStage)}),o.jsxs("div",{className:"flex items-center gap-1",children:[f&&o.jsx(dc,{fullName:f.fullName,size:"sm"}),p&&o.jsx(dc,{fullName:p.fullName,size:"sm"})]})]})]},d.id)})}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No projects yet."})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),o.jsx(H,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),u.length>0?o.jsx("div",{className:"space-y-4",children:u.map(d=>{const f=i.find(p=>p.id===d.assignedTo);return o.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-foreground",children:d.title}),f&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",f.fullName]})]}),o.jsx(Kc,{priority:d.priority})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[o.jsx(Kt,{status:d.status}),o.jsx("span",{className:"text-xs text-muted-foreground",children:Tr(d.createdAt)})]})]},d.id)})}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx("p",{children:"No tickets yet."}),o.jsx(H,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),o.jsx(Je,{})]})}function cP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="client")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=us(e.id,e.role),s=Yt();return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),o.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),o.jsx(H,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map(i=>{const a=s.find(d=>d.id===i.webDeveloperId),c=s.find(d=>d.id===i.socialMediaCoordinatorId),u=Yw(i.currentStage);return o.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:i.name}),o.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:i.description})]}),o.jsx(Kt,{status:i.status})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-medium text-foreground",children:[u.toFixed(0),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${u}%`}})})]}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:os(i.currentStage)})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),o.jsxs("div",{className:"flex items-center gap-2",children:[a&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dc,{fullName:a.fullName,size:"sm"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),c&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dc,{fullName:c.fullName,size:"sm"}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{to:`/client/tickets/new?project=${i.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),o.jsx("button",{className:"btn-outline flex-1",children:"View Details"})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Tr(i.updatedAt)]})})]},i.id)}):o.jsx("div",{className:"col-span-full text-center py-12",children:o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),o.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),o.jsx(Je,{})]})}function uP(){const{isSignedIn:t,user:e}=Le(),n=Oe();if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="client")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const r=Cc(e.id,e.role),s=ia(),i=Yt();return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),o.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(H,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"}),o.jsx(H,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"})]})]})}),o.jsx("div",{className:"space-y-4",children:r.length>0?r.map(a=>{const c=s.find(d=>d.id===a.projectId),u=i.find(d=>d.id===a.assignedTo);return o.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.title}),o.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description}),c&&o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",o.jsx("span",{className:"font-medium",children:c.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Kt,{status:a.status}),o.jsx(Kc,{priority:a.priority})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Type: ",a.type.replace("_"," ")]}),u&&o.jsxs("span",{children:["Assigned to: ",u.fullName]}),o.jsx("span",{children:Tr(a.createdAt)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),o.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},a.id)}):o.jsx("div",{className:"text-center py-12",children:o.jsxs("div",{className:"text-muted-foreground",children:[o.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),o.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),o.jsx(H,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),o.jsx(Je,{})]})}function dP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState(""),[i,a]=V.useState(""),[c,u]=V.useState("medium"),[d,f]=V.useState("feature_request"),[p,g]=V.useState(""),[_,A]=V.useState(!1);if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&n("/dashboard"):n("/login");const y=new URLSearchParams(window.location.search).get("project");y&&g(y)},[t,e,n]),!e||e.role!=="client")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const k=us(e.id,e.role);Yt();const S=async b=>{b.preventDefault(),A(!0);const y={id:`ticket-${Date.now()}`,projectId:p,createdBy:e.id,title:r,description:i,type:d,priority:c,status:"open",createdAt:new Date,updatedAt:new Date};dT(y),console.log("Creating new ticket:",y),s(""),a(""),u("medium"),f("feature_request"),g(""),A(!1),n("/client/dashboard")};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12 max-w-2xl",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),o.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),o.jsx(H,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),o.jsx("div",{className:"card",children:o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),o.jsxs("select",{value:p,onChange:b=>g(b.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[o.jsx("option",{value:"",children:"Choose a project..."}),k.map(b=>o.jsx("option",{value:b.id,children:b.name},b.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),o.jsxs("select",{value:d,onChange:b=>f(b.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[o.jsx("option",{value:"feature_request",children:"Feature Request"}),o.jsx("option",{value:"bug_report",children:"Bug Report"}),o.jsx("option",{value:"content_change",children:"Content Change"}),o.jsx("option",{value:"design_update",children:"Design Update"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),o.jsxs("select",{value:c,onChange:b=>u(b.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"critical",children:"Critical"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),o.jsx("input",{type:"text",value:r,onChange:b=>s(b.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),o.jsx("textarea",{value:i,onChange:b=>a(b.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"submit",disabled:_||!p,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Creating...":"Create Ticket"}),o.jsx(H,{to:"/client/dashboard",className:"btn-outline",children:"Cancel"})]})]})}),o.jsxs("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Ticket Guidelines"}),o.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[o.jsx("li",{children:" Be specific about what you need"}),o.jsx("li",{children:" Include any relevant details or examples"}),o.jsx("li",{children:" Choose the appropriate priority level"}),o.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),o.jsx(Je,{})]})}const hP=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function fP(){const{isSignedIn:t,user:e,switchRole:n}=Le(),r=Oe();if(V.useEffect(()=>{t||r("/login")},[t,r]),!e)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=i=>{n(i),setTimeout(()=>{r(i==="admin"?"/admin/dashboard":"/dashboard")},300)};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsx("div",{className:"container py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),o.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",o.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-[#1e2875] text-white",children:e.role.replace("_"," ").toUpperCase()})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:hP.map(i=>{const a=e.role===i.value;return o.jsxs("button",{onClick:()=>!a&&s(i.value),disabled:a,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${a?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[a&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),o.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${a?"bg-white/20":"bg-[#1e2875]/10"}`,children:[i.value==="admin"&&o.jsx("svg",{className:`w-8 h-8 ${a?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),i.value==="web_developer"&&o.jsx("svg",{className:`w-8 h-8 ${a?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),i.value==="social_media_coordinator"&&o.jsx("svg",{className:`w-8 h-8 ${a?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),i.value==="client"&&o.jsx("svg",{className:`w-8 h-8 ${a?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),o.jsx("h2",{className:`text-2xl font-bold mb-3 ${a?"text-white":"text-[#1e2875]"}`,children:i.label}),o.jsx("p",{className:`text-sm leading-relaxed ${a?"text-white/90":"text-muted-foreground"}`,children:i.description}),!a&&o.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[o.jsx("span",{children:"Click to switch"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},i.value)})}),o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>r(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-white shadow-md hover:shadow-lg transition text-[#1e2875] font-semibold",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),o.jsx(Je,{})]})}function mP(){const{isSignedIn:t,user:e}=Le(),n=Oe(),[r,s]=V.useState("website"),[i,a]=V.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",notes:"",campaignGoals:"",targetAudience:""}),[c,u]=V.useState([]);if(V.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),!e||e.role!=="admin")return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d=Yt(),f=d.filter(S=>S.role==="client"),p=d.filter(S=>S.role==="web_developer"),g=d.filter(S=>S.role==="social_media_coordinator"),_=["facebook","instagram","twitter","linkedin","tiktok","youtube"],A=S=>{u(b=>b.includes(S)?b.filter(y=>y!==S):[...b,S])},k=S=>{S.preventDefault();const b={id:`proj-${Date.now()}`,...i,projectType:r,socialMediaPlatforms:r==="social_media"?c:void 0,createdAt:new Date,updatedAt:new Date};console.log("Creating new project:",b),alert(`${r==="website"?"Website":"Social Media"} project "${i.name}" created successfully!`),n("/admin/dashboard")};return o.jsxs(o.Fragment,{children:[o.jsx(Xe,{}),o.jsx("main",{className:"min-h-screen bg-muted",children:o.jsxs("div",{className:"container py-12 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),o.jsxs(H,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),o.jsxs("div",{className:"card mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("button",{type:"button",onClick:()=>s("website"),className:`p-6 border-2 rounded-lg transition ${r==="website"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),o.jsx("button",{type:"button",onClick:()=>s("social_media"),className:`p-6 border-2 rounded-lg transition ${r==="social_media"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),o.jsxs("form",{onSubmit:k,className:"card space-y-6",children:[o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),o.jsx("input",{type:"text",id:"name",required:!0,value:i.name,onChange:S=>a({...i,name:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),o.jsx("textarea",{id:"description",required:!0,value:i.description,onChange:S=>a({...i,description:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),o.jsxs("select",{id:"clientId",required:!0,value:i.clientId,onChange:S=>a({...i,clientId:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"Select a client"}),f.map(S=>o.jsx("option",{value:S.id,children:S.fullName},S.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),o.jsxs("select",{id:"currentStage",required:!0,value:i.currentStage,onChange:S=>a({...i,currentStage:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"planning",children:"Planning"}),o.jsx("option",{value:"design",children:"Design"}),o.jsx("option",{value:"development",children:"Development"}),o.jsx("option",{value:"testing",children:"Testing"}),o.jsx("option",{value:"launch",children:"Launch"}),o.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),r==="website"&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),o.jsxs("select",{id:"webDeveloperId",value:i.webDeveloperId,onChange:S=>a({...i,webDeveloperId:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsx("option",{value:"",children:"Select a developer (optional)"}),p.map(S=>o.jsx("option",{value:S.id,children:S.fullName},S.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",r==="social_media"&&"*"]}),o.jsxs("select",{id:"socialMediaCoordinatorId",required:r==="social_media",value:i.socialMediaCoordinatorId,onChange:S=>a({...i,socialMediaCoordinatorId:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[o.jsxs("option",{value:"",children:["Select a coordinator ",r==="website"&&"(optional)"]}),g.map(S=>o.jsx("option",{value:S.id,children:S.fullName},S.id))]})]})]}),r==="website"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),o.jsx("input",{type:"url",id:"websiteUrl",value:i.websiteUrl,onChange:S=>a({...i,websiteUrl:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"googleAnalyticsPropertyId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics Property ID"}),o.jsx("input",{type:"text",id:"googleAnalyticsPropertyId",value:i.googleAnalyticsPropertyId,onChange:S=>a({...i,googleAnalyticsPropertyId:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"G-XXXXXXXXXX"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"googleAnalyticsViewId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics View ID"}),o.jsx("input",{type:"text",id:"googleAnalyticsViewId",value:i.googleAnalyticsViewId,onChange:S=>a({...i,googleAnalyticsViewId:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"123456789"})]})]})]}),r==="social_media"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platforms *"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:_.map(S=>o.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[o.jsx("input",{type:"checkbox",checked:c.includes(S),onChange:()=>A(S),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),o.jsx("span",{className:"text-sm font-medium capitalize",children:S})]},S))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),o.jsx("textarea",{id:"campaignGoals",required:!0,value:i.campaignGoals,onChange:S=>a({...i,campaignGoals:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),o.jsx("textarea",{id:"targetAudience",required:!0,value:i.targetAudience,onChange:S=>a({...i,targetAudience:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),o.jsx("textarea",{id:"notes",value:i.notes,onChange:S=>a({...i,notes:S.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Create ",r==="website"?"Website":"Social Media"," Project"]}),o.jsx("button",{type:"button",onClick:()=>n(-1),className:"btn-outline flex-1",children:"Cancel"})]})]})]})}),o.jsx(Je,{})]})}function pP(){return o.jsx(FC,{defaultTheme:"light",storageKey:"marketing-website-theme",children:o.jsx(OC,{children:o.jsxs(Y1,{children:[o.jsx(Se,{path:"/",element:o.jsx(QC,{})}),o.jsx(Se,{path:"/login",element:o.jsx(XC,{})}),o.jsx(Se,{path:"/register",element:o.jsx(JC,{})}),o.jsx(Se,{path:"/dashboard",element:o.jsx(ZC,{})}),o.jsx(Se,{path:"/admin/dashboard",element:o.jsx(eP,{})}),o.jsx(Se,{path:"/admin/users",element:o.jsx(tP,{})}),o.jsx(Se,{path:"/admin/users/new",element:o.jsx(sP,{})}),o.jsx(Se,{path:"/admin/projects",element:o.jsx(nP,{})}),o.jsx(Se,{path:"/admin/projects/new",element:o.jsx(mP,{})}),o.jsx(Se,{path:"/admin/notifications",element:o.jsx(rP,{})}),o.jsx(Se,{path:"/developer/dashboard",element:o.jsx(iP,{})}),o.jsx(Se,{path:"/developer/tickets",element:o.jsx(oP,{})}),o.jsx(Se,{path:"/coordinator/dashboard",element:o.jsx(aP,{})}),o.jsx(Se,{path:"/client/dashboard",element:o.jsx(lP,{})}),o.jsx(Se,{path:"/client/projects",element:o.jsx(cP,{})}),o.jsx(Se,{path:"/client/tickets",element:o.jsx(uP,{})}),o.jsx(Se,{path:"/client/tickets/new",element:o.jsx(dP,{})}),o.jsx(Se,{path:"/switch-role",element:o.jsx(fP,{})}),o.jsx(Se,{path:"*",element:o.jsx(K1,{to:"/",replace:!0})})]})})})}td.createRoot(document.getElementById("root")).render(o.jsx(mv.StrictMode,{children:o.jsx(rT,{children:o.jsx(pP,{})})}));
