function b5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JE={exports:{}},qp={},ZE={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=Symbol.for("react.element"),w5=Symbol.for("react.portal"),j5=Symbol.for("react.fragment"),N5=Symbol.for("react.strict_mode"),_5=Symbol.for("react.profiler"),S5=Symbol.for("react.provider"),A5=Symbol.for("react.context"),k5=Symbol.for("react.forward_ref"),T5=Symbol.for("react.suspense"),E5=Symbol.for("react.memo"),P5=Symbol.for("react.lazy"),G2=Symbol.iterator;function I5(t){return t===null||typeof t!="object"?null:(t=G2&&t[G2]||t["@@iterator"],typeof t=="function"?t:null)}var eP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tP=Object.assign,rP={};function Wl(t,e,r){this.props=t,this.context=e,this.refs=rP,this.updater=r||eP}Wl.prototype.isReactComponent={};Wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nP(){}nP.prototype=Wl.prototype;function rw(t,e,r){this.props=t,this.context=e,this.refs=rP,this.updater=r||eP}var nw=rw.prototype=new nP;nw.constructor=rw;tP(nw,Wl.prototype);nw.isPureReactComponent=!0;var K2=Array.isArray,iP=Object.prototype.hasOwnProperty,iw={current:null},sP={key:!0,ref:!0,__self:!0,__source:!0};function aP(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)iP.call(e,n)&&!sP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Jd,type:t,key:a,ref:o,props:i,_owner:iw.current}}function C5(t,e){return{$$typeof:Jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jd}function O5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Y2=/\/+/g;function Dx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O5(""+t.key):e.toString(36)}function Af(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jd:case w5:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Dx(o,0):n,K2(i)?(r="",t!=null&&(r=t.replace(Y2,"$&/")+"/"),Af(i,e,r,"",function(u){return u})):i!=null&&(sw(i)&&(i=C5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Y2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",K2(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+Dx(a,l);o+=Af(a,e,r,c,i)}else if(c=I5(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+Dx(a,l++),o+=Af(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fh(t,e,r){if(t==null)return t;var n=[],i=0;return Af(t,n,"","",function(a){return e.call(r,a,i++)}),n}function M5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},kf={transition:null},D5={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:kf,ReactCurrentOwner:iw};function oP(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Fh,forEach:function(t,e,r){Fh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Fh(t,function(){e++}),e},toArray:function(t){return Fh(t,function(e){return e})||[]},only:function(t){if(!sw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Wl;Te.Fragment=j5;Te.Profiler=_5;Te.PureComponent=rw;Te.StrictMode=N5;Te.Suspense=T5;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D5;Te.act=oP;Te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tP({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=iw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)iP.call(e,c)&&!sP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Jd,type:t.type,key:i,ref:a,props:n,_owner:o}};Te.createContext=function(t){return t={$$typeof:A5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:S5,_context:t},t.Consumer=t};Te.createElement=aP;Te.createFactory=function(t){var e=aP.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:k5,render:t}};Te.isValidElement=sw;Te.lazy=function(t){return{$$typeof:P5,_payload:{_status:-1,_result:t},_init:M5}};Te.memo=function(t,e){return{$$typeof:E5,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=kf.transition;kf.transition={};try{t()}finally{kf.transition=e}};Te.unstable_act=oP;Te.useCallback=function(t,e){return Ar.current.useCallback(t,e)};Te.useContext=function(t){return Ar.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Ar.current.useEffect(t,e)};Te.useId=function(){return Ar.current.useId()};Te.useImperativeHandle=function(t,e,r){return Ar.current.useImperativeHandle(t,e,r)};Te.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Ar.current.useMemo(t,e)};Te.useReducer=function(t,e,r){return Ar.current.useReducer(t,e,r)};Te.useRef=function(t){return Ar.current.useRef(t)};Te.useState=function(t){return Ar.current.useState(t)};Te.useSyncExternalStore=function(t,e,r){return Ar.current.useSyncExternalStore(t,e,r)};Te.useTransition=function(){return Ar.current.useTransition()};Te.version="18.3.1";ZE.exports=Te;var C=ZE.exports;const L=Ue(C),R5=b5({__proto__:null,default:L},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5=C,$5=Symbol.for("react.element"),V5=Symbol.for("react.fragment"),F5=Object.prototype.hasOwnProperty,B5=L5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U5={key:!0,ref:!0,__self:!0,__source:!0};function lP(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)F5.call(e,n)&&!U5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$5,type:t,key:a,ref:o,props:i,_owner:B5.current}}qp.Fragment=V5;qp.jsx=lP;qp.jsxs=lP;JE.exports=qp;var s=JE.exports,rv={},cP={exports:{}},Yr={},uP={exports:{}},dP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,z){var q=$.length;$.push(z);e:for(;0<q;){var Q=q-1>>>1,Z=$[Q];if(0<i(Z,z))$[Q]=z,$[q]=Z,q=Q;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var z=$[0],q=$.pop();if(q!==z){$[0]=q;e:for(var Q=0,Z=$.length,oe=Z>>>1;Q<oe;){var ke=2*(Q+1)-1,We=$[ke],Ze=ke+1,ar=$[Ze];if(0>i(We,q))Ze<Z&&0>i(ar,We)?($[Q]=ar,$[Ze]=q,Q=Ze):($[Q]=We,$[ke]=q,Q=ke);else if(Ze<Z&&0>i(ar,q))$[Q]=ar,$[Ze]=q,Q=Ze;else break e}}return z}function i($,z){var q=$.sortIndex-z.sortIndex;return q!==0?q:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=$)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function A($){if(b=!1,w($),!v)if(r(c)!==null)v=!0,D(j);else{var z=r(u);z!==null&&V(A,z.startTime-$)}}function j($,z){v=!1,b&&(b=!1,g(N),N=-1),p=!0;var q=f;try{for(w(z),h=r(c);h!==null&&(!(h.expirationTime>z)||$&&!I());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var Z=Q(h.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(c)&&n(c),w(z)}else n(c);h=r(c)}if(h!==null)var oe=!0;else{var ke=r(u);ke!==null&&V(A,ke.startTime-z),oe=!1}return oe}finally{h=null,f=q,p=!1}}var k=!1,S=null,N=-1,T=5,O=-1;function I(){return!(t.unstable_now()-O<T)}function M(){if(S!==null){var $=t.unstable_now();O=$;var z=!0;try{z=S(!0,$)}finally{z?P():(k=!1,S=null)}}else k=!1}var P;if(typeof y=="function")P=function(){y(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=M,P=function(){B.postMessage(null)}}else P=function(){x(M,0)};function D($){S=$,k||(k=!0,P())}function V($,z){N=x(function(){$(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var q=f;f=z;try{return $()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=f;f=$;try{return z()}finally{f=q}},t.unstable_scheduleCallback=function($,z,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=q+Z,$={id:d++,callback:z,priorityLevel:$,startTime:q,expirationTime:Z,sortIndex:-1},q>Q?($.sortIndex=q,e(u,$),r(c)===null&&$===r(u)&&(b?(g(N),N=-1):b=!0,V(A,q-Q))):($.sortIndex=Z,e(c,$),v||p||(v=!0,D(j))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var z=f;return function(){var q=f;f=z;try{return $.apply(this,arguments)}finally{f=q}}}})(dP);uP.exports=dP;var z5=uP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W5=C,Gr=z5;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hP=new Set,$u={};function Ga(t,e){rl(t,e),rl(t+"Capture",e)}function rl(t,e){for($u[t]=e,t=0;t<e.length;t++)hP.add(e[t])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nv=Object.prototype.hasOwnProperty,H5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X2={},Q2={};function q5(t){return nv.call(Q2,t)?!0:nv.call(X2,t)?!1:H5.test(t)?Q2[t]=!0:(X2[t]=!0,!1)}function G5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K5(t,e,r,n){if(e===null||typeof e>"u"||G5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var aw=/[\-:]([a-z])/g;function ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aw,ow);ir[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aw,ow);ir[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aw,ow);ir[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function lw(t,e,r,n){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(K5(e,r,i,n)&&(r=null),n||i===null?q5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vi=W5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),_o=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),iv=Symbol.for("react.profiler"),fP=Symbol.for("react.provider"),mP=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),av=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),pP=Symbol.for("react.offscreen"),J2=Symbol.iterator;function Dc(t){return t===null||typeof t!="object"?null:(t=J2&&t[J2]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Rx;function nu(t){if(Rx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rx=e&&e[1]||""}return`
`+Rx+t}var Lx=!1;function $x(t,e){if(!t||Lx)return"";Lx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Lx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nu(t):""}function Y5(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=$x(t.type,!1),t;case 11:return t=$x(t.type.render,!1),t;case 1:return t=$x(t.type,!0),t;default:return""}}function ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case _o:return"Portal";case iv:return"Profiler";case cw:return"StrictMode";case sv:return"Suspense";case av:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mP:return(t.displayName||"Context")+".Consumer";case fP:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dw:return e=t.displayName||null,e!==null?e:ov(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return ov(t(e))}catch{}}return null}function X5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ov(e);case 8:return e===cw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q5(t){var e=gP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uh(t){t._valueTracker||(t._valueTracker=Q5(t))}function xP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Xf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lv(t,e){var r=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Z2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ds(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yP(t,e){e=e.checked,e!=null&&lw(t,"checked",e,!1)}function cv(t,e){yP(t,e);var r=Ds(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uv(t,e.type,r):e.hasOwnProperty("defaultValue")&&uv(t,e.type,Ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function eN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function uv(t,e,r){(e!=="number"||Xf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var iu=Array.isArray;function Uo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ds(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(iu(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ds(r)}}function vP(t,e){var r=Ds(e.value),n=Ds(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zh,wP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J5=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){J5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function jP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function NP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Z5=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fv(t,e){if(e){if(Z5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pv=null;function hw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gv=null,zo=null,Wo=null;function nN(t){if(t=th(t)){if(typeof gv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Qp(e),gv(t.stateNode,t.type,e))}}function _P(t){zo?Wo?Wo.push(t):Wo=[t]:zo=t}function SP(){if(zo){var t=zo,e=Wo;if(Wo=zo=null,nN(t),e)for(t=0;t<e.length;t++)nN(e[t])}}function AP(t,e){return t(e)}function kP(){}var Vx=!1;function TP(t,e,r){if(Vx)return t(e,r);Vx=!0;try{return AP(t,e,r)}finally{Vx=!1,(zo!==null||Wo!==null)&&(kP(),SP())}}function Fu(t,e){var r=t.stateNode;if(r===null)return null;var n=Qp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var xv=!1;if(ki)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){xv=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{xv=!1}function e6(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var gu=!1,Qf=null,Jf=!1,yv=null,t6={onError:function(t){gu=!0,Qf=t}};function r6(t,e,r,n,i,a,o,l,c){gu=!1,Qf=null,e6.apply(t6,arguments)}function n6(t,e,r,n,i,a,o,l,c){if(r6.apply(this,arguments),gu){if(gu){var u=Qf;gu=!1,Qf=null}else throw Error(J(198));Jf||(Jf=!0,yv=u)}}function Ka(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function EP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iN(t){if(Ka(t)!==t)throw Error(J(188))}function i6(t){var e=t.alternate;if(!e){if(e=Ka(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return iN(i),t;if(a===n)return iN(i),e;a=a.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function PP(t){return t=i6(t),t!==null?IP(t):null}function IP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IP(t);if(e!==null)return e;t=t.sibling}return null}var CP=Gr.unstable_scheduleCallback,sN=Gr.unstable_cancelCallback,s6=Gr.unstable_shouldYield,a6=Gr.unstable_requestPaint,Nt=Gr.unstable_now,o6=Gr.unstable_getCurrentPriorityLevel,fw=Gr.unstable_ImmediatePriority,OP=Gr.unstable_UserBlockingPriority,Zf=Gr.unstable_NormalPriority,l6=Gr.unstable_LowPriority,MP=Gr.unstable_IdlePriority,Gp=null,Wn=null;function c6(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Gp,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:h6,u6=Math.log,d6=Math.LN2;function h6(t){return t>>>=0,t===0?32:31-(u6(t)/d6|0)|0}var Wh=64,Hh=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function em(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=su(l):(a&=o,a!==0&&(n=su(a)))}else o=r&~i,o!==0?n=su(o):a!==0&&(n=su(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Pn(e),i=1<<r,n|=t[r],e&=~i;return n}function f6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m6(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Pn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=f6(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DP(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Fx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=r}function p6(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Pn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function mw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Pn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function RP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LP,pw,$P,VP,FP,bv=!1,qh=[],vs=null,bs=null,ws=null,Bu=new Map,Uu=new Map,os=[],g6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aN(t,e){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":Bu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(e.pointerId)}}function Lc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=th(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function x6(t,e,r,n,i){switch(e){case"focusin":return vs=Lc(vs,t,e,r,n,i),!0;case"dragenter":return bs=Lc(bs,t,e,r,n,i),!0;case"mouseover":return ws=Lc(ws,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Bu.set(a,Lc(Bu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Uu.set(a,Lc(Uu.get(a)||null,t,e,r,n,i)),!0}return!1}function BP(t){var e=ga(t.target);if(e!==null){var r=Ka(e);if(r!==null){if(e=r.tag,e===13){if(e=EP(r),e!==null){t.blockedOn=e,FP(t.priority,function(){$P(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=wv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pv=n,r.target.dispatchEvent(n),pv=null}else return e=th(r),e!==null&&pw(e),t.blockedOn=r,!1;e.shift()}return!0}function oN(t,e,r){Tf(t)&&r.delete(e)}function y6(){bv=!1,vs!==null&&Tf(vs)&&(vs=null),bs!==null&&Tf(bs)&&(bs=null),ws!==null&&Tf(ws)&&(ws=null),Bu.forEach(oN),Uu.forEach(oN)}function $c(t,e){t.blockedOn===e&&(t.blockedOn=null,bv||(bv=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,y6)))}function zu(t){function e(i){return $c(i,t)}if(0<qh.length){$c(qh[0],t);for(var r=1;r<qh.length;r++){var n=qh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vs!==null&&$c(vs,t),bs!==null&&$c(bs,t),ws!==null&&$c(ws,t),Bu.forEach(e),Uu.forEach(e),r=0;r<os.length;r++)n=os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<os.length&&(r=os[0],r.blockedOn===null);)BP(r),r.blockedOn===null&&os.shift()}var Ho=Vi.ReactCurrentBatchConfig,tm=!0;function v6(t,e,r,n){var i=Be,a=Ho.transition;Ho.transition=null;try{Be=1,gw(t,e,r,n)}finally{Be=i,Ho.transition=a}}function b6(t,e,r,n){var i=Be,a=Ho.transition;Ho.transition=null;try{Be=4,gw(t,e,r,n)}finally{Be=i,Ho.transition=a}}function gw(t,e,r,n){if(tm){var i=wv(t,e,r,n);if(i===null)Xx(t,e,n,rm,r),aN(t,n);else if(x6(i,t,e,r,n))n.stopPropagation();else if(aN(t,n),e&4&&-1<g6.indexOf(t)){for(;i!==null;){var a=th(i);if(a!==null&&LP(a),a=wv(t,e,r,n),a===null&&Xx(t,e,n,rm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Xx(t,e,n,null,r)}}var rm=null;function wv(t,e,r,n){if(rm=null,t=hw(n),t=ga(t),t!==null)if(e=Ka(t),e===null)t=null;else if(r=e.tag,r===13){if(t=EP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rm=t,null}function UP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o6()){case fw:return 1;case OP:return 4;case Zf:case l6:return 16;case MP:return 536870912;default:return 16}default:return 16}}var ms=null,xw=null,Ef=null;function zP(){if(Ef)return Ef;var t,e=xw,r=e.length,n,i="value"in ms?ms.value:ms.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Ef=i.slice(t,1<n?1-n:void 0)}function Pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gh(){return!0}function lN(){return!1}function Xr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gh:lN,this.isPropagationStopped=lN,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),e}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=Xr(Hl),eh=gt({},Hl,{view:0,detail:0}),w6=Xr(eh),Bx,Ux,Vc,Kp=gt({},eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vc&&(Vc&&t.type==="mousemove"?(Bx=t.screenX-Vc.screenX,Ux=t.screenY-Vc.screenY):Ux=Bx=0,Vc=t),Bx)},movementY:function(t){return"movementY"in t?t.movementY:Ux}}),cN=Xr(Kp),j6=gt({},Kp,{dataTransfer:0}),N6=Xr(j6),_6=gt({},eh,{relatedTarget:0}),zx=Xr(_6),S6=gt({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),A6=Xr(S6),k6=gt({},Hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T6=Xr(k6),E6=gt({},Hl,{data:0}),uN=Xr(E6),P6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C6[t])?!!e[t]:!1}function vw(){return O6}var M6=gt({},eh,{key:function(t){if(t.key){var e=P6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(t){return t.type==="keypress"?Pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D6=Xr(M6),R6=gt({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dN=Xr(R6),L6=gt({},eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),$6=Xr(L6),V6=gt({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),F6=Xr(V6),B6=gt({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=Xr(B6),z6=[9,13,27,32],bw=ki&&"CompositionEvent"in window,xu=null;ki&&"documentMode"in document&&(xu=document.documentMode);var W6=ki&&"TextEvent"in window&&!xu,WP=ki&&(!bw||xu&&8<xu&&11>=xu),hN=" ",fN=!1;function HP(t,e){switch(t){case"keyup":return z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function H6(t,e){switch(t){case"compositionend":return qP(e);case"keypress":return e.which!==32?null:(fN=!0,hN);case"textInput":return t=e.data,t===hN&&fN?null:t;default:return null}}function q6(t,e){if(Ao)return t==="compositionend"||!bw&&HP(t,e)?(t=zP(),Ef=xw=ms=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WP&&e.locale!=="ko"?null:e.data;default:return null}}var G6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G6[t.type]:e==="textarea"}function GP(t,e,r,n){_P(n),e=nm(e,"onChange"),0<e.length&&(r=new yw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yu=null,Wu=null;function K6(t){iI(t,0)}function Yp(t){var e=Eo(t);if(xP(e))return t}function Y6(t,e){if(t==="change")return e}var KP=!1;if(ki){var Wx;if(ki){var Hx="oninput"in document;if(!Hx){var pN=document.createElement("div");pN.setAttribute("oninput","return;"),Hx=typeof pN.oninput=="function"}Wx=Hx}else Wx=!1;KP=Wx&&(!document.documentMode||9<document.documentMode)}function gN(){yu&&(yu.detachEvent("onpropertychange",YP),Wu=yu=null)}function YP(t){if(t.propertyName==="value"&&Yp(Wu)){var e=[];GP(e,Wu,t,hw(t)),TP(K6,e)}}function X6(t,e,r){t==="focusin"?(gN(),yu=e,Wu=r,yu.attachEvent("onpropertychange",YP)):t==="focusout"&&gN()}function Q6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yp(Wu)}function J6(t,e){if(t==="click")return Yp(e)}function Z6(t,e){if(t==="input"||t==="change")return Yp(e)}function eL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:eL;function Hu(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!nv.call(e,i)||!On(t[i],e[i]))return!1}return!0}function xN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yN(t,e){var r=xN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xN(r)}}function XP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QP(){for(var t=window,e=Xf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Xf(t.document)}return e}function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tL(t){var e=QP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&XP(r.ownerDocument.documentElement,r)){if(n!==null&&ww(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=yN(r,a);var o=yN(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rL=ki&&"documentMode"in document&&11>=document.documentMode,ko=null,jv=null,vu=null,Nv=!1;function vN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nv||ko==null||ko!==Xf(n)||(n=ko,"selectionStart"in n&&ww(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vu&&Hu(vu,n)||(vu=n,n=nm(jv,"onSelect"),0<n.length&&(e=new yw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ko)))}function Kh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var To={animationend:Kh("Animation","AnimationEnd"),animationiteration:Kh("Animation","AnimationIteration"),animationstart:Kh("Animation","AnimationStart"),transitionend:Kh("Transition","TransitionEnd")},qx={},JP={};ki&&(JP=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Xp(t){if(qx[t])return qx[t];if(!To[t])return t;var e=To[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in JP)return qx[t]=e[r];return t}var ZP=Xp("animationend"),eI=Xp("animationiteration"),tI=Xp("animationstart"),rI=Xp("transitionend"),nI=new Map,bN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){nI.set(t,e),Ga(e,[t])}for(var Gx=0;Gx<bN.length;Gx++){var Kx=bN[Gx],nL=Kx.toLowerCase(),iL=Kx[0].toUpperCase()+Kx.slice(1);zs(nL,"on"+iL)}zs(ZP,"onAnimationEnd");zs(eI,"onAnimationIteration");zs(tI,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(rI,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sL=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function wN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,n6(n,e,void 0,t),t.currentTarget=null}function iI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;wN(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;wN(i,l,u),a=c}}}if(Jf)throw t=yv,Jf=!1,yv=null,t}function rt(t,e){var r=e[Tv];r===void 0&&(r=e[Tv]=new Set);var n=t+"__bubble";r.has(n)||(sI(e,t,2,!1),r.add(n))}function Yx(t,e,r){var n=0;e&&(n|=4),sI(r,t,n,e)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function qu(t){if(!t[Yh]){t[Yh]=!0,hP.forEach(function(r){r!=="selectionchange"&&(sL.has(r)||Yx(r,!1,t),Yx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yh]||(e[Yh]=!0,Yx("selectionchange",!1,e))}}function sI(t,e,r,n){switch(UP(e)){case 1:var i=v6;break;case 4:i=b6;break;default:i=gw}r=i.bind(null,e,r,t),i=void 0,!xv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Xx(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ga(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}TP(function(){var u=a,d=hw(r),h=[];e:{var f=nI.get(t);if(f!==void 0){var p=yw,v=t;switch(t){case"keypress":if(Pf(r)===0)break e;case"keydown":case"keyup":p=D6;break;case"focusin":v="focus",p=zx;break;case"focusout":v="blur",p=zx;break;case"beforeblur":case"afterblur":p=zx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=N6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$6;break;case ZP:case eI:case tI:p=A6;break;case rI:p=F6;break;case"scroll":p=w6;break;case"wheel":p=U6;break;case"copy":case"cut":case"paste":p=T6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dN}var b=(e&4)!==0,x=!b&&t==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var y=u,w;y!==null;){w=y;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,g!==null&&(A=Fu(y,g),A!=null&&b.push(Gu(y,A,w)))),x)break;y=y.return}0<b.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==pv&&(v=r.relatedTarget||r.fromElement)&&(ga(v)||v[Ti]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ga(v):null,v!==null&&(x=Ka(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=cN,A="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=dN,A="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?f:Eo(p),w=v==null?f:Eo(v),f=new b(A,y+"leave",p,r,d),f.target=x,f.relatedTarget=w,A=null,ga(d)===u&&(b=new b(g,y+"enter",v,r,d),b.target=w,b.relatedTarget=x,A=b),x=A,p&&v)t:{for(b=p,g=v,y=0,w=b;w;w=ho(w))y++;for(w=0,A=g;A;A=ho(A))w++;for(;0<y-w;)b=ho(b),y--;for(;0<w-y;)g=ho(g),w--;for(;y--;){if(b===g||g!==null&&b===g.alternate)break t;b=ho(b),g=ho(g)}b=null}else b=null;p!==null&&jN(h,f,p,b,!1),v!==null&&x!==null&&jN(h,x,v,b,!0)}}e:{if(f=u?Eo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=Y6;else if(mN(f))if(KP)j=Z6;else{j=Q6;var k=X6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=J6);if(j&&(j=j(t,u))){GP(h,j,r,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&uv(f,"number",f.value)}switch(k=u?Eo(u):window,t){case"focusin":(mN(k)||k.contentEditable==="true")&&(ko=k,jv=u,vu=null);break;case"focusout":vu=jv=ko=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,vN(h,r,d);break;case"selectionchange":if(rL)break;case"keydown":case"keyup":vN(h,r,d)}var S;if(bw)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ao?HP(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(WP&&r.locale!=="ko"&&(Ao||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ao&&(S=zP()):(ms=d,xw="value"in ms?ms.value:ms.textContent,Ao=!0)),k=nm(u,N),0<k.length&&(N=new uN(N,t,null,r,d),h.push({event:N,listeners:k}),S?N.data=S:(S=qP(r),S!==null&&(N.data=S)))),(S=W6?H6(t,r):q6(t,r))&&(u=nm(u,"onBeforeInput"),0<u.length&&(d=new uN("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}iI(h,e)})}function Gu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function nm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fu(t,r),a!=null&&n.unshift(Gu(t,a,i)),a=Fu(t,e),a!=null&&n.push(Gu(t,a,i))),t=t.return}return n}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jN(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Fu(r,a),c!=null&&o.unshift(Gu(r,c,l))):i||(c=Fu(r,a),c!=null&&o.push(Gu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var aL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function NN(t){return(typeof t=="string"?t:""+t).replace(aL,`
`).replace(oL,"")}function Xh(t,e,r){if(e=NN(e),NN(t)!==e&&r)throw Error(J(425))}function im(){}var _v=null,Sv=null;function Av(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kv=typeof setTimeout=="function"?setTimeout:void 0,lL=typeof clearTimeout=="function"?clearTimeout:void 0,_N=typeof Promise=="function"?Promise:void 0,cL=typeof queueMicrotask=="function"?queueMicrotask:typeof _N<"u"?function(t){return _N.resolve(null).then(t).catch(uL)}:kv;function uL(t){setTimeout(function(){throw t})}function Qx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),zu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);zu(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function SN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Un="__reactFiber$"+ql,Ku="__reactProps$"+ql,Ti="__reactContainer$"+ql,Tv="__reactEvents$"+ql,dL="__reactListeners$"+ql,hL="__reactHandles$"+ql;function ga(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ti]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=SN(t);t!==null;){if(r=t[Un])return r;t=SN(t)}return e}t=r,r=t.parentNode}return null}function th(t){return t=t[Un]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Qp(t){return t[Ku]||null}var Ev=[],Po=-1;function Ws(t){return{current:t}}function ot(t){0>Po||(t.current=Ev[Po],Ev[Po]=null,Po--)}function Qe(t,e){Po++,Ev[Po]=t.current,t.current=e}var Rs={},gr=Ws(Rs),Cr=Ws(!1),Ea=Rs;function nl(t,e){var r=t.type.contextTypes;if(!r)return Rs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function sm(){ot(Cr),ot(gr)}function AN(t,e,r){if(gr.current!==Rs)throw Error(J(168));Qe(gr,e),Qe(Cr,r)}function aI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,X5(t)||"Unknown",i));return gt({},r,n)}function am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rs,Ea=gr.current,Qe(gr,t),Qe(Cr,Cr.current),!0}function kN(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=aI(t,e,Ea),n.__reactInternalMemoizedMergedChildContext=t,ot(Cr),ot(gr),Qe(gr,t)):ot(Cr),Qe(Cr,r)}var fi=null,Jp=!1,Jx=!1;function oI(t){fi===null?fi=[t]:fi.push(t)}function fL(t){Jp=!0,oI(t)}function Hs(){if(!Jx&&fi!==null){Jx=!0;var t=0,e=Be;try{var r=fi;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fi=null,Jp=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),CP(fw,Hs),i}finally{Be=e,Jx=!1}}return null}var Io=[],Co=0,om=null,lm=0,rn=[],nn=0,Pa=null,mi=1,pi="";function la(t,e){Io[Co++]=lm,Io[Co++]=om,om=t,lm=e}function lI(t,e,r){rn[nn++]=mi,rn[nn++]=pi,rn[nn++]=Pa,Pa=t;var n=mi;t=pi;var i=32-Pn(n)-1;n&=~(1<<i),r+=1;var a=32-Pn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,mi=1<<32-Pn(e)+i|r<<i|n,pi=a+t}else mi=1<<a|r<<i|n,pi=t}function jw(t){t.return!==null&&(la(t,1),lI(t,1,0))}function Nw(t){for(;t===om;)om=Io[--Co],Io[Co]=null,lm=Io[--Co],Io[Co]=null;for(;t===Pa;)Pa=rn[--nn],rn[nn]=null,pi=rn[--nn],rn[nn]=null,mi=rn[--nn],rn[nn]=null}var Wr=null,zr=null,lt=!1,An=null;function cI(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function TN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,zr=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pa!==null?{id:mi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wr=t,zr=null,!0):!1;default:return!1}}function Pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(lt){var e=zr;if(e){var r=e;if(!TN(t,e)){if(Pv(t))throw Error(J(418));e=js(r.nextSibling);var n=Wr;e&&TN(t,e)?cI(n,r):(t.flags=t.flags&-4097|2,lt=!1,Wr=t)}}else{if(Pv(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,Wr=t}}}function EN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Qh(t){if(t!==Wr)return!1;if(!lt)return EN(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Av(t.type,t.memoizedProps)),e&&(e=zr)){if(Pv(t))throw uI(),Error(J(418));for(;e;)cI(t,e),e=js(e.nextSibling)}if(EN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=js(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Wr?js(t.stateNode.nextSibling):null;return!0}function uI(){for(var t=zr;t;)t=js(t.nextSibling)}function il(){zr=Wr=null,lt=!1}function _w(t){An===null?An=[t]:An.push(t)}var mL=Vi.ReactCurrentBatchConfig;function Fc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PN(t){var e=t._init;return e(t._payload)}function dI(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=As(g,y),g.index=0,g.sibling=null,g}function a(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,y,w,A){return y===null||y.tag!==6?(y=sy(w,g.mode,A),y.return=g,y):(y=i(y,w),y.return=g,y)}function c(g,y,w,A){var j=w.type;return j===So?d(g,y,w.props.children,A,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===is&&PN(j)===y.type)?(A=i(y,w.props),A.ref=Fc(g,y,w),A.return=g,A):(A=Lf(w.type,w.key,w.props,null,g.mode,A),A.ref=Fc(g,y,w),A.return=g,A)}function u(g,y,w,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=ay(w,g.mode,A),y.return=g,y):(y=i(y,w.children||[]),y.return=g,y)}function d(g,y,w,A,j){return y===null||y.tag!==7?(y=Sa(w,g.mode,A,j),y.return=g,y):(y=i(y,w),y.return=g,y)}function h(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sy(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bh:return w=Lf(y.type,y.key,y.props,null,g.mode,w),w.ref=Fc(g,null,y),w.return=g,w;case _o:return y=ay(y,g.mode,w),y.return=g,y;case is:var A=y._init;return h(g,A(y._payload),w)}if(iu(y)||Dc(y))return y=Sa(y,g.mode,w,null),y.return=g,y;Jh(g,y)}return null}function f(g,y,w,A){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(g,y,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bh:return w.key===j?c(g,y,w,A):null;case _o:return w.key===j?u(g,y,w,A):null;case is:return j=w._init,f(g,y,j(w._payload),A)}if(iu(w)||Dc(w))return j!==null?null:d(g,y,w,A,null);Jh(g,w)}return null}function p(g,y,w,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return g=g.get(w)||null,l(y,g,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Bh:return g=g.get(A.key===null?w:A.key)||null,c(y,g,A,j);case _o:return g=g.get(A.key===null?w:A.key)||null,u(y,g,A,j);case is:var k=A._init;return p(g,y,w,k(A._payload),j)}if(iu(A)||Dc(A))return g=g.get(w)||null,d(y,g,A,j,null);Jh(y,A)}return null}function v(g,y,w,A){for(var j=null,k=null,S=y,N=y=0,T=null;S!==null&&N<w.length;N++){S.index>N?(T=S,S=null):T=S.sibling;var O=f(g,S,w[N],A);if(O===null){S===null&&(S=T);break}t&&S&&O.alternate===null&&e(g,S),y=a(O,y,N),k===null?j=O:k.sibling=O,k=O,S=T}if(N===w.length)return r(g,S),lt&&la(g,N),j;if(S===null){for(;N<w.length;N++)S=h(g,w[N],A),S!==null&&(y=a(S,y,N),k===null?j=S:k.sibling=S,k=S);return lt&&la(g,N),j}for(S=n(g,S);N<w.length;N++)T=p(S,g,N,w[N],A),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?N:T.key),y=a(T,y,N),k===null?j=T:k.sibling=T,k=T);return t&&S.forEach(function(I){return e(g,I)}),lt&&la(g,N),j}function b(g,y,w,A){var j=Dc(w);if(typeof j!="function")throw Error(J(150));if(w=j.call(w),w==null)throw Error(J(151));for(var k=j=null,S=y,N=y=0,T=null,O=w.next();S!==null&&!O.done;N++,O=w.next()){S.index>N?(T=S,S=null):T=S.sibling;var I=f(g,S,O.value,A);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(g,S),y=a(I,y,N),k===null?j=I:k.sibling=I,k=I,S=T}if(O.done)return r(g,S),lt&&la(g,N),j;if(S===null){for(;!O.done;N++,O=w.next())O=h(g,O.value,A),O!==null&&(y=a(O,y,N),k===null?j=O:k.sibling=O,k=O);return lt&&la(g,N),j}for(S=n(g,S);!O.done;N++,O=w.next())O=p(S,g,N,O.value,A),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?N:O.key),y=a(O,y,N),k===null?j=O:k.sibling=O,k=O);return t&&S.forEach(function(M){return e(g,M)}),lt&&la(g,N),j}function x(g,y,w,A){if(typeof w=="object"&&w!==null&&w.type===So&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bh:e:{for(var j=w.key,k=y;k!==null;){if(k.key===j){if(j=w.type,j===So){if(k.tag===7){r(g,k.sibling),y=i(k,w.props.children),y.return=g,g=y;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===is&&PN(j)===k.type){r(g,k.sibling),y=i(k,w.props),y.ref=Fc(g,k,w),y.return=g,g=y;break e}r(g,k);break}else e(g,k);k=k.sibling}w.type===So?(y=Sa(w.props.children,g.mode,A,w.key),y.return=g,g=y):(A=Lf(w.type,w.key,w.props,null,g.mode,A),A.ref=Fc(g,y,w),A.return=g,g=A)}return o(g);case _o:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(g,y.sibling),y=i(y,w.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=ay(w,g.mode,A),y.return=g,g=y}return o(g);case is:return k=w._init,x(g,y,k(w._payload),A)}if(iu(w))return v(g,y,w,A);if(Dc(w))return b(g,y,w,A);Jh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(g,y.sibling),y=i(y,w),y.return=g,g=y):(r(g,y),y=sy(w,g.mode,A),y.return=g,g=y),o(g)):r(g,y)}return x}var sl=dI(!0),hI=dI(!1),cm=Ws(null),um=null,Oo=null,Sw=null;function Aw(){Sw=Oo=um=null}function kw(t){var e=cm.current;ot(cm),t._currentValue=e}function Cv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function qo(t,e){um=t,Sw=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Sw!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(um===null)throw Error(J(308));Oo=t,um.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var xa=null;function Tw(t){xa===null?xa=[t]:xa.push(t)}function fI(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Tw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ei(t,n)}function Ei(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ss=!1;function Ew(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ei(t,r)}return i=n.interleaved,i===null?(e.next=e,Tw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ei(t,r)}function If(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mw(t,r)}}function IN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function dm(t,e,r,n){var i=t.updateQueue;ss=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,b=l;switch(f=e,p=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=gt({},h,f);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ca|=o,t.lanes=o,t.memoizedState=h}}function CN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var rh={},Hn=Ws(rh),Yu=Ws(rh),Xu=Ws(rh);function ya(t){if(t===rh)throw Error(J(174));return t}function Pw(t,e){switch(Qe(Xu,e),Qe(Yu,t),Qe(Hn,rh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hv(e,t)}ot(Hn),Qe(Hn,e)}function al(){ot(Hn),ot(Yu),ot(Xu)}function pI(t){ya(Xu.current);var e=ya(Hn.current),r=hv(e,t.type);e!==r&&(Qe(Yu,t),Qe(Hn,r))}function Iw(t){Yu.current===t&&(ot(Hn),ot(Yu))}var ht=Ws(0);function hm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zx=[];function Cw(){for(var t=0;t<Zx.length;t++)Zx[t]._workInProgressVersionPrimary=null;Zx.length=0}var Cf=Vi.ReactCurrentDispatcher,ey=Vi.ReactCurrentBatchConfig,Ia=0,pt=null,Mt=null,qt=null,fm=!1,bu=!1,Qu=0,pL=0;function or(){throw Error(J(321))}function Ow(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!On(t[r],e[r]))return!1;return!0}function Mw(t,e,r,n,i,a){if(Ia=a,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cf.current=t===null||t.memoizedState===null?vL:bL,t=r(n,i),bu){a=0;do{if(bu=!1,Qu=0,25<=a)throw Error(J(301));a+=1,qt=Mt=null,e.updateQueue=null,Cf.current=wL,t=r(n,i)}while(bu)}if(Cf.current=mm,e=Mt!==null&&Mt.next!==null,Ia=0,qt=Mt=pt=null,fm=!1,e)throw Error(J(300));return t}function Dw(){var t=Qu!==0;return Qu=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?pt.memoizedState=qt=t:qt=qt.next=t,qt}function fn(){if(Mt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=qt===null?pt.memoizedState:qt.next;if(e!==null)qt=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},qt===null?pt.memoizedState=qt=t:qt=qt.next=t}return qt}function Ju(t,e){return typeof e=="function"?e(t):e}function ty(t){var e=fn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,pt.lanes|=d,Ca|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,On(n,e.memoizedState)||(Pr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,pt.lanes|=a,Ca|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ry(t){var e=fn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);On(a,e.memoizedState)||(Pr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function gI(){}function xI(t,e){var r=pt,n=fn(),i=e(),a=!On(n.memoizedState,i);if(a&&(n.memoizedState=i,Pr=!0),n=n.queue,Rw(bI.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Zu(9,vI.bind(null,r,n,i,e),void 0,null),Yt===null)throw Error(J(349));Ia&30||yI(r,e,i)}return i}function yI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function vI(t,e,r,n){e.value=r,e.getSnapshot=n,wI(e)&&jI(t)}function bI(t,e,r){return r(function(){wI(e)&&jI(t)})}function wI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!On(t,r)}catch{return!0}}function jI(t){var e=Ei(t,1);e!==null&&In(e,t,1,-1)}function ON(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:t},e.queue=t,t=t.dispatch=yL.bind(null,pt,t),[e.memoizedState,t]}function Zu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function NI(){return fn().memoizedState}function Of(t,e,r,n){var i=Fn();pt.flags|=t,i.memoizedState=Zu(1|e,r,void 0,n===void 0?null:n)}function Zp(t,e,r,n){var i=fn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&Ow(n,o.deps)){i.memoizedState=Zu(e,r,a,n);return}}pt.flags|=t,i.memoizedState=Zu(1|e,r,a,n)}function MN(t,e){return Of(8390656,8,t,e)}function Rw(t,e){return Zp(2048,8,t,e)}function _I(t,e){return Zp(4,2,t,e)}function SI(t,e){return Zp(4,4,t,e)}function AI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kI(t,e,r){return r=r!=null?r.concat([t]):null,Zp(4,4,AI.bind(null,e,t),r)}function Lw(){}function TI(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ow(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function EI(t,e){var r=fn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ow(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function PI(t,e,r){return Ia&21?(On(r,e)||(r=DP(),pt.lanes|=r,Ca|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=r)}function gL(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=ey.transition;ey.transition={};try{t(!1),e()}finally{Be=r,ey.transition=n}}function II(){return fn().memoizedState}function xL(t,e,r){var n=Ss(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},CI(t))OI(e,r);else if(r=fI(t,e,r,n),r!==null){var i=_r();In(r,t,n,i),MI(r,e,n)}}function yL(t,e,r){var n=Ss(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(CI(t))OI(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,On(l,o)){var c=e.interleaved;c===null?(i.next=i,Tw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=fI(t,e,i,n),r!==null&&(i=_r(),In(r,t,n,i),MI(r,e,n))}}function CI(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function OI(t,e){bu=fm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function MI(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mw(t,r)}}var mm={readContext:hn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},vL={readContext:hn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:MN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Of(4194308,4,AI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Of(4194308,4,t,e)},useInsertionEffect:function(t,e){return Of(4,2,t,e)},useMemo:function(t,e){var r=Fn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xL.bind(null,pt,t),[n.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:ON,useDebugValue:Lw,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=ON(!1),e=t[0];return t=gL.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pt,i=Fn();if(lt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Yt===null)throw Error(J(349));Ia&30||yI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,MN(bI.bind(null,n,a,t),[t]),n.flags|=2048,Zu(9,vI.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Fn(),e=Yt.identifierPrefix;if(lt){var r=pi,n=mi;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Qu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=pL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bL={readContext:hn,useCallback:TI,useContext:hn,useEffect:Rw,useImperativeHandle:kI,useInsertionEffect:_I,useLayoutEffect:SI,useMemo:EI,useReducer:ty,useRef:NI,useState:function(){return ty(Ju)},useDebugValue:Lw,useDeferredValue:function(t){var e=fn();return PI(e,Mt.memoizedState,t)},useTransition:function(){var t=ty(Ju)[0],e=fn().memoizedState;return[t,e]},useMutableSource:gI,useSyncExternalStore:xI,useId:II,unstable_isNewReconciler:!1},wL={readContext:hn,useCallback:TI,useContext:hn,useEffect:Rw,useImperativeHandle:kI,useInsertionEffect:_I,useLayoutEffect:SI,useMemo:EI,useReducer:ry,useRef:NI,useState:function(){return ry(Ju)},useDebugValue:Lw,useDeferredValue:function(t){var e=fn();return Mt===null?e.memoizedState=t:PI(e,Mt.memoizedState,t)},useTransition:function(){var t=ry(Ju)[0],e=fn().memoizedState;return[t,e]},useMutableSource:gI,useSyncExternalStore:xI,useId:II,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ov(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eg={isMounted:function(t){return(t=t._reactInternals)?Ka(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_r(),i=Ss(t),a=wi(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ns(t,a,i),e!==null&&(In(e,t,i,n),If(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_r(),i=Ss(t),a=wi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ns(t,a,i),e!==null&&(In(e,t,i,n),If(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_r(),n=Ss(t),i=wi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ns(t,i,n),e!==null&&(In(e,t,n,r),If(e,t,n))}};function DN(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Hu(r,n)||!Hu(i,a):!0}function DI(t,e,r){var n=!1,i=Rs,a=e.contextType;return typeof a=="object"&&a!==null?a=hn(a):(i=Or(e)?Ea:gr.current,n=e.contextTypes,a=(n=n!=null)?nl(t,i):Rs),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function RN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&eg.enqueueReplaceState(e,e.state,null)}function Mv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ew(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=hn(a):(a=Or(e)?Ea:gr.current,i.context=nl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ov(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eg.enqueueReplaceState(i,i.state,null),dm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e){try{var r="",n=e;do r+=Y5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ny(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jL=typeof WeakMap=="function"?WeakMap:Map;function RI(t,e,r){r=wi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){gm||(gm=!0,Hv=n),Dv(t,e)},r}function LI(t,e,r){r=wi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Dv(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Dv(t,e),typeof n!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function LN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RL.bind(null,t,e,r),e.then(t,t))}function $N(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wi(-1,1),e.tag=2,Ns(r,e,1))),r.lanes|=1),t)}var NL=Vi.ReactCurrentOwner,Pr=!1;function br(t,e,r,n){e.child=t===null?hI(e,null,r,n):sl(e,t.child,r,n)}function FN(t,e,r,n,i){r=r.render;var a=e.ref;return qo(e,i),n=Mw(t,e,r,n,a,i),r=Dw(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(lt&&r&&jw(e),e.flags|=1,br(t,e,n,i),e.child)}function BN(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Hw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,$I(t,e,a,n,i)):(t=Lf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Hu,r(o,n)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=As(a,n),t.ref=e.ref,t.return=e,e.child=t}function $I(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Hu(a,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return Rv(t,e,r,n,i)}function VI(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Do,Vr),Vr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Do,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qe(Do,Vr),Vr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Qe(Do,Vr),Vr|=n;return br(t,e,i,r),e.child}function FI(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rv(t,e,r,n,i){var a=Or(r)?Ea:gr.current;return a=nl(e,a),qo(e,i),r=Mw(t,e,r,n,a,i),n=Dw(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(lt&&n&&jw(e),e.flags|=1,br(t,e,r,i),e.child)}function UN(t,e,r,n,i){if(Or(r)){var a=!0;am(e)}else a=!1;if(qo(e,i),e.stateNode===null)Mf(t,e),DI(e,r,n),Mv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Or(r)?Ea:gr.current,u=nl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&RN(e,o,n,u),ss=!1;var f=e.memoizedState;o.state=f,dm(e,n,o,i),c=e.memoizedState,l!==n||f!==c||Cr.current||ss?(typeof d=="function"&&(Ov(e,r,d,n),c=e.memoizedState),(l=ss||DN(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,mI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:jn(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hn(c):(c=Or(r)?Ea:gr.current,c=nl(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&RN(e,o,n,c),ss=!1,f=e.memoizedState,o.state=f,dm(e,n,o,i);var v=e.memoizedState;l!==h||f!==v||Cr.current||ss?(typeof p=="function"&&(Ov(e,r,p,n),v=e.memoizedState),(u=ss||DN(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Lv(t,e,r,n,a,i)}function Lv(t,e,r,n,i,a){FI(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&kN(e,r,!1),Pi(t,e,a);n=e.stateNode,NL.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=sl(e,t.child,null,a),e.child=sl(e,null,l,a)):br(t,e,l,a),e.memoizedState=n.state,i&&kN(e,r,!0),e.child}function BI(t){var e=t.stateNode;e.pendingContext?AN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AN(t,e.context,!1),Pw(t,e.containerInfo)}function zN(t,e,r,n,i){return il(),_w(i),e.flags|=256,br(t,e,r,n),e.child}var $v={dehydrated:null,treeContext:null,retryLane:0};function Vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function UI(t,e,r){var n=e.pendingProps,i=ht.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(ht,i&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ng(o,n,0,null),t=Sa(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Vv(r),e.memoizedState=$v,t):$w(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _L(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=As(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=As(l,a):(a=Sa(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Vv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=$v,n}return a=t.child,t=a.sibling,n=As(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $w(t,e){return e=ng({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zh(t,e,r,n){return n!==null&&_w(n),sl(e,t.child,null,r),t=$w(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _L(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=ny(Error(J(422))),Zh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=ng({mode:"visible",children:n.children},i,0,null),a=Sa(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&sl(e,t.child,null,o),e.child.memoizedState=Vv(o),e.memoizedState=$v,a);if(!(e.mode&1))return Zh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(J(419)),n=ny(a,n,void 0),Zh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Pr||l){if(n=Yt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ei(t,i),In(n,t,i,-1))}return Ww(),n=ny(Error(J(421))),Zh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,zr=js(i.nextSibling),Wr=e,lt=!0,An=null,t!==null&&(rn[nn++]=mi,rn[nn++]=pi,rn[nn++]=Pa,mi=t.id,pi=t.overflow,Pa=e),e=$w(e,n.children),e.flags|=4096,e)}function WN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Cv(t.return,e,r)}function iy(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function zI(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(br(t,e,n.children,r),n=ht.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WN(t,r,e);else if(t.tag===19)WN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Qe(ht,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&hm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),iy(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}iy(e,!0,r,null,a);break;case"together":iy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ca|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=As(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=As(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function SL(t,e,r){switch(e.tag){case 3:BI(e),il();break;case 5:pI(e);break;case 1:Or(e.type)&&am(e);break;case 4:Pw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Qe(cm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ht,ht.current&1),e.flags|=128,null):r&e.child.childLanes?UI(t,e,r):(Qe(ht,ht.current&1),t=Pi(t,e,r),t!==null?t.sibling:null);Qe(ht,ht.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return zI(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ht,ht.current),n)break;return null;case 22:case 23:return e.lanes=0,VI(t,e,r)}return Pi(t,e,r)}var WI,Fv,HI,qI;WI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fv=function(){};HI=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ya(Hn.current);var a=null;switch(r){case"input":i=lv(t,i),n=lv(t,n),a=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":i=dv(t,i),n=dv(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=im)}fv(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($u.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($u.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};qI=function(t,e,r,n){r!==n&&(e.flags|=4)};function Bc(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function AL(t,e,r){var n=e.pendingProps;switch(Nw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(e),null;case 1:return Or(e.type)&&sm(),lr(e),null;case 3:return n=e.stateNode,al(),ot(Cr),ot(gr),Cw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Kv(An),An=null))),Fv(t,e),lr(e),null;case 5:Iw(e);var i=ya(Xu.current);if(r=e.type,t!==null&&e.stateNode!=null)HI(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return lr(e),null}if(t=ya(Hn.current),Qh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Un]=e,n[Ku]=a,t=(e.mode&1)!==0,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(i=0;i<au.length;i++)rt(au[i],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":Z2(n,a),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},rt("invalid",n);break;case"textarea":tN(n,a),rt("invalid",n)}fv(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Xh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Xh(n.textContent,l,t),i=["children",""+l]):$u.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rt("scroll",n)}switch(r){case"input":Uh(n),eN(n,a,!0);break;case"textarea":Uh(n),rN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=im)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Un]=e,t[Ku]=n,WI(t,e,!1,!1),e.stateNode=t;e:{switch(o=mv(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<au.length;i++)rt(au[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":Z2(t,n),i=lv(t,n),rt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),rt("invalid",t);break;case"textarea":tN(t,n),i=dv(t,n),rt("invalid",t);break;default:i=n}fv(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?NP(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wP(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vu(t,c):typeof c=="number"&&Vu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($u.hasOwnProperty(a)?c!=null&&a==="onScroll"&&rt("scroll",t):c!=null&&lw(t,a,c,o))}switch(r){case"input":Uh(t),eN(t,n,!1);break;case"textarea":Uh(t),rN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ds(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Uo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Uo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=im)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lr(e),null;case 6:if(t&&e.stateNode!=null)qI(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=ya(Xu.current),ya(Hn.current),Qh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Un]=e,(a=n.nodeValue!==r)&&(t=Wr,t!==null))switch(t.tag){case 3:Xh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n}return lr(e),null;case 13:if(ot(ht),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&zr!==null&&e.mode&1&&!(e.flags&128))uI(),il(),e.flags|=98560,a=!1;else if(a=Qh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Un]=e}else il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lr(e),a=!1}else An!==null&&(Kv(An),An=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Lt===0&&(Lt=3):Ww())),e.updateQueue!==null&&(e.flags|=4),lr(e),null);case 4:return al(),Fv(t,e),t===null&&qu(e.stateNode.containerInfo),lr(e),null;case 10:return kw(e.type._context),lr(e),null;case 17:return Or(e.type)&&sm(),lr(e),null;case 19:if(ot(ht),a=e.memoizedState,a===null)return lr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Bc(a,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hm(t),o!==null){for(e.flags|=128,Bc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Qe(ht,ht.current&1|2),e.child}t=t.sibling}a.tail!==null&&Nt()>ll&&(e.flags|=128,n=!0,Bc(a,!1),e.lanes=4194304)}else{if(!n)if(t=hm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Bc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!lt)return lr(e),null}else 2*Nt()-a.renderingStartTime>ll&&r!==1073741824&&(e.flags|=128,n=!0,Bc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Nt(),e.sibling=null,r=ht.current,Qe(ht,n?r&1|2:r&1),e):(lr(e),null);case 22:case 23:return zw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vr&1073741824&&(lr(e),e.subtreeFlags&6&&(e.flags|=8192)):lr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function kL(t,e){switch(Nw(e),e.tag){case 1:return Or(e.type)&&sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return al(),ot(Cr),ot(gr),Cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iw(e),null;case 13:if(ot(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ht),null;case 4:return al(),null;case 10:return kw(e.type._context),null;case 22:case 23:return zw(),null;case 24:return null;default:return null}}var ef=!1,hr=!1,TL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Mo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vt(t,e,n)}else r.current=null}function Bv(t,e,r){try{r()}catch(n){vt(t,e,n)}}var HN=!1;function EL(t,e){if(_v=tm,t=QP(),ww(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sv={focusedElem:t,selectionRange:r},tm=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:jn(e.type,b),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(A){vt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return v=HN,HN=!1,v}function wu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Bv(e,r,a)}i=i.next}while(i!==n)}}function tg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Uv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function GI(t){var e=t.alternate;e!==null&&(t.alternate=null,GI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Ku],delete e[Tv],delete e[dL],delete e[hL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KI(t){return t.tag===5||t.tag===3||t.tag===4}function qN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=im));else if(n!==4&&(t=t.child,t!==null))for(zv(t,e,r),t=t.sibling;t!==null;)zv(t,e,r),t=t.sibling}function Wv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wv(t,e,r),t=t.sibling;t!==null;)Wv(t,e,r),t=t.sibling}var er=null,Nn=!1;function Zi(t,e,r){for(r=r.child;r!==null;)YI(t,e,r),r=r.sibling}function YI(t,e,r){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Gp,r)}catch{}switch(r.tag){case 5:hr||Mo(r,e);case 6:var n=er,i=Nn;er=null,Zi(t,e,r),er=n,Nn=i,er!==null&&(Nn?(t=er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(Nn?(t=er,r=r.stateNode,t.nodeType===8?Qx(t.parentNode,r):t.nodeType===1&&Qx(t,r),zu(t)):Qx(er,r.stateNode));break;case 4:n=er,i=Nn,er=r.stateNode.containerInfo,Nn=!0,Zi(t,e,r),er=n,Nn=i;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bv(r,e,o),i=i.next}while(i!==n)}Zi(t,e,r);break;case 1:if(!hr&&(Mo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vt(r,e,l)}Zi(t,e,r);break;case 21:Zi(t,e,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,Zi(t,e,r),hr=n):Zi(t,e,r);break;default:Zi(t,e,r)}}function GN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TL),e.forEach(function(n){var i=$L.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:er=l.stateNode,Nn=!1;break e;case 3:er=l.stateNode.containerInfo,Nn=!0;break e;case 4:er=l.stateNode.containerInfo,Nn=!0;break e}l=l.return}if(er===null)throw Error(J(160));YI(a,o,i),er=null,Nn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XI(e,t),e=e.sibling}function XI(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Vn(t),n&4){try{wu(3,t,t.return),tg(3,t)}catch(b){vt(t,t.return,b)}try{wu(5,t,t.return)}catch(b){vt(t,t.return,b)}}break;case 1:bn(e,t),Vn(t),n&512&&r!==null&&Mo(r,r.return);break;case 5:if(bn(e,t),Vn(t),n&512&&r!==null&&Mo(r,r.return),t.flags&32){var i=t.stateNode;try{Vu(i,"")}catch(b){vt(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&yP(i,a),mv(l,o);var u=mv(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?NP(i,h):d==="dangerouslySetInnerHTML"?wP(i,h):d==="children"?Vu(i,h):lw(i,d,h,u)}switch(l){case"input":cv(i,a);break;case"textarea":vP(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Uo(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Uo(i,!!a.multiple,a.defaultValue,!0):Uo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ku]=a}catch(b){vt(t,t.return,b)}}break;case 6:if(bn(e,t),Vn(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(b){vt(t,t.return,b)}}break;case 3:if(bn(e,t),Vn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(b){vt(t,t.return,b)}break;case 4:bn(e,t),Vn(t);break;case 13:bn(e,t),Vn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Bw=Nt())),n&4&&GN(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(hr=(u=hr)||d,bn(e,t),hr=u):bn(e,t),Vn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(h=ie=d;ie!==null;){switch(f=ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:wu(4,f,f.return);break;case 1:Mo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){vt(n,r,b)}}break;case 5:Mo(f,f.return);break;case 22:if(f.memoizedState!==null){YN(h);continue}}p!==null?(p.return=f,ie=p):YN(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jP("display",o))}catch(b){vt(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){vt(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(e,t),Vn(t),n&4&&GN(t);break;case 21:break;default:bn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KI(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vu(i,""),n.flags&=-33);var a=qN(t);Wv(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=qN(t);zv(t,l,o);break;default:throw Error(J(161))}}catch(c){vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PL(t,e,r){ie=t,QI(t)}function QI(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ef;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=ef;var u=hr;if(ef=o,(hr=c)&&!u)for(ie=i;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?XN(i):c!==null?(c.return=o,ie=c):XN(i);for(;a!==null;)ie=a,QI(a),a=a.sibling;ie=i,ef=l,hr=u}KN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):KN(t)}}function KN(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||tg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:jn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&CN(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}CN(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}hr||e.flags&512&&Uv(e)}catch(f){vt(e,e.return,f)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function YN(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function XN(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{tg(4,e)}catch(c){vt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){vt(e,i,c)}}var a=e.return;try{Uv(e)}catch(c){vt(e,a,c)}break;case 5:var o=e.return;try{Uv(e)}catch(c){vt(e,o,c)}}}catch(c){vt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var IL=Math.ceil,pm=Vi.ReactCurrentDispatcher,Vw=Vi.ReactCurrentOwner,dn=Vi.ReactCurrentBatchConfig,Me=0,Yt=null,Tt=null,nr=0,Vr=0,Do=Ws(0),Lt=0,ed=null,Ca=0,rg=0,Fw=0,ju=null,Er=null,Bw=0,ll=1/0,di=null,gm=!1,Hv=null,_s=null,tf=!1,ps=null,xm=0,Nu=0,qv=null,Df=-1,Rf=0;function _r(){return Me&6?Nt():Df!==-1?Df:Df=Nt()}function Ss(t){return t.mode&1?Me&2&&nr!==0?nr&-nr:mL.transition!==null?(Rf===0&&(Rf=DP()),Rf):(t=Be,t!==0||(t=window.event,t=t===void 0?16:UP(t.type)),t):1}function In(t,e,r,n){if(50<Nu)throw Nu=0,qv=null,Error(J(185));Zd(t,r,n),(!(Me&2)||t!==Yt)&&(t===Yt&&(!(Me&2)&&(rg|=r),Lt===4&&ls(t,nr)),Mr(t,n),r===1&&Me===0&&!(e.mode&1)&&(ll=Nt()+500,Jp&&Hs()))}function Mr(t,e){var r=t.callbackNode;m6(t,e);var n=em(t,t===Yt?nr:0);if(n===0)r!==null&&sN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sN(r),e===1)t.tag===0?fL(QN.bind(null,t)):oI(QN.bind(null,t)),cL(function(){!(Me&6)&&Hs()}),r=null;else{switch(RP(n)){case 1:r=fw;break;case 4:r=OP;break;case 16:r=Zf;break;case 536870912:r=MP;break;default:r=Zf}r=sC(r,JI.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function JI(t,e){if(Df=-1,Rf=0,Me&6)throw Error(J(327));var r=t.callbackNode;if(Go()&&t.callbackNode!==r)return null;var n=em(t,t===Yt?nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ym(t,n);else{e=n;var i=Me;Me|=2;var a=eC();(Yt!==t||nr!==e)&&(di=null,ll=Nt()+500,_a(t,e));do try{ML();break}catch(l){ZI(t,l)}while(!0);Aw(),pm.current=a,Me=i,Tt!==null?e=0:(Yt=null,nr=0,e=Lt)}if(e!==0){if(e===2&&(i=vv(t),i!==0&&(n=i,e=Gv(t,i))),e===1)throw r=ed,_a(t,0),ls(t,n),Mr(t,Nt()),r;if(e===6)ls(t,n);else{if(i=t.current.alternate,!(n&30)&&!CL(i)&&(e=ym(t,n),e===2&&(a=vv(t),a!==0&&(n=a,e=Gv(t,a))),e===1))throw r=ed,_a(t,0),ls(t,n),Mr(t,Nt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:ca(t,Er,di);break;case 3:if(ls(t,n),(n&130023424)===n&&(e=Bw+500-Nt(),10<e)){if(em(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){_r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kv(ca.bind(null,t,Er,di),e);break}ca(t,Er,di);break;case 4:if(ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Pn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IL(n/1960))-n,10<n){t.timeoutHandle=kv(ca.bind(null,t,Er,di),n);break}ca(t,Er,di);break;case 5:ca(t,Er,di);break;default:throw Error(J(329))}}}return Mr(t,Nt()),t.callbackNode===r?JI.bind(null,t):null}function Gv(t,e){var r=ju;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=ym(t,e),t!==2&&(e=Er,Er=r,e!==null&&Kv(e)),t}function Kv(t){Er===null?Er=t:Er.push.apply(Er,t)}function CL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!On(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~Fw,e&=~rg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Pn(e),n=1<<r;t[r]=-1,e&=~n}}function QN(t){if(Me&6)throw Error(J(327));Go();var e=em(t,0);if(!(e&1))return Mr(t,Nt()),null;var r=ym(t,e);if(t.tag!==0&&r===2){var n=vv(t);n!==0&&(e=n,r=Gv(t,n))}if(r===1)throw r=ed,_a(t,0),ls(t,e),Mr(t,Nt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ca(t,Er,di),Mr(t,Nt()),null}function Uw(t,e){var r=Me;Me|=1;try{return t(e)}finally{Me=r,Me===0&&(ll=Nt()+500,Jp&&Hs())}}function Oa(t){ps!==null&&ps.tag===0&&!(Me&6)&&Go();var e=Me;Me|=1;var r=dn.transition,n=Be;try{if(dn.transition=null,Be=1,t)return t()}finally{Be=n,dn.transition=r,Me=e,!(Me&6)&&Hs()}}function zw(){Vr=Do.current,ot(Do)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lL(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(Nw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sm();break;case 3:al(),ot(Cr),ot(gr),Cw();break;case 5:Iw(n);break;case 4:al();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:kw(n.type._context);break;case 22:case 23:zw()}r=r.return}if(Yt=t,Tt=t=As(t.current,null),nr=Vr=e,Lt=0,ed=null,Fw=rg=Ca=0,Er=ju=null,xa!==null){for(e=0;e<xa.length;e++)if(r=xa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}xa=null}return t}function ZI(t,e){do{var r=Tt;try{if(Aw(),Cf.current=mm,fm){for(var n=pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fm=!1}if(Ia=0,qt=Mt=pt=null,bu=!1,Qu=0,Vw.current=null,r===null||r.return===null){Lt=1,ed=e,Tt=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=$N(o);if(p!==null){p.flags&=-257,VN(p,o,l,a,e),p.mode&1&&LN(a,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(c),e.updateQueue=b}else v.add(c);break e}else{if(!(e&1)){LN(a,u,e),Ww();break e}c=Error(J(426))}}else if(lt&&l.mode&1){var x=$N(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),VN(x,o,l,a,e),_w(ol(c,l));break e}}a=c=ol(c,l),Lt!==4&&(Lt=2),ju===null?ju=[a]:ju.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=RI(a,c,e);IN(a,g);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_s===null||!_s.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var A=LI(a,l,e);IN(a,A);break e}}a=a.return}while(a!==null)}rC(r)}catch(j){e=j,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(!0)}function eC(){var t=pm.current;return pm.current=mm,t===null?mm:t}function Ww(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Yt===null||!(Ca&268435455)&&!(rg&268435455)||ls(Yt,nr)}function ym(t,e){var r=Me;Me|=2;var n=eC();(Yt!==t||nr!==e)&&(di=null,_a(t,e));do try{OL();break}catch(i){ZI(t,i)}while(!0);if(Aw(),Me=r,pm.current=n,Tt!==null)throw Error(J(261));return Yt=null,nr=0,Lt}function OL(){for(;Tt!==null;)tC(Tt)}function ML(){for(;Tt!==null&&!s6();)tC(Tt)}function tC(t){var e=iC(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?rC(t):Tt=e,Vw.current=null}function rC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kL(r,e),r!==null){r.flags&=32767,Tt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Tt=null;return}}else if(r=AL(r,e,Vr),r!==null){Tt=r;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);Lt===0&&(Lt=5)}function ca(t,e,r){var n=Be,i=dn.transition;try{dn.transition=null,Be=1,DL(t,e,r,n)}finally{dn.transition=i,Be=n}return null}function DL(t,e,r,n){do Go();while(ps!==null);if(Me&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(p6(t,a),t===Yt&&(Tt=Yt=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tf||(tf=!0,sC(Zf,function(){return Go(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=dn.transition,dn.transition=null;var o=Be;Be=1;var l=Me;Me|=4,Vw.current=null,EL(t,r),XI(r,t),tL(Sv),tm=!!_v,Sv=_v=null,t.current=r,PL(r),a6(),Me=l,Be=o,dn.transition=a}else t.current=r;if(tf&&(tf=!1,ps=t,xm=i),a=t.pendingLanes,a===0&&(_s=null),c6(r.stateNode),Mr(t,Nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gm)throw gm=!1,t=Hv,Hv=null,t;return xm&1&&t.tag!==0&&Go(),a=t.pendingLanes,a&1?t===qv?Nu++:(Nu=0,qv=t):Nu=0,Hs(),null}function Go(){if(ps!==null){var t=RP(xm),e=dn.transition,r=Be;try{if(dn.transition=null,Be=16>t?16:t,ps===null)var n=!1;else{if(t=ps,ps=null,xm=0,Me&6)throw Error(J(331));var i=Me;for(Me|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:wu(8,d,a)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var f=d.sibling,p=d.return;if(GI(d),d===u){ie=null;break}if(f!==null){f.return=p,ie=f;break}ie=p}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:wu(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ie=g;break e}ie=a.return}}var y=t.current;for(ie=y;ie!==null;){o=ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ie=w;else e:for(o=y;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:tg(9,l)}}catch(j){vt(l,l.return,j)}if(l===o){ie=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,ie=A;break e}ie=l.return}}if(Me=i,Hs(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Gp,t)}catch{}n=!0}return n}finally{Be=r,dn.transition=e}}return!1}function JN(t,e,r){e=ol(r,e),e=RI(t,e,1),t=Ns(t,e,1),e=_r(),t!==null&&(Zd(t,1,e),Mr(t,e))}function vt(t,e,r){if(t.tag===3)JN(t,t,r);else for(;e!==null;){if(e.tag===3){JN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_s===null||!_s.has(n))){t=ol(r,t),t=LI(e,t,1),e=Ns(e,t,1),t=_r(),e!==null&&(Zd(e,1,t),Mr(e,t));break}}e=e.return}}function RL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_r(),t.pingedLanes|=t.suspendedLanes&r,Yt===t&&(nr&r)===r&&(Lt===4||Lt===3&&(nr&130023424)===nr&&500>Nt()-Bw?_a(t,0):Fw|=r),Mr(t,e)}function nC(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var r=_r();t=Ei(t,e),t!==null&&(Zd(t,e,r),Mr(t,r))}function LL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),nC(t,r)}function $L(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),nC(t,r)}var iC;iC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pr=!1,SL(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,lt&&e.flags&1048576&&lI(e,lm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Mf(t,e),t=e.pendingProps;var i=nl(e,gr.current);qo(e,r),i=Mw(null,e,n,t,i,r);var a=Dw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(a=!0,am(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ew(e),i.updater=eg,e.stateNode=i,i._reactInternals=e,Mv(e,n,t,r),e=Lv(null,e,n,!0,a,r)):(e.tag=0,lt&&a&&jw(e),br(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Mf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FL(n),t=jn(n,t),i){case 0:e=Rv(null,e,n,t,r);break e;case 1:e=UN(null,e,n,t,r);break e;case 11:e=FN(null,e,n,t,r);break e;case 14:e=BN(null,e,n,jn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jn(n,i),Rv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jn(n,i),UN(t,e,n,i,r);case 3:e:{if(BI(e),t===null)throw Error(J(387));n=e.pendingProps,a=e.memoizedState,i=a.element,mI(t,e),dm(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ol(Error(J(423)),e),e=zN(t,e,n,r,i);break e}else if(n!==i){i=ol(Error(J(424)),e),e=zN(t,e,n,r,i);break e}else for(zr=js(e.stateNode.containerInfo.firstChild),Wr=e,lt=!0,An=null,r=hI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(il(),n===i){e=Pi(t,e,r);break e}br(t,e,n,r)}e=e.child}return e;case 5:return pI(e),t===null&&Iv(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Av(n,i)?o=null:a!==null&&Av(n,a)&&(e.flags|=32),FI(t,e),br(t,e,o,r),e.child;case 6:return t===null&&Iv(e),null;case 13:return UI(t,e,r);case 4:return Pw(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sl(e,null,n,r):br(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jn(n,i),FN(t,e,n,i,r);case 7:return br(t,e,e.pendingProps,r),e.child;case 8:return br(t,e,e.pendingProps.children,r),e.child;case 12:return br(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Qe(cm,n._currentValue),n._currentValue=o,a!==null)if(On(a.value,o)){if(a.children===i.children&&!Cr.current){e=Pi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Cv(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Cv(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}br(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,qo(e,r),i=hn(i),n=n(i),e.flags|=1,br(t,e,n,r),e.child;case 14:return n=e.type,i=jn(n,e.pendingProps),i=jn(n.type,i),BN(t,e,n,i,r);case 15:return $I(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:jn(n,i),Mf(t,e),e.tag=1,Or(n)?(t=!0,am(e)):t=!1,qo(e,r),DI(e,n,i),Mv(e,n,i,r),Lv(null,e,n,!0,t,r);case 19:return zI(t,e,r);case 22:return VI(t,e,r)}throw Error(J(156,e.tag))};function sC(t,e){return CP(t,e)}function VL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new VL(t,e,r,n)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FL(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===dw)return 14}return 2}function As(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lf(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Hw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case So:return Sa(r.children,i,a,e);case cw:o=8,i|=8;break;case iv:return t=cn(12,r,e,i|2),t.elementType=iv,t.lanes=a,t;case sv:return t=cn(13,r,e,i),t.elementType=sv,t.lanes=a,t;case av:return t=cn(19,r,e,i),t.elementType=av,t.lanes=a,t;case pP:return ng(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fP:o=10;break e;case mP:o=9;break e;case uw:o=11;break e;case dw:o=14;break e;case is:o=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=cn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Sa(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function ng(t,e,r,n){return t=cn(22,t,n,e),t.elementType=pP,t.lanes=r,t.stateNode={isHidden:!1},t}function sy(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function ay(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qw(t,e,r,n,i,a,o,l,c){return t=new BL(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=cn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ew(a),t}function UL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function aC(t){if(!t)return Rs;t=t._reactInternals;e:{if(Ka(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Or(r))return aI(t,r,e)}return e}function oC(t,e,r,n,i,a,o,l,c){return t=qw(r,n,!0,t,i,a,o,l,c),t.context=aC(null),r=t.current,n=_r(),i=Ss(r),a=wi(n,i),a.callback=e??null,Ns(r,a,i),t.current.lanes=i,Zd(t,i,n),Mr(t,n),t}function ig(t,e,r,n){var i=e.current,a=_r(),o=Ss(i);return r=aC(r),e.context===null?e.context=r:e.pendingContext=r,e=wi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ns(i,e,o),t!==null&&(In(t,i,o,a),If(t,i,o)),o}function vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Gw(t,e){ZN(t,e),(t=t.alternate)&&ZN(t,e)}function zL(){return null}var lC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kw(t){this._internalRoot=t}sg.prototype.render=Kw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ig(t,e,null,null)};sg.prototype.unmount=Kw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oa(function(){ig(null,t,null,null)}),e[Ti]=null}};function sg(t){this._internalRoot=t}sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=VP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<os.length&&e!==0&&e<os[r].priority;r++);os.splice(r,0,t),r===0&&BP(t)}};function Yw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function WL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=vm(o);a.call(u)}}var o=oC(e,n,t,0,null,!1,!1,"",e_);return t._reactRootContainer=o,t[Ti]=o.current,qu(t.nodeType===8?t.parentNode:t),Oa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=vm(c);l.call(u)}}var c=qw(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=c,t[Ti]=c.current,qu(t.nodeType===8?t.parentNode:t),Oa(function(){ig(e,c,r,n)}),c}function og(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=vm(o);l.call(c)}}ig(e,o,t,i)}else o=WL(r,e,t,i,n);return vm(o)}LP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=su(e.pendingLanes);r!==0&&(mw(e,r|1),Mr(e,Nt()),!(Me&6)&&(ll=Nt()+500,Hs()))}break;case 13:Oa(function(){var n=Ei(t,1);if(n!==null){var i=_r();In(n,t,1,i)}}),Gw(t,1)}};pw=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var r=_r();In(e,t,134217728,r)}Gw(t,134217728)}};$P=function(t){if(t.tag===13){var e=Ss(t),r=Ei(t,e);if(r!==null){var n=_r();In(r,t,e,n)}Gw(t,e)}};VP=function(){return Be};FP=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};gv=function(t,e,r){switch(e){case"input":if(cv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Qp(n);if(!i)throw Error(J(90));xP(n),cv(n,i)}}}break;case"textarea":vP(t,r);break;case"select":e=r.value,e!=null&&Uo(t,!!r.multiple,e,!1)}};AP=Uw;kP=Oa;var HL={usingClientEntryPoint:!1,Events:[th,Eo,Qp,_P,SP,Uw]},Uc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qL={bundleType:Uc.bundleType,version:Uc.version,rendererPackageName:Uc.rendererPackageName,rendererConfig:Uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PP(t),t===null?null:t.stateNode},findFiberByHostInstance:Uc.findFiberByHostInstance||zL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{Gp=rf.inject(qL),Wn=rf}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HL;Yr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yw(e))throw Error(J(200));return UL(t,e,null,r)};Yr.createRoot=function(t,e){if(!Yw(t))throw Error(J(299));var r=!1,n="",i=lC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qw(t,1,!1,null,null,r,!1,n,i),t[Ti]=e.current,qu(t.nodeType===8?t.parentNode:t),new Kw(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=PP(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return Oa(t)};Yr.hydrate=function(t,e,r){if(!ag(e))throw Error(J(200));return og(null,t,e,!0,r)};Yr.hydrateRoot=function(t,e,r){if(!Yw(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=lC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=oC(e,null,t,1,r??null,i,!1,a,o),t[Ti]=e.current,qu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new sg(e)};Yr.render=function(t,e,r){if(!ag(e))throw Error(J(200));return og(null,t,e,!1,r)};Yr.unmountComponentAtNode=function(t){if(!ag(t))throw Error(J(40));return t._reactRootContainer?(Oa(function(){og(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Yr.unstable_batchedUpdates=Uw;Yr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ag(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return og(t,e,r,!1,n)};Yr.version="18.3.1-next-f1338f8080-20240426";function cC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cC)}catch(t){console.error(t)}}cC(),cP.exports=Yr;var GL=cP.exports,t_=GL;rv.createRoot=t_.createRoot,rv.hydrateRoot=t_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},td.apply(this,arguments)}var gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gs||(gs={}));const r_="popstate";function KL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Yv("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:bm(i)}return XL(e,r,null,t)}function _t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YL(){return Math.random().toString(36).substr(2,8)}function n_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yv(t,e,r,n){return r===void 0&&(r=null),td({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gl(e):e,{state:r,key:e&&e.key||n||YL()})}function bm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function XL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=gs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(td({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=gs.Pop;let x=d(),g=x==null?null:x-u;u=x,c&&c({action:l,location:b.location,delta:g})}function f(x,g){l=gs.Push;let y=Yv(b.location,x,g);u=d()+1;let w=n_(y,u),A=b.createHref(y);try{o.pushState(w,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(A)}a&&c&&c({action:l,location:b.location,delta:1})}function p(x,g){l=gs.Replace;let y=Yv(b.location,x,g);u=d();let w=n_(y,u),A=b.createHref(y);o.replaceState(w,"",A),a&&c&&c({action:l,location:b.location,delta:0})}function v(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:bm(x);return y=y.replace(/ $/,"%20"),_t(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let b={get action(){return l},get location(){return t(i,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(r_,h),c=x,()=>{i.removeEventListener(r_,h),c=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let g=v(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return o.go(x)}};return b}var i_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i_||(i_={}));function QL(t,e,r){return r===void 0&&(r="/"),JL(t,e,r)}function JL(t,e,r,n){let i=typeof e=="string"?Gl(e):e,a=Qw(i.pathname||"/",r);if(a==null)return null;let o=uC(t);ZL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=d$(a);l=l$(o[c],u)}return l}function uC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(_t(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ks([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(_t(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:a$(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of dC(a.path))i(a,o,c)}),e}function dC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=dC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:o$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const e$=/^:[\w-]+$/,t$=3,r$=2,n$=1,i$=10,s$=-2,s_=t=>t==="*";function a$(t,e){let r=t.split("/"),n=r.length;return r.some(s_)&&(n+=s$),e&&(n+=r$),r.filter(i=>!s_(i)).reduce((i,a)=>i+(e$.test(a)?t$:a===""?n$:i$),n)}function o$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function l$(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=c$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ks([a,h.pathname]),pathnameBase:g$(ks([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ks([a,h.pathnameBase]))}return o}function c$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=u$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let b=l[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function u$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Xw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function d$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const h$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f$=t=>h$.test(t);function m$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Gl(t):t,a;if(r)if(f$(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Xw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=a_(r.substring(1),"/"):a=a_(r,e)}else a=e;return{pathname:a,search:x$(n),hash:y$(i)}}function a_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function oy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Jw(t,e){let r=p$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Gl(t):(i=td({},t),_t(!i.pathname||!i.pathname.includes("?"),oy("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),oy("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),oy("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=m$(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),g$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hC=["post","put","patch","delete"];new Set(hC);const b$=["get",...hC];new Set(b$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rd.apply(this,arguments)}const ej=C.createContext(null),w$=C.createContext(null),qs=C.createContext(null),lg=C.createContext(null),Fi=C.createContext({outlet:null,matches:[],isDataRoute:!1}),fC=C.createContext(null);function j$(t,e){let{relative:r}=e===void 0?{}:e;Kl()||_t(!1);let{basename:n,navigator:i}=C.useContext(qs),{hash:a,pathname:o,search:l}=pC(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ks([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Kl(){return C.useContext(lg)!=null}function Gs(){return Kl()||_t(!1),C.useContext(lg).location}function mC(t){C.useContext(qs).static||C.useLayoutEffect(t)}function ge(){let{isDataRoute:t}=C.useContext(Fi);return t?D$():N$()}function N$(){Kl()||_t(!1);let t=C.useContext(ej),{basename:e,future:r,navigator:n}=C.useContext(qs),{matches:i}=C.useContext(Fi),{pathname:a}=Gs(),o=JSON.stringify(Jw(i,r.v7_relativeSplatPath)),l=C.useRef(!1);return mC(()=>{l.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Zw(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function Yl(){let{matches:t}=C.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function pC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=C.useContext(qs),{matches:i}=C.useContext(Fi),{pathname:a}=Gs(),o=JSON.stringify(Jw(i,n.v7_relativeSplatPath));return C.useMemo(()=>Zw(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function _$(t,e){return S$(t,e)}function S$(t,e,r,n){Kl()||_t(!1);let{navigator:i}=C.useContext(qs),{matches:a}=C.useContext(Fi),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Gs(),d;if(e){var h;let x=typeof e=="string"?Gl(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||_t(!1),d=x}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=QL(t,{pathname:p}),b=P$(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ks([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ks([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return e&&b?C.createElement(lg.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gs.Pop}},b):b}function A$(){let t=M$(),e=v$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const k$=C.createElement(A$,null);class T$ extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(Fi.Provider,{value:this.props.routeContext},C.createElement(fC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E$(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(ej);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Fi.Provider,{value:e},n)}function P$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||_t(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,b=null,x=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||k$,c&&(u<0&&f===0?(R$("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=b:v?w=x:h.route.Component?w=C.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,C.createElement(E$,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?C.createElement(T$,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var gC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gC||{}),xC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xC||{});function I$(t){let e=C.useContext(ej);return e||_t(!1),e}function C$(t){let e=C.useContext(w$);return e||_t(!1),e}function O$(t){let e=C.useContext(Fi);return e||_t(!1),e}function yC(t){let e=O$(),r=e.matches[e.matches.length-1];return r.route.id||_t(!1),r.route.id}function M$(){var t;let e=C.useContext(fC),r=C$(),n=yC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function D$(){let{router:t}=I$(gC.UseNavigateStable),e=yC(xC.UseNavigateStable),r=C.useRef(!1);return mC(()=>{r.current=!0}),C.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rd({fromRouteId:e},a)))},[t,e])}const o_={};function R$(t,e,r){o_[t]||(o_[t]=!0)}function L$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $$(t){let{to:e,replace:r,state:n,relative:i}=t;Kl()||_t(!1);let{future:a,static:o}=C.useContext(qs),{matches:l}=C.useContext(Fi),{pathname:c}=Gs(),u=ge(),d=Zw(e,Jw(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function de(t){_t(!1)}function V$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=gs.Pop,navigator:a,static:o=!1,future:l}=t;Kl()&&_t(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:a,static:o,future:rd({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Gl(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,b=C.useMemo(()=>{let x=Qw(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:v},navigationType:i}},[c,d,h,f,p,v,i]);return b==null?null:C.createElement(qs.Provider,{value:u},C.createElement(lg.Provider,{children:r,value:b}))}function F$(t){let{children:e,location:r}=t;return _$(Xv(e),r)}new Promise(()=>{});function Xv(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let a=[...e,i];if(n.type===C.Fragment){r.push.apply(r,Xv(n.props.children,a));return}n.type!==de&&_t(!1),!n.props.index||!n.props.children||_t(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Xv(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qv.apply(this,arguments)}function B$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function U$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z$(t,e){return t.button===0&&(!e||e==="_self")&&!U$(t)}function Jv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function W$(t,e){let r=Jv(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const H$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q$="6";try{window.__reactRouterVersion=q$}catch{}const G$="startTransition",l_=R5[G$];function K$(t){let{basename:e,children:r,future:n,window:i}=t,a=C.useRef();a.current==null&&(a.current=KL({window:i,v5Compat:!0}));let o=a.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=C.useCallback(h=>{u&&l_?l_(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>L$(n),[n]),C.createElement(V$,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=C.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=B$(e,H$),{basename:p}=C.useContext(qs),v,b=!1;if(typeof u=="string"&&X$.test(u)&&(v=u,Y$))try{let w=new URL(window.location.href),A=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Qw(A.pathname,p);A.origin===w.origin&&j!=null?u=j+A.search+A.hash:b=!0}catch{}let x=j$(u,{relative:i}),g=Q$(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function y(w){n&&n(w),w.defaultPrevented||g(w)}return C.createElement("a",Qv({},f,{href:v||x,onClick:b||a?n:y,ref:r,target:c}))});var c_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c_||(c_={}));var u_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u_||(u_={}));function Q$(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ge(),u=Gs(),d=pC(t,{relative:o});return C.useCallback(h=>{if(z$(h,r)){h.preventDefault();let f=n!==void 0?n:bm(u)===bm(d);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function J$(t){let e=C.useRef(Jv(t)),r=C.useRef(!1),n=Gs(),i=C.useMemo(()=>W$(n.search,r.current?null:e.current),[n.search]),a=ge(),o=C.useCallback((l,c)=>{const u=Jv(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const ft={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",MESSAGES:"marketing_management_website_messages",WEBSITE_ANALYTICS:"marketing_management_website_website_analytics",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics"},vC=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],ly=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",googleAnalyticsPropertyId:"G-XXXXXXXXXX",googleAnalyticsViewId:"123456789",createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",googleAnalyticsPropertyId:"G-YYYYYYYYYY",googleAnalyticsViewId:"987654321",createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","linkedin","twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",socialMediaPlatforms:["instagram","tiktok","facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",socialMediaPlatforms:["linkedin","facebook","youtube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")}],Z$=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],e8=[{id:"message-1",senderId:"user-1",recipientId:"user-2",subject:"Project Priority Update",content:"Hi John, I've updated the priority for the SpecCon project. Please focus on the mobile navigation fixes first as they're impacting user experience significantly.",isRead:!1,isBroadcast:!1,projectId:"proj-1",createdAt:new Date("2025-02-09T08:00:00"),updatedAt:new Date("2025-02-09T08:00:00")},{id:"message-2",senderId:"user-4",recipientId:"user-1",subject:"Social Media Campaign Performance",content:"The Q1 social media campaign is performing well. We've exceeded engagement targets by 25%. Should we allocate additional budget for boosted posts?",isRead:!0,isBroadcast:!1,projectId:"proj-21",createdAt:new Date("2025-02-08T14:30:00"),updatedAt:new Date("2025-02-08T14:30:00")},{id:"message-3",senderId:"user-5",recipientId:"user-3",subject:"Andebe Platform Requirements",content:"For the Andebe platform, we need to ensure all training modules include progress tracking and certificate generation. The client wants this to be mandatory for all courses.",isRead:!1,isBroadcast:!1,projectId:"proj-2",createdAt:new Date("2025-02-09T10:15:00"),updatedAt:new Date("2025-02-09T10:15:00")},{id:"message-4",senderId:"user-1",recipientId:void 0,subject:"System Maintenance Notice",content:"Heads up team! We'll be performing system maintenance this Friday from 10 PM to 12 AM SAST. All services will be temporarily unavailable. Please save your work before then.",isRead:!1,isBroadcast:!0,createdAt:new Date("2025-02-07T16:00:00"),updatedAt:new Date("2025-02-07T16:00:00")},{id:"message-5",senderId:"user-2",recipientId:"user-4",subject:"Website Launch Coordination",content:"Sarah, the InfinityNPO website is ready for launch. Can we coordinate the social media posts to go live simultaneously with the website deployment?",isRead:!0,isBroadcast:!1,projectId:"proj-5",createdAt:new Date("2025-02-08T11:45:00"),updatedAt:new Date("2025-02-08T11:45:00")},{id:"message-6",senderId:"user-6",recipientId:"user-1",subject:"New Project Timeline",content:"I've reviewed the proposed timeline for the Venueideas platform. The 3-month timeline seems aggressive. Can we extend it to 4 months to ensure quality?",isRead:!1,isBroadcast:!1,projectId:"proj-10",createdAt:new Date("2025-02-09T13:20:00"),updatedAt:new Date("2025-02-09T13:20:00")},{id:"message-7",senderId:"user-3",recipientId:"user-5",subject:"Design Feedback Request",content:"Michael, I've completed the initial design mockups for the Megrolowveld website. Could you please review them and let me know your thoughts on the color scheme and layout?",isRead:!0,isBroadcast:!1,projectId:"proj-3",createdAt:new Date("2025-02-08T09:30:00"),updatedAt:new Date("2025-02-08T09:30:00")}],t8=[{id:"analytics-1",projectId:"proj-1",date:new Date("2025-02-01"),pageViews:1250,uniqueVisitors:890,bounceRate:42.5,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-2",projectId:"proj-1",date:new Date("2025-02-08"),pageViews:1580,uniqueVisitors:1120,bounceRate:38.2,recordedBy:"user-2",createdAt:new Date("2025-02-09")},{id:"analytics-3",projectId:"proj-3",date:new Date("2025-02-01"),pageViews:2340,uniqueVisitors:1650,bounceRate:35.8,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-4",projectId:"proj-3",date:new Date("2025-02-08"),pageViews:2890,uniqueVisitors:2010,bounceRate:33.1,recordedBy:"user-2",createdAt:new Date("2025-02-09")}],r8=[{id:"social-1",projectId:"proj-1",platform:"facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"linkedin",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}];function Xl(t,e){if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error loading ${t} from localStorage:`,r),e}}function si(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error saving ${t} to localStorage:`,r)}}function Le(){return Xl(ft.USERS,vC)}function n8(t,e){const n=Le().map(i=>i.id===t?{...i,...e,updatedAt:new Date}:i);si(ft.USERS,n)}function i8(t){const r=Le().map(n=>n.id===t?{...n,isActive:!n.isActive,updatedAt:new Date}:n);si(ft.USERS,r)}function Xt(){const t=Xl(ft.PROJECTS,ly);return t.length===0?(si(ft.PROJECTS,ly),ly):t}function xr(){return Xl(ft.TICKETS,Z$)}function s8(t){const r=[...xr(),t];si(ft.TICKETS,r)}function Zv(t,e){const r=xr(),n=r.find(l=>l.id===t);if(!n)return;const i=n.assignedTo,a=e.assignedTo,o=r.map(l=>l.id===t?{...l,...e,updatedAt:new Date}:l);if(si(ft.TICKETS,o),a&&a!==i&&eb(a)){const c={id:`message-${Date.now()}`,senderId:"system",recipientId:a,subject:"New Ticket Assigned",content:`You have been assigned a new ticket: "${n.title}". Please check your tickets.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},u=JSON.parse(localStorage.getItem(ft.MESSAGES)||"[]");u.push(c),localStorage.setItem(ft.MESSAGES,JSON.stringify(u))}if(e.status==="resolved"&&n.status!=="resolved"){e.resolvedAt=new Date;const l=eb(n.createdBy);if(l&&l.role==="client"){const u={id:`message-${Date.now()}`,senderId:"system",recipientId:n.createdBy,subject:"Ticket Resolved",content:`Your ticket "${n.title}" has been resolved. Please review the changes.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},d=JSON.parse(localStorage.getItem(ft.MESSAGES)||"[]");d.push(u),localStorage.setItem(ft.MESSAGES,JSON.stringify(d))}Le().filter(u=>u.role==="admin").forEach(u=>{const d={id:`message-${Date.now()}-admin-${u.id}`,senderId:"system",recipientId:u.id,subject:"Ticket Resolved",content:`Ticket "${n.title}" has been marked as resolved.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},h=JSON.parse(localStorage.getItem(ft.MESSAGES)||"[]");h.push(d),localStorage.setItem(ft.MESSAGES,JSON.stringify(h))})}}function a8(t){const r=[...Le(),t];si(ft.USERS,r)}function nh(){return Xl(ft.MESSAGES,e8)}function tj(){return Xl(ft.WEBSITE_ANALYTICS,t8)}function Ya(){return Xl(ft.SOCIAL_ANALYTICS,r8)}function o8(t){const r=[...Ya(),t];si(ft.SOCIAL_ANALYTICS,r)}function eb(t){return Le().find(e=>e.id===t)}function Ql(t){return Xt().find(e=>e.id===t)}function gn(t,e){const r=Xt();return e==="admin"?r:e==="web_developer"?r.filter(n=>n.webDeveloperId===t):e==="social_media_coordinator"?r.filter(n=>n.socialMediaCoordinatorId===t):e==="client"?r.filter(n=>n.clientId===t):[]}function bC(t){return xr().filter(e=>e.projectId===t)}function ih(t,e){const r=xr();if(e==="admin")return r;if(e==="web_developer")return r.filter(n=>n.assignedTo===t);if(e==="client")return r.filter(n=>n.createdBy===t);if(e==="social_media_coordinator"){const i=gn(t,e).map(a=>a.id);return r.filter(a=>i.includes(a.projectId))}return[]}function Ma(t){return nh().filter(e=>e.senderId===t||e.recipientId===t||e.isBroadcast)}function l8(t){return Ma(t).filter(e=>!e.isRead&&(e.recipientId===t||e.isBroadcast))}function c8(t){const r=nh().map(n=>n.id===t?{...n,isRead:!0,updatedAt:new Date}:n);si(ft.MESSAGES,r)}function u8(t){const e=nh(),r=e.filter(n=>n.id!==t);return r.length<e.length?(si(ft.MESSAGES,r),!0):!1}function d8(t){const r=[...nh(),t];si(ft.MESSAGES,r)}function h8(t){return{website:tj().filter(e=>e.projectId===t),social:Ya().filter(e=>e.projectId===t)}}function f8(t){const e=Le(),r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(localStorage.setItem(ft.USERS,JSON.stringify(r)),!0)}const m8=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},p8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),n.push(r[d],r[h],r[f],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||h==null)throw new g8;const f=a<<2|l>>4;if(n.push(f),u!==64){const p=l<<4&240|u>>2;if(n.push(p),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x8=function(t){const e=wC(t);return jC.encodeByteArray(e,!0)},wm=function(t){return x8(t).replace(/\./g,"")},NC=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=()=>y8().__FIREBASE_DEFAULTS__,b8=()=>{if(typeof process>"u"||typeof d_>"u")return;const t=d_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NC(t[1]);return e&&JSON.parse(e)},cg=()=>{try{return m8()||v8()||b8()||w8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>{var e,r;return(r=(e=cg())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},j8=t=>{const e=_C(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},SC=()=>{var t;return(t=cg())==null?void 0:t.config},AC=t=>{var e;return(e=cg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wm(JSON.stringify(r)),wm(JSON.stringify(o)),""].join(".")}const _u={};function S8(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function A8(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let h_=!1;function TC(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||_u[t]===e||_u[t]||h_)return;_u[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=S8().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{h_=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=A8(n),p=r("text"),v=document.getElementById(p)||document.createElement("span"),b=r("learnmore"),x=document.getElementById(b)||document.createElement("a"),g=r("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),d(x,b);const A=u();c(y,g),w.append(y,v,x,A),document.body.appendChild(w)}a?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function T8(){var e;const t=(e=cg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C8(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O8(){return!T8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M8(){try{return typeof indexedDB=="object"}catch{return!1}}function D8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="FirebaseError";class Bi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=R8,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?L8(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,l,n)}}function L8(t,e){return t.replace($8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const $8=/\{\$([^}]+)}/g;function V8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(f_(a)&&f_(o)){if(!Da(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function lu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function F8(t,e){const r=new B8(t,e);return r.subscribe.bind(r)}class B8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");U8(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=cy),i.error===void 0&&(i.error=cy),i.complete===void 0&&(i.complete=cy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function cy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new N8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H8(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:W8(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W8(t){return t===ua?void 0:t}function H8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new z8(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const G8={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},K8=Pe.INFO,Y8={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},X8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Y8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rj{constructor(e){this.name=e,this._logLevel=K8,this._logHandler=X8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Q8=(t,e)=>e.some(r=>t instanceof r);let m_,p_;function J8(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z8(){return p_||(p_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,tb=new WeakMap,PC=new WeakMap,uy=new WeakMap,nj=new WeakMap;function e9(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ts(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&EC.set(r,t)}).catch(()=>{}),nj.set(e,t),e}function t9(t){if(tb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});tb.set(t,e)}let rb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return tb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ts(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r9(t){rb=t(rb)}function n9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(dy(this),e,...r);return PC.set(n,e.sort?e.sort():[e]),Ts(n)}:Z8().includes(t)?function(...e){return t.apply(dy(this),e),Ts(EC.get(this))}:function(...e){return Ts(t.apply(dy(this),e))}}function i9(t){return typeof t=="function"?n9(t):(t instanceof IDBTransaction&&t9(t),Q8(t,J8())?new Proxy(t,rb):t)}function Ts(t){if(t instanceof IDBRequest)return e9(t);if(uy.has(t))return uy.get(t);const e=i9(t);return e!==t&&(uy.set(t,e),nj.set(e,t)),e}const dy=t=>nj.get(t);function s9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Ts(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Ts(o.result),c.oldVersion,c.newVersion,Ts(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const a9=["get","getKey","getAll","getAllKeys","count"],o9=["put","add","delete","clear"],hy=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=o9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||a9.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return hy.set(e,a),a}r9(t=>({...t,get:(e,r,n)=>g_(e,r)||t.get(e,r,n),has:(e,r)=>!!g_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(c9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function c9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nb="@firebase/app",x_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new rj("@firebase/app"),u9="@firebase/app-compat",d9="@firebase/analytics-compat",h9="@firebase/analytics",f9="@firebase/app-check-compat",m9="@firebase/app-check",p9="@firebase/auth",g9="@firebase/auth-compat",x9="@firebase/database",y9="@firebase/data-connect",v9="@firebase/database-compat",b9="@firebase/functions",w9="@firebase/functions-compat",j9="@firebase/installations",N9="@firebase/installations-compat",_9="@firebase/messaging",S9="@firebase/messaging-compat",A9="@firebase/performance",k9="@firebase/performance-compat",T9="@firebase/remote-config",E9="@firebase/remote-config-compat",P9="@firebase/storage",I9="@firebase/storage-compat",C9="@firebase/firestore",O9="@firebase/ai",M9="@firebase/firestore-compat",D9="firebase",R9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="[DEFAULT]",L9={[nb]:"fire-core",[u9]:"fire-core-compat",[h9]:"fire-analytics",[d9]:"fire-analytics-compat",[m9]:"fire-app-check",[f9]:"fire-app-check-compat",[p9]:"fire-auth",[g9]:"fire-auth-compat",[x9]:"fire-rtdb",[y9]:"fire-data-connect",[v9]:"fire-rtdb-compat",[b9]:"fire-fn",[w9]:"fire-fn-compat",[j9]:"fire-iid",[N9]:"fire-iid-compat",[_9]:"fire-fcm",[S9]:"fire-fcm-compat",[A9]:"fire-perf",[k9]:"fire-perf-compat",[T9]:"fire-rc",[E9]:"fire-rc-compat",[P9]:"fire-gcs",[I9]:"fire-gcs-compat",[C9]:"fire-fst",[M9]:"fire-fst-compat",[O9]:"fire-vertex","fire-js":"fire-js",[D9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,$9=new Map,sb=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(r){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function cl(t){const e=t.name;if(sb.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;sb.set(e,t);for(const r of nd.values())y_(r,t);for(const r of $9.values())y_(r,t);return!0}function ij(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new sh("app","Firebase",V9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=R9;function IC(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:ib,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Es.create("bad-app-name",{appName:String(i)});if(r||(r=SC()),!r)throw Es.create("no-options");const a=nd.get(i);if(a){if(Da(r,a.options)&&Da(n,a.config))return a;throw Es.create("duplicate-app",{appName:i})}const o=new q8(i);for(const c of sb.values())o.addComponent(c);const l=new F9(r,n,o);return nd.set(i,l),l}function CC(t=ib){const e=nd.get(t);if(!e&&t===ib&&SC())return IC();if(!e)throw Es.create("no-app",{appName:t});return e}function v_(){return Array.from(nd.values())}function Ps(t,e,r){let n=L9[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(o.join(" "));return}cl(new Ra(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="firebase-heartbeat-database",U9=1,id="firebase-heartbeat-store";let fy=null;function OC(){return fy||(fy=s9(B9,U9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(r){console.warn(r)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),fy}async function z9(t){try{const r=(await OC()).transaction(id),n=await r.objectStore(id).get(MC(t));return await r.done,n}catch(e){if(e instanceof Bi)Ii.warn(e.message);else{const r=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(r.message)}}}async function b_(t,e){try{const n=(await OC()).transaction(id,"readwrite");await n.objectStore(id).put(e,MC(t)),await n.done}catch(r){if(r instanceof Bi)Ii.warn(r.message);else{const n=Es.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ii.warn(n.message)}}}function MC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=1024,H9=30;class q9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new K9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=w_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>H9){const o=Y9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ii.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=w_(),{heartbeatsToSend:n,unsentEntries:i}=G9(this._heartbeatsCache.heartbeats),a=wm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ii.warn(r),""}}}function w_(){return new Date().toISOString().substring(0,10)}function G9(t,e=W9){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),j_(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),j_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class K9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M8()?D8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await z9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return b_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function j_(t){return wm(JSON.stringify({version:2,heartbeats:t})).length}function Y9(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){cl(new Ra("platform-logger",e=>new l9(e),"PRIVATE")),cl(new Ra("heartbeat",e=>new q9(e),"PRIVATE")),Ps(nb,x_,t),Ps(nb,x_,"esm2020"),Ps("fire-js","")}X9("");var Q9="firebase",J9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(Q9,J9,"app");function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z9=DC,RC=new sh("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new rj("@firebase/auth");function eV(t,...e){jm.logLevel<=Pe.WARN&&jm.warn(`Auth (${Zl}): ${t}`,...e)}function $f(t,...e){jm.logLevel<=Pe.ERROR&&jm.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw sj(t,...e)}function qn(t,...e){return sj(t,...e)}function LC(t,e,r){const n={...Z9(),[e]:r};return new sh("auth","Firebase",n).create(e,{appName:t.name})}function ji(t){return LC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return RC.create(t,...e)}function he(t,e,...r){if(!t)throw sj(e,...r)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function Ci(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tV(){return N_()==="http:"||N_()==="https:"}function N_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tV()||P8()||"connection"in navigator)?navigator.onLine:!0}function nV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ci(r>e,"Short delay should be less than long delay!"),this.isMobile=k8()||I8()}get(){return rV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aV=new oh(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,r,n,i={}){return VC(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=ah({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return E8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(u.credentials="include"),$C.fetch()(await FC(t,t.config.apiHost,r,l),u)})}async function VC(t,e,r){t._canInitEmulator=!1;const n={...iV,...e};try{const i=new lV(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw nf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw nf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw nf(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LC(t,d,u);Mn(t,d)}}catch(i){if(i instanceof Bi)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function lh(t,e,r,n,i={}){const a=await Ys(t,e,r,n,i);return"mfaPendingCredential"in a&&Mn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function FC(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?aj(t.config,i):`${t.config.apiScheme}://${i}`;return sV.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function oV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(qn(this.auth,"network-request-failed")),aV.get())})}}function nf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=qn(t,e,n);return i.customData._tokenResponse=r,i}function __(t){return t!==void 0&&t.enterprise!==void 0}class cV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return oV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uV(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function Nm(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hV(t,e=!1){const r=Kr(t),n=await r.getIdToken(e),i=oj(n);he(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Su(my(i.auth_time)),issuedAtTime:Su(my(i.iat)),expirationTime:Su(my(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function my(t){return Number(t)*1e3}function oj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{const i=NC(r);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function S_(t){const e=oj(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bi&&fV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function fV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){var h;const e=t.auth,r=await t.getIdToken(),n=await sd(t,Nm(e,{idToken:r}));he(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?BC(i.providerUserInfo):[],o=gV(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ob(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function pV(t){const e=Kr(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gV(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function BC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){const r=await VC(t,{},async()=>{const n=ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await FC(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(c.credentials="include"),$C.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function yV(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){he(e.length!==0,"internal-error");const r=S_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await xV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Ko;return n&&(he(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(he(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new mV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ob(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await sd(this,this.stsTokenManager.getToken(this.auth,e));return he(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hV(this,e)}reload(){return pV(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await _m(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await sd(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:v,stsTokenManager:b}=r;he(h&&b,e,"internal-error");const x=Ko.fromJSON(this.name,b);he(typeof h=="string",e,"internal-error"),es(n,e.name),es(i,e.name),he(typeof f=="boolean",e,"internal-error"),he(typeof p=="boolean",e,"internal-error"),es(a,e.name),es(o,e.name),es(l,e.name),es(c,e.name),es(u,e.name),es(d,e.name);const g=new Tn({uid:h,auth:e,email:i,emailVerified:f,displayName:n,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:x,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(g.providerData=v.map(y=>({...y}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ko;i.updateFromServerResponse(r);const a=new Tn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _m(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];he(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?BC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ko;l.updateFromIdToken(n);const c=new Tn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ob(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;function xi(t){Ci(t instanceof Function,"Expected a class definition");let e=A_.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}UC.type="NONE";const k_=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e,r){return`firebase:${t}:${e}:${r}`}class Yo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Vf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vf("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Nm(this.auth,{idToken:e}).catch(()=>{});return r?Tn._fromGetAccountInfoResponse(this.auth,r,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Yo(xi(k_),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||xi(k_);const o=Vf(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Nm(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Tn._fromGetAccountInfoResponse(e,f,d)}else h=Tn._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Yo(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Yo(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KC(e))return"Blackberry";if(YC(e))return"Webos";if(WC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function zC(t=yr()){return/firefox\//i.test(t)}function WC(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=yr()){return/crios\//i.test(t)}function qC(t=yr()){return/iemobile/i.test(t)}function GC(t=yr()){return/android/i.test(t)}function KC(t=yr()){return/blackberry/i.test(t)}function YC(t=yr()){return/webos/i.test(t)}function lj(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vV(t=yr()){var e;return lj(t)&&!!((e=window.navigator)!=null&&e.standalone)}function bV(){return C8()&&document.documentMode===10}function XC(t=yr()){return lj(t)||GC(t)||YC(t)||KC(t)||/windows phone/i.test(t)||qC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e=[]){let r;switch(t){case"Browser":r=T_(yr());break;case"Worker":r=`${T_(yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Zl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=6;class _V{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??NV,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E_(this),this.idTokenSubscription=new E_(this),this.beforeStateQueue=new wV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=xi(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Nm(this,{idToken:e}),n=await Tn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(ji(this));const r=e?Kr(e):null;return r&&he(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jV(this),r=new _V(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await yV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&xi(e)||this._popupRedirectResolver;he(r,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[xi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&eV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xa(t){return Kr(t)}class E_{constructor(e){this.auth=e,this.observer=null,this.addObserver=F8(r=>this.observer=r)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AV(t){ug=t}function JC(t){return ug.loadJS(t)}function kV(){return ug.recaptchaEnterpriseScript}function TV(){return ug.gapiScript}function EV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PV{constructor(){this.enterprise=new IV}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class IV{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const CV="recaptcha-enterprise",ZC="NO_RECAPTCHA";class OV{constructor(e){this.type=CV,this.auth=Xa(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{uV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new cV(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;__(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(ZC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PV().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&__(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=kV();c.length!==0&&(c+=l),JC(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function P_(t,e,r,n=!1,i=!1){const a=new OV(t);let o;if(i)o=ZC;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function lb(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await P_(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await P_(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e){const r=ij(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Da(a,e??{}))return i;Mn(i,"already-initialized")}return r.initialize({options:e})}function DV(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function RV(t,e,r){const n=Xa(t);he(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=eO(e),{host:o,port:l}=LV(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){he(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),he(Da(u,n.config.emulator)&&Da(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Jl(o)?(kC(`${a}//${o}${c}`),TC("Auth",!0)):$V()}function eO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LV(t){const e=eO(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:I_(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:I_(o)}}}function I_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $V(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,r){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function VV(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function UV(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends cj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ad(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ad(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,r,"signInWithPassword",FV);case"emailLink":return BV(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lb(e,n,"signUpPassword",VV);case"emailLink":return UV(e,{idToken:r,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="http://localhost";class La extends cj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new La(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Xo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Xo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xo(e,r)}buildRequest(){const e={requestUri:zV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ah(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HV(t){const e=ou(lu(t)).link,r=e?ou(lu(e)).deep_link_id:null,n=ou(lu(t)).deep_link_id;return(n?ou(lu(n)).link:null)||n||r||e||t}class uj{constructor(e){const r=ou(lu(e)),n=r.apiKey??null,i=r.oobCode??null,a=WV(r.mode??null);he(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=HV(e);try{return new uj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,r){return ad._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=uj.parseLink(r);return he(n,"argument-error"),ad._fromEmailAndCode(e,n.code,n.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends tO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends ch{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return La._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return us.credential(r,n)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ch{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends ch{constructor(){super("twitter.com")}static credential(e,r){return La._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return hs.credential(r,n)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){return lh(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Tn._fromIdTokenResponse(e,n,i),o=C_(n);return new $a({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=C_(n);return new $a({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function C_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends Bi{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Sm(e,r,n,i)}}function rO(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sm._fromErrorAndOperation(t,a,e,n):a})}async function GV(t,e,r=!1){const n=await sd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $a._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e,r=!1){const{auth:n}=t;if(sn(n.app))return Promise.reject(ji(n));const i="reauthenticate";try{const a=await sd(t,rO(n,i,e,t),r);he(a.idToken,n,"internal-error");const o=oj(a.idToken);he(o,n,"internal-error");const{sub:l}=o;return he(t.uid===l,n,"user-mismatch"),$a._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t,e,r=!1){if(sn(t.app))return Promise.reject(ji(t));const n="signIn",i=await rO(t,n,e),a=await $a._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function YV(t,e){return nO(Xa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t){const e=Xa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XV(t,e,r){if(sn(t.app))return Promise.reject(ji(t));const n=Xa(t),o=await lb(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qV).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&iO(t),c}),l=await $a._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function QV(t,e,r){return sn(t.app)?Promise.reject(ji(t)):YV(Kr(t),ec.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&iO(t),n})}function JV(t,e,r,n){return Kr(t).onIdTokenChanged(e,r,n)}function ZV(t,e,r){return Kr(t).beforeAuthStateChanged(e,r)}function eF(t,e,r,n){return Kr(t).onAuthStateChanged(e,r,n)}function tF(t){return Kr(t).signOut()}const Am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Am,"1"),this.storage.removeItem(Am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=1e3,nF=10;class aO extends sO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);bV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}aO.type="LOCAL";const iF=aO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends sO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}oO.type="SESSION";const lO=oO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new dg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await sF(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=dj("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function oF(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function lF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function uF(){return cO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="firebaseLocalStorageDb",dF=1,km="firebaseLocalStorage",dO="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hg(t,e){return t.transaction([km],e?"readwrite":"readonly").objectStore(km)}function hF(){const t=indexedDB.deleteDatabase(uO);return new uh(t).toPromise()}function cb(){const t=indexedDB.open(uO,dF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(km,{keyPath:dO})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(km)?e(n):(n.close(),await hF(),e(await cb()))})})}async function O_(t,e,r){const n=hg(t,!0).put({[dO]:e,value:r});return new uh(n).toPromise()}async function fF(t,e){const r=hg(t,!1).get(e),n=await new uh(r).toPromise();return n===void 0?null:n.value}function M_(t,e){const r=hg(t,!0).delete(e);return new uh(r).toPromise()}const mF=800,pF=3;class hO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>pF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(uF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await lF(),!this.activeServiceWorker)return;this.sender=new aF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cb();return await O_(e,Am,"1"),await M_(e,Am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>O_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>fF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>M_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hg(i,!1).getAll();return new uh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hO.type="LOCAL";const gF=hO;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t,e){return e?xi(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj extends cj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function yF(t){return nO(t.auth,new hj(t),t.bypassAuthState)}function vF(t){const{auth:e,user:r}=t;return he(r,e,"internal-error"),KV(r,new hj(t),t.bypassAuthState)}async function bF(t){const{auth:e,user:r}=t;return he(r,e,"internal-error"),GV(r,new hj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yF;case"linkViaPopup":case"linkViaRedirect":return bF;case"reauthViaPopup":case"reauthViaRedirect":return vF;default:Mn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new oh(2e3,1e4);class Ro extends fO{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=dj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wF.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="pendingRedirect",Ff=new Map;class NF extends fO{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const n=await _F(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _F(t,e){const r=kF(e),n=AF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function SF(t,e){Ff.set(t._key(),e)}function AF(t){return xi(t._redirectPersistence)}function kF(t){return Vf(jF,t.config.apiKey,t.name)}async function TF(t,e,r=!1){if(sn(t.app))return Promise.reject(ji(t));const n=Xa(t),i=xF(n,e),o=await new NF(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=10*60*1e3;class PF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!mO(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(qn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EF&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MF=/^https?/;async function DF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CF(t);for(const r of e)try{if(RF(r))return}catch{}Mn(t,"unauthorized-domain")}function RF(t){const e=ab(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!MF.test(r))return!1;if(OF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new oh(3e4,6e4);function R_(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function $F(t){return new Promise((e,r)=>{var i,a,o;function n(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),r(qn(t,"network-request-failed"))},timeout:LF.get()})}if((a=(i=Gn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Gn().gapi)!=null&&o.load)n();else{const l=EV("iframefcb");return Gn()[l]=()=>{gapi.load?n():r(qn(t,"network-request-failed"))},JC(`${TV()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function VF(t){return Bf=Bf||$F(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new oh(5e3,15e3),BF="__/auth/iframe",UF="emulator/auth/iframe",zF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HF(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?aj(e,UF):`https://${t.config.authDomain}/${BF}`,n={apiKey:e.apiKey,appName:t.name,v:Zl},i=WF.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ah(n).slice(1)}`}async function qF(t){const e=await VF(t),r=Gn().gapi;return he(r,t,"internal-error"),e.open({where:document.body,url:HF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zF,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),l=Gn().setTimeout(()=>{a(o)},FF.get());function c(){Gn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KF=500,YF=600,XF="_blank",QF="http://localhost";class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JF(t,e,r,n=KF,i=YF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...GF,width:n.toString(),height:i.toString(),top:a,left:o},u=yr().toLowerCase();r&&(l=HC(u)?XF:r),zC(u)&&(e=e||QF,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(vV(u)&&l!=="_self")return ZF(e||"",l),new L_(null);const h=window.open(e||"",l,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new L_(h)}function ZF(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="__/auth/handler",tB="emulator/auth/handler",rB=encodeURIComponent("fac");async function $_(t,e,r,n,i,a){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Zl,eventId:i};if(e instanceof tO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",V8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ch){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${rB}=${encodeURIComponent(c)}`:"";return`${nB(t)}?${ah(l).slice(1)}${u}`}function nB({config:t}){return t.emulator?aj(t,tB):`https://${t.authDomain}/${eB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="webStorageSupport";class iB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lO,this._completeRedirectFn=TF,this._overrideRedirectResult=SF}async _openPopup(e,r,n,i){var o;Ci((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await $_(e,r,n,ab(),i);return JF(e,a,dj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await $_(e,r,n,ab(),i);return oF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ci(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await qF(e),n=new PF(e);return r.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(py,{type:py},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[py];a!==void 0&&r(!!a),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=DF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return XC()||WC()||lj()}}const sB=iB;var V_="@firebase/auth",F_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lB(t){cl(new Ra("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},u=new SV(n,i,a,c);return DV(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),cl(new Ra("auth-internal",e=>{const r=Xa(e.getProvider("auth").getImmediate());return(n=>new aB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(V_,F_,oB(t)),Ps(V_,F_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=5*60,uB=AC("authIdTokenMaxAge")||cB;let B_=null;const dB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>uB)return;const i=r==null?void 0:r.token;B_!==i&&(B_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hB(t=CC()){const e=ij(t,"auth");if(e.isInitialized())return e.getImmediate();const r=MV(t,{popupRedirectResolver:sB,persistence:[gF,iF,lO]}),n=AC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=dB(a.toString());ZV(r,o,()=>o(r.currentUser)),JV(r,l=>o(l))}}const i=_C("auth");return i&&RV(r,`http://${i}`),r}function fB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}AV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=qn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",fB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lB("Browser");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,pO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,N){function T(){}T.prototype=N.prototype,S.F=N.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(O,I,M){for(var P=Array(arguments.length-2),F=2;F<arguments.length;F++)P[F-2]=arguments[F];return N.prototype[I].apply(O,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,N,T){T||(T=0);const O=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)O[I]=N.charCodeAt(T++)|N.charCodeAt(T++)<<8|N.charCodeAt(T++)<<16|N.charCodeAt(T++)<<24;else for(I=0;I<16;++I)O[I]=N[T++]|N[T++]<<8|N[T++]<<16|N[T++]<<24;N=S.g[0],T=S.g[1],I=S.g[2];let M=S.g[3],P;P=N+(M^T&(I^M))+O[0]+3614090360&4294967295,N=T+(P<<7&4294967295|P>>>25),P=M+(I^N&(T^I))+O[1]+3905402710&4294967295,M=N+(P<<12&4294967295|P>>>20),P=I+(T^M&(N^T))+O[2]+606105819&4294967295,I=M+(P<<17&4294967295|P>>>15),P=T+(N^I&(M^N))+O[3]+3250441966&4294967295,T=I+(P<<22&4294967295|P>>>10),P=N+(M^T&(I^M))+O[4]+4118548399&4294967295,N=T+(P<<7&4294967295|P>>>25),P=M+(I^N&(T^I))+O[5]+1200080426&4294967295,M=N+(P<<12&4294967295|P>>>20),P=I+(T^M&(N^T))+O[6]+2821735955&4294967295,I=M+(P<<17&4294967295|P>>>15),P=T+(N^I&(M^N))+O[7]+4249261313&4294967295,T=I+(P<<22&4294967295|P>>>10),P=N+(M^T&(I^M))+O[8]+1770035416&4294967295,N=T+(P<<7&4294967295|P>>>25),P=M+(I^N&(T^I))+O[9]+2336552879&4294967295,M=N+(P<<12&4294967295|P>>>20),P=I+(T^M&(N^T))+O[10]+4294925233&4294967295,I=M+(P<<17&4294967295|P>>>15),P=T+(N^I&(M^N))+O[11]+2304563134&4294967295,T=I+(P<<22&4294967295|P>>>10),P=N+(M^T&(I^M))+O[12]+1804603682&4294967295,N=T+(P<<7&4294967295|P>>>25),P=M+(I^N&(T^I))+O[13]+4254626195&4294967295,M=N+(P<<12&4294967295|P>>>20),P=I+(T^M&(N^T))+O[14]+2792965006&4294967295,I=M+(P<<17&4294967295|P>>>15),P=T+(N^I&(M^N))+O[15]+1236535329&4294967295,T=I+(P<<22&4294967295|P>>>10),P=N+(I^M&(T^I))+O[1]+4129170786&4294967295,N=T+(P<<5&4294967295|P>>>27),P=M+(T^I&(N^T))+O[6]+3225465664&4294967295,M=N+(P<<9&4294967295|P>>>23),P=I+(N^T&(M^N))+O[11]+643717713&4294967295,I=M+(P<<14&4294967295|P>>>18),P=T+(M^N&(I^M))+O[0]+3921069994&4294967295,T=I+(P<<20&4294967295|P>>>12),P=N+(I^M&(T^I))+O[5]+3593408605&4294967295,N=T+(P<<5&4294967295|P>>>27),P=M+(T^I&(N^T))+O[10]+38016083&4294967295,M=N+(P<<9&4294967295|P>>>23),P=I+(N^T&(M^N))+O[15]+3634488961&4294967295,I=M+(P<<14&4294967295|P>>>18),P=T+(M^N&(I^M))+O[4]+3889429448&4294967295,T=I+(P<<20&4294967295|P>>>12),P=N+(I^M&(T^I))+O[9]+568446438&4294967295,N=T+(P<<5&4294967295|P>>>27),P=M+(T^I&(N^T))+O[14]+3275163606&4294967295,M=N+(P<<9&4294967295|P>>>23),P=I+(N^T&(M^N))+O[3]+4107603335&4294967295,I=M+(P<<14&4294967295|P>>>18),P=T+(M^N&(I^M))+O[8]+1163531501&4294967295,T=I+(P<<20&4294967295|P>>>12),P=N+(I^M&(T^I))+O[13]+2850285829&4294967295,N=T+(P<<5&4294967295|P>>>27),P=M+(T^I&(N^T))+O[2]+4243563512&4294967295,M=N+(P<<9&4294967295|P>>>23),P=I+(N^T&(M^N))+O[7]+1735328473&4294967295,I=M+(P<<14&4294967295|P>>>18),P=T+(M^N&(I^M))+O[12]+2368359562&4294967295,T=I+(P<<20&4294967295|P>>>12),P=N+(T^I^M)+O[5]+4294588738&4294967295,N=T+(P<<4&4294967295|P>>>28),P=M+(N^T^I)+O[8]+2272392833&4294967295,M=N+(P<<11&4294967295|P>>>21),P=I+(M^N^T)+O[11]+1839030562&4294967295,I=M+(P<<16&4294967295|P>>>16),P=T+(I^M^N)+O[14]+4259657740&4294967295,T=I+(P<<23&4294967295|P>>>9),P=N+(T^I^M)+O[1]+2763975236&4294967295,N=T+(P<<4&4294967295|P>>>28),P=M+(N^T^I)+O[4]+1272893353&4294967295,M=N+(P<<11&4294967295|P>>>21),P=I+(M^N^T)+O[7]+4139469664&4294967295,I=M+(P<<16&4294967295|P>>>16),P=T+(I^M^N)+O[10]+3200236656&4294967295,T=I+(P<<23&4294967295|P>>>9),P=N+(T^I^M)+O[13]+681279174&4294967295,N=T+(P<<4&4294967295|P>>>28),P=M+(N^T^I)+O[0]+3936430074&4294967295,M=N+(P<<11&4294967295|P>>>21),P=I+(M^N^T)+O[3]+3572445317&4294967295,I=M+(P<<16&4294967295|P>>>16),P=T+(I^M^N)+O[6]+76029189&4294967295,T=I+(P<<23&4294967295|P>>>9),P=N+(T^I^M)+O[9]+3654602809&4294967295,N=T+(P<<4&4294967295|P>>>28),P=M+(N^T^I)+O[12]+3873151461&4294967295,M=N+(P<<11&4294967295|P>>>21),P=I+(M^N^T)+O[15]+530742520&4294967295,I=M+(P<<16&4294967295|P>>>16),P=T+(I^M^N)+O[2]+3299628645&4294967295,T=I+(P<<23&4294967295|P>>>9),P=N+(I^(T|~M))+O[0]+4096336452&4294967295,N=T+(P<<6&4294967295|P>>>26),P=M+(T^(N|~I))+O[7]+1126891415&4294967295,M=N+(P<<10&4294967295|P>>>22),P=I+(N^(M|~T))+O[14]+2878612391&4294967295,I=M+(P<<15&4294967295|P>>>17),P=T+(M^(I|~N))+O[5]+4237533241&4294967295,T=I+(P<<21&4294967295|P>>>11),P=N+(I^(T|~M))+O[12]+1700485571&4294967295,N=T+(P<<6&4294967295|P>>>26),P=M+(T^(N|~I))+O[3]+2399980690&4294967295,M=N+(P<<10&4294967295|P>>>22),P=I+(N^(M|~T))+O[10]+4293915773&4294967295,I=M+(P<<15&4294967295|P>>>17),P=T+(M^(I|~N))+O[1]+2240044497&4294967295,T=I+(P<<21&4294967295|P>>>11),P=N+(I^(T|~M))+O[8]+1873313359&4294967295,N=T+(P<<6&4294967295|P>>>26),P=M+(T^(N|~I))+O[15]+4264355552&4294967295,M=N+(P<<10&4294967295|P>>>22),P=I+(N^(M|~T))+O[6]+2734768916&4294967295,I=M+(P<<15&4294967295|P>>>17),P=T+(M^(I|~N))+O[13]+1309151649&4294967295,T=I+(P<<21&4294967295|P>>>11),P=N+(I^(T|~M))+O[4]+4149444226&4294967295,N=T+(P<<6&4294967295|P>>>26),P=M+(T^(N|~I))+O[11]+3174756917&4294967295,M=N+(P<<10&4294967295|P>>>22),P=I+(N^(M|~T))+O[2]+718787259&4294967295,I=M+(P<<15&4294967295|P>>>17),P=T+(M^(I|~N))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+N&4294967295,S.g[1]=S.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+M&4294967295}n.prototype.v=function(S,N){N===void 0&&(N=S.length);const T=N-this.blockSize,O=this.C;let I=this.h,M=0;for(;M<N;){if(I==0)for(;M<=T;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<N;)if(O[I++]=S.charCodeAt(M++),I==this.blockSize){i(this,O),I=0;break}}else for(;M<N;)if(O[I++]=S[M++],I==this.blockSize){i(this,O),I=0;break}}this.h=I,this.o+=N},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var N=1;N<S.length-8;++N)S[N]=0;N=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=N&255,N/=256;for(this.v(S),S=Array(16),N=0,T=0;T<4;++T)for(let O=0;O<32;O+=8)S[N++]=this.g[T]>>>O&255;return S};function a(S,N){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=N(S)}function o(S,N){this.h=N;const T=[];let O=!0;for(let I=S.length-1;I>=0;I--){const M=S[I]|0;O&&M==N||(T[I]=M,O=!1)}this.g=T}var l={};function c(S){return-128<=S&&S<128?a(S,function(N){return new o([N|0],N<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return x(u(-S));const N=[];let T=1;for(let O=0;S>=T;O++)N[O]=S/T|0,T*=4294967296;return new o(N,0)}function d(S,N){if(S.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S.charAt(0)=="-")return x(d(S.substring(1),N));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(N,8));let O=h;for(let M=0;M<S.length;M+=8){var I=Math.min(8,S.length-M);const P=parseInt(S.substring(M,M+I),N);I<8?(I=u(Math.pow(N,I)),O=O.j(I).add(u(P))):(O=O.j(T),O=O.add(u(P)))}return O}var h=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-x(this).m();let S=0,N=1;for(let T=0;T<this.g.length;T++){const O=this.i(T);S+=(O>=0?O:4294967296+O)*N,N*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(b(this))return"-"+x(this).toString(S);const N=u(Math.pow(S,6));var T=this;let O="";for(;;){const I=A(T,N).g;T=g(T,I.j(N));let M=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=I,v(T))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let N=0;N<S.g.length;N++)if(S.g[N]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=g(this,S),b(S)?-1:v(S)?0:1};function x(S){const N=S.g.length,T=[];for(let O=0;O<N;O++)T[O]=~S.g[O];return new o(T,~S.h).add(f)}t.abs=function(){return b(this)?x(this):this},t.add=function(S){const N=Math.max(this.g.length,S.g.length),T=[];let O=0;for(let I=0;I<=N;I++){let M=O+(this.i(I)&65535)+(S.i(I)&65535),P=(M>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);O=P>>>16,M&=65535,P&=65535,T[I]=P<<16|M}return new o(T,T[T.length-1]&-2147483648?-1:0)};function g(S,N){return S.add(x(N))}t.j=function(S){if(v(this)||v(S))return h;if(b(this))return b(S)?x(this).j(x(S)):x(x(this).j(S));if(b(S))return x(this.j(x(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const N=this.g.length+S.g.length,T=[];for(var O=0;O<2*N;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<S.g.length;I++){const M=this.i(O)>>>16,P=this.i(O)&65535,F=S.i(I)>>>16,B=S.i(I)&65535;T[2*O+2*I]+=P*B,y(T,2*O+2*I),T[2*O+2*I+1]+=M*B,y(T,2*O+2*I+1),T[2*O+2*I+1]+=P*F,y(T,2*O+2*I+1),T[2*O+2*I+2]+=M*F,y(T,2*O+2*I+2)}for(S=0;S<N;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=N;S<2*N;S++)T[S]=0;return new o(T,0)};function y(S,N){for(;(S[N]&65535)!=S[N];)S[N+1]+=S[N]>>>16,S[N]&=65535,N++}function w(S,N){this.g=S,this.h=N}function A(S,N){if(v(N))throw Error("division by zero");if(v(S))return new w(h,h);if(b(S))return N=A(x(S),N),new w(x(N.g),x(N.h));if(b(N))return N=A(S,x(N)),new w(x(N.g),N.h);if(S.g.length>30){if(b(S)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var T=f,O=N;O.l(S)<=0;)T=j(T),O=j(O);var I=k(T,1),M=k(O,1);for(O=k(O,2),T=k(T,2);!v(O);){var P=M.add(O);P.l(S)<=0&&(I=I.add(T),M=P),O=k(O,1),T=k(T,1)}return N=g(S,I.j(N)),new w(I,N)}for(I=h;S.l(N)>=0;){for(T=Math.max(1,Math.floor(S.m()/N.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=u(T),P=M.j(N);b(P)||P.l(S)>0;)T-=O,M=u(T),P=M.j(N);v(M)&&(M=f),I=I.add(M),S=g(S,P)}return new w(I,S)}t.B=function(S){return A(this,S).h},t.and=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)&S.i(O);return new o(T,this.h&S.h)},t.or=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)|S.i(O);return new o(T,this.h|S.h)},t.xor=function(S){const N=Math.max(this.g.length,S.g.length),T=[];for(let O=0;O<N;O++)T[O]=this.i(O)^S.i(O);return new o(T,this.h^S.h)};function j(S){const N=S.g.length+1,T=[];for(let O=0;O<N;O++)T[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(T,S.h)}function k(S,N){const T=N>>5;N%=32;const O=S.g.length-T,I=[];for(let M=0;M<O;M++)I[M]=N>0?S.i(M+T)>>>N|S.i(M+T+1)<<32-N:S.i(M+T);return new o(I,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,pO=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Is=o}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gO,cu,xO,Uf,ub,yO,vO,bO;(function(){var t,e=Object.defineProperty;function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var _=0;_<m.length;++_){var E=m[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var n=r(this);function i(m,_){if(_)e:{var E=n;m=m.split(".");for(var R=0;R<m.length-1;R++){var U=m[R];if(!(U in E))break e;E=E[U]}m=m[m.length-1],R=E[m],_=_(R),_!=R&&_!=null&&e(E,m,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function c(m,_,E){return m.call.apply(m.bind,arguments)}function u(m,_,E){return u=c,u.apply(null,arguments)}function d(m,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),m.apply(this,R)}}function h(m,_){function E(){}E.prototype=_.prototype,m.Z=_.prototype,m.prototype=new E,m.prototype.constructor=m,m.Ob=function(R,U,W){for(var te=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)te[Ae-2]=arguments[Ae];return _.prototype[U].apply(R,te)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const _=m.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=m[R];return E}return[]}function v(m,_){for(let R=1;R<arguments.length;R++){const U=arguments[R];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=m.length||0;const W=U.length||0;m.length=E+W;for(let te=0;te<W;te++)m[E+te]=U[te]}else m.push(U)}}class b{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function x(m){o.setTimeout(()=>{throw m},0)}function g(){var m=S;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class y{constructor(){this.h=this.g=null}add(_,E){const R=w.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var w=new b(()=>new A,m=>m.reset());class A{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let j,k=!1,S=new y,N=()=>{const m=Promise.resolve(void 0);j=()=>{m.then(T)}};function T(){for(var m;m=g();){try{m.h.call(m.g)}catch(E){x(E)}var _=w;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}k=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};o.addEventListener("test",E,_),o.removeEventListener("test",E,_)}catch{}return m}();function P(m){return/^[\s\xa0]*$/.test(m)}function F(m,_){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}h(F,I),F.prototype.init=function(m,_){const E=this.type=m.type,R=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(E=="mouseover"?_=m.fromElement:E=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),D=0;function V(m,_,E,R,U){this.listener=m,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=U,this.key=++D,this.da=this.fa=!1}function $(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function z(m,_,E){for(const R in m)_.call(E,m[R],R,m)}function q(m,_){for(const E in m)_.call(void 0,m[E],E,m)}function Q(m){const _={};for(const E in m)_[E]=m[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(m,_){let E,R;for(let U=1;U<arguments.length;U++){R=arguments[U];for(E in R)m[E]=R[E];for(let W=0;W<Z.length;W++)E=Z[W],Object.prototype.hasOwnProperty.call(R,E)&&(m[E]=R[E])}}function ke(m){this.src=m,this.g={},this.h=0}ke.prototype.add=function(m,_,E,R,U){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const te=Ze(m,_,R,U);return te>-1?(_=m[te],E||(_.fa=!1)):(_=new V(_,this.src,W,!!R,U),_.fa=E,m.push(_)),_};function We(m,_){const E=_.type;if(E in m.g){var R=m.g[E],U=Array.prototype.indexOf.call(R,_,void 0),W;(W=U>=0)&&Array.prototype.splice.call(R,U,1),W&&($(_),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Ze(m,_,E,R){for(let U=0;U<m.length;++U){const W=m[U];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return U}return-1}var ar="closure_lm_"+(Math.random()*1e6|0),Bt={};function re(m,_,E,R,U){if(Array.isArray(_)){for(let W=0;W<_.length;W++)re(m,_[W],E,R,U);return null}return E=vn(E),m&&m[B]?m.J(_,E,l(R)?!!R.capture:!1,U):je(m,_,E,!1,R,U)}function je(m,_,E,R,U,W){if(!_)throw Error("Invalid event type");const te=l(U)?!!U.capture:!!U;let Ae=ut(m);if(Ae||(m[ar]=Ae=new ke(m)),E=Ae.add(_,E,R,te,W),E.proxy)return E;if(R=_e(),E.proxy=R,R.src=m,R.listener=E,m.addEventListener)M||(U=te),U===void 0&&(U=!1),m.addEventListener(_.toString(),R,U);else if(m.attachEvent)m.attachEvent(Ee(_.toString()),R);else if(m.addListener&&m.removeListener)m.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _e(){function m(E){return _.call(m.src,m.listener,E)}const _=wt;return m}function X(m,_,E,R,U){if(Array.isArray(_))for(var W=0;W<_.length;W++)X(m,_[W],E,R,U);else R=l(R)?!!R.capture:!!R,E=vn(E),m&&m[B]?(m=m.i,W=String(_).toString(),W in m.g&&(_=m.g[W],E=Ze(_,E,R,U),E>-1&&($(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete m.g[W],m.h--)))):m&&(m=ut(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Ze(_,E,R,U)),(E=m>-1?_[m]:null)&&Ke(E))}function Ke(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[B])We(_.i,m);else{var E=m.type,R=m.proxy;_.removeEventListener?_.removeEventListener(E,R,m.capture):_.detachEvent?_.detachEvent(Ee(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=ut(_))?(We(E,m),E.h==0&&(E.src=null,_[ar]=null)):$(m)}}}function Ee(m){return m in Bt?Bt[m]:Bt[m]="on"+m}function wt(m,_){if(m.da)m=!0;else{_=new F(_,this);const E=m.listener,R=m.ha||m.src;m.fa&&Ke(m),m=E.call(R,_)}return m}function ut(m){return m=m[ar],m instanceof ke?m:null}var Ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function vn(m){return typeof m=="function"?m:(m[Ut]||(m[Ut]=function(_){return m.handleEvent(_)}),m[Ut])}function dt(){O.call(this),this.i=new ke(this),this.M=this,this.G=null}h(dt,O),dt.prototype[B]=!0,dt.prototype.removeEventListener=function(m,_,E,R){X(this,m,_,E,R)};function St(m,_){var E,R=m.G;if(R)for(E=[];R;R=R.G)E.push(R);if(m=m.M,R=_.type||_,typeof _=="string")_=new I(_,m);else if(_ instanceof I)_.target=_.target||m;else{var U=_;_=new I(R,m),oe(_,U)}U=!0;let W,te;if(E)for(te=E.length-1;te>=0;te--)W=_.g=E[te],U=Qr(W,R,!0,_)&&U;if(W=_.g=m,U=Qr(W,R,!0,_)&&U,U=Qr(W,R,!1,_)&&U,E)for(te=0;te<E.length;te++)W=_.g=E[te],U=Qr(W,R,!1,_)&&U}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const E=m.g[_];for(let R=0;R<E.length;R++)$(E[R]);delete m.g[_],m.h--}}this.G=null},dt.prototype.J=function(m,_,E,R){return this.i.add(String(m),_,!1,E,R)},dt.prototype.K=function(m,_,E,R){return this.i.add(String(m),_,!0,E,R)};function Qr(m,_,E,R){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let W=0;W<_.length;++W){const te=_[W];if(te&&!te.da&&te.capture==E){const Ae=te.listener,It=te.ha||te.src;te.fa&&We(m.i,te),U=Ae.call(It,R)!==!1&&U}}return U&&!R.defaultPrevented}function li(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:o.setTimeout(m,_||0)}function oo(m){m.g=li(()=>{m.g=null,m.i&&(m.i=!1,oo(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class kh extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(m){O.call(this),this.h=m,this.g={}}h(qi,O);var e2=[];function t2(m){z(m.g,function(_,E){this.g.hasOwnProperty(E)&&Ke(_)},m),m.g={}}qi.prototype.N=function(){qi.Z.N.call(this),t2(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yx=o.JSON.stringify,X3=o.JSON.parse,Q3=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function r2(){}function n2(){}var bc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vx(){I.call(this,"d")}h(vx,I);function bx(){I.call(this,"c")}h(bx,I);var ea={},i2=null;function Th(){return i2=i2||new dt}ea.Ia="serverreachability";function s2(m){I.call(this,ea.Ia,m)}h(s2,I);function wc(m){const _=Th();St(_,new s2(_))}ea.STAT_EVENT="statevent";function a2(m,_){I.call(this,ea.STAT_EVENT,m),this.stat=_}h(a2,I);function vr(m){const _=Th();St(_,new a2(_,m))}ea.Ja="timingevent";function o2(m,_){I.call(this,ea.Ja,m),this.size=_}h(o2,I);function jc(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},_)}function Nc(){this.g=!0}Nc.prototype.ua=function(){this.g=!1};function J3(m,_,E,R,U,W){m.info(function(){if(m.g)if(W){var te="",Ae=W.split("&");for(let qe=0;qe<Ae.length;qe++){var It=Ae[qe].split("=");if(It.length>1){const zt=It[0];It=It[1];const $n=zt.split("_");te=$n.length>=2&&$n[1]=="type"?te+(zt+"="+It+"&"):te+(zt+"=redacted&")}}}else te=null;else te=W;return"XMLHTTP REQ ("+R+") [attempt "+U+"]: "+_+`
`+E+`
`+te})}function Z3(m,_,E,R,U,W,te){m.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+U+"]: "+_+`
`+E+`
`+W+" "+te})}function lo(m,_,E,R){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+t5(m,E)+(R?" "+R:"")})}function e5(m,_){m.info(function(){return"TIMEOUT: "+_})}Nc.prototype.info=function(){};function t5(m,_){if(!m.g)return _;if(!_)return null;try{const W=JSON.parse(_);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var E=W[m];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var U=R[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<R.length;te++)R[te]=""}}}}return yx(W)}catch{return _}}var Eh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},l2={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},c2;function wx(){}h(wx,r2),wx.prototype.g=function(){return new XMLHttpRequest},c2=new wx;function _c(m){return encodeURIComponent(String(m))}function r5(m){var _=1;m=m.split(":");const E=[];for(;_>0&&m.length;)E.push(m.shift()),_--;return m.length&&E.push(m.join(":")),E}function Gi(m,_,E,R){this.j=m,this.i=_,this.l=E,this.S=R||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new u2}function u2(){this.i=null,this.g="",this.h=!1}var d2={},jx={};function Nx(m,_,E){m.M=1,m.A=Ih(Ln(_)),m.u=E,m.R=!0,h2(m,null)}function h2(m,_){m.F=Date.now(),Ph(m),m.B=Ln(m.A);var E=m.B,R=m.S;Array.isArray(R)||(R=[String(R)]),S2(E.i,"t",R),m.C=0,E=m.j.L,m.h=new u2,m.g=z2(m.j,E?_:null,!m.u),m.P>0&&(m.O=new kh(u(m.Y,m,m.g),m.P)),_=m.V,E=m.g,R=m.ba;var U="readystatechange";Array.isArray(U)||(U&&(e2[0]=U.toString()),U=e2);for(let W=0;W<U.length;W++){const te=re(E,U[W],R||_.handleEvent,!1,_.h||_);if(!te)break;_.g[te.key]=te}_=m.J?Q(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),wc(),J3(m.i,m.v,m.B,m.l,m.S,m.u)}Gi.prototype.ba=function(m){m=m.target;const _=this.O;_&&Xi(m)==3?_.j():this.Y(m)},Gi.prototype.Y=function(m){try{if(m==this.g)e:{const Ae=Xi(this.g),It=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||C2(this.g)))){this.K||Ae!=4||It==7||(It==8||qe<=0?wc(3):wc(2)),_x(this);var _=this.g.ca();this.X=_;var E=n5(this);if(this.o=_==200,Z3(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var R,U=this.g;if((R=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(R)){var W=R;break t}}W=null}if(m=W)lo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sx(this,m);else{this.o=!1,this.m=3,vr(12),ta(this),Sc(this);break e}}if(this.R){m=!0;let zt;for(;!this.K&&this.C<E.length;)if(zt=i5(this,E),zt==jx){Ae==4&&(this.m=4,vr(14),m=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==d2){this.m=4,vr(15),lo(this.i,this.l,E,"[Invalid Chunk]"),m=!1;break}else lo(this.i,this.l,zt,null),Sx(this,zt);if(f2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,vr(16),m=!1),this.o=this.o&&m,!m)lo(this.i,this.l,E,"[Invalid Chunked Response]"),ta(this),Sc(this);else if(E.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ox(te),te.P=!0,vr(11))}}else lo(this.i,this.l,E,null),Sx(this,E);Ae==4&&ta(this),this.o&&!this.K&&(Ae==4?V2(this.j,this):(this.o=!1,Ph(this)))}else y5(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,vr(12)):(this.m=0,vr(13)),ta(this),Sc(this)}}}catch{}finally{}};function n5(m){if(!f2(m))return m.g.la();const _=C2(m.g);if(_==="")return"";let E="";const R=_.length,U=Xi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ta(m),Sc(m),"";m.h.i=new o.TextDecoder}for(let W=0;W<R;W++)m.h.h=!0,E+=m.h.i.decode(_[W],{stream:!(U&&W==R-1)});return _.length=0,m.h.g+=E,m.C=0,m.h.g}function f2(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function i5(m,_){var E=m.C,R=_.indexOf(`
`,E);return R==-1?jx:(E=Number(_.substring(E,R)),isNaN(E)?d2:(R+=1,R+E>_.length?jx:(_=_.slice(R,R+E),m.C=R+E,_)))}Gi.prototype.cancel=function(){this.K=!0,ta(this)};function Ph(m){m.T=Date.now()+m.H,m2(m,m.H)}function m2(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=jc(u(m.aa,m),_)}function _x(m){m.D&&(o.clearTimeout(m.D),m.D=null)}Gi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(e5(this.i,this.B),this.M!=2&&(wc(),vr(17)),ta(this),this.m=2,Sc(this)):m2(this,this.T-m)};function Sc(m){m.j.I==0||m.K||V2(m.j,m)}function ta(m){_x(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,t2(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Sx(m,_){try{var E=m.j;if(E.I!=0&&(E.g==m||Ax(E.h,m))){if(!m.L&&Ax(E.h,m)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var U=R;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<m.F)Rh(E),Mh(E);else break e;Cx(E),vr(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=jc(u(E.Va,E),6e3));x2(E.h)<=1&&E.ta&&(E.ta=void 0)}else na(E,11)}else if((m.L||E.g==m)&&Rh(E),!P(_))for(U=E.Ba.g.parse(_),_=0;_<U.length;_++){let qe=U[_];const zt=qe[0];if(!(zt<=E.K))if(E.K=zt,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const $n=qe[3];$n!=null&&(E.ka=$n,E.j.info("VER="+E.ka));const ia=qe[4];ia!=null&&(E.za=ia,E.j.info("SVER="+E.za));const Qi=qe[5];Qi!=null&&typeof Qi=="number"&&Qi>0&&(R=1.5*Qi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Ji=m.g;if(Ji){const $h=Ji.g?Ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($h){var W=R.h;W.g||$h.indexOf("spdy")==-1&&$h.indexOf("quic")==-1&&$h.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(kx(W,W.h),W.h=null))}if(R.G){const Mx=Ji.g?Ji.g.getResponseHeader("X-HTTP-Session-Id"):null;Mx&&(R.wa=Mx,et(R.J,R.G,Mx))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-m.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var te=m;if(R.na=U2(R,R.L?R.ba:null,R.W),te.L){y2(R.h,te);var Ae=te,It=R.O;It&&(Ae.H=It),Ae.D&&(_x(Ae),Ph(Ae)),R.g=te}else L2(R);E.i.length>0&&Dh(E)}else qe[0]!="stop"&&qe[0]!="close"||na(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?na(E,7):Ix(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}wc(4)}catch{}}var s5=class{constructor(m,_){this.g=m,this.map=_}};function p2(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function g2(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function x2(m){return m.h?1:m.g?m.g.size:0}function Ax(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function kx(m,_){m.g?m.g.add(_):m.h=_}function y2(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}p2.prototype.cancel=function(){if(this.i=v2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function v2(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const E of m.g.values())_=_.concat(E.G);return _}return p(m.i)}var b2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a5(m,_){if(m){m=m.split("&");for(let E=0;E<m.length;E++){const R=m[E].indexOf("=");let U,W=null;R>=0?(U=m[E].substring(0,R),W=m[E].substring(R+1)):U=m[E],_(U,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ki(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof Ki?(this.l=m.l,Ac(this,m.j),this.o=m.o,this.g=m.g,kc(this,m.u),this.h=m.h,Tx(this,A2(m.i)),this.m=m.m):m&&(_=String(m).match(b2))?(this.l=!1,Ac(this,_[1]||"",!0),this.o=Tc(_[2]||""),this.g=Tc(_[3]||"",!0),kc(this,_[4]),this.h=Tc(_[5]||"",!0),Tx(this,_[6]||"",!0),this.m=Tc(_[7]||"")):(this.l=!1,this.i=new Pc(null,this.l))}Ki.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(Ec(_,w2,!0),":");var E=this.g;return(E||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Ec(_,w2,!0),"@"),m.push(_c(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&m.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Ec(E,E.charAt(0)=="/"?c5:l5,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Ec(E,d5)),m.join("")},Ki.prototype.resolve=function(m){const _=Ln(this);let E=!!m.j;E?Ac(_,m.j):E=!!m.o,E?_.o=m.o:E=!!m.g,E?_.g=m.g:E=m.u!=null;var R=m.h;if(E)kc(_,m.u);else if(E=!!m.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var U=_.h.lastIndexOf("/");U!=-1&&(R=_.h.slice(0,U+1)+R)}if(U=R,U==".."||U==".")R="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){R=U.lastIndexOf("/",0)==0,U=U.split("/");const W=[];for(let te=0;te<U.length;){const Ae=U[te++];Ae=="."?R&&te==U.length&&W.push(""):Ae==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),R&&te==U.length&&W.push("")):(W.push(Ae),R=!0)}R=W.join("/")}else R=U}return E?_.h=R:E=m.i.toString()!=="",E?Tx(_,A2(m.i)):E=!!m.m,E&&(_.m=m.m),_};function Ln(m){return new Ki(m)}function Ac(m,_,E){m.j=E?Tc(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function kc(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function Tx(m,_,E){_ instanceof Pc?(m.i=_,h5(m.i,m.l)):(E||(_=Ec(_,u5)),m.i=new Pc(_,m.l))}function et(m,_,E){m.i.set(_,E)}function Ih(m){return et(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Tc(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ec(m,_,E){return typeof m=="string"?(m=encodeURI(m).replace(_,o5),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function o5(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var w2=/[#\/\?@]/g,l5=/[#\?:]/g,c5=/[#\?]/g,u5=/[#\?@]/g,d5=/#/g;function Pc(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ra(m){m.g||(m.g=new Map,m.h=0,m.i&&a5(m.i,function(_,E){m.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=Pc.prototype,t.add=function(m,_){ra(this),this.i=null,m=co(this,m);let E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(_),this.h+=1,this};function j2(m,_){ra(m),_=co(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function N2(m,_){return ra(m),_=co(m,_),m.g.has(_)}t.forEach=function(m,_){ra(this),this.g.forEach(function(E,R){E.forEach(function(U){m.call(_,U,R,this)},this)},this)};function _2(m,_){ra(m);let E=[];if(typeof _=="string")N2(m,_)&&(E=E.concat(m.g.get(co(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)E=E.concat(m[_]);return E}t.set=function(m,_){return ra(this),this.i=null,m=co(this,m),N2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=_2(this,m),m.length>0?String(m[0]):_):_};function S2(m,_,E){j2(m,_),E.length>0&&(m.i=null,m.g.set(co(m,_),p(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const U=_c(E);E=_2(this,E);for(let W=0;W<E.length;W++){let te=U;E[W]!==""&&(te+="="+_c(E[W])),m.push(te)}}return this.i=m.join("&")};function A2(m){const _=new Pc;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function co(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function h5(m,_){_&&!m.j&&(ra(m),m.i=null,m.g.forEach(function(E,R){const U=R.toLowerCase();R!=U&&(j2(this,R),S2(this,U,E))},m)),m.j=_}function f5(m,_){const E=new Nc;if(o.Image){const R=new Image;R.onload=d(Yi,E,"TestLoadImage: loaded",!0,_,R),R.onerror=d(Yi,E,"TestLoadImage: error",!1,_,R),R.onabort=d(Yi,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=d(Yi,E,"TestLoadImage: timeout",!1,_,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=m}else _(!1)}function m5(m,_){const E=new Nc,R=new AbortController,U=setTimeout(()=>{R.abort(),Yi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:R.signal}).then(W=>{clearTimeout(U),W.ok?Yi(E,"TestPingServer: ok",!0,_):Yi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Yi(E,"TestPingServer: error",!1,_)})}function Yi(m,_,E,R,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),R(E)}catch{}}function p5(){this.g=new Q3}function Ex(m){this.i=m.Sb||null,this.h=m.ab||!1}h(Ex,r2),Ex.prototype.g=function(){return new Ch(this.i,this.h)};function Ch(m,_){dt.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Ch,dt),t=Ch.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,Cc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||o).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Cc(this)),this.g&&(this.readyState=3,Cc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;k2(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function k2(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Ic(this):Cc(this),this.readyState==3&&k2(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Ic(this))},t.Na=function(m){this.g&&(this.response=m,Ic(this))},t.ga=function(){this.g&&Ic(this)};function Ic(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Cc(m)}t.setRequestHeader=function(m,_){this.A.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=_.next();return m.join(`\r
`)};function Cc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function T2(m){let _="";return z(m,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function Px(m,_,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=T2(E),typeof m=="string"?E!=null&&_c(E):et(m,_,E))}function yt(m){dt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(yt,dt);var g5=/^https?$/i,x5=["POST","PUT"];t=yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():c2.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(W){E2(this,W);return}if(m=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var U in R)E.set(U,R[U]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),U=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(x5,_,void 0)>=0)||R||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of E)this.g.setRequestHeader(W,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){E2(this,W)}};function E2(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,P2(m),Oh(m)}function P2(m){m.A||(m.A=!0,St(m,"complete"),St(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,St(this,"complete"),St(this,"abort"),Oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oh(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?I2(this):this.Xa())},t.Xa=function(){I2(this)};function I2(m){if(m.h&&typeof a<"u"){if(m.v&&Xi(m)==4)setTimeout(m.Ca.bind(m),0);else if(St(m,"readystatechange"),Xi(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var R;if(R=W===0){let te=String(m.D).match(b2)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),R=!g5.test(te?te.toLowerCase():"")}E=R}if(E)St(m,"complete"),St(m,"success");else{m.o=6;try{var U=Xi(m)>2?m.g.statusText:""}catch{U=""}m.l=U+" ["+m.ca()+"]",P2(m)}}finally{Oh(m)}}}}function Oh(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const E=m.g;m.g=null,_||St(m,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xi(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),X3(_)}};function C2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function y5(m){const _={};m=(m.g&&Xi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<m.length;R++){if(P(m[R]))continue;var E=r5(m[R]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[U]||[];_[U]=W,W.push(E)}q(_,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oc(m,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||_}function O2(m){this.za=0,this.i=[],this.j=new Nc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oc("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oc("baseRetryDelayMs",5e3,m),this.Za=Oc("retryDelaySeedMs",1e4,m),this.Ta=Oc("forwardChannelMaxRetries",2,m),this.va=Oc("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new p2(m&&m.concurrentRequestLimit),this.Ba=new p5,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=O2.prototype,t.ka=8,t.I=1,t.connect=function(m,_,E,R){vr(0),this.W=m,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=U2(this,null,this.W),Dh(this)};function Ix(m){if(M2(m),m.I==3){var _=m.V++,E=Ln(m.J);if(et(E,"SID",m.M),et(E,"RID",_),et(E,"TYPE","terminate"),Mc(m,E),_=new Gi(m,m.j,_),_.M=2,_.A=Ih(Ln(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=_.A,E=!0),E||(_.g=z2(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ph(_)}B2(m)}function Mh(m){m.g&&(Ox(m),m.g.cancel(),m.g=null)}function M2(m){Mh(m),m.v&&(o.clearTimeout(m.v),m.v=null),Rh(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Dh(m){if(!g2(m.h)&&!m.m){m.m=!0;var _=m.Ea;j||N(),k||(j(),k=!0),S.add(_,m),m.D=0}}function v5(m,_){return x2(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=jc(u(m.Ea,m,_),F2(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const U=new Gi(this,this.j,m);let W=this.o;if(this.U&&(W?(W=Q(W),oe(W,this.U)):W=this.U),this.u!==null||this.R||(U.J=W,W=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=R2(this,U,_),E=Ln(this.J),et(E,"RID",m),et(E,"CVER",22),this.G&&et(E,"X-HTTP-Session-Id",this.G),Mc(this,E),W&&(this.R?_="headers="+_c(T2(W))+"&"+_:this.u&&Px(E,this.u,W)),kx(this.h,U),this.Ra&&et(E,"TYPE","init"),this.S?(et(E,"$req",_),et(E,"SID","null"),U.U=!0,Nx(U,E,null)):Nx(U,E,_),this.I=2}}else this.I==3&&(m?D2(this,m):this.i.length==0||g2(this.h)||D2(this))};function D2(m,_){var E;_?E=_.l:E=m.V++;const R=Ln(m.J);et(R,"SID",m.M),et(R,"RID",E),et(R,"AID",m.K),Mc(m,R),m.u&&m.o&&Px(R,m.u,m.o),E=new Gi(m,m.j,E,m.D+1),m.u===null&&(E.J=m.o),_&&(m.i=_.G.concat(m.i)),_=R2(m,E,1e3),E.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),kx(m.h,E),Nx(E,R,_)}function Mc(m,_){m.H&&z(m.H,function(E,R){et(_,R,E)}),m.l&&z({},function(E,R){et(_,R,E)})}function R2(m,_,E){E=Math.min(m.i.length,E);const R=m.l?u(m.l.Ka,m.l,m):null;e:{var U=m.i;let Ae=-1;for(;;){const It=["count="+E];Ae==-1?E>0?(Ae=U[0].g,It.push("ofs="+Ae)):Ae=0:It.push("ofs="+Ae);let qe=!0;for(let zt=0;zt<E;zt++){var W=U[zt].g;const $n=U[zt].map;if(W-=Ae,W<0)Ae=Math.max(0,U[zt].g-100),qe=!1;else try{W="req"+W+"_"||"";try{var te=$n instanceof Map?$n:Object.entries($n);for(const[ia,Qi]of te){let Ji=Qi;l(Qi)&&(Ji=yx(Qi)),It.push(W+ia+"="+encodeURIComponent(Ji))}}catch(ia){throw It.push(W+"type="+encodeURIComponent("_badmap")),ia}}catch{R&&R($n)}}if(qe){te=It.join("&");break e}}te=void 0}return m=m.i.splice(0,E),_.G=m,te}function L2(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;j||N(),k||(j(),k=!0),S.add(_,m),m.A=0}}function Cx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=jc(u(m.Da,m),F2(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,$2(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=jc(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vr(10),Mh(this),$2(this))};function Ox(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function $2(m){m.g=new Gi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Ln(m.na);et(_,"RID","rpc"),et(_,"SID",m.M),et(_,"AID",m.K),et(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&et(_,"TO",m.ia),et(_,"TYPE","xmlhttp"),Mc(m,_),m.u&&m.o&&Px(_,m.u,m.o),m.O&&(m.g.H=m.O);var E=m.g;m=m.ba,E.M=1,E.A=Ih(Ln(_)),E.u=null,E.R=!0,h2(E,m)}t.Va=function(){this.C!=null&&(this.C=null,Mh(this),Cx(this),vr(19))};function Rh(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function V2(m,_){var E=null;if(m.g==_){Rh(m),Ox(m),m.g=null;var R=2}else if(Ax(m.h,_))E=_.G,y2(m.h,_),R=1;else return;if(m.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var U=m.D;R=Th(),St(R,new o2(R,E)),Dh(m)}else L2(m);else if(U=_.m,U==3||U==0&&_.X>0||!(R==1&&v5(m,_)||R==2&&Cx(m)))switch(E&&E.length>0&&(_=m.h,_.i=_.i.concat(E)),U){case 1:na(m,5);break;case 4:na(m,10);break;case 3:na(m,6);break;default:na(m,2)}}}function F2(m,_){let E=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(E*=2),E*_}function na(m,_){if(m.j.info("Error code "+_),_==2){var E=u(m.bb,m),R=m.Ua;const U=!R;R=new Ki(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ac(R,"https"),Ih(R),U?f5(R.toString(),E):m5(R.toString(),E)}else vr(2);m.I=0,m.l&&m.l.pa(_),B2(m),M2(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function B2(m){if(m.I=0,m.ja=[],m.l){const _=v2(m.h);(_.length!=0||m.i.length!=0)&&(v(m.ja,_),v(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function U2(m,_,E){var R=E instanceof Ki?Ln(E):new Ki(E);if(R.g!="")_&&(R.g=_+"."+R.g),kc(R,R.u);else{var U=o.location;R=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const W=new Ki(null);R&&Ac(W,R),_&&(W.g=_),U&&kc(W,U),E&&(W.h=E),R=W}return E=m.G,_=m.wa,E&&_&&et(R,E,_),et(R,"VER",m.ka),Mc(m,R),R}function z2(m,_,E){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new yt(new Ex({ab:E})):new yt(m.ma),_.Fa(m.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function W2(){}t=W2.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Lh(){}Lh.prototype.g=function(m,_){return new Rr(m,_)};function Rr(m,_){dt.call(this),this.g=new O2(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!P(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new uo(this)}h(Rr,dt),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){Ix(this.g)},Rr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.v&&(E={},E.__data__=yx(m),m=E);_.i.push(new s5(_.Ya++,m)),_.I==3&&Dh(_)},Rr.prototype.N=function(){this.g.l=null,delete this.j,Ix(this.g),delete this.g,Rr.Z.N.call(this)};function H2(m){vx.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const E in _){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}h(H2,vx);function q2(){bx.call(this),this.status=1}h(q2,bx);function uo(m){this.g=m}h(uo,W2),uo.prototype.ra=function(){St(this.g,"a")},uo.prototype.qa=function(m){St(this.g,new H2(m))},uo.prototype.pa=function(m){St(this.g,new q2)},uo.prototype.oa=function(){St(this.g,"b")},Lh.prototype.createWebChannel=Lh.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,bO=function(){return new Lh},vO=function(){return Th()},yO=ea,ub={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Eh.NO_ERROR=0,Eh.TIMEOUT=8,Eh.HTTP_ERROR=6,Uf=Eh,l2.COMPLETE="complete",xO=l2,n2.EventType=bc,bc.OPEN="a",bc.CLOSE="b",bc.ERROR="c",bc.MESSAGE="d",dt.prototype.listen=dt.prototype.J,cu=n2,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,gO=yt}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",W_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new rj("@firebase/firestore");function bo(){return Va.logLevel}function ne(t,...e){if(Va.logLevel<=Pe.DEBUG){const r=e.map(fj);Va.debug(`Firestore (${tc}): ${t}`,...r)}}function Oi(t,...e){if(Va.logLevel<=Pe.ERROR){const r=e.map(fj);Va.error(`Firestore (${tc}): ${t}`,...r)}}function ul(t,...e){if(Va.logLevel<=Pe.WARN){const r=e.map(fj);Va.warn(`Firestore (${tc}): ${t}`,...r)}}function fj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,wO(t,n,r)}function wO(t,e,r){let n=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Oi(n),new Error(n)}function Ve(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||wO(e,i,n)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Bi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(dr.UNAUTHENTICATED))}shutdown(){}}class pB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gB{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ve(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cs)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new jO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new dr(e)}}class xB{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yB{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new xB(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vB{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ve(this.o===void 0,3512);const n=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new H_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new H_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=bB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ie(t,e){return t<e?-1:t>e?1:0}function db(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return gy(i)===gy(a)?Ie(i,a):gy(i)?1:-1}return Ie(t.length,e.length)}const wB=55296,jB=57343;function gy(t){const e=t.charCodeAt(0);return e>=wB&&e<=jB}function dl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="__name__";class Bn{constructor(e,r,n){r===void 0?r=0:r>e.length&&fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Bn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Bn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Bn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ie(e.length,r.length)}static compareSegments(e,r){const n=Bn.isNumericId(e),i=Bn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Bn.extractNumericId(e).compare(Bn.extractNumericId(r)):db(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class mt extends Bn{construct(e,r,n){return new mt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new mt(r)}static emptyPath(){return new mt([])}}const NB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rr extends Bn{construct(e,r,n){return new rr(e,r,n)}static isValidIdentifier(e){return NB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q_}static keyField(){return new rr([q_])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rr(r)}static emptyPath(){return new rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(mt.fromString(e))}static fromName(e){return new ce(mt.fromString(e).popFirst(5))}static empty(){return new ce(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t,e,r){if(!r)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SB(t,e,r,n){if(e===!0&&n===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function G_(t){if(!ce.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function od(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=pj(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const r={typeString:t};return e&&(r.value=e),r}function dh(t,e){if(!NO(t))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ae(Y.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=-62135596800,Y_=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*Y_);return new at(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<K_)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Et("string",at._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new at(0,0))}static max(){return new ve(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function AB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(n===1e9?new at(r+1,0):new at(r,n));return new Ls(i,ce.empty(),e)}function kB(t){return new Ls(t.readTime,t.key,ld)}class Ls{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ls(ve.min(),ce.empty(),ld)}static max(){return new Ls(ve.max(),ce.empty(),ld)}}function TB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ce.comparator(t.documentKey,e.documentKey),r!==0?r:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==EB)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new G((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof G?r:G.resolve(r)}catch(r){return G.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):G.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):G.reject(r)}static resolve(e){return new G((r,n)=>{r(e)})}static reject(e){return new G((r,n)=>{n(e)})}static waitFor(e){return new G((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>n(c))}),o=!0,a===i&&r()})}static or(e){let r=G.resolve(!1);for(const n of e)r=r.next(i=>i?G.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new G((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new G((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function IB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=-1;function mg(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function CB(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="";function OB(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=X_(e)),e=MB(t.get(r),e);return X_(e)}function MB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case _O:r+="";break;default:r+=a}}return r}function X_(t){return t+_O+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Qa(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function SO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){this.comparator=e,this.root=r||tr.EMPTY}insert(e,r){return new xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??tr.RED,this.left=i??tr.EMPTY,this.right=a??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new tr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return tr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new tr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vt(this.comparator);return r.data=e,r}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(rr.comparator)}static empty(){return new En([])}unionWith(e){let r=new Vt(rr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new En(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new AO("Invalid base64 string: "+a):a}}(e);return new sr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new sr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const r=DB.exec(t);if(Ve(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="server_timestamp",TO="__type__",EO="__previous_value__",PO="__local_write_time__";function xj(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[TO])==null?void 0:n.stringValue)===kO}function pg(t){const e=t.mapValue.fields[EO];return xj(e)?pg(e):e}function cd(t){const e=$s(t.mapValue.fields[PO].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,r,n,i,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Em="(default)";class ud{constructor(e,r){this.projectId=e,this.database=r||Em}static empty(){return new ud("","")}get isDefaultDatabase(){return this.database===Em}isEqual(e){return e instanceof ud&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="__type__",LB="__max__",of={mapValue:{}},CO="__vector__",Pm="value";function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xj(t)?4:VB(t)?9007199254740991:$B(t)?10:11:fe(28295,{value:t})}function ti(t,e){if(t===e)return!0;const r=Fs(t);if(r!==Fs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cd(t).isEqual(cd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=$s(i.timestampValue),l=$s(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Vs(i.bytesValue).isEqual(Vs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return jt(i.geoPointValue.latitude)===jt(a.geoPointValue.latitude)&&jt(i.geoPointValue.longitude)===jt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return jt(i.integerValue)===jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=jt(i.doubleValue),l=jt(a.doubleValue);return o===l?Tm(o)===Tm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(Q_(o)!==Q_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ti(o[c],l[c])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function dd(t,e){return(t.values||[]).find(r=>ti(r,e))!==void 0}function hl(t,e){if(t===e)return 0;const r=Fs(t),n=Fs(e);if(r!==n)return Ie(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=jt(a.integerValue||a.doubleValue),c=jt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(cd(t),cd(e));case 5:return db(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Vs(a),c=Vs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ie(l[u],c[u]);if(d!==0)return d}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Ie(jt(a.latitude),jt(o.latitude));return l!==0?l:Ie(jt(a.longitude),jt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var f,p,v,b;const l=a.fields||{},c=o.fields||{},u=(f=l[Pm])==null?void 0:f.arrayValue,d=(p=c[Pm])==null?void 0:p.arrayValue,h=Ie(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:eS(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===of.mapValue&&o===of.mapValue)return 0;if(a===of.mapValue)return 1;if(o===of.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=db(c[h],d[h]);if(f!==0)return f;const p=hl(l[c[h]],u[d[h]]);if(p!==0)return p}return Ie(c.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:r})}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const r=$s(t),n=$s(e),i=Ie(r.seconds,n.seconds);return i!==0?i:Ie(r.nanos,n.nanos)}function eS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=hl(r[i],n[i]);if(a)return a}return Ie(r.length,n.length)}function fl(t){return hb(t)}function hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=$s(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Vs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ce.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=hb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${hb(r.fields[o])}`;return i+"}"}(t.mapValue):fe(61005,{value:t})}function zf(t){switch(Fs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pg(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+zf(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Qa(n.fields,(a,o)=>{i+=a.length+zf(o)}),i}(t.mapValue);default:throw fe(13486,{value:t})}}function fb(t){return!!t&&"integerValue"in t}function yj(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function $B(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[IO])==null?void 0:n.stringValue)===CO}function Au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Au(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Au(t.arrayValue.values[r]);return e}return{...t}}function VB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Wf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(r)}setAll(e){let r=rr.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Au(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Wf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Qa(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new an(Au(this.value))}}function OO(t){const e=[];return Qa(t.fields,(r,n)=>{const i=new rr([r]);if(Wf(n)){const a=OO(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fr(e,0,ve.min(),ve.min(),ve.min(),an.empty(),0)}static newFoundDocument(e,r,n,i){return new fr(e,1,r,ve.min(),n,i,0)}static newNoDocument(e,r){return new fr(e,2,r,ve.min(),ve.min(),an.empty(),0)}static newUnknownDocument(e,r){return new fr(e,3,r,ve.min(),ve.min(),an.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r){this.position=e,this.inclusive=r}}function nS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ce.comparator(ce.fromName(o.referenceValue),r.key):n=hl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function iS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ti(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r="asc"){this.field=e,this.dir=r}}function FB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class Dt extends MO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new UB(e,r,n):r==="array-contains"?new HB(e,n):r==="in"?new qB(e,n):r==="not-in"?new GB(e,n):r==="array-contains-any"?new KB(e,n):new Dt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new zB(e,n):new WB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(hl(r,this.value)):r!==null&&Fs(this.value)===Fs(r)&&this.matchesComparison(hl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends MO{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ri(e,r)}matches(e){return DO(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DO(t){return t.op==="and"}function RO(t){return BB(t)&&DO(t)}function BB(t){for(const e of t.filters)if(e instanceof ri)return!1;return!0}function mb(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(RO(t))return t.filters.map(e=>mb(e)).join(",");{const e=t.filters.map(r=>mb(r)).join(",");return`${t.op}(${e})`}}function LO(t,e){return t instanceof Dt?function(n,i){return i instanceof Dt&&n.op===i.op&&n.field.isEqual(i.field)&&ti(n.value,i.value)}(t,e):t instanceof ri?function(n,i){return i instanceof ri&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&LO(o,i.filters[l]),!0):!1}(t,e):void fe(19439)}function $O(t){return t instanceof Dt?function(r){return`${r.field.canonicalString()} ${r.op} ${fl(r.value)}`}(t):t instanceof ri?function(r){return r.op.toString()+" {"+r.getFilters().map($O).join(" ,")+"}"}(t):"Filter"}class UB extends Dt{constructor(e,r,n){super(e,r,n),this.key=ce.fromName(n.referenceValue)}matches(e){const r=ce.comparator(e.key,this.key);return this.matchesComparison(r)}}class zB extends Dt{constructor(e,r){super(e,"in",r),this.keys=VO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class WB extends Dt{constructor(e,r){super(e,"not-in",r),this.keys=VO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function VO(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>ce.fromName(n.referenceValue))}class HB extends Dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return yj(r)&&dd(r.arrayValue,this.value)}}class qB extends Dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&dd(this.value.arrayValue,r)}}class GB extends Dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!dd(this.value.arrayValue,r)}}class KB extends Dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!yj(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>dd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function sS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new YB(t,e,r,n,i,a,o)}function vj(t){const e=we(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>mb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),mg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>fl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>fl(n)).join(",")),e.Te=r}return e.Te}function bj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!FB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!LO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iS(t.startAt,e.startAt)&&iS(t.endAt,e.endAt)}function pb(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XB(t,e,r,n,i,a,o,l){return new gg(t,e,r,n,i,a,o,l)}function wj(t){return new gg(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QB(t){return t.collectionGroup!==null}function ku(t){const e=we(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(rr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cm(a,n))}),r.has(rr.keyField().canonicalString())||e.Ie.push(new Cm(rr.keyField(),n))}return e.Ie}function Kn(t){const e=we(t);return e.Ee||(e.Ee=JB(e,ku(t))),e.Ee}function JB(t,e){if(t.limitType==="F")return sS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Cm(i.field,a)});const r=t.endAt?new Im(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Im(t.startAt.position,t.startAt.inclusive):null;return sS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function gb(t,e,r){return new gg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function xg(t,e){return bj(Kn(t),Kn(e))&&t.limitType===e.limitType}function FO(t){return`${vj(Kn(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>$O(i)).join(", ")}]`),mg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>fl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>fl(i)).join(",")),`Target(${n})`}(Kn(t))}; limitType=${t.limitType})`}function yg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ce.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of ku(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,c){const u=nS(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,ku(n),i)||n.endAt&&!function(o,l,c){const u=nS(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,ku(n),i))}(t,e)}function ZB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BO(t){return(e,r)=>{let n=!1;for(const i of ku(t)){const a=eU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function eU(t,e,r){const n=t.field.isKeyField()?ce.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?hl(c,u):fe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return SO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new xt(ce.comparator);function Mi(){return tU}const UO=new xt(ce.comparator);function uu(...t){let e=UO;for(const r of t)e=e.insert(r.key,r);return e}function zO(t){let e=UO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function va(){return Tu()}function WO(){return Tu()}function Tu(){return new Ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const rU=new xt(ce.comparator),nU=new Vt(ce.comparator);function Ce(...t){let e=nU;for(const r of t)e=e.add(r);return e}const iU=new Vt(Ie);function sU(){return iU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function HO(t){return{integerValue:""+t}}function aU(t,e){return CB(e)?HO(e):jj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function oU(t,e,r){return t instanceof hd?function(i,a){const o={fields:{[TO]:{stringValue:kO},[PO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&xj(a)&&(a=pg(a)),a&&(o.fields[EO]=a),{mapValue:o}}(r,e):t instanceof fd?GO(t,e):t instanceof md?KO(t,e):function(i,a){const o=qO(i,a),l=oS(o)+oS(i.Ae);return fb(o)&&fb(i.Ae)?HO(l):jj(i.serializer,l)}(t,e)}function lU(t,e,r){return t instanceof fd?GO(t,e):t instanceof md?KO(t,e):r}function qO(t,e){return t instanceof Om?function(n){return fb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class hd extends vg{}class fd extends vg{constructor(e){super(),this.elements=e}}function GO(t,e){const r=YO(e);for(const n of t.elements)r.some(i=>ti(i,n))||r.push(n);return{arrayValue:{values:r}}}class md extends vg{constructor(e){super(),this.elements=e}}function KO(t,e){let r=YO(e);for(const n of t.elements)r=r.filter(i=>!ti(i,n));return{arrayValue:{values:r}}}class Om extends vg{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function oS(t){return jt(t.integerValue||t.doubleValue)}function YO(t){return yj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,r){this.field=e,this.transform=r}}function uU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof fd&&i instanceof fd||n instanceof md&&i instanceof md?dl(n.elements,i.elements,ti):n instanceof Om&&i instanceof Om?ti(n.Ae,i.Ae):n instanceof hd&&i instanceof hd}(t.transform,e.transform)}class dU{constructor(e,r){this.version=e,this.transformResults=r}}class Ni{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bg{}function XO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new JO(t.key,Ni.none()):new hh(t.key,t.data,Ni.none());{const r=t.data,n=an.empty();let i=new Vt(rr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Za(t.key,n,new En(i.toArray()),Ni.none())}}function hU(t,e,r){t instanceof hh?function(i,a,o){const l=i.value.clone(),c=cS(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Za?function(i,a,o){if(!Hf(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=cS(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(QO(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Eu(t,e,r,n){return t instanceof hh?function(a,o,l,c){if(!Hf(a.precondition,o))return l;const u=a.value.clone(),d=uS(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Za?function(a,o,l,c){if(!Hf(a.precondition,o))return l;const u=uS(a.fieldTransforms,c,o),d=o.data;return d.setAll(QO(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return Hf(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function fU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=qO(n.transform,i||null);a!=null&&(r===null&&(r=an.empty()),r.set(n.field,a))}return r||null}function lS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&dl(n,i,(a,o)=>uU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends bg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Za extends bg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function QO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function cS(t,e,r){const n=new Map;Ve(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,lU(o,l,r[i]))}return n}function uS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,oU(a,o,e))}return n}class JO extends bg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mU extends bg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Eu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Eu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=WO();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=XO(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ce())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(r,n)=>lS(r,n))&&dl(this.baseMutations,e.baseMutations,(r,n)=>lS(r,n))}}class Nj{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return rU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Nj(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Oe;function yU(t){switch(t){case Y.OK:return fe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function ZO(t){if(t===void 0)return Oi("GRPC error has no .code"),Y.UNKNOWN;switch(t){case At.OK:return Y.OK;case At.CANCELLED:return Y.CANCELLED;case At.UNKNOWN:return Y.UNKNOWN;case At.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case At.INTERNAL:return Y.INTERNAL;case At.UNAVAILABLE:return Y.UNAVAILABLE;case At.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case At.NOT_FOUND:return Y.NOT_FOUND;case At.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case At.ABORTED:return Y.ABORTED;case At.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case At.DATA_LOSS:return Y.DATA_LOSS;default:return fe(39323,{code:t})}}(Oe=At||(At={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Is([4294967295,4294967295],0);function dS(t){const e=vU().encode(t),r=new pO;return r.update(e),new Uint8Array(r.digest())}function hS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Is([r,n],0),new Is([i,a],0)]}class _j{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new du(`Invalid padding: ${r}`);if(n<0)throw new du(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new du(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new du(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Is.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Is.fromNumber(n)));return i.compare(bU)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=dS(e),[n,i]=hS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new _j(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=dS(e),[n,i]=hS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class du extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,fh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wg(ve.min(),i,new xt(Ie),Mi(),Ce())}}class fh{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new fh(n,r,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class e4{constructor(e,r){this.targetId=e,this.Ce=r}}class t4{constructor(e,r,n=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class fS{constructor(){this.ve=0,this.Fe=mS(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),r=Ce(),n=Ce();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:fe(38017,{changeType:a})}}),new fh(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=mS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mi(),this.Je=lf(),this.He=lf(),this.Ye=new xt(Ie)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(pb(a))if(n===0){const o=new ce(a.path);this.et(r,o,fr.newNoDocument(o,ve.min()))}else Ve(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=Vs(n).toUint8Array()}catch(c){if(c instanceof AO)return ul("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new _j(o,i,a)}catch(c){return ul(c instanceof du?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&pb(l.target)){const c=new ce(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,fr.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Ce();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new wg(e,r,this.Ye,this.je,n);return this.je=Mi(),this.Je=lf(),this.He=lf(),this.Ye=new xt(Ie),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new fS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Vt(Ie),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Vt(Ie),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ne("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function lf(){return new xt(ce.comparator)}function mS(){return new xt(ce.comparator)}const jU={asc:"ASCENDING",desc:"DESCENDING"},NU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_U={and:"AND",or:"OR"};class SU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function xb(t,e){return t.useProto3Json||mg(e)?e:{value:e}}function Mm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AU(t,e){return Mm(t,e.toTimestamp())}function Yn(t){return Ve(!!t,49232),ve.fromTimestamp(function(r){const n=$s(r);return new at(n.seconds,n.nanos)}(t))}function Sj(t,e){return yb(t,e).canonicalString()}function yb(t,e){const r=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function n4(t){const e=mt.fromString(t);return Ve(l4(e),10190,{key:e.toString()}),e}function vb(t,e){return Sj(t.databaseId,e.path)}function xy(t,e){const r=n4(e);if(r.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ce(s4(r))}function i4(t,e){return Sj(t.databaseId,e)}function kU(t){const e=n4(t);return e.length===4?mt.emptyPath():s4(e)}function bb(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s4(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pS(t,e,r){return{name:vb(t,e),fields:r.value.mapValue.fields}}function TU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),sr.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),sr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?Y.UNKNOWN:ZO(u.code);return new ae(d,u.message||"")}(o);r=new t4(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=xy(t,n.document.name),a=Yn(n.document.updateTime),o=n.document.createTime?Yn(n.document.createTime):ve.min(),l=new an({mapValue:{fields:n.document.fields}}),c=fr.newFoundDocument(i,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new qf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=xy(t,n.document),a=n.readTime?Yn(n.readTime):ve.min(),o=fr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new qf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=xy(t,n.document),a=n.removedTargetIds||[];r=new qf([],a,i,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new xU(i,a),l=n.targetId;r=new e4(l,o)}}return r}function EU(t,e){let r;if(e instanceof hh)r={update:pS(t,e.key,e.value)};else if(e instanceof JO)r={delete:vb(t,e.key)};else if(e instanceof Za)r={update:pS(t,e.key,e.data),updateMask:$U(e.fieldMask)};else{if(!(e instanceof mU))return fe(16599,{Vt:e.type});r={verify:vb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof fd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Om)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw fe(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:AU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:fe(27497)}(t,e.precondition)),r}function PU(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Yn(i.updateTime):Yn(a);return o.isEqual(ve.min())&&(o=Yn(a)),new dU(o,i.transformResults||[])}(r,e))):[]}function IU(t,e){return{documents:[i4(t,e.path)]}}function CU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=i4(t,i);const a=function(u){if(u.length!==0)return o4(ri.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:jo(f.field),direction:DU(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=xb(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function OU(t){let e=kU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ve(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=a4(h);return f instanceof ri&&RO(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(v){return new Cm(No(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,mg(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Im(p,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Im(p,f)}(r.endAt)),XB(e,i,o,a,l,"F",c,u)}function MU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function a4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=No(r.unaryFilter.field);return Dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=No(r.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=No(r.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=No(r.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Dt.create(No(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ri.create(r.compositeFilter.filters.map(n=>a4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(r.compositeFilter.op))}(t):fe(30097,{filter:t})}function DU(t){return jU[t]}function RU(t){return NU[t]}function LU(t){return _U[t]}function jo(t){return{fieldPath:t.canonicalString()}}function No(t){return rr.fromServerFormat(t.fieldPath)}function o4(t){return t instanceof Dt?function(r){if(r.op==="=="){if(rS(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NAN"}};if(tS(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rS(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NOT_NAN"}};if(tS(r.value))return{unaryFilter:{field:jo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(r.field),op:RU(r.op),value:r.value}}}(t):t instanceof ri?function(r){const n=r.getFilters().map(i=>o4(i));return n.length===1?n[0]:{compositeFilter:{op:LU(r.op),filters:n}}}(t):fe(54877,{filter:t})}function $U(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function l4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,r,n,i,a=ve.min(),o=ve.min(),l=sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.yt=e}}function FU(t){const e=OU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Cn=new UU}addToCollectionParentIndex(e,r){return this.Cn.add(r),G.resolve()}getCollectionParents(e,r){return G.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return G.resolve()}deleteFieldIndex(e,r){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,r){return G.resolve()}getDocumentsMatchingTarget(e,r){return G.resolve(null)}getIndexType(e,r){return G.resolve(0)}getFieldIndexes(e,r){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,r){return G.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,r){return G.resolve(Ls.min())}updateCollectionGroup(e,r,n){return G.resolve()}updateIndexEntries(e,r){return G.resolve()}}class UU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Vt(mt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c4=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(c4,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="LruGarbageCollector",zU=1048576;function yS([t,e],[r,n]){const i=Ie(t,r);return i===0?Ie(e,n):i}class WU{constructor(e){this.Ir=e,this.buffer=new Vt(yS),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();yS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class HU{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(xS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){nc(r)?ne(xS,"Ignoring IndexedDB error during garbage collection: ",r):await rc(r)}await this.Vr(3e5)})}}class qU{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return G.resolve(fg.ce);const n=new WU(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(gS)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),bo()<=Pe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function GU(t,e){return new qU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.changes=new Ja(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?G.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Eu(n.mutation,i,En.empty(),at.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ce()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ce()){const i=va();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=uu();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=va();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ce()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=Mi();const o=Tu(),l=function(){return Tu()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Za)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Eu(d.mutation,u,d.mutation.getFieldMask(),at.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new YU(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Tu();let i=new xt((o,l)=>o-l),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||En.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(i.get(l.batchId)||Ce()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=WO();d.forEach(f=>{if(!a.has(f)){const p=XO(r.get(f),n.get(f));p!==null&&h.set(f,p),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return G.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):QB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):G.resolve(va());let l=ld,c=a;return o.next(u=>G.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Ce())).next(d=>({batchId:l,changes:zO(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ce(r)).next(n=>{let i=uu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=uu();return this.indexManager.getCollectionParents(e,a).next(l=>G.forEach(l,c=>{const u=function(h,f){return new gg(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,fr.newInvalidDocument(d)))});let l=uu();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Eu(d.mutation,u,En.empty(),at.now()),yg(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return G.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Yn(i.createTime)}}(r)),G.resolve()}getNamedQuery(e,r){return G.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:FU(i.bundledQuery),readTime:Yn(i.readTime)}}(r)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.overlays=new xt(ce.comparator),this.qr=new Map}getOverlay(e,r){return G.resolve(this.overlays.get(r))}getOverlays(e,r){const n=va();return G.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),G.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),G.resolve()}getOverlaysForCollection(e,r,n){const i=va(),a=r.length+1,o=new ce(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return G.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new xt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=va(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=va(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return G.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new gU(r,n));let a=this.qr.get(r);a===void 0&&(a=Ce(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.Qr=new Vt(Wt.$r),this.Ur=new Vt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Wt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Wt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new ce(new mt([])),n=new Wt(r,e),i=new Wt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new ce(new mt([])),n=new Wt(r,e),i=new Wt(r,e+1);let a=Ce();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Wt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Wt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return ce.comparator(e.key,r.key)||Ie(e.Yr,r.Yr)}static Kr(e,r){return Ie(e.Yr,r.Yr)||ce.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Wt.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Wt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,r){return G.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?gj:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Wt(r,0),i=new Wt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vt(Ie);return r.forEach(i=>{const a=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),G.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ce.isDocumentKey(a)||(a=a.child(""));const o=new Wt(new ce(a),0);let l=new Vt(Ie);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),G.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ve(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return G.forEach(r.mutations,i=>{const a=new Wt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Wt(r,0),i=this.Zr.firstAfterOrEqual(n);return G.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.ri=e,this.docs=function(){return new xt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return G.resolve(n?n.document.mutableCopy():fr.newInvalidDocument(r))}getEntries(e,r){let n=Mi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():fr.newInvalidDocument(i))}),G.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Mi();const o=r.path,l=new ce(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TB(kB(d),n)<=0||(i.has(d.key)||yg(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,r,n,i){fe(9500)}ii(e,r){return G.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new r7(this)}getSize(e){return G.resolve(this.size)}}class r7 extends KU{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),G.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.persistence=e,this.si=new Ja(r=>vj(r),bj),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Aj,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),G.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ml(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,G.resolve()}updateTargetData(e,r){return this.Pr(r),G.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),G.waitFor(a).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return G.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),G.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),G.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),G.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return G.resolve(n)}containsKey(e,r){return G.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,r){this.ui={},this.overlays={},this.ci=new fg(0),this.li=!1,this.li=!0,this.hi=new ZU,this.referenceDelegate=e(this),this.Pi=new n7(this),this.indexManager=new BU,this.remoteDocumentCache=function(i){return new t7(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new VU(r),this.Ii=new QU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new e7(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ne("MemoryPersistence","Starting transaction:",e);const i=new i7(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return G.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class i7 extends PB{constructor(e){super(),this.currentSequenceNumber=e}}class kj{constructor(e){this.persistence=e,this.Ri=new Aj,this.Vi=null}static mi(e){return new kj(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),G.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),G.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),G.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,n=>{const i=ce.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,ve.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return G.or([()=>G.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Dm{constructor(e,r){this.persistence=e,this.pi=new Ja(n=>OB(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=GU(this,r)}static mi(e,r){return new Dm(e,r)}Ei(){}di(e){return G.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return G.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?G.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,ve.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=zf(e.data.value)),r}br(e,r,n){return G.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return G.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ce(),i=Ce();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Tj(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O8()?8:IB(yr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new s7;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(bo()<=Pe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",wo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(bo()<=Pe.DEBUG&&ne("QueryEngine","Query:",wo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(bo()<=Pe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",wo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(r))):G.resolve())}ys(e,r){if(aS(r))return G.resolve(null);let n=Kn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=gb(r,null,"F"),n=Kn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ce(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,gb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return aS(r)||i.isEqual(ve.min())?G.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?G.resolve(null):(bo()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(r)),this.vs(e,o,r,AB(i,ld)).next(l=>l))})}Ds(e,r){let n=new Vt(BO(e));return r.forEach((i,a)=>{yg(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return bo()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",wo(r)),this.ps.getDocumentsMatchingQuery(e,r,Ls.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="LocalStore",o7=3e8;class l7{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new xt(Ie),this.xs=new Ja(a=>vj(a),bj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function c7(t,e,r,n){return new l7(t,e,r,n)}async function d4(t,e){const r=we(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Ce();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function u7(t,e){const r=we(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=G.resolve();return f.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(b=>{const x=u.docVersions.get(v);Ve(x!==null,48541),b.version.compareTo(x)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Ce();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function h4(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function d7(t,e){const r=we(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let p=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(sr.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(h,p),function(b,x,g){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=o7?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,d)&&l.push(r.Pi.updateTargetData(a,p))});let c=Mi(),u=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(h7(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(ve.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return G.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function h7(t,e,r){let n=Ce(),i=Ce();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Mi();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(Ej,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function f7(t,e){const r=we(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=gj),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function m7(t,e){const r=we(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,G.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new xs(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function wb(t,e,r){const n=we(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!nc(o))throw o;ne(Ej,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function vS(t,e,r){const n=we(t);let i=ve.min(),a=Ce();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=we(c),f=h.xs.get(d);return f!==void 0?G.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(n,o,Kn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:ve.min(),r?a:Ce())).next(l=>(p7(n,ZB(e),l),{documents:l,Qs:a})))}function p7(t,e,r){let n=t.Os.get(e)||ve.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class bS{constructor(){this.activeTargetIds=sU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g7{constructor(){this.Mo=new bS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class jS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(wS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(wS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function jb(){return cf===null?cf=function(){return 268435456+Math.round(2147483648*Math.random())}():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="RestConnection",y7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Em?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=jb(),l=this.zo(e,r.toUriEncodedString());ne(yy,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(l),d=Jl(u);return this.Jo(e,l,c,n,d).then(h=>(ne(yy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ul(yy,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=y7[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class w7 extends v7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=jb();return new Promise((l,c)=>{const u=new gO;u.setWithCredentials(!0),u.listenOnce(xO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uf.NO_ERROR:const h=u.getResponseJson();ne(cr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case Uf.TIMEOUT:ne(cr,`RPC '${e}' ${o} timed out`),c(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Uf.HTTP_ERROR:const f=u.getStatus();if(ne(cr,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const b=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(y)>=0?y:Y.UNKNOWN}(v.status);c(new ae(b,v.message))}else c(new ae(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(cr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ne(cr,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=jb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bO(),l=vO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");ne(cr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let f=!1,p=!1;const v=new b7({Yo:x=>{p?ne(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(ne(cr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ne(cr,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),b=(x,g,y)=>{x.listen(g,w=>{try{y(w)}catch(A){setTimeout(()=>{throw A},0)}})};return b(h,cu.EventType.OPEN,()=>{p||(ne(cr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),b(h,cu.EventType.CLOSE,()=>{p||(p=!0,ne(cr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),b(h,cu.EventType.ERROR,x=>{p||(p=!0,ul(cr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),v.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),b(h,cu.EventType.MESSAGE,x=>{var g;if(!p){const y=x.data[0];Ve(!!y,16349);const w=y,A=(w==null?void 0:w.error)||((g=w[0])==null?void 0:g.error);if(A){ne(cr,`RPC '${e}' stream ${i} received error:`,A);const j=A.status;let k=function(T){const O=At[T];if(O!==void 0)return ZO(O)}(j),S=A.message;k===void 0&&(k=Y.INTERNAL,S="Unknown error status: "+j+" with message "+A.message),p=!0,v.a_(new ae(k,S)),h.close()}else ne(cr,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),b(l,yO.STAT_EVENT,x=>{x.stat===ub.PROXY?ne(cr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===ub.NOPROXY&&ne(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return new SU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="PersistentStream";class m4{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Oi(r.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ae(Y.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(NS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ne(NS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j7 extends m4{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=TU(this.serializer,e),n=function(a){if(!("targetChange"in a))return ve.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Yn(o.readTime):ve.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=bb(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=pb(c)?{documents:IU(a,c)}:{query:CU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=r4(a,o.resumeToken);const u=xb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){l.readTime=Mm(a,o.snapshotVersion.toTimestamp());const u=xb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=MU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=bb(this.serializer),r.removeTarget=e,this.q_(r)}}class N7 extends m4{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=PU(e.writeResults,e.commitTime),n=Yn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=bb(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>EU(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{}class S7 extends _7{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,yb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Y.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,yb(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Y.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class A7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(r),this.aa=!1):ne("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class k7{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{eo(this)&&(ne(Fa,"Restarting streams for network reachability change."),await async function(c){const u=we(c);u.Ea.add(4),await mh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ng(u)}(this))})}),this.Ra=new A7(n,i)}}async function Ng(t){if(eo(t))for(const e of t.da)await e(!0)}async function mh(t){for(const e of t.da)await e(!1)}function p4(t,e){const r=we(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Oj(r)?Cj(r):ic(r).O_()&&Ij(r,e))}function Pj(t,e){const r=we(t),n=ic(r);r.Ia.delete(e),n.O_()&&g4(r,e),r.Ia.size===0&&(n.O_()?n.L_():eo(r)&&r.Ra.set("Unknown"))}function Ij(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ic(t).Y_(e)}function g4(t,e){t.Va.Ue(e),ic(t).Z_(e)}function Cj(t){t.Va=new wU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Ra.ua()}function Oj(t){return eo(t)&&!ic(t).x_()&&t.Ia.size>0}function eo(t){return we(t).Ea.size===0}function x4(t){t.Va=void 0}async function T7(t){t.Ra.set("Online")}async function E7(t){t.Ia.forEach((e,r)=>{Ij(t,e)})}async function P7(t,e){x4(t),Oj(t)?(t.Ra.ha(e),Cj(t)):t.Ra.set("Unknown")}async function I7(t,e,r){if(t.Ra.set("Online"),e instanceof t4&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(n){ne(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Rm(t,n)}else if(e instanceof qf?t.Va.Ze(e):e instanceof e4?t.Va.st(e):t.Va.tt(e),!r.isEqual(ve.min()))try{const n=await h4(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(sr.EMPTY_BYTE_STRING,d.snapshotVersion)),g4(a,c);const h=new xs(d.target,c,u,d.sequenceNumber);Ij(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){ne(Fa,"Failed to raise snapshot:",n),await Rm(t,n)}}async function Rm(t,e,r){if(!nc(e))throw e;t.Ea.add(1),await mh(t),t.Ra.set("Offline"),r||(r=()=>h4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Fa,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Ng(t)})}function y4(t,e){return e().catch(r=>Rm(t,r,e))}async function _g(t){const e=we(t),r=Bs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gj;for(;C7(e);)try{const i=await f7(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,O7(e,i)}catch(i){await Rm(e,i)}v4(e)&&b4(e)}function C7(t){return eo(t)&&t.Ta.length<10}function O7(t,e){t.Ta.push(e);const r=Bs(t);r.O_()&&r.X_&&r.ea(e.mutations)}function v4(t){return eo(t)&&!Bs(t).x_()&&t.Ta.length>0}function b4(t){Bs(t).start()}async function M7(t){Bs(t).ra()}async function D7(t){const e=Bs(t);for(const r of t.Ta)e.ea(r.mutations)}async function R7(t,e,r){const n=t.Ta.shift(),i=Nj.from(n,e,r);await y4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _g(t)}async function L7(t,e){e&&Bs(t).X_&&await async function(n,i){if(function(o){return yU(o)&&o!==Y.ABORTED}(i.code)){const a=n.Ta.shift();Bs(n).B_(),await y4(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await _g(n)}}(t,e),v4(t)&&b4(t)}async function _S(t,e){const r=we(t);r.asyncQueue.verifyOperationInProgress(),ne(Fa,"RemoteStore received new credentials");const n=eo(r);r.Ea.add(3),await mh(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Ng(r)}async function $7(t,e){const r=we(t);e?(r.Ea.delete(2),await Ng(r)):e||(r.Ea.add(2),await mh(r),r.Ra.set("Unknown"))}function ic(t){return t.ma||(t.ma=function(r,n,i){const a=we(r);return a.sa(),new j7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:T7.bind(null,t),t_:E7.bind(null,t),r_:P7.bind(null,t),H_:I7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Oj(t)?Cj(t):t.Ra.set("Unknown")):(await t.ma.stop(),x4(t))})),t.ma}function Bs(t){return t.fa||(t.fa=function(r,n,i){const a=we(r);return a.sa(),new N7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:M7.bind(null,t),r_:L7.bind(null,t),ta:D7.bind(null,t),na:R7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await _g(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Mj(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dj(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),nc(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ce.comparator(r.key,n.key):(r,n)=>ce.comparator(r.key,n.key),this.keyedMap=uu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.ga=new xt(ce.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class pl{constructor(e,r,n,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new pl(e,r,Qo.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class F7{constructor(){this.queries=AS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=we(r),a=i.queries;i.queries=AS(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function AS(){return new Ja(t=>FO(t),xg)}async function B7(t,e){const r=we(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new V7,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=Dj(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Rj(r)}async function U7(t,e){const r=we(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function z7(t,e){const r=we(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&Rj(r)}function W7(t,e,r){const n=we(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Rj(t){t.Ca.forEach(e=>{e.next()})}var Nb,kS;(kS=Nb||(Nb={})).Ma="default",kS.Cache="cache";class H7{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new pl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Nb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.key=e}}class j4{constructor(e){this.key=e}}class q7{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=BO(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new SS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=yg(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?v!==b&&(n.track({type:3,doc:p}),x=!0):this.su(f,p)||(n.track({type:2,doc:p}),x=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!f&&p?(n.track({type:0,doc:p}),x=!0):f&&!p&&(n.track({type:1,doc:f}),x=!0,(c||u)&&(l=!0)),x&&(p?(o=o.add(p),a=b?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:x})}};return b(p)-b(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new pl(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new j4(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new w4(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ce();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lj="SyncEngine";class G7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class K7{constructor(e){this.key=e,this.hu=!1}}class Y7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ja(l=>FO(l),xg),this.Iu=new Map,this.Eu=new Set,this.du=new xt(ce.comparator),this.Au=new Map,this.Ru=new Aj,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X7(t,e,r=!0){const n=T4(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await N4(n,e,r,!0),i}async function Q7(t,e){const r=T4(t);await N4(r,e,!0,!1)}async function N4(t,e,r,n){const i=await m7(t.localStore,Kn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await J7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&p4(t.remoteStore,i),l}async function J7(t,e,r,n,i){t.pu=(h,f,p)=>async function(b,x,g,y){let w=x.view.ru(g);w.Cs&&(w=await vS(b.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,w)));const A=y&&y.targetChanges.get(x.targetId),j=y&&y.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(w,b.isPrimaryClient,A,j);return ES(b,x.targetId,k.au),k.snapshot}(t,h,f,p);const a=await vS(t.localStore,e,!0),o=new q7(e,a.Qs),l=o.ru(a.documents),c=fh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);ES(t,r,u.au);const d=new G7(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Z7(t,e,r){const n=we(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!xg(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await wb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Pj(n.remoteStore,i.targetId),_b(n,i.targetId)}).catch(rc)):(_b(n,i.targetId),await wb(n.localStore,i.targetId,!0))}async function ez(t,e){const r=we(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pj(r.remoteStore,n.targetId))}async function tz(t,e,r){const n=lz(t);try{const i=await function(o,l){const c=we(o),u=at.now(),d=l.reduce((p,v)=>p.add(v.key),Ce());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Mi(),b=Ce();return c.Ns.getEntries(p,d).next(x=>{v=x,v.forEach((g,y)=>{y.isValidDocument()||(b=b.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(x=>{h=x;const g=[];for(const y of l){const w=fU(y,h.get(y.key).overlayedDocument);w!=null&&g.push(new Za(y.key,w,OO(w.value.mapValue),Ni.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,g,l)}).next(x=>{f=x;const g=x.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(p,x.batchId,g)})}).then(()=>({batchId:f.batchId,changes:zO(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new xt(Ie)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await ph(n,i.changes),await _g(n.remoteStore)}catch(i){const a=Dj(i,"Failed to persist write");r.reject(a)}}async function _4(t,e){const r=we(t);try{const n=await d7(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ve(o.hu,14607):i.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await ph(r,n,e)}catch(n){await rc(n)}}function TS(t,e,r){const n=we(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=we(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&Rj(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function rz(t,e,r){const n=we(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new xt(ce.comparator);o=o.insert(a,fr.newNoDocument(a,ve.min()));const l=Ce().add(a),c=new wg(ve.min(),new Map,new xt(Ie),o,l);await _4(n,c),n.du=n.du.remove(a),n.Au.delete(e),$j(n)}else await wb(n.localStore,e,!1).then(()=>_b(n,e,r)).catch(rc)}async function nz(t,e){const r=we(t),n=e.batch.batchId;try{const i=await u7(r.localStore,e);A4(r,n,null),S4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ph(r,i)}catch(i){await rc(i)}}async function iz(t,e,r){const n=we(t);try{const i=await function(o,l){const c=we(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Ve(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);A4(n,e,r),S4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ph(n,i)}catch(i){await rc(i)}}function S4(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function A4(t,e,r){const n=we(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function _b(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||k4(t,n)})}function k4(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Pj(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),$j(t))}function ES(t,e,r){for(const n of r)n instanceof w4?(t.Ru.addReference(n.key,e),sz(t,n)):n instanceof j4?(ne(Lj,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||k4(t,n.key)):fe(19791,{wu:n})}function sz(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ne(Lj,"New document in limbo: "+r),t.Eu.add(n),$j(t))}function $j(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ce(mt.fromString(e)),n=t.fu.next();t.Au.set(n,new K7(r)),t.du=t.du.insert(r,n),p4(t.remoteStore,new xs(Kn(wj(r.path)),n,"TargetPurposeLimboResolution",fg.ce))}}async function ph(t,e,r){const n=we(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Tj.As(c.targetId,u);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=we(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(u,f=>G.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>G.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!nc(h))throw h;ne(Ej,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),v=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(f,b)}}}(n.localStore,a))}async function az(t,e){const r=we(t);if(!r.currentUser.isEqual(e)){ne(Lj,"User change. New user:",e.toKey());const n=await d4(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ae(Y.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ph(r,n.Ls)}}function oz(t,e){const r=we(t),n=r.Au.get(e);if(n&&n.hu)return Ce().add(n.key);{let i=Ce();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function T4(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rz.bind(null,e),e.Pu.H_=z7.bind(null,e.eventManager),e.Pu.yu=W7.bind(null,e.eventManager),e}function lz(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iz.bind(null,e),e}class Lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return c7(this.persistence,new a7,e.initialUser,this.serializer)}Cu(e){return new u4(kj.mi,this.serializer)}Du(e){return new g7}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lm.provider={build:()=>new Lm};class cz extends Lm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ve(this.persistence.referenceDelegate instanceof Dm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new HU(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new u4(n=>Dm.mi(n,r),this.serializer)}}class Sb{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>TS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=az.bind(null,this.syncEngine),await $7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F7}()}createDatastore(e){const r=jg(e.databaseInfo.databaseId),n=function(a){return new w7(a)}(e.databaseInfo);return function(a,o,l,c){return new S7(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new k7(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>TS(this.syncEngine,r,0),function(){return jS.v()?new jS:new x7}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const h=new Y7(i,a,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=we(i);ne(Fa,"RemoteStore shutting down."),a.Ea.add(5),await mh(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Sb.provider={build:()=>new Sb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class dz{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=dr.UNAUTHENTICATED,this.clientId=mj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ne(Us,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ne(Us,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Dj(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function by(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Us,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await d4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await hz(t);ne(Us,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>_S(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>_S(e.remoteStore,i)),t._onlineComponents=e}async function hz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Us,"Using user provided OfflineComponentProvider");try{await by(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ul("Error using user provided cache. Falling back to memory cache: "+r),await by(t,new Lm)}}else ne(Us,"Using default OfflineComponentProvider"),await by(t,new cz(void 0));return t._offlineComponents}async function E4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Us,"Using user provided OnlineComponentProvider"),await PS(t,t._uninitializedComponentsProvider._online)):(ne(Us,"Using default OnlineComponentProvider"),await PS(t,new Sb))),t._onlineComponents}function fz(t){return E4(t).then(e=>e.syncEngine)}async function mz(t){const e=await E4(t),r=e.eventManager;return r.onListen=X7.bind(null,e.syncEngine),r.onUnlisten=Z7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Q7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ez.bind(null,e.syncEngine),r}function pz(t,e,r={}){const n=new Cs;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new uz({next:f=>{d.Nu(),o.enqueueAndForget(()=>U7(a,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new H7(wj(l.path),d,{includeMetadataChanges:!0,qa:!0});return B7(a,h)}(await mz(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firestore.googleapis.com",CS=!0;class OS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I4,this.ssl=CS}else this.host=e.host,this.ssl=e.ssl??CS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zU)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vj{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new mB;switch(n.type){case"firstParty":return new yB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=IS.get(r);n&&(ne("ComponentProvider","Removing Datastore"),IS.delete(r),n.terminate())}(this),Promise.resolve()}}function gz(t,e,r,n={}){var u;t=od(t,Vj);const i=Jl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(kC(`https://${l}`),TC("Firestore",!0)),a.host!==I4&&a.host!==l&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Da(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=dr.MOCK_USER;else{d=_8(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new dr(f)}t._authCredentials=new pB(new jO(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fj(this.firestore,e,this._query)}}class Kt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(dh(r,Kt._jsonSchema))return new Kt(e,n||null,new ce(mt.fromString(r.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Et("string",Kt._jsonSchemaVersion),referencePath:Et("string")};class pd extends Fj{constructor(e,r,n){super(e,r,wj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ce(e))}withConverter(e){return new pd(this.firestore,e,this._path)}}function MS(t,e,...r){if(t=Kr(t),arguments.length===1&&(e=mj.newId()),_B("doc","path",e),t instanceof Vj){const n=mt.fromString(e,...r);return G_(n),new Kt(t,null,new ce(n))}{if(!(t instanceof Kt||t instanceof pd))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(mt.fromString(e,...r));return G_(n),new Kt(t.firestore,t instanceof pd?t.converter:null,new ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="AsyncQueue";class RS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f4(this,"async_queue_retry"),this._c=()=>{const n=vy();n&&ne(DS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=vy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=vy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Cs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nc(e))throw e;ne(DS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",LS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Mj.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&fe(47125,{Pc:LS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function LS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bj extends Vj{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new RS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function xz(t,e){const r=typeof t=="object"?t:CC(),n=typeof t=="string"?t:Em,i=ij(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=j8("firestore");a&&gz(i,...a)}return i}function C4(t){if(t._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yz(t),t._firestoreClient}function yz(t){var n,i,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new RB(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,P4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dz(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(sr.fromBase64String(e))}catch(r){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new on(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:Et("string",on._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xn._jsonSchemaVersion}}static fromJSON(e){if(dh(e,Xn._jsonSchema))return new Xn(e.latitude,e.longitude)}}Xn._jsonSchemaVersion="firestore/geoPoint/1.0",Xn._jsonSchema={type:Et("string",Xn._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Qn(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:Et("string",Qn._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=/^__.*__$/;class bz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,r,this.fieldTransforms):new hh(e,this.data,r,this.fieldTransforms)}}function O4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class Wj{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(O4(this.Ac)&&vz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jg(e)}Cc(e,r,n,i=!1){return new Wj({Ac:e,methodName:r,Dc:n,path:rr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jz(t){const e=t._freezeSettings(),r=jg(t._databaseId);return new wz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Nz(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);L4("Data must be an object, but it was:",o,n);const l=D4(n,o);let c,u;if(a.merge)c=new En(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=_z(e,h,r);if(!o.contains(f))throw new ae(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Az(d,f)||d.push(f)}c=new En(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new bz(new an(l),c,u)}class Hj extends zj{_toFieldTransform(e){return new cU(e.path,new hd)}isEqual(e){return e instanceof Hj}}function M4(t,e){if(R4(t=Kr(t)))return L4("Unsupported field value:",e,t),D4(t,e);if(t instanceof zj)return function(n,i){if(!O4(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let c=M4(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return aU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=at.fromDate(n);return{timestampValue:Mm(i.serializer,a)}}if(n instanceof at){const a=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mm(i.serializer,a)}}if(n instanceof Xn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof on)return{bytesValue:r4(i.serializer,n._byteString)};if(n instanceof Kt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sj(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Qn)return function(o,l){return{mapValue:{fields:{[IO]:{stringValue:CO},[Pm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return jj(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${pj(n)}`)}(t,e)}function D4(t,e){const r={};return SO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(n,i)=>{const a=M4(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function R4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Xn||t instanceof on||t instanceof Kt||t instanceof zj||t instanceof Qn)}function L4(t,e,r){if(!R4(r)||!NO(r)){const n=pj(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function _z(t,e,r){if((e=Kr(e))instanceof Uj)return e._internalPath;if(typeof e=="string")return $4(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,r)}const Sz=new RegExp("[~\\*/\\[\\]]");function $4(t,e,r){if(e.search(Sz)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Uj(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $m(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new ae(Y.INVALID_ARGUMENT,l+t+c)}function Az(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(F4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kz extends V4{data(){return super.data()}}function F4(t,e){return typeof e=="string"?$4(t,e):e instanceof Uj?e._internalPath:e._delegate._internalPath}class Tz{convertValue(e,r="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Qa(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Pm].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>jt(o.doubleValue));return new Qn(r)}convertGeoPoint(e){return new Xn(jt(e.latitude),jt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=pg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(cd(e));default:return null}}convertTimestamp(e){const r=$s(e);return new at(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=mt.fromString(e);Ve(l4(n),9688,{name:e});const i=new ud(n.get(1),n.get(3)),a=new ce(n.popFirst(5));return i.isEqual(r)||Oi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class hu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends V4{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(F4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Aa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:Et("string",Aa._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Gf extends Aa{data(e={}){return super.data(e)}}class Pu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new hu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Gf(this._firestore,this._userDataWriter,n.key,n,new hu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Gf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new hu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Gf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new hu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Pz(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Pz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t){t=od(t,Kt);const e=od(t.firestore,Bj);return pz(C4(e),t._key).then(r=>Dz(e,t,r))}Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:Et("string",Pu._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class Cz extends Tz{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,r)}}function Oz(t,e,r){t=od(t,Kt);const n=od(t.firestore,Bj),i=Ez(t.converter,e);return Mz(n,[Nz(jz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ni.none())])}function Mz(t,e){return function(n,i){const a=new Cs;return n.asyncQueue.enqueueAndForget(async()=>tz(await fz(n),i,a)),a.promise}(C4(t),e)}function Dz(t,e,r){const n=r.docs.get(e._key),i=new Cz(t);return new Aa(t,i,e._key,n,new hu(r.hasPendingWrites,r.fromCache),e.converter)}function $S(){return new Hj("serverTimestamp")}(function(e,r=!0){(function(i){tc=i})(Zl),cl(new Ra("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Bj(new gB(n.getProvider("auth-internal")),new vB(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(u.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ps(z_,W_,e),Ps(z_,W_,"esm2020")})();const Kf={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!Kf.apiKey||!Kf.authDomain||!Kf.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let Vm;if(v_().length===0)try{Vm=IC(Kf)}catch(t){throw console.error(" Firebase initialization failed:",t),t}else Vm=v_()[0];const fo=hB(Vm),VS=xz(Vm),FS="marketing_management_website_messages",mo=localStorage.getItem("useMockAuth")!=="false",B4=C.createContext(void 0);function Rz({children:t}){const[e,r]=C.useState(!1),[n,i]=C.useState(null),[a,o]=C.useState(!0),l=async(w,A)=>{const j=Le().find(S=>S.email===w&&S.password===A);if(!j)throw new Error("Invalid email or password");if(!j.isActive)throw new Error("Account is inactive");const k={id:j.id,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(k),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(k))},c=async w=>{const A=`user-${Date.now()}`,j={id:A,email:w.email,fullName:w.fullName,role:w.role,phone:w.phone,password:w.password,isActive:!0,createdAt:new Date,updatedAt:new Date};vC.push(j),localStorage.setItem("marketing_management_website_users",JSON.stringify(Le().concat(j)));const k=Le().filter(O=>O.role==="admin"),S={id:`message-${Date.now()}`,senderId:A,recipientId:void 0,subject:"New User Registration",content:`A new user has registered: ${j.fullName} (${j.email}) as ${j.role}. Please review and approve if necessary.`,isRead:!1,isBroadcast:!0,createdAt:new Date,updatedAt:new Date},N=JSON.parse(localStorage.getItem(FS)||"[]");k.forEach(O=>{N.push({...S,recipientId:O.id,id:`message-${Date.now()}-${O.id}`})}),localStorage.setItem(FS,JSON.stringify(N));const T={id:A,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(T),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(T))},u=async()=>{i(null),r(!1),localStorage.removeItem("mockAuthUser")},d=async w=>{try{const A=await Iz(MS(VS,"users",w.uid));if(!A.exists())return console.error("User document not found in Firestore"),null;const j=A.data();return j.isActive?{id:w.uid,email:j.email||w.email||"",fullName:j.fullName||"",role:j.role,phone:j.phone||""}:(console.error("User account is inactive"),null)}catch(A){return console.error("Error fetching user data:",A),null}};C.useEffect(()=>{if(mo){o(!0);const w=localStorage.getItem("mockAuthUser");if(w)try{const A=JSON.parse(w);i(A),r(!0)}catch(A){console.error("Error parsing stored user:",A),localStorage.removeItem("mockAuthUser")}o(!1)}else{const w=eF(fo,async A=>{if(o(!0),A){const j=await d(A);j?(i(j),r(!0)):(i(null),r(!1))}else i(null),r(!1);o(!1)});return()=>w()}},[]);const h=async(w,A)=>{if(mo)return l(w,A);try{if(!fo)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");await QV(fo,w,A)}catch(j){throw console.error("Sign in error:",j),console.error("Error code:",j.code),console.error("Error message:",j.message),j.code==="auth/user-not-found"?new Error("auth/user-not-found - No user found with this email. Please create an account first."):j.code==="auth/wrong-password"?new Error("auth/wrong-password - Incorrect password."):j.code==="auth/invalid-email"?new Error("auth/invalid-email - Invalid email address format."):j.code==="auth/user-disabled"?new Error("auth/user-disabled - This account has been disabled."):j.code==="auth/too-many-requests"?new Error("auth/too-many-requests - Too many failed login attempts. Please try again later."):j.code==="auth/network-request-failed"?new Error("auth/network-request-failed - Network error. Please check your internet connection."):j.code==="auth/invalid-api-key"?new Error("auth/invalid-api-key - Firebase API key is invalid. Check your .env file."):j.code==="auth/configuration-not-found"?new Error("auth/configuration-not-found - Firebase configuration not found. Check your .env file."):new Error(j.message||j.code||"Failed to sign in")}},f=async w=>{if(mo)return c(w);try{if(!fo)throw new Error("Firebase Auth not initialized. Please check your configuration.");const j=(await XV(fo,w.email,w.password)).user;await Oz(MS(VS,"users",j.uid),{email:w.email,fullName:w.fullName,phone:w.phone,role:w.role,isActive:!0,createdAt:$S(),updatedAt:$S()})}catch(A){throw console.error("Sign up error:",A),console.error("Error code:",A.code),console.error("Error message:",A.message),A.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):A.code==="auth/invalid-email"?new Error("Invalid email address format."):A.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):A.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(A.message||"Failed to create account")}},p=w=>{if(!n)return;const A={...n,...w};i(A),mo&&localStorage.setItem("mockAuthUser",JSON.stringify(A))},v=async()=>{if(mo)return u();try{await tF(fo)}catch(w){throw console.error("Sign out error:",w),new Error(w.message||"Failed to sign out")}},b=w=>{if(!n)return;const A={...n,role:w};i(A),mo&&localStorage.setItem("mockAuthUser",JSON.stringify(A))},x=w=>n?w.includes(n.role):!1,g=w=>n?n.role==="admin"?!0:gn(n.id,n.role).some(j=>j.id===w):!1,y=w=>n?n.role==="admin"||n.role==="web_developer"&&w.assignedTo===n.id||n.role==="client"&&w.createdBy===n.id:!1;return s.jsx(B4.Provider,{value:{isSignedIn:e,user:n,loading:a,signIn:h,signUp:f,signOut:v,updateCurrentUser:p,switchRole:b,hasRole:x,canAccessProject:g,canManageTicket:y},children:t})}function me(){const t=C.useContext(B4);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const Lz={theme:"system",setTheme:()=>null},$z=C.createContext(Lz);function Vz({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,a]=C.useState(()=>localStorage.getItem(r)||e);C.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(i)},[i]);const o={theme:i,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return s.jsx($z.Provider,{...n,value:o,children:t})}const Fz=t=>2;function xe(){const{isSignedIn:t,user:e,signOut:r}=me(),n=ge(),a=Gs().pathname,[o,l]=C.useState(0),[c,u]=C.useState(0);C.useEffect(()=>{if(e){const f=l8(e.id).length,p=Fz(e.id);l(f),u(p)}},[e]);const d=async()=>{try{await r(),n("/login")}catch(f){console.error("Error signing out:",f),n("/login")}},h=a.includes("/dashboard")||a.includes("/admin/dashboard")||a.includes("/developer/dashboard")||a.includes("/coordinator/dashboard")||a.includes("/client-portal/dashboard");return s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),s.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:s.jsxs("div",{className:"container flex items-center justify-between py-4",children:[h?s.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}):s.jsxs(K,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-primary hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-6",children:t&&e&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:[e.role==="admin"&&"Admin",e.role==="web_developer"&&"Dev",e.role==="social_media_coordinator"&&"Coord",e.role==="client"&&"Client"]}),s.jsx("span",{className:"text-foreground/50",children:"|"})]})})}),s.jsx("div",{className:"flex items-center gap-4",children:t&&e?s.jsxs("div",{className:"flex items-center gap-4",children:[e.role==="admin"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Management Tools",children:s.jsxs("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(K,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(K,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(K,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"}),s.jsx(K,{to:"/reports",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Reports"}),s.jsx("div",{className:"border-t border-border my-2"}),s.jsx(K,{to:"/ai-insights",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"AI Insights"}),s.jsx(K,{to:"/integrations",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Integrations"}),s.jsx(K,{to:"/automation",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Automation"}),s.jsx(K,{to:"/templates",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Templates"})]})})]}),e.role==="web_developer"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Developer Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(K,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(K,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(K,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"})]})})]}),e.role==="social_media_coordinator"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Coordinator Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(K,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(K,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(K,{to:"/analytics",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Analytics"})]})})]}),e.role==="client"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Support Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v6m0 6v6m6-9h-6m-6 3H3m6 3h6"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(K,{to:"/client-portal/files",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Files"}),s.jsx(K,{to:"/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Messages"}),s.jsx(K,{to:"/client-portal/feedback",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Feedback"})]})})]}),s.jsxs(K,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:o>99?"99+":o})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx("p",{className:"font-semibold text-foreground",children:e.fullName})}),s.jsx("button",{onClick:d,className:"btn-secondary text-sm",children:"Sign Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(K,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),s.jsx(K,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})})]})})]})}function ye(){const[t,e]=C.useState(!1),[r,n]=C.useState(!1),[i,a]=C.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"border-t border-border bg-muted py-12",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),s.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Project Management"})}),s.jsx("li",{children:s.jsx("a",{href:"/tickets",className:"hover:text-primary",children:"Ticketing System"})}),s.jsx("li",{children:s.jsx("a",{href:"/analytics",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>n(!0),className:"hover:text-primary",children:"Privacy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>a(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),s.jsx("div",{className:"border-t border-border pt-8",children:s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2026 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),s.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Create an account with your assigned role"}),s.jsx("li",{children:"Access your role-specific dashboard"}),s.jsx("li",{children:"View assigned projects and tasks"}),s.jsx("li",{children:"Collaborate with your team members"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"View progress of your website through different stages"}),s.jsx("li",{children:"Create tickets for bug reports or content changes"}),s.jsx("li",{children:"Track analytics and social media performance"}),s.jsx("li",{children:"Communicate with your development team"}),s.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access all your assigned website projects"}),s.jsx("li",{children:"Update project stages as work progresses"}),s.jsx("li",{children:"Manage and resolve client tickets"}),s.jsx("li",{children:"Track time and deliverables"}),s.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports and monitor performance trends."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),s.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Never share your login credentials"}),s.jsx("li",{children:"Enable two-factor authentication when available"}),s.jsx("li",{children:"Log out from shared devices"}),s.jsx("li",{children:"Report suspicious activity immediately"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",s.jsx("br",{}),"Phone: +27 21 123 4567",s.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Team members assigned to the same projects"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>n(!1),className:"w-full btn-primary",children:"Close"})})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),s.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Update project stages accurately as work progresses"}),s.jsx("li",{children:"Respond to tickets within agreed timeframes"}),s.jsx("li",{children:"Submit accurate analytics data"}),s.jsx("li",{children:"Respect intellectual property rights"}),s.jsx("li",{children:"Maintain professional communication standards"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),s.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>a(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function Bz(){const{isSignedIn:t}=me();return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsxs("main",{className:"flex flex-col",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/10",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-500"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),s.jsx("div",{className:"absolute bottom-32 left-32 w-4 h-4 bg-secondary rounded-full animate-bounce delay-500"}),s.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-accent rounded-full animate-bounce delay-700"})]}),s.jsx("div",{className:"container text-center relative z-10 px-4 py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-8",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Welcome to the Future of Marketing Management"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-balance bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent leading-tight",children:["Manage Websites.",s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"Track Social Media."}),s.jsx("br",{}),s.jsx("span",{className:"text-primary",children:"Collaborate Better."})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Your complete project management platform for website development and social media coordination with team collaboration, real-time analytics, and intelligent ticketing."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(K,{to:t?"/dashboard":"/register",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[220px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(K,{to:"/login",className:"group border-2 border-primary/30 text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white hover:border-primary transition-all duration-300 transform hover:-translate-y-1 w-[220px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312265E' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Powerful Features"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"How Marketing Management Website Works"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Streamline your marketing operations with our comprehensive suite of tools designed for modern teams."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-primary transition-colors",children:"Team Collaboration"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently with real-time updates and notifications."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-primary/10 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-accent/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-accent transition-colors",children:"Project Tracking"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time with detailed analytics and status updates."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-accent to-primary rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/10 to-primary/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-secondary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-secondary transition-colors",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track website traffic and social media engagement. Get comprehensive insights into performance metrics with beautiful visualizations."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-secondary to-accent rounded-full"})})]})]})]}),s.jsx("div",{className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:[{icon:"",title:"Smart Ticketing",desc:"AI-powered ticket management"},{icon:"",title:"Mobile Ready",desc:"Access anywhere, anytime"},{icon:"",title:"Secure",desc:"Enterprise-grade security"},{icon:"",title:"Fast",desc:"Lightning-quick performance"}].map((e,r)=>s.jsxs("div",{className:"text-center p-6 rounded-xl bg-card/50 border border-border/50 hover:bg-card hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:"text-3xl mb-3",children:e.icon}),s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]},r))})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-background via-primary/5 to-secondary/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-primary/5 to-accent/5"})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Role-Based Experience"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent",children:"Built for Every Role"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tailored experiences designed specifically for each team member's workflow and responsibilities."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-3xl transform rotate-2 group-hover:rotate-3 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg",children:"Administrator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"System Administrator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Full system control with user management, project oversight, analytics access, and system configuration."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"User Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Analytics"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full Access"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary border border-primary/20",children:"Web Developer"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Web Developer"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Code, build, and deploy websites with ticket management, project tracking, and development tools."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ticket Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Repository"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deploy Tools"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-accent-dark/10 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-accent/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2m4 0H8l.5 16h7L16 4z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-accent/10 text-accent border border-accent/20",children:"Coordinator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Manage social media campaigns, track engagement metrics, and coordinate content across platforms."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Campaign Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analytics Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Content Calendar"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/10 to-success-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-success/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-success to-success-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-success/10 text-success border border-success/20",children:"Client"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Client Portal"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"View project progress, submit feedback, create support tickets, and communicate directly with your team."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Project Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"File Sharing"]})]})]})]})]})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary via-primary-dark to-primary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:s.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"white",opacity:"0.1"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#pattern)"})]})}),s.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsx("div",{className:"container text-center relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 border border-white/20 text-white text-sm font-medium mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Start Your Journey Today"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-white leading-tight",children:["Ready to Transform Your",s.jsx("br",{}),s.jsx("span",{className:"text-accent",children:"Marketing Workflow?"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of teams already managing their websites and social media campaigns more efficiently with our comprehensive marketing management platform."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(K,{to:t?"/dashboard":"/register",className:"group relative bg-white text-primary px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[240px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(K,{to:"/login",className:"group border-2 border-white/30 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white/10 hover:border-white transition-all duration-300 transform hover:-translate-y-1 backdrop-blur-sm w-[240px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})})]})]}),s.jsx(ye,{})]})}let Uz=0;const U4=()=>{const[t,e]=C.useState([]);return{toasts:t,showToast:(n,i="info")=>{const a=String(Uz++),o={id:a,message:n,type:i};e(l=>[...l,o]),setTimeout(()=>{e(l=>l.filter(c=>c.id!==a))},3e3)}}};function z4({toasts:t}){return s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>s.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function zz(){const t=ge(),e=Gs(),{toasts:r,showToast:n}=U4(),{signIn:i,loading:a,isSignedIn:o}=me(),[l,c]=C.useState(""),[u,d]=C.useState(""),[h,f]=C.useState(!1),p=new URLSearchParams(e.search).get("portal")==="client";C.useEffect(()=>{o&&!a&&t("/dashboard")},[o,a,t]);const v=async b=>{if(b.preventDefault(),!l||!u){n("Please fill in all fields","error");return}f(!0);try{await i(l,u),n("Signing in...","success")}catch(x){let g="Failed to sign in. Please try again.";if(x instanceof Error&&"message"in x)g=x.message;else if(typeof x=="object"&&x!==null&&"code"in x)switch(x.code){case"auth/user-not-found":g="No account found with this email address.";break;case"auth/wrong-password":g="Incorrect password. Please try again.";break;case"auth/invalid-email":g="Please enter a valid email address.";break;case"auth/user-disabled":g="This account has been disabled.";break;case"auth/too-many-requests":g="Too many failed login attempts. Please try again later.";break;default:g="Authentication failed. Please try again."}n(g,"error")}finally{f(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:p?"Client Portal":"Sign In"}),s.jsx("p",{className:"text-muted-foreground",children:p?"Welcome Back - Access your project updates and files":"Access your Marketing Management Website account"})]}),s.jsxs("div",{className:"card",children:[!p&&s.jsxs("div",{className:"mb-6 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-primary mb-2",children:"Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Administrator:"})," admin@system.com / admin123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Web Developer:"})," dev@system.com / dev123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Web Developer:"})," jane.dev@system.com / dev123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Social Media Coordinator:"})," social@system.com / social123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]})]}),p&&s.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-accent mb-2",children:"Client Portal Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-accent/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]}),s.jsx("p",{className:"text-xs text-accent/60 mt-2",children:"Don't have access? Contact support"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:l,onChange:b=>c(b.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:u,onChange:b=>d(b.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"remember",type:"checkbox",className:"rounded"}),s.jsx("label",{htmlFor:"remember",className:"text-sm text-foreground",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:()=>n("Password reset feature coming soon. Please contact support.","info"),className:"text-sm text-primary hover:underline bg-transparent border-none p-0 cursor-pointer",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:h||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h||a?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>n("Google sign-in feature coming soon. Please use email/password for now.","info"),className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(K,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]}),p&&s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:s.jsx(K,{to:"/",className:"text-primary font-semibold hover:underline",children:" Back to Main Site"})})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Secure"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Collaborative"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"Efficient"]})]})]})]})}),s.jsx(z4,{toasts:r}),s.jsx(ye,{})]})}function Wz(){const t=ge(),{toasts:e,showToast:r}=U4(),{signUp:n,isSignedIn:i,loading:a}=me(),[o,l]=C.useState("client"),[c,u]=C.useState(""),[d,h]=C.useState(""),[f,p]=C.useState(""),[v,b]=C.useState(""),[x,g]=C.useState(""),[y,w]=C.useState(!1),[A,j]=C.useState(!1),[k,S]=C.useState(!1),[N,T]=C.useState(!1);C.useEffect(()=>{i&&!a&&t("/dashboard")},[i,a,t]);const O=async I=>{if(I.preventDefault(),!c||!d||!f||!v||!x){r("Please fill in all fields","error");return}if(v!==x){r("Passwords do not match","error");return}if(v.length<6){r("Password must be at least 6 characters","error");return}if(!y){r("Please agree to terms and conditions","error");return}T(!0);try{await n({email:d,password:v,fullName:c,phone:f,role:o}),r("Account created successfully!","success")}catch(M){r(M.message||"Failed to create account","error")}finally{T(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted py-12",children:s.jsxs("div",{className:"container max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>l("client"),className:`p-6 rounded-lg border-2 transition text-center ${o==="client"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),s.jsxs("button",{onClick:()=>l("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${o==="web_developer"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),s.jsxs("button",{onClick:()=>l("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${o==="social_media_coordinator"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:d,onChange:I=>h(I.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:f,onChange:I=>p(I.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{type:"password",value:v,onChange:I=>b(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",value:x,onChange:I=>g(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:I=>w(I.target.checked),className:"mt-1"}),s.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",s.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),s.jsx("button",{type:"submit",disabled:N||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(K,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),s.jsx(z4,{toasts:e}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),s.jsx("button",{onClick:()=>j(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>j(!1),className:"w-full btn-primary",children:"Close"})})]})}),k&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>S(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Payment processors to complete transactions"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>S(!1),className:"w-full btn-primary",children:"Close"})})]})}),s.jsx(ye,{})]})}function Hz(){const{isSignedIn:t,user:e,loading:r}=me(),n=ge();return C.useEffect(()=>{if(!r){if(!t){n("/login");return}if(e)switch(e.role){case"admin":n("/admin/dashboard");break;case"web_developer":n("/developer/dashboard");break;case"social_media_coordinator":n("/coordinator/dashboard");break;case"client":n("/client-portal/dashboard");break;default:n("/")}}},[t,e,r,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function W4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=W4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=W4(t))&&(n&&(n+=" "),n+=e);return n}const qj="-",qz=t=>{const e=Kz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(qj);return l[0]===""&&l.length!==1&&l.shift(),H4(l,e)||Gz(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},H4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?H4(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(qj);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},BS=/^\[(.+)\]$/,Gz=t=>{if(BS.test(t)){const e=BS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Kz=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Xz(Object.entries(t.classGroups),r).forEach(([a,o])=>{Ab(o,n,a,e)}),n},Ab=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:US(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Yz(i)){Ab(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Ab(o,US(e,a),r,n)})})},US=(t,e)=>{let r=t;return e.split(qj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yz=t=>t.isThemeGetter,Xz=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,Qz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},q4="!",Jz=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let g=l[x];if(u===0){if(g===i&&(n||l.slice(x,x+a)===e)){c.push(l.slice(d,x)),d=x+a;continue}if(g==="/"){h=x;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(q4),v=p?f.substring(1):f,b=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},Zz=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},eW=t=>({cache:Qz(t.cacheSize),parseClassName:Jz(t),...qz(t)}),tW=/\s+/,rW=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(tW);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,b=n(v?f.substring(0,p):f);if(!b){if(!v){l=u+(l.length>0?" "+l:l);continue}if(b=n(f),!b){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=Zz(d).join(":"),g=h?x+q4:x,y=g+b;if(a.includes(y))continue;a.push(y);const w=i(b,v);for(let A=0;A<w.length;++A){const j=w[A];a.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function nW(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=G4(e))&&(n&&(n+=" "),n+=r);return n}const G4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=G4(t[n]))&&(r&&(r+=" "),r+=e);return r};function iW(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=eW(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=rW(c,r);return i(c,d),d}return function(){return a(nW.apply(null,arguments))}}const tt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},K4=/^\[(?:([a-z-]+):)?(.+)\]$/i,sW=/^\d+\/\d+$/,aW=new Set(["px","full","screen"]),oW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ci=t=>Jo(t)||aW.has(t)||sW.test(t),ts=t=>sc(t,"length",vW),Jo=t=>!!t&&!Number.isNaN(Number(t)),wy=t=>sc(t,"number",Jo),zc=t=>!!t&&Number.isInteger(Number(t)),hW=t=>t.endsWith("%")&&Jo(t.slice(0,-1)),Se=t=>K4.test(t),rs=t=>oW.test(t),fW=new Set(["length","size","percentage"]),mW=t=>sc(t,fW,Y4),pW=t=>sc(t,"position",Y4),gW=new Set(["image","url"]),xW=t=>sc(t,gW,wW),yW=t=>sc(t,"",bW),Wc=()=>!0,sc=(t,e,r)=>{const n=K4.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},vW=t=>lW.test(t)&&!cW.test(t),Y4=()=>!1,bW=t=>uW.test(t),wW=t=>dW.test(t),jW=()=>{const t=tt("colors"),e=tt("spacing"),r=tt("blur"),n=tt("brightness"),i=tt("borderColor"),a=tt("borderRadius"),o=tt("borderSpacing"),l=tt("borderWidth"),c=tt("contrast"),u=tt("grayscale"),d=tt("hueRotate"),h=tt("invert"),f=tt("gap"),p=tt("gradientColorStops"),v=tt("gradientColorStopPositions"),b=tt("inset"),x=tt("margin"),g=tt("opacity"),y=tt("padding"),w=tt("saturate"),A=tt("scale"),j=tt("sepia"),k=tt("skew"),S=tt("space"),N=tt("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Se,e],M=()=>[Se,e],P=()=>["",ci,ts],F=()=>["auto",Jo,Se],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Se],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Jo,Se];return{cacheSize:500,separator:":",theme:{colors:[Wc],spacing:[ci,ts],blur:["none","",rs,Se],brightness:Q(),borderColor:[t],borderRadius:["none","","full",rs,Se],borderSpacing:M(),borderWidth:P(),contrast:Q(),grayscale:z(),hueRotate:Q(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[hW,ts],inset:I(),margin:I(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:z(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[rs]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Se]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zc,Se]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",zc,Se]}],"grid-cols":[{"grid-cols":[Wc]}],"col-start-end":[{col:["auto",{span:["full",zc,Se]},Se]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Wc]}],"row-start-end":[{row:["auto",{span:[zc,Se]},Se]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,e]}],"min-w":[{"min-w":[Se,e,"min","max","fit"]}],"max-w":[{"max-w":[Se,e,"none","full","min","max","fit","prose",{screen:[rs]},rs]}],h:[{h:[Se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",rs,ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wy]}],"font-family":[{font:[Wc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Jo,wy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ci,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ci,ts]}],"underline-offset":[{"underline-offset":["auto",ci,Se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),pW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[ci,Se]}],"outline-w":[{outline:[ci,ts]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[ci,ts]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",rs,yW]}],"shadow-color":[{shadow:[Wc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",rs,Se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[zc,Se]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ci,ts,wy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NW=iW(jW);function _W(...t){return NW(Ne(t))}function X4(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function Dn(t){const e=typeof t=="string"?new Date(t):t,n=new Date().getTime()-e.getTime(),i=Math.floor(n/6e4),a=Math.floor(n/36e5),o=Math.floor(n/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:o<30?`${o} day${o>1?"s":""} ago`:X4(e)}function Q4(t){return t.charAt(0).toUpperCase()+t.slice(1)}function SW(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function AW(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-primary/10 text-primary border-primary/20",social_media_coordinator:"bg-accent/10 text-accent border-accent/20",client:"bg-success/10 text-success border-success/20"}[t]}function Di(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",launch:"Launch",maintenance:"Maintenance"}[t]}function J4(t){return{planning:16.67,design:33.33,development:50,testing:66.67,launch:83.33,maintenance:100}[t]}function Z4(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function kW(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||Q4(t)}function TW(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function EW(t){return Q4(t)}function PW(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function fu(t){return new Intl.NumberFormat("en-ZA").format(t)}function IW(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function pr({title:t,value:e,icon:r,trend:n,className:i=""}){return s.jsx("div",{className:`bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8 shadow-sm hover:shadow-md transition-all duration-200 ${i}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide mb-2",children:t}),s.jsx("p",{className:"text-3xl lg:text-4xl font-bold text-foreground leading-none",children:typeof e=="number"?fu(e):e}),n&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n.isPositive?"bg-success/10 text-success-foreground":"bg-destructive/10 text-destructive-foreground"}`,children:[n.isPositive?"":""," ",Math.abs(n.value),"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),r&&s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx("div",{className:"text-primary w-6 h-6",children:r})})]})})}function Sr({status:t,className:e=""}){return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Z4(t)} ${e}`,children:kW(t)})}function ac({priority:t,className:e=""}){const r={low:"",medium:"",high:"",critical:""}[t];return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${TW(t)} ${e}`,children:[s.jsx("span",{children:r}),EW(t)]})}function uf({className:t}){return s.jsx("div",{className:_W("animate-pulse rounded-md bg-muted",t)})}function df(){return s.jsx("div",{className:"bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(uf,{className:"h-4 w-24 mb-2"}),s.jsx(uf,{className:"h-8 w-16 mb-3"}),s.jsx(uf,{className:"h-4 w-20"})]}),s.jsx(uf,{className:"w-12 h-12 rounded-lg"})]})})}var CW=Array.isArray,Dr=CW,OW=typeof Vh=="object"&&Vh&&Vh.Object===Object&&Vh,eM=OW,MW=eM,DW=typeof self=="object"&&self&&self.Object===Object&&self,RW=MW||DW||Function("return this")(),ai=RW,LW=ai,$W=LW.Symbol,gh=$W,zS=gh,tM=Object.prototype,VW=tM.hasOwnProperty,FW=tM.toString,Hc=zS?zS.toStringTag:void 0;function BW(t){var e=VW.call(t,Hc),r=t[Hc];try{t[Hc]=void 0;var n=!0}catch{}var i=FW.call(t);return n&&(e?t[Hc]=r:delete t[Hc]),i}var UW=BW,zW=Object.prototype,WW=zW.toString;function HW(t){return WW.call(t)}var qW=HW,WS=gh,GW=UW,KW=qW,YW="[object Null]",XW="[object Undefined]",HS=WS?WS.toStringTag:void 0;function QW(t){return t==null?t===void 0?XW:YW:HS&&HS in Object(t)?GW(t):KW(t)}var Ui=QW;function JW(t){return t!=null&&typeof t=="object"}var zi=JW,ZW=Ui,eH=zi,tH="[object Symbol]";function rH(t){return typeof t=="symbol"||eH(t)&&ZW(t)==tH}var oc=rH,nH=Dr,iH=oc,sH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aH=/^\w*$/;function oH(t,e){if(nH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||iH(t)?!0:aH.test(t)||!sH.test(t)||e!=null&&t in Object(e)}var Gj=oH;function lH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xs=lH;const lc=Ue(Xs);var cH=Ui,uH=Xs,dH="[object AsyncFunction]",hH="[object Function]",fH="[object GeneratorFunction]",mH="[object Proxy]";function pH(t){if(!uH(t))return!1;var e=cH(t);return e==hH||e==fH||e==dH||e==mH}var Kj=pH;const pe=Ue(Kj);var gH=ai,xH=gH["__core-js_shared__"],yH=xH,jy=yH,qS=function(){var t=/[^.]+$/.exec(jy&&jy.keys&&jy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vH(t){return!!qS&&qS in t}var bH=vH,wH=Function.prototype,jH=wH.toString;function NH(t){if(t!=null){try{return jH.call(t)}catch{}try{return t+""}catch{}}return""}var rM=NH,_H=Kj,SH=bH,AH=Xs,kH=rM,TH=/[\\^$.*+?()[\]{}|]/g,EH=/^\[object .+?Constructor\]$/,PH=Function.prototype,IH=Object.prototype,CH=PH.toString,OH=IH.hasOwnProperty,MH=RegExp("^"+CH.call(OH).replace(TH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DH(t){if(!AH(t)||SH(t))return!1;var e=_H(t)?MH:EH;return e.test(kH(t))}var RH=DH;function LH(t,e){return t==null?void 0:t[e]}var $H=LH,VH=RH,FH=$H;function BH(t,e){var r=FH(t,e);return VH(r)?r:void 0}var to=BH,UH=to,zH=UH(Object,"create"),Sg=zH,GS=Sg;function WH(){this.__data__=GS?GS(null):{},this.size=0}var HH=WH;function qH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var GH=qH,KH=Sg,YH="__lodash_hash_undefined__",XH=Object.prototype,QH=XH.hasOwnProperty;function JH(t){var e=this.__data__;if(KH){var r=e[t];return r===YH?void 0:r}return QH.call(e,t)?e[t]:void 0}var ZH=JH,eq=Sg,tq=Object.prototype,rq=tq.hasOwnProperty;function nq(t){var e=this.__data__;return eq?e[t]!==void 0:rq.call(e,t)}var iq=nq,sq=Sg,aq="__lodash_hash_undefined__";function oq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=sq&&e===void 0?aq:e,this}var lq=oq,cq=HH,uq=GH,dq=ZH,hq=iq,fq=lq;function cc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cc.prototype.clear=cq;cc.prototype.delete=uq;cc.prototype.get=dq;cc.prototype.has=hq;cc.prototype.set=fq;var mq=cc;function pq(){this.__data__=[],this.size=0}var gq=pq;function xq(t,e){return t===e||t!==t&&e!==e}var Yj=xq,yq=Yj;function vq(t,e){for(var r=t.length;r--;)if(yq(t[r][0],e))return r;return-1}var Ag=vq,bq=Ag,wq=Array.prototype,jq=wq.splice;function Nq(t){var e=this.__data__,r=bq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():jq.call(e,r,1),--this.size,!0}var _q=Nq,Sq=Ag;function Aq(t){var e=this.__data__,r=Sq(e,t);return r<0?void 0:e[r][1]}var kq=Aq,Tq=Ag;function Eq(t){return Tq(this.__data__,t)>-1}var Pq=Eq,Iq=Ag;function Cq(t,e){var r=this.__data__,n=Iq(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Oq=Cq,Mq=gq,Dq=_q,Rq=kq,Lq=Pq,$q=Oq;function uc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uc.prototype.clear=Mq;uc.prototype.delete=Dq;uc.prototype.get=Rq;uc.prototype.has=Lq;uc.prototype.set=$q;var kg=uc,Vq=to,Fq=ai,Bq=Vq(Fq,"Map"),Xj=Bq,KS=mq,Uq=kg,zq=Xj;function Wq(){this.size=0,this.__data__={hash:new KS,map:new(zq||Uq),string:new KS}}var Hq=Wq;function qq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Gq=qq,Kq=Gq;function Yq(t,e){var r=t.__data__;return Kq(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Tg=Yq,Xq=Tg;function Qq(t){var e=Xq(this,t).delete(t);return this.size-=e?1:0,e}var Jq=Qq,Zq=Tg;function eG(t){return Zq(this,t).get(t)}var tG=eG,rG=Tg;function nG(t){return rG(this,t).has(t)}var iG=nG,sG=Tg;function aG(t,e){var r=sG(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var oG=aG,lG=Hq,cG=Jq,uG=tG,dG=iG,hG=oG;function dc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dc.prototype.clear=lG;dc.prototype.delete=cG;dc.prototype.get=uG;dc.prototype.has=dG;dc.prototype.set=hG;var Qj=dc,nM=Qj,fG="Expected a function";function Jj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fG);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Jj.Cache||nM),r}Jj.Cache=nM;var iM=Jj;const mG=Ue(iM);var pG=iM,gG=500;function xG(t){var e=pG(t,function(n){return r.size===gG&&r.clear(),n}),r=e.cache;return e}var yG=xG,vG=yG,bG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wG=/\\(\\)?/g,jG=vG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bG,function(r,n,i,a){e.push(i?a.replace(wG,"$1"):n||r)}),e}),NG=jG;function _G(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Zj=_G,YS=gh,SG=Zj,AG=Dr,kG=oc,XS=YS?YS.prototype:void 0,QS=XS?XS.toString:void 0;function sM(t){if(typeof t=="string")return t;if(AG(t))return SG(t,sM)+"";if(kG(t))return QS?QS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var TG=sM,EG=TG;function PG(t){return t==null?"":EG(t)}var aM=PG,IG=Dr,CG=Gj,OG=NG,MG=aM;function DG(t,e){return IG(t)?t:CG(t,e)?[t]:OG(MG(t))}var oM=DG,RG=oc;function LG(t){if(typeof t=="string"||RG(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Eg=LG,$G=oM,VG=Eg;function FG(t,e){e=$G(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[VG(e[r++])];return r&&r==n?t:void 0}var e1=FG,BG=e1;function UG(t,e,r){var n=t==null?void 0:BG(t,e);return n===void 0?r:n}var lM=UG;const Hr=Ue(lM);function zG(t){return t==null}var WG=zG;const be=Ue(WG);var HG=Ui,qG=Dr,GG=zi,KG="[object String]";function YG(t){return typeof t=="string"||!qG(t)&&GG(t)&&HG(t)==KG}var XG=YG;const Ba=Ue(XG);var cM={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=Symbol.for("react.element"),r1=Symbol.for("react.portal"),Pg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),QG=Symbol.for("react.server_context"),Dg=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Lg=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),Vg=Symbol.for("react.lazy"),JG=Symbol.for("react.offscreen"),uM;uM=Symbol.for("react.module.reference");function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case t1:switch(t=t.type,t){case Pg:case Cg:case Ig:case Rg:case Lg:return t;default:switch(t=t&&t.$$typeof,t){case QG:case Mg:case Dg:case Vg:case $g:case Og:return t;default:return e}}case r1:return e}}}ze.ContextConsumer=Mg;ze.ContextProvider=Og;ze.Element=t1;ze.ForwardRef=Dg;ze.Fragment=Pg;ze.Lazy=Vg;ze.Memo=$g;ze.Portal=r1;ze.Profiler=Cg;ze.StrictMode=Ig;ze.Suspense=Rg;ze.SuspenseList=Lg;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return xn(t)===Mg};ze.isContextProvider=function(t){return xn(t)===Og};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===t1};ze.isForwardRef=function(t){return xn(t)===Dg};ze.isFragment=function(t){return xn(t)===Pg};ze.isLazy=function(t){return xn(t)===Vg};ze.isMemo=function(t){return xn(t)===$g};ze.isPortal=function(t){return xn(t)===r1};ze.isProfiler=function(t){return xn(t)===Cg};ze.isStrictMode=function(t){return xn(t)===Ig};ze.isSuspense=function(t){return xn(t)===Rg};ze.isSuspenseList=function(t){return xn(t)===Lg};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pg||t===Cg||t===Ig||t===Rg||t===Lg||t===JG||typeof t=="object"&&t!==null&&(t.$$typeof===Vg||t.$$typeof===$g||t.$$typeof===Og||t.$$typeof===Mg||t.$$typeof===Dg||t.$$typeof===uM||t.getModuleId!==void 0)};ze.typeOf=xn;cM.exports=ze;var ZG=cM.exports,eK=Ui,tK=zi,rK="[object Number]";function nK(t){return typeof t=="number"||tK(t)&&eK(t)==rK}var dM=nK;const iK=Ue(dM);var sK=dM;function aK(t){return sK(t)&&t!=+t}var oK=aK;const xh=Ue(oK);var wr=function(e){return e===0?0:e>0?1:-1},ba=function(e){return Ba(e)&&e.indexOf("%")===e.length-1},ee=function(e){return iK(e)&&!xh(e)},lK=function(e){return be(e)},$t=function(e){return ee(e)||Ba(e)},cK=0,hc=function(e){var r=++cK;return"".concat(e||"").concat(r)},jr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Ba(e))return n;var a;if(ba(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return xh(a)&&(a=n),i&&a>r&&(a=r),a},fs=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},uK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Br=function(e,r){return ee(e)&&ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function Fm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Hr(n,e))===r})}var dK=function(e,r){return ee(e)&&ee(r)?e-r:Ba(e)&&Ba(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Zo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}var hK=["viewBox","children"],fK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JS=["points","pathLength"],Ny={svg:hK,polygon:JS,polyline:JS},n1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Bm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!lc(n))return null;var i={};return Object.keys(n).forEach(function(a){n1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},mK=function(e,r,n){return function(i){return e(r,n,i),null}},Ua=function(e,r,n){if(!lc(e)||kb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];n1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=mK(o,r,n))}),i},pK=["children"],gK=["children"];function ZS(t,e){if(t==null)return{};var r=xK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}var eA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_i=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},tA=null,_y=null,i1=function t(e){if(e===tA&&Array.isArray(_y))return _y;var r=[];return C.Children.forEach(e,function(n){be(n)||(ZG.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_y=r,tA=e,r};function qr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return _i(i)}):n=[_i(e)],i1(t).forEach(function(i){var a=Hr(i,"type.displayName")||Hr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Fr(t,e){var r=qr(t,e);return r&&r[0]}var rA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ee(n)||n<=0||!ee(i)||i<=0)},yK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vK=function(e){return e&&e.type&&Ba(e.type)&&yK.indexOf(e.type)>=0},bK=function(e){return e&&Tb(e)==="object"&&"clipDot"in e},wK=function(e,r,n,i){var a,o=(a=Ny==null?void 0:Ny[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!pe(e)&&(i&&o.includes(r)||fK.includes(r))||n&&n1.includes(r)},le=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!lc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;wK((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},Eb=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return nA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!nA(a,o))return!1}return!0},nA=function(e,r){if(be(e)&&be(r))return!0;if(!be(e)&&!be(r)){var n=e.props||{},i=n.children,a=ZS(n,pK),o=r.props||{},l=o.children,c=ZS(o,gK);return i&&l?Zo(a,c)&&Eb(i,l):!i&&!l?Zo(a,c):!1}return!1},iA=function(e,r){var n=[],i={};return i1(e).forEach(function(a,o){if(vK(a))n.push(a);else if(a){var l=_i(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(a,l,o);n.push(h),i[l]=!0}}}),n},jK=function(e){var r=e&&e.type;return r&&eA[r]?eA[r]:null},NK=function(e,r){return i1(r).indexOf(e)},_K=["children","width","height","viewBox","className","style","title","desc"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(this,arguments)}function SK(t,e){if(t==null)return{};var r=AK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ib(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=SK(t,_K),d=i||{width:r,height:n,x:0,y:0},h=Ne("recharts-surface",a);return L.createElement("svg",Pb({},le(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),e)}var kK=["children","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cb.apply(this,arguments)}function TK(t,e){if(t==null)return{};var r=EK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var De=L.forwardRef(function(t,e){var r=t.children,n=t.className,i=TK(t,kK),a=Ne("recharts-layer",n);return L.createElement("g",Cb({className:a},le(i,!0),{ref:e}),r)}),Cn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function PK(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var IK=PK,CK=IK;function OK(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:CK(t,e,r)}var MK=OK,DK="\\ud800-\\udfff",RK="\\u0300-\\u036f",LK="\\ufe20-\\ufe2f",$K="\\u20d0-\\u20ff",VK=RK+LK+$K,FK="\\ufe0e\\ufe0f",BK="\\u200d",UK=RegExp("["+BK+DK+VK+FK+"]");function zK(t){return UK.test(t)}var hM=zK;function WK(t){return t.split("")}var HK=WK,fM="\\ud800-\\udfff",qK="\\u0300-\\u036f",GK="\\ufe20-\\ufe2f",KK="\\u20d0-\\u20ff",YK=qK+GK+KK,XK="\\ufe0e\\ufe0f",QK="["+fM+"]",Ob="["+YK+"]",Mb="\\ud83c[\\udffb-\\udfff]",JK="(?:"+Ob+"|"+Mb+")",mM="[^"+fM+"]",pM="(?:\\ud83c[\\udde6-\\uddff]){2}",gM="[\\ud800-\\udbff][\\udc00-\\udfff]",ZK="\\u200d",xM=JK+"?",yM="["+XK+"]?",eY="(?:"+ZK+"(?:"+[mM,pM,gM].join("|")+")"+yM+xM+")*",tY=yM+xM+eY,rY="(?:"+[mM+Ob+"?",Ob,pM,gM,QK].join("|")+")",nY=RegExp(Mb+"(?="+Mb+")|"+rY+tY,"g");function iY(t){return t.match(nY)||[]}var sY=iY,aY=HK,oY=hM,lY=sY;function cY(t){return oY(t)?lY(t):aY(t)}var uY=cY,dY=MK,hY=hM,fY=uY,mY=aM;function pY(t){return function(e){e=mY(e);var r=hY(e)?fY(e):void 0,n=r?r[0]:e.charAt(0),i=r?dY(r,1).join(""):e.slice(1);return n[t]()+i}}var gY=pY,xY=gY,yY=xY("toUpperCase"),vY=yY;const Fg=Ue(vY);function Xe(t){return function(){return t}}const vM=Math.cos,Um=Math.sin,Rn=Math.sqrt,zm=Math.PI,Bg=2*zm,Db=Math.PI,Rb=2*Db,da=1e-6,bY=Rb-da;function bM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function wY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bM:wY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>da)if(!(Math.abs(h*c-u*d)>da)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-l,b=c*c+u*u,x=p*p+v*v,g=Math.sqrt(b),y=Math.sqrt(f),w=a*Math.tan((Db-Math.acos((b+f-x)/(2*g*y)))/2),A=w/y,j=w/g;Math.abs(A-1)>da&&this._append`L${e+A*d},${r+A*h}`,this._append`A${a},${a},0,0,${+(h*p>d*v)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>da||Math.abs(this._y1-d)>da)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Rb+Rb),f>bY?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>da&&this._append`A${n},${n},0,${+(f>=Db)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function s1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jY(e)}function a1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wM(t){this._context=t}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ug(t){return new wM(t)}function jM(t){return t[0]}function NM(t){return t[1]}function _M(t,e){var r=Xe(!0),n=null,i=Ug,a=null,o=s1(l);t=typeof t=="function"?t:t===void 0?jM:Xe(t),e=typeof e=="function"?e:e===void 0?NM:Xe(e);function l(c){var u,d=(c=a1(c)).length,h,f=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function hf(t,e,r){var n=null,i=Xe(!0),a=null,o=Ug,l=null,c=s1(u);t=typeof t=="function"?t:t===void 0?jM:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?NM:Xe(+r);function u(h){var f,p,v,b=(h=a1(h)).length,x,g=!1,y,w=new Array(b),A=new Array(b);for(a==null&&(l=o(y=c())),f=0;f<=b;++f){if(!(f<b&&i(x=h[f],f,h))===g)if(g=!g)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=p;--v)l.point(w[v],A[v]);l.lineEnd(),l.areaEnd()}g&&(w[f]=+t(x,f,h),A[f]=+e(x,f,h),l.point(n?+n(x,f,h):w[f],r?+r(x,f,h):A[f]))}if(y)return l=null,y+""||null}function d(){return _M().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Xe(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Xe(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Xe(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Xe(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Xe(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Xe(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Xe(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class SM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function NY(t){return new SM(t,!0)}function _Y(t){return new SM(t,!1)}const o1={draw(t,e){const r=Rn(e/zm);t.moveTo(r,0),t.arc(0,0,r,0,Bg)}},SY={draw(t,e){const r=Rn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},AM=Rn(1/3),AY=AM*2,kY={draw(t,e){const r=Rn(e/AY),n=r*AM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},TY={draw(t,e){const r=Rn(e),n=-r/2;t.rect(n,n,r,r)}},EY=.8908130915292852,kM=Um(zm/10)/Um(7*zm/10),PY=Um(Bg/10)*kM,IY=-vM(Bg/10)*kM,CY={draw(t,e){const r=Rn(e*EY),n=PY*r,i=IY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Bg*a/5,l=vM(o),c=Um(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},Sy=Rn(3),OY={draw(t,e){const r=-Rn(e/(Sy*3));t.moveTo(0,r*2),t.lineTo(-Sy*r,-r),t.lineTo(Sy*r,-r),t.closePath()}},Jr=-.5,Zr=Rn(3)/2,Lb=1/Rn(12),MY=(Lb/2+1)*3,DY={draw(t,e){const r=Rn(e/MY),n=r/2,i=r*Lb,a=n,o=r*Lb+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Jr*n-Zr*i,Zr*n+Jr*i),t.lineTo(Jr*a-Zr*o,Zr*a+Jr*o),t.lineTo(Jr*l-Zr*c,Zr*l+Jr*c),t.lineTo(Jr*n+Zr*i,Jr*i-Zr*n),t.lineTo(Jr*a+Zr*o,Jr*o-Zr*a),t.lineTo(Jr*l+Zr*c,Jr*c-Zr*l),t.closePath()}};function RY(t,e){let r=null,n=s1(i);t=typeof t=="function"?t:Xe(t||o1),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Wm(){}function Hm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function TM(t){this._context=t}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LY(t){return new TM(t)}function EM(t){this._context=t}EM.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Y(t){return new EM(t)}function PM(t){this._context=t}PM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VY(t){return new PM(t)}function IM(t){this._context=t}IM.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function FY(t){return new IM(t)}function sA(t){return t<0?-1:1}function aA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(sA(a)+sA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function oA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ay(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function qm(t){this._context=t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ay(this,this._t0,oA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ay(this,oA(this,r=aA(this,t,e)),r);break;default:Ay(this,this._t0,r=aA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function CM(t){this._context=new OM(t)}(CM.prototype=Object.create(qm.prototype)).point=function(t,e){qm.prototype.point.call(this,e,t)};function OM(t){this._context=t}OM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function BY(t){return new qm(t)}function UY(t){return new CM(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=lA(t),i=lA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function zY(t){return new MM(t)}function zg(t,e){this._context=t,this._t=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function WY(t){return new zg(t,.5)}function HY(t){return new zg(t,0)}function qY(t){return new zg(t,1)}function gl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $b(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function GY(t,e){return t[e]}function KY(t){const e=[];return e.key=t,e}function YY(){var t=Xe([]),e=$b,r=gl,n=GY;function i(a){var o=Array.from(t.apply(this,arguments),KY),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=a1(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Xe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?$b:typeof a=="function"?a:Xe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??gl,i):r},i}function XY(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}gl(t,e)}}function QY(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}gl(t,e)}}function JY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,v=0;v<l;++v){var b=t[e[v]],x=b[n][1]||0,g=b[n-1][1]||0;p+=x-g}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,gl(t,e)}}function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}var ZY=["type","size","sizeType"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){eX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eX(t,e,r){return e=tX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tX(t){var e=rX(t,"string");return gd(e)=="symbol"?e:e+""}function rX(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nX(t,e){if(t==null)return{};var r=iX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DM={symbolCircle:o1,symbolCross:SY,symbolDiamond:kY,symbolSquare:TY,symbolStar:CY,symbolTriangle:OY,symbolWye:DY},sX=Math.PI/180,aX=function(e){var r="symbol".concat(Fg(e));return DM[r]||o1},oX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*sX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lX=function(e,r){DM["symbol".concat(Fg(e))]=r},l1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=nX(e,ZY),u=uA(uA({},c),{},{type:n,size:a,sizeType:l}),d=function(){var x=aX(n),g=RY().type(x).size(oX(a,l,n));return g()},h=u.className,f=u.cx,p=u.cy,v=le(u,!0);return f===+f&&p===+p&&a===+a?L.createElement("path",Vb({},v,{className:Ne("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};l1.registerSymbol=lX;function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fb.apply(this,arguments)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){xd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LM(n.key),n)}}function hX(t,e,r){return e&&dX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fX(t,e,r){return e=Gm(e),mX(t,RM()?Reflect.construct(e,r||[],Gm(t).constructor):e.apply(t,r))}function mX(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pX(t)}function pX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gm(t)}function gX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bb(t,e)}function xd(t,e,r){return e=LM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LM(t){var e=xX(t,"string");return xl(e)=="symbol"?e:e+""}function xX(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var en=32,c1=function(t){function e(){return uX(this,e),fX(this,e,arguments)}return gX(e,t),hX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=en/2,o=en/6,l=en/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:en,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(en,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(en/8,"h").concat(en,"v").concat(en*3/4,"h").concat(-en,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=cX({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(l1,{fill:c,cx:a,cy:a,size:en,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:en,height:en},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var b=p.formatter||c,x=Ne(xd(xd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=pe(p.value)?null:p.value;Cn(!pe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return L.createElement("li",Fb({className:x,style:h,key:"legend-item-".concat(v)},Ua(n.props,p,v)),L.createElement(Ib,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(C.PureComponent);xd(c1,"displayName","Legend");xd(c1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var yX=kg;function vX(){this.__data__=new yX,this.size=0}var bX=vX;function wX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var jX=wX;function NX(t){return this.__data__.get(t)}var _X=NX;function SX(t){return this.__data__.has(t)}var AX=SX,kX=kg,TX=Xj,EX=Qj,PX=200;function IX(t,e){var r=this.__data__;if(r instanceof kX){var n=r.__data__;if(!TX||n.length<PX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new EX(n)}return r.set(t,e),this.size=r.size,this}var CX=IX,OX=kg,MX=bX,DX=jX,RX=_X,LX=AX,$X=CX;function fc(t){var e=this.__data__=new OX(t);this.size=e.size}fc.prototype.clear=MX;fc.prototype.delete=DX;fc.prototype.get=RX;fc.prototype.has=LX;fc.prototype.set=$X;var $M=fc,VX="__lodash_hash_undefined__";function FX(t){return this.__data__.set(t,VX),this}var BX=FX;function UX(t){return this.__data__.has(t)}var zX=UX,WX=Qj,HX=BX,qX=zX;function Km(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new WX;++e<r;)this.add(t[e])}Km.prototype.add=Km.prototype.push=HX;Km.prototype.has=qX;var VM=Km;function GX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var FM=GX;function KX(t,e){return t.has(e)}var BM=KX,YX=VM,XX=FM,QX=BM,JX=1,ZX=2;function eQ(t,e,r,n,i,a){var o=r&JX,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&ZX?new YX:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var v=t[h],b=e[h];if(n)var x=o?n(b,v,h,e,t,a):n(v,b,h,t,e,a);if(x!==void 0){if(x)continue;f=!1;break}if(p){if(!XX(e,function(g,y){if(!QX(p,y)&&(v===g||i(v,g,r,n,a)))return p.push(y)})){f=!1;break}}else if(!(v===b||i(v,b,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var UM=eQ,tQ=ai,rQ=tQ.Uint8Array,nQ=rQ;function iQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var sQ=iQ;function aQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var u1=aQ,hA=gh,fA=nQ,oQ=Yj,lQ=UM,cQ=sQ,uQ=u1,dQ=1,hQ=2,fQ="[object Boolean]",mQ="[object Date]",pQ="[object Error]",gQ="[object Map]",xQ="[object Number]",yQ="[object RegExp]",vQ="[object Set]",bQ="[object String]",wQ="[object Symbol]",jQ="[object ArrayBuffer]",NQ="[object DataView]",mA=hA?hA.prototype:void 0,ky=mA?mA.valueOf:void 0;function _Q(t,e,r,n,i,a,o){switch(r){case NQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jQ:return!(t.byteLength!=e.byteLength||!a(new fA(t),new fA(e)));case fQ:case mQ:case xQ:return oQ(+t,+e);case pQ:return t.name==e.name&&t.message==e.message;case yQ:case bQ:return t==e+"";case gQ:var l=cQ;case vQ:var c=n&dQ;if(l||(l=uQ),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=hQ,o.set(t,e);var d=lQ(l(t),l(e),n,i,a,o);return o.delete(t),d;case wQ:if(ky)return ky.call(t)==ky.call(e)}return!1}var SQ=_Q;function AQ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var zM=AQ,kQ=zM,TQ=Dr;function EQ(t,e,r){var n=e(t);return TQ(t)?n:kQ(n,r(t))}var PQ=EQ;function IQ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var CQ=IQ;function OQ(){return[]}var MQ=OQ,DQ=CQ,RQ=MQ,LQ=Object.prototype,$Q=LQ.propertyIsEnumerable,pA=Object.getOwnPropertySymbols,VQ=pA?function(t){return t==null?[]:(t=Object(t),DQ(pA(t),function(e){return $Q.call(t,e)}))}:RQ,FQ=VQ;function BQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var UQ=BQ,zQ=Ui,WQ=zi,HQ="[object Arguments]";function qQ(t){return WQ(t)&&zQ(t)==HQ}var GQ=qQ,gA=GQ,KQ=zi,WM=Object.prototype,YQ=WM.hasOwnProperty,XQ=WM.propertyIsEnumerable,QQ=gA(function(){return arguments}())?gA:function(t){return KQ(t)&&YQ.call(t,"callee")&&!XQ.call(t,"callee")},d1=QQ,Ym={exports:{}};function JQ(){return!1}var ZQ=JQ;Ym.exports;(function(t,e){var r=ai,n=ZQ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Ym,Ym.exports);var HM=Ym.exports,eJ=9007199254740991,tJ=/^(?:0|[1-9]\d*)$/;function rJ(t,e){var r=typeof t;return e=e??eJ,!!e&&(r=="number"||r!="symbol"&&tJ.test(t))&&t>-1&&t%1==0&&t<e}var h1=rJ,nJ=9007199254740991;function iJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nJ}var f1=iJ,sJ=Ui,aJ=f1,oJ=zi,lJ="[object Arguments]",cJ="[object Array]",uJ="[object Boolean]",dJ="[object Date]",hJ="[object Error]",fJ="[object Function]",mJ="[object Map]",pJ="[object Number]",gJ="[object Object]",xJ="[object RegExp]",yJ="[object Set]",vJ="[object String]",bJ="[object WeakMap]",wJ="[object ArrayBuffer]",jJ="[object DataView]",NJ="[object Float32Array]",_J="[object Float64Array]",SJ="[object Int8Array]",AJ="[object Int16Array]",kJ="[object Int32Array]",TJ="[object Uint8Array]",EJ="[object Uint8ClampedArray]",PJ="[object Uint16Array]",IJ="[object Uint32Array]",nt={};nt[NJ]=nt[_J]=nt[SJ]=nt[AJ]=nt[kJ]=nt[TJ]=nt[EJ]=nt[PJ]=nt[IJ]=!0;nt[lJ]=nt[cJ]=nt[wJ]=nt[uJ]=nt[jJ]=nt[dJ]=nt[hJ]=nt[fJ]=nt[mJ]=nt[pJ]=nt[gJ]=nt[xJ]=nt[yJ]=nt[vJ]=nt[bJ]=!1;function CJ(t){return oJ(t)&&aJ(t.length)&&!!nt[sJ(t)]}var OJ=CJ;function MJ(t){return function(e){return t(e)}}var qM=MJ,Xm={exports:{}};Xm.exports;(function(t,e){var r=eM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Xm,Xm.exports);var DJ=Xm.exports,RJ=OJ,LJ=qM,xA=DJ,yA=xA&&xA.isTypedArray,$J=yA?LJ(yA):RJ,GM=$J,VJ=UQ,FJ=d1,BJ=Dr,UJ=HM,zJ=h1,WJ=GM,HJ=Object.prototype,qJ=HJ.hasOwnProperty;function GJ(t,e){var r=BJ(t),n=!r&&FJ(t),i=!r&&!n&&UJ(t),a=!r&&!n&&!i&&WJ(t),o=r||n||i||a,l=o?VJ(t.length,String):[],c=l.length;for(var u in t)(e||qJ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zJ(u,c)))&&l.push(u);return l}var KJ=GJ,YJ=Object.prototype;function XJ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||YJ;return t===r}var QJ=XJ;function JJ(t,e){return function(r){return t(e(r))}}var KM=JJ,ZJ=KM,eZ=ZJ(Object.keys,Object),tZ=eZ,rZ=QJ,nZ=tZ,iZ=Object.prototype,sZ=iZ.hasOwnProperty;function aZ(t){if(!rZ(t))return nZ(t);var e=[];for(var r in Object(t))sZ.call(t,r)&&r!="constructor"&&e.push(r);return e}var oZ=aZ,lZ=Kj,cZ=f1;function uZ(t){return t!=null&&cZ(t.length)&&!lZ(t)}var yh=uZ,dZ=KJ,hZ=oZ,fZ=yh;function mZ(t){return fZ(t)?dZ(t):hZ(t)}var Wg=mZ,pZ=PQ,gZ=FQ,xZ=Wg;function yZ(t){return pZ(t,xZ,gZ)}var vZ=yZ,vA=vZ,bZ=1,wZ=Object.prototype,jZ=wZ.hasOwnProperty;function NZ(t,e,r,n,i,a){var o=r&bZ,l=vA(t),c=l.length,u=vA(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:jZ.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var b=!0;a.set(t,e),a.set(e,t);for(var x=o;++h<c;){f=l[h];var g=t[f],y=e[f];if(n)var w=o?n(y,g,f,e,t,a):n(g,y,f,t,e,a);if(!(w===void 0?g===y||i(g,y,r,n,a):w)){b=!1;break}x||(x=f=="constructor")}if(b&&!x){var A=t.constructor,j=e.constructor;A!=j&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof j=="function"&&j instanceof j)&&(b=!1)}return a.delete(t),a.delete(e),b}var _Z=NZ,SZ=to,AZ=ai,kZ=SZ(AZ,"DataView"),TZ=kZ,EZ=to,PZ=ai,IZ=EZ(PZ,"Promise"),CZ=IZ,OZ=to,MZ=ai,DZ=OZ(MZ,"Set"),YM=DZ,RZ=to,LZ=ai,$Z=RZ(LZ,"WeakMap"),VZ=$Z,Ub=TZ,zb=Xj,Wb=CZ,Hb=YM,qb=VZ,XM=Ui,mc=rM,bA="[object Map]",FZ="[object Object]",wA="[object Promise]",jA="[object Set]",NA="[object WeakMap]",_A="[object DataView]",BZ=mc(Ub),UZ=mc(zb),zZ=mc(Wb),WZ=mc(Hb),HZ=mc(qb),ha=XM;(Ub&&ha(new Ub(new ArrayBuffer(1)))!=_A||zb&&ha(new zb)!=bA||Wb&&ha(Wb.resolve())!=wA||Hb&&ha(new Hb)!=jA||qb&&ha(new qb)!=NA)&&(ha=function(t){var e=XM(t),r=e==FZ?t.constructor:void 0,n=r?mc(r):"";if(n)switch(n){case BZ:return _A;case UZ:return bA;case zZ:return wA;case WZ:return jA;case HZ:return NA}return e});var qZ=ha,Ty=$M,GZ=UM,KZ=SQ,YZ=_Z,SA=qZ,AA=Dr,kA=HM,XZ=GM,QZ=1,TA="[object Arguments]",EA="[object Array]",ff="[object Object]",JZ=Object.prototype,PA=JZ.hasOwnProperty;function ZZ(t,e,r,n,i,a){var o=AA(t),l=AA(e),c=o?EA:SA(t),u=l?EA:SA(e);c=c==TA?ff:c,u=u==TA?ff:u;var d=c==ff,h=u==ff,f=c==u;if(f&&kA(t)){if(!kA(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Ty),o||XZ(t)?GZ(t,e,r,n,i,a):KZ(t,e,c,r,n,i,a);if(!(r&QZ)){var p=d&&PA.call(t,"__wrapped__"),v=h&&PA.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,x=v?e.value():e;return a||(a=new Ty),i(b,x,r,n,a)}}return f?(a||(a=new Ty),YZ(t,e,r,n,i,a)):!1}var eee=ZZ,tee=eee,IA=zi;function QM(t,e,r,n,i){return t===e?!0:t==null||e==null||!IA(t)&&!IA(e)?t!==t&&e!==e:tee(t,e,r,n,QM,i)}var m1=QM,ree=$M,nee=m1,iee=1,see=2;function aee(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new ree;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?nee(d,u,iee|see,n,h):f))return!1}}return!0}var oee=aee,lee=Xs;function cee(t){return t===t&&!lee(t)}var JM=cee,uee=JM,dee=Wg;function hee(t){for(var e=dee(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,uee(i)]}return e}var fee=hee;function mee(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ZM=mee,pee=oee,gee=fee,xee=ZM;function yee(t){var e=gee(t);return e.length==1&&e[0][2]?xee(e[0][0],e[0][1]):function(r){return r===t||pee(r,t,e)}}var vee=yee;function bee(t,e){return t!=null&&e in Object(t)}var wee=bee,jee=oM,Nee=d1,_ee=Dr,See=h1,Aee=f1,kee=Eg;function Tee(t,e,r){e=jee(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=kee(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Aee(i)&&See(o,i)&&(_ee(t)||Nee(t)))}var Eee=Tee,Pee=wee,Iee=Eee;function Cee(t,e){return t!=null&&Iee(t,e,Pee)}var Oee=Cee,Mee=m1,Dee=lM,Ree=Oee,Lee=Gj,$ee=JM,Vee=ZM,Fee=Eg,Bee=1,Uee=2;function zee(t,e){return Lee(t)&&$ee(e)?Vee(Fee(t),e):function(r){var n=Dee(r,t);return n===void 0&&n===e?Ree(r,t):Mee(e,n,Bee|Uee)}}var Wee=zee;function Hee(t){return t}var pc=Hee;function qee(t){return function(e){return e==null?void 0:e[t]}}var Gee=qee,Kee=e1;function Yee(t){return function(e){return Kee(e,t)}}var Xee=Yee,Qee=Gee,Jee=Xee,Zee=Gj,ete=Eg;function tte(t){return Zee(t)?Qee(ete(t)):Jee(t)}var rte=tte,nte=vee,ite=Wee,ste=pc,ate=Dr,ote=rte;function lte(t){return typeof t=="function"?t:t==null?ste:typeof t=="object"?ate(t)?ite(t[0],t[1]):nte(t):ote(t)}var oi=lte;function cte(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var eD=cte;function ute(t){return t!==t}var dte=ute;function hte(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var fte=hte,mte=eD,pte=dte,gte=fte;function xte(t,e,r){return e===e?gte(t,e,r):mte(t,pte,r)}var yte=xte,vte=yte;function bte(t,e){var r=t==null?0:t.length;return!!r&&vte(t,e,0)>-1}var wte=bte;function jte(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Nte=jte;function _te(){}var Ste=_te,Ey=YM,Ate=Ste,kte=u1,Tte=1/0,Ete=Ey&&1/kte(new Ey([,-0]))[1]==Tte?function(t){return new Ey(t)}:Ate,Pte=Ete,Ite=VM,Cte=wte,Ote=Nte,Mte=BM,Dte=Pte,Rte=u1,Lte=200;function $te(t,e,r){var n=-1,i=Cte,a=t.length,o=!0,l=[],c=l;if(r)o=!1,i=Ote;else if(a>=Lte){var u=e?null:Dte(t);if(u)return Rte(u);o=!1,i=Mte,c=new Ite}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var Vte=$te,Fte=oi,Bte=Vte;function Ute(t,e){return t&&t.length?Bte(t,Fte(e)):[]}var zte=Ute;const CA=Ue(zte);function tD(t,e,r){return e===!0?CA(t,r):pe(e)?CA(t,e):t}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var Wte=["ref"];function OA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(r),!0).forEach(function(n){Hg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function qte(t,e,r){return e&&MA(t.prototype,e),r&&MA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gte(t,e,r){return e=Qm(e),Kte(t,rD()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function Kte(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gb(t,e)}function Hg(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=Qte(t,"string");return yl(e)=="symbol"?e:e+""}function Qte(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jte(t,e){if(t==null)return{};var r=Zte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ere(t){return t.value}function tre(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var r=Jte(e,Wte);return L.createElement(c1,r)}var DA=1,Os=function(t){function e(){var r;Hte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gte(this,e,[].concat(i)),Hg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Xte(e,t),qte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>DA||Math.abs(i.height-this.lastBoundingBox.height)>DA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ui(ui({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=ui(ui({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},tre(a,ui(ui({},this.props),{},{payload:tD(d,u,ere)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ui(ui({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(C.PureComponent);Hg(Os,"displayName","Legend");Hg(Os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RA=gh,rre=d1,nre=Dr,LA=RA?RA.isConcatSpreadable:void 0;function ire(t){return nre(t)||rre(t)||!!(LA&&t&&t[LA])}var sre=ire,are=zM,ore=sre;function iD(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=ore),i||(i=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?iD(l,e-1,r,n,i):are(i,l):n||(i[i.length]=l)}return i}var sD=iD;function lre(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(a[c],c,a)===!1)break}return e}}var cre=lre,ure=cre,dre=ure(),hre=dre,fre=hre,mre=Wg;function pre(t,e){return t&&fre(t,e,mre)}var aD=pre,gre=yh;function xre(t,e){return function(r,n){if(r==null)return r;if(!gre(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var yre=xre,vre=aD,bre=yre,wre=bre(vre),p1=wre,jre=p1,Nre=yh;function _re(t,e){var r=-1,n=Nre(t)?Array(t.length):[];return jre(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var oD=_re;function Sre(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Are=Sre,$A=oc;function kre(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=$A(t),o=e!==void 0,l=e===null,c=e===e,u=$A(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var Tre=kre,Ere=Tre;function Pre(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,l=r.length;++n<o;){var c=Ere(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var Ire=Pre,Py=Zj,Cre=e1,Ore=oi,Mre=oD,Dre=Are,Rre=qM,Lre=Ire,$re=pc,Vre=Dr;function Fre(t,e,r){e.length?e=Py(e,function(a){return Vre(a)?function(o){return Cre(o,a.length===1?a[0]:a)}:a}):e=[$re];var n=-1;e=Py(e,Rre(Ore));var i=Mre(t,function(a,o,l){var c=Py(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Dre(i,function(a,o){return Lre(a,o,r)})}var Bre=Fre;function Ure(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var zre=Ure,Wre=zre,VA=Math.max;function Hre(t,e,r){return e=VA(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=VA(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),Wre(t,this,l)}}var qre=Hre;function Gre(t){return function(){return t}}var Kre=Gre,Yre=to,Xre=function(){try{var t=Yre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lD=Xre,Qre=Kre,FA=lD,Jre=pc,Zre=FA?function(t,e){return FA(t,"toString",{configurable:!0,enumerable:!1,value:Qre(e),writable:!0})}:Jre,ene=Zre,tne=800,rne=16,nne=Date.now;function ine(t){var e=0,r=0;return function(){var n=nne(),i=rne-(n-r);if(r=n,i>0){if(++e>=tne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var sne=ine,ane=ene,one=sne,lne=one(ane),cne=lne,une=pc,dne=qre,hne=cne;function fne(t,e){return hne(dne(t,e,une),t+"")}var mne=fne,pne=Yj,gne=yh,xne=h1,yne=Xs;function vne(t,e,r){if(!yne(r))return!1;var n=typeof e;return(n=="number"?gne(r)&&xne(e,r.length):n=="string"&&e in r)?pne(r[e],t):!1}var qg=vne,bne=sD,wne=Bre,jne=mne,BA=qg,Nne=jne(function(t,e){if(t==null)return[];var r=e.length;return r>1&&BA(t,e[0],e[1])?e=[]:r>2&&BA(e[0],e[1],e[2])&&(e=[e[0]]),wne(t,bne(e,1),[])}),_ne=Nne;const g1=Ue(_ne);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kb.apply(this,arguments)}function Sne(t,e){return Ene(t)||Tne(t,e)||kne(t,e)||Ane()}function Ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t,e){if(t){if(typeof t=="string")return UA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(t,e)}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ene(t){if(Array.isArray(t))return t}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(n){Pne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pne(t,e,r){return e=Ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ine(t){var e=Cne(t,"string");return yd(e)=="symbol"?e:e+""}function Cne(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t){return Array.isArray(t)&&$t(t[0])&&$t(t[1])?t.join(" ~ "):t}var Mne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,g=e.accessibilityLayer,y=g===void 0?!1:g,w=function(){if(d&&d.length){var M={padding:0,margin:0},P=(f?g1(d,f):d).map(function(F,B){if(F.type==="none")return null;var D=Iy({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),V=F.formatter||h||One,$=F.value,z=F.name,q=$,Q=z;if(V&&q!=null&&Q!=null){var Z=V($,z,F,B,d);if(Array.isArray(Z)){var oe=Sne(Z,2);q=oe[0],Q=oe[1]}else q=Z}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:D},$t(Q)?L.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,$t(Q)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},q),L.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},A=Iy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=Iy({margin:0},u),k=!be(b),S=k?b:"",N=Ne("recharts-default-tooltip",p),T=Ne("recharts-tooltip-label",v);k&&x&&d!==void 0&&d!==null&&(S=x(b,d));var O=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Kb({className:N,style:A},O),L.createElement("p",{className:T,style:j},L.isValidElement(S)?S:"".concat(S)),w())};function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function mf(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dne(t){var e=Rne(t,"string");return vd(e)=="symbol"?e:e+""}function Rne(t,e){if(vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qc="recharts-tooltip-wrapper",Lne={visibility:"hidden"};function $ne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ne(qc,mf(mf(mf(mf({},"".concat(qc,"-right"),ee(r)&&e&&ee(e.x)&&r>=e.x),"".concat(qc,"-left"),ee(r)&&e&&ee(e.x)&&r<e.x),"".concat(qc,"-bottom"),ee(n)&&e&&ee(e.y)&&n>=e.y),"".concat(qc,"-top"),ee(n)&&e&&ee(e.y)&&n<e.y))}function WA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&ee(a[n]))return a[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var v=h+l,b=c[n]+u;return v>b?Math.max(d,c[n]):Math.max(h,c[n])}function Vne(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Fne(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=WA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=WA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Vne({translateX:d,translateY:h,useTranslate3d:l})):u=Lne,{cssProperties:u,cssClasses:$ne({translateX:d,translateY:h,coordinate:r})}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function HA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(r),!0).forEach(function(n){Xb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Une(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uD(n.key),n)}}function zne(t,e,r){return e&&Une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,r){return e=Jm(e),Hne(t,cD()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function Hne(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qne(t)}function qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yb(t,e)}function Xb(t,e,r){return e=uD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uD(t){var e=Kne(t,"string");return vl(e)=="symbol"?e:e+""}function Kne(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GA=1,Yne=function(t){function e(){var r;Bne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Wne(this,e,[].concat(i)),Xb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xb(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Gne(e,t),zne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>GA||Math.abs(n.height-this.state.lastBoundingBox.height)>GA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,g=i.viewBox,y=i.wrapperStyle,w=Fne({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:g}),A=w.cssClasses,j=w.cssProperties,k=qA(qA({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(N){n.wrapperNode=N}},u)}}])}(C.PureComponent),Xne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ro={isSsr:Xne()};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function KA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KA(Object(r),!0).forEach(function(n){x1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hD(n.key),n)}}function Zne(t,e,r){return e&&Jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eie(t,e,r){return e=Zm(e),tie(t,dD()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function tie(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rie(t)}function rie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dD=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function nie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qb(t,e)}function x1(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=iie(t,"string");return bl(e)=="symbol"?e:e+""}function iie(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sie(t){return t.dataKey}function aie(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(Mne,e)}var tn=function(t){function e(){return Qne(this,e),eie(this,e,arguments)}return nie(e,t),Zne(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,g=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,j=v??[];h&&j.length&&(j=tD(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),b,sie));var k=j.length>0;return L.createElement(Yne,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:k,offset:p,position:x,reverseDirection:g,useTranslate3d:y,viewBox:w,wrapperStyle:A},aie(u,YA(YA({},this.props),{},{payload:j})))}}])}(C.PureComponent);x1(tn,"displayName","Tooltip");x1(tn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oie=ai,lie=function(){return oie.Date.now()},cie=lie,uie=/\s/;function die(t){for(var e=t.length;e--&&uie.test(t.charAt(e)););return e}var hie=die,fie=hie,mie=/^\s+/;function pie(t){return t&&t.slice(0,fie(t)+1).replace(mie,"")}var gie=pie,xie=gie,XA=Xs,yie=oc,QA=NaN,vie=/^[-+]0x[0-9a-f]+$/i,bie=/^0b[01]+$/i,wie=/^0o[0-7]+$/i,jie=parseInt;function Nie(t){if(typeof t=="number")return t;if(yie(t))return QA;if(XA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=XA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xie(t);var r=bie.test(t);return r||wie.test(t)?jie(t.slice(2),r?2:8):vie.test(t)?QA:+t}var fD=Nie,_ie=Xs,Cy=cie,JA=fD,Sie="Expected a function",Aie=Math.max,kie=Math.min;function Tie(t,e,r){var n,i,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Sie);e=JA(e)||0,_ie(r)&&(d=!!r.leading,h="maxWait"in r,a=h?Aie(JA(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(k){var S=n,N=i;return n=i=void 0,u=k,o=t.apply(N,S),o}function v(k){return u=k,l=setTimeout(g,e),d?p(k):o}function b(k){var S=k-c,N=k-u,T=e-S;return h?kie(T,a-N):T}function x(k){var S=k-c,N=k-u;return c===void 0||S>=e||S<0||h&&N>=a}function g(){var k=Cy();if(x(k))return y(k);l=setTimeout(g,b(k))}function y(k){return l=void 0,f&&n?p(k):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function A(){return l===void 0?o:y(Cy())}function j(){var k=Cy(),S=x(k);if(n=arguments,i=this,c=k,S){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(g,e),p(c)}return l===void 0&&(l=setTimeout(g,e)),o}return j.cancel=w,j.flush=A,j}var Eie=Tie,Pie=Eie,Iie=Xs,Cie="Expected a function";function Oie(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Cie);return Iie(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Pie(t,e,{leading:n,maxWait:e,trailing:i})}var Mie=Oie;const mD=Ue(Mie);function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function ZA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(r),!0).forEach(function(n){Die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Die(t,e,r){return e=Rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rie(t){var e=Lie(t,"string");return bd(e)=="symbol"?e:e+""}function Lie(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e){return Uie(t)||Bie(t,e)||Fie(t,e)||Vie()}function Vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(t,e){if(t){if(typeof t=="string")return ek(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Uie(t){if(Array.isArray(t))return t}var Oy=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,g=t.className,y=t.onResize,w=t.style,A=w===void 0?{}:w,j=C.useRef(null),k=C.useRef();k.current=y,C.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=C.useState({containerWidth:i.width,containerHeight:i.height}),N=$ie(S,2),T=N[0],O=N[1],I=C.useCallback(function(P,F){O(function(B){var D=Math.round(P),V=Math.round(F);return B.containerWidth===D&&B.containerHeight===V?B:{containerWidth:D,containerHeight:V}})},[]);C.useEffect(function(){var P=function(z){var q,Q=z[0].contentRect,Z=Q.width,oe=Q.height;I(Z,oe),(q=k.current)===null||q===void 0||q.call(k,Z,oe)};b>0&&(P=mD(P,b,{trailing:!0,leading:!1}));var F=new ResizeObserver(P),B=j.current.getBoundingClientRect(),D=B.width,V=B.height;return I(D,V),F.observe(j.current),function(){F.disconnect()}},[I,b]);var M=C.useMemo(function(){var P=T.containerWidth,F=T.containerHeight;if(P<0||F<0)return null;Cn(ba(o)||ba(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Cn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=ba(o)?P:o,D=ba(c)?F:c;r&&r>0&&(B?D=B/r:D&&(B=D*r),f&&D>f&&(D=f)),Cn(B>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,D,o,c,d,h,r);var V=!Array.isArray(p)&&_i(p.type).endsWith("Chart");return L.Children.map(p,function($){return L.isValidElement($)?C.cloneElement($,pf({width:B,height:D},V?{style:pf({height:"100%",width:"100%",maxHeight:D,maxWidth:B},$.props.style)}:{})):$})},[r,p,c,f,h,d,T,o]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Ne("recharts-responsive-container",g),style:pf(pf({},A),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},M)}),wd=function(e){return null};wd.displayName="Cell";function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zie(t,e,r){return e=Wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wie(t){var e=Hie(t,"string");return jd(e)=="symbol"?e:e+""}function Hie(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var po={widthCache:{},cacheCount:0},qie=2e3,Gie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rk="recharts_measurement_span";function Kie(t){var e=Jb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Iu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ro.isSsr)return{width:0,height:0};var n=Kie(r),i=JSON.stringify({text:e,copyStyle:n});if(po.widthCache[i])return po.widthCache[i];try{var a=document.getElementById(rk);a||(a=document.createElement("span"),a.setAttribute("id",rk),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Jb(Jb({},Gie),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return po.widthCache[i]=c,++po.cacheCount>qie&&(po.cacheCount=0,po.widthCache={}),c}catch{return{width:0,height:0}}},Yie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function ep(t,e){return Zie(t)||Jie(t,e)||Qie(t,e)||Xie()}function Xie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qie(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Zie(t){if(Array.isArray(t))return t}function ese(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ik(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rse(n.key),n)}}function tse(t,e,r){return e&&ik(t.prototype,e),r&&ik(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rse(t){var e=nse(t,"string");return Nd(e)=="symbol"?e:e+""}function nse(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ise=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ase=Object.keys(pD),Lo="NaN";function ose(t,e){return t*pD[e]}var gf=function(){function t(e,r){ese(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ise.test(r)&&(this.num=NaN,this.unit=""),ase.includes(r)&&(this.num=ose(e,r),this.unit="px")}return tse(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=sse.exec(r))!==null&&n!==void 0?n:[],a=ep(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function gD(t){if(t.includes(Lo))return Lo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=sk.exec(e))!==null&&r!==void 0?r:[],i=ep(n,4),a=i[1],o=i[2],l=i[3],c=gf.parse(a??""),u=gf.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Lo;e=e.replace(sk,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=ak.exec(e))!==null&&h!==void 0?h:[],p=ep(f,4),v=p[1],b=p[2],x=p[3],g=gf.parse(v??""),y=gf.parse(x??""),w=b==="+"?g.add(y):g.subtract(y);if(w.isNaN())return Lo;e=e.replace(ak,w.toString())}return e}var ok=/\(([^()]*)\)/;function lse(t){for(var e=t;e.includes("(");){var r=ok.exec(e),n=ep(r,2),i=n[1];e=e.replace(ok,gD(i))}return e}function cse(t){var e=t.replace(/\s+/g,"");return e=lse(e),e=gD(e),e}function use(t){try{return cse(t)}catch{return Lo}}function My(t){var e=use(t.slice(5,-1));return e===Lo?"":e}var dse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hse=["dx","dy","angle","className","breakAll"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zb.apply(this,arguments)}function lk(t,e){if(t==null)return{};var r=fse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ck(t,e){return xse(t)||gse(t,e)||pse(t,e)||mse()}function mse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return uk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(t,e)}}function uk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function xse(t){if(Array.isArray(t))return t}var xD=/[ \f\n\r\t\v\u2028\u2029]+/,yD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];be(r)||(n?a=r.toString().split(""):a=r.toString().split(xD));var o=a.map(function(c){return{word:c,width:Iu(c,i).width}}),l=n?0:Iu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yse=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ee(o),h=l,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(D,V){var $=V.word,z=V.width,q=D[D.length-1];if(q&&(i==null||a||q.width+z+n<Number(i)))q.words.push($),q.width+=z+n;else{var Q={words:[$],width:z};D.push(Q)}return D},[])},p=f(r),v=function(B){return B.reduce(function(D,V){return D.width>V.width?D:V})};if(!d)return p;for(var b="",x=function(B){var D=h.slice(0,B),V=yD({breakAll:u,style:c,children:D+b}).wordsWithComputedWidth,$=f(V),z=$.length>o||v($).width>Number(i);return[z,$]},g=0,y=h.length-1,w=0,A;g<=y&&w<=h.length-1;){var j=Math.floor((g+y)/2),k=j-1,S=x(k),N=ck(S,2),T=N[0],O=N[1],I=x(j),M=ck(I,1),P=M[0];if(!T&&!P&&(g=j+1),T&&P&&(y=j-1),!T&&P){A=O;break}w++}return A||p},dk=function(e){var r=be(e)?[]:e.toString().split(xD);return[{words:r}]},vse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!ro.isSsr){var c,u,d=yD({breakAll:o,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return dk(i);return yse({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return dk(i)},hk="#808080",za=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,g=x===void 0?hk:x,y=lk(e,dse),w=C.useMemo(function(){return vse({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),A=y.dx,j=y.dy,k=y.angle,S=y.className,N=y.breakAll,T=lk(y,hse);if(!$t(n)||!$t(a))return null;var O=n+(ee(A)?A:0),I=a+(ee(j)?j:0),M;switch(b){case"start":M=My("calc(".concat(u,")"));break;case"middle":M=My("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=My("calc(".concat(w.length-1," * -").concat(l,")"));break}var P=[];if(h){var F=w[0].width,B=y.width;P.push("scale(".concat((ee(B)?B/F:1)/F,")"))}return k&&P.push("rotate(".concat(k,", ").concat(O,", ").concat(I,")")),P.length&&(T.transform=P.join(" ")),L.createElement("text",Zb({},le(T,!0),{x:O,y:I,className:Ne("recharts-text",S),textAnchor:p,fill:g.includes("url")?hk:g}),w.map(function(D,V){var $=D.words.join(N?"":" ");return L.createElement("tspan",{x:O,dy:V===0?M:l,key:"".concat($,"-").concat(V)},$)}))};function Ms(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y1(t){let e,r,n;t.length!==2?(e=Ms,r=(l,c)=>Ms(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ms||t===bse?t:wse,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function wse(){return 0}function vD(t){return t===null?NaN:+t}function*jse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Nse=y1(Ms),vh=Nse.right;y1(vD).center;class fk extends Map{constructor(e,r=Ase){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(mk(this,e))}has(e){return super.has(mk(this,e))}set(e,r){return super.set(_se(this,e),r)}delete(e){return super.delete(Sse(this,e))}}function mk({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _se({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Sse({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ase(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kse(t=Ms){if(t===Ms)return bD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function bD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Tse=Math.sqrt(50),Ese=Math.sqrt(10),Pse=Math.sqrt(2);function tp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Tse?10:a>=Ese?5:a>=Pse?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?tp(t,e,r*2):[l,c,u]}function e0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?tp(e,t,r):tp(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function t0(t,e,r){return e=+e,t=+t,r=+r,tp(t,e,r)[2]}function r0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?t0(e,t,r):t0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function pk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?bD:kse(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),v=Math.min(n,Math.floor(e+(c-u)*h/c+f));wD(t,e,p,v,i)}const a=t[e];let o=r,l=n;for(Gc(t,r,e),i(t[n],a)>0&&Gc(t,r,n);o<l;){for(Gc(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Gc(t,r,l):(++l,Gc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Gc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ise(t,e,r){if(t=Float64Array.from(jse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return gk(t);if(e>=1)return pk(t);var n,i=(n-1)*e,a=Math.floor(i),o=pk(wD(t,a).subarray(0,a+1)),l=gk(t.subarray(a+1));return o+(l-o)*(i-a)}}function Cse(t,e,r=vD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Ose(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n0=Symbol("implicit");function v1(){var t=new fk,e=[],r=[],n=n0;function i(a){let o=t.get(a);if(o===void 0){if(n!==n0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fk;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return v1(e,r).unknown(n)},yn.apply(i,arguments),i}function _d(){var t=v1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,v=p?i:n,b=p?n:i;a=(b-v)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),v+=(b-v-a*(f-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var x=Ose(f).map(function(g){return v+a*g});return r(p?x.reverse():x)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return _d(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},yn.apply(h(),arguments)}function jD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jD(e())},t}function Cu(){return jD(_d.apply(null,arguments).paddingInner(1))}function b1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ND(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function bh(){}var Sd=.7,rp=1/Sd,el="\\s*([+-]?\\d+)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mse=/^#([0-9a-f]{3,8})$/,Dse=new RegExp(`^rgb\\(${el},${el},${el}\\)$`),Rse=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),Lse=new RegExp(`^rgba\\(${el},${el},${el},${Ad}\\)$`),$se=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${Ad}\\)$`),Vse=new RegExp(`^hsl\\(${Ad},${Jn},${Jn}\\)$`),Fse=new RegExp(`^hsla\\(${Ad},${Jn},${Jn},${Ad}\\)$`),xk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b1(bh,kd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yk,formatHex:yk,formatHex8:Bse,formatHsl:Use,formatRgb:vk,toString:vk});function yk(){return this.rgb().formatHex()}function Bse(){return this.rgb().formatHex8()}function Use(){return _D(this).formatHsl()}function vk(){return this.rgb().formatRgb()}function kd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Mse.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?bk(e):r===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?xf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?xf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dse.exec(t))?new Ir(e[1],e[2],e[3],1):(e=Rse.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Lse.exec(t))?xf(e[1],e[2],e[3],e[4]):(e=$se.exec(t))?xf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vse.exec(t))?Nk(e[1],e[2]/100,e[3]/100,1):(e=Fse.exec(t))?Nk(e[1],e[2]/100,e[3]/100,e[4]):xk.hasOwnProperty(t)?bk(xk[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function bk(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function xf(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ir(t,e,r,n)}function zse(t){return t instanceof bh||(t=kd(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function i0(t,e,r,n){return arguments.length===1?zse(t):new Ir(t,e,r,n??1)}function Ir(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}b1(Ir,i0,ND(bh,{brighter(t){return t=t==null?rp:Math.pow(rp,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(ka(this.r),ka(this.g),ka(this.b),np(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wk,formatHex:wk,formatHex8:Wse,formatRgb:jk,toString:jk}));function wk(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}`}function Wse(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}${wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function jk(){const t=np(this.opacity);return`${t===1?"rgb(":"rgba("}${ka(this.r)}, ${ka(this.g)}, ${ka(this.b)}${t===1?")":`, ${t})`}`}function np(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ka(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wa(t){return t=ka(t),(t<16?"0":"")+t.toString(16)}function Nk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new kn(t,e,r,n)}function _D(t){if(t instanceof kn)return new kn(t.h,t.s,t.l,t.opacity);if(t instanceof bh||(t=kd(t)),!t)return new kn;if(t instanceof kn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new kn(o,l,c,t.opacity)}function Hse(t,e,r,n){return arguments.length===1?_D(t):new kn(t,e,r,n??1)}function kn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}b1(kn,Hse,ND(bh,{brighter(t){return t=t==null?rp:Math.pow(rp,t),new kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ir(Dy(t>=240?t-240:t+120,i,n),Dy(t,i,n),Dy(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new kn(_k(this.h),yf(this.s),yf(this.l),np(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=np(this.opacity);return`${t===1?"hsl(":"hsla("}${_k(this.h)}, ${yf(this.s)*100}%, ${yf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _k(t){return t=(t||0)%360,t<0?t+360:t}function yf(t){return Math.max(0,Math.min(1,t||0))}function Dy(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const w1=t=>()=>t;function qse(t,e){return function(r){return t+r*e}}function Gse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Kse(t){return(t=+t)==1?SD:function(e,r){return r-e?Gse(e,r,t):w1(isNaN(e)?r:e)}}function SD(t,e){var r=e-t;return r?qse(t,r):w1(isNaN(t)?e:t)}const Sk=function t(e){var r=Kse(e);function n(i,a){var o=r((i=i0(i)).r,(a=i0(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=SD(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Yse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Xse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=gc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Jse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function ip(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Zse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=gc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var s0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ry=new RegExp(s0.source,"g");function eae(t){return function(){return t}}function tae(t){return function(e){return t(e)+""}}function rae(t,e){var r=s0.lastIndex=Ry.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=s0.exec(t))&&(i=Ry.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:ip(n,i)})),r=Ry.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?tae(c[0].x):eae(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function gc(t,e){var r=typeof e,n;return e==null||r==="boolean"?w1(e):(r==="number"?ip:r==="string"?(n=kd(e))?(e=n,Sk):rae:e instanceof kd?Sk:e instanceof Date?Jse:Xse(e)?Yse:Array.isArray(e)?Qse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zse:ip)(t,e)}function j1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nae(t,e){e===void 0&&(e=t,t=gc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function iae(t){return function(){return t}}function sp(t){return+t}var Ak=[0,1];function Nr(t){return t}function a0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:iae(isNaN(e)?NaN:.5)}function sae(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function aae(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=a0(i,n),a=r(o,a)):(n=a0(n,i),a=r(a,o)),function(l){return a(n(l))}}function oae(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=a0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=vh(t,l,1,n)-1;return a[c](i[c](l))}}function wh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gg(){var t=Ak,e=Ak,r=gc,n,i,a,o=Nr,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Nr&&(o=sae(t[0],t[f-1])),l=f>2?oae:aae,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(n),ip)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,sp),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=j1,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Nr,d()):o!==Nr},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return n=f,i=p,d()}}function N1(){return Gg()(Nr,Nr)}function lae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ap(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wl(t){return t=ap(Math.abs(t)),t?t[1]:NaN}function cae(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function uae(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Td(t){if(!(e=dae.exec(t)))throw new Error("invalid format: "+t);var e;return new _1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Td.prototype=_1.prototype;function _1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hae(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var AD;function fae(t,e){var r=ap(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(AD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ap(t,Math.max(0,e+a-1))[0]}function kk(t,e){var r=ap(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kk(t*100,e),r:kk,s:fae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ek(t){return t}var Pk=Array.prototype.map,Ik=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mae(t){var e=t.grouping===void 0||t.thousands===void 0?Ek:cae(Pk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ek:uae(Pk.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Td(h);var f=h.fill,p=h.align,v=h.sign,b=h.symbol,x=h.zero,g=h.width,y=h.comma,w=h.precision,A=h.trim,j=h.type;j==="n"?(y=!0,j="g"):Tk[j]||(w===void 0&&(w=12),A=!0,j="g"),(x||f==="0"&&p==="=")&&(x=!0,f="0",p="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=b==="$"?n:/[%p]/.test(j)?o:"",N=Tk[j],T=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(I){var M=k,P=S,F,B,D;if(j==="c")P=N(I)+P,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?c:N(Math.abs(I),w),A&&(I=hae(I)),V&&+I==0&&v!=="+"&&(V=!1),M=(V?v==="("?v:l:v==="-"||v==="("?"":v)+M,P=(j==="s"?Ik[8+AD/3]:"")+P+(V&&v==="("?")":""),T){for(F=-1,B=I.length;++F<B;)if(D=I.charCodeAt(F),48>D||D>57){P=(D===46?i+I.slice(F+1):I.slice(F))+P,I=I.slice(0,F);break}}}y&&!x&&(I=e(I,1/0));var $=M.length+I.length+P.length,z=$<g?new Array(g-$+1).join(f):"";switch(y&&x&&(I=e(z+I,z.length?g-P.length:1/0),z=""),p){case"<":I=M+I+P+z;break;case"=":I=M+z+I+P;break;case"^":I=z.slice(0,$=z.length>>1)+M+I+P+z.slice($);break;default:I=z+M+I+P;break}return a(I)}return O.toString=function(){return h+""},O}function d(h,f){var p=u((h=Td(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(wl(f)/3)))*3,b=Math.pow(10,-v),x=Ik[8+v/3];return function(g){return p(b*g)+x}}return{format:u,formatPrefix:d}}var vf,S1,kD;pae({thousands:",",grouping:[3],currency:["$",""]});function pae(t){return vf=mae(t),S1=vf.format,kD=vf.formatPrefix,vf}function gae(t){return Math.max(0,-wl(Math.abs(t)))}function xae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wl(e)/3)))*3-wl(Math.abs(t)))}function yae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wl(e)-wl(t))+1}function TD(t,e,r,n){var i=r0(t,e,r),a;switch(n=Td(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=xae(i,o))&&(n.precision=a),kD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=gae(i))&&(n.precision=a-(n.type==="%")*2);break}}return S1(n)}function Qs(t){var e=t.domain;return t.ticks=function(r){var n=e();return e0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return TD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=t0(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function op(){var t=N1();return t.copy=function(){return wh(t,op())},yn.apply(t,arguments),Qs(t)}function ED(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,sp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ED(t).unknown(e)},t=arguments.length?Array.from(t,sp):[0,1],Qs(r)}function PD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Ck(t){return Math.log(t)}function Ok(t){return Math.exp(t)}function vae(t){return-Math.log(-t)}function bae(t){return-Math.exp(-t)}function wae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jae(t){return t===10?wae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Nae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Mk(t){return(e,r)=>-t(-e,r)}function A1(t){const e=t(Ck,Ok),r=e.domain;let n=10,i,a;function o(){return i=Nae(n),a=jae(n),r()[0]<0?(i=Mk(i),a=Mk(a),t(vae,bae)):t(Ck,Ok),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),v,b;const x=l==null?10:+l;let g=[];if(!(n%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<n;++v)if(b=f<0?v/a(-f):v*a(f),!(b<u)){if(b>d)break;g.push(b)}}else for(;f<=p;++f)for(v=n-1;v>=1;--v)if(b=f>0?v/a(-f):v*a(f),!(b<u)){if(b>d)break;g.push(b)}g.length*2<x&&(g=e0(u,d,x))}else g=e0(f,p,Math.min(p-f,x)).map(a);return h?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Td(c)).precision==null&&(c.trim=!0),c=S1(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(PD(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function ID(){const t=A1(Gg()).domain([1,10]);return t.copy=()=>wh(t,ID()).base(t.base()),yn.apply(t,arguments),t}function Dk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Rk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function k1(t){var e=1,r=t(Dk(e),Rk(e));return r.constant=function(n){return arguments.length?t(Dk(e=+n),Rk(e)):e},Qs(r)}function CD(){var t=k1(Gg());return t.copy=function(){return wh(t,CD()).constant(t.constant())},yn.apply(t,arguments)}function Lk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _ae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sae(t){return t<0?-t*t:t*t}function T1(t){var e=t(Nr,Nr),r=1;function n(){return r===1?t(Nr,Nr):r===.5?t(_ae,Sae):t(Lk(r),Lk(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Qs(e)}function E1(){var t=T1(Gg());return t.copy=function(){return wh(t,E1()).exponent(t.exponent())},yn.apply(t,arguments),t}function Aae(){return E1.apply(null,arguments).exponent(.5)}function $k(t){return Math.sign(t)*t*t}function kae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OD(){var t=N1(),e=[0,1],r=!1,n;function i(a){var o=kae(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert($k(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,sp)).map($k)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return OD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yn.apply(i,arguments),Qs(i)}function MD(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Cse(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[vh(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ms),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return MD().domain(t).range(e).unknown(n)},yn.apply(a,arguments)}function DD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[vh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return DD().domain([t,e]).range(i).unknown(a)},yn.apply(Qs(o),arguments)}function RD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[vh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return RD().domain(t).range(e).unknown(r)},yn.apply(i,arguments)}const Ly=new Date,$y=new Date;function Ft(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Ft(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ly.setTime(+a),$y.setTime(+o),t(Ly),t($y),Math.floor(r(Ly,$y))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const lp=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lp);lp.range;const yi=1e3,un=yi*60,vi=un*60,Ri=vi*24,P1=Ri*7,Vk=Ri*30,Vy=Ri*365,ja=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCSeconds());ja.range;const I1=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi)},(t,e)=>{t.setTime(+t+e*un)},(t,e)=>(e-t)/un,t=>t.getMinutes());I1.range;const C1=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*un)},(t,e)=>(e-t)/un,t=>t.getUTCMinutes());C1.range;const O1=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yi-t.getMinutes()*un)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());O1.range;const M1=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());M1.range;const jh=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*un)/Ri,t=>t.getDate()-1);jh.range;const Kg=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ri,t=>t.getUTCDate()-1);Kg.range;const LD=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ri,t=>Math.floor(t/Ri));LD.range;function no(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*un)/P1)}const Yg=no(0),cp=no(1),Tae=no(2),Eae=no(3),jl=no(4),Pae=no(5),Iae=no(6);Yg.range;cp.range;Tae.range;Eae.range;jl.range;Pae.range;Iae.range;function io(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/P1)}const Xg=io(0),up=io(1),Cae=io(2),Oae=io(3),Nl=io(4),Mae=io(5),Dae=io(6);Xg.range;up.range;Cae.range;Oae.range;Nl.range;Mae.range;Dae.range;const D1=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());D1.range;const R1=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());R1.range;const Li=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Li.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Li.range;const $i=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});$i.range;function $D(t,e,r,n,i,a){const o=[[ja,1,yi],[ja,5,5*yi],[ja,15,15*yi],[ja,30,30*yi],[a,1,un],[a,5,5*un],[a,15,15*un],[a,30,30*un],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[n,1,Ri],[n,2,2*Ri],[r,1,P1],[e,1,Vk],[e,3,3*Vk],[t,1,Vy]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),v=p?p.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,p=y1(([,,x])=>x).right(o,f);if(p===o.length)return t.every(r0(u/Vy,d/Vy,h));if(p===0)return lp.every(Math.max(r0(u,d,h),1));const[v,b]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(b)}return[l,c]}const[Rae,Lae]=$D($i,R1,Xg,LD,M1,C1),[$ae,Vae]=$D(Li,D1,Yg,jh,O1,I1);function Fy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function By(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Kc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Fae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Yc(i),d=Xc(i),h=Yc(a),f=Xc(a),p=Yc(o),v=Xc(o),b=Yc(l),x=Xc(l),g=Yc(c),y=Xc(c),w={a:V,A:$,b:z,B:q,c:null,d:Hk,e:Hk,f:coe,g:voe,G:woe,H:aoe,I:ooe,j:loe,L:VD,m:uoe,M:doe,p:Q,q:Z,Q:Kk,s:Yk,S:hoe,u:foe,U:moe,V:poe,w:goe,W:xoe,x:null,X:null,y:yoe,Y:boe,Z:joe,"%":Gk},A={a:oe,A:ke,b:We,B:Ze,c:null,d:qk,e:qk,f:Aoe,g:Roe,G:$oe,H:Noe,I:_oe,j:Soe,L:BD,m:koe,M:Toe,p:ar,q:Bt,Q:Kk,s:Yk,S:Eoe,u:Poe,U:Ioe,V:Coe,w:Ooe,W:Moe,x:null,X:null,y:Doe,Y:Loe,Z:Voe,"%":Gk},j={a:O,A:I,b:M,B:P,c:F,d:zk,e:zk,f:roe,g:Uk,G:Bk,H:Wk,I:Wk,j:Jae,L:toe,m:Qae,M:Zae,p:T,q:Xae,Q:ioe,s:soe,S:eoe,u:Hae,U:qae,V:Gae,w:Wae,W:Kae,x:B,X:D,y:Uk,Y:Bk,Z:Yae,"%":noe};w.x=k(r,w),w.X=k(n,w),w.c=k(e,w),A.x=k(r,A),A.X=k(n,A),A.c=k(e,A);function k(re,je){return function(_e){var X=[],Ke=-1,Ee=0,wt=re.length,ut,Ut,vn;for(_e instanceof Date||(_e=new Date(+_e));++Ke<wt;)re.charCodeAt(Ke)===37&&(X.push(re.slice(Ee,Ke)),(Ut=Fk[ut=re.charAt(++Ke)])!=null?ut=re.charAt(++Ke):Ut=ut==="e"?" ":"0",(vn=je[ut])&&(ut=vn(_e,Ut)),X.push(ut),Ee=Ke+1);return X.push(re.slice(Ee,Ke)),X.join("")}}function S(re,je){return function(_e){var X=Kc(1900,void 0,1),Ke=N(X,re,_e+="",0),Ee,wt;if(Ke!=_e.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(je&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ee=By(Kc(X.y,0,1)),wt=Ee.getUTCDay(),Ee=wt>4||wt===0?up.ceil(Ee):up(Ee),Ee=Kg.offset(Ee,(X.V-1)*7),X.y=Ee.getUTCFullYear(),X.m=Ee.getUTCMonth(),X.d=Ee.getUTCDate()+(X.w+6)%7):(Ee=Fy(Kc(X.y,0,1)),wt=Ee.getDay(),Ee=wt>4||wt===0?cp.ceil(Ee):cp(Ee),Ee=jh.offset(Ee,(X.V-1)*7),X.y=Ee.getFullYear(),X.m=Ee.getMonth(),X.d=Ee.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),wt="Z"in X?By(Kc(X.y,0,1)).getUTCDay():Fy(Kc(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(wt+5)%7:X.w+X.U*7-(wt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,By(X)):Fy(X)}}function N(re,je,_e,X){for(var Ke=0,Ee=je.length,wt=_e.length,ut,Ut;Ke<Ee;){if(X>=wt)return-1;if(ut=je.charCodeAt(Ke++),ut===37){if(ut=je.charAt(Ke++),Ut=j[ut in Fk?je.charAt(Ke++):ut],!Ut||(X=Ut(re,_e,X))<0)return-1}else if(ut!=_e.charCodeAt(X++))return-1}return X}function T(re,je,_e){var X=u.exec(je.slice(_e));return X?(re.p=d.get(X[0].toLowerCase()),_e+X[0].length):-1}function O(re,je,_e){var X=p.exec(je.slice(_e));return X?(re.w=v.get(X[0].toLowerCase()),_e+X[0].length):-1}function I(re,je,_e){var X=h.exec(je.slice(_e));return X?(re.w=f.get(X[0].toLowerCase()),_e+X[0].length):-1}function M(re,je,_e){var X=g.exec(je.slice(_e));return X?(re.m=y.get(X[0].toLowerCase()),_e+X[0].length):-1}function P(re,je,_e){var X=b.exec(je.slice(_e));return X?(re.m=x.get(X[0].toLowerCase()),_e+X[0].length):-1}function F(re,je,_e){return N(re,e,je,_e)}function B(re,je,_e){return N(re,r,je,_e)}function D(re,je,_e){return N(re,n,je,_e)}function V(re){return o[re.getDay()]}function $(re){return a[re.getDay()]}function z(re){return c[re.getMonth()]}function q(re){return l[re.getMonth()]}function Q(re){return i[+(re.getHours()>=12)]}function Z(re){return 1+~~(re.getMonth()/3)}function oe(re){return o[re.getUTCDay()]}function ke(re){return a[re.getUTCDay()]}function We(re){return c[re.getUTCMonth()]}function Ze(re){return l[re.getUTCMonth()]}function ar(re){return i[+(re.getUTCHours()>=12)]}function Bt(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var je=k(re+="",w);return je.toString=function(){return re},je},parse:function(re){var je=S(re+="",!1);return je.toString=function(){return re},je},utcFormat:function(re){var je=k(re+="",A);return je.toString=function(){return re},je},utcParse:function(re){var je=S(re+="",!0);return je.toString=function(){return re},je}}}var Fk={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,Bae=/^%/,Uae=/[\\^$*+?|[\]().{}]/g;function Re(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function zae(t){return t.replace(Uae,"\\$&")}function Yc(t){return new RegExp("^(?:"+t.map(zae).join("|")+")","i")}function Xc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Wae(t,e,r){var n=Jt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Hae(t,e,r){var n=Jt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function qae(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Gae(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Kae(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Bk(t,e,r){var n=Jt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Uk(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xae(t,e,r){var n=Jt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Qae(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zk(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Jae(t,e,r){var n=Jt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Wk(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Zae(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function eoe(t,e,r){var n=Jt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function toe(t,e,r){var n=Jt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function roe(t,e,r){var n=Jt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function noe(t,e,r){var n=Bae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ioe(t,e,r){var n=Jt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function soe(t,e,r){var n=Jt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Hk(t,e){return Re(t.getDate(),e,2)}function aoe(t,e){return Re(t.getHours(),e,2)}function ooe(t,e){return Re(t.getHours()%12||12,e,2)}function loe(t,e){return Re(1+jh.count(Li(t),t),e,3)}function VD(t,e){return Re(t.getMilliseconds(),e,3)}function coe(t,e){return VD(t,e)+"000"}function uoe(t,e){return Re(t.getMonth()+1,e,2)}function doe(t,e){return Re(t.getMinutes(),e,2)}function hoe(t,e){return Re(t.getSeconds(),e,2)}function foe(t){var e=t.getDay();return e===0?7:e}function moe(t,e){return Re(Yg.count(Li(t)-1,t),e,2)}function FD(t){var e=t.getDay();return e>=4||e===0?jl(t):jl.ceil(t)}function poe(t,e){return t=FD(t),Re(jl.count(Li(t),t)+(Li(t).getDay()===4),e,2)}function goe(t){return t.getDay()}function xoe(t,e){return Re(cp.count(Li(t)-1,t),e,2)}function yoe(t,e){return Re(t.getFullYear()%100,e,2)}function voe(t,e){return t=FD(t),Re(t.getFullYear()%100,e,2)}function boe(t,e){return Re(t.getFullYear()%1e4,e,4)}function woe(t,e){var r=t.getDay();return t=r>=4||r===0?jl(t):jl.ceil(t),Re(t.getFullYear()%1e4,e,4)}function joe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function qk(t,e){return Re(t.getUTCDate(),e,2)}function Noe(t,e){return Re(t.getUTCHours(),e,2)}function _oe(t,e){return Re(t.getUTCHours()%12||12,e,2)}function Soe(t,e){return Re(1+Kg.count($i(t),t),e,3)}function BD(t,e){return Re(t.getUTCMilliseconds(),e,3)}function Aoe(t,e){return BD(t,e)+"000"}function koe(t,e){return Re(t.getUTCMonth()+1,e,2)}function Toe(t,e){return Re(t.getUTCMinutes(),e,2)}function Eoe(t,e){return Re(t.getUTCSeconds(),e,2)}function Poe(t){var e=t.getUTCDay();return e===0?7:e}function Ioe(t,e){return Re(Xg.count($i(t)-1,t),e,2)}function UD(t){var e=t.getUTCDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function Coe(t,e){return t=UD(t),Re(Nl.count($i(t),t)+($i(t).getUTCDay()===4),e,2)}function Ooe(t){return t.getUTCDay()}function Moe(t,e){return Re(up.count($i(t)-1,t),e,2)}function Doe(t,e){return Re(t.getUTCFullYear()%100,e,2)}function Roe(t,e){return t=UD(t),Re(t.getUTCFullYear()%100,e,2)}function Loe(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function $oe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Nl(t):Nl.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function Voe(){return"+0000"}function Gk(){return"%"}function Kk(t){return+t}function Yk(t){return Math.floor(+t/1e3)}var go,zD,WD;Foe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Foe(t){return go=Fae(t),zD=go.format,go.parse,WD=go.utcFormat,go.utcParse,go}function Boe(t){return new Date(t)}function Uoe(t){return t instanceof Date?+t:+new Date(+t)}function L1(t,e,r,n,i,a,o,l,c,u){var d=N1(),h=d.invert,f=d.domain,p=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),g=u("%a %d"),y=u("%b %d"),w=u("%B"),A=u("%Y");function j(k){return(c(k)<k?p:l(k)<k?v:o(k)<k?b:a(k)<k?x:n(k)<k?i(k)<k?g:y:r(k)<k?w:A)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?f(Array.from(k,Uoe)):f().map(Boe)},d.ticks=function(k){var S=f();return t(S[0],S[S.length-1],k??10)},d.tickFormat=function(k,S){return S==null?j:u(S)},d.nice=function(k){var S=f();return(!k||typeof k.range!="function")&&(k=e(S[0],S[S.length-1],k??10)),k?f(PD(S,k)):d},d.copy=function(){return wh(d,L1(t,e,r,n,i,a,o,l,c,u))},d}function zoe(){return yn.apply(L1($ae,Vae,Li,D1,Yg,jh,O1,I1,ja,zD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Woe(){return yn.apply(L1(Rae,Lae,$i,R1,Xg,Kg,M1,C1,ja,WD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qg(){var t=0,e=1,r,n,i,a,o=Nr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,v;return arguments.length?([p,v]=f,o=h(p,v),u):[o(0),o(1)]}}return u.range=d(gc),u.rangeRound=d(j1),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Js(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function HD(){var t=Qs(Qg()(Nr));return t.copy=function(){return Js(t,HD())},Wi.apply(t,arguments)}function qD(){var t=A1(Qg()).domain([1,10]);return t.copy=function(){return Js(t,qD()).base(t.base())},Wi.apply(t,arguments)}function GD(){var t=k1(Qg());return t.copy=function(){return Js(t,GD()).constant(t.constant())},Wi.apply(t,arguments)}function $1(){var t=T1(Qg());return t.copy=function(){return Js(t,$1()).exponent(t.exponent())},Wi.apply(t,arguments)}function Hoe(){return $1.apply(null,arguments).exponent(.5)}function KD(){var t=[],e=Nr;function r(n){if(n!=null&&!isNaN(n=+n))return e((vh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ms),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Ise(t,a/n))},r.copy=function(){return KD(e).domain(t)},Wi.apply(r,arguments)}function Jg(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=Nr,d,h=!1,f;function p(b){return isNaN(b=+b)?f:(b=.5+((b=+d(b))-a)*(n*b<n*a?l:c),u(h?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(b){return arguments.length?(h=!!b,p):h},p.interpolator=function(b){return arguments.length?(u=b,p):u};function v(b){return function(x){var g,y,w;return arguments.length?([g,y,w]=x,u=nae(b,[g,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(gc),p.rangeRound=v(j1),p.unknown=function(b){return arguments.length?(f=b,p):f},function(b){return d=b,i=b(t),a=b(e),o=b(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function YD(){var t=Qs(Jg()(Nr));return t.copy=function(){return Js(t,YD())},Wi.apply(t,arguments)}function XD(){var t=A1(Jg()).domain([.1,1,10]);return t.copy=function(){return Js(t,XD()).base(t.base())},Wi.apply(t,arguments)}function QD(){var t=k1(Jg());return t.copy=function(){return Js(t,QD()).constant(t.constant())},Wi.apply(t,arguments)}function V1(){var t=T1(Jg());return t.copy=function(){return Js(t,V1()).exponent(t.exponent())},Wi.apply(t,arguments)}function qoe(){return V1.apply(null,arguments).exponent(.5)}const Xk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_d,scaleDiverging:YD,scaleDivergingLog:XD,scaleDivergingPow:V1,scaleDivergingSqrt:qoe,scaleDivergingSymlog:QD,scaleIdentity:ED,scaleImplicit:n0,scaleLinear:op,scaleLog:ID,scaleOrdinal:v1,scalePoint:Cu,scalePow:E1,scaleQuantile:MD,scaleQuantize:DD,scaleRadial:OD,scaleSequential:HD,scaleSequentialLog:qD,scaleSequentialPow:$1,scaleSequentialQuantile:KD,scaleSequentialSqrt:Hoe,scaleSequentialSymlog:GD,scaleSqrt:Aae,scaleSymlog:CD,scaleThreshold:RD,scaleTime:zoe,scaleUtc:Woe,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var Goe=oc;function Koe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!Goe(o):r(o,l)))var l=o,c=a}return c}var Zg=Koe;function Yoe(t,e){return t>e}var JD=Yoe,Xoe=Zg,Qoe=JD,Joe=pc;function Zoe(t){return t&&t.length?Xoe(t,Joe,Qoe):void 0}var ele=Zoe;const ex=Ue(ele);function tle(t,e){return t<e}var ZD=tle,rle=Zg,nle=ZD,ile=pc;function sle(t){return t&&t.length?rle(t,ile,nle):void 0}var ale=sle;const tx=Ue(ale);var ole=Zj,lle=oi,cle=oD,ule=Dr;function dle(t,e){var r=ule(t)?ole:cle;return r(t,lle(e))}var hle=dle,fle=sD,mle=hle;function ple(t,e){return fle(mle(t,e),1)}var gle=ple;const xle=Ue(gle);var yle=m1;function vle(t,e){return yle(t,e)}var ble=vle;const Nh=Ue(ble);var xc=1e9,wle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B1,ct=!0,mn="[DecimalError] ",Ta=mn+"Invalid argument: ",F1=mn+"Exponent out of range: ",yc=Math.floor,fa=Math.pow,jle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ur,Ht=1e7,st=7,eR=9007199254740991,dp=yc(eR/st),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*st;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};se.dividedBy=se.div=function(t){return Si(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,r=e.constructor;return Ge(Si(e,new r(t),0,1),r.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return Pt(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ur))throw Error(mn+"NaN");if(r.s<1)throw Error(mn+(r.s?"NaN":"-Infinity"));return r.eq(Ur)?new n(0):(ct=!1,e=Si(Ed(r,a),Ed(t,a),a),ct=!0,Ge(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nR(e,t):tR(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(mn+"NaN");return r.s?(ct=!1,e=Si(r,t,0,1).times(t),ct=!0,r.minus(e)):Ge(new n(r),i)};se.naturalExponential=se.exp=function(){return rR(this)};se.naturalLogarithm=se.ln=function(){return Ed(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tR(e,t):nR(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ta+t);if(e=Pt(i)+1,n=i.d.length-1,r=n*st+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};se.squareRoot=se.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(mn+"NaN")}for(t=Pt(l),ct=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=zn(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Si(l,a,o+2)).times(.5),zn(a.d).slice(0,o)===(e=zn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ge(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ct=!0,Ge(n,r)};se.times=se.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(a=f,f=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+p[n]*f[i-n-1]+e,a[i--]=l%Ht|0,e=l/Ht|0;a[i]=(a[i]+e)%Ht|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ct?Ge(t,h.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ni(t,0,xc),e===void 0?e=n.rounding:ni(e,0,8),Ge(r,t+Pt(r)+1,e))};se.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Wa(n,!0):(ni(t,0,xc),e===void 0?e=i.rounding:ni(e,0,8),n=Ge(new i(n),t+1,e),r=Wa(n,!0,t+1)),r};se.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Wa(i):(ni(t,0,xc),e===void 0?e=a.rounding:ni(e,0,8),n=Ge(new a(i),t+Pt(i)+1,e),r=Wa(n.abs(),!1,t+Pt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Pt(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ur);if(l=new c(l),!l.s){if(t.s<1)throw Error(mn+"Infinity");return l}if(l.eq(Ur))return l;if(n=c.precision,t.eq(Ur))return Ge(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=eR){for(i=new c(Ur),e=Math.ceil(n/st+4),ct=!1;r%2&&(i=i.times(l),Jk(i.d,e)),r=yc(r/2),r!==0;)l=l.times(l),Jk(l.d,e);return ct=!0,t.s<0?new c(Ur).div(i):Ge(i,n)}}else if(a<0)throw Error(mn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ct=!1,i=t.times(Ed(l,n+u)),ct=!0,i=rR(i),i.s=a,i};se.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Pt(i),n=Wa(i,r<=a.toExpNeg||r>=a.toExpPos)):(ni(t,1,xc),e===void 0?e=a.rounding:ni(e,0,8),i=Ge(new a(i),t,e),r=Pt(i),n=Wa(i,t<=r||r<=a.toExpNeg,t)),n};se.toSignificantDigits=se.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ni(t,1,xc),e===void 0?e=n.rounding:ni(e,0,8)),Ge(new n(r),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),r=t.constructor;return Wa(t,e<=r.toExpNeg||e>=r.toExpPos)};function tR(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ct?Ge(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/st),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ht|0,c[a]%=Ht;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ct?Ge(e,h):e}function ni(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ta+t)}function zn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=st-n.length,r&&(a+=as(r)),a+=n;o=t[e],n=o+"",r=st-n.length,r&&(a+=as(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Si=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ht|0,o=a/Ht|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ht+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,h,f,p,v,b,x,g,y,w,A,j,k,S,N,T=n.constructor,O=n.s==i.s?1:-1,I=n.d,M=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(mn+"Division by zero");for(c=n.e-i.e,S=M.length,j=I.length,p=new T(O),v=p.d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--c,a==null?y=a=T.precision:o?y=a+(Pt(n)-Pt(i))+1:y=a,y<0)return new T(0);if(y=y/st+2|0,u=0,S==1)for(d=0,M=M[0],y++;(u<j||d)&&y--;u++)w=d*Ht+(I[u]||0),v[u]=w/M|0,d=w%M|0;else{for(d=Ht/(M[0]+1)|0,d>1&&(M=t(M,d),I=t(I,d),S=M.length,j=I.length),A=S,b=I.slice(0,S),x=b.length;x<S;)b[x++]=0;N=M.slice(),N.unshift(0),k=M[0],M[1]>=Ht/2&&++k;do d=0,l=e(M,b,S,x),l<0?(g=b[0],S!=x&&(g=g*Ht+(b[1]||0)),d=g/k|0,d>1?(d>=Ht&&(d=Ht-1),h=t(M,d),f=h.length,x=b.length,l=e(h,b,f,x),l==1&&(d--,r(h,S<f?N:M,f))):(d==0&&(l=d=1),h=M.slice()),f=h.length,f<x&&h.unshift(0),r(b,h,x),l==-1&&(x=b.length,l=e(M,b,S,x),l<1&&(d++,r(b,S<x?N:M,x))),x=b.length):l===0&&(d++,b=[0]),v[u++]=d,l&&b[0]?b[x++]=I[A]||0:(b=[I[A]],x=1);while((A++<j||b[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,Ge(p,o?a+Pt(p)+1:a)}}();function rR(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(Pt(t)>16)throw Error(F1+Pt(t));if(!t.s)return new d(Ur);for(ct=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(fa(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Ur),d.precision=l;;){if(i=Ge(i.times(t),l),r=r.times(++c),o=a.plus(Si(i,r,l)),zn(o.d).slice(0,l)===zn(a.d).slice(0,l)){for(;u--;)a=Ge(a.times(a),l);return d.precision=h,e==null?(ct=!0,Ge(a,h)):a}a=o}}function Pt(t){for(var e=t.e*st,r=t.d[0];r>=10;r/=10)e++;return e}function Uy(t,e,r){if(e>t.LN10.sd())throw ct=!0,r&&(t.precision=r),Error(mn+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function as(t){for(var e="";t--;)e+="0";return e}function Ed(t,e){var r,n,i,a,o,l,c,u,d,h=1,f=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(mn+(p.s?"NaN":"-Infinity"));if(p.eq(Ur))return new b(0);if(e==null?(ct=!1,u=x):u=e,p.eq(10))return e==null&&(ct=!0),Uy(b,u);if(u+=f,b.precision=u,r=zn(v),n=r.charAt(0),a=Pt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=zn(p.d),n=r.charAt(0),h++;a=Pt(p),n>1?(p=new b("0."+r),a++):p=new b(n+"."+r.slice(1))}else return c=Uy(b,u+2,x).times(a+""),p=Ed(new b(n+"."+r.slice(1)),u-f).plus(c),b.precision=x,e==null?(ct=!0,Ge(p,x)):p;for(l=o=p=Si(p.minus(Ur),p.plus(Ur),u),d=Ge(p.times(p),u),i=3;;){if(o=Ge(o.times(d),u),c=l.plus(Si(o,new b(i),u)),zn(c.d).slice(0,u)===zn(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Uy(b,u+2,x).times(a+""))),l=Si(l,new b(h),u),b.precision=x,e==null?(ct=!0,Ge(l,x)):l;l=c,i+=2}}function Qk(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=yc(r/st),t.d=[],n=(r+1)%st,r<0&&(n+=st),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=st;n<i;)t.d.push(+e.slice(n,n+=st));e=e.slice(n),n=st-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ct&&(t.e>dp||t.e<-dp))throw Error(F1+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,r){var n,i,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=st,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/st),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=st,i=n-st+o}if(r!==void 0&&(a=fa(10,o-i-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/fa(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=Pt(t),h.length=1,e=e-a-1,h[0]=fa(10,(st-e%st)%st),t.e=yc(-e/st)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=fa(10,st-n),h[d]=i>0?(u/fa(10,o-i)%fa(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==Ht&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=Ht)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(ct&&(t.e>dp||t.e<-dp))throw Error(F1+Pt(t));return t}function nR(t,e){var r,n,i,a,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),ct?Ge(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/st),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Ht-1;--c[a],c[i]+=Ht}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ct?Ge(e,p):e):new f(0)}function Wa(t,e,r){var n,i=Pt(t),a=zn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+as(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+as(-i-1)+a,r&&(n=r-o)>0&&(a+=as(n))):i>=o?(a+=as(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+as(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=as(n))),t.s<0?"-"+a:a}function Jk(t,e){if(t.length>e)return t.length=e,!0}function iR(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ta+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Qk(o,a.toString())}else if(typeof a!="string")throw Error(Ta+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,jle.test(a))Qk(o,a);else throw Error(Ta+a)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iR,i.config=i.set=Nle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Nle(t){if(!t||typeof t!="object")throw Error(mn+"Object expected");var e,r,n,i=["precision",1,xc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(yc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ta+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ta+r+": "+n);return this}var B1=iR(wle);Ur=new B1(1);const He=B1;function _le(t){return Tle(t)||kle(t)||Ale(t)||Sle()}function Sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ale(t,e){if(t){if(typeof t=="string")return o0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o0(t,e)}}function kle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tle(t){if(Array.isArray(t))return o0(t)}function o0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ele=function(e){return e},sR={},aR=function(e){return e===sR},Zk=function(e){return function r(){return arguments.length===0||arguments.length===1&&aR(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ple=function t(e,r){return e===1?r:Zk(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==sR}).length;return o>=e?r.apply(void 0,i):t(e-o,Zk(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return aR(h)?c.shift():h});return r.apply(void 0,_le(d).concat(c))}))})},rx=function(e){return Ple(e.length,e)},l0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Ile=rx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Cle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Ele;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},c0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},oR=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Ole(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function Mle(t,e,r){for(var n=new He(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Dle=rx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Rle=rx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Lle=rx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const nx={rangeStep:Mle,getDigitCount:Ole,interpolateNumber:Dle,uninterpolateNumber:Rle,uninterpolateTruncation:Lle};function u0(t){return Fle(t)||Vle(t)||lR(t)||$le()}function $le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fle(t){if(Array.isArray(t))return d0(t)}function Pd(t,e){return zle(t)||Ule(t,e)||lR(t,e)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lR(t,e){if(t){if(typeof t=="string")return d0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d0(t,e)}}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ule(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function zle(t){if(Array.isArray(t))return t}function cR(t){var e=Pd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function uR(t,e,r){if(t.lte(0))return new He(0);var n=nx.getDigitCount(t.toNumber()),i=new He(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new He(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new He(Math.ceil(c))}function Wle(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new He(10).pow(nx.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var o=Math.floor((e-1)/2),l=Cle(Ile(function(c){return i.add(new He(c-o).mul(n)).toNumber()}),l0);return l(0,e)}function dR(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var a=uR(new He(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new He(0):(o=new He(t).add(e).div(2),o=o.sub(new He(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new He(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?dR(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new He(l).mul(a)),tickMax:o.add(new He(c).mul(a))})}function Hle(t){var e=Pd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=cR([r,n]),c=Pd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(u0(l0(0,i-1).map(function(){return 1/0}))):[].concat(u0(l0(0,i-1).map(function(){return-1/0})),[d]);return r>n?c0(h):h}if(u===d)return Wle(u,i,a);var f=dR(u,d,o,a),p=f.step,v=f.tickMin,b=f.tickMax,x=nx.rangeStep(v,b.add(new He(.1).mul(p)),p);return r>n?c0(x):x}function qle(t,e){var r=Pd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cR([n,i]),l=Pd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=uR(new He(u).sub(c).div(d-1),a,0),f=[].concat(u0(nx.rangeStep(new He(c),new He(u).sub(new He(.99).mul(h)),h)),[u]);return n>i?c0(f):f}var Gle=oR(Hle),Kle=oR(qle),Yle="Invariant failed";function Ha(t,e){throw new Error(Yle)}var Xle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function Qle(t,e){return tce(t)||ece(t,e)||Zle(t,e)||Jle()}function Jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return eT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(t,e)}}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ece(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function tce(t){if(Array.isArray(t))return t}function rce(t,e){if(t==null)return{};var r=nce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ice(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mR(n.key),n)}}function ace(t,e,r){return e&&sce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oce(t,e,r){return e=fp(e),lce(t,hR()?Reflect.construct(e,r||[],fp(t).constructor):e.apply(t,r))}function lce(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cce(t)}function cce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(t)}function uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h0(t,e)}function h0(t,e){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h0(t,e)}function fR(t,e,r){return e=mR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mR(t){var e=dce(t,"string");return _l(e)=="symbol"?e:e+""}function dce(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _h=function(t){function e(){return ice(this,e),oce(this,e,arguments)}return uce(e,t),ace(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=rce(n,Xle),p=le(f,!1);this.props.direction==="x"&&d.type!=="number"&&Ha();var v=c.map(function(b){var x=u(b,l),g=x.x,y=x.y,w=x.value,A=x.errorVal;if(!A)return null;var j=[],k,S;if(Array.isArray(A)){var N=Qle(A,2);k=N[0],S=N[1]}else k=S=A;if(a==="vertical"){var T=d.scale,O=y+i,I=O+o,M=O-o,P=T(w-k),F=T(w+S);j.push({x1:F,y1:I,x2:F,y2:M}),j.push({x1:P,y1:O,x2:F,y2:O}),j.push({x1:P,y1:I,x2:P,y2:M})}else if(a==="horizontal"){var B=h.scale,D=g+i,V=D-o,$=D+o,z=B(w-k),q=B(w+S);j.push({x1:V,y1:q,x2:$,y2:q}),j.push({x1:D,y1:z,x2:D,y2:q}),j.push({x1:V,y1:z,x2:$,y2:z})}return L.createElement(De,hp({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),j.map(function(Q){return L.createElement("line",hp({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return L.createElement(De,{className:"recharts-errorBars"},v)}}])}(L.Component);fR(_h,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fR(_h,"displayName","ErrorBar");function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){hce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hce(t,e,r){return e=fce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fce(t){var e=mce(t,"string");return Id(e)=="symbol"?e:e+""}function mce(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pR=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Fr(r,Os);if(!o)return null;var l=Os.defaultProps,c=l!==void 0?sa(sa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,v=p.sectors||p.data||[];return d.concat(v.map(function(b){return{type:o.props.iconType||f.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?sa(sa({},f),h.props):{},v=p.dataKey,b=p.name,x=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||x||"square",color:U1(h),value:b||v,payload:p}}),sa(sa(sa({},c),Os.getWithHeight(o,i)),{},{payload:u,item:o})};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function rT(t){return yce(t)||xce(t)||gce(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gce(t,e){if(t){if(typeof t=="string")return f0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f0(t,e)}}function xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yce(t){if(Array.isArray(t))return f0(t)}function f0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tl(t,e,r){return e=vce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vce(t){var e=bce(t,"string");return Cd(e)=="symbol"?e:e+""}function bce(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rt(t,e,r){return be(t)||be(e)?r:$t(e)?Hr(t,e,r):pe(e)?e(t):r}function Ou(t,e,r,n){var i=xle(t,function(l){return Rt(l,e)});if(r==="number"){var a=i.filter(function(l){return ee(l)||parseFloat(l)});return a.length?[tx(a),ex(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!be(l)}):i;return o.map(function(l){return $t(l)||l instanceof Date?l:""})}var wce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(wr(h-d)!==wr(f-h)){var v=[];if(wr(f-h)===wr(c[1]-c[0])){p=f;var b=h+c[1]-c[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{p=d;var x=f+c[1]-c[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var g=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(e>(y+h)/2&&e<=(w+h)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},U1=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jce=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var v=d[h[f]],b=v.items,x=v.cateAxisId,g=b.filter(function(S){return _i(S.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,w=y!==void 0?bt(bt({},y),g[0].props):g[0].props,A=w.barSize,j=w[x];o[j]||(o[j]=[]);var k=be(A)?r:A;o[j].push({item:g[0],stackList:g.slice(1),barSize:be(k)?void 0:jr(k,n,0)})}}return o},Nce=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=jr(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,v=o.reduce(function(A,j){return A+j.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(f=!0,p*=.9,v=c*p);var b=(i-v)/2>>0,x={offset:b-u,size:0};d=o.reduce(function(A,j){var k={item:j.item,position:{offset:x.offset+x.size+u,size:f?p:j.barSize}},S=[].concat(rT(A),[k]);return x=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){S.push({item:N,position:x})}),S},h)}else{var g=jr(n,i,0,!0);i-2*g-(c-1)*u<=0&&(u=0);var y=(i-2*g-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(A,j,k){var S=[].concat(rT(A),[{item:j.item,position:{offset:g+(y+u)*k+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){S.push({item:N,position:S[S.length-1].position})}),S},h)}return d},_ce=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=pR({children:a,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&ee(e[p]))return bt(bt({},e),{},tl({},p,e[p]+(h||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&ee(e[v]))return bt(bt({},e),{},tl({},v,e[v]+(f||0)))}return e},Sce=function(e,r,n){return be(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gR=function(e,r,n,i,a){var o=r.props.children,l=qr(o,_h).filter(function(u){return Sce(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Rt(d,n);if(be(h))return u;var f=Array.isArray(h)?[tx(h),ex(h)]:[h,h],p=c.reduce(function(v,b){var x=Rt(d,b,0),g=f[0]-Math.abs(Array.isArray(x)?x[0]:x),y=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(g,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ace=function(e,r,n,i,a){var o=r.map(function(l){return gR(e,l,n,a,i)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},xR=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&gR(e,c,u,i)||Ou(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yR=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vR=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},bi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?wr(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!xh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:a?a[h]:h,index:f,offset:u}})},zy=new WeakMap,bf=function(e,r){if(typeof r!="function")return e;zy.has(e)||zy.set(e,new WeakMap);var n=zy.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bR=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:_d(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:op(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cu(),realScaleType:"point"}:a==="category"?{scale:_d(),realScaleType:"band"}:{scale:op(),realScaleType:"linear"};if(Ba(i)){var c="scale".concat(Fg(i));return{scale:(Xk[c]||Cu)(),realScaleType:Xk[c]?c:"point"}}return pe(i)?{scale:i}:{scale:Cu(),realScaleType:"point"}},iT=1e-4,wR=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-iT,o=Math.max(i[0],i[1])+iT,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},kce=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Tce=function(e,r){if(!r||r.length!==2||!ee(r[0])||!ee(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ee(e[0])||e[0]<n)&&(a[0]=n),(!ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Ece=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=xh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Pce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=xh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Ice={sign:Ece,expand:XY,none:gl,silhouette:QY,wiggle:JY,positive:Pce},Cce=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=Ice[n],o=YY().keys(i).value(function(l,c){return+Rt(l,c,0)}).order($b).offset(a);return o(e)},Oce=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?bt(bt({},f.type.defaultProps),f.props):f.props,b=v.stackId,x=v.hide;if(x)return h;var g=v[n],y=h[g]||{hasStack:!1,stackGroups:{}};if($t(b)){var w=y.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[b]=w}else y.stackGroups[hc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return bt(bt({},h),{},tl({},g,y))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var g=p.stackGroups[x];return bt(bt({},b),{},tl({},x,{numericAxisId:n,cateAxisId:i,items:g.items,stackedData:Cce(e,g.items,a)}))},v)}return bt(bt({},h),{},tl({},f,p))},d)},jR=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Gle(u,a,l);return e.domain([tx(d),ex(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),f=Kle(h,a,l);return{niceTicks:f}}return null};function sT(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var l=Fm(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Rt(i,be(o)?e.dataKey:o);return be(c)?null:e.scale(c)}var aT=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Rt(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-a/2+i},Mce=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Dce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($t(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Rce=function(e){return e.reduce(function(r,n){return[tx(n.concat([r[0]]).filter(ee)),ex(n.concat([r[1]]).filter(ee))]},[1/0,-1/0])},NR=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=Rce(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m0=function(e,r,n){if(pe(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ee(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(oT.test(e[0])){var a=+oT.exec(e[0])[1];i[0]=r[0]-a}else pe(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ee(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(lT.test(e[1])){var o=+lT.exec(e[1])[1];i[1]=r[1]+o}else pe(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},mp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=g1(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},cT=function(e,r,n){return!e||!e.length||Nh(e,Hr(n,"type.defaultProps.domain"))?r:e},_R=function(e,r){var n=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return bt(bt({},le(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:U1(e),value:Rt(r,i),type:c,payload:r,chartType:u,hide:d})};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function uT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(r),!0).forEach(function(n){SR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SR(t,e,r){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lce(t){var e=$ce(t,"string");return Od(e)=="symbol"?e:e+""}function $ce(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vce(t,e){return zce(t)||Uce(t,e)||Bce(t,e)||Fce()}function Fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bce(t,e){if(t){if(typeof t=="string")return dT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(t,e)}}function dT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function zce(t){if(Array.isArray(t))return t}var pp=Math.PI/180,Wce=function(e){return e*180/Math.PI},Je=function(e,r,n,i){return{x:e+Math.cos(-pp*i)*n,y:r+Math.sin(-pp*i)*n}},AR=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Hce=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=jr(e.cx,o,o/2),h=jr(e.cy,l,l/2),f=AR(o,l,n),p=jr(e.innerRadius,f,0),v=jr(e.outerRadius,f,f*.8),b=Object.keys(r);return b.reduce(function(x,g){var y=r[g],w=y.domain,A=y.reversed,j;if(be(y.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,v]),A&&(j=[j[1],j[0]]);else{j=y.range;var k=j,S=Vce(k,2);c=S[0],u=S[1]}var N=bR(y,a),T=N.realScaleType,O=N.scale;O.domain(w).range(j),wR(O);var I=jR(O,hi(hi({},y),{},{realScaleType:T})),M=hi(hi(hi({},y),I),{},{range:j,radius:v,realScaleType:T,scale:O,cx:d,cy:h,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return hi(hi({},x),{},SR({},g,M))},{})},qce=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Gce=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=qce({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Wce(u),angleInRadian:u}},Kce=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Yce=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},hT=function(e,r){var n=e.x,i=e.y,a=Gce({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Kce(r),h=d.startAngle,f=d.endAngle,p=l,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?hi(hi({},r),{},{radius:o,angle:Yce(p,r)}):null},kR=function(e){return!C.isValidElement(e)&&!pe(e)&&typeof e!="boolean"?e.className:""};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}var Xce=["offset"];function Qce(t){return tue(t)||eue(t)||Zce(t)||Jce()}function Jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zce(t,e){if(t){if(typeof t=="string")return p0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p0(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return p0(t)}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rue(t,e){if(t==null)return{};var r=nue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(r),!0).forEach(function(n){iue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iue(t,e,r){return e=sue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sue(t){var e=aue(t,"string");return Md(e)=="symbol"?e:e+""}function aue(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dd.apply(this,arguments)}var oue=function(e){var r=e.value,n=e.formatter,i=be(e.children)?r:e.children;return pe(n)?n(i):i},lue=function(e,r){var n=wr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},cue=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,v=c.endAngle,b=c.clockWise,x=(h+f)/2,g=lue(p,v),y=g>=0?1:-1,w,A;i==="insideStart"?(w=p+y*o,A=b):i==="insideEnd"?(w=v-y*o,A=!b):i==="end"&&(w=v+y*o,A=b),A=g<=0?A:!A;var j=Je(u,d,x,w),k=Je(u,d,x,w+(A?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),N=be(e.id)?hc("recharts-radial-line-"):e.id;return L.createElement("text",Dd({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:N,d:S})),L.createElement("textPath",{xlinkHref:"#".concat(N)},r))},uue=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(i==="outside"){var p=Je(o,l,u+n,f),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,g=Je(o,l,x,f),y=g.x,w=g.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},due=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",v=h>0?"start":"end",b=u>=0?1:-1,x=b*i,g=b>0?"end":"start",y=b>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var A={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},A),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Ot(Ot({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var k={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Ot(Ot({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?Ot({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?Ot({x:l+u-x,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideTop"?Ot({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Ot({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Ot({x:l+x,y:c+f,textAnchor:y,verticalAnchor:v},S):a==="insideTopRight"?Ot({x:l+u-x,y:c+f,textAnchor:g,verticalAnchor:v},S):a==="insideBottomLeft"?Ot({x:l+x,y:c+d-f,textAnchor:y,verticalAnchor:p},S):a==="insideBottomRight"?Ot({x:l+u-x,y:c+d-f,textAnchor:g,verticalAnchor:p},S):lc(a)&&(ee(a.x)||ba(a.x))&&(ee(a.y)||ba(a.y))?Ot({x:l+jr(a.x,u),y:c+jr(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):Ot({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},hue=function(e){return"cx"in e&&ee(e.cx)};function Gt(t){var e=t.offset,r=e===void 0?5:e,n=rue(t,Xce),i=Ot({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!a||be(l)&&be(c)&&!C.isValidElement(u)&&!pe(u))return null;if(C.isValidElement(u))return C.cloneElement(u,i);var p;if(pe(u)){if(p=C.createElement(u,i),C.isValidElement(p))return p}else p=oue(i);var v=hue(a),b=le(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return cue(i,p,b);var x=v?uue(i):due(i);return L.createElement(za,Dd({className:Ne("recharts-label",h)},b,x,{breakAll:f}),p)}Gt.displayName="Label";var TR=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,v=e.left,b=e.width,x=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(ee(b)&&ee(x)){if(ee(h)&&ee(f))return{x:h,y:f,width:b,height:x};if(ee(p)&&ee(v))return{x:p,y:v,width:b,height:x}}return ee(h)&&ee(f)?{x:h,y:f,width:0,height:0}:ee(r)&&ee(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},fue=function(e,r){return e?e===!0?L.createElement(Gt,{key:"label-implicit",viewBox:r}):$t(e)?L.createElement(Gt,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===Gt?C.cloneElement(e,{key:"label-implicit",viewBox:r}):L.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):pe(e)?L.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):lc(e)?L.createElement(Gt,Dd({viewBox:r},e,{key:"label-implicit"})):null:null},mue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=TR(e),o=qr(i,Gt).map(function(c,u){return C.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=fue(e.label,r||a);return[l].concat(Qce(o))};Gt.parseViewBox=TR;Gt.renderCallByParent=mue;function pue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var gue=pue;const xue=Ue(gue);function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var yue=["valueAccessor"],vue=["data","dataKey","clockWise","id","textBreakAll"];function bue(t){return _ue(t)||Nue(t)||jue(t)||wue()}function wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(t,e){if(t){if(typeof t=="string")return g0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g0(t,e)}}function Nue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ue(t){if(Array.isArray(t))return g0(t)}function g0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gp(){return gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gp.apply(this,arguments)}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(n){Sue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sue(t,e,r){return e=Aue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aue(t){var e=kue(t,"string");return Rd(e)=="symbol"?e:e+""}function kue(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gT(t,e){if(t==null)return{};var r=Tue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Eue=function(e){return Array.isArray(e.value)?xue(e.value):e.value};function Ai(t){var e=t.valueAccessor,r=e===void 0?Eue:e,n=gT(t,yue),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=gT(n,vue);return!i||!i.length?null:L.createElement(De,{className:"recharts-label-list"},i.map(function(d,h){var f=be(a)?r(d,h):Rt(d&&d.payload,a),p=be(l)?{}:{id:"".concat(l,"-").concat(h)};return L.createElement(Gt,gp({},le(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Gt.parseViewBox(be(o)?d:pT(pT({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ai.displayName="LabelList";function Pue(t,e){return t?t===!0?L.createElement(Ai,{key:"labelList-implicit",data:e}):L.isValidElement(t)||pe(t)?L.createElement(Ai,{key:"labelList-implicit",data:e,content:t}):lc(t)?L.createElement(Ai,gp({data:e},t,{key:"labelList-implicit"})):null:null}function Iue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=qr(n,Ai).map(function(o,l){return C.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Pue(t.label,e);return[a].concat(bue(i))}Ai.renderCallByParent=Iue;function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x0.apply(this,arguments)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){Cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cue(t,e,r){return e=Oue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oue(t){var e=Mue(t,"string");return Ld(e)=="symbol"?e:e+""}function Mue(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Due=function(e,r){var n=wr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},wf=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/pp,f=u?a:a+o*h,p=Je(r,n,d,f),v=Je(r,n,i,f),b=u?a-o*h:a,x=Je(r,n,d*Math.cos(h*pp),b);return{center:p,circleTangency:v,lineTangency:x,theta:h}},ER=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Due(o,l),u=o+c,d=Je(r,n,a,o),h=Je(r,n,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Je(r,n,i,o),v=Je(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Rue=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=wr(d-u),f=wf({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,v=f.lineTangency,b=f.theta,x=wf({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),g=x.circleTangency,y=x.lineTangency,w=x.theta,A=c?Math.abs(u-d):Math.abs(u-d)-b-w;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ER({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var k=wf({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=k.circleTangency,N=k.lineTangency,T=k.theta,O=wf({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,M=O.lineTangency,P=O.theta,F=c?Math.abs(u-d):Math.abs(u-d)-T-P;if(F<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Lue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PR=function(e){var r=yT(yT({},Lue),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<a||d===h)return null;var p=Ne("recharts-sector",f),v=o-a,b=jr(l,v,0,!0),x;return b>0&&Math.abs(d-h)<360?x=Rue({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):x=ER({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),L.createElement("path",x0({},le(r,!0),{className:p,d:x,role:"img"}))};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y0.apply(this,arguments)}function vT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(r),!0).forEach(function(n){$ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ue(t,e,r){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vue(t){var e=Fue(t,"string");return $d(e)=="symbol"?e:e+""}function Fue(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wT={curveBasisClosed:$Y,curveBasisOpen:VY,curveBasis:LY,curveBumpX:NY,curveBumpY:_Y,curveLinearClosed:FY,curveLinear:Ug,curveMonotoneX:BY,curveMonotoneY:UY,curveNatural:zY,curveStep:WY,curveStepAfter:qY,curveStepBefore:HY},jf=function(e){return e.x===+e.x&&e.y===+e.y},Qc=function(e){return e.x},Jc=function(e){return e.y},Bue=function(e,r){if(pe(e))return e;var n="curve".concat(Fg(e));return(n==="curveMonotone"||n==="curveBump")&&r?wT["".concat(n).concat(r==="vertical"?"Y":"X")]:wT[n]||Ug},Uue=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Bue(n,l),h=u?a.filter(function(b){return jf(b)}):a,f;if(Array.isArray(o)){var p=u?o.filter(function(b){return jf(b)}):o,v=h.map(function(b,x){return bT(bT({},b),{},{base:p[x]})});return l==="vertical"?f=hf().y(Jc).x1(Qc).x0(function(b){return b.base.x}):f=hf().x(Qc).y1(Jc).y0(function(b){return b.base.y}),f.defined(jf).curve(d),f(v)}return l==="vertical"&&ee(o)?f=hf().y(Jc).x1(Qc).x0(o):ee(o)?f=hf().x(Qc).y1(Jc).y0(o):f=_M().x(Qc).y(Jc),f.defined(jf).curve(d),f(h)},xp=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Uue(e):i;return C.createElement("path",y0({},le(e,!1),Bm(e),{className:Ne("recharts-curve",r),d:o,ref:a}))},IR={exports:{}},zue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Wue=zue,Hue=Wue;function CR(){}function OR(){}OR.resetWarningCache=CR;var que=function(){function t(n,i,a,o,l,c){if(c!==Hue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OR,resetWarningCache:CR};return r.PropTypes=r,r};IR.exports=que();var Gue=IR.exports;const $e=Ue(Gue),{getOwnPropertyNames:Kue,getOwnPropertySymbols:Yue}=Object,{hasOwnProperty:Xue}=Object.prototype;function Wy(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Nf(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function Que(t){return t!=null?t[Symbol.toStringTag]:void 0}function jT(t){return Kue(t).concat(Yue(t))}const Jue=Object.hasOwn||((t,e)=>Xue.call(t,e));function so(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Zue="__v",ede="__o",tde="_owner",{getOwnPropertyDescriptor:NT,keys:_T}=Object;function rde(t,e){return t.byteLength===e.byteLength&&yp(new Uint8Array(t),new Uint8Array(e))}function nde(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function ide(t,e){return t.byteLength===e.byteLength&&yp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function sde(t,e){return so(t.getTime(),e.getTime())}function ade(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function ode(t,e){return t===e}function ST(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(i[h]){h++;continue}const f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}const lde=so;function cde(t,e,r){const n=_T(t);let i=n.length;if(_T(e).length!==i)return!1;for(;i-- >0;)if(!MR(t,e,r,n[i]))return!1;return!0}function Zc(t,e,r){const n=jT(t);let i=n.length;if(jT(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!MR(t,e,r,a)||(o=NT(t,a),l=NT(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ude(t,e){return so(t.valueOf(),e.valueOf())}function dde(t,e){return t.source===e.source&&t.flags===e.flags}function AT(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function yp(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function hde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function MR(t,e,r,n){return(n===tde||n===ede||n===Zue)&&(t.$$typeof||e.$$typeof)?!0:Jue(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const fde="[object ArrayBuffer]",mde="[object Arguments]",pde="[object Boolean]",gde="[object DataView]",xde="[object Date]",yde="[object Error]",vde="[object Map]",bde="[object Number]",wde="[object Object]",jde="[object RegExp]",Nde="[object Set]",_de="[object String]",Sde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Ade="[object URL]",kde=Object.prototype.toString;function Tde({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:v}){return function(x,g,y){if(x===g)return!0;if(x==null||g==null)return!1;const w=typeof x;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?l(x,g,y):w==="function"?a(x,g,y):!1;const A=x.constructor;if(A!==g.constructor)return!1;if(A===Object)return c(x,g,y);if(Array.isArray(x))return e(x,g,y);if(A===Date)return n(x,g,y);if(A===RegExp)return d(x,g,y);if(A===Map)return o(x,g,y);if(A===Set)return h(x,g,y);const j=kde.call(x);if(j===xde)return n(x,g,y);if(j===jde)return d(x,g,y);if(j===vde)return o(x,g,y);if(j===Nde)return h(x,g,y);if(j===wde)return typeof x.then!="function"&&typeof g.then!="function"&&c(x,g,y);if(j===Ade)return p(x,g,y);if(j===yde)return i(x,g,y);if(j===mde)return c(x,g,y);if(Sde[j])return f(x,g,y);if(j===fde)return t(x,g,y);if(j===gde)return r(x,g,y);if(j===pde||j===bde||j===_de)return u(x,g,y);if(v){let k=v[j];if(!k){const S=Que(x);S&&(k=v[S])}if(k)return k(x,g,y)}return!1}}function Ede({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:rde,areArraysEqual:r?Zc:nde,areDataViewsEqual:ide,areDatesEqual:sde,areErrorsEqual:ade,areFunctionsEqual:ode,areMapsEqual:r?Wy(ST,Zc):ST,areNumbersEqual:lde,areObjectsEqual:r?Zc:cde,arePrimitiveWrappersEqual:ude,areRegExpsEqual:dde,areSetsEqual:r?Wy(AT,Zc):AT,areTypedArraysEqual:r?Wy(yp,Zc):yp,areUrlsEqual:hde,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Nf(n.areArraysEqual),a=Nf(n.areMapsEqual),o=Nf(n.areObjectsEqual),l=Nf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function Pde(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function Ide({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Cde=Zs();Zs({strict:!0});Zs({circular:!0});Zs({circular:!0,strict:!0});Zs({createInternalComparator:()=>so});Zs({strict:!0,createInternalComparator:()=>so});Zs({circular:!0,createInternalComparator:()=>so});Zs({circular:!0,createInternalComparator:()=>so,strict:!0});function Zs(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Ede(t),o=Tde(a),l=r?r(o):Pde(o);return Ide({circular:e,comparator:o,createState:n,equals:l,strict:i})}function Ode(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function kT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Ode(i)};requestAnimationFrame(n)}function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function Mde(t){return $de(t)||Lde(t)||Rde(t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return TT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(t,e)}}function TT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $de(t){if(Array.isArray(t))return t}function Vde(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Mde(o),c=l[0],u=l.slice(1);if(typeof c=="number"){kT(i.bind(null,u),c);return}i(c),kT(i.bind(null,u));return}v0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function ET(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(r),!0).forEach(function(n){DR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DR(t,e,r){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fde(t){var e=Bde(t,"string");return Vd(e)==="symbol"?e:String(e)}function Bde(t,e){if(Vd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ude=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},zde=function(e){return e},Wde=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Mu=function(e,r){return Object.keys(r).reduce(function(n,i){return PT(PT({},n),{},DR({},i,e(i,r[i])))},{})},IT=function(e,r,n){return e.map(function(i){return"".concat(Wde(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Hde(t,e){return Kde(t)||Gde(t,e)||RR(t,e)||qde()}function qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Kde(t){if(Array.isArray(t))return t}function Yde(t){return Jde(t)||Qde(t)||RR(t)||Xde()}function Xde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RR(t,e){if(t){if(typeof t=="string")return b0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(t,e)}}function Qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jde(t){if(Array.isArray(t))return b0(t)}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vp=1e-4,LR=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$R=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},CT=function(e,r){return function(n){var i=LR(e,r);return $R(i,n)}},Zde=function(e,r){return function(n){var i=LR(e,r),a=[].concat(Yde(i.map(function(o,l){return o*l}).slice(1)),[0]);return $R(a,n)}},OT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Hde(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var h=CT(i,o),f=CT(a,l),p=Zde(i,o),v=function(g){return g>1?1:g<0?0:g},b=function(g){for(var y=g>1?1:g,w=y,A=0;A<8;++A){var j=h(w)-y,k=p(w);if(Math.abs(j-y)<vp||k<vp)return f(w);w=v(w-j/k)}return f(w)};return b.isStepper=!1,b},ehe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*n,v=f*a,b=f+(p-v)*l/1e3,x=f*l/1e3+d;return Math.abs(x-h)<vp&&Math.abs(b)<vp?[h,0]:[x,b]};return c.isStepper=!0,c.dt=l,c},the=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OT(i);case"spring":return ehe();default:if(i.split("(")[0]==="cubic-bezier")return OT(i)}return typeof i=="function"?i:null};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function MT(t){return ihe(t)||nhe(t)||VR(t)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ihe(t){if(Array.isArray(t))return j0(t)}function DT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(r),!0).forEach(function(n){w0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w0(t,e,r){return e=she(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function she(t){var e=ahe(t,"string");return Fd(e)==="symbol"?e:String(e)}function ahe(t,e){if(Fd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ohe(t,e){return uhe(t)||che(t,e)||VR(t,e)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VR(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function che(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uhe(t){if(Array.isArray(t))return t}var bp=function(e,r,n){return e+(r-e)*n},N0=function(e){var r=e.from,n=e.to;return r!==n},dhe=function t(e,r,n){var i=Mu(function(a,o){if(N0(o)){var l=e(o.from,o.to,o.velocity),c=ohe(l,2),u=c[0],d=c[1];return Zt(Zt({},o),{},{from:u,velocity:d})}return o},r);return n<1?Mu(function(a,o){return N0(o)?Zt(Zt({},o),{},{velocity:bp(o.velocity,i[a].velocity,n),from:bp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const hhe=function(t,e,r,n,i){var a=Ude(t,e),o=a.reduce(function(x,g){return Zt(Zt({},x),{},w0({},g,[t[g],e[g]]))},{}),l=a.reduce(function(x,g){return Zt(Zt({},x),{},w0({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Mu(function(g,y){return y.from},l)},p=function(){return!Object.values(l).filter(N0).length},v=function(g){u||(u=g);var y=g-u,w=y/r.dt;l=dhe(r,l,w),i(Zt(Zt(Zt({},t),e),f())),u=g,p()||(c=requestAnimationFrame(h))},b=function(g){d||(d=g);var y=(g-d)/n,w=Mu(function(j,k){return bp.apply(void 0,MT(k).concat([r(y)]))},o);if(i(Zt(Zt(Zt({},t),e),w)),y<1)c=requestAnimationFrame(h);else{var A=Mu(function(j,k){return bp.apply(void 0,MT(k).concat([r(1)]))},o);i(Zt(Zt(Zt({},t),e),A))}};return h=r.isStepper?v:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}var fhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function mhe(t,e){if(t==null)return{};var r=phe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function phe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hy(t){return vhe(t)||yhe(t)||xhe(t)||ghe()}function ghe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return _0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(t,e)}}function yhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vhe(t){if(Array.isArray(t))return _0(t)}function _0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(r),!0).forEach(function(n){mu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mu(t,e,r){return e=FR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function whe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FR(n.key),n)}}function jhe(t,e,r){return e&&whe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FR(t){var e=Nhe(t,"string");return Sl(e)==="symbol"?e:String(e)}function Nhe(t,e){if(Sl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _he(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S0(t,e)}function S0(t,e){return S0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S0(t,e)}function She(t){var e=Ahe();return function(){var n=wp(t),i;if(e){var a=wp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return A0(this,i)}}function A0(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k0(t)}function k0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ahe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wp(t)}var ii=function(t){_he(r,t);var e=She(r);function r(n,i){var a;bhe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(k0(a)),a.changeStyle=a.changeStyle.bind(k0(a)),!l||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),A0(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},A0(a);a.state={style:c?mu({},c,u):u}}else a.state={style:{}};return a}return jhe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var p={style:c?mu({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Cde(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?h:i.to;if(this.state&&f){var x={style:c?mu({},c,b):b};(c&&f[c]!==b||!c&&f!==b)&&this.setState(x)}this.runAnimation(wn(wn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=hhe(o,l,the(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(b,x,g){if(g===0)return b;var y=x.duration,w=x.easing,A=w===void 0?"ease":w,j=x.style,k=x.properties,S=x.onAnimationEnd,N=g>0?o[g-1]:x,T=k||Object.keys(j);if(typeof A=="function"||A==="spring")return[].concat(Hy(b),[a.runJSAnimation.bind(a,{from:N.style,to:j,duration:y,easing:A}),y]);var O=IT(T,y,A),I=wn(wn(wn({},N.style),j),{},{transition:O});return[].concat(Hy(b),[I,y,S]).filter(zde)};return this.manager.start([c].concat(Hy(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Vde());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var b=l?mu({},l,c):c,x=IT(Object.keys(b),o,u);v.start([d,a,wn(wn({},b),{},{transition:x}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=mhe(i,fhe),u=C.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(p){var v=p.props,b=v.style,x=b===void 0?{}:b,g=v.className,y=C.cloneElement(p,wn(wn({},c),{},{style:wn(wn({},x),d),className:g}));return y};return u===1?h(C.Children.only(a)):L.createElement("div",null,C.Children.map(a,function(f){return h(f)}))}}]),r}(C.PureComponent);ii.displayName="Animate";ii.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ii.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jp.apply(this,arguments)}function khe(t,e){return Ihe(t)||Phe(t,e)||Ehe(t,e)||The()}function The(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(t,e){if(t){if(typeof t=="string")return LT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(t,e)}}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Phe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ihe(t){if(Array.isArray(t))return t}function $T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(r),!0).forEach(function(n){Che(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Che(t,e,r){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ohe(t){var e=Mhe(t,"string");return Bd(e)=="symbol"?e:e+""}function Mhe(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Dhe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},Rhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z1=function(e){var r=VT(VT({},Rhe),e),n=C.useRef(),i=C.useState(-1),a=khe(i,2),o=a[0],l=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,g=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Ne("recharts-rectangle",p);return y?L.createElement(ii,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:b,animationEasing:v,isActive:y},function(A){var j=A.width,k=A.height,S=A.x,N=A.y;return L.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:g,easing:v},L.createElement("path",jp({},le(r,!0),{className:w,d:FT(S,N,j,k,f),ref:n})))}):L.createElement("path",jp({},le(r,!0),{className:w,d:FT(c,u,d,h,f)}))},Lhe=["points","className","baseLinePoints","connectNulls"];function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function $he(t,e){if(t==null)return{};var r=Vhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BT(t){return zhe(t)||Uhe(t)||Bhe(t)||Fhe()}function Fhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bhe(t,e){if(t){if(typeof t=="string")return T0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(t,e)}}function Uhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zhe(t){if(Array.isArray(t))return T0(t)}function T0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var UT=function(e){return e&&e.x===+e.x&&e.y===+e.y},Whe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){UT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),UT(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Du=function(e,r){var n=Whe(e);r&&(n=[n.reduce(function(a,o){return[].concat(BT(a),BT(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Hhe=function(e,r,n){var i=Du(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Du(r.reverse(),n).slice(1))},qhe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=$he(e,Lhe);if(!r||!r.length)return null;var l=Ne("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Hhe(r,i,a);return L.createElement("g",{className:l},L.createElement("path",$o({},le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",$o({},le(o,!0),{fill:"none",d:Du(r,a)})):null,c?L.createElement("path",$o({},le(o,!0),{fill:"none",d:Du(i,a)})):null)}var d=Du(r,a);return L.createElement("path",$o({},le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(this,arguments)}var ix=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ne("recharts-dot",a);return r===+r&&n===+n&&i===+i?C.createElement("circle",E0({},le(e,!1),Bm(e),{className:o,cx:r,cy:n,r:i})):null};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}var Ghe=["x","y","top","left","width","height","className"];function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(this,arguments)}function zT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Khe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(r),!0).forEach(function(n){Yhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yhe(t,e,r){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xhe(t){var e=Qhe(t,"string");return Ud(e)=="symbol"?e:e+""}function Qhe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jhe(t,e){if(t==null)return{};var r=Zhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var efe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},tfe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,v=e.className,b=Jhe(e,Ghe),x=Khe({x:n,y:a,top:l,left:u,width:h,height:p},b);return!ee(n)||!ee(a)||!ee(h)||!ee(p)||!ee(l)||!ee(u)?null:L.createElement("path",P0({},le(x,!0),{className:Ne("recharts-cross",v),d:efe(n,a,h,p,l,u)}))},rfe=Zg,nfe=JD,ife=oi;function sfe(t,e){return t&&t.length?rfe(t,ife(e),nfe):void 0}var afe=sfe;const ofe=Ue(afe);var lfe=Zg,cfe=oi,ufe=ZD;function dfe(t,e){return t&&t.length?lfe(t,cfe(e),ufe):void 0}var hfe=dfe;const ffe=Ue(hfe);var mfe=["cx","cy","angle","ticks","axisLine"],pfe=["ticks","tick","angle","tickFormatter","stroke"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ru.apply(this,arguments)}function WT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(r),!0).forEach(function(n){sx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HT(t,e){if(t==null)return{};var r=gfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UR(n.key),n)}}function yfe(t,e,r){return e&&qT(t.prototype,e),r&&qT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vfe(t,e,r){return e=Np(e),bfe(t,BR()?Reflect.construct(e,r||[],Np(t).constructor):e.apply(t,r))}function bfe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wfe(t)}function wfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BR=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function sx(t,e,r){return e=UR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UR(t){var e=Nfe(t,"string");return Al(e)=="symbol"?e:e+""}function Nfe(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ax=function(t){function e(){return xfe(this,e),vfe(this,e,arguments)}return jfe(e,t),yfe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Je(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=ofe(l,function(d){return d.coordinate||0}),u=ffe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=HT(n,mfe),d=l.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),h=Je(i,a,d[0],o),f=Je(i,a,d[1],o),p=aa(aa(aa({},le(u,!1)),{},{fill:"none"},le(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return L.createElement("line",Ru({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=HT(i,pfe),h=this.getTickTextAnchor(),f=le(d,!1),p=le(o,!1),v=a.map(function(b,x){var g=n.getTickValueCoord(b),y=aa(aa(aa(aa({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:x},g),{},{payload:b});return L.createElement(De,Ru({className:Ne("recharts-polar-radius-axis-tick",kR(o)),key:"tick-".concat(b.coordinate)},Ua(n.props,b,x)),e.renderTickItem(o,y,c?c(b.value,x):b.value))});return L.createElement(De,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(De,{className:Ne("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Gt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):pe(n)?o=n(i):o=L.createElement(za,Ru({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(C.PureComponent);sx(ax,"displayName","PolarRadiusAxis");sx(ax,"axisType","radiusAxis");sx(ax,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pa.apply(this,arguments)}function GT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(r),!0).forEach(function(n){ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WR(n.key),n)}}function Sfe(t,e,r){return e&&KT(t.prototype,e),r&&KT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Afe(t,e,r){return e=_p(e),kfe(t,zR()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function kfe(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function Efe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(t,e)}function ox(t,e,r){return e=WR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WR(t){var e=Pfe(t,"string");return kl(e)=="symbol"?e:e+""}function Pfe(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ife=Math.PI/180,YT=1e-5,lx=function(t){function e(){return _fe(this,e),Afe(this,e,arguments)}return Efe(e,t),Sfe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=Je(a,o,l,n.coordinate),f=Je(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Ife),o;return a>YT?o=i==="outer"?"start":"end":a<-YT?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=oa(oa({},le(this.props,!1)),{},{fill:"none"},le(l,!1));if(c==="circle")return L.createElement(ix,pa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return Je(i,a,o,f.coordinate)});return L.createElement(qhe,pa({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=le(this.props,!1),h=le(o,!1),f=oa(oa({},d),{},{fill:"none"},le(l,!1)),p=a.map(function(v,b){var x=n.getTickLineCoord(v),g=n.getTickTextAnchor(v),y=oa(oa(oa({textAnchor:g},d),{},{stroke:"none",fill:u},h),{},{index:b,payload:v,x:x.x2,y:x.y2});return L.createElement(De,pa({className:Ne("recharts-polar-angle-axis-tick",kR(o)),key:"tick-".concat(v.coordinate)},Ua(n.props,v,b)),l&&L.createElement("line",pa({className:"recharts-polar-angle-axis-tick-line"},f,x)),o&&e.renderTickItem(o,y,c?c(v.value,b):v.value))});return L.createElement(De,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(De,{className:Ne("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):pe(n)?o=n(i):o=L.createElement(za,pa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(C.PureComponent);ox(lx,"displayName","PolarAngleAxis");ox(lx,"axisType","angleAxis");ox(lx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Cfe=KM,Ofe=Cfe(Object.getPrototypeOf,Object),Mfe=Ofe,Dfe=Ui,Rfe=Mfe,Lfe=zi,$fe="[object Object]",Vfe=Function.prototype,Ffe=Object.prototype,HR=Vfe.toString,Bfe=Ffe.hasOwnProperty,Ufe=HR.call(Object);function zfe(t){if(!Lfe(t)||Dfe(t)!=$fe)return!1;var e=Rfe(t);if(e===null)return!0;var r=Bfe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&HR.call(r)==Ufe}var Wfe=zfe;const Hfe=Ue(Wfe);var qfe=Ui,Gfe=zi,Kfe="[object Boolean]";function Yfe(t){return t===!0||t===!1||Gfe(t)&&qfe(t)==Kfe}var Xfe=Yfe;const Qfe=Ue(Xfe);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sp.apply(this,arguments)}function Jfe(t,e){return rme(t)||tme(t,e)||eme(t,e)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eme(t,e){if(t){if(typeof t=="string")return XT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rme(t){if(Array.isArray(t))return t}function QT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(r),!0).forEach(function(n){nme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nme(t,e,r){return e=ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ime(t){var e=sme(t,"string");return zd(e)=="symbol"?e:e+""}function sme(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZT=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},ame={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ome=function(e){var r=JT(JT({},ame),e),n=C.useRef(),i=C.useState(-1),a=Jfe(i,2),o=a[0],l=a[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,b=r.animationDuration,x=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Ne("recharts-trapezoid",p);return g?L.createElement(ii,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:b,animationEasing:v,isActive:g},function(w){var A=w.upperWidth,j=w.lowerWidth,k=w.height,S=w.x,N=w.y;return L.createElement(ii,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},L.createElement("path",Sp({},le(r,!0),{className:y,d:ZT(S,N,A,j,k),ref:n})))}):L.createElement("g",null,L.createElement("path",Sp({},le(r,!0),{className:y,d:ZT(c,u,d,h,f)})))},lme=["option","shapeType","propTransformer","activeClassName","isActive"];function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function cme(t,e){if(t==null)return{};var r=ume(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ume(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ap(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){dme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dme(t,e,r){return e=hme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hme(t){var e=fme(t,"string");return Wd(e)=="symbol"?e:e+""}function fme(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mme(t,e){return Ap(Ap({},e),t)}function pme(t,e){return t==="symbols"}function tE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return L.createElement(z1,r);case"trapezoid":return L.createElement(ome,r);case"sector":return L.createElement(PR,r);case"symbols":if(pme(e))return L.createElement(l1,r);break;default:return null}}function gme(t){return C.isValidElement(t)?t.props:t}function qR(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?mme:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=cme(t,lme),u;if(C.isValidElement(e))u=C.cloneElement(e,Ap(Ap({},c),gme(e)));else if(pe(e))u=e(c);else if(Hfe(e)&&!Qfe(e)){var d=i(e,c);u=L.createElement(tE,{shapeType:r,elementProps:d})}else{var h=c;u=L.createElement(tE,{shapeType:r,elementProps:h})}return l?L.createElement(De,{className:o},u):u}function cx(t,e){return e!=null&&"trapezoids"in t.props}function ux(t,e){return e!=null&&"sectors"in t.props}function Hd(t,e){return e!=null&&"points"in t.props}function xme(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function yme(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function vme(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function bme(t,e){var r;return cx(t,e)?r=xme:ux(t,e)?r=yme:Hd(t,e)&&(r=vme),r}function wme(t,e){var r;return cx(t,e)?r="trapezoids":ux(t,e)?r="sectors":Hd(t,e)&&(r="points"),r}function jme(t,e){if(cx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ux(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Hd(t,e)?e.payload:{}}function Nme(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=wme(r,e),a=jme(r,e),o=n.filter(function(c,u){var d=Nh(a,c),h=r.props[i].filter(function(v){var b=bme(r,e);return b(v,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Yf;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vo.apply(this,arguments)}function rE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rE(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KR(n.key),n)}}function Sme(t,e,r){return e&&nE(t.prototype,e),r&&nE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,r){return e=kp(e),kme(t,GR()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function kme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tme(t)}function Tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GR=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(t)}function Eme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},O0(t,e)}function ln(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=Pme(t,"string");return Tl(e)=="symbol"?e:e+""}function Pme(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hi=function(t){function e(r){var n;return _me(this,e),n=Ame(this,e,[r]),ln(n,"pieRef",null),ln(n,"sectorRefs",[]),ln(n,"id",hc("recharts-pie-")),ln(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),pe(i)&&i()}),ln(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),pe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Eme(e,t),Sme(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=le(this.props,!1),h=le(o,!1),f=le(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(b,x){var g=(b.startAngle+b.endAngle)/2,y=Je(b.cx,b.cy,b.outerRadius+p,g),w=Ye(Ye(Ye(Ye({},d),b),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(y.x,b.cx)},y),A=Ye(Ye(Ye(Ye({},d),b),{},{fill:"none",stroke:b.fill},f),{},{index:x,points:[Je(b.cx,b.cy,b.outerRadius,g),y]}),j=c;return be(c)&&be(u)?j="value":be(c)&&(j=u),L.createElement(De,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,w,Rt(b,j)))});return L.createElement(De,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,p=h?o:f,v=Ye(Ye({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(De,Vo({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ua(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(qR,Vo({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return L.createElement(ii,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],g=a&&a[0],y=g.startAngle;return a.forEach(function(w,A){var j=f&&f[A],k=A>0?Hr(w,"paddingAngle",0):0;if(j){var S=Br(j.endAngle-j.startAngle,w.endAngle-w.startAngle),N=Ye(Ye({},w),{},{startAngle:y+k,endAngle:y+S(b)+k});x.push(N),y=N.endAngle}else{var T=w.endAngle,O=w.startAngle,I=Br(0,T-O),M=I(b),P=Ye(Ye({},w),{},{startAngle:y+k,endAngle:y+M+k});x.push(P),y=P.endAngle}}),L.createElement(De,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Nh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!ee(u)||!ee(d)||!ee(h)||!ee(f))return null;var b=Ne("recharts-pie",l);return L.createElement(De,{tabIndex:this.props.rootTabIndex,className:b,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Gt.renderCallByParent(this.props,null,!1),(!p||v)&&Ai.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(pe(n))return n(i);var o=Ne("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(xp,Vo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(pe(n)&&(o=n(i),L.isValidElement(o)))return o;var l=Ne("recharts-pie-label-text",typeof n!="boolean"&&!pe(n)?n.className:"");return L.createElement(za,Vo({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(C.PureComponent);Yf=Hi;ln(Hi,"displayName","Pie");ln(Hi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ln(Hi,"parseDeltaAngle",function(t,e){var r=wr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ln(Hi,"getRealPieData",function(t){var e=t.data,r=t.children,n=le(t,!1),i=qr(r,wd);return e&&e.length?e.map(function(a,o){return Ye(Ye(Ye({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ye(Ye({},n),a.props)}):[]});ln(Hi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=AR(i,a),l=n+jr(t.cx,i,i/2),c=r+jr(t.cy,a,a/2),u=jr(t.innerRadius,o,0),d=jr(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});ln(Hi,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ye(Ye({},e.type.defaultProps),e.props):e.props,i=Yf.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),v=Yf.parseCoordinateOfPie(n,r),b=Yf.parseDeltaAngle(o,l),x=Math.abs(b),g=u;be(u)&&be(h)?(Cn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):be(u)&&(Cn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=h);var y=i.filter(function(N){return Rt(N,g,0)!==0}).length,w=(x>=360?y:y-1)*c,A=x-y*p-w,j=i.reduce(function(N,T){var O=Rt(T,g,0);return N+(ee(O)?O:0)},0),k;if(j>0){var S;k=i.map(function(N,T){var O=Rt(N,g,0),I=Rt(N,d,T),M=(ee(O)?O:0)/j,P;T?P=S.endAngle+wr(b)*c*(O!==0?1:0):P=o;var F=P+wr(b)*((O!==0?p:0)+M*A),B=(P+F)/2,D=(v.innerRadius+v.outerRadius)/2,V=[{name:I,value:O,payload:N,dataKey:g,type:f}],$=Je(v.cx,v.cy,D,B);return S=Ye(Ye(Ye({percent:M,cornerRadius:a,name:I,tooltipPayload:V,midAngle:B,middleRadius:D,tooltipPosition:$},N),v),{},{value:Rt(N,g),startAngle:P,endAngle:F,payload:N,paddingAngle:wr(b)*c}),S})}return Ye(Ye({},v),{},{sectors:k,data:i})});var Ime=Math.ceil,Cme=Math.max;function Ome(t,e,r,n){for(var i=-1,a=Cme(Ime((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Mme=Ome,Dme=fD,iE=1/0,Rme=17976931348623157e292;function Lme(t){if(!t)return t===0?t:0;if(t=Dme(t),t===iE||t===-iE){var e=t<0?-1:1;return e*Rme}return t===t?t:0}var YR=Lme,$me=Mme,Vme=qg,qy=YR;function Fme(t){return function(e,r,n){return n&&typeof n!="number"&&Vme(e,r,n)&&(r=n=void 0),e=qy(e),r===void 0?(r=e,e=0):r=qy(r),n=n===void 0?e<r?1:-1:qy(n),$me(e,r,n,t)}}var Bme=Fme,Ume=Bme,zme=Ume(),Wme=zme;const Tp=Ue(Wme);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function sE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sE(Object(r),!0).forEach(function(n){XR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XR(t,e,r){return e=Hme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hme(t){var e=qme(t,"string");return qd(e)=="symbol"?e:e+""}function qme(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gme=["Webkit","Moz","O","ms"],Kme=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gme.reduce(function(a,o){return aE(aE({},a),{},XR({},o+n,r))},{});return i[e]=r,i};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ep.apply(this,arguments)}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){$r(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JR(n.key),n)}}function Xme(t,e,r){return e&&lE(t.prototype,e),r&&lE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qme(t,e,r){return e=Pp(e),Jme(t,QR()?Reflect.construct(e,r||[],Pp(t).constructor):e.apply(t,r))}function Jme(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(t)}function Zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QR=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(t)}function epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function $r(t,e,r){return e=JR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JR(t){var e=tpe(t,"string");return El(e)=="symbol"?e:e+""}function tpe(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rpe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Cu().domain(Tp(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},cE=function(e){return e.changedTouches&&!!e.changedTouches.length},Pl=function(t){function e(r){var n;return Yme(this,e),n=Qme(this,e,[r]),$r(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$r(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$r(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),$r(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$r(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$r(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$r(n,"handleSlideDragStart",function(i){var a=cE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return epe(e,t),Xme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,a),f=Math.max(i,a),p=e.getIndexInRange(o,h),v=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Rt(a[n],l,n);return pe(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,v=c.onChange,b=n.pageX-a;b>0?b=Math.min(b,u+d-h-l,u+d-h-o):b<0&&(b=Math.max(b,u-o,u-l));var x=this.getIndex({startX:o+b,endX:l+b});(x.startIndex!==f||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=cE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,v=d.onChange,b=d.gap,x=d.data,g={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),g[o]=u+y;var w=this.getIndex(g),A=w.startIndex,j=w.endIndex,k=function(){var N=x.length-1;return o==="startX"&&(l>c?A%b===0:j%b===0)||l<c&&j===N||o==="endX"&&(l>c?j%b===0:A%b===0)||l>c&&j===N};this.setState($r($r({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&k()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState($r({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=C.Children.only(u);return h?L.cloneElement(h,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,v=c.data,b=c.startIndex,x=c.endIndex,g=Math.max(n,this.props.x),y=Gy(Gy({},le(this.props,!1)),{},{x:g,y:u,width:d,height:h}),w=p||"Min value: ".concat((a=v[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return L.createElement(De,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,v={pointerEvents:"none",fill:u};return L.createElement(De,{className:"recharts-brush-texts"},L.createElement(za,Ep({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},v),this.getTextOfTick(i)),L.createElement(za,Ep({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,v=f.endX,b=f.isTextActive,x=f.isSlideMoving,g=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!ee(l)||!ee(c)||!ee(u)||!ee(d)||u<=0||d<=0)return null;var w=Ne("recharts-brush",a),A=L.Children.count(o)===1,j=Kme("userSelect","none");return L.createElement(De,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||g||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):pe(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Gy({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?rpe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(C.PureComponent);$r(Pl,"displayName","Brush");$r(Pl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var npe=p1;function ipe(t,e){var r;return npe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var spe=ipe,ape=FM,ope=oi,lpe=spe,cpe=Dr,upe=qg;function dpe(t,e,r){var n=cpe(t)?ape:lpe;return r&&upe(t,e,r)&&(e=void 0),n(t,ope(e))}var hpe=dpe;const fpe=Ue(hpe);var Zn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},uE=lD;function mpe(t,e,r){e=="__proto__"&&uE?uE(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ppe=mpe,gpe=ppe,xpe=aD,ype=oi;function vpe(t,e){var r={};return e=ype(e),xpe(t,function(n,i,a){gpe(r,i,e(n,i,a))}),r}var bpe=vpe;const wpe=Ue(bpe);function jpe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Npe=jpe,_pe=p1;function Spe(t,e){var r=!0;return _pe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Ape=Spe,kpe=Npe,Tpe=Ape,Epe=oi,Ppe=Dr,Ipe=qg;function Cpe(t,e,r){var n=Ppe(t)?kpe:Tpe;return r&&Ipe(t,e,r)&&(e=void 0),n(t,Epe(e))}var Ope=Cpe;const ZR=Ue(Ope);var Mpe=["x","y"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){Dpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dpe(t,e,r){return e=Rpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rpe(t){var e=Lpe(t,"string");return Gd(e)=="symbol"?e:e+""}function Lpe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $pe(t,e){if(t==null)return{};var r=Vpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fpe(t,e){var r=t.x,n=t.y,i=$pe(t,Mpe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return eu(eu(eu(eu(eu({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function hE(t){return L.createElement(qR,D0({shapeType:"rectangle",propTransformer:Fpe,activeClassName:"recharts-active-bar"},t))}var Bpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ee(n)||lK(n);return a?e(n,i):(a||Ha(),r)}},Upe=["value","background"],e3;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function zpe(t,e){if(t==null)return{};var r=Wpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}function fE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(r),!0).forEach(function(n){ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r3(n.key),n)}}function qpe(t,e,r){return e&&mE(t.prototype,e),r&&mE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t,e,r){return e=Cp(e),Kpe(t,t3()?Reflect.construct(e,r||[],Cp(t).constructor):e.apply(t,r))}function Kpe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ype(t)}function Ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t3=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R0(t,e)}function ys(t,e,r){return e=r3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r3(t){var e=Qpe(t,"string");return Il(e)=="symbol"?e:e+""}function Qpe(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ao=function(t){function e(){var r;Hpe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Gpe(this,e,[].concat(i)),ys(r,"state",{isAnimationFinished:!1}),ys(r,"id",hc("recharts-bar-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Xpe(e,t),qpe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=le(this.props,!1);return n&&n.map(function(h,f){var p=f===c,v=p?u:o,b=kt(kt(kt({},d),h),{},{isActive:p,option:v,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(De,Ip({className:"recharts-bar-rectangle"},Ua(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),L.createElement(hE,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return L.createElement(ii,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=a.map(function(x,g){var y=f&&f[g];if(y){var w=Br(y.x,x.x),A=Br(y.y,x.y),j=Br(y.width,x.width),k=Br(y.height,x.height);return kt(kt({},x),{},{x:w(v),y:A(v),width:j(v),height:k(v)})}if(o==="horizontal"){var S=Br(0,x.height),N=S(v);return kt(kt({},x),{},{y:x.y+x.height-N,height:N})}var T=Br(0,x.width),O=T(v);return kt(kt({},x),{},{width:O})});return L.createElement(De,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Nh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=le(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=zpe(u,Upe);if(!h)return null;var p=kt(kt(kt(kt(kt({},f),{},{fill:"#eee"},h),c),Ua(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(hE,Ip({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=qr(d,_h);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,g){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Rt(x,g)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(De,v,h.map(function(b){return L.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,v=n.background,b=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,g=Ne("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,A=y||w,j=be(b)?this.id:b;return L.createElement(De,{className:g},y||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(j)},L.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,L.createElement(De,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,j),(!p||x)&&Ai.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(C.PureComponent);e3=ao;ys(ao,"displayName","Bar");ys(ao,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ys(ao,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=kce(n,r);if(!p)return null;var v=e.layout,b=r.type.defaultProps,x=b!==void 0?kt(kt({},b),r.props):r.props,g=x.dataKey,y=x.children,w=x.minPointSize,A=v==="horizontal"?o:a,j=u?A.scale.domain():null,k=Mce({numericAxis:A}),S=qr(y,wd),N=h.map(function(T,O){var I,M,P,F,B,D;u?I=Tce(u[d+O],j):(I=Rt(T,g),Array.isArray(I)||(I=[k,I]));var V=Bpe(w,e3.defaultProps.minPointSize)(I[1],O);if(v==="horizontal"){var $,z=[o.scale(I[0]),o.scale(I[1])],q=z[0],Q=z[1];M=aT({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:O}),P=($=Q??q)!==null&&$!==void 0?$:void 0,F=p.size;var Z=q-Q;if(B=Number.isNaN(Z)?0:Z,D={x:M,y:o.y,width:F,height:o.height},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var oe=wr(B||V)*(Math.abs(V)-Math.abs(B));P-=oe,B+=oe}}else{var ke=[a.scale(I[0]),a.scale(I[1])],We=ke[0],Ze=ke[1];if(M=We,P=aT({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:T,index:O}),F=Ze-We,B=p.size,D={x:a.x,y:P,width:a.width,height:B},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var ar=wr(F||V)*(Math.abs(V)-Math.abs(F));F+=ar}}return kt(kt(kt({},T),{},{x:M,y:P,width:F,height:B,value:u?I:I[1],payload:T,background:D},S&&S[O]&&S[O].props),{},{tooltipPayload:[_R(r,T)],tooltipPosition:{x:M+F/2,y:P+B/2}})});return kt({data:N,layout:v},f)});function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n3(n.key),n)}}function Zpe(t,e,r){return e&&pE(t.prototype,e),r&&pE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(r),!0).forEach(function(n){dx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dx(t,e,r){return e=n3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3(t){var e=ege(t,"string");return Kd(e)=="symbol"?e:e+""}function ege(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i3=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Fr(u,ao);return d.reduce(function(p,v){var b=r[v],x=b.orientation,g=b.domain,y=b.padding,w=y===void 0?{}:y,A=b.mirror,j=b.reversed,k="".concat(x).concat(A?"Mirror":""),S,N,T,O,I;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=g[1]-g[0],P=1/0,F=b.categoricalDomain.sort(dK);if(F.forEach(function(ke,We){We>0&&(P=Math.min((ke||0)-(F[We-1]||0),P))}),Number.isFinite(P)){var B=P/M,D=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(S=B*D/2),b.padding==="no-gap"){var V=jr(e.barCategoryGap,B*D),$=B*D/2;S=$-V-($-V)/D*V}}}i==="xAxis"?N=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:i==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:N=b.range,j&&(N=[N[1],N[0]]);var z=bR(b,a,f),q=z.scale,Q=z.realScaleType;q.domain(g).range(N),wR(q);var Z=jR(q,_n(_n({},b),{},{realScaleType:Q}));i==="xAxis"?(I=x==="top"&&!A||x==="bottom"&&A,T=n.left,O=h[k]-I*b.height):i==="yAxis"&&(I=x==="left"&&!A||x==="right"&&A,T=h[k]-I*b.width,O=n.top);var oe=_n(_n(_n({},b),Z),{},{realScaleType:Q,x:T,y:O,scale:q,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return oe.bandSize=mp(oe,Z),!b.hide&&i==="xAxis"?h[k]+=(I?-1:1)*oe.height:b.hide||(h[k]+=(I?-1:1)*oe.width),_n(_n({},p),{},dx({},v,oe))},{})},s3=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},tge=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return s3({x:r,y:n},{x:i,y:a})},a3=function(){function t(e){Jpe(this,t),this.scale=e}return Zpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();dx(a3,"EPS",1e-4);var W1=function(e){var r=Object.keys(e).reduce(function(n,i){return _n(_n({},n),{},dx({},i,a3.create(e[i])))},{});return _n(_n({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return wpe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return ZR(i,function(a,o){return r[o].isInRange(a)})}})};function rge(t){return(t%180+180)%180}var nge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=rge(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ige=oi,sge=yh,age=Wg;function oge(t){return function(e,r,n){var i=Object(e);if(!sge(e)){var a=ige(r);e=age(e),r=function(l){return a(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var lge=oge,cge=YR;function uge(t){var e=cge(t),r=e%1;return e===e?r?e-r:e:0}var dge=uge,hge=eD,fge=oi,mge=dge,pge=Math.max;function gge(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:mge(r);return i<0&&(i=pge(n+i,0)),hge(t,fge(e),i)}var xge=gge,yge=lge,vge=xge,bge=yge(vge),wge=bge;const jge=Ue(wge);var Nge=mG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),H1=C.createContext(void 0),q1=C.createContext(void 0),o3=C.createContext(void 0),l3=C.createContext({}),c3=C.createContext(void 0),u3=C.createContext(0),d3=C.createContext(0),xE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Nge(a);return L.createElement(H1.Provider,{value:n},L.createElement(q1.Provider,{value:i},L.createElement(l3.Provider,{value:a},L.createElement(o3.Provider,{value:d},L.createElement(c3.Provider,{value:o},L.createElement(u3.Provider,{value:u},L.createElement(d3.Provider,{value:c},l)))))))},_ge=function(){return C.useContext(c3)},h3=function(e){var r=C.useContext(H1);r==null&&Ha();var n=r[e];return n==null&&Ha(),n},Sge=function(){var e=C.useContext(H1);return fs(e)},Age=function(){var e=C.useContext(q1),r=jge(e,function(n){return ZR(n.domain,Number.isFinite)});return r||fs(e)},f3=function(e){var r=C.useContext(q1);r==null&&Ha();var n=r[e];return n==null&&Ha(),n},kge=function(){var e=C.useContext(o3);return e},Tge=function(){return C.useContext(l3)},G1=function(){return C.useContext(d3)},K1=function(){return C.useContext(u3)};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Ege(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p3(n.key),n)}}function Ige(t,e,r){return e&&Pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cge(t,e,r){return e=Op(e),Oge(t,m3()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Oge(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mge(t)}function Mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L0(t,e)}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y1(t,e,r){return e=p3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p3(t){var e=Rge(t,"string");return Cl(e)=="symbol"?e:e+""}function Rge(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lge(t,e){return Bge(t)||Fge(t,e)||Vge(t,e)||$ge()}function $ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vge(t,e){if(t){if(typeof t=="string")return bE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(t,e)}}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Bge(t){if(Array.isArray(t))return t}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}var Uge=function(e,r){var n;return L.isValidElement(e)?n=L.cloneElement(e,r):pe(e)?n=e(r):n=L.createElement("line",$0({},r,{className:"recharts-reference-line-line"})),n},zge=function(e,r,n,i,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,p=a.height;if(n){var v=u.y,b=e.y.apply(v,{position:o});if(Zn(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:d+f,y:b},{x:d,y:b}];return c==="left"?x.reverse():x}if(r){var g=u.x,y=e.x.apply(g,{position:o});if(Zn(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return l==="top"?w.reverse():w}if(i){var A=u.segment,j=A.map(function(k){return e.apply(k,{position:o})});return Zn(u,"discard")&&fpe(j,function(k){return!e.isInRange(k)})?null:j}return null};function Wge(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=_ge(),d=h3(i),h=f3(a),f=kge();if(!u||!f)return null;Cn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=W1({x:d.scale,y:h.scale}),v=$t(e),b=$t(r),x=n&&n.length===2,g=zge(p,v,b,x,f,t.position,d.orientation,h.orientation,t);if(!g)return null;var y=Lge(g,2),w=y[0],A=w.x,j=w.y,k=y[1],S=k.x,N=k.y,T=Zn(t,"hidden")?"url(#".concat(u,")"):void 0,O=vE(vE({clipPath:T},le(t,!0)),{},{x1:A,y1:j,x2:S,y2:N});return L.createElement(De,{className:Ne("recharts-reference-line",l)},Uge(o,O),Gt.renderCallByParent(t,tge({x1:A,y1:j,x2:S,y2:N})))}var X1=function(t){function e(){return Ege(this,e),Cge(this,e,arguments)}return Dge(e,t),Ige(e,[{key:"render",value:function(){return L.createElement(Wge,this.props)}}])}(L.Component);Y1(X1,"displayName","ReferenceLine");Y1(X1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function wE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(r),!0).forEach(function(n){hx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x3(n.key),n)}}function Gge(t,e,r){return e&&qge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kge(t,e,r){return e=Mp(e),Yge(t,g3()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function Yge(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xge(t)}function Xge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function Qge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function hx(t,e,r){return e=x3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x3(t){var e=Jge(t,"string");return Ol(e)=="symbol"?e:e+""}function Jge(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zge=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=W1({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Zn(e,"discard")&&!o.isInRange(l)?null:l},fx=function(t){function e(){return Hge(this,e),Kge(this,e,arguments)}return Qge(e,t),Gge(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=$t(i),d=$t(a);if(Cn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=Zge(this.props);if(!h)return null;var f=h.x,p=h.y,v=this.props,b=v.shape,x=v.className,g=Zn(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=jE(jE({clipPath:g},le(this.props,!0)),{},{cx:f,cy:p});return L.createElement(De,{className:Ne("recharts-reference-dot",x)},e.renderDot(b,y),Gt.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}(L.Component);hx(fx,"displayName","ReferenceDot");hx(fx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hx(fx,"renderDot",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):pe(t)?r=t(e):r=L.createElement(ix,V0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){mx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function exe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function txe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v3(n.key),n)}}function rxe(t,e,r){return e&&txe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nxe(t,e,r){return e=Dp(e),ixe(t,y3()?Reflect.construct(e,r||[],Dp(t).constructor):e.apply(t,r))}function ixe(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sxe(t)}function sxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y3=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(t)}function axe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U0(t,e)}function mx(t,e,r){return e=v3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v3(t){var e=oxe(t,"string");return Ml(e)=="symbol"?e:e+""}function oxe(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lxe=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=W1({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Zn(a,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:s3(p,v)},px=function(t){function e(){return exe(this,e),nxe(this,e,arguments)}return axe(e,t),rxe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Cn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=$t(i),f=$t(a),p=$t(o),v=$t(l),b=this.props.shape;if(!h&&!f&&!p&&!v&&!b)return null;var x=lxe(h,f,p,v,this.props);if(!x&&!b)return null;var g=Zn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(De,{className:Ne("recharts-reference-area",c)},e.renderRect(b,_E(_E({clipPath:g},le(this.props,!0)),x)),Gt.renderCallByParent(this.props,x))}}])}(L.Component);mx(px,"displayName","ReferenceArea");mx(px,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mx(px,"renderRect",function(t,e){var r;return L.isValidElement(t)?r=L.cloneElement(t,e):pe(t)?r=t(e):r=L.createElement(z1,B0({},e,{className:"recharts-reference-area-rect"})),r});function b3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function cxe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return nge(n,r)}function uxe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Rp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function dxe(t,e){return b3(t,e+1)}function hxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:b3(n,u)};var b=c,x,g=function(){return x===void 0&&(x=r(v,b)),x},y=v.coordinate,w=c===0||Rp(t,y,g,d,l);w||(c=0,d=o,u+=1),w&&(d=y+t*(g()/2+i),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function SE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(r),!0).forEach(function(n){fxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fxe(t,e,r){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mxe(t){var e=pxe(t,"string");return Yd(e)=="symbol"?e:e+""}function pxe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var p=a[f],v,b=function(){return v===void 0&&(v=r(p,f)),v};if(f===o-1){var x=t*(p.coordinate+t*b()/2-c);a[f]=p=ur(ur({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else a[f]=p=ur(ur({},p),{},{tickCoord:p.coordinate});var g=Rp(t,p.tickCoord,b,l,c);g&&(c=p.tickCoord-t*(b()/2+i),a[f]=ur(ur({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function xxe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=ur(ur({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=Rp(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=ur(ur({},d),{},{isShow:!0}))}for(var v=a?l-1:l,b=function(y){var w=o[y],A,j=function(){return A===void 0&&(A=r(w,y)),A};if(y===0){var k=t*(w.coordinate-t*j()/2-c);o[y]=w=ur(ur({},w),{},{tickCoord:k<0?w.coordinate-k*t:w.coordinate})}else o[y]=w=ur(ur({},w),{},{tickCoord:w.coordinate});var S=Rp(t,w.tickCoord,j,c,u);S&&(c=w.tickCoord+t*(j()/2+i),o[y]=ur(ur({},w),{},{isShow:!0}))},x=0;x<v;x++)b(x);return o}function Q1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(ee(c)||ro.isSsr)return dxe(i,typeof c=="number"&&ee(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Iu(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(w,A){var j=pe(u)?u(w.value,A):w.value;return p==="width"?cxe(Iu(j,{fontSize:e,letterSpacing:r}),v,h):Iu(j,{fontSize:e,letterSpacing:r})[p]},x=i.length>=2?wr(i[1].coordinate-i[0].coordinate):1,g=uxe(a,x,p);return c==="equidistantPreserveStart"?hxe(x,g,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=xxe(x,g,b,i,o,c==="preserveStartEnd"):f=gxe(x,g,b,i,o),f.filter(function(y){return y.isShow}))}var yxe=["viewBox"],vxe=["viewBox"],bxe=["ticks"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fo.apply(this,arguments)}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){J1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ky(t,e){if(t==null)return{};var r=wxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j3(n.key),n)}}function Nxe(t,e,r){return e&&kE(t.prototype,e),r&&kE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _xe(t,e,r){return e=Lp(e),Sxe(t,w3()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function Sxe(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Axe(t)}function Axe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function kxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function J1(t,e,r){return e=j3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3(t){var e=Txe(t,"string");return Dl(e)=="symbol"?e:e+""}function Txe(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vc=function(t){function e(r){var n;return jxe(this,e),n=_xe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return kxe(e,t),Nxe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Ky(n,yxe),l=this.props,c=l.viewBox,u=Ky(l,vxe);return!Zo(a,c)||!Zo(o,u)||!Zo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,v,b,x,g,y,w=h?-1:1,A=n.tickSize||d,j=ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,x=o+ +!h*c,b=x-w*A,y=b-w*f,g=j;break;case"left":b=x=n.coordinate,v=a+ +!h*l,p=v-w*A,g=p-w*f,y=j;break;case"right":b=x=n.coordinate,v=a+ +h*l,p=v+w*A,g=p+w*f,y=j;break;default:p=v=n.coordinate,x=o+ +h*c,b=x+w*A,y=b+w*f,g=j;break}return{line:{x1:p,y1:b,x2:v,y2:x},tick:{x:g,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Ct(Ct(Ct({},le(this.props,!1)),le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Ct(Ct({},h),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Ct(Ct({},h),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return L.createElement("line",Fo({},h,{className:Ne("recharts-cartesian-axis-line",Hr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=Q1(Ct(Ct({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=le(this.props,!1),g=le(d,!1),y=Ct(Ct({},x),{},{fill:"none"},le(c,!1)),w=p.map(function(A,j){var k=o.getTickLineCoord(A),S=k.line,N=k.tick,T=Ct(Ct(Ct(Ct({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},g),N),{},{index:j,payload:A,visibleTicksCount:p.length,tickFormatter:h});return L.createElement(De,Fo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Ua(o.props,A,j)),c&&L.createElement("line",Fo({},y,S,{className:Ne("recharts-cartesian-axis-tick-line",Hr(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(pe(h)?h(A.value,j):A.value).concat(f||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=Ky(h,bxe),v=f;return pe(c)&&(v=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:L.createElement(De,{className:Ne("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=Ne(i.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?o=L.cloneElement(n,Ct(Ct({},i),{},{className:l})):pe(n)?o=n(Ct(Ct({},i),{},{className:l})):o=L.createElement(za,Fo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(C.Component);J1(vc,"displayName","CartesianAxis");J1(vc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Exe=["x1","y1","x2","y2","key"],Pxe=["offset"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){Ixe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ixe(t,e,r){return e=Cxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cxe(t){var e=Oxe(t,"string");return qa(e)=="symbol"?e:e+""}function Oxe(t,e){if(qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Na.apply(this,arguments)}function EE(t,e){if(t==null)return{};var r=Mxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Dxe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function N3(t,e){var r;if(L.isValidElement(t))r=L.cloneElement(t,e);else if(pe(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=EE(e,Exe),u=le(c,!1);u.offset;var d=EE(u,Pxe);r=L.createElement("line",Na({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Rxe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=mr(mr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return N3(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Lxe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=mr(mr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return N3(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function $xe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],b=v?i+o-f:d[p+1]-f;if(b<=0)return null;var x=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:b,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Vxe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],b=v?a+l-f:d[p+1]-f;if(b<=0)return null;var x=p%n.length;return L.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:b,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Fxe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return vR(Q1(mr(mr(mr({},vc.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Bxe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return vR(Q1(mr(mr(mr({},vc.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},xo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function W0(t){var e,r,n,i,a,o,l=G1(),c=K1(),u=Tge(),d=mr(mr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xo.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:xo.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:xo.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xo.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:xo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:xo.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,v=d.height,b=d.syncWithTicks,x=d.horizontalValues,g=d.verticalValues,y=Sge(),w=Age();if(!ee(p)||p<=0||!ee(v)||v<=0||!ee(h)||h!==+h||!ee(f)||f!==+f)return null;var A=d.verticalCoordinatesGenerator||Fxe,j=d.horizontalCoordinatesGenerator||Bxe,k=d.horizontalPoints,S=d.verticalPoints;if((!k||!k.length)&&pe(j)){var N=x&&x.length,T=j({yAxis:w?mr(mr({},w),{},{ticks:N?x:w.ticks}):void 0,width:l,height:c,offset:u},N?!0:b);Cn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qa(T),"]")),Array.isArray(T)&&(k=T)}if((!S||!S.length)&&pe(A)){var O=g&&g.length,I=A({xAxis:y?mr(mr({},y),{},{ticks:O?g:y.ticks}):void 0,width:l,height:c,offset:u},O?!0:b);Cn(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qa(I),"]")),Array.isArray(I)&&(S=I)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Dxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Rxe,Na({},d,{offset:u,horizontalPoints:k,xAxis:y,yAxis:w})),L.createElement(Lxe,Na({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),L.createElement($xe,Na({},d,{horizontalPoints:k})),L.createElement(Vxe,Na({},d,{verticalPoints:S})))}W0.displayName="CartesianGrid";var Uxe=["type","layout","connectNulls","ref"],zxe=["key"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function PE(t,e){if(t==null)return{};var r=Wxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lu.apply(this,arguments)}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yo(t){return Kxe(t)||Gxe(t)||qxe(t)||Hxe()}function Hxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(t,e){if(t){if(typeof t=="string")return H0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H0(t,e)}}function Gxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kxe(t){if(Array.isArray(t))return H0(t)}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S3(n.key),n)}}function Xxe(t,e,r){return e&&CE(t.prototype,e),r&&CE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qxe(t,e,r){return e=$p(e),Jxe(t,_3()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function Jxe(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zxe(t)}function Zxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function eye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q0(t,e)}function Sn(t,e,r){return e=S3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3(t){var e=tye(t,"string");return Rl(e)=="symbol"?e:e+""}function tye(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ll=function(t){function e(){var r;Yxe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qxe(this,e,[].concat(i)),Sn(r,"state",{isAnimationFinished:!0,totalLength:0}),Sn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Sn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,y){return g+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],v=0,b=0;v<c.length;b+=c[v],++v)if(b+c[v]>h){p=[].concat(yo(c.slice(0,v)),[h-b]);break}var x=p.length%2===0?[0,f]:[f];return[].concat(yo(e.repeat(c,d)),yo(p),x).map(function(g){return"".concat(g,"px")}).join(", ")}),Sn(r,"id",hc("recharts-line-")),Sn(r,"pathRef",function(o){r.mainCurve=o}),Sn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Sn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return eye(e,t),Xxe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=qr(d,_h);if(!h)return null;var f=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:Rt(b.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(De,p,h.map(function(v){return L.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=le(this.props,!1),f=le(c,!0),p=u.map(function(b,x){var g=Lr(Lr(Lr({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(De,Lu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=PE(l,Uxe),f=Lr(Lr(Lr({},le(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(xp,Lu({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,v=o.animateNewValues,b=o.width,x=o.height,g=this.state,y=g.prevPoints,w=g.totalLength;return L.createElement(ii,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var j=A.t;if(y){var k=y.length/l.length,S=l.map(function(M,P){var F=Math.floor(P*k);if(y[F]){var B=y[F],D=Br(B.x,M.x),V=Br(B.y,M.y);return Lr(Lr({},M),{},{x:D(j),y:V(j)})}if(v){var $=Br(b*2,M.x),z=Br(x/2,M.y);return Lr(Lr({},M),{},{x:$(j),y:z(j)})}return Lr(Lr({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(S,n,i)}var N=Br(0,w),T=N(j),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});O=a.getStrokeDasharray(T,w,I)}else O=a.generateSimpleStrokeDasharray(w,T);return a.renderCurveStatically(l,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Nh(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(a||!l||!l.length)return null;var g=this.state.isAnimationFinished,y=l.length===1,w=Ne("recharts-line",c),A=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,k=A||j,S=be(x)?this.id:x,N=(n=le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=N.r,O=T===void 0?3:T,I=N.strokeWidth,M=I===void 0?2:I,P=bK(o)?o:{},F=P.clipDot,B=F===void 0?!0:F,D=O*2+M;return L.createElement(De,{className:w},A||j?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(S)},L.createElement("rect",{x:A?f:f-p/2,y:j?h:h-v/2,width:A?p:p*2,height:j?v:v*2})),!B&&L.createElement("clipPath",{id:"clipPath-dots-".concat(S)},L.createElement("rect",{x:f-D/2,y:h-D/2,width:p+D,height:v+D}))):null,!y&&this.renderCurve(k,S),this.renderErrorBar(k,S),(y||o)&&this.renderDots(k,B,S),(!b||g)&&Ai.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(yo(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(yo(o),yo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(pe(n))a=n(i);else{var o=i.key,l=PE(i,zxe),c=Ne("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(ix,Lu({key:o},l,{className:c}))}return a}}])}(C.PureComponent);Sn(Ll,"displayName","Line");Sn(Ll,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ro.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Sn(Ll,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var v=Rt(f,o);return d==="horizontal"?{x:sT({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:be(v)?null:n.scale(v),value:v,payload:f}:{x:be(v)?null:r.scale(v),y:sT({axis:n,ticks:a,bandSize:l,entry:f,index:p}),value:v,payload:f}});return Lr({points:h,layout:d},u)});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T3(n.key),n)}}function iye(t,e,r){return e&&nye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sye(t,e,r){return e=Vp(e),aye(t,A3()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function aye(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(t)}function oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A3=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function k3(t,e,r){return e=T3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3(t){var e=cye(t,"string");return $l(e)=="symbol"?e:e+""}function cye(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}function uye(t){var e=t.xAxisId,r=G1(),n=K1(),i=h3(e);return i==null?null:C.createElement(vc,K0({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bi(o,!0)}}))}var Vl=function(t){function e(){return rye(this,e),sye(this,e,arguments)}return lye(e,t),iye(e,[{key:"render",value:function(){return C.createElement(uye,this.props)}}])}(C.Component);k3(Vl,"displayName","XAxis");k3(Vl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I3(n.key),n)}}function fye(t,e,r){return e&&hye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mye(t,e,r){return e=Fp(e),pye(t,E3()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function pye(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(t)}function gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function P3(t,e,r){return e=I3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I3(t){var e=yye(t,"string");return Fl(e)=="symbol"?e:e+""}function yye(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}var vye=function(e){var r=e.yAxisId,n=G1(),i=K1(),a=f3(r);return a==null?null:C.createElement(vc,X0({},a,{className:Ne("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return bi(l,!0)}}))},Bl=function(t){function e(){return dye(this,e),mye(this,e,arguments)}return xye(e,t),fye(e,[{key:"render",value:function(){return C.createElement(vye,this.props)}}])}(C.Component);P3(Bl,"displayName","YAxis");P3(Bl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OE(t){return Nye(t)||jye(t)||wye(t)||bye()}function bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return Q0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q0(t,e)}}function jye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nye(t){if(Array.isArray(t))return Q0(t)}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var J0=function(e,r,n,i,a){var o=qr(e,X1),l=qr(e,fx),c=[].concat(OE(o),OE(l)),u=qr(e,px),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(b,x){if(x.props[d]===n&&Zn(x.props,"extendDomain")&&ee(x.props[h])){var g=x.props[h];return[Math.min(b[0],g),Math.max(b[1],g)]}return b},f)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(b,x){if(x.props[d]===n&&Zn(x.props,"extendDomain")&&ee(x.props[p])&&ee(x.props[v])){var g=x.props[p],y=x.props[v];return[Math.min(b[0],g,y),Math.max(b[1],g,y)]}return b},f)}return a&&a.length&&(f=a.reduce(function(b,x){return ee(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},f)),f},C3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,v=new Array(p);f<p;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,v){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],g=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),g){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,f),!0;case 5:return x.fn.call(x.context,d,h,f,p),!0;case 6:return x.fn.call(x.context,d,h,f,p,v),!0}for(w=1,y=new Array(g-1);w<g;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var A=x.length,j;for(w=0;w<A;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),g){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,h);break;case 4:x[w].fn.call(x[w].context,d,h,f);break;default:if(!y)for(j=1,y=new Array(g-1);j<g;j++)y[j-1]=arguments[j];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var b=0,x=[],g=v.length;b<g;b++)(v[b].fn!==d||f&&!v[b].once||h&&v[b].context!==h)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(C3);var _ye=C3.exports;const Sye=Ue(_ye);var Yy=new Sye,Xy="recharts.syncMouseEvents";function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O3(n.key),n)}}function Tye(t,e,r){return e&&kye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qy(t,e,r){return e=O3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3(t){var e=Eye(t,"string");return Xd(e)=="symbol"?e:e+""}function Eye(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pye=function(){function t(){Aye(this,t),Qy(this,"activeIndex",0),Qy(this,"coordinateList",[]),Qy(this,"layout","horizontal")}return Tye(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Iye(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ee(n)&&ee(i))return!0}return!1}function Cye(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function M3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Je(e,r,n,i),l=Je(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Oye(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=Je(l,c,u,h),p=Je(l,c,d,h);n=f.x,i=f.y,a=p.x,o=p.y}else return M3(e);return[{x:n,y:i},{x:a,y:o}]}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){Mye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mye(t,e,r){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dye(t){var e=Rye(t,"string");return Qd(e)=="symbol"?e:e+""}function Rye(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lye(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,b=xp;if(f==="ScatterChart")v=o,b=tfe;else if(f==="BarChart")v=Cye(h,o,c,d),b=z1;else if(h==="radial"){var x=M3(o),g=x.cx,y=x.cy,w=x.radius,A=x.startAngle,j=x.endAngle;v={cx:g,cy:y,startAngle:A,endAngle:j,innerRadius:w,outerRadius:w},b=PR}else v={points:Oye(h,o,c)},b=xp;var k=_f(_f(_f(_f({stroke:"#ccc",pointerEvents:"none"},c),v),le(p,!1)),{},{payload:l,payloadIndex:u,className:Ne("recharts-tooltip-cursor",p.className)});return C.isValidElement(p)?C.cloneElement(p,k):C.createElement(b,k)}var $ye=["item"],Vye=["children","className","width","height","style","compact","title","desc"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bo.apply(this,arguments)}function DE(t,e){return Uye(t)||Bye(t,e)||R3(t,e)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Uye(t){if(Array.isArray(t))return t}function RE(t,e){if(t==null)return{};var r=zye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L3(n.key),n)}}function qye(t,e,r){return e&&Hye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,r){return e=Bp(e),Kye(t,D3()?Reflect.construct(e,r||[],Bp(t).constructor):e.apply(t,r))}function Kye(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yye(t)}function Yye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D3=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(t)}function Xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(t,e)}function zl(t){return Zye(t)||Jye(t)||R3(t)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3(t,e){if(t){if(typeof t=="string")return ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(t,e)}}function Jye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zye(t){if(Array.isArray(t))return ew(t)}function ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=L3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L3(t){var e=eve(t,"string");return Ul(e)=="symbol"?e:e+""}function eve(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tve={xAxis:["bottom","top"],yAxis:["left","right"]},rve={width:"100%",height:"100%"},$3={x:0,y:0};function Sf(t){return t}var nve=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ive=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return H(H(H({},i),Je(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return H(H(H({},i),Je(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return $3},gx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zl(l),zl(u)):l},[]);return o.length>0?o:e&&e.length&&ee(i)&&ee(a)?e.slice(i,a+1):[]};function V3(t){return t==="number"?[0,"auto"]:void 0}var tw=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=gx(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=Fm(p,o.dataKey,i)}else f=h&&h[n]||l[n];return f?[].concat(zl(c),[_R(u,f)]):c},[])},$E=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=nve(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=wce(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=tw(e,r,d,h),p=ive(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},sve=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=yR(d,a);return n.reduce(function(v,b){var x,g=b.type.defaultProps!==void 0?H(H({},b.type.defaultProps),b.props):b.props,y=g.type,w=g.dataKey,A=g.allowDataOverflow,j=g.allowDuplicatedCategory,k=g.scale,S=g.ticks,N=g.includeHidden,T=g[o];if(v[T])return v;var O=gx(e.data,{graphicalItems:i.filter(function(Z){var oe,ke=o in Z.props?Z.props[o]:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ke===T}),dataStartIndex:c,dataEndIndex:u}),I=O.length,M,P,F;Iye(g.domain,A,y)&&(M=m0(g.domain,null,A),p&&(y==="number"||k!=="auto")&&(F=Ou(O,w,"category")));var B=V3(y);if(!M||M.length===0){var D,V=(D=g.domain)!==null&&D!==void 0?D:B;if(w){if(M=Ou(O,w,y),y==="category"&&p){var $=uK(M);j&&$?(P=M,M=Tp(0,I)):j||(M=cT(V,M,b).reduce(function(Z,oe){return Z.indexOf(oe)>=0?Z:[].concat(zl(Z),[oe])},[]))}else if(y==="category")j?M=M.filter(function(Z){return Z!==""&&!be(Z)}):M=cT(V,M,b).reduce(function(Z,oe){return Z.indexOf(oe)>=0||oe===""||be(oe)?Z:[].concat(zl(Z),[oe])},[]);else if(y==="number"){var z=Ace(O,i.filter(function(Z){var oe,ke,We=o in Z.props?Z.props[o]:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe[o],Ze="hide"in Z.props?Z.props.hide:(ke=Z.type.defaultProps)===null||ke===void 0?void 0:ke.hide;return We===T&&(N||!Ze)}),w,a,d);z&&(M=z)}p&&(y==="number"||k!=="auto")&&(F=Ou(O,w,"category"))}else p?M=Tp(0,I):l&&l[T]&&l[T].hasStack&&y==="number"?M=f==="expand"?[0,1]:NR(l[T].stackGroups,c,u):M=xR(O,i.filter(function(Z){var oe=o in Z.props?Z.props[o]:Z.type.defaultProps[o],ke="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return oe===T&&(N||!ke)}),y,d,!0);if(y==="number")M=J0(h,M,T,a,S),V&&(M=m0(V,M,A));else if(y==="category"&&V){var q=V,Q=M.every(function(Z){return q.indexOf(Z)>=0});Q&&(M=q)}}return H(H({},v),{},ue({},T,H(H({},g),{},{axisType:a,domain:M,categoricalDomain:F,duplicateDomain:P,originalDomain:(x=g.domain)!==null&&x!==void 0?x:B,isCategorical:p,layout:d})))},{})},ave=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=gx(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,v=yR(d,a),b=-1;return n.reduce(function(x,g){var y=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,w=y[o],A=V3("number");if(!x[w]){b++;var j;return v?j=Tp(0,p):l&&l[w]&&l[w].hasStack?(j=NR(l[w].stackGroups,c,u),j=J0(h,j,w,a)):(j=m0(A,xR(f,n.filter(function(k){var S,N,T=o in k.props?k.props[o]:(S=k.type.defaultProps)===null||S===void 0?void 0:S[o],O="hide"in k.props?k.props.hide:(N=k.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===w&&!O}),"number",d),i.defaultProps.allowDataOverflow),j=J0(h,j,w,a)),H(H({},x),{},ue({},w,H(H({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hr(tve,"".concat(a,".").concat(b%2),null),domain:j,originalDomain:A,isCategorical:v,layout:d})))}return x},{})},ove=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=qr(d,a),p={};return f&&f.length?p=sve(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=ave(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},lve=function(e){var r=fs(e),n=bi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:g1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:mp(r,n)}},VE=function(e){var r=e.children,n=e.defaultShowTooltip,i=Fr(r,Pl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},cve=function(e){return!e||!e.length?!1:e.some(function(r){var n=_i(r&&r.type);return n&&n.indexOf("Bar")>=0})},FE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uve=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=Fr(h,Pl),v=Fr(h,Os),b=Object.keys(c).reduce(function(j,k){var S=c[k],N=S.orientation;return!S.mirror&&!S.hide?H(H({},j),{},ue({},N,j[N]+S.width)):j},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(j,k){var S=o[k],N=S.orientation;return!S.mirror&&!S.hide?H(H({},j),{},ue({},N,Hr(j,"".concat(N))+S.height)):j},{top:f.top||0,bottom:f.bottom||0}),g=H(H({},x),b),y=g.bottom;p&&(g.bottom+=p.props.height||Pl.defaultProps.height),v&&r&&(g=_ce(g,i,n,r));var w=u-g.left-g.right,A=d-g.top-g.bottom;return H(H({brushBottom:y},g),{},{width:Math.max(w,0),height:Math.max(A,0)})},dve=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Z1=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(g,y){var w=y.graphicalItems,A=y.stackGroups,j=y.offset,k=y.updateId,S=y.dataStartIndex,N=y.dataEndIndex,T=g.barSize,O=g.layout,I=g.barGap,M=g.barCategoryGap,P=g.maxBarSize,F=FE(O),B=F.numericAxisName,D=F.cateAxisName,V=cve(w),$=[];return w.forEach(function(z,q){var Q=gx(g.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:N}),Z=z.type.defaultProps!==void 0?H(H({},z.type.defaultProps),z.props):z.props,oe=Z.dataKey,ke=Z.maxBarSize,We=Z["".concat(B,"Id")],Ze=Z["".concat(D,"Id")],ar={},Bt=c.reduce(function(Qr,li){var oo=y["".concat(li.axisType,"Map")],kh=Z["".concat(li.axisType,"Id")];oo&&oo[kh]||li.axisType==="zAxis"||Ha();var qi=oo[kh];return H(H({},Qr),{},ue(ue({},li.axisType,qi),"".concat(li.axisType,"Ticks"),bi(qi)))},ar),re=Bt[D],je=Bt["".concat(D,"Ticks")],_e=A&&A[We]&&A[We].hasStack&&Dce(z,A[We].stackGroups),X=_i(z.type).indexOf("Bar")>=0,Ke=mp(re,je),Ee=[],wt=V&&jce({barSize:T,stackGroups:A,totalSize:dve(Bt,D)});if(X){var ut,Ut,vn=be(ke)?P:ke,dt=(ut=(Ut=mp(re,je,!0))!==null&&Ut!==void 0?Ut:vn)!==null&&ut!==void 0?ut:0;Ee=Nce({barGap:I,barCategoryGap:M,bandSize:dt!==Ke?dt:Ke,sizeList:wt[Ze],maxBarSize:vn}),dt!==Ke&&(Ee=Ee.map(function(Qr){return H(H({},Qr),{},{position:H(H({},Qr.position),{},{offset:Qr.position.offset-dt/2})})}))}var St=z&&z.type&&z.type.getComposedData;St&&$.push({props:H(H({},St(H(H({},Bt),{},{displayedData:Q,props:g,dataKey:oe,item:z,bandSize:Ke,barPosition:Ee,offset:j,stackedData:_e,layout:O,dataStartIndex:S,dataEndIndex:N}))),{},ue(ue(ue({key:z.key||"item-".concat(q)},B,Bt[B]),D,Bt[D]),"animationId",k)),childIndex:NK(z,g.children),item:z})}),$},p=function(g,y){var w=g.props,A=g.dataStartIndex,j=g.dataEndIndex,k=g.updateId;if(!rA({props:w}))return null;var S=w.children,N=w.layout,T=w.stackOffset,O=w.data,I=w.reverseStackOrder,M=FE(N),P=M.numericAxisName,F=M.cateAxisName,B=qr(S,n),D=Oce(O,B,"".concat(P,"Id"),"".concat(F,"Id"),T,I),V=c.reduce(function(Z,oe){var ke="".concat(oe.axisType,"Map");return H(H({},Z),{},ue({},ke,ove(w,H(H({},oe),{},{graphicalItems:B,stackGroups:oe.axisType===P&&D,dataStartIndex:A,dataEndIndex:j}))))},{}),$=uve(H(H({},V),{},{props:w,graphicalItems:B}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(Z){V[Z]=d(w,V[Z],$,Z.replace("Map",""),r)});var z=V["".concat(F,"Map")],q=lve(z),Q=f(w,H(H({},V),{},{dataStartIndex:A,dataEndIndex:j,updateId:k,graphicalItems:B,stackGroups:D,offset:$}));return H(H({formattedGraphicalItems:Q,graphicalItems:B,offset:$,stackGroups:D},q),V)},v=function(x){function g(y){var w,A,j;return Wye(this,g),j=Gye(this,g,[y]),ue(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(j,"accessibilityManager",new Pye),ue(j,"handleLegendBBoxUpdate",function(k){if(k){var S=j.state,N=S.dataStartIndex,T=S.dataEndIndex,O=S.updateId;j.setState(H({legendBBox:k},p({props:j.props,dataStartIndex:N,dataEndIndex:T,updateId:O},H(H({},j.state),{},{legendBBox:k}))))}}),ue(j,"handleReceiveSyncEvent",function(k,S,N){if(j.props.syncId===k){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),ue(j,"handleBrushChange",function(k){var S=k.startIndex,N=k.endIndex;if(S!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return H({dataStartIndex:S,dataEndIndex:N},p({props:j.props,dataStartIndex:S,dataEndIndex:N,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:N})}}),ue(j,"handleMouseEnter",function(k){var S=j.getMouseInfo(k);if(S){var N=H(H({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseEnter;pe(T)&&T(N,k)}}),ue(j,"triggeredAfterMouseMove",function(k){var S=j.getMouseInfo(k),N=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseMove;pe(T)&&T(N,k)}),ue(j,"handleItemMouseEnter",function(k){j.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),ue(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ue(j,"handleMouseMove",function(k){k.persist(),j.throttleTriggeredAfterMouseMove(k)}),ue(j,"handleMouseLeave",function(k){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var N=j.props.onMouseLeave;pe(N)&&N(S,k)}),ue(j,"handleOuterEvent",function(k){var S=jK(k),N=Hr(j.props,"".concat(S));if(S&&pe(N)){var T,O;/.*touch.*/i.test(S)?O=j.getMouseInfo(k.changedTouches[0]):O=j.getMouseInfo(k),N((T=O)!==null&&T!==void 0?T:{},k)}}),ue(j,"handleClick",function(k){var S=j.getMouseInfo(k);if(S){var N=H(H({},S),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onClick;pe(T)&&T(N,k)}}),ue(j,"handleMouseDown",function(k){var S=j.props.onMouseDown;if(pe(S)){var N=j.getMouseInfo(k);S(N,k)}}),ue(j,"handleMouseUp",function(k){var S=j.props.onMouseUp;if(pe(S)){var N=j.getMouseInfo(k);S(N,k)}}),ue(j,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),ue(j,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseDown(k.changedTouches[0])}),ue(j,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&j.handleMouseUp(k.changedTouches[0])}),ue(j,"handleDoubleClick",function(k){var S=j.props.onDoubleClick;if(pe(S)){var N=j.getMouseInfo(k);S(N,k)}}),ue(j,"handleContextMenu",function(k){var S=j.props.onContextMenu;if(pe(S)){var N=j.getMouseInfo(k);S(N,k)}}),ue(j,"triggerSyncEvent",function(k){j.props.syncId!==void 0&&Yy.emit(Xy,j.props.syncId,k,j.eventEmitterSymbol)}),ue(j,"applySyncEvent",function(k){var S=j.props,N=S.layout,T=S.syncMethod,O=j.state.updateId,I=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)j.setState(H({dataStartIndex:I,dataEndIndex:M},p({props:j.props,dataStartIndex:I,dataEndIndex:M,updateId:O},j.state)));else if(k.activeTooltipIndex!==void 0){var P=k.chartX,F=k.chartY,B=k.activeTooltipIndex,D=j.state,V=D.offset,$=D.tooltipTicks;if(!V)return;if(typeof T=="function")B=T($,k);else if(T==="value"){B=-1;for(var z=0;z<$.length;z++)if($[z].value===k.activeLabel){B=z;break}}var q=H(H({},V),{},{x:V.left,y:V.top}),Q=Math.min(P,q.x+q.width),Z=Math.min(F,q.y+q.height),oe=$[B]&&$[B].value,ke=tw(j.state,j.props.data,B),We=$[B]?{x:N==="horizontal"?$[B].coordinate:Q,y:N==="horizontal"?Z:$[B].coordinate}:$3;j.setState(H(H({},k),{},{activeLabel:oe,activeCoordinate:We,activePayload:ke,activeTooltipIndex:B}))}else j.setState(k)}),ue(j,"renderCursor",function(k){var S,N=j.state,T=N.isTooltipActive,O=N.activeCoordinate,I=N.activePayload,M=N.offset,P=N.activeTooltipIndex,F=N.tooltipAxisBandSize,B=j.getTooltipEventType(),D=(S=k.props.active)!==null&&S!==void 0?S:T,V=j.props.layout,$=k.key||"_recharts-cursor";return L.createElement(Lye,{key:$,activeCoordinate:O,activePayload:I,activeTooltipIndex:P,chartName:r,element:k,isActive:D,layout:V,offset:M,tooltipAxisBandSize:F,tooltipEventType:B})}),ue(j,"renderPolarAxis",function(k,S,N){var T=Hr(k,"type.axisType"),O=Hr(j.state,"".concat(T,"Map")),I=k.type.defaultProps,M=I!==void 0?H(H({},I),k.props):k.props,P=O&&O[M["".concat(T,"Id")]];return C.cloneElement(k,H(H({},P),{},{className:Ne(T,P.className),key:k.key||"".concat(S,"-").concat(N),ticks:bi(P,!0)}))}),ue(j,"renderPolarGrid",function(k){var S=k.props,N=S.radialLines,T=S.polarAngles,O=S.polarRadius,I=j.state,M=I.radiusAxisMap,P=I.angleAxisMap,F=fs(M),B=fs(P),D=B.cx,V=B.cy,$=B.innerRadius,z=B.outerRadius;return C.cloneElement(k,{polarAngles:Array.isArray(T)?T:bi(B,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(O)?O:bi(F,!0).map(function(q){return q.coordinate}),cx:D,cy:V,innerRadius:$,outerRadius:z,key:k.key||"polar-grid",radialLines:N})}),ue(j,"renderLegend",function(){var k=j.state.formattedGraphicalItems,S=j.props,N=S.children,T=S.width,O=S.height,I=j.props.margin||{},M=T-(I.left||0)-(I.right||0),P=pR({children:N,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!P)return null;var F=P.item,B=RE(P,$ye);return C.cloneElement(F,H(H({},B),{},{chartWidth:T,chartHeight:O,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ue(j,"renderTooltip",function(){var k,S=j.props,N=S.children,T=S.accessibilityLayer,O=Fr(N,tn);if(!O)return null;var I=j.state,M=I.isTooltipActive,P=I.activeCoordinate,F=I.activePayload,B=I.activeLabel,D=I.offset,V=(k=O.props.active)!==null&&k!==void 0?k:M;return C.cloneElement(O,{viewBox:H(H({},D),{},{x:D.left,y:D.top}),active:V,label:B,payload:V?F:[],coordinate:P,accessibilityLayer:T})}),ue(j,"renderBrush",function(k){var S=j.props,N=S.margin,T=S.data,O=j.state,I=O.offset,M=O.dataStartIndex,P=O.dataEndIndex,F=O.updateId;return C.cloneElement(k,{key:k.key||"_recharts-brush",onChange:bf(j.handleBrushChange,k.props.onChange),data:T,x:ee(k.props.x)?k.props.x:I.left,y:ee(k.props.y)?k.props.y:I.top+I.height+I.brushBottom-(N.bottom||0),width:ee(k.props.width)?k.props.width:I.width,startIndex:M,endIndex:P,updateId:"brush-".concat(F)})}),ue(j,"renderReferenceElement",function(k,S,N){if(!k)return null;var T=j,O=T.clipPathId,I=j.state,M=I.xAxisMap,P=I.yAxisMap,F=I.offset,B=k.type.defaultProps||{},D=k.props,V=D.xAxisId,$=V===void 0?B.xAxisId:V,z=D.yAxisId,q=z===void 0?B.yAxisId:z;return C.cloneElement(k,{key:k.key||"".concat(S,"-").concat(N),xAxis:M[$],yAxis:P[q],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:O})}),ue(j,"renderActivePoints",function(k){var S=k.item,N=k.activePoint,T=k.basePoint,O=k.childIndex,I=k.isRange,M=[],P=S.props.key,F=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,B=F.activeDot,D=F.dataKey,V=H(H({index:O,dataKey:D,cx:N.x,cy:N.y,r:4,fill:U1(S.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},le(B,!1)),Bm(B));return M.push(g.renderActiveDot(B,V,"".concat(P,"-activePoint-").concat(O))),T?M.push(g.renderActiveDot(B,H(H({},V),{},{cx:T.x,cy:T.y}),"".concat(P,"-basePoint-").concat(O))):I&&M.push(null),M}),ue(j,"renderGraphicChild",function(k,S,N){var T=j.filterFormatItem(k,S,N);if(!T)return null;var O=j.getTooltipEventType(),I=j.state,M=I.isTooltipActive,P=I.tooltipAxis,F=I.activeTooltipIndex,B=I.activeLabel,D=j.props.children,V=Fr(D,tn),$=T.props,z=$.points,q=$.isRange,Q=$.baseLine,Z=T.item.type.defaultProps!==void 0?H(H({},T.item.type.defaultProps),T.item.props):T.item.props,oe=Z.activeDot,ke=Z.hide,We=Z.activeBar,Ze=Z.activeShape,ar=!!(!ke&&M&&V&&(oe||We||Ze)),Bt={};O!=="axis"&&V&&V.props.trigger==="click"?Bt={onClick:bf(j.handleItemMouseEnter,k.props.onClick)}:O!=="axis"&&(Bt={onMouseLeave:bf(j.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:bf(j.handleItemMouseEnter,k.props.onMouseEnter)});var re=C.cloneElement(k,H(H({},T.props),Bt));function je(li){return typeof P.dataKey=="function"?P.dataKey(li.payload):null}if(ar)if(F>=0){var _e,X;if(P.dataKey&&!P.allowDuplicatedCategory){var Ke=typeof P.dataKey=="function"?je:"payload.".concat(P.dataKey.toString());_e=Fm(z,Ke,B),X=q&&Q&&Fm(Q,Ke,B)}else _e=z==null?void 0:z[F],X=q&&Q&&Q[F];if(Ze||We){var Ee=k.props.activeIndex!==void 0?k.props.activeIndex:F;return[C.cloneElement(k,H(H(H({},T.props),Bt),{},{activeIndex:Ee})),null,null]}if(!be(_e))return[re].concat(zl(j.renderActivePoints({item:T,activePoint:_e,basePoint:X,childIndex:F,isRange:q})))}else{var wt,ut=(wt=j.getItemByXY(j.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:re},Ut=ut.graphicalItem,vn=Ut.item,dt=vn===void 0?k:vn,St=Ut.childIndex,Qr=H(H(H({},T.props),Bt),{},{activeIndex:St});return[C.cloneElement(dt,Qr),null,null]}return q?[re,null,null]:[re,null]}),ue(j,"renderCustomized",function(k,S,N){return C.cloneElement(k,H(H({key:"recharts-customized-".concat(N)},j.props),j.state))}),ue(j,"renderMap",{CartesianGrid:{handler:Sf,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Sf},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Sf},YAxis:{handler:Sf},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:hc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=mD(j.triggeredAfterMouseMove,(A=y.throttleDelay)!==null&&A!==void 0?A:1e3/60),j.state={},j}return Xye(g,x),qye(g,[{key:"componentDidMount",value:function(){var w,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,A=w.children,j=w.data,k=w.height,S=w.layout,N=Fr(A,tn);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=tw(this.state,j,T,O),M=this.state.tooltipTicks[T].coordinate,P=(this.state.offset.top+k)/2,F=S==="horizontal",B=F?{x:M,y:P}:{y:M,x:P},D=this.state.formattedGraphicalItems.find(function($){var z=$.item;return z.type.name==="Scatter"});D&&(B=H(H({},B),D.props.points[T].tooltipPosition),I=D.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:B};this.setState(V),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,k;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){Eb([Fr(w.children,tn)],[Fr(this.props.children,tn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Fr(this.props.children,tn);if(w&&typeof w.props.shared=="boolean"){var A=w.props.shared?"axis":"item";return l.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var A=this.container,j=A.getBoundingClientRect(),k=Yie(j),S={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},N=j.width/A.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,N);if(!T)return null;var O=this.state,I=O.xAxisMap,M=O.yAxisMap,P=this.getTooltipEventType(),F=$E(this.state,this.props.data,this.props.layout,T);if(P!=="axis"&&I&&M){var B=fs(I).scale,D=fs(M).scale,V=B&&B.invert?B.invert(S.chartX):null,$=D&&D.invert?D.invert(S.chartY):null;return H(H({},S),{},{xValue:V,yValue:$},F)}return F?H(H({},S),F):null}},{key:"inRange",value:function(w,A){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,S=w/j,N=A/j;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,O=S>=T.left&&S<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return O?{x:S,y:N}:null}var I=this.state,M=I.angleAxisMap,P=I.radiusAxisMap;if(M&&P){var F=fs(M);return hT({x:S,y:N},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,A=this.getTooltipEventType(),j=Fr(w,tn),k={};j&&A==="axis"&&(j.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Bm(this.props,this.handleOuterEvent);return H(H({},S),k)}},{key:"addListener",value:function(){Yy.on(Xy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yy.removeListener(Xy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,A,j){for(var k=this.state.formattedGraphicalItems,S=0,N=k.length;S<N;S++){var T=k[S];if(T.item===w||T.props.key===w.key||A===_i(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,A=this.state.offset,j=A.left,k=A.top,S=A.height,N=A.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:j,y:k,height:S,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(A,j){var k=DE(j,2),S=k[0],N=k[1];return H(H({},A),{},ue({},S,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(A,j){var k=DE(j,2),S=k[0],N=k[1];return H(H({},A),{},ue({},S,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(w){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[w])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(w){var A=this.state,j=A.formattedGraphicalItems,k=A.activeItem;if(j&&j.length)for(var S=0,N=j.length;S<N;S++){var T=j[S],O=T.props,I=T.item,M=I.type.defaultProps!==void 0?H(H({},I.type.defaultProps),I.props):I.props,P=_i(I.type);if(P==="Bar"){var F=(O.data||[]).find(function($){return Dhe(w,$)});if(F)return{graphicalItem:T,payload:F}}else if(P==="RadialBar"){var B=(O.data||[]).find(function($){return hT(w,$)});if(B)return{graphicalItem:T,payload:B}}else if(cx(T,k)||ux(T,k)||Hd(T,k)){var D=Nme({graphicalItem:T,activeTooltipItem:k,itemData:M.data}),V=M.activeIndex===void 0?D:M.activeIndex;return{graphicalItem:H(H({},T),{},{childIndex:V}),payload:Hd(T,k)?M.data[D]:T.props.data[D]}}}return null}},{key:"render",value:function(){var w=this;if(!rA(this))return null;var A=this.props,j=A.children,k=A.className,S=A.width,N=A.height,T=A.style,O=A.compact,I=A.title,M=A.desc,P=RE(A,Vye),F=le(P,!1);if(O)return L.createElement(xE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(Ib,Bo({},F,{width:S,height:N,title:I,desc:M}),this.renderClipPath(),iA(j,this.renderMap)));if(this.props.accessibilityLayer){var B,D;F.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,F.role=(D=this.props.role)!==null&&D!==void 0?D:"application",F.onKeyDown=function($){w.accessibilityManager.keyboardEvent($)},F.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return L.createElement(xE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Bo({className:Ne("recharts-wrapper",k),style:H({position:"relative",cursor:"default",width:S,height:N},T)},V,{ref:function(z){w.container=z}}),L.createElement(Ib,Bo({},F,{width:S,height:N,title:I,desc:M,style:rve}),this.renderClipPath(),iA(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(C.Component);ue(v,"displayName",r),ue(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ue(v,"getDerivedStateFromProps",function(x,g){var y=x.dataKey,w=x.data,A=x.children,j=x.width,k=x.height,S=x.layout,N=x.stackOffset,T=x.margin,O=g.dataStartIndex,I=g.dataEndIndex;if(g.updateId===void 0){var M=VE(x);return H(H(H({},M),{},{updateId:0},p(H(H({props:x},M),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:k,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:A})}if(y!==g.prevDataKey||w!==g.prevData||j!==g.prevWidth||k!==g.prevHeight||S!==g.prevLayout||N!==g.prevStackOffset||!Zo(T,g.prevMargin)){var P=VE(x),F={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},B=H(H({},$E(g,w,S)),{},{updateId:g.updateId+1}),D=H(H(H({},P),F),B);return H(H(H({},D),p(H({props:x},D),g)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:k,prevLayout:S,prevStackOffset:N,prevMargin:T,prevChildren:A})}if(!Eb(A,g.prevChildren)){var V,$,z,q,Q=Fr(A,Pl),Z=Q&&(V=($=Q.props)===null||$===void 0?void 0:$.startIndex)!==null&&V!==void 0?V:O,oe=Q&&(z=(q=Q.props)===null||q===void 0?void 0:q.endIndex)!==null&&z!==void 0?z:I,ke=Z!==O||oe!==I,We=!be(w),Ze=We&&!ke?g.updateId:g.updateId+1;return H(H({updateId:Ze},p(H(H({props:x},g),{},{updateId:Ze,dataStartIndex:Z,dataEndIndex:oe}),g)),{},{prevChildren:A,dataStartIndex:Z,dataEndIndex:oe})}return null}),ue(v,"renderActiveDot",function(x,g,y){var w;return C.isValidElement(x)?w=C.cloneElement(x,g):pe(x)?w=x(g):w=L.createElement(ix,g),L.createElement(De,{className:"recharts-active-dot",key:y},w)});var b=C.forwardRef(function(g,y){return L.createElement(v,Bo({},g,{ref:y}))});return b.displayName=v.displayName,b},hve=Z1({chartName:"LineChart",GraphicalChild:Ll,axisComponents:[{axisType:"xAxis",AxisComp:Vl},{axisType:"yAxis",AxisComp:Bl}],formatAxisMap:i3}),fve=Z1({chartName:"BarChart",GraphicalChild:ao,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vl},{axisType:"yAxis",AxisComp:Bl}],formatAxisMap:i3}),mve=Z1({chartName:"PieChart",GraphicalChild:Hi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lx},{axisType:"radiusAxis",AxisComp:ax}],formatAxisMap:Hce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function pve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState(10),[a,o]=C.useState(""),[l,c]=C.useState(1),[u,d]=C.useState(!0);if(C.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]),C.useEffect(()=>{const P=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(P)},[]),!t||!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=Xt(),f=xr(),p=Le(),v={totalProjects:h.length,activeProjects:h.filter(P=>P.status==="active").length,totalUsers:p.length,openTickets:f.filter(P=>P.status==="open"||P.status==="in_progress").length},b=h.slice(0,5),x=f.slice(0,5),g=C.useMemo(()=>h.filter(P=>P.name.toLowerCase().includes(a.toLowerCase())||P.description.toLowerCase().includes(a.toLowerCase())||P.projectType.toLowerCase().includes(a.toLowerCase())),[h,a]),y=Math.ceil(g.length/n),w=(l-1)*n,A=w+n,j=g.slice(w,A);C.useEffect(()=>{c(1)},[a]),C.useEffect(()=>{l>y&&y>0&&c(y)},[n,y,l]);const k=P=>f.filter(F=>F.projectId===P).length,S=P=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const B=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(D=>D.id!==P);localStorage.setItem("marketing_management_website_projects",JSON.stringify(B)),window.location.reload()}},N=[{name:"Open",value:f.filter(P=>P.status==="open").length,color:"#ef4444"},{name:"In Progress",value:f.filter(P=>P.status==="in_progress").length,color:"#f59e0b"},{name:"Resolved",value:f.filter(P=>P.status==="resolved").length,color:"#10b981"},{name:"Closed",value:f.filter(P=>P.status==="closed").length,color:"#6b7280"}].filter(P=>P.value>0),T=[{name:"Planning",value:4},{name:"Design",value:3},{name:"Development",value:5},{name:"Testing",value:5},{name:"Launch",value:5},{name:"Maintenance",value:1}],O=["#fbbf24","#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444"],M=Array.from({length:7},(F,B)=>{const D=new Date;return D.setDate(D.getDate()-(6-B)),D}).map(F=>{const B=f.filter(V=>new Date(V.createdAt).toDateString()===F.toDateString()).length,D=h.filter(V=>new Date(V.createdAt).toDateString()===F.toDateString()).length;return{date:F.toLocaleDateString("en-US",{weekday:"short"}),tickets:B,projects:D}});return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.jsxs("div",{className:"lg:col-span-4 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Analytics Overview"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ticket Status Distribution"}),s.jsx(Oy,{width:"100%",height:250,children:s.jsxs(mve,{children:[s.jsx(Hi,{data:N,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:N.map((P,F)=>s.jsx(wd,{fill:P.color},`cell-${F}`))}),s.jsx(tn,{}),s.jsx(Os,{})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Project Stages Summary"}),s.jsx(Oy,{width:"100%",height:350,children:s.jsxs(fve,{data:T,margin:{top:20,right:30,left:20,bottom:60},children:[s.jsx(W0,{strokeDasharray:"3 3"}),s.jsx(Vl,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0}),s.jsx(Bl,{}),s.jsx(tn,{}),s.jsx(ao,{dataKey:"value",radius:[4,4,0,0],children:T.map((P,F)=>s.jsx(wd,{fill:O[F]},`cell-${F}`))})]})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity (Last 7 Days)"}),s.jsx(Oy,{width:"100%",height:300,children:s.jsxs(hve,{data:M,children:[s.jsx(W0,{strokeDasharray:"3 3"}),s.jsx(Vl,{dataKey:"date"}),s.jsx(Bl,{}),s.jsx(tn,{}),s.jsx(Os,{}),s.jsx(Ll,{type:"monotone",dataKey:"tickets",stroke:"#ef4444",strokeWidth:2,name:"New Tickets"}),s.jsx(Ll,{type:"monotone",dataKey:"projects",stroke:"#3b82f6",strokeWidth:2,name:"New Projects"})]})})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:u?s.jsxs(s.Fragment,{children:[s.jsx(df,{}),s.jsx(df,{}),s.jsx(df,{}),s.jsx(df,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(pr,{title:"Total Projects",value:v.totalProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(pr,{title:"Active Projects",value:v.activeProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx(pr,{title:"Total Users",value:v.totalUsers,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsx(pr,{title:"Open Tickets",value:v.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(K,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"}),s.jsxs(K,{to:"/admin/projects",className:"btn-outline",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"Manage Projects"]}),s.jsx(K,{to:"/admin/users",className:"btn-outline",children:"Manage Users"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",g.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:P=>i(Number(P.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:P=>o(P.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:j.map((P,F)=>{const B=p.find($=>$.id===P.clientId),D=p.find($=>$.id===P.webDeveloperId);p.find($=>$.id===P.socialMediaCoordinatorId);const V=k(P.id);return s.jsxs("tr",{className:`${F%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:w+F+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:P.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:P.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Sr,{status:P.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Di(P.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:B?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:B.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:B.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:D.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:D.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:V}),s.jsx(K,{to:`/admin/tickets?project=${P.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(K,{to:`/admin/analytics/${P.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{to:`/admin/projects/${P.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>S(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id)})},`${n}-${l}`)]},`${n}-${l}`)}),y>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",w+1,"-",Math.min(A,g.length)," of ",g.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(P=>Math.max(1,P-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,y)},(P,F)=>{const B=Math.max(1,Math.min(y-4,l-2))+F;return B>y?null:s.jsx("button",{onClick:()=>c(B),className:`px-3 py-1 text-sm border rounded ${B===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:B},B)})}),s.jsx("button",{onClick:()=>c(P=>Math.min(y,P+1)),disabled:l===y,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),s.jsx(K,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:b.map(P=>{const F=p.find(B=>B.id===P.clientId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F==null?void 0:F.fullName})]}),s.jsx(Sr,{status:P.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",s.jsx("span",{className:"text-foreground",children:Di(P.currentStage)})]}),s.jsx("span",{className:"text-muted-foreground",children:Dn(P.updatedAt)})]})]},P.id)})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),s.jsx(K,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:x.map(P=>{const F=h.find(B=>B.id===P.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:P.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F==null?void 0:F.name})]}),s.jsx(ac,{priority:P.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Sr,{status:P.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Dn(P.createdAt)})]})]},P.id)})})]})]})]})}),s.jsx(ye,{})]})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yve=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>C.createElement("svg",{ref:c,...xve,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:F3("lucide",i),...l},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=(t,e)=>{const r=C.forwardRef(({className:n,...i},a)=>C.createElement(yve,{ref:a,iconNode:e,className:F3(`lucide-${gve(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vve=Sh("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bve=Sh("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Sh("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wve=Sh("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=Sh("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function Nve({role:t,className:e=""}){const r=t==="admin";return s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2 shadow-sm ${r?"bg-gradient-to-r from-primary to-primary-dark text-white border-primary/80 shadow-primary/20":AW(t)} ${e}`,children:[r&&s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),SW(t),r&&s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}function _ve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState([]);C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),C.useEffect(()=>{i(Le())},[]);const a=c=>{r("/admin/users/"+c+"/edit")},o=c=>{i8(c),i(Le())},l=c=>{if(e){if(c===e.id){alert("You cannot delete your own account.");return}window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(f8(c)?i(Le()):alert("Failed to delete user."))}};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),s.jsx(K,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",n.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",s.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),s.jsx(K,{to:"/admin/users/new",className:"btn-primary",children:"+ New User"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Role"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Joined"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:n.map((c,u)=>s.jsxs("tr",{className:`${u%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{children:s.jsx("div",{className:"font-semibold text-foreground",children:c.fullName})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Nve,{role:c.role})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:c.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.phone}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Dn(c.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>a(c.id),title:"Edit",children:s.jsx(vve,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>o(c.id),title:c.isActive?"Deactivate":"Activate",children:c.isActive?s.jsx(jve,{className:"h-4 w-4"}):s.jsx(wve,{className:"h-4 w-4"})}),c.role!=="admin"&&s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>l(c.id),title:"Delete",children:s.jsx(B3,{className:"h-4 w-4"})})]})})]},c.id))})]})})]})]})}),s.jsx(ye,{})]})}function Sve(){const{isSignedIn:t,user:e,updateCurrentUser:r}=me(),n=ge(),a=Yl().id,o=a?eb(a):null,[l,c]=C.useState(!1),[u,d]=C.useState(!0),[h,f]=C.useState(""),[p,v]=C.useState(o||null),[b,x]=C.useState(()=>o?{fullName:o.fullName,email:o.email,phone:o.phone,role:o.role,isActive:o.isActive,changePassword:!1,newPassword:"",confirmPassword:""}:{fullName:"",email:"",phone:"",role:"client",isActive:!0,changePassword:!1,newPassword:"",confirmPassword:""});if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),C.useEffect(()=>{o?d(!1):n("/admin/users")},[o,n]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(u||!p)return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(ye,{})]});const g=async y=>{if(y.preventDefault(),f(""),!b.fullName||!b.email||!b.phone){f("Please fill in all required fields");return}if(b.changePassword){if(!b.newPassword||!b.confirmPassword){f("Please enter and confirm the new password");return}if(b.newPassword!==b.confirmPassword){f("Passwords do not match");return}if(b.newPassword.length<6){f("Password must be at least 6 characters long");return}}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)){f("Please enter a valid email address");return}c(!0);try{n8(a,{email:b.email,fullName:b.fullName,phone:b.phone,role:b.role,isActive:b.isActive,...b.changePassword&&{password:b.newPassword}}),e&&a===e.id&&r({fullName:b.fullName,email:b.email,phone:b.phone,role:b.role}),n("/admin/users")}catch{f("Failed to update user. Please try again."),c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(K,{to:"/admin/users",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Edit User"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Update user information and role assignment"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("form",{onSubmit:g,className:"card",children:[h&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:h}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"fullName",value:b.fullName,onChange:y=>x({...b,fullName:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",value:b.email,onChange:y=>x({...b,email:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:"phone",value:b.phone,onChange:y=>x({...b,phone:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"+27821234567",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:["User Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"role",value:b.role,onChange:y=>x({...b,role:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",required:!0,disabled:p.id===e.id,children:[s.jsx("option",{value:"client",children:"Client - Can view projects and create tickets"}),s.jsx("option",{value:"web_developer",children:"Web Developer - Can manage projects and tickets"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator - Can manage social media and analytics"}),s.jsx("option",{value:"admin",children:"Admin - Full system access"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot change your own role"}),p.id!==e.id&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select the appropriate role based on user responsibilities"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:b.isActive,onChange:y=>x({...b,isActive:y.target.checked}),className:"w-5 h-5 border border-border rounded",disabled:p.id===e.id}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Active User (can sign in to the system)"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot deactivate your own account"})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",checked:b.changePassword,onChange:y=>x({...b,changePassword:y.target.checked}),className:"w-5 h-5 border border-border rounded"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Change Password"})]}),b.changePassword&&s.jsxs("div",{className:"space-y-4 ml-8",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"newPassword",value:b.newPassword,onChange:y=>x({...b,newPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter new password (min. 6 characters)",minLength:6})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"confirmPassword",value:b.confirmPassword,onChange:y=>x({...b,confirmPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Re-enter new password",minLength:6})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-border",children:[s.jsx(K,{to:"/admin/users",className:"btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Updating User...":"Update User"})]})]})})]})}),s.jsx(ye,{})]})}function Ave(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState(10),[a,o]=C.useState(""),[l,c]=C.useState(1);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=Xt(),d=Le(),h=xr(),f=C.useMemo(()=>u.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.description.toLowerCase().includes(a.toLowerCase())||w.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),p=Math.ceil(f.length/n),v=(l-1)*n,b=v+n,x=f.slice(v,b);C.useEffect(()=>{c(1)},[a]);const g=w=>h.filter(A=>A.projectId===w).length,y=w=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const j=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(k=>k.id!==w);localStorage.setItem("marketing_management_website_projects",JSON.stringify(j)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(K,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),s.jsx(K,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",f.length,")"]})}),s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:w=>i(Number(w.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:x.map((w,A)=>{const j=d.find(N=>N.id===w.clientId),k=d.find(N=>N.id===w.webDeveloperId);d.find(N=>N.id===w.socialMediaCoordinatorId);const S=g(w.id);return s.jsxs("tr",{className:`${A%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:v+A+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:w.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:w.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Sr,{status:w.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Di(w.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:j.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:j.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:k.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:k.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:S}),s.jsx(K,{to:`/admin/tickets?project=${w.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(K,{to:`/admin/analytics/${w.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(K,{to:`/admin/projects/${w.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx(bve,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(w.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx(B3,{className:"w-4 h-4"})})]})})]},w.id)})})]})}),p>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",v+1,"-",Math.min(b,f.length)," of ",f.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(w=>Math.max(1,w-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,p)},(w,A)=>{const j=Math.max(1,Math.min(p-4,l-2))+A;return j>p?null:s.jsx("button",{onClick:()=>c(j),className:`px-3 py-1 text-sm border rounded ${j===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:j},j)})}),s.jsx("button",{onClick:()=>c(w=>Math.min(p,w+1)),disabled:l===p,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(ye,{})]})}function kve(){var O;const{isSignedIn:t,user:e}=me(),r=ge(),[n]=J$(),[i,a]=C.useState(10),[o,l]=C.useState(""),[c,u]=C.useState("all"),[d,h]=C.useState("all"),[f,p]=C.useState(1),[v,b]=C.useState(0);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const x=xr(),g=Xt(),y=Le();C.useEffect(()=>{},[v]);const w=n.get("project");let A=x;w&&(A=x.filter(I=>I.projectId===w)),A=A.filter(I=>{const M=!o||I.title.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase())||I.id.toLowerCase().includes(o.toLowerCase()),P=c==="all"||I.status===c,F=d==="all"||I.priority===d;return M&&P&&F});const j=Math.ceil(A.length/i),k=(f-1)*i,S=k+i,N=A.slice(k,S);C.useEffect(()=>{p(1)},[o,c,d]);const T=(I,M)=>{Zv(I,{assignedTo:M||void 0}),b(P=>P+1)};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:w?`Tickets for ${((O=g.find(I=>I.id===w))==null?void 0:O.name)||"Project"}`:"All Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:w?"View all tickets for this project":"View and manage all tickets in the system"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(K,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),w&&s.jsx(K,{to:`/admin/projects/${w}`,className:"btn-outline",children:"View Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Tickets (",A.length,")"]})}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsxs("select",{value:c,onChange:I=>u(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority:"}),s.jsxs("select",{value:d,onChange:I=>h(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs("select",{value:i,onChange:I=>a(Number(I.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search tickets..."})]})]}),(c!=="all"||d!=="all"||o)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Status: ",c.replace("_"," "),s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Priority: ",d,s.jsx("button",{onClick:()=>h("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),o&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:['Search: "',o,'"',s.jsx("button",{onClick:()=>l(""),className:"ml-1 hover:text-primary-dark",children:""})]}),s.jsx("button",{onClick:()=>{u("all"),h("all"),l("")},className:"text-primary hover:text-primary-dark text-xs underline",children:"Clear all"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Title"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Assigned To"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Created"})]})}),s.jsxs("tbody",{children:[N.map((I,M)=>{const P=g.find(F=>F.id===I.projectId);return s.jsxs("tr",{className:`${M%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:k+M+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:I.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:P?s.jsx("div",{className:"font-medium text-foreground",children:P.name}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Unknown Project"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(ac,{priority:I.priority})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Sr,{status:I.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:I.type.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:I.assignedTo||"",onChange:F=>T(I.id,F.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground min-w-[120px]",children:[s.jsx("option",{value:"",children:"Not assigned"}),y.filter(F=>F.role==="web_developer"||F.role==="social_media_coordinator").map(F=>s.jsx("option",{value:F.id,children:F.fullName},F.id))]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:Dn(I.createdAt)})})]},I.id)}),!N.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})]})]})}),j>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",k+1,"-",Math.min(S,A.length)," of ",A.length," tickets"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(I=>Math.max(1,I-1)),disabled:f===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,j)},(I,M)=>{const P=Math.max(1,Math.min(j-4,f-2))+M;return P>j?null:s.jsx("button",{onClick:()=>p(P),className:`px-3 py-1 text-sm border rounded ${P===f?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:P},P)})}),s.jsx("button",{onClick:()=>p(I=>Math.min(j,I+1)),disabled:f===j,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(ye,{})]})}function Tve(){const{user:t,isSignedIn:e}=me(),r=ge();return C.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/tickets");break;case"web_developer":r("/developer/tickets");break;case"social_media_coordinator":r("/coordinator/dashboard");break;case"client":r("/client/tickets");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Eve(){const{user:t,isSignedIn:e}=me(),r=ge();return C.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/analytics");break;case"web_developer":r("/developer/analytics");break;case"social_media_coordinator":r("/coordinator/analytics");break;case"client":r("/client/analytics");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Pve(){const{isSignedIn:t,user:e}=me(),r=ge(),i=Yl().id,[a,o]=C.useState(null),[l,c]=C.useState([]),[u,d]=C.useState({name:"",description:"",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",notes:""});C.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const x=Ql(i);if(!x){r("/admin/dashboard");return}o(x),d(y=>{const w={name:x.name,description:x.description,websiteUrl:x.websiteUrl||"",googleAnalyticsPropertyId:x.googleAnalyticsPropertyId||"",googleAnalyticsViewId:x.googleAnalyticsViewId||"",clientId:x.clientId,webDeveloperId:x.webDeveloperId||"",socialMediaCoordinatorId:x.socialMediaCoordinatorId||"",currentStage:x.currentStage,status:x.status,notes:x.notes||""};return JSON.stringify(y)!==JSON.stringify(w)?w:y});const g=Le();c(g)},[t,e,i,r]);const h=x=>{x.preventDefault();const g=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]"),y=g.findIndex(w=>w.id===i);y!==-1&&(g[y]={...g[y],...u,webDeveloperId:u.webDeveloperId||void 0,socialMediaCoordinatorId:u.socialMediaCoordinatorId||void 0,updatedAt:new Date},localStorage.setItem("marketing_management_website_projects",JSON.stringify(g)),alert("Project updated successfully!"),r("/admin/dashboard"))},f=x=>{const{name:g,value:y}=x.target;d(w=>({...w,[g]:y}))};if(!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const p=l.filter(x=>x.role==="client"),v=l.filter(x=>x.role==="web_developer"),b=l.filter(x=>x.role==="social_media_coordinator");return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project details and assignments"})]}),s.jsx("form",{onSubmit:h,className:"card",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:u.description,onChange:f,required:!0,rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",name:"websiteUrl",value:u.websiteUrl,onChange:f,placeholder:"https://example.com",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team Assignment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"clientId",value:u.clientId,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a client"}),p.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{name:"webDeveloperId",value:u.webDeveloperId,onChange:f,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),v.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Developer will see this project in their dashboard and can work on tickets"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Social Media Coordinator"}),s.jsxs("select",{name:"socialMediaCoordinatorId",value:u.socialMediaCoordinatorId,onChange:f,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),b.map(x=>s.jsxs("option",{value:x.id,children:[x.fullName," (",x.email,")"]},x.id))]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Current Stage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"currentStage",value:u.currentStage,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:f,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"GA4 Property ID"}),s.jsx("input",{type:"text",name:"googleAnalyticsPropertyId",value:u.googleAnalyticsPropertyId,onChange:f,placeholder:"G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"View ID (Legacy)"}),s.jsx("input",{type:"text",name:"googleAnalyticsViewId",value:u.googleAnalyticsViewId,onChange:f,placeholder:"123456789",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:u.notes,onChange:f,rows:4,placeholder:"Add any additional notes about this project...",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition",children:"Cancel"})]})]})})]})})}),s.jsx(ye,{})]})}function Ive(){const{isSignedIn:t,user:e}=me(),r=ge(),i=Yl().id,[a,o]=C.useState(null);if(C.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const c=Ql(i);if(!c){r("/admin/dashboard");return}o(c)},[t,e,i,r]),!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l={pageViews:12543,uniqueVisitors:8921,bounceRate:42.3,avgSessionDuration:"3:24",topPages:[{page:"/",views:4521},{page:"/about",views:3214},{page:"/services",views:2890},{page:"/contact",views:1988}],trafficSources:[{source:"Organic Search",sessions:5234,percentage:45.2},{source:"Direct",sessions:3121,percentage:27},{source:"Social Media",sessions:1890,percentage:16.3},{source:"Referral",sessions:1456,percentage:12.6}]};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics for ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:"Google Analytics data and insights"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(K,{to:`/admin/projects/${i}`,className:"btn-outline",children:"View Project"}),s.jsx(K,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"})]})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsPropertyId||"Not configured"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID (Legacy)"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsViewId||"Not configured"})]})]}),a.websiteUrl&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.websiteUrl})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.pageViews.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Page Views"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.uniqueVisitors.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[l.bounceRate,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce Rate"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.avgSessionDuration}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Top Pages"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Page"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Page Views"})]})}),s.jsx("tbody",{children:l.topPages.map((c,u)=>s.jsxs("tr",{className:u%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:c.page}),s.jsx("td",{className:"px-4 py-3",children:c.views.toLocaleString()})]},u))})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Traffic Sources"}),s.jsx("div",{className:"space-y-4",children:l.trafficSources.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:c.source}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.sessions.toLocaleString()," sessions"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-lg font-bold text-primary",children:[c.percentage,"%"]})})]},u))})]})]})}),s.jsx(ye,{})]})}function Cve(){const{user:t}=me(),[e,r]=C.useState(()=>localStorage.getItem("useMockAuth")!=="false"),n=()=>{const i=!e;r(i),localStorage.setItem("useMockAuth",i.toString()),alert(`Authentication mode changed to ${i?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),s.jsx(K,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Current Authentication Status"}),s.jsxs("p",{className:"text-primary/80 mb-4",children:[s.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",s.jsx("br",{}),s.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:n,className:"btn-primary",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),s.jsx("span",{className:"text-sm text-primary",children:" Requires page refresh to take effect"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),s.jsx("li",{children:"Data persists in browser localStorage"}),s.jsx("li",{children:"No Firebase setup required"}),s.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Works offline"}),s.jsx("li",{children:"Fast development setup"}),s.jsx("li",{children:"No external dependencies"}),s.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),s.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Create a Firebase project at ",s.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),s.jsx("li",{children:"Enable Authentication and Firestore Database"}),s.jsxs("li",{children:["Copy your Firebase config to ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),s.jsxs("li",{children:["In ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),s.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),s.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),s.jsxs("div",{className:"bg-secondary/10 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:" Switching to Firebase:"}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",s.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),s.jsx("p",{className:"text-sm text-primary/80",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Secure user authentication"}),s.jsx("li",{children:"Real-time data synchronization"}),s.jsx("li",{children:"Scalable database solution"}),s.jsx("li",{children:"User management dashboard"})]})]})]})]}),s.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),s.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),s.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(K,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),s.jsx(K,{to:"/login",className:"btn-outline",children:"Test Login"}),s.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),s.jsx(ye,{})]})}function Ove(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[a,o]=C.useState(!1);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=async c=>{c.preventDefault(),o(!0);try{const u={id:`user-${Date.now()}`,...n,createdAt:new Date,updatedAt:new Date};a8(u),alert(`User "${n.fullName}" created successfully!`),r("/admin/users")}catch(u){console.error("Error creating user:",u),alert("Failed to create user. Please try again.")}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),s.jsxs(K,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),s.jsxs("form",{onSubmit:l,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"fullName",required:!0,value:n.fullName,onChange:c=>i({...n,fullName:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",required:!0,value:n.email,onChange:c=>i({...n,email:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",id:"phone",required:!0,value:n.phone,onChange:c=>i({...n,phone:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),s.jsxs("select",{id:"role",required:!0,value:n.role,onChange:c=>i({...n,role:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"web_developer",children:"Web Developer"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),s.jsx("input",{type:"password",id:"password",required:!0,value:n.password,onChange:c=>i({...n,password:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:c=>i({...n,isActive:c.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"btn-outline flex-1",disabled:a,children:"Cancel"})]})]})]})}),s.jsx(ye,{})]})}function Mve(){const{isSignedIn:t,user:e}=me(),r=ge();if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=gn(e.id,e.role),i=ih(e.id,e.role),a={assignedProjects:n.length,openTickets:i.filter(c=>c.status==="open").length,inProgressTickets:i.filter(c=>c.status==="in_progress").length,resolvedTickets:i.filter(c=>c.status==="resolved").length},o=n.slice(0,3),l=i.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(pr,{title:"Assigned Projects",value:a.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(pr,{title:"Open Tickets",value:a.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(pr,{title:"In Progress",value:a.inProgressTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(pr,{title:"Resolved",value:a.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(K,{to:"/developer/tickets",className:"btn-primary",children:"View Tickets"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"})}),o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(c=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:c.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:c.description})]}),s.jsx(Sr,{status:c.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary/10 text-primary text-xs font-medium",children:Di(c.currentStage)}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",Dn(c.updatedAt)]})]})]},c.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"})}),l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(c=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:c.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:PW(c.type)})]}),s.jsx(ac,{priority:c.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Sr,{status:c.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Dn(c.createdAt)})]})]},c.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),s.jsx(ye,{})]})}function Dve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState("all"),[a,o]=C.useState(""),[l,c]=C.useState([]),[u,d]=C.useState(0);C.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]);const h=()=>{if(e){const g=ih(e.id,e.role);c(g)}};if(C.useEffect(()=>{h()},[e,u]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=l,p=f.filter(g=>n==="all"||g.status===n).filter(g=>!a||g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())||g.id.toLowerCase().includes(a.toLowerCase())),v=(g,y)=>{Zv(g,{status:y}),d(w=>w+1)},b={totalAssigned:f.length,critical:f.filter(g=>g.priority==="critical"&&g.status!=="resolved"&&g.status!=="closed").length,overSevenDays:f.filter(g=>Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/864e5)>7&&g.status!=="resolved"&&g.status!=="closed").length},x=g=>Math.floor((new Date().getTime()-new Date(g).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),s.jsx(K,{to:"/developer/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:b.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:b.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:b.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex gap-4 flex-wrap items-center justify-between",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(g=>{const y=Ql(g.projectId),w=x(g.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(K,{to:`/projects/${g.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(y==null?void 0:y.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("select",{value:g.status,onChange:A=>v(g.id,A.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]}),g.status==="resolved"&&s.jsx("textarea",{placeholder:g.resolutionNotes||"Add resolution notes...",defaultValue:g.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:A=>{const j=A.target.value.trim();j&&j!==g.resolutionNotes&&(Zv(g.id,{resolutionNotes:j}),d(k=>k+1))}})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),g.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),g.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),g.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:w})})]},g.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(ye,{})]})}function Rve(){const{isSignedIn:t,user:e}=me(),r=ge();if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=gn(e.id,e.role),i=Ya(),a=n.map(p=>p.id),o=i.filter(p=>a.includes(p.projectId)),l=o.reduce((p,v)=>p+v.reach,0),c=o.reduce((p,v)=>p+v.engagement,0),u=o.reduce((p,v)=>p+v.posts,0),d={assignedProjects:n.length,totalReach:l,totalEngagement:c,totalPosts:u},h=n.slice(0,3),f=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(pr,{title:"Assigned Projects",value:d.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(pr,{title:"Total Reach",value:fu(d.totalReach),icon:s.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),s.jsx(pr,{title:"Total Engagement",value:fu(d.totalEngagement),icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx(pr,{title:"Total Posts",value:d.totalPosts,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(K,{to:"/coordinator/analytics/new",className:"btn-outline",children:"+ Add Analytics Entry"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(K,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(p=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),p.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),p.projectType==="website"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:"Website"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:p.description})]}),s.jsx(Sr,{status:p.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:Di(p.currentStage)}),p.projectType==="social_media"&&p.socialMediaPlatforms&&s.jsxs("div",{className:"flex gap-1",children:[p.socialMediaPlatforms.slice(0,3).map(v=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:v},v)),p.socialMediaPlatforms.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",p.socialMediaPlatforms.length-3]})]})]})]},p.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),s.jsx(K,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(p=>{const v=n.find(b=>b.id===p.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground capitalize",children:p.platform}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v==null?void 0:v.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:X4(p.date)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-semibold text-foreground",children:fu(p.reach)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-semibold text-foreground",children:fu(p.engagement)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-semibold text-foreground",children:p.posts})]})]})]},p.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No analytics entries yet."}),s.jsx(K,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),s.jsx(ye,{})]})}function Lve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState({});if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),C.useEffect(()=>{if(e){const c=gn(e.id,e.role);i(c);const u=Ya(),d={};c.forEach(h=>{const f=u.filter(p=>p.projectId===h.id);d[h.id]=f}),o(d)}},[e]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=c=>{const u=a[c]||[],d=u.reduce((p,v)=>p+v.reach,0),h=u.reduce((p,v)=>p+v.engagement,0),f=u.reduce((p,v)=>p+v.posts,0);return{totalReach:d,totalEngagement:h,totalPosts:f,entryCount:u.length}};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your assigned social media projects"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(c=>{const u=l(c.id);return s.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:c.name}),c.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:c.description})]}),s.jsx(Sr,{status:c.status})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Stage:"}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:Di(c.currentStage)})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Analytics Entries:"}),s.jsx("span",{className:"font-medium",children:u.entryCount})]}),u.entryCount>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Reach:"}),s.jsx("span",{className:"font-medium",children:u.totalReach.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Engagement:"}),s.jsx("span",{className:"font-medium",children:u.totalEngagement.toLocaleString()})]})]})]}),c.socialMediaPlatforms&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Platforms:"}),s.jsxs("div",{className:"flex gap-1 flex-wrap",children:[c.socialMediaPlatforms.slice(0,4).map(d=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:d},d)),c.socialMediaPlatforms.length>4&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",c.socialMediaPlatforms.length-4]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{to:`/analytics/${c.id}`,className:"flex-1 btn-outline text-sm text-center",children:"View Analytics"}),s.jsx(K,{to:"/coordinator/analytics/new",className:"btn-primary text-sm text-center px-4 py-2",children:"+ Add Entry"})]})]})},c.id)})}),n.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No projects assigned yet."})})]})}),s.jsx(ye,{})]})}function $ve(){const{user:t}=me(),e=ge(),[r,n]=C.useState({projectId:"",platform:"instagram",date:new Date().toISOString().split("T")[0],reach:"",engagement:"",posts:"",notes:""}),[i,a]=C.useState(!1);if(!t||t.role!=="social_media_coordinator")return null;const l=gn(t.id,t.role).filter(d=>d.projectType==="social_media"),c=async d=>{if(d.preventDefault(),!r.projectId||!r.reach||!r.engagement||!r.posts){alert("Please fill in all required fields");return}a(!0);try{const h={id:`analytics-${Date.now()}`,projectId:r.projectId,platform:r.platform,date:new Date(r.date),reach:parseInt(r.reach),engagement:parseInt(r.engagement),posts:parseInt(r.posts),recordedBy:t.id,notes:r.notes||void 0,createdAt:new Date};o8(h),e("/coordinator/dashboard")}catch(h){console.error("Error adding analytics entry:",h),alert("Failed to add analytics entry")}finally{a(!1)}},u=d=>{const{name:h,value:f}=d.target;n(p=>({...p,[h]:f}))};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>e("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Add New Analytics Entry"}),s.jsx("p",{className:"text-muted-foreground",children:"Record your social media performance metrics"})]}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",role:"form","aria-labelledby":"form-title",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project *"}),s.jsxs("select",{name:"projectId",value:r.projectId,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a project"}),l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platform *"}),s.jsxs("select",{name:"platform",value:r.platform,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"instagram",children:"Instagram"}),s.jsx("option",{value:"facebook",children:"Facebook"}),s.jsx("option",{value:"twitter",children:"Twitter"}),s.jsx("option",{value:"linkedin",children:"LinkedIn"}),s.jsx("option",{value:"tiktok",children:"TikTok"}),s.jsx("option",{value:"youtube",children:"YouTube"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Date *"}),s.jsx("input",{type:"date",name:"date",value:r.date,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Reach *"}),s.jsx("input",{type:"number",name:"reach",value:r.reach,onChange:u,placeholder:"e.g., 15000",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Engagement *"}),s.jsx("input",{type:"number",name:"engagement",value:r.engagement,onChange:u,placeholder:"e.g., 850",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Posts *"}),s.jsx("input",{type:"number",name:"posts",value:r.posts,onChange:u,placeholder:"e.g., 5",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:r.notes,onChange:u,placeholder:"Additional notes or observations...",rows:4,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"button",onClick:()=>e("/coordinator/dashboard"),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50",children:i?"Adding...":"Add Entry"})]})]})})]})})}),s.jsx(ye,{})]})}function Up({fullName:t,profileImage:e,size:r="md",className:n=""}){const i={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return s.jsx("div",{className:`${i[r]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${n}`,title:t,children:e?s.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):IW(t)})}function Vve(){const{isSignedIn:t,user:e}=me(),r=ge();if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=gn(e.id,e.role),i=ih(e.id,e.role),a=Le(),o={myProjects:n.length,activeTickets:i.filter(u=>u.status==="open"||u.status==="in_progress").length,resolvedTickets:i.filter(u=>u.status==="resolved").length,inProgressProjects:n.filter(u=>u.status==="active").length},l=n.slice(0,3),c=i.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(pr,{title:"My Projects",value:o.myProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(pr,{title:"In Progress",value:o.inProgressProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(pr,{title:"Active Tickets",value:o.activeTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),s.jsx(pr,{title:"Resolved",value:o.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(K,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(K,{to:"/client/projects",className:"btn-outline",children:"View All Projects"}),s.jsx(K,{to:"/client/tickets",className:"btn-outline",children:"View All Tickets"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(K,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(u=>{const d=a.find(p=>p.id===u.webDeveloperId),h=a.find(p=>p.id===u.socialMediaCoordinatorId),f=J4(u.currentStage);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:u.description})]}),s.jsx(Sr,{status:u.status})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[f.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${f}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:Di(u.currentStage)}),s.jsxs("div",{className:"flex items-center gap-1",children:[d&&s.jsx(Up,{fullName:d.fullName,size:"sm"}),h&&s.jsx(Up,{fullName:h.fullName,size:"sm"})]})]})]},u.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),s.jsx(K,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),c.length>0?s.jsx("div",{className:"space-y-4",children:c.map(u=>{const d=a.find(h=>h.id===u.assignedTo);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:u.title}),d&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",d.fullName]})]}),s.jsx(ac,{priority:u.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Sr,{status:u.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Dn(u.createdAt)})]})]},u.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No tickets yet."}),s.jsx(K,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),s.jsx(ye,{})]})}function Fve(){const{isSignedIn:t,user:e}=me(),r=ge();if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=gn(e.id,e.role),i=Le();return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),s.jsx(K,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(a=>{const o=i.find(u=>u.id===a.webDeveloperId),l=i.find(u=>u.id===a.socialMediaCoordinatorId),c=J4(a.currentStage);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.name}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description})]}),s.jsx(Sr,{status:a.status})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[c.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${c}%`}})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary",children:Di(a.currentStage)})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Up,{fullName:o.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Up,{fullName:l.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(K,{to:`/client/tickets/new?project=${a.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),s.jsx("button",{className:"btn-outline flex-1",children:"View Details"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Dn(a.updatedAt)]})})]},a.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),s.jsx(ye,{})]})}function Bve(){const{isSignedIn:t,user:e}=me(),r=ge();if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ih(e.id,e.role),i=Xt(),a=Le();return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(K,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"}),s.jsx(K,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"})]})]})}),s.jsx("div",{className:"space-y-4",children:n.length>0?n.map(o=>{const l=i.find(u=>u.id===o.projectId),c=a.find(u=>u.id===o.assignedTo);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:o.title}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:o.description}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",s.jsx("span",{className:"font-medium",children:l.name})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Sr,{status:o.status}),s.jsx(ac,{priority:o.priority})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Type: ",o.type.replace("_"," ")]}),c&&s.jsxs("span",{children:["Assigned to: ",c.fullName]}),s.jsx("span",{children:Dn(o.createdAt)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),s.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},o.id)}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),s.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),s.jsx(K,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),s.jsx(ye,{})]})}function Uve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState("medium"),[u,d]=C.useState("feature_request"),[h,f]=C.useState(""),[p,v]=C.useState(!1);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login");const y=new URLSearchParams(window.location.search).get("project");y&&f(y)},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const b=gn(e.id,e.role);Le();const x=async g=>{g.preventDefault(),v(!0);const y={id:`ticket-${Date.now()}`,projectId:h,createdBy:e.id,title:n,description:a,type:u,priority:l,status:"open",createdAt:new Date,updatedAt:new Date};s8(y),i(""),o(""),c("medium"),d("feature_request"),f(""),v(!1),r("/client/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),s.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),s.jsx(K,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),s.jsxs("select",{value:h,onChange:g=>f(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[s.jsx("option",{value:"",children:"Choose a project..."}),b.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),s.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"content_change",children:"Content Change"}),s.jsx("option",{value:"design_update",children:"Design Update"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),s.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{value:a,onChange:g=>o(g.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:p||!h,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating...":"Create Ticket"}),s.jsx(K,{to:"/client/dashboard",className:"btn-outline",children:"Cancel"})]})]})}),s.jsxs("div",{className:"mt-8 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2",children:" Ticket Guidelines"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsx("li",{children:" Be specific about what you need"}),s.jsx("li",{children:" Include any relevant details or examples"}),s.jsx("li",{children:" Choose the appropriate priority level"}),s.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),s.jsx(ye,{})]})}function zve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState(""),[a,o]=C.useState({tickets:[],projects:[],users:[],messages:[]}),[l,c]=C.useState(!1),[u,d]=C.useState({projects:!0,tickets:!0,users:!0,messages:!0});if(C.useEffect(()=>{t||r("/login")},[t,r]),C.useEffect(()=>{if(!n.trim()){o({tickets:[],projects:[],users:[],messages:[]});return}c(!0);const f=n.toLowerCase(),p=u.tickets?xr().filter(g=>g.title.toLowerCase().includes(f)||g.description.toLowerCase().includes(f)||g.id.toLowerCase().includes(f)||g.type.replace("_"," ").toLowerCase().includes(f)):[],v=u.projects?Xt().filter(g=>g.name.toLowerCase().includes(f)||g.description.toLowerCase().includes(f)||g.id.toLowerCase().includes(f)):[],b=u.users?Le().filter(g=>g.fullName.toLowerCase().includes(f)||g.email.toLowerCase().includes(f)||g.role.toLowerCase().includes(f)):[],x=u.messages?nh().filter(g=>g.subject&&g.subject.toLowerCase().includes(f)||g.content&&g.content.toLowerCase().includes(f)):[];o({tickets:p,projects:v,users:b,messages:x}),c(!1)},[n,u]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=a.tickets.length+a.projects.length+a.users.length+a.messages.length;return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:e.role==="admin"?"/admin/dashboard":e.role==="web_developer"?"/developer/dashboard":e.role==="social_media_coordinator"?"/coordinator/dashboard":"/client-portal/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Global Search"}),s.jsx("p",{className:"text-muted-foreground",children:"Find anything across your entire workspace - projects, tickets, users, and messages"})]})]}),s.jsx("div",{className:"card mb-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"Search for projects, tickets, users, messages...",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Search in:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(u).map(([f,p])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:v=>d(b=>({...b,[f]:v.target.checked})),className:"rounded border-border"}),s.jsx("span",{className:"text-sm text-foreground capitalize",children:f})]},f))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/70 transition text-sm",disabled:!n,children:"Clear Search"})})]})}),n&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center",children:l?s.jsx("p",{className:"text-muted-foreground",children:"Searching..."}):s.jsxs("p",{className:"text-muted-foreground",children:["Found ",h," result",h!==1?"s":"",' for "',n,'"']})}),a.tickets.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Tickets (",a.tickets.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.tickets.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:f.type.replace("_"," ")}),s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded",children:f.status.replace("_"," ")})]})]}),s.jsx(K,{to:"/admin/tickets",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.projects.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Projects (",a.projects.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.projects.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:f.status})})]}),s.jsx(K,{to:`/admin/projects/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.users.length>0&&e.role==="admin"&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Users (",a.users.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.users.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.email}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:f.role})})]}),e.role==="admin"&&s.jsx(K,{to:`/admin/users/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.messages.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Messages (",a.messages.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.messages.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.subject||"No Subject"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:f.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Message"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString()})]})]}),s.jsx(K,{to:"/messages",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),h===0&&!l&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-6xl",children:""})}),s.jsx("p",{className:"text-xl font-medium text-muted-foreground mb-2",children:"0 results found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try different keywords or check your spelling"}),s.jsxs("div",{className:"card max-w-2xl mx-auto text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" Search Tips"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"What you can search:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Project names and descriptions"}),s.jsx("li",{children:" Ticket titles and content"}),s.jsx("li",{children:" User names and roles"}),s.jsx("li",{children:" Message subjects and content"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Advanced features:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Filter by content type"}),s.jsx("li",{children:" Relevance-based ranking"}),s.jsx("li",{children:" Real-time search results"}),s.jsx("li",{children:" Direct navigation to results"})]})]})]})]})]})]})]})}),s.jsx(ye,{})]})}const Wve=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function Hve(){const{isSignedIn:t,user:e,switchRole:r}=me(),n=ge();if(C.useEffect(()=>{t||n("/login")},[t,n]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=a=>{r(a),setTimeout(()=>{n(a==="admin"?"/admin/dashboard":"/dashboard")},300)};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",s.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:e.role.replace("_"," ").toUpperCase()})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Wve.map(a=>{const o=e.role===a.value;return s.jsxs("button",{onClick:()=>!o&&i(a.value),disabled:o,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${o?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[o&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),s.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-white/20":"bg-primary/10"}`,children:[a.value==="admin"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-primary"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.value==="web_developer"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),a.value==="social_media_coordinator"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),a.value==="client"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),s.jsx("h2",{className:`text-2xl font-bold mb-3 ${o?"text-white":"text-[#1e2875]"}`,children:a.label}),s.jsx("p",{className:`text-sm leading-relaxed ${o?"text-white/90":"text-muted-foreground"}`,children:a.description}),!o&&s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[s.jsx("span",{children:"Click to switch"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},a.value)})}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-white shadow-md hover:shadow-lg transition text-[#1e2875] font-semibold",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),s.jsx(ye,{})]})}function qve(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState("website"),[a,o]=C.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",notes:"",campaignGoals:"",targetAudience:""}),[l,c]=C.useState([]);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=Le(),d=u.filter(x=>x.role==="client"),h=u.filter(x=>x.role==="web_developer"),f=u.filter(x=>x.role==="social_media_coordinator"),p=["facebook","instagram","twitter","linkedin","tiktok","youtube"],v=x=>{c(g=>g.includes(x)?g.filter(y=>y!==x):[...g,x])},b=x=>{x.preventDefault(),{...a},alert(`${n==="website"?"Website":"Social Media"} project "${a.name}" created successfully!`),r("/admin/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),s.jsxs(K,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{type:"button",onClick:()=>i("website"),className:`p-6 border-2 rounded-lg transition ${n==="website"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),s.jsx("button",{type:"button",onClick:()=>i("social_media"),className:`p-6 border-2 rounded-lg transition ${n==="social_media"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),s.jsxs("form",{onSubmit:b,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),s.jsx("input",{type:"text",id:"name",required:!0,value:a.name,onChange:x=>o({...a,name:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",required:!0,value:a.description,onChange:x=>o({...a,description:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),s.jsxs("select",{id:"clientId",required:!0,value:a.clientId,onChange:x=>o({...a,clientId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a client"}),d.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),s.jsxs("select",{id:"currentStage",required:!0,value:a.currentStage,onChange:x=>o({...a,currentStage:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),n==="website"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{id:"webDeveloperId",value:a.webDeveloperId,onChange:x=>o({...a,webDeveloperId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a developer (optional)"}),h.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",n==="social_media"&&"*"]}),s.jsxs("select",{id:"socialMediaCoordinatorId",required:n==="social_media",value:a.socialMediaCoordinatorId,onChange:x=>o({...a,socialMediaCoordinatorId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsxs("option",{value:"",children:["Select a coordinator ",n==="website"&&"(optional)"]}),f.map(x=>s.jsx("option",{value:x.id,children:x.fullName},x.id))]})]})]}),n==="website"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",id:"websiteUrl",value:a.websiteUrl,onChange:x=>o({...a,websiteUrl:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsPropertyId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics Property ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsPropertyId",value:a.googleAnalyticsPropertyId,onChange:x=>o({...a,googleAnalyticsPropertyId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"G-XXXXXXXXXX"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsViewId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics View ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsViewId",value:a.googleAnalyticsViewId,onChange:x=>o({...a,googleAnalyticsViewId:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"123456789"})]})]})]}),n==="social_media"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platforms *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(x=>s.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[s.jsx("input",{type:"checkbox",checked:l.includes(x),onChange:()=>v(x),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("span",{className:"text-sm font-medium capitalize",children:x})]},x))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),s.jsx("textarea",{id:"campaignGoals",required:!0,value:a.campaignGoals,onChange:x=>o({...a,campaignGoals:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),s.jsx("textarea",{id:"targetAudience",required:!0,value:a.targetAudience,onChange:x=>o({...a,targetAudience:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",value:a.notes,onChange:x=>o({...a,notes:x.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Create ",n==="website"?"Website":"Social Media"," Project"]}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"btn-outline flex-1",children:"Cancel"})]})]})]})}),s.jsx(ye,{})]})}const U3=6048e5,Gve=864e5,Kve=6e4,BE=Symbol.for("constructDateFrom");function pn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&BE in t?t[BE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Qt(t,e){return pn(e||t,t)}function zp(t,e,r){const n=Qt(t,r==null?void 0:r.in);return isNaN(e)?pn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function z3(t,e,r){const n=Qt(t,r==null?void 0:r.in);if(isNaN(e))return pn(t,NaN);if(!e)return n;const i=n.getDate(),a=pn(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let Yve={};function Ah(){return Yve}function ei(t,e){var l,c,u,d;const r=Ah(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Qt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Wp(t,e){return ei(t,{...e,weekStartsOn:1})}function W3(t,e){const r=Qt(t,e==null?void 0:e.in),n=r.getFullYear(),i=pn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Wp(i),o=pn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Wp(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function UE(t){const e=Qt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xx(t,...e){const r=pn.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Hp(t,e){const r=Qt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Xve(t,e,r){const[n,i]=xx(r==null?void 0:r.in,t,e),a=Hp(n),o=Hp(i),l=+a-UE(a),c=+o-UE(o);return Math.round((l-c)/Gve)}function Qve(t,e){const r=W3(t,e),n=pn(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wp(n)}function H3(t,e,r){return zp(t,e*7,r)}function zE(t,e,r){const[n,i]=xx(r==null?void 0:r.in,t,e);return+Hp(n)==+Hp(i)}function Jve(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Zve(t){return!(!Jve(t)&&typeof t!="number"||isNaN(+Qt(t)))}function ebe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function tbe(t,e){return+Qt(t)-+Qt(e)}function WE(t,e,r){const n=tbe(t,e)/Kve;return ebe(r==null?void 0:r.roundingMethod)(n)}function rbe(t,e){const r=Qt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function nbe(t,e){const[r,n]=xx(t,e.start,e.end);return{start:r,end:n}}function HE(t,e){const{start:r,end:n}=nbe(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(pn(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function q3(t,e){const r=Qt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ibe(t,e){const r=Qt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qE(t,e){var l,c;const r=Ah(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Qt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const sbe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},abe=(t,e,r)=>{let n;const i=sbe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Jy(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const obe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ube={date:Jy({formats:obe,defaultWidth:"full"}),time:Jy({formats:lbe,defaultWidth:"full"}),dateTime:Jy({formats:cbe,defaultWidth:"full"})},dbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hbe=(t,e,r,n)=>dbe[t];function tu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const fbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ybe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vbe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bbe={ordinalNumber:vbe,era:tu({values:fbe,defaultWidth:"wide"}),quarter:tu({values:mbe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:tu({values:pbe,defaultWidth:"wide"}),day:tu({values:gbe,defaultWidth:"wide"}),dayPeriod:tu({values:xbe,defaultWidth:"wide",formattingValues:ybe,defaultFormattingWidth:"wide"})};function ru(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jbe(l,h=>h.test(o)):wbe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function wbe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function jbe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nbe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const _be=/^(\d+)(th|st|nd|rd)?/i,Sbe=/\d+/i,Abe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kbe={any:[/^b/i,/^(a|c)/i]},Tbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ebe={any:[/1/i,/2/i,/3/i,/4/i]},Pbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ibe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Obe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rbe={ordinalNumber:Nbe({matchPattern:_be,parsePattern:Sbe,valueCallback:t=>parseInt(t,10)}),era:ru({matchPatterns:Abe,defaultMatchWidth:"wide",parsePatterns:kbe,defaultParseWidth:"any"}),quarter:ru({matchPatterns:Tbe,defaultMatchWidth:"wide",parsePatterns:Ebe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ru({matchPatterns:Pbe,defaultMatchWidth:"wide",parsePatterns:Ibe,defaultParseWidth:"any"}),day:ru({matchPatterns:Cbe,defaultMatchWidth:"wide",parsePatterns:Obe,defaultParseWidth:"any"}),dayPeriod:ru({matchPatterns:Mbe,defaultMatchWidth:"any",parsePatterns:Dbe,defaultParseWidth:"any"})},Lbe={code:"en-US",formatDistance:abe,formatLong:ube,formatRelative:hbe,localize:bbe,match:Rbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $be(t,e){const r=Qt(t,e==null?void 0:e.in);return Xve(r,ibe(r))+1}function Vbe(t,e){const r=Qt(t,e==null?void 0:e.in),n=+Wp(r)-+Qve(r);return Math.round(n/U3)+1}function G3(t,e){var d,h,f,p;const r=Qt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Ah(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=pn((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=ei(o,e),c=pn((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=ei(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Fbe(t,e){var l,c,u,d;const r=Ah(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=G3(t,e),a=pn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ei(a,e)}function Bbe(t,e){const r=Qt(t,e==null?void 0:e.in),n=+ei(r,e)-+Fbe(r,e);return Math.round(n/U3)+1}function Fe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ns={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Fe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Fe(r+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Fe(i,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GE={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ns.y(t,e)},Y:function(t,e,r,n){const i=G3(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Fe(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Fe(a,e.length)},R:function(t,e){const r=W3(t);return Fe(r,e.length)},u:function(t,e){const r=t.getFullYear();return Fe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ns.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Bbe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Fe(i,e.length)},I:function(t,e,r){const n=Vbe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Fe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ns.d(t,e)},D:function(t,e,r){const n=$be(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Fe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Fe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Fe(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Fe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=vo.noon:n===0?i=vo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=vo.evening:n>=12?i=vo.afternoon:n>=4?i=vo.morning:i=vo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ns.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ns.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ns.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ns.s(t,e)},S:function(t,e){return ns.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return YE(n);case"XXXX":case"XX":return ma(n);case"XXXXX":case"XXX":default:return ma(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return YE(n);case"xxxx":case"xx":return ma(n);case"xxxxx":case"xxx":default:return ma(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KE(n,":");case"OOOO":default:return"GMT"+ma(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KE(n,":");case"zzzz":default:return"GMT"+ma(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Fe(n,e.length)},T:function(t,e,r){return Fe(+t,e.length)}};function KE(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Fe(a,2)}function YE(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):ma(t,e)}function ma(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Fe(Math.trunc(n/60),2),a=Fe(n%60,2);return r+i+e+a}const XE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},K3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ube=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return XE(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",XE(n,e)).replace("{{time}}",K3(i,e))},zbe={p:K3,P:Ube},Wbe=/^D+$/,Hbe=/^Y+$/,qbe=["D","DD","YY","YYYY"];function Gbe(t){return Wbe.test(t)}function Kbe(t){return Hbe.test(t)}function Ybe(t,e,r){const n=Xbe(t,e,r);if(console.warn(n),qbe.includes(t))throw new RangeError(n)}function Xbe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zbe=/^'([^]*?)'?$/,e0e=/''/g,t0e=/[a-zA-Z]/;function it(t,e,r){var d,h,f,p;const n=Ah(),i=n.locale??Lbe,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Qt(t,r==null?void 0:r.in);if(!Zve(l))throw new RangeError("Invalid time value");let c=e.match(Jbe).map(v=>{const b=v[0];if(b==="p"||b==="P"){const x=zbe[b];return x(v,i.formatLong)}return v}).join("").match(Qbe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:r0e(v)};if(GE[b])return{isToken:!0,value:v};if(b.match(t0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const b=v.value;(Kbe(b)||Gbe(b))&&Ybe(b,e,String(t));const x=GE[b[0]];return x(l,b,i.localize,u)}).join("")}function r0e(t){const e=t.match(Zbe);return e?e[1].replace(e0e,"'"):t}function n0e(t,e,r){const[n,i]=xx(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function Y3(t,e,r){return zp(t,-e,r)}function i0e(t,e,r){return z3(t,-1,r)}function s0e(t,e,r){return H3(t,-1,r)}function a0e(){const{isSignedIn:t,user:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState(null),[h,f]=C.useState(!1),[p,v]=C.useState({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1});C.useEffect(()=>{t||r("/login")},[t,r]),C.useEffect(()=>{e&&(i(Ma(e.id)),o(Le()),c(Xt()))},[e]);const b=k=>{c8(k),i(S=>S.map(N=>N.id===k?{...N,isRead:!0}:N))},x=k=>{window.confirm("Are you sure you want to delete this message?")&&u8(k)&&(i(S=>S.filter(N=>N.id!==k)),(u==null?void 0:u.id)===k&&d(null))},g=()=>{if(!e||!p.subject.trim()||!p.content.trim())return;const k={id:`message-${Date.now()}`,senderId:e.id,recipientId:p.isBroadcast?void 0:p.recipientId||void 0,subject:p.subject,content:p.content,isRead:!1,isBroadcast:p.isBroadcast,projectId:p.projectId||void 0,createdAt:new Date,updatedAt:new Date};d8(k),i(S=>[k,...S]),v({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1}),f(!1)},y=k=>{const S=a.find(N=>N.id===k);return S?S.fullName:"Unknown"},w=k=>{if(!k)return"Everyone (Broadcast)";const S=a.find(N=>N.id===k);return S?S.fullName:"Unknown"},A=k=>{if(!k)return null;const S=l.find(N=>N.id===k);return S?S.name:null},j=n.filter(k=>!k.isRead&&(k.recipientId===(e==null?void 0:e.id)||k.isBroadcast)).length;return e?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(K,{to:"/dashboard",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark transition-colors font-medium",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Messages"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Communicate with team members and clients",j>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),j," unread"]})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary px-6 py-3 self-start lg:self-auto",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Compose Message"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Messages"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:n.map(k=>s.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 border ${(u==null?void 0:u.id)===k.id?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-border/50 hover:border-primary/20"} ${!k.isRead&&(k.recipientId===(e==null?void 0:e.id)||k.isBroadcast)?"border-l-4 border-l-primary bg-secondary/10":""}`,onClick:()=>{d(k),!k.isRead&&(k.recipientId===(e==null?void 0:e.id)||k.isBroadcast)&&b(k.id)},children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:[k.senderId===(e==null?void 0:e.id)?"To: ":"From: ",k.senderId===(e==null?void 0:e.id)?w(k.recipientId):y(k.senderId),k.isBroadcast&&" (Broadcast)"]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate font-medium",children:k.subject})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:it(k.createdAt,"MMM dd")}),s.jsx("button",{onClick:S=>{S.stopPropagation(),x(k.id)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),!k.isRead&&(k.recipientId===(e==null?void 0:e.id)||k.isBroadcast)&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-auto flex-shrink-0"})]},k.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:u?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.subject}),s.jsx("button",{onClick:()=>x(u.id),className:"text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[s.jsxs("span",{children:[u.senderId===(e==null?void 0:e.id)?"Sent to ":"From ",u.senderId===(e==null?void 0:e.id)?w(u.recipientId):y(u.senderId),u.isBroadcast&&" (Broadcast)"]}),s.jsx("span",{children:""}),s.jsx("span",{children:it(u.createdAt,"PPP 'at' p")})]}),A(u.projectId)&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project: ",A(u.projectId)]})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"whitespace-pre-wrap text-foreground text-lg leading-relaxed",children:u.content})})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm flex items-center justify-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Select a message to view"})]})})})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Compose New Message"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Send a message to team members or broadcast to everyone"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"broadcast",checked:p.isBroadcast,onChange:k=>v(S=>({...S,isBroadcast:k.target.checked,recipientId:k.target.checked?"":S.recipientId})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"broadcast",className:"text-sm font-medium text-foreground",children:"Broadcast to all users"})]}),!p.isBroadcast&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient"}),s.jsxs("select",{value:p.recipientId,onChange:k=>v(S=>({...S,recipientId:k.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select recipient"}),a.filter(k=>k.id!==(e==null?void 0:e.id)&&k.isActive).map(k=>s.jsxs("option",{value:k.id,children:[k.fullName," (",k.role,")"]},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Related Project (Optional)"}),s.jsxs("select",{value:p.projectId,onChange:k=>v(S=>({...S,projectId:k.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select project"}),l.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:p.subject,onChange:k=>v(S=>({...S,subject:k.target.value})),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),s.jsx("textarea",{value:p.content,onChange:k=>v(S=>({...S,content:k.target.value})),placeholder:"Enter your message",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>f(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:!p.subject.trim()||!p.content.trim()||!p.isBroadcast&&!p.recipientId,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Message"})]})]})]})})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function o0e(){const{user:t,signOut:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState(!0);if(C.useEffect(()=>{if(!t){r("/login?portal=client");return}if(t.role!=="client"){r("/dashboard");return}i(gn(t.id,t.role)),o(ih(t.id,t.role)),c(Ma(t.id)),d(!1)},[t,r]),!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const h=n.filter(v=>v.status==="active"),f=a.slice(0,3),p=l.filter(v=>!v.isRead&&v.recipientId===(t==null?void 0:t.id));return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Project Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your project progress and communicate with our team"})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(K,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(K,{to:"/client-portal/files",className:"btn-outline",children:"View Files"}),s.jsx(K,{to:"/messages",className:"btn-outline",children:"Messages"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.filter(v=>v.status==="open"||v.status==="in_progress").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread Messages"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Your Projects"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"Recent Projects"})]}),s.jsx("div",{className:"space-y-4",children:h.length>0?h.slice(0,3).map(v=>s.jsxs(K,{to:`/client-portal/project/${v.id}`,className:"block p-4 border border-border/50 rounded-lg hover:bg-muted/50 hover:border-primary/20 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:v.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Stage: ",v.currentStage]}),s.jsxs("span",{children:["Updated ",it(v.updatedAt,"MMM dd")]})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No active projects yet"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Recent Activity"}),s.jsx(K,{to:"/client/tickets",className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map(v=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground text-sm",children:v.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",v.status]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:it(v.createdAt,"MMM dd, yyyy")})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No recent activity"})]})})]})]})]})}),s.jsx(ye,{})]})}function l0e(){const{id:t}=Yl(),{user:e}=me(),r=ge(),[n,i]=C.useState(null),[a,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState(!0);C.useEffect(()=>{if(!e||e.role!=="client"){r("/login?portal=client");return}if(!t){r("/client-portal/dashboard");return}const f=Ql(t);if(!f||f.clientId!==e.id){r("/client-portal/dashboard");return}i(f),o(bC(t)),c(Ma(e.id).filter(p=>p.projectId===t)),d(!1)},[e,t,r]);const h=f=>({planning:"bg-primary/10 text-primary",development:"bg-accent/10 text-accent",testing:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"})[status]||"bg-gray-100 text-gray-800";return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u||!n?s.jsx("div",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-300 rounded"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:n.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Z4(n.status)}`,children:n.status}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(n.currentStage)}`,children:n.currentStage}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Updated ",it(n.updatedAt,"MMM dd, yyyy")]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(K,{to:"/messages",className:"btn-outline px-4 py-2",children:"Message Team"}),s.jsx(K,{to:"/client-portal/files",className:"btn-outline px-4 py-2",children:"Share Files"}),s.jsx(K,{to:"/client-portal/feedback",className:"btn-primary px-4 py-2",children:"Submit Feedback"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Progress"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[n.currentStage==="planning"&&"25%",n.currentStage==="design"&&"40%",n.currentStage==="development"&&"60%",n.currentStage==="testing"&&"80%",n.currentStage==="launch"&&"100%",n.currentStage==="maintenance"&&"100%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:n.currentStage==="planning"?"25%":n.currentStage==="design"?"40%":n.currentStage==="development"?"60%":n.currentStage==="testing"?"80%":(n.currentStage==="launch","100%")}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Project Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"text-foreground capitalize",children:n.projectType.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),s.jsx("span",{className:"text-foreground",children:it(n.createdAt,"MMM dd, yyyy")})]}),n.launchDate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Launch Date:"}),s.jsx("span",{className:"text-foreground",children:it(n.launchDate,"MMM dd, yyyy")})]}),n.websiteUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Website:"}),s.jsx("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View Site"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Team Members"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Developer:"}),s.jsx("span",{className:"text-foreground",children:n.webDeveloperId?"Assigned":"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Coordinator:"}),s.jsx("span",{className:"text-foreground",children:n.socialMediaCoordinatorId?"Assigned":"Not assigned"})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Updates"}),s.jsx("div",{className:"space-y-4",children:a.length>0?a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[f.description.substring(0,100),"..."]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{className:`px-2 py-1 rounded-full ${f.status==="open"?"bg-yellow-100 text-yellow-800":f.status==="in_progress"?"bg-primary/10 text-primary":f.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status.replace("_"," ")}),s.jsx("span",{children:it(f.createdAt,"MMM dd, yyyy")})]})]})]},f.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No updates yet"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(K,{to:"/messages",className:"block w-full btn-outline text-center py-2",children:"Message Team"}),s.jsx(K,{to:"/client-portal/files",className:"block w-full btn-outline text-center py-2",children:"Share Files"}),s.jsx(K,{to:"/client-portal/feedback",className:"block w-full btn-primary text-center py-2",children:"Submit Feedback"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Project Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Open Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.filter(f=>f.status==="open"||f.status==="in_progress").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Messages:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:l.length})]})]})]})]})]})]})}),s.jsx(ye,{})]})}function c0e(){const{user:t}=me(),[e,r]=C.useState([]),[n,i]=C.useState(""),[a,o]=C.useState([]),[l,c]=C.useState(!1);C.useEffect(()=>{if(t&&t.role==="client"){const p=gn(t.id,t.role);r(p),p.length>0&&i(p[0].id)}},[t]);const u=p=>{const v=Array.from(p.target.files||[]);o(b=>[...b,...v])},d=async()=>{!n||a.length===0||(c(!0),await new Promise(p=>setTimeout(p,2e3)),o([]),c(!1),alert("Files uploaded successfully!"))},h=p=>{o(v=>v.filter((b,x)=>x!==p))},f=p=>{if(p===0)return"0 Bytes";const v=1024,b=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(p)/Math.log(v));return parseFloat((p/Math.pow(v,x)).toFixed(2))+" "+b[x]};return!t||t.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Files with Your Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Upload documents, images, or any files your project team needs to access"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Project"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:e.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Upload Files"}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:u,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.svg,.zip,.rar"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop files here or click to browse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, SVG, ZIP, RAR (max 10MB each)"})]})]})]}),a.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Files to Upload"}),s.jsx("div",{className:"space-y-3",children:a.map((p,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f(p.size)})]})]}),s.jsx("button",{onClick:()=>h(v),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},v))})]}),a.length>0&&s.jsx("button",{onClick:d,disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading Files..."]}):`Upload ${a.length} File${a.length>1?"s":""}`})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Previously Shared Files"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-5.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-muted-foreground",children:"No files shared yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Files you upload will appear here for your team's access"})]})})]})]})})}),s.jsx(ye,{})]})}function u0e(){const{user:t}=me(),[e,r]=C.useState([]),[n,i]=C.useState(""),[a,o]=C.useState({rating:5,category:"overall",comment:"",isPublic:!1}),[l,c]=C.useState(!1);C.useEffect(()=>{if(t&&t.role==="client"){const h=gn(t.id,t.role);r(h),h.length>0&&i(h[0].id)}},[t]);const u=async h=>{if(h.preventDefault(),!n||!a.comment.trim()){alert("Please fill in all required fields");return}c(!0),await new Promise(f=>setTimeout(f,1500)),o({rating:5,category:"overall",comment:"",isPublic:!1}),c(!1),alert("Thank you for your feedback! We'll review it and get back to you soon.")};if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Your Feedback"}),s.jsx("p",{className:"text-muted-foreground",children:"Help us improve by sharing your thoughts about our work"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Which project is this feedback about?"}),s.jsx("select",{value:n,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",required:!0,children:e.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"How would you rate our work?"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>s.jsx("button",{type:"button",onClick:()=>o(f=>({...f,rating:h})),className:`w-8 h-8 ${h<=a.rating?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:s.jsx("svg",{viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},h))}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:d[a.rating]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"What area does this feedback relate to?"}),s.jsxs("select",{value:a.category,onChange:h=>o(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"overall",children:"Overall Experience"}),s.jsx("option",{value:"design",children:"Design Quality"}),s.jsx("option",{value:"functionality",children:"Website Functionality"}),s.jsx("option",{value:"communication",children:"Team Communication"}),s.jsx("option",{value:"timeline",children:"Project Timeline"}),s.jsx("option",{value:"support",children:"Customer Support"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Your Feedback"}),s.jsx("textarea",{value:a.comment,onChange:h=>o(f=>({...f,comment:h.target.value})),placeholder:"Please share your detailed feedback, suggestions for improvement, or any concerns...",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground resize-none",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your feedback helps us improve our services. Be as specific as possible."})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:h=>o(f=>({...f,isPublic:h.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-foreground",children:"Make this feedback public (visible to other clients as testimonials)"})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting Feedback..."]}):"Submit Feedback"})]})}),s.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 rounded-xl border border-secondary/20 dark:border-secondary/30 p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary dark:text-primary mb-3",children:" Tips for Better Feedback"}),s.jsxs("ul",{className:"space-y-2 text-sm text-primary dark:text-primary",children:[s.jsx("li",{children:" Be specific about what you liked or didn't like"}),s.jsx("li",{children:" Include examples from your experience"}),s.jsx("li",{children:" Suggest improvements when possible"}),s.jsx("li",{children:" Mention both positive aspects and areas for growth"}),s.jsx("li",{children:" Rate based on your overall satisfaction with the work"})]})]})]})})}),s.jsx(ye,{})]})}function d0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState("30d"),[a,o]=C.useState({projects:[],tickets:[],website:[],social:[],users:[]}),[l,c]=C.useState(!0);C.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}const d=Xt(),h=xr(),f=tj(),p=Ya(),v=Le();o({projects:d,tickets:h,website:f,social:p,users:v}),c(!1)},[t,e,r]);const u={totalProjects:a.projects.length,activeProjects:a.projects.filter(d=>d.status==="active").length,totalTickets:a.tickets.length,resolvedTickets:a.tickets.filter(d=>d.status==="resolved").length,avgPageViews:a.website.length>0?Math.round(a.website.reduce((d,h)=>d+h.pageViews,0)/a.website.length):0,totalEngagement:a.social.reduce((d,h)=>d+h.engagement,0),totalReach:a.social.reduce((d,h)=>d+h.reach,0)};return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsxs("button",{onClick:()=>r("/dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-muted-foreground hover:text-foreground border border-border rounded-lg hover:bg-muted transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive insights into your business performance and project metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-xs text-red-600",children:"-5% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.users.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-xs text-green-600",children:"+15% vs last period"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Status Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="active").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="completed").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Paused"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="paused").length})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Ticket Priority Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Critical"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="critical").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"High"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="high").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="medium").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Low"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="low").length})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-4",children:[a.tickets.slice(0,5).map(d=>{const h=a.projects.find(f=>f.id===d.projectId);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${d.priority==="critical"?"bg-red-500":d.priority==="high"?"bg-orange-500":d.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:d.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h==null?void 0:h.name,"  ",it(d.createdAt,"MMM dd, yyyy")]})]})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="open"?"bg-red-100 text-red-800":d.status==="in_progress"?"bg-yellow-100 text-yellow-800":d.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:d.status.replace("_"," ")})]},d.id)}),a.tickets.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent activity"})]})]})]})}),s.jsx(ye,{})]})}function h0e(){const{isSignedIn:t,user:e}=me(),r=ge(),i=Yl().id,[a,o]=C.useState(null),[l,c]=C.useState(null);if(C.useEffect(()=>{if(!t){r("/login");return}const h=Ql(i);if(!h){r("/dashboard");return}o(h);const f=h8(i);c(f)},[t,i,r]),!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d=a.googleAnalyticsPropertyId?`https://analytics.google.com/analytics/web/#/p${a.googleAnalyticsPropertyId}/reports/intelligenthome`:a.googleAnalyticsViewId?`https://analytics.google.com/analytics/web/#/report-home/a${a.googleAnalyticsViewId}`:null;return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics - ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:a.description}),a.websiteUrl&&s.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:a.websiteUrl})]}),d?s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Live Google Analytics"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"View real-time analytics data for this website directly in Google Analytics."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.84 2.9982v17.9987c.0086 1.6473-1.3177 2.9897-2.965 2.9984H4.1065c-1.647-.0087-2.9735-1.351-2.965-2.9983V2.9982C1.133 1.3509 2.4596.0086 4.1066 0h15.769c1.6472.0086 2.9735 1.351 2.9649 2.9983zm-5.9207 5.557L12.2649 0H4.1066C2.9465.0009 2.007.9398 1.999 2.0998v18.0005c.008 1.16.9405 2.0989 2.1005 2.0997h15.7674c1.16-.0008 2.0926-.9397 2.1006-2.0997V8.556h-5.112zm-6.1505 9.4836c-.5513.5645-1.3086.8815-2.1007.8796-.792.0019-1.5494-.315-2.1007-.8796-.5519-.5646-.8615-1.3304-.8595-2.1252-.002-.7948.3076-1.5606.8595-2.1252.5513-.5645 1.3086-.8815 2.1007-.8795.792-.002 1.5494.315 2.1007.8795.5518.5646.8614 1.3304.8594 2.1252.002.7948-.3076 1.5606-.8594 2.1252z"})}),"Open Google Analytics Dashboard"]}),s.jsx("div",{className:"bg-secondary/10 border-l-4 border-primary p-4 rounded",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-6 h-6 text-primary flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-primary mb-1",children:"Google Analytics Access Required"}),s.jsxs("p",{className:"text-sm text-primary/80",children:["You need to be logged into Google Analytics and have access to this property (",a.googleAnalyticsPropertyId||a.googleAnalyticsViewId,") to view the reports."]})]})]})})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Want Embedded Analytics?"]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"To embed Google Analytics reports directly on this page, you'll need to:"}),s.jsxs("ol",{className:"list-decimal list-inside text-sm text-muted-foreground space-y-1 mb-4",children:[s.jsx("li",{children:"Set up Google Analytics Embed API"}),s.jsx("li",{children:"Create a service account in Google Cloud"}),s.jsx("li",{children:"Authorize the service account in Google Analytics"}),s.jsx("li",{children:"Implement the embedding code"})]}),s.jsxs("a",{href:"https://developers.google.com/analytics/devguides/reporting/embed/v1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-purple-600 hover:text-purple-800 font-medium text-sm",children:["Learn about Google Analytics Embed API",s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}):s.jsx("div",{className:"card mb-8 bg-yellow-50 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-8 h-8 text-yellow-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Google Analytics Not Configured"}),s.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"This project doesn't have a Google Analytics Property ID configured yet."}),s.jsx("p",{className:"text-sm text-yellow-800",children:"Contact your administrator to add the Google Analytics Property ID for this project."})]})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Website Analytics Summary"}),l.website&&l.website.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.website.slice(0,3).map(h=>s.jsxs("div",{className:"p-6 bg-gradient-to-br from-secondary/10 to-primary/5 rounded-lg border border-secondary/20",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-2xl font-bold text-[#1e2875]",children:h.pageViews.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique Visitors"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:h.uniqueVisitors.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bounce Rate"}),s.jsxs("p",{className:"text-lg font-medium text-foreground",children:[h.bounceRate,"%"]})]})]})]},h.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No analytics data available yet."})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Social Media Analytics"}),l.social&&l.social.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.social.map(h=>{var f;return s.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg border border-pink-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-700 capitalize",children:h.platform}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"text-lg font-bold text-[#1e2875]",children:h.posts})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"text-lg font-bold text-foreground",children:h.engagement})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:h.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Followers"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:((f=h.followers)==null?void 0:f.toLocaleString())||"N/A"})]})]})]},h.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No social media analytics data available yet."})]})]})}),s.jsx(ye,{})]})}function f0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState(!0),u=C.useCallback(async()=>{if(!t)return;c(!0),await new Promise(x=>setTimeout(x,100));const f=Xt(),p=xr(),v=f.filter(x=>x.webDeveloperId===t.id),b=p.filter(x=>x.assignedTo===t.id);i(v),o(b),c(!1)},[t]);C.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="web_developer"){r("/dashboard");return}u()},[t,e,r,u]);const d=C.useMemo(()=>n.filter(f=>f.status==="active"),[n]);C.useMemo(()=>n.filter(f=>f.status==="completed"),[n]),C.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]);const h=C.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Development Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your development progress, project assignments, and ticket resolution metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:f.status})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.status})]},f.id)),n.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",n.length-5," more projects"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Tickets"}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:it(f.createdAt,"MMM dd, yyyy")})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})]},f.id)),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No tickets assigned yet."})]})]})]})}),s.jsx(ye,{})]})}function m0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState(!0),u=C.useCallback(async()=>{if(!t)return;c(!0),await new Promise(y=>setTimeout(y,100));const v=Xt(),b=Ya(),x=v.filter(y=>y.projectType==="social_media"&&y.socialMediaCoordinatorId===t.id),g=b.filter(y=>x.some(w=>w.id===y.projectId));i(x),o(g),c(!1)},[t]);C.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="social_media_coordinator"){r("/dashboard");return}u()},[t,e,r,u]);const d=C.useMemo(()=>a.filter(v=>{const b=Y3(new Date,7);return v.date>=b}),[a]),h=C.useMemo(()=>a.reduce((v,b)=>v+b.reach,0),[a]),f=C.useMemo(()=>a.reduce((v,b)=>v+b.engagement,0),[a]),p=C.useMemo(()=>a.reduce((v,b)=>v+b.posts,0),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Social Media Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Monitor your social media performance across all assigned projects and platforms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reach"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Engagement"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Posts"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Social Media Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(v=>{var b;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:v.name}),s.jsx("div",{className:"flex gap-1 mt-1",children:(b=v.socialMediaPlatforms)==null?void 0:b.slice(0,3).map(x=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:x},x))})]}),s.jsx("a",{href:`/analytics/${v.id}`,className:"text-primary hover:underline text-sm",children:"View Details"})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No social media projects assigned yet."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add Analytics Entry"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Analytics (Last 7 Days)"}),d.length>0?s.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(v=>{const b=n.find(x=>x.id===v.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:b==null?void 0:b.name}),s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:v.platform})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-medium",children:v.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-medium",children:v.engagement.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-medium",children:v.posts})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:it(v.date,"MMM dd, yyyy")})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No recent analytics entries."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add First Entry"})]})]})]})]})}),s.jsx(ye,{})]})}function p0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState(!0),u=C.useCallback(async()=>{if(!t)return;c(!0),await new Promise(x=>setTimeout(x,100));const f=Xt(),p=xr(),v=f.filter(x=>x.clientId===t.id),b=p.filter(x=>v.some(g=>g.id===x.projectId));i(v),o(b),c(!1)},[t]);C.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="client"){r("/dashboard");return}u()},[t,e,r,u]);const d=C.useMemo(()=>n.filter(f=>f.status==="active"),[n]),h=C.useMemo(()=>n.filter(f=>f.status==="completed"),[n]);return C.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]),C.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]),l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track the progress of your website development projects and manage support tickets"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Support Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(f=>s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:f.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Current Stage: ",s.jsx("span",{className:"capitalize",children:f.currentStage})]}),s.jsx("a",{href:`/analytics/${f.id}`,className:"text-primary hover:underline",children:"View Progress"})]})]},f.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary text-sm",children:"New Ticket"})]}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>{const p=n.find(v=>v.id===f.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="open"?"bg-red-100 text-red-800":f.status==="in_progress"?"bg-yellow-100 text-yellow-800":f.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[p==null?void 0:p.name,"  ",it(f.createdAt,"MMM dd, yyyy")]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})})]},f.id)}),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No support tickets yet."}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary",children:"Create First Ticket"})]})]})]})]})}),s.jsx(ye,{})]})}const g0e=[{id:"event-1",title:"SpecCon Website Launch Meeting",description:"Final review before launch",eventType:"meeting",priority:"high",startDate:new Date(2025,0,15,10,0),endDate:new Date(2025,0,15,11,30),allDay:!1,location:"Conference Room A",attendees:["user-1","user-2","user-3","user-5"],organizerId:"user-1",projectId:"proj-1",isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"confirmed",notes:"Please review final designs before meeting",createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Andebe Platform Deadline",description:"Development completion deadline",eventType:"deadline",priority:"critical",startDate:new Date(2025,0,20),endDate:new Date(2025,0,20),allDay:!0,attendees:["user-2","user-3"],organizerId:"user-1",projectId:"proj-2",isRecurring:!1,recurrenceType:"none",reminderMinutes:1440,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Client Presentation - Megrolowveld",description:"Present design concepts to client",eventType:"presentation",priority:"high",startDate:new Date(2025,0,18,14,0),endDate:new Date(2025,0,18,15,30),allDay:!1,location:"Virtual Meeting",attendees:["user-1","user-4","user-5","user-6"],organizerId:"user-1",projectId:"proj-3",isRecurring:!1,recurrenceType:"none",reminderMinutes:30,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-4",title:"Weekly Team Standup",description:"Weekly progress update and planning",eventType:"meeting",priority:"medium",startDate:new Date(2025,0,16,9,0),endDate:new Date(2025,0,16,9,30),allDay:!1,location:"Main Conference Room",attendees:["user-1","user-2","user-3","user-4"],organizerId:"user-1",isRecurring:!0,recurrenceType:"weekly",recurrenceEndDate:new Date(2025,11,31),reminderMinutes:5,status:"confirmed",createdAt:new Date,updatedAt:new Date}];function x0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState(new Date),[a,o]=C.useState("month"),[l,c]=C.useState(g0e),[u,d]=C.useState(()=>Xt()),[h,f]=C.useState(()=>Le()),[p,v]=C.useState(null),[b,x]=C.useState(!1),[g,y]=C.useState({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""});C.useEffect(()=>{if(!e){r("/login");return}},[e,r]),C.useEffect(()=>{localStorage.setItem("marketing_management_website_events",JSON.stringify(l))},[l]);const w=D=>l.filter(V=>(V.allDay,zE(V.startDate,D))),A=()=>{const D=q3(n),V=rbe(n),$=ei(D),z=qE(V);return HE({start:$,end:z}).map(Q=>({date:Q,events:w(Q)}))},j=()=>{const D=ei(n),V=qE(n);return HE({start:D,end:V}).map(z=>({date:z,events:w(z)}))},k=()=>{i(a==="month"?D=>i0e(D):a==="week"?D=>s0e(D):D=>zp(D,-1))},S=()=>{i(a==="month"?D=>z3(D,1):a==="week"?D=>H3(D,1):D=>zp(D,1))},N=()=>{i(new Date)},T=()=>{if(!g.title.trim()){alert("Please enter an event title");return}if(!g.startDate){alert("Please select a start date");return}const D=new Date(`${g.startDate}T${g.startTime||"00:00"}`),V=new Date(`${g.endDate||g.startDate}T${g.endTime||"23:59"}`),$={id:`event-${Date.now()}`,title:g.title,description:g.description||void 0,eventType:g.eventType,priority:g.priority,startDate:D,endDate:V,allDay:!g.startTime&&!g.endTime,location:g.location||void 0,attendees:[(t==null?void 0:t.id)||"user-1"],organizerId:(t==null?void 0:t.id)||"user-1",projectId:g.projectId||void 0,isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"scheduled",createdAt:new Date,updatedAt:new Date};c(z=>[...z,$]),x(!1),y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""})},O=()=>{y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""}),x(!0)},I=D=>({meeting:"bg-primary/10 text-primary border-primary/20",deadline:"bg-red-100 text-red-800 border-red-200",milestone:"bg-green-100 text-green-800 border-green-200",review:"bg-purple-100 text-purple-800 border-purple-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",kickoff:"bg-indigo-100 text-indigo-800 border-indigo-200",presentation:"bg-pink-100 text-pink-800 border-pink-200"})[D]||"bg-gray-100 text-gray-800 border-gray-200",M=D=>({low:"border-l-4 border-l-green-500",medium:"border-l-4 border-l-yellow-500",high:"border-l-4 border-l-orange-500",critical:"border-l-4 border-l-red-500"})[D]||"",P=D=>{if(!D)return null;const V=u.find($=>$.id===D);return V==null?void 0:V.name},F=D=>D.map(V=>{const $=h.find(z=>z.id===V);return($==null?void 0:$.fullName)||"Unknown"}).join(", "),B=D=>D.allDay?"All Day":`${it(D.startDate,"h:mm a")} - ${it(D.endDate,"h:mm a")}`;return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Calendar"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Schedule meetings, track deadlines, and manage project timelines"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:O,className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:k,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("h2",{className:"text-xl font-semibold text-foreground min-w-[200px] text-center",children:[a==="month"&&it(n,"MMMM yyyy"),a==="week"&&`Week of ${it(ei(n),"MMM dd")}`,a==="day"&&it(n,"EEEE, MMMM dd, yyyy")]}),s.jsx("button",{onClick:S,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("button",{onClick:N,className:"btn-outline px-4 py-2",children:"Today"})]}),s.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:[{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}].map(D=>s.jsx("button",{onClick:()=>o(D.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===D.value?"bg-white dark:bg-gray-700 text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:D.label},D.value))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[a==="month"&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-px mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(D=>s.jsx("div",{className:"p-3 text-center font-semibold text-muted-foreground text-sm",children:D},D))}),s.jsx("div",{className:"grid grid-cols-7 gap-px",children:A().map(({date:D,events:V},$)=>s.jsxs("div",{className:`min-h-[120px] p-2 border border-border/20 ${n0e(D,n)?"bg-background":"bg-muted/30"}`,children:[s.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:it(D,"d")}),s.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(z=>s.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 transition-opacity ${I(z.eventType)} ${M(z.priority)}`,onClick:()=>v(z),children:[s.jsx("div",{className:"font-medium truncate",children:z.title}),!z.allDay&&s.jsx("div",{className:"text-xs opacity-75",children:it(z.startDate,"h:mm a")})]},z.id)),V.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",V.length-3," more"]})]})]},$))})]}),a==="week"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:j().map(({date:D,events:V})=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:it(D,"EEEE, MMMM dd")}),s.jsx("div",{className:"space-y-2",children:V.length>0?V.map($=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${I($.eventType)} ${M($.priority)}`,onClick:()=>v($),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:$.title}),s.jsx("p",{className:"text-sm opacity-75",children:B($)}),$.location&&s.jsxs("p",{className:"text-sm opacity-75",children:[" ",$.location]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I($.eventType)}`,children:$.eventType})})]})},$.id)):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events scheduled"})})]},D.toISOString()))})}),a==="day"&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:it(n,"EEEE, MMMM dd, yyyy")}),s.jsx("div",{className:"space-y-4",children:w(n).length>0?w(n).map(D=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${I(D.eventType)} ${M(D.priority)}`,onClick:()=>v(D),children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:D.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I(D.eventType)}`,children:D.eventType})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Time"}),s.jsx("p",{className:"text-sm",children:B(D)})]}),D.location&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Location"}),s.jsx("p",{className:"text-sm",children:D.location})]})]}),D.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Description"}),s.jsx("p",{className:"text-sm",children:D.description})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Attendees"}),s.jsx("p",{className:"text-sm",children:F(D.attendees)})]}),D.projectId&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Project"}),s.jsx("p",{className:"text-sm",children:P(D.projectId)})]})]})]},D.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No events scheduled for this day"})]})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-3"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Upcoming Events"}),s.jsx("div",{className:"space-y-3",children:l.filter(D=>D.startDate>=new Date).sort((D,V)=>D.startDate.getTime()-V.startDate.getTime()).slice(0,5).map(D=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${I(D.eventType)} ${M(D.priority)}`,onClick:()=>v(D),children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:D.title}),s.jsxs("p",{className:"text-xs opacity-75",children:[it(D.startDate,"MMM dd"),"  ",B(D)]}),D.location&&s.jsxs("p",{className:"text-xs opacity-75",children:[" ",D.location]})]},D.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Legend"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),s.jsx("span",{children:"Meeting"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Deadline"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Milestone"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),s.jsx("span",{children:"Review"})]})]})]})]})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Create New Event"}),s.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Title"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event title",value:g.title,onChange:D=>y(V=>({...V,title:D.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Event Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.eventType,onChange:D=>y(V=>({...V,eventType:D.target.value})),children:[s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"deadline",children:"Deadline"}),s.jsx("option",{value:"presentation",children:"Presentation"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"milestone",children:"Milestone"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.startDate,onChange:D=>y(V=>({...V,startDate:D.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.startTime,onChange:D=>y(V=>({...V,startTime:D.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.endDate,onChange:D=>y(V=>({...V,endDate:D.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.endTime,onChange:D=>y(V=>({...V,endTime:D.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Location"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event location",value:g.location,onChange:D=>y(V=>({...V,location:D.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,placeholder:"Event description",value:g.description,onChange:D=>y(V=>({...V,description:D.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Priority"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.priority,onChange:D=>y(V=>({...V,priority:D.target.value})),children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:g.projectId,onChange:D=>y(V=>({...V,projectId:D.target.value})),children:[s.jsx("option",{value:"",children:"Select project"}),u.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>x(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:T,className:"btn-primary px-6 py-2",children:"Create Event"})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:p.title}),s.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Date & Time"}),s.jsx("p",{className:"text-foreground",children:it(p.startDate,"EEEE, MMMM dd, yyyy")}),s.jsx("p",{className:"text-muted-foreground",children:B(p)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Type & Priority"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${I(p.eventType)}`,children:p.eventType}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.priority==="critical"?"bg-red-100 text-red-800":p.priority==="high"?"bg-orange-100 text-orange-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.priority})]})]})]}),p.location&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Location"}),s.jsxs("p",{className:"text-foreground",children:[" ",p.location]})]}),p.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-foreground",children:p.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Attendees"}),s.jsx("p",{className:"text-foreground",children:F(p.attendees)})]}),p.projectId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Related Project"}),s.jsx("p",{className:"text-foreground",children:P(p.projectId)})]}),p.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-foreground",children:p.notes})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:s.jsx("button",{onClick:()=>v(null),className:"btn-outline px-6 py-2",children:"Close"})})]})]})})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const y0e=[{id:"timer-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Working on homepage hero image update",entryType:"development",startTime:new Date,status:"running",accumulatedTime:0,isBillable:!0,hourlyRate:75,tags:["frontend","design"]}],v0e=[{id:"entry-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Homepage hero image implementation",entryType:"development",startTime:new Date(Date.now()-2*60*60*1e3),endTime:new Date(Date.now()-1*60*60*1e3),duration:60,isBillable:!0,hourlyRate:75,tags:["frontend","design"],createdAt:new Date,updatedAt:new Date},{id:"entry-2",userId:"user-3",projectId:"proj-2",description:"Client meeting - Andebe platform requirements",entryType:"meeting",startTime:new Date(Date.now()-24*60*60*1e3),endTime:new Date(Date.now()-23.5*60*60*1e3),duration:30,isBillable:!0,hourlyRate:85,tags:["meeting","client"],createdAt:new Date,updatedAt:new Date}];function b0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState(null),[a,o]=C.useState(y0e),l=C.useMemo(()=>v0e,[]),[c,u]=C.useState(l),[d,h]=C.useState([]),[f,p]=C.useState([]),[v,b]=C.useState([]),[x,g]=C.useState(new Date),[y,w]=C.useState("week"),[A,j]=C.useState({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""});C.useEffect(()=>{if(!e){r("/login");return}h(Xt()),p(xr()),b(Le());const D=setInterval(()=>{g(new Date)},1e3);return()=>clearInterval(D)},[e,r]);const k=D=>{const V=new Date(D.startTime);return WE(x,V)},S=D=>{const V=Math.floor(D/60),$=D%60;return`${V.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},N=()=>{if(!t||!A.description.trim())return;const D={id:`timer-${Date.now()}`,userId:t.id,projectId:A.projectId||void 0,ticketId:A.ticketId||void 0,description:A.description,entryType:A.entryType,startTime:new Date,status:"running",accumulatedTime:0,isBillable:A.isBillable,tags:A.tags.split(",").map(V=>V.trim()).filter(V=>V)};i(D),o(V=>[D,...V])},T=()=>{if(!n||!t)return;const D=new Date,V=WE(D,new Date(n.startTime)),$={id:`entry-${Date.now()}`,userId:t.id,projectId:n.projectId,ticketId:n.ticketId,description:n.description,entryType:n.entryType,startTime:n.startTime,endTime:D,duration:V,isBillable:n.isBillable,hourlyRate:n.hourlyRate,tags:n.tags,createdAt:new Date,updatedAt:new Date};u(z=>[$,...z]),i(null),o(z=>z.filter(q=>q.id!==n.id)),j({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""})},O=()=>{const D=new Date;let V;switch(y){case"today":V=new Date(D.getFullYear(),D.getMonth(),D.getDate());break;case"week":V=ei(D);break;case"month":V=q3(D);break;default:V=ei(D)}return c.filter($=>new Date($.startTime)>=V&&$.userId===(t==null?void 0:t.id))},I=D=>{const V=D.reduce((q,Q)=>q+Q.duration,0),$=D.filter(q=>q.isBillable).reduce((q,Q)=>q+Q.duration,0),z=D.filter(q=>q.isBillable&&q.hourlyRate).reduce((q,Q)=>q+Q.duration/60*(Q.hourlyRate||0),0);return{totalHours:Math.round(V/60*100)/100,billableHours:Math.round($/60*100)/100,totalAmount:Math.round(z*100)/100}},M=O(),P=I(M),F=D=>{if(!D)return"No Project";const V=d.find($=>$.id===D);return(V==null?void 0:V.name)||"Unknown Project"},B=D=>{if(!D)return null;const V=f.find($=>$.id===D);return V==null?void 0:V.title};return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Time Tracking"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your work hours, monitor productivity, and manage billable time"})]}),s.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}].map(D=>s.jsx("button",{onClick:()=>w(D.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y===D.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:D.label},D.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:n?"Active Timer":"Start Tracking Time"}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-mono font-bold text-primary mb-4",children:S(k(n))}),s.jsx("div",{className:"text-lg text-muted-foreground mb-2",children:n.description}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Project: ",F(n.projectId),n.ticketId&&s.jsxs("span",{children:["  Ticket: ",B(n.ticketId)]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:T,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Stop Timer"]})})]}):s.jsxs("form",{onSubmit:D=>{D.preventDefault(),N()},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{value:A.projectId,onChange:D=>j(V=>({...V,projectId:D.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Project (Optional)"}),d.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ticket"}),s.jsxs("select",{value:A.ticketId,onChange:D=>j(V=>({...V,ticketId:D.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Ticket (Optional)"}),f.filter(D=>!A.projectId||D.projectId===A.projectId).map(D=>s.jsx("option",{value:D.id,children:D.title},D.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("input",{type:"text",value:A.description,onChange:D=>j(V=>({...V,description:D.target.value})),placeholder:"What are you working on?",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Activity Type"}),s.jsxs("select",{value:A.entryType,onChange:D=>j(V=>({...V,entryType:D.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"billable",checked:A.isBillable,onChange:D=>j(V=>({...V,isBillable:D.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-foreground",children:"Billable"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:A.tags,onChange:D=>j(V=>({...V,tags:D.target.value})),placeholder:"frontend, backend, etc.",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground"})]})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary py-3",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polygon",{points:"10,8 16,12 10,16 10,8"})]}),"Start Timer"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4",children:["This ",y.charAt(0).toUpperCase()+y.slice(1)]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Hours"}),s.jsxs("span",{className:"text-xl font-bold text-foreground",children:[P.totalHours,"h"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Billable Hours"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[P.billableHours,"h"]})]}),P.totalAmount>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",P.totalAmount]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Entries"}),s.jsx("span",{className:"text-sm font-medium",children:M.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg per day"}),s.jsxs("span",{className:"text-sm font-medium",children:[y==="week"?Math.round(P.totalHours/7*10)/10:y==="month"?Math.round(P.totalHours/30*10)/10:Math.round(P.totalHours*10)/10,"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Most active project"}),s.jsx("span",{className:"text-sm font-medium",children:M.length>0?F(M[0].projectId):"None"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Time Entries"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of your tracked time"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Project"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Duration"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Billable"})]})}),s.jsxs("tbody",{children:[M.map((D,V)=>s.jsxs("tr",{className:V%2===0?"bg-background":"bg-muted/30",children:[s.jsx("td",{className:"py-3 px-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:D.description}),D.tags.length>0&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[D.tags.slice(0,2).map($=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:$},$)),D.tags.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",D.tags.length-2]})]})]})}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:F(D.projectId)}),s.jsx("td",{className:"py-3 px-6",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${D.entryType==="development"?"bg-primary/10 text-primary":D.entryType==="design"?"bg-purple-100 text-purple-800":D.entryType==="meeting"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.entryType})}),s.jsxs("td",{className:"py-3 px-6 font-medium",children:[Math.floor(D.duration/60),"h ",D.duration%60,"m"]}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:it(new Date(D.startTime),"MMM dd")}),s.jsx("td",{className:"py-3 px-6",children:D.isBillable?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-muted-foreground",children:""})})]},D.id)),M.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No time entries found for the selected period"})})]})]})})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const w0e=[{id:"template-1",name:"Basic Business Website",description:"A professional website for small businesses including homepage, about, services, and contact pages.",category:"website",estimatedDuration:21,estimatedBudget:3500,difficulty:"beginner",tags:["business","professional","responsive"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Design",description:"Wireframes, mockups, and design approval",order:1,estimatedDuration:7,dependencies:[],deliverables:["design-mockups","wireframes"]},{id:"phase-2",name:"Development",description:"Website coding and implementation",order:2,estimatedDuration:10,dependencies:["phase-1"],deliverables:["homepage","about-page","services-page","contact-page"]},{id:"phase-3",name:"Testing & Launch",description:"Quality assurance and deployment",order:3,estimatedDuration:4,dependencies:["phase-2"],deliverables:["testing-report","live-website"]}],deliverables:[{id:"design-mockups",name:"Design Mockups",description:"Visual design concepts for all pages",phaseId:"phase-1",type:"design",estimatedHours:16,isRequired:!0},{id:"wireframes",name:"Wireframes",description:"Page structure and layout planning",phaseId:"phase-1",type:"design",estimatedHours:8,isRequired:!0},{id:"homepage",name:"Homepage",description:"Main landing page with hero section",phaseId:"phase-2",type:"code",estimatedHours:12,isRequired:!0},{id:"about-page",name:"About Page",description:"Company information and team section",phaseId:"phase-2",type:"code",estimatedHours:8,isRequired:!0},{id:"services-page",name:"Services Page",description:"Business services and offerings",phaseId:"phase-2",type:"code",estimatedHours:10,isRequired:!0},{id:"contact-page",name:"Contact Page",description:"Contact form and business information",phaseId:"phase-2",type:"code",estimatedHours:6,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:36,skills:["HTML","CSS","JavaScript","React"]},{id:"role-2",role:"social_media_coordinator",required:!1,estimatedHours:8,skills:["Social Media","Content Creation"]}],checklists:[]},{id:"template-2",name:"E-commerce Website",description:"Complete online store with product catalog, shopping cart, and payment integration.",category:"ecommerce",estimatedDuration:35,estimatedBudget:8500,difficulty:"intermediate",tags:["ecommerce","shopping","payments"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Requirements",description:"Product analysis and technical planning",order:1,estimatedDuration:5,dependencies:[],deliverables:["requirements-doc","tech-spec"]},{id:"phase-2",name:"Design & UI/UX",description:"User interface and experience design",order:2,estimatedDuration:8,dependencies:["phase-1"],deliverables:["ui-design","user-flows"]},{id:"phase-3",name:"Development",description:"Full-stack development and integration",order:3,estimatedDuration:18,dependencies:["phase-2"],deliverables:["frontend-code","backend-api","database-setup","payment-integration"]},{id:"phase-4",name:"Testing & Deployment",description:"Quality assurance and production launch",order:4,estimatedDuration:4,dependencies:["phase-3"],deliverables:["testing-report","live-site"]}],deliverables:[{id:"requirements-doc",name:"Requirements Document",description:"Detailed project requirements and specifications",phaseId:"phase-1",type:"document",estimatedHours:16,isRequired:!0},{id:"ui-design",name:"UI Design System",description:"Complete design system and component library",phaseId:"phase-2",type:"design",estimatedHours:24,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:80,skills:["React","Node.js","Database","API Development"]}],checklists:[]},{id:"template-3",name:"Social Media Campaign",description:"Complete social media strategy and content creation for brand awareness.",category:"social_media",estimatedDuration:28,estimatedBudget:4200,difficulty:"intermediate",tags:["social","content","branding"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Strategy & Planning",description:"Audience analysis and campaign strategy",order:1,estimatedDuration:7,dependencies:[],deliverables:["strategy-doc","content-calendar"]},{id:"phase-2",name:"Content Creation",description:"Design and create social media content",order:2,estimatedDuration:14,dependencies:["phase-1"],deliverables:["social-posts","graphics","videos"]},{id:"phase-3",name:"Launch & Monitoring",description:"Campaign execution and performance tracking",order:3,estimatedDuration:7,dependencies:["phase-2"],deliverables:["campaign-report","analytics"]}],deliverables:[],teamRoles:[{id:"role-1",role:"social_media_coordinator",required:!0,estimatedHours:56,skills:["Social Media","Content Creation","Graphic Design","Analytics"]}],checklists:[]}];function j0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState(w0e),[a,o]=C.useState("all"),[l,c]=C.useState("all"),[u,d]=C.useState(null);C.useEffect(()=>{if(!e){r("/login");return}},[e,r]);const h=[{value:"all",label:"All Categories"},{value:"website",label:"Website"},{value:"social_media",label:"Social Media"},{value:"ecommerce",label:"E-commerce"},{value:"branding",label:"Branding"},{value:"mobile",label:"Mobile App"}],f=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],p=n.filter(x=>{const g=a==="all"||x.category===a,y=l==="all"||x.difficulty===l;return g&&y}),v=x=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[x]||"bg-gray-100 text-gray-800",b=x=>({website:"bg-primary/10 text-primary",social_media:"bg-pink-100 text-pink-800",ecommerce:"bg-purple-100 text-purple-800",branding:"bg-orange-100 text-orange-800",mobile:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"})[x]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Templates"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Jumpstart your projects with professionally designed templates and predefined workflows"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),s.jsx("select",{value:l,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),t.role==="admin"&&s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn-primary px-6 py-2",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Template"]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(x=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>d(x),children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:x.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v(x.difficulty)}`,children:x.difficulty})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:x.description})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${b(x.category)}`,children:x.category.replace("_"," ")}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[x.phases.length," phases"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:[x.estimatedDuration," days"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Budget:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:["$",x.estimatedBudget.toLocaleString()]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[x.tags.slice(0,3).map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g)),x.tags.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",x.tags.length-3," more"]})]}),s.jsx("button",{className:"w-full btn-primary py-2 text-sm",children:"Use This Template"})]})]})]},x.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No templates found matching your criteria"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters or create a custom template"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u.name}),s.jsx("p",{className:"text-muted-foreground",children:u.description})]}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[u.estimatedDuration," days"]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Estimated Budget"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",u.estimatedBudget.toLocaleString()]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Difficulty"}),s.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${v(u.difficulty)}`,children:u.difficulty})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Project Phases"}),s.jsx("div",{className:"space-y-4",children:u.phases.map((x,g)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:x.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:x.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",s.jsxs("span",{className:"font-medium text-foreground",children:[x.estimatedDuration," days"]})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Deliverables: ",s.jsx("span",{className:"font-medium text-foreground",children:x.deliverables.length})]})]})]})]},x.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Team Requirements"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.teamRoles.map(x=>s.jsxs("div",{className:"p-4 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground capitalize",children:x.role.replace("_"," ")}),x.required&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Est. ",x.estimatedHours," hours"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:x.skills.map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g))})]},x.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>d(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Use This Template"})]})]})})})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function N0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState("30d"),[a,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,f]=C.useState([]),[p,v]=C.useState([]);C.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}o(Xt()),c(xr()),d(Le()),f(tj()),v(Ya())},[e,t,r]);const x=(()=>{const T=Y3(new Date,n==="7d"?7:n==="30d"?30:n==="90d"?90:365);return{recentTickets:l.filter(O=>new Date(O.createdAt)>=T),recentProjects:a.filter(O=>new Date(O.createdAt)>=T),recentWebsite:h.filter(O=>new Date(O.date)>=T),recentSocial:p.filter(O=>new Date(O.date)>=T)}})(),g={totalProjects:a.length,activeProjects:a.filter(N=>N.status==="active").length,completedProjects:a.filter(N=>N.status==="completed").length,projectCompletionRate:a.length>0?Math.round(a.filter(N=>N.status==="completed").length/a.length*100):0,totalTickets:x.recentTickets.length,openTickets:x.recentTickets.filter(N=>N.status==="open"||N.status==="in_progress").length,resolvedTickets:x.recentTickets.filter(N=>N.status==="resolved").length,avgResolutionTime:2.4,totalPageViews:x.recentWebsite.reduce((N,T)=>N+T.pageViews,0),uniqueVisitors:x.recentWebsite.length>0?Math.round(x.recentWebsite.reduce((N,T)=>N+T.uniqueVisitors,0)/x.recentWebsite.length):0,avgBounceRate:x.recentWebsite.length>0?Math.round(x.recentWebsite.reduce((N,T)=>N+T.bounceRate,0)/x.recentWebsite.length):0,totalReach:x.recentSocial.reduce((N,T)=>N+T.reach,0),totalEngagement:x.recentSocial.reduce((N,T)=>N+T.engagement,0),engagementRate:x.recentSocial.length>0?Math.round(x.recentSocial.reduce((N,T)=>N+T.engagement,0)/x.recentSocial.reduce((N,T)=>N+T.reach,0)*100):0,totalUsers:u.length,activeUsers:u.filter(N=>N.isActive).length,teamUtilization:78,totalRevenue:156750,avgProjectValue:Math.round(a.reduce((N,T)=>N+3500,0)/a.length),profitMargin:32},y={revenue:[{month:"Jan",value:12500},{month:"Feb",value:15200},{month:"Mar",value:18900},{month:"Apr",value:22100},{month:"May",value:25800},{month:"Jun",value:31200}],projects:[{month:"Jan",value:8},{month:"Feb",value:12},{month:"Mar",value:15},{month:"Apr",value:18},{month:"May",value:22},{month:"Jun",value:25}]},w=a.filter(N=>N.status==="active").sort((N,T)=>new Date(T.updatedAt).getTime()-new Date(N.updatedAt).getTime()).slice(0,5),A=[{type:"project",action:"completed",item:"SpecCon Website",time:"2 hours ago"},{type:"ticket",action:"resolved",item:"Mobile navigation fix",time:"4 hours ago"},{type:"meeting",action:"scheduled",item:"Client presentation",time:"6 hours ago"},{type:"user",action:"joined",item:"Jane Smith",time:"1 day ago"},{type:"analytics",action:"reported",item:"Website traffic up 15%",time:"2 days ago"}],j=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(N),k=N=>({project:"",ticket:"",meeting:"",user:"",analytics:""})[N]||"",S=N=>({project:"text-primary",ticket:"text-green-600",meeting:"text-purple-600",user:"text-orange-600",analytics:"text-indigo-600"})[N]||"text-gray-600";return!t||t.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Executive Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive business overview and performance insights"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn-outline px-4 py-2",children:"Export Report"}),s.jsx("button",{className:"btn-primary px-4 py-2",children:"Schedule Meeting"})]})]}),s.jsx("div",{className:"flex gap-2 mb-8",children:[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}].map(N=>s.jsx("button",{onClick:()=>i(N.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===N.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:N.label},N.value))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:j(g.totalRevenue)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.projectCompletionRate,"% completion rate"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.totalPageViews.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[g.teamUtilization,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Utilization"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.activeUsers,"/",g.totalUsers," active members"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Performance Trends"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Revenue Growth"}),s.jsx("span",{className:"text-sm text-green-600",children:"+18%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.revenue.map((N,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${N.value/35e3*60}px`}},N.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.revenue.map(N=>s.jsx("span",{children:N.month},N.month))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Project Delivery"}),s.jsx("span",{className:"text-sm text-primary",children:"+25%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.projects.map((N,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${N.value/30*60}px`}},N.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.projects.map(N=>s.jsx("span",{children:N.month},N.month))})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Active Projects"}),s.jsx("div",{className:"space-y-4",children:w.map((N,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:T+1})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:N.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.currentStage,"  ",N.projectType]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N.status==="active"?"bg-green-100 text-green-800":N.status==="completed"?"bg-success/10 text-success":"bg-yellow-100 text-yellow-800"}`,children:N.status})})]},N.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:A.map((N,T)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-xl",children:k(N.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:`font-medium ${S(N.type)}`,children:N.action.charAt(0).toUpperCase()+N.action.slice(1)})," "+N.item]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.time})]})]},T))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full btn-primary text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),s.jsxs("button",{className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Send Message"]}),s.jsxs(K,{to:"/analytics",className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Key Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Resolution Time"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.avgResolutionTime,"d"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.engagementRate,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[g.profitMargin,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Client Satisfaction"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"4.8/5.0"})]})]})]})]})]})]})}),s.jsx(ye,{})]})}function _0e(){const{user:t,isSignedIn:e}=me(),r=ge(),n=C.useMemo(()=>[{id:"notif-1",type:"project",title:"Project Status Updated",message:"SpecCon website project has moved to the testing phase",read:!1,createdAt:new Date(Date.now()-1e3*60*30),actionUrl:"/client-portal/project/proj-1",priority:"medium",sender:"John Developer",metadata:{projectId:"proj-1",oldStatus:"development",newStatus:"testing"}},{id:"notif-2",type:"deadline",title:"Upcoming Deadline",message:"Andebe platform development deadline is approaching (2 days remaining)",read:!1,createdAt:new Date(Date.now()-1e3*60*60*2),actionUrl:"/calendar",priority:"high",metadata:{projectId:"proj-2",deadline:new Date(Date.now()+1e3*60*60*24*2)}},{id:"notif-3",type:"message",title:"New Message from Client",message:"Emma Business sent you a message about the Venueideas project",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4),actionUrl:"/messages",priority:"medium",sender:"Emma Business",metadata:{messageId:"message-6",projectId:"proj-10"}},{id:"notif-4",type:"meeting",title:"Meeting Reminder",message:"Client presentation meeting starts in 1 hour",read:!1,createdAt:new Date(Date.now()-1e3*60*15),actionUrl:"/calendar",priority:"urgent",metadata:{meetingId:"event-3",startTime:new Date(Date.now()+1e3*60*45)}},{id:"notif-5",type:"ticket",title:"Ticket Assigned",message:"New bug report assigned to you: Mobile navigation issue",read:!0,createdAt:new Date(Date.now()-1e3*60*60*6),actionUrl:"/developer/tickets",priority:"high",sender:"Admin User",metadata:{ticketId:"ticket-2",priority:"high"}},{id:"notif-6",type:"system",title:"System Maintenance",message:"Scheduled maintenance will begin tonight at 10 PM",read:!0,createdAt:new Date(Date.now()-1e3*60*60*24),priority:"low",metadata:{maintenanceStart:new Date(Date.now()+1e3*60*60*2)}}],[]),[i,a]=C.useState(n),[o,l]=C.useState("all"),[c,u]=C.useState("all");C.useEffect(()=>{const y=setInterval(()=>{if(Math.random()<.1){const w={id:`notif-${Date.now()}`,type:["project","ticket","message","deadline"][Math.floor(Math.random()*4)],title:"New Activity",message:"Something happened in your workspace",read:!1,createdAt:new Date,priority:["low","medium","high","urgent"][Math.floor(Math.random()*4)]};a(A=>[w,...A])}},5e3);return()=>clearInterval(y)},[]);const d=i.filter(y=>{const w=o==="all"||o==="unread"&&!y.read||o==="read"&&y.read,A=c==="all"||y.type===c;return w&&A}),h=i.filter(y=>!y.read).length,f=y=>{a(w=>w.map(A=>A.id===y?{...A,read:!0}:A))},p=()=>{a(y=>y.map(w=>({...w,read:!0})))},v=y=>{a(w=>w.filter(A=>A.id!==y))},b=y=>({project:"",ticket:"",message:"",deadline:"",meeting:"",system:""})[y]||"",x=y=>({low:"border-l-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-l-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-l-red-500 bg-red-50 dark:bg-red-900/20"})[y]||"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20",g=y=>{const A=Math.floor((new Date().getTime()-y.getTime())/(1e3*60));if(A<1)return"Just now";if(A<60)return`${A}m ago`;const j=Math.floor(A/60);if(j<24)return`${j}h ago`;const k=Math.floor(j/24);return k<7?`${k}d ago`:it(y,"MMM dd")};return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Notifications"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Stay updated with real-time activity and important alerts",h>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),h," unread"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[h>0&&s.jsx("button",{onClick:p,className:"btn-outline",children:"Mark All Read"}),s.jsx("button",{className:"btn-primary",children:"Notification Settings"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Status:"}),[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"read",label:"Read"}].map(y=>s.jsx("button",{onClick:()=>l(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${o===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Type:"}),[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"ticket",label:"Tickets"},{value:"message",label:"Messages"},{value:"meeting",label:"Meetings"},{value:"deadline",label:"Deadlines"},{value:"system",label:"System"}].map(y=>s.jsx("button",{onClick:()=>u(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${c===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]})]})}),s.jsx("div",{className:"space-y-4",children:d.length>0?d.map(y=>s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 transition-all duration-200 hover:shadow-md ${y.read?"":`border-l-4 ${x(y.priority)}`}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-lg",children:b(y.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:y.title}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!y.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:g(y.createdAt)})]})]}),s.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:y.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.priority==="urgent"?"bg-red-100 text-red-800":y.priority==="high"?"bg-orange-100 text-orange-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.priority}),y.sender&&s.jsxs("span",{className:"text-muted-foreground",children:["From: ",y.sender]}),s.jsx("span",{className:"text-muted-foreground capitalize",children:y.type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[y.actionUrl&&s.jsx("button",{onClick:()=>r(y.actionUrl),className:"btn-primary text-sm px-3 py-1",children:"View"}),!y.read&&s.jsx("button",{onClick:()=>f(y.id),className:"btn-outline text-sm px-3 py-1",children:"Mark Read"}),s.jsx("button",{onClick:()=>v(y.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"Delete notification",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},y.id)):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-muted-foreground",children:o==="unread"?"All caught up! No unread notifications.":c!=="all"?`No ${c} notifications found.`:"You have no notifications at this time."})]})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl border border-primary/10 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Notification Preferences"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize when and how you receive notifications to stay informed without being overwhelmed."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Project Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Status changes, new milestones"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Ticket Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"New assignments, updates"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upcoming meetings, deadlines"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]})]})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const QE=(t,e,r,n)=>{const i=[],a=t.filter(A=>A.status==="completed").length,o=t.length,l=o>0?a/o*100:0;l>80?i.push({type:"success",title:"Excellent Project Completion Rate",description:`Your team has completed ${l.toFixed(1)}% of projects. This indicates high efficiency and client satisfaction.`,recommendation:"Consider taking on more complex projects to further challenge your team's capabilities.",impact:"high",category:"performance"}):l<50&&i.push({type:"warning",title:"Project Completion Rate Needs Improvement",description:`Only ${l.toFixed(1)}% of projects are completed. This may indicate workflow inefficiencies.`,recommendation:"Review project management processes and consider implementing more structured workflows.",impact:"high",category:"performance"});const c=e.filter(A=>A.status==="open"||A.status==="in_progress").length,u=e.filter(A=>A.status==="resolved").length,d=e.length;(d>0?u/d*100:0)<70&&i.push({type:"alert",title:"High Open Ticket Volume",description:`${c} tickets remain unresolved. This may impact client satisfaction.`,recommendation:"Reassign critical tickets and consider hiring additional support staff.",impact:"high",category:"support"});const f=r.filter(A=>A.isActive).length,p=r.length,v=f/p*100;v<80&&i.push({type:"info",title:"Underutilized Team Capacity",description:`${v.toFixed(1)}% of your team is actively engaged. There may be opportunities for growth.`,recommendation:"Consider taking on additional projects or providing professional development opportunities.",impact:"medium",category:"team"});const b=n.filter(A=>!A.isRead).length;b>10&&i.push({type:"warning",title:"High Volume of Unread Messages",description:`${b} messages are unread. This may indicate communication bottlenecks.`,recommendation:"Review team communication patterns and consider implementing daily standups.",impact:"medium",category:"communication"});const x=t.filter(A=>{const j=new Date(A.createdAt);return j.setDate(j.getDate()+30),new Date>j&&A.status!=="completed"});x.length>0&&i.push({type:"urgent",title:"Overdue Projects Detected",description:`${x.length} project(s) are behind schedule.`,recommendation:"Review project timelines and reallocate resources to bring projects back on track.",impact:"high",category:"timeline"});const g=28500;i.push({type:"success",title:"Exceptional Client Satisfaction",description:`Client satisfaction rating of ${4.8}/5.0 shows outstanding service quality.`,recommendation:"Leverage client testimonials in marketing materials and consider referral programs.",impact:"high",category:"client"});const w=g*1.15;return i.push({type:"info",title:"Revenue Growth Projection",description:`Based on current trends, projected monthly revenue could reach $${w.toLocaleString()}.`,recommendation:"Prepare for scaling by investing in team growth and process optimization.",impact:"medium",category:"forecasting"}),i.sort((A,j)=>{const k={high:3,medium:2,low:1},S={urgent:4,alert:3,warning:2,success:1,info:0};return k[A.impact]!==k[j.impact]?k[j.impact]-k[A.impact]:S[j.type]-S[A.type]})};function S0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState("all"),[l,c]=C.useState("all"),[u,d]=C.useState(!0);C.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}d(!0),setTimeout(()=>{const g=Xt(),y=xr(),w=Le(),A=t?Ma(t.id):[],j=QE(g,y,w,A);i(j),d(!1)},2e3)},[e,t,r]);const h=[{value:"all",label:"All Insights"},{value:"performance",label:"Performance"},{value:"team",label:"Team"},{value:"client",label:"Client"},{value:"financial",label:"Financial"},{value:"communication",label:"Communication"},{value:"timeline",label:"Timeline"},{value:"forecasting",label:"Forecasting"}],f=[{value:"all",label:"All Priorities"},{value:"high",label:"High Impact"},{value:"medium",label:"Medium Impact"},{value:"low",label:"Low Impact"}],p=n.filter(g=>{const y=a==="all"||g.category===a,w=l==="all"||g.impact===l;return y&&w}),v=g=>({success:"",warning:"",alert:"",urgent:"",info:""})[g]||"",b=g=>({success:"border-green-500 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",alert:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20",info:"border-primary bg-secondary/10 dark:bg-secondary/20"})[g]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",x=g=>({high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[g]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" AI-Powered Insights"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Intelligent analysis and actionable recommendations to optimize your business performance"})]}),u&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Analyzing Your Data..."}),s.jsx("p",{className:"text-muted-foreground",children:"Our AI is processing your business metrics and generating insights"})]})]}),s.jsx("div",{className:"mt-4 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:g=>o(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impact Level"}),s.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{d(!0),setTimeout(()=>{const g=Xt(),y=xr(),w=Le(),A=t?Ma(t.id):[],j=QE(g,y,w,A);i(j),d(!1)},1500)},className:"btn-primary px-6 py-2",children:" Re-analyze"})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((g,y)=>s.jsxs("div",{className:`rounded-xl border-l-4 p-6 ${b(g.type)} hover:shadow-lg transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"text-3xl",children:v(g.type)}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${x(g.impact)}`,children:[g.impact," impact"]})]}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-3",children:g.title}),s.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:g.description}),s.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Recommendation"}),s.jsx("p",{className:"text-sm text-foreground",children:g.recommendation})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{className:"capitalize",children:g.category}),s.jsx("span",{className:"capitalize",children:g.type})]})]},y))}),p.length===0&&!u&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No insights found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or run a new analysis to generate insights"}),s.jsx("button",{onClick:()=>{o("all"),c("all")},className:"btn-primary",children:"Show All Insights"})]}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 via-purple-500/5 to-blue-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" AI-Powered Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Advanced machine learning and predictive analytics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Predictive Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecast trends and project outcomes"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Recommendations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actionable insights for optimization"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Pattern Recognition"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Identify trends and anomalies"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Real-time Analysis"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous monitoring and alerts"})]})]})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const Zy=[{id:"slack",name:"Slack",description:"Connect your workspace for real-time notifications and team communication",category:"communication",status:"available",icon:"",features:["Real-time notifications","Channel integration","Team mentions","Status updates"],setupSteps:["Authorize Slack workspace","Select notification channels","Configure message templates","Test integration"],pricing:"Free"},{id:"google-calendar",name:"Google Calendar",description:"Sync your calendar with Google Calendar for seamless scheduling",category:"productivity",status:"available",icon:"",features:["Two-way sync","Meeting invites","Availability sharing","Reminder integration"],setupSteps:["Connect Google account","Grant calendar permissions","Select calendars to sync","Configure sync settings"],pricing:"Free"},{id:"zapier",name:"Zapier",description:"Automate workflows by connecting with 5,000+ apps",category:"automation",status:"available",icon:"",features:["Workflow automation","App integrations","Custom triggers","Data synchronization"],setupSteps:["Create Zapier account","Generate API key","Configure webhooks","Test automation flows"],pricing:"$29.99/month"},{id:"mailchimp",name:"Mailchimp",description:"Sync client data and automate email campaigns",category:"marketing",status:"available",icon:"",features:["Contact synchronization","Automated campaigns","Performance tracking","List management"],setupSteps:["Connect Mailchimp account","Map data fields","Configure sync rules","Set up automation triggers"],pricing:"Free to $299/month"},{id:"stripe",name:"Stripe",description:"Process payments and manage billing automatically",category:"financial",status:"coming_soon",icon:"",features:["Payment processing","Invoice generation","Subscription management","Financial reporting"],setupSteps:["Connect Stripe account","Configure payment methods","Set up webhooks","Test payment flow"],pricing:"2.9% + 30 per transaction"},{id:"github",name:"GitHub",description:"Track development progress and code deployments",category:"development",status:"available",icon:"",features:["Repository monitoring","Deployment tracking","Issue synchronization","Code review integration"],setupSteps:["Authorize GitHub account","Select repositories","Configure webhooks","Set up notifications"],pricing:"Free"},{id:"figma",name:"Figma",description:"Sync design files and track creative project progress",category:"design",status:"coming_soon",icon:"",features:["File synchronization","Version tracking","Comment integration","Design handoff"],setupSteps:["Connect Figma account","Select design files","Configure sync settings","Set up notifications"],pricing:"Free to $144/year"},{id:"hubspot",name:"HubSpot",description:"CRM integration for lead management and client tracking",category:"crm",status:"available",icon:"",features:["Lead synchronization","Contact management","Deal tracking","Email integration"],setupSteps:["Connect HubSpot account","Map data fields","Configure sync rules","Set up automation"],pricing:"Free to $3,600/month"}];function A0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState("all"),[a,o]=C.useState(null),l=C.useMemo(()=>[{id:"slack-connected",integrationId:"slack",status:"connected",connectedAt:new Date(Date.now()-7*24*60*60*1e3),lastSync:new Date(Date.now()-30*60*1e3),settings:{channels:["#general","#projects","#client-updates"],notifications:["project_updates","deadline_alerts","client_messages"]}},{id:"google-calendar-connected",integrationId:"google-calendar",status:"connected",connectedAt:new Date(Date.now()-14*24*60*60*1e3),lastSync:new Date(Date.now()-5*60*1e3),settings:{calendars:["Work Calendar","Client Meetings"],syncDirection:"two-way",reminderTime:15}}],[]);C.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const c=[{value:"all",label:"All Categories"},{value:"communication",label:"Communication"},{value:"productivity",label:"Productivity"},{value:"automation",label:"Automation"},{value:"marketing",label:"Marketing"},{value:"financial",label:"Financial"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"crm",label:"CRM"}],u=Zy.filter(p=>n==="all"||p.category===n),d=async p=>{var v;o(p),await new Promise(b=>setTimeout(b,2e3)),alert(`Successfully connected to ${(v=Zy.find(b=>b.id===p))==null?void 0:v.name}!`),o(null)},h=p=>l.find(v=>v.integrationId===p),f=p=>({connected:"bg-green-100 text-green-800",available:"bg-secondary/10 text-secondary",coming_soon:"bg-yellow-100 text-yellow-800"})[p]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" API Integrations Hub"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Connect with your favorite tools and automate your workflow"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Connected Services"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(p=>{const v=Zy.find(b=>b.id===p.integrationId);return v?s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:v.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Connected"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",new Date(p.lastSync).toLocaleString()]})]},p.id):null})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Filter by Category"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:c.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{className:"font-medium",children:["API Status: ",s.jsx("span",{className:"text-green-600",children:" Online"})]}),s.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>{const v=h(p.id),b=a===p.id;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-3xl",children:p.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:p.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f(p.status)}`,children:p.status.replace("_"," ")})]})]}),v&&s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:p.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Key Features:"}),s.jsx("ul",{className:"space-y-1",children:p.features.slice(0,3).map((x,g)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),x]},g))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Pricing: ",s.jsx("span",{className:"text-primary",children:p.pricing})]})}),s.jsx("div",{className:"flex gap-3",children:v?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"flex-1 btn-outline text-sm",children:"Configure"}),s.jsx("button",{className:"btn-outline text-red-600 hover:bg-red-50 text-sm px-4",children:"Disconnect"})]}):p.status==="coming_soon"?s.jsx("button",{className:"flex-1 btn-outline text-sm",disabled:!0,children:"Coming Soon"}):s.jsx("button",{onClick:()=>d(p.id),disabled:b,className:"flex-1 btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:b?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):"Connect"})}),!v&&p.status==="available"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Setup Steps:"}),s.jsx("ol",{className:"text-xs text-muted-foreground space-y-1",children:p.setupSteps.map((x,g)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"flex-shrink-0 w-4 h-4 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium",children:g+1}),x]},g))})]})]},p.id)})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Why Integrate?"}),s.jsx("p",{className:"text-muted-foreground",children:"Maximize productivity with seamless tool connections"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Automate Workflows"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminate manual data entry and repetitive tasks with smart automation"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Real-time Sync"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep all your tools in sync with instant data synchronization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Unified Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get comprehensive insights across all connected platforms"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Developer Resources"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"REST API"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Build custom integrations with our comprehensive REST API"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"View API Documentation"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"Generate API Key"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Receive real-time notifications for system events"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"Configure Webhooks"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"View Event Logs"})]})]})]})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const k0e=[{id:"workflow-1",name:"New Project Welcome Email",description:"Automatically send welcome email when a new project is created",trigger:{type:"project_created",conditions:[]},actions:[{type:"send_email",config:{to:"{{client.email}}",subject:"Welcome to {{project.name}}!",template:"welcome_email"}},{type:"create_task",config:{title:"Send project brief to client",assignee:"account_manager",dueDate:"2 days from now"}}],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),lastTriggered:new Date(Date.now()-2*24*60*60*1e3),triggerCount:15},{id:"workflow-2",name:"High Priority Ticket Escalation",description:"Escalate high-priority tickets and notify team leads",trigger:{type:"ticket_created",conditions:[{field:"priority",operator:"equals",value:"critical"}]},actions:[{type:"notify_user",config:{user:"team_lead",message:"Critical ticket created: {{ticket.title}}",channel:"urgent"}},{type:"update_ticket",config:{status:"in_progress",assignee:"senior_developer"}},{type:"create_meeting",config:{title:"Urgent Ticket Review: {{ticket.title}}",attendees:["team_lead","project_manager"],duration:30}}],isActive:!0,createdAt:new Date(Date.now()-45*24*60*60*1e3),lastTriggered:new Date(Date.now()-1*24*60*60*1e3),triggerCount:8},{id:"workflow-3",name:"Project Completion Celebration",description:"Celebrate project completion with automated notifications",trigger:{type:"project_completed",conditions:[]},actions:[{type:"send_notification",config:{to:"all_team_members",message:" Project {{project.name}} completed successfully!",type:"celebration"}},{type:"create_task",config:{title:"Schedule project retrospective meeting",assignee:"project_manager",dueDate:"1 week from now"}},{type:"send_email",config:{to:"{{client.email}}",subject:"Project {{project.name}} Completed!",template:"completion_email"}}],isActive:!0,createdAt:new Date(Date.now()-60*24*60*60*1e3),lastTriggered:new Date(Date.now()-5*24*60*60*1e3),triggerCount:12}],ev=[{id:"project_created",name:"Project Created",icon:"",description:"When a new project is created"},{id:"project_completed",name:"Project Completed",icon:"",description:"When a project status changes to completed"},{id:"ticket_created",name:"Ticket Created",icon:"",description:"When a new ticket is created"},{id:"ticket_updated",name:"Ticket Updated",icon:"",description:"When a ticket is updated"},{id:"client_feedback",name:"Client Feedback",icon:"",description:"When client submits feedback"},{id:"deadline_approaching",name:"Deadline Approaching",icon:"",description:"When a deadline is within 24 hours"}],tv=[{id:"send_email",name:"Send Email",icon:"",description:"Send an email notification"},{id:"send_notification",name:"Send Notification",icon:"",description:"Send in-app notification"},{id:"create_task",name:"Create Task",icon:"",description:"Create a new task"},{id:"update_ticket",name:"Update Ticket",icon:"",description:"Update ticket properties"},{id:"create_meeting",name:"Create Meeting",icon:"",description:"Schedule a meeting"},{id:"notify_user",name:"Notify User",icon:"",description:"Send notification to specific user"},{id:"webhook",name:"Webhook",icon:"",description:"Send data to external service"}];function T0e(){const{user:t,isSignedIn:e}=me(),r=ge(),n=C.useMemo(()=>k0e,[]),[i,a]=C.useState(n),[o,l]=C.useState(null),[c,u]=C.useState(!1),[d,h]=C.useState({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]});C.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const f=()=>{const g={...d,id:`workflow-${Date.now()}`,isActive:!0,createdAt:new Date,lastTriggered:null,triggerCount:0};a(y=>[g,...y]),h({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]}),u(!1)},p=g=>{a(y=>y.map(w=>w.id===g?{...w,isActive:!w.isActive}:w))},v=g=>{confirm("Are you sure you want to delete this workflow?")&&a(y=>y.filter(w=>w.id!==g))},b=g=>{const y=ev.find(w=>w.id===g);return(y==null?void 0:y.name)||g},x=g=>{const y=tv.find(w=>w.id===g);return(y==null?void 0:y.name)||g};return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(K,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" Workflow Automation"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Create powerful automations to streamline your business processes"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Workflow"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map(g=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g.isActive?"bg-green-500":"bg-gray-400"}`}),s.jsx("button",{onClick:()=>l(g),className:"p-1 hover:bg-muted rounded",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"font-medium",children:b(g.trigger.type)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"font-medium",children:[g.actions.length," configured"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"font-medium",children:[g.triggerCount," times"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(g.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g.isActive?"bg-green-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g.isActive?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:"text-xs text-muted-foreground",children:g.isActive?"Active":"Inactive"})]}),s.jsx("button",{onClick:()=>v(g.id),className:"p-1 text-muted-foreground hover:text-red-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},g.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Triggers"}),s.jsx("div",{className:"space-y-3",children:ev.map(g=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:g.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})]},g.id))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Actions"}),s.jsx("div",{className:"space-y-3",children:tv.map(g=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:g.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:g.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]})]},g.id))})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Create New Workflow"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Workflow Name"}),s.jsx("input",{type:"text",value:d.name,onChange:g=>h(y=>({...y,name:g.target.value})),placeholder:"Enter workflow name",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{value:d.description,onChange:g=>h(y=>({...y,description:g.target.value})),placeholder:"Describe what this workflow does",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Trigger Event"}),s.jsxs("select",{value:d.trigger.type,onChange:g=>h(y=>({...y,trigger:{...y.trigger,type:g.target.value}})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a trigger"}),ev.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsx("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-primary dark:text-primary",children:[" ",s.jsx("strong",{children:"Pro Tip:"})," Start with simple workflows and gradually add complexity. Test your workflows thoroughly before deploying to production."]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>u(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!d.name.trim()||!d.trigger.type,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})]})})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:o.name}),s.jsx("p",{className:"text-muted-foreground",children:o.description})]}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workflow Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 text-sm px-2 py-1 rounded-full ${o.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o.isActive?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"ml-2 text-sm",children:b(o.trigger.type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.actions.length," configured"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.triggerCount," times"]})]}),o.lastTriggered&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Run:"}),s.jsx("span",{className:"ml-2 text-sm",children:new Date(o.lastTriggered).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Configured Actions"}),s.jsxs("div",{className:"space-y-3",children:[o.actions.map((g,y)=>{var w;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-xl",children:((w=tv.find(A=>A.id===g.type))==null?void 0:w.icon)||""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:x(g.type)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configured with ",Object.keys(g.config||{}).length," settings"]})]})]},y)}),o.actions.length===0&&s.jsx("p",{className:"text-muted-foreground text-sm",children:"No actions configured yet"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border mt-8",children:[s.jsx("button",{onClick:()=>l(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Edit Workflow"})]})]})})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500/5 via-blue-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Automation Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your business with intelligent workflows"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Reduce Manual Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate repetitive tasks and focus on strategic work that matters"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Increase Efficiency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Streamline processes and reduce response times across your organization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Improve Consistency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ensure standardized processes and reduce human error in workflows"})]})]})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function E0e(){const{user:t,isSignedIn:e}=me(),r=ge(),[n,i]=C.useState([]),[a,o]=C.useState([]),[l,c]=C.useState([]),[u,d]=C.useState([]),[h,f]=C.useState(!0);C.useEffect(()=>{if(!e){r("/login");return}const w=Xt(),A=xr(),j=Le(),k=t?Ma(t.id):[];i(w),o(A),c(j),d(k),f(!1)},[e,t,r]);const p={totalProjects:n.length,activeProjects:n.filter(w=>w.status==="active").length,completedProjects:n.filter(w=>w.status==="completed").length,totalTickets:a.length,openTickets:a.filter(w=>w.status==="open"||w.status==="in_progress").length,resolvedTickets:a.filter(w=>w.status==="resolved").length,totalUsers:l.length,activeUsers:l.filter(w=>w.isActive).length,unreadMessages:u.filter(w=>!w.isRead&&w.recipientId===(t==null?void 0:t.id)).length,totalRevenue:156750},v=[{type:"project",action:"completed",item:"SpecCon Website",user:"John Developer",time:"2 hours ago",icon:""},{type:"ticket",action:"resolved",item:"Mobile navigation fix",user:"Jane Smith",time:"4 hours ago",icon:""},{type:"message",action:"sent",item:"Client feedback received",user:"Emma Business",time:"6 hours ago",icon:""},{type:"meeting",action:"scheduled",item:"Project review meeting",user:"Admin User",time:"1 day ago",icon:""}],b=()=>{if(!t)return[];switch(t.role){case"admin":return[{title:"New Project",description:"Create a new project",icon:"",action:"/admin/projects/new",color:"bg-primary"},{title:"Manage Users",description:"Add or edit team members",icon:"",action:"/admin/users",color:"bg-green-500"},{title:"View Analytics",description:"Business performance data",icon:"",action:"/analytics",color:"bg-purple-500"},{title:"System Reports",description:"Executive dashboard",icon:"",action:"/reports",color:"bg-orange-500"}];case"web_developer":return[{title:"My Tickets",description:"Assigned development tasks",icon:"",action:"/developer/tickets",color:"bg-primary"},{title:"My Projects",description:"Social media campaigns",icon:"",action:"/coordinator/projects",color:"bg-primary"},{title:"Project Status",description:"View project progress",icon:"",action:"/client-portal/dashboard",color:"bg-primary"},{title:"Submit Feedback",description:"Rate our work",icon:"",action:"/client-portal/feedback",color:"bg-green-500"},{title:"Share Files",description:"Upload project assets",icon:"",action:"/client-portal/files",color:"bg-purple-500"},{title:"Message Team",description:"Contact your team",icon:"",action:"/messages",color:"bg-orange-500"}];default:return[]}},x=[{type:"deadline",title:"Project Deadline Approaching",message:"Andebe platform development deadline is in 2 days",priority:"high",action:"/calendar"},{type:"ticket",title:"High Priority Ticket",message:"Critical bug reported in production system",priority:"urgent",action:"/tickets"},{type:"meeting",title:"Meeting Reminder",message:"Client presentation in 1 hour",priority:"medium",action:"/calendar"}],g=w=>({low:"border-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20"})[w]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",y=w=>({low:"",medium:"",high:"",urgent:""})[w]||"";return t?s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:["Welcome back, ",t.fullName,"! "]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Here's what's happening in your workspace today"})]}),x.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Priority Alerts"}),s.jsx("div",{className:"space-y-4",children:x.map((w,A)=>s.jsx(K,{to:w.action,className:`block p-4 rounded-xl border-l-4 ${g(w.priority)} hover:shadow-md transition-shadow`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:y(w.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:w.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:w.message})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},A))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.resolvedTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Resolved"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeUsers}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Team Members"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",p.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b().map((w,A)=>s.jsx(K,{to:w.action,className:"group p-4 border border-border/50 rounded-lg hover:border-primary/50 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${w.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform`,children:w.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},A))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:v.map((w,A)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-lg",children:w.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-medium",children:w.user})," ",w.action," ",s.jsx("span",{className:"font-medium",children:w.item})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.time})]})]},A))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:s.jsx(K,{to:"/notifications",className:"text-primary hover:underline text-sm font-medium",children:"View all notifications "})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Status"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Healthy"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Response"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"120ms"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Team Productivity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Daily Hours"}),s.jsx("span",{className:"text-sm font-medium",children:"6.8h"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tickets/Day"}),s.jsx("span",{className:"text-sm font-medium",children:"4.2"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"2.1h"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Client Satisfaction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Rating"}),s.jsx("span",{className:"text-sm font-medium",children:"4.8/5.0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"98%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Retention Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"94%"})]})]})]})]})]})}),s.jsx(ye,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function P0e(){const{isSignedIn:t,user:e}=me(),r=ge(),i=Yl().id,a=i?Ql(i):null,o=Le(),l=i?bC(i):[],[c,u]=C.useState(!a),[d,h]=C.useState(a||null),[f,p]=C.useState(a&&o.find(j=>j.id===a.clientId)||null),[v,b]=C.useState(a&&o.find(j=>j.id===a.webDeveloperId)||null),[x,g]=C.useState(a&&o.find(j=>j.id===a.socialMediaCoordinatorId)||null),[y,w]=C.useState(l);if(C.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),C.useEffect(()=>{a||r("/admin/dashboard")},[a,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(c||!d)return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(ye,{})]});const A={totalTickets:y.length,openTickets:y.filter(j=>j.status==="open").length,inProgressTickets:y.filter(j=>j.status==="in_progress").length,resolvedTickets:y.filter(j=>j.status==="resolved"||j.status==="closed").length};return s.jsxs(s.Fragment,{children:[s.jsx(xe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(K,{to:"/admin/dashboard",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:d.name}),s.jsx(Sr,{status:d.status})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(K,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"}),s.jsx(K,{to:`/admin/analytics/${i}`,className:"btn-outline",children:"View Analytics"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Project Type"}),s.jsx("div",{className:"text-foreground capitalize",children:d.projectType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("div",{className:"text-foreground",children:d.description})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Stage"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Di(d.currentStage)})]}),d.websiteUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:d.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:d.websiteUrl})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),f?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:f.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Web Developer"}),v?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:v.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Social Media Coordinator"}),x?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:x.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:x.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]})]})]}),d.projectType==="website"&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Analytics"}),s.jsxs("div",{className:"space-y-4",children:[d.googleAnalyticsPropertyId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:d.googleAnalyticsPropertyId})]}),d.googleAnalyticsViewId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:d.googleAnalyticsViewId})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("div",{className:"text-foreground",children:new Date(d.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.launchDate&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Launch Date"}),s.jsx("div",{className:"text-foreground",children:new Date(d.launchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Last Updated"}),s.jsx("div",{className:"text-foreground",children:Dn(d.updatedAt)})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:A.totalTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:A.openTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.inProgressTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.resolvedTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})]}),d.notes&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Notes"}),s.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:d.notes})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground",children:["Tickets (",y.length,")"]}),s.jsx(K,{to:`/admin/tickets?project=${i}`,className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),y.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tickets for this project yet"}):s.jsx("div",{className:"space-y-4",children:y.slice(0,10).map(j=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.description})]}),s.jsx(ac,{priority:j.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Sr,{status:j.status}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded capitalize",children:j.type.replace("_"," ")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Dn(j.createdAt)})]})]},j.id))})]})]})]})]})}),s.jsx(ye,{})]})}function I0e(){const{user:t}=me();return s.jsx(pve,{},(t==null?void 0:t.id)||"guest")}function C0e(){return s.jsx(Vz,{defaultTheme:"light",storageKey:"marketing-website-theme",children:s.jsx(Rz,{children:s.jsxs(F$,{children:[s.jsx(de,{path:"/",element:s.jsx(Bz,{})}),s.jsx(de,{path:"/login",element:s.jsx(zz,{})}),s.jsx(de,{path:"/register",element:s.jsx(Wz,{})}),s.jsx(de,{path:"/dashboard",element:s.jsx(Hz,{})}),s.jsx(de,{path:"/messages",element:s.jsx(a0e,{})}),s.jsx(de,{path:"/admin/dashboard",element:s.jsx(I0e,{})}),s.jsx(de,{path:"/admin/users",element:s.jsx(_ve,{})}),s.jsx(de,{path:"/admin/users/:id/edit",element:s.jsx(Sve,{})}),s.jsx(de,{path:"/admin/users/new",element:s.jsx(Ove,{})}),s.jsx(de,{path:"/admin/projects",element:s.jsx(Ave,{})}),s.jsx(de,{path:"/admin/projects/new",element:s.jsx(qve,{})}),s.jsx(de,{path:"/admin/projects/:id",element:s.jsx(P0e,{})}),s.jsx(de,{path:"/admin/projects/:id/edit",element:s.jsx(Pve,{})}),s.jsx(de,{path:"/tickets",element:s.jsx(Tve,{})}),s.jsx(de,{path:"/analytics",element:s.jsx(Eve,{})}),s.jsx(de,{path:"/admin/analytics",element:s.jsx(d0e,{})}),s.jsx(de,{path:"/developer/analytics",element:s.jsx(f0e,{})}),s.jsx(de,{path:"/coordinator/analytics",element:s.jsx(m0e,{})}),s.jsx(de,{path:"/client/analytics",element:s.jsx(p0e,{})}),s.jsx(de,{path:"/analytics/:id",element:s.jsx(h0e,{})}),s.jsx(de,{path:"/admin/analytics/:id",element:s.jsx(Ive,{})}),s.jsx(de,{path:"/calendar",element:s.jsx(x0e,{})}),s.jsx(de,{path:"/time-tracking",element:s.jsx(b0e,{})}),s.jsx(de,{path:"/templates",element:s.jsx(j0e,{})}),s.jsx(de,{path:"/reports",element:s.jsx(N0e,{})}),s.jsx(de,{path:"/notifications",element:s.jsx(_0e,{})}),s.jsx(de,{path:"/ai-insights",element:s.jsx(S0e,{})}),s.jsx(de,{path:"/integrations",element:s.jsx(A0e,{})}),s.jsx(de,{path:"/automation",element:s.jsx(T0e,{})}),s.jsx(de,{path:"/search",element:s.jsx(zve,{})}),s.jsx(de,{path:"/dashboard/enhanced",element:s.jsx(E0e,{})}),s.jsx(de,{path:"/admin/tickets",element:s.jsx(kve,{})}),s.jsx(de,{path:"/admin/notifications",element:s.jsx(Cve,{})}),s.jsx(de,{path:"/developer/dashboard",element:s.jsx(Mve,{})}),s.jsx(de,{path:"/developer/tickets",element:s.jsx(Dve,{})}),s.jsx(de,{path:"/coordinator/dashboard",element:s.jsx(Rve,{})}),s.jsx(de,{path:"/coordinator/projects",element:s.jsx(Lve,{})}),s.jsx(de,{path:"/coordinator/analytics/new",element:s.jsx($ve,{})}),s.jsx(de,{path:"/client/dashboard",element:s.jsx(Vve,{})}),s.jsx(de,{path:"/client/projects",element:s.jsx(Fve,{})}),s.jsx(de,{path:"/client/tickets",element:s.jsx(Bve,{})}),s.jsx(de,{path:"/client/tickets/new",element:s.jsx(Uve,{})}),s.jsx(de,{path:"/switch-role",element:s.jsx(Hve,{})}),s.jsx(de,{path:"/client-portal/dashboard",element:s.jsx(o0e,{})}),s.jsx(de,{path:"/client-portal/project/:id",element:s.jsx(l0e,{})}),s.jsx(de,{path:"/client-portal/files",element:s.jsx(c0e,{})}),s.jsx(de,{path:"/client-portal/feedback",element:s.jsx(u0e,{})}),s.jsx(de,{path:"*",element:s.jsx($$,{to:"/",replace:!0})})]})})})}rv.createRoot(document.getElementById("root")).render(s.jsx(L.StrictMode,{children:s.jsx(K$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(C0e,{})})}));
