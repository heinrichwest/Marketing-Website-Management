function E2(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function T2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $y={exports:{}},Mc={},Hy={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=Symbol.for("react.element"),S2=Symbol.for("react.portal"),I2=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),A2=Symbol.for("react.profiler"),P2=Symbol.for("react.provider"),R2=Symbol.for("react.context"),D2=Symbol.for("react.forward_ref"),M2=Symbol.for("react.suspense"),L2=Symbol.for("react.memo"),V2=Symbol.for("react.lazy"),Fp=Symbol.iterator;function O2(t){return t===null||typeof t!="object"?null:(t=Fp&&t[Fp]||t["@@iterator"],typeof t=="function"?t:null)}var qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gy=Object.assign,Ky={};function _i(t,e,r){this.props=t,this.context=e,this.refs=Ky,this.updater=r||qy}_i.prototype.isReactComponent={};_i.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_i.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qy(){}Qy.prototype=_i.prototype;function Yh(t,e,r){this.props=t,this.context=e,this.refs=Ky,this.updater=r||qy}var Xh=Yh.prototype=new Qy;Xh.constructor=Yh;Gy(Xh,_i.prototype);Xh.isPureReactComponent=!0;var Up=Array.isArray,Yy=Object.prototype.hasOwnProperty,Jh={current:null},Xy={key:!0,ref:!0,__self:!0,__source:!0};function Jy(t,e,r){var s,i={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Yy.call(e,s)&&!Xy.hasOwnProperty(s)&&(i[s]=e[s]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var d=Array(c),u=0;u<c;u++)d[u]=arguments[u+2];i.children=d}if(t&&t.defaultProps)for(s in c=t.defaultProps,c)i[s]===void 0&&(i[s]=c[s]);return{$$typeof:go,type:t,key:a,ref:o,props:i,_owner:Jh.current}}function F2(t,e){return{$$typeof:go,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zh(t){return typeof t=="object"&&t!==null&&t.$$typeof===go}function U2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Bp=/\/+/g;function Vd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U2(""+t.key):e.toString(36)}function yl(t,e,r,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case go:case S2:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Vd(o,0):s,Up(i)?(r="",t!=null&&(r=t.replace(Bp,"$&/")+"/"),yl(i,e,r,"",function(u){return u})):i!=null&&(Zh(i)&&(i=F2(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",Up(t))for(var c=0;c<t.length;c++){a=t[c];var d=s+Vd(a,c);o+=yl(a,e,r,d,i)}else if(d=O2(t),typeof d=="function")for(t=d.call(t),c=0;!(a=t.next()).done;)a=a.value,d=s+Vd(a,c++),o+=yl(a,e,r,d,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qo(t,e,r){if(t==null)return t;var s=[],i=0;return yl(t,s,"","",function(a){return e.call(r,a,i++)}),s}function B2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},vl={transition:null},z2={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:vl,ReactCurrentOwner:Jh};function Zy(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Qo,forEach:function(t,e,r){Qo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Qo(t,function(){e++}),e},toArray:function(t){return Qo(t,function(e){return e})||[]},only:function(t){if(!Zh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=_i;oe.Fragment=I2;oe.Profiler=A2;oe.PureComponent=Yh;oe.StrictMode=C2;oe.Suspense=M2;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z2;oe.act=Zy;oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Gy({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Jh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Yy.call(e,d)&&!Xy.hasOwnProperty(d)&&(s[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){c=Array(d);for(var u=0;u<d;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:go,type:t.type,key:i,ref:a,props:s,_owner:o}};oe.createContext=function(t){return t={$$typeof:R2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P2,_context:t},t.Consumer=t};oe.createElement=Jy;oe.createFactory=function(t){var e=Jy.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:D2,render:t}};oe.isValidElement=Zh;oe.lazy=function(t){return{$$typeof:V2,_payload:{_status:-1,_result:t},_init:B2}};oe.memo=function(t,e){return{$$typeof:L2,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=vl.transition;vl.transition={};try{t()}finally{vl.transition=e}};oe.unstable_act=Zy;oe.useCallback=function(t,e){return wt.current.useCallback(t,e)};oe.useContext=function(t){return wt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return wt.current.useEffect(t,e)};oe.useId=function(){return wt.current.useId()};oe.useImperativeHandle=function(t,e,r){return wt.current.useImperativeHandle(t,e,r)};oe.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return wt.current.useMemo(t,e)};oe.useReducer=function(t,e,r){return wt.current.useReducer(t,e,r)};oe.useRef=function(t){return wt.current.useRef(t)};oe.useState=function(t){return wt.current.useState(t)};oe.useSyncExternalStore=function(t,e,r){return wt.current.useSyncExternalStore(t,e,r)};oe.useTransition=function(){return wt.current.useTransition()};oe.version="18.3.1";Hy.exports=oe;var S=Hy.exports;const ev=T2(S),W2=E2({__proto__:null,default:ev},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=S,H2=Symbol.for("react.element"),q2=Symbol.for("react.fragment"),G2=Object.prototype.hasOwnProperty,K2=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q2={key:!0,ref:!0,__self:!0,__source:!0};function tv(t,e,r){var s,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)G2.call(e,s)&&!Q2.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:H2,type:t,key:a,ref:o,props:i,_owner:K2.current}}Mc.Fragment=q2;Mc.jsx=tv;Mc.jsxs=tv;$y.exports=Mc;var n=$y.exports,Eu={},rv={exports:{}},Ot={},nv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var ee=$.length;$.push(G);e:for(;0<ee;){var ke=ee-1>>>1,Me=$[ke];if(0<i(Me,G))$[ke]=G,$[ee]=Me,ee=ke;else break e}}function r($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var G=$[0],ee=$.pop();if(ee!==G){$[0]=ee;e:for(var ke=0,Me=$.length,Gn=Me>>>1;ke<Gn;){var Ut=2*(ke+1)-1,Kn=$[Ut],Xt=Ut+1,Gr=$[Xt];if(0>i(Kn,ee))Xt<Me&&0>i(Gr,Kn)?($[ke]=Gr,$[Xt]=ee,ke=Xt):($[ke]=Kn,$[Ut]=ee,ke=Ut);else if(Xt<Me&&0>i(Gr,ee))$[ke]=Gr,$[Xt]=ee,ke=Xt;else break e}}return G}function i($,G){var ee=$.sortIndex-G.sortIndex;return ee!==0?ee:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],u=[],m=1,g=null,p=3,j=!1,N=!1,k=!1,y=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var G=r(u);G!==null;){if(G.callback===null)s(u);else if(G.startTime<=$)s(u),G.sortIndex=G.expirationTime,e(d,G);else break;G=r(u)}}function R($){if(k=!1,b($),!N)if(r(d)!==null)N=!0,Z(M);else{var G=r(u);G!==null&&Pe(R,G.startTime-$)}}function M($,G){N=!1,k&&(k=!1,f(v),v=-1),j=!0;var ee=p;try{for(b(G),g=r(d);g!==null&&(!(g.expirationTime>G)||$&&!I());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,p=g.priorityLevel;var Me=ke(g.expirationTime<=G);G=t.unstable_now(),typeof Me=="function"?g.callback=Me:g===r(d)&&s(d),b(G)}else s(d);g=r(d)}if(g!==null)var Gn=!0;else{var Ut=r(u);Ut!==null&&Pe(R,Ut.startTime-G),Gn=!1}return Gn}finally{g=null,p=ee,j=!1}}var D=!1,_=null,v=-1,T=5,P=-1;function I(){return!(t.unstable_now()-P<T)}function A(){if(_!==null){var $=t.unstable_now();P=$;var G=!0;try{G=_(!0,$)}finally{G?C():(D=!1,_=null)}}else D=!1}var C;if(typeof w=="function")C=function(){w(A)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,B=Q.port2;Q.port1.onmessage=A,C=function(){B.postMessage(null)}}else C=function(){y(A,0)};function Z($){_=$,D||(D=!0,C())}function Pe($,G){v=y(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){N||j||(N=!0,Z(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var ee=p;p=G;try{return $()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=p;p=$;try{return G()}finally{p=ee}},t.unstable_scheduleCallback=function($,G,ee){var ke=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ke+ee:ke):ee=ke,$){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ee+Me,$={id:m++,callback:G,priorityLevel:$,startTime:ee,expirationTime:Me,sortIndex:-1},ee>ke?($.sortIndex=ee,e(u,$),r(d)===null&&$===r(u)&&(k?(f(v),v=-1):k=!0,Pe(R,ee-ke))):($.sortIndex=Me,e(d,$),N||j||(N=!0,Z(M))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var G=p;return function(){var ee=p;p=G;try{return $.apply(this,arguments)}finally{p=ee}}}})(sv);nv.exports=sv;var Y2=nv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=S,Lt=Y2;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iv=new Set,Va={};function Ns(t,e){di(t,e),di(t+"Capture",e)}function di(t,e){for(Va[t]=e,t=0;t<e.length;t++)iv.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,J2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zp={},Wp={};function Z2(t){return Tu.call(Wp,t)?!0:Tu.call(zp,t)?!1:J2.test(t)?Wp[t]=!0:(zp[t]=!0,!1)}function eN(t,e,r,s){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tN(t,e,r,s){if(e===null||typeof e>"u"||eN(t,e,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,r,s,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var em=/[\-:]([a-z])/g;function tm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(em,tm);it[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(em,tm);it[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(em,tm);it[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rm(t,e,r,s){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tN(e,r,i,s)&&(r=null),s||i===null?Z2(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,s=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,s?t.setAttributeNS(s,e,r):t.setAttribute(e,r))))}var $r=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),nm=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),ov=Symbol.for("react.context"),sm=Symbol.for("react.forward_ref"),Iu=Symbol.for("react.suspense"),Cu=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),lv=Symbol.for("react.offscreen"),$p=Symbol.iterator;function ea(t){return t===null||typeof t!="object"?null:(t=$p&&t[$p]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,Od;function da(t){if(Od===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Od=e&&e[1]||""}return`
`+Od+t}var Fd=!1;function Ud(t,e){if(!t||Fd)return"";Fd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=s.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=c);break}}}finally{Fd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?da(t):""}function rN(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=Ud(t.type,!1),t;case 11:return t=Ud(t.type.render,!1),t;case 1:return t=Ud(t.type,!0),t;default:return""}}function Au(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case Bs:return"Portal";case Su:return"Profiler";case nm:return"StrictMode";case Iu:return"Suspense";case Cu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ov:return(t.displayName||"Context")+".Consumer";case av:return(t._context.displayName||"Context")+".Provider";case sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:Au(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return Au(t(e))}catch{}}return null}function nN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(e);case 8:return e===nm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sN(t){var e=cv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xo(t){t._valueTracker||(t._valueTracker=sN(t))}function dv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=cv(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function Bl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pu(t,e){var r=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Hp(t,e){var r=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;r=Cn(e.value!=null?e.value:r),t._wrapperState={initialChecked:s,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uv(t,e){e=e.checked,e!=null&&rm(t,"checked",e,!1)}function Ru(t,e){uv(t,e);var r=Cn(e.value),s=e.type;if(r!=null)s==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Du(t,e.type,r):e.hasOwnProperty("defaultValue")&&Du(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Du(t,e,r){(e!=="number"||Bl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ua=Array.isArray;function ei(t,e,r,s){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&s&&(t[r].defaultSelected=!0)}else{for(r=""+Cn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(z(92));if(ua(r)){if(1<r.length)throw Error(z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Cn(r)}}function hv(t,e){var r=Cn(e.value),s=Cn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),s!=null&&(t.defaultValue=""+s)}function Kp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jo,fv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iN=["Webkit","ms","Moz","O"];Object.keys(ja).forEach(function(t){iN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ja[e]=ja[t]})});function pv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ja.hasOwnProperty(t)&&ja[t]?(""+e).trim():e+"px"}function gv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var s=r.indexOf("--")===0,i=pv(r,e[r],s);r==="float"&&(r="cssFloat"),s?t.setProperty(r,i):t[r]=i}}var aN=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(t,e){if(e){if(aN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ou(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uu=null,ti=null,ri=null;function Qp(t){if(t=vo(t)){if(typeof Uu!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Uc(e),Uu(t.stateNode,t.type,e))}}function xv(t){ti?ri?ri.push(t):ri=[t]:ti=t}function yv(){if(ti){var t=ti,e=ri;if(ri=ti=null,Qp(t),e)for(t=0;t<e.length;t++)Qp(e[t])}}function vv(t,e){return t(e)}function bv(){}var Bd=!1;function jv(t,e,r){if(Bd)return t(e,r);Bd=!0;try{return vv(t,e,r)}finally{Bd=!1,(ti!==null||ri!==null)&&(bv(),yv())}}function Fa(t,e){var r=t.stateNode;if(r===null)return null;var s=Uc(r);if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(z(231,e,typeof r));return r}var Bu=!1;if(Mr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Bu=!1}function oN(t,e,r,s,i,a,o,c,d){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(m){this.onError(m)}}var wa=!1,zl=null,Wl=!1,zu=null,lN={onError:function(t){wa=!0,zl=t}};function cN(t,e,r,s,i,a,o,c,d){wa=!1,zl=null,oN.apply(lN,arguments)}function dN(t,e,r,s,i,a,o,c,d){if(cN.apply(this,arguments),wa){if(wa){var u=zl;wa=!1,zl=null}else throw Error(z(198));Wl||(Wl=!0,zu=u)}}function _s(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yp(t){if(_s(t)!==t)throw Error(z(188))}function uN(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(z(188));return e!==t?null:t}for(var r=t,s=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Yp(i),t;if(a===s)return Yp(i),e;a=a.sibling}throw Error(z(188))}if(r.return!==s.return)r=i,s=a;else{for(var o=!1,c=i.child;c;){if(c===r){o=!0,r=i,s=a;break}if(c===s){o=!0,s=i,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,s=i;break}if(c===s){o=!0,s=a,r=i;break}c=c.sibling}if(!o)throw Error(z(189))}}if(r.alternate!==s)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?t:e}function Nv(t){return t=uN(t),t!==null?_v(t):null}function _v(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_v(t);if(e!==null)return e;t=t.sibling}return null}var kv=Lt.unstable_scheduleCallback,Xp=Lt.unstable_cancelCallback,hN=Lt.unstable_shouldYield,mN=Lt.unstable_requestPaint,Fe=Lt.unstable_now,fN=Lt.unstable_getCurrentPriorityLevel,om=Lt.unstable_ImmediatePriority,Ev=Lt.unstable_UserBlockingPriority,$l=Lt.unstable_NormalPriority,pN=Lt.unstable_LowPriority,Tv=Lt.unstable_IdlePriority,Lc=null,pr=null;function gN(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Lc,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:vN,xN=Math.log,yN=Math.LN2;function vN(t){return t>>>=0,t===0?32:31-(xN(t)/yN|0)|0}var Zo=64,el=4194304;function ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hl(t,e){var r=t.pendingLanes;if(r===0)return 0;var s=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var c=o&~i;c!==0?s=ha(c):(a&=o,a!==0&&(s=ha(a)))}else o=r&~i,o!==0?s=ha(o):a!==0&&(s=ha(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(s&4&&(s|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)r=31-sr(e),i=1<<r,s|=t[r],e&=~i;return s}function bN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-sr(a),c=1<<o,d=i[o];d===-1?(!(c&r)||c&s)&&(i[o]=bN(c,e)):d<=e&&(t.expiredLanes|=c),a&=~c}}function Wu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sv(){var t=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),t}function zd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=r}function wN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-sr(r),a=1<<i;e[i]=0,s[i]=-1,t[i]=-1,r&=~a}}function lm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-sr(r),i=1<<s;i&e|t[s]&e&&(t[s]|=e),r&=~i}}var ye=0;function Iv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cv,cm,Av,Pv,Rv,$u=!1,tl=[],gn=null,xn=null,yn=null,Ua=new Map,Ba=new Map,an=[],NN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function ra(t,e,r,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=vo(e),e!==null&&cm(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _N(t,e,r,s,i){switch(e){case"focusin":return gn=ra(gn,t,e,r,s,i),!0;case"dragenter":return xn=ra(xn,t,e,r,s,i),!0;case"mouseover":return yn=ra(yn,t,e,r,s,i),!0;case"pointerover":var a=i.pointerId;return Ua.set(a,ra(Ua.get(a)||null,t,e,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Ba.set(a,ra(Ba.get(a)||null,t,e,r,s,i)),!0}return!1}function Dv(t){var e=ss(t.target);if(e!==null){var r=_s(e);if(r!==null){if(e=r.tag,e===13){if(e=wv(r),e!==null){t.blockedOn=e,Rv(t.priority,function(){Av(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Hu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);Fu=s,r.target.dispatchEvent(s),Fu=null}else return e=vo(r),e!==null&&cm(e),t.blockedOn=r,!1;e.shift()}return!0}function Zp(t,e,r){bl(t)&&r.delete(e)}function kN(){$u=!1,gn!==null&&bl(gn)&&(gn=null),xn!==null&&bl(xn)&&(xn=null),yn!==null&&bl(yn)&&(yn=null),Ua.forEach(Zp),Ba.forEach(Zp)}function na(t,e){t.blockedOn===e&&(t.blockedOn=null,$u||($u=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,kN)))}function za(t){function e(i){return na(i,t)}if(0<tl.length){na(tl[0],t);for(var r=1;r<tl.length;r++){var s=tl[r];s.blockedOn===t&&(s.blockedOn=null)}}for(gn!==null&&na(gn,t),xn!==null&&na(xn,t),yn!==null&&na(yn,t),Ua.forEach(e),Ba.forEach(e),r=0;r<an.length;r++)s=an[r],s.blockedOn===t&&(s.blockedOn=null);for(;0<an.length&&(r=an[0],r.blockedOn===null);)Dv(r),r.blockedOn===null&&an.shift()}var ni=$r.ReactCurrentBatchConfig,ql=!0;function EN(t,e,r,s){var i=ye,a=ni.transition;ni.transition=null;try{ye=1,dm(t,e,r,s)}finally{ye=i,ni.transition=a}}function TN(t,e,r,s){var i=ye,a=ni.transition;ni.transition=null;try{ye=4,dm(t,e,r,s)}finally{ye=i,ni.transition=a}}function dm(t,e,r,s){if(ql){var i=Hu(t,e,r,s);if(i===null)Jd(t,e,s,Gl,r),Jp(t,s);else if(_N(i,t,e,r,s))s.stopPropagation();else if(Jp(t,s),e&4&&-1<NN.indexOf(t)){for(;i!==null;){var a=vo(i);if(a!==null&&Cv(a),a=Hu(t,e,r,s),a===null&&Jd(t,e,s,Gl,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else Jd(t,e,s,null,r)}}var Gl=null;function Hu(t,e,r,s){if(Gl=null,t=am(s),t=ss(t),t!==null)if(e=_s(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gl=t,null}function Mv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fN()){case om:return 1;case Ev:return 4;case $l:case pN:return 16;case Tv:return 536870912;default:return 16}default:return 16}}var hn=null,um=null,jl=null;function Lv(){if(jl)return jl;var t,e=um,r=e.length,s,i="value"in hn?hn.value:hn.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(s=1;s<=o&&e[r-s]===i[a-s];s++);return jl=i.slice(t,1<s?1-s:void 0)}function wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rl(){return!0}function eg(){return!1}function Ft(t){function e(r,s,i,a,o){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?rl:eg,this.isPropagationStopped=eg,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),e}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Ft(ki),yo=Ce({},ki,{view:0,detail:0}),SN=Ft(yo),Wd,$d,sa,Vc=Ce({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sa&&(sa&&t.type==="mousemove"?(Wd=t.screenX-sa.screenX,$d=t.screenY-sa.screenY):$d=Wd=0,sa=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:$d}}),tg=Ft(Vc),IN=Ce({},Vc,{dataTransfer:0}),CN=Ft(IN),AN=Ce({},yo,{relatedTarget:0}),Hd=Ft(AN),PN=Ce({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),RN=Ft(PN),DN=Ce({},ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MN=Ft(DN),LN=Ce({},ki,{data:0}),rg=Ft(LN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FN[t])?!!e[t]:!1}function mm(){return UN}var BN=Ce({},yo,{key:function(t){if(t.key){var e=VN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ON[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(t){return t.type==="keypress"?wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zN=Ft(BN),WN=Ce({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ng=Ft(WN),$N=Ce({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),HN=Ft($N),qN=Ce({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),GN=Ft(qN),KN=Ce({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QN=Ft(KN),YN=[9,13,27,32],fm=Mr&&"CompositionEvent"in window,Na=null;Mr&&"documentMode"in document&&(Na=document.documentMode);var XN=Mr&&"TextEvent"in window&&!Na,Vv=Mr&&(!fm||Na&&8<Na&&11>=Na),sg=" ",ig=!1;function Ov(t,e){switch(t){case"keyup":return YN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function JN(t,e){switch(t){case"compositionend":return Fv(e);case"keypress":return e.which!==32?null:(ig=!0,sg);case"textInput":return t=e.data,t===sg&&ig?null:t;default:return null}}function ZN(t,e){if(Ws)return t==="compositionend"||!fm&&Ov(t,e)?(t=Lv(),jl=um=hn=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vv&&e.locale!=="ko"?null:e.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!e1[t.type]:e==="textarea"}function Uv(t,e,r,s){xv(s),e=Kl(e,"onChange"),0<e.length&&(r=new hm("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var _a=null,Wa=null;function t1(t){Xv(t,0)}function Oc(t){var e=qs(t);if(dv(e))return t}function r1(t,e){if(t==="change")return e}var Bv=!1;if(Mr){var qd;if(Mr){var Gd="oninput"in document;if(!Gd){var og=document.createElement("div");og.setAttribute("oninput","return;"),Gd=typeof og.oninput=="function"}qd=Gd}else qd=!1;Bv=qd&&(!document.documentMode||9<document.documentMode)}function lg(){_a&&(_a.detachEvent("onpropertychange",zv),Wa=_a=null)}function zv(t){if(t.propertyName==="value"&&Oc(Wa)){var e=[];Uv(e,Wa,t,am(t)),jv(t1,e)}}function n1(t,e,r){t==="focusin"?(lg(),_a=e,Wa=r,_a.attachEvent("onpropertychange",zv)):t==="focusout"&&lg()}function s1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(Wa)}function i1(t,e){if(t==="click")return Oc(e)}function a1(t,e){if(t==="input"||t==="change")return Oc(e)}function o1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:o1;function $a(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!Tu.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,e){var r=cg(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cg(r)}}function Wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $v(){for(var t=window,e=Bl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bl(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function l1(t){var e=$v(),r=t.focusedElem,s=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Wv(r.ownerDocument.documentElement,r)){if(s!==null&&pm(r)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(s.start,i);s=s.end===void 0?a:Math.min(s.end,i),!t.extend&&a>s&&(i=s,s=a,a=i),i=dg(r,a);var o=dg(r,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c1=Mr&&"documentMode"in document&&11>=document.documentMode,$s=null,qu=null,ka=null,Gu=!1;function ug(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gu||$s==null||$s!==Bl(s)||(s=$s,"selectionStart"in s&&pm(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ka&&$a(ka,s)||(ka=s,s=Kl(qu,"onSelect"),0<s.length&&(e=new hm("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=$s)))}function nl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hs={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionend:nl("Transition","TransitionEnd")},Kd={},Hv={};Mr&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Fc(t){if(Kd[t])return Kd[t];if(!Hs[t])return t;var e=Hs[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Hv)return Kd[t]=e[r];return t}var qv=Fc("animationend"),Gv=Fc("animationiteration"),Kv=Fc("animationstart"),Qv=Fc("transitionend"),Yv=new Map,hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(t,e){Yv.set(t,e),Ns(e,[t])}for(var Qd=0;Qd<hg.length;Qd++){var Yd=hg[Qd],d1=Yd.toLowerCase(),u1=Yd[0].toUpperCase()+Yd.slice(1);Fn(d1,"on"+u1)}Fn(qv,"onAnimationEnd");Fn(Gv,"onAnimationIteration");Fn(Kv,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(Qv,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function mg(t,e,r){var s=t.type||"unknown-event";t.currentTarget=r,dN(s,e,void 0,t),t.currentTarget=null}function Xv(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var c=s[o],d=c.instance,u=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;mg(i,c,u),a=d}else for(o=0;o<s.length;o++){if(c=s[o],d=c.instance,u=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;mg(i,c,u),a=d}}}if(Wl)throw t=zu,Wl=!1,zu=null,t}function we(t,e){var r=e[Ju];r===void 0&&(r=e[Ju]=new Set);var s=t+"__bubble";r.has(s)||(Jv(e,t,2,!1),r.add(s))}function Xd(t,e,r){var s=0;e&&(s|=4),Jv(r,t,s,e)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ha(t){if(!t[sl]){t[sl]=!0,iv.forEach(function(r){r!=="selectionchange"&&(h1.has(r)||Xd(r,!1,t),Xd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sl]||(e[sl]=!0,Xd("selectionchange",!1,e))}}function Jv(t,e,r,s){switch(Mv(e)){case 1:var i=EN;break;case 4:i=TN;break;default:i=dm}r=i.bind(null,e,r,t),i=void 0,!Bu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Jd(t,e,r,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var c=s.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=ss(c),o===null)return;if(d=o.tag,d===5||d===6){s=a=o;continue e}c=c.parentNode}}s=s.return}jv(function(){var u=a,m=am(r),g=[];e:{var p=Yv.get(t);if(p!==void 0){var j=hm,N=t;switch(t){case"keypress":if(wl(r)===0)break e;case"keydown":case"keyup":j=zN;break;case"focusin":N="focus",j=Hd;break;case"focusout":N="blur",j=Hd;break;case"beforeblur":case"afterblur":j=Hd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=CN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=HN;break;case qv:case Gv:case Kv:j=RN;break;case Qv:j=GN;break;case"scroll":j=SN;break;case"wheel":j=QN;break;case"copy":case"cut":case"paste":j=MN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ng}var k=(e&4)!==0,y=!k&&t==="scroll",f=k?p!==null?p+"Capture":null:p;k=[];for(var w=u,b;w!==null;){b=w;var R=b.stateNode;if(b.tag===5&&R!==null&&(b=R,f!==null&&(R=Fa(w,f),R!=null&&k.push(qa(w,R,b)))),y)break;w=w.return}0<k.length&&(p=new j(p,N,null,r,m),g.push({event:p,listeners:k}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",p&&r!==Fu&&(N=r.relatedTarget||r.fromElement)&&(ss(N)||N[Lr]))break e;if((j||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,j?(N=r.relatedTarget||r.toElement,j=u,N=N?ss(N):null,N!==null&&(y=_s(N),N!==y||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=u),j!==N)){if(k=tg,R="onMouseLeave",f="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=ng,R="onPointerLeave",f="onPointerEnter",w="pointer"),y=j==null?p:qs(j),b=N==null?p:qs(N),p=new k(R,w+"leave",j,r,m),p.target=y,p.relatedTarget=b,R=null,ss(m)===u&&(k=new k(f,w+"enter",N,r,m),k.target=b,k.relatedTarget=y,R=k),y=R,j&&N)t:{for(k=j,f=N,w=0,b=k;b;b=Rs(b))w++;for(b=0,R=f;R;R=Rs(R))b++;for(;0<w-b;)k=Rs(k),w--;for(;0<b-w;)f=Rs(f),b--;for(;w--;){if(k===f||f!==null&&k===f.alternate)break t;k=Rs(k),f=Rs(f)}k=null}else k=null;j!==null&&fg(g,p,j,k,!1),N!==null&&y!==null&&fg(g,y,N,k,!0)}}e:{if(p=u?qs(u):window,j=p.nodeName&&p.nodeName.toLowerCase(),j==="select"||j==="input"&&p.type==="file")var M=r1;else if(ag(p))if(Bv)M=a1;else{M=s1;var D=n1}else(j=p.nodeName)&&j.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=i1);if(M&&(M=M(t,u))){Uv(g,M,r,m);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Du(p,"number",p.value)}switch(D=u?qs(u):window,t){case"focusin":(ag(D)||D.contentEditable==="true")&&($s=D,qu=u,ka=null);break;case"focusout":ka=qu=$s=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,ug(g,r,m);break;case"selectionchange":if(c1)break;case"keydown":case"keyup":ug(g,r,m)}var _;if(fm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ws?Ov(t,r)&&(v="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(v="onCompositionStart");v&&(Vv&&r.locale!=="ko"&&(Ws||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ws&&(_=Lv()):(hn=m,um="value"in hn?hn.value:hn.textContent,Ws=!0)),D=Kl(u,v),0<D.length&&(v=new rg(v,t,null,r,m),g.push({event:v,listeners:D}),_?v.data=_:(_=Fv(r),_!==null&&(v.data=_)))),(_=XN?JN(t,r):ZN(t,r))&&(u=Kl(u,"onBeforeInput"),0<u.length&&(m=new rg("onBeforeInput","beforeinput",null,r,m),g.push({event:m,listeners:u}),m.data=_))}Xv(g,e)})}function qa(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kl(t,e){for(var r=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fa(t,r),a!=null&&s.unshift(qa(t,a,i)),a=Fa(t,e),a!=null&&s.push(qa(t,a,i))),t=t.return}return s}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fg(t,e,r,s,i){for(var a=e._reactName,o=[];r!==null&&r!==s;){var c=r,d=c.alternate,u=c.stateNode;if(d!==null&&d===s)break;c.tag===5&&u!==null&&(c=u,i?(d=Fa(r,a),d!=null&&o.unshift(qa(r,d,c))):i||(d=Fa(r,a),d!=null&&o.push(qa(r,d,c)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var m1=/\r\n?/g,f1=/\u0000|\uFFFD/g;function pg(t){return(typeof t=="string"?t:""+t).replace(m1,`
`).replace(f1,"")}function il(t,e,r){if(e=pg(e),pg(t)!==e&&r)throw Error(z(425))}function Ql(){}var Ku=null,Qu=null;function Yu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,p1=typeof clearTimeout=="function"?clearTimeout:void 0,gg=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof gg<"u"?function(t){return gg.resolve(null).then(t).catch(x1)}:Xu;function x1(t){setTimeout(function(){throw t})}function Zd(t,e){var r=e,s=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(s===0){t.removeChild(i),za(e);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=i}while(r);za(e)}function vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),fr="__reactFiber$"+Ei,Ga="__reactProps$"+Ei,Lr="__reactContainer$"+Ei,Ju="__reactEvents$"+Ei,y1="__reactListeners$"+Ei,v1="__reactHandles$"+Ei;function ss(t){var e=t[fr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Lr]||r[fr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xg(t);t!==null;){if(r=t[fr])return r;t=xg(t)}return e}t=r,r=t.parentNode}return null}function vo(t){return t=t[fr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Uc(t){return t[Ga]||null}var Zu=[],Gs=-1;function Un(t){return{current:t}}function _e(t){0>Gs||(t.current=Zu[Gs],Zu[Gs]=null,Gs--)}function be(t,e){Gs++,Zu[Gs]=t.current,t.current=e}var An={},pt=Un(An),Tt=Un(!1),us=An;function ui(t,e){var r=t.type.contextTypes;if(!r)return An;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function Yl(){_e(Tt),_e(pt)}function yg(t,e,r){if(pt.current!==An)throw Error(z(168));be(pt,e),be(Tt,r)}function Zv(t,e,r){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(z(108,nN(t)||"Unknown",i));return Ce({},r,s)}function Xl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||An,us=pt.current,be(pt,t),be(Tt,Tt.current),!0}function vg(t,e,r){var s=t.stateNode;if(!s)throw Error(z(169));r?(t=Zv(t,e,us),s.__reactInternalMemoizedMergedChildContext=t,_e(Tt),_e(pt),be(pt,t)):_e(Tt),be(Tt,r)}var Tr=null,Bc=!1,eu=!1;function e0(t){Tr===null?Tr=[t]:Tr.push(t)}function b1(t){Bc=!0,e0(t)}function Bn(){if(!eu&&Tr!==null){eu=!0;var t=0,e=ye;try{var r=Tr;for(ye=1;t<r.length;t++){var s=r[t];do s=s(!0);while(s!==null)}Tr=null,Bc=!1}catch(i){throw Tr!==null&&(Tr=Tr.slice(t+1)),kv(om,Bn),i}finally{ye=e,eu=!1}}return null}var Ks=[],Qs=0,Jl=null,Zl=0,Bt=[],zt=0,hs=null,Sr=1,Ir="";function es(t,e){Ks[Qs++]=Zl,Ks[Qs++]=Jl,Jl=t,Zl=e}function t0(t,e,r){Bt[zt++]=Sr,Bt[zt++]=Ir,Bt[zt++]=hs,hs=t;var s=Sr;t=Ir;var i=32-sr(s)-1;s&=~(1<<i),r+=1;var a=32-sr(e)+i;if(30<a){var o=i-i%5;a=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Sr=1<<32-sr(e)+i|r<<i|s,Ir=a+t}else Sr=1<<a|r<<i|s,Ir=t}function gm(t){t.return!==null&&(es(t,1),t0(t,1,0))}function xm(t){for(;t===Jl;)Jl=Ks[--Qs],Ks[Qs]=null,Zl=Ks[--Qs],Ks[Qs]=null;for(;t===hs;)hs=Bt[--zt],Bt[zt]=null,Ir=Bt[--zt],Bt[zt]=null,Sr=Bt[--zt],Bt[zt]=null}var Mt=null,Dt=null,Ee=!1,tr=null;function r0(t,e){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function bg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hs!==null?{id:Sr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Mt=t,Dt=null,!0):!1;default:return!1}}function eh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function th(t){if(Ee){var e=Dt;if(e){var r=e;if(!bg(t,e)){if(eh(t))throw Error(z(418));e=vn(r.nextSibling);var s=Mt;e&&bg(t,e)?r0(s,r):(t.flags=t.flags&-4097|2,Ee=!1,Mt=t)}}else{if(eh(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ee=!1,Mt=t}}}function jg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function al(t){if(t!==Mt)return!1;if(!Ee)return jg(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yu(t.type,t.memoizedProps)),e&&(e=Dt)){if(eh(t))throw n0(),Error(z(418));for(;e;)r0(t,e),e=vn(e.nextSibling)}if(jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Dt=vn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Mt?vn(t.stateNode.nextSibling):null;return!0}function n0(){for(var t=Dt;t;)t=vn(t.nextSibling)}function hi(){Dt=Mt=null,Ee=!1}function ym(t){tr===null?tr=[t]:tr.push(t)}var j1=$r.ReactCurrentBatchConfig;function ia(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var s=r.stateNode}if(!s)throw Error(z(147,t));var i=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,t))}return t}function ol(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wg(t){var e=t._init;return e(t._payload)}function s0(t){function e(f,w){if(t){var b=f.deletions;b===null?(f.deletions=[w],f.flags|=16):b.push(w)}}function r(f,w){if(!t)return null;for(;w!==null;)e(f,w),w=w.sibling;return null}function s(f,w){for(f=new Map;w!==null;)w.key!==null?f.set(w.key,w):f.set(w.index,w),w=w.sibling;return f}function i(f,w){return f=Nn(f,w),f.index=0,f.sibling=null,f}function a(f,w,b){return f.index=b,t?(b=f.alternate,b!==null?(b=b.index,b<w?(f.flags|=2,w):b):(f.flags|=2,w)):(f.flags|=1048576,w)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function c(f,w,b,R){return w===null||w.tag!==6?(w=ou(b,f.mode,R),w.return=f,w):(w=i(w,b),w.return=f,w)}function d(f,w,b,R){var M=b.type;return M===zs?m(f,w,b.props.children,R,b.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nn&&wg(M)===w.type)?(R=i(w,b.props),R.ref=ia(f,w,b),R.return=f,R):(R=Il(b.type,b.key,b.props,null,f.mode,R),R.ref=ia(f,w,b),R.return=f,R)}function u(f,w,b,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=lu(b,f.mode,R),w.return=f,w):(w=i(w,b.children||[]),w.return=f,w)}function m(f,w,b,R,M){return w===null||w.tag!==7?(w=cs(b,f.mode,R,M),w.return=f,w):(w=i(w,b),w.return=f,w)}function g(f,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ou(""+w,f.mode,b),w.return=f,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yo:return b=Il(w.type,w.key,w.props,null,f.mode,b),b.ref=ia(f,null,w),b.return=f,b;case Bs:return w=lu(w,f.mode,b),w.return=f,w;case nn:var R=w._init;return g(f,R(w._payload),b)}if(ua(w)||ea(w))return w=cs(w,f.mode,b,null),w.return=f,w;ol(f,w)}return null}function p(f,w,b,R){var M=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:c(f,w,""+b,R);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yo:return b.key===M?d(f,w,b,R):null;case Bs:return b.key===M?u(f,w,b,R):null;case nn:return M=b._init,p(f,w,M(b._payload),R)}if(ua(b)||ea(b))return M!==null?null:m(f,w,b,R,null);ol(f,b)}return null}function j(f,w,b,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return f=f.get(b)||null,c(w,f,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Yo:return f=f.get(R.key===null?b:R.key)||null,d(w,f,R,M);case Bs:return f=f.get(R.key===null?b:R.key)||null,u(w,f,R,M);case nn:var D=R._init;return j(f,w,b,D(R._payload),M)}if(ua(R)||ea(R))return f=f.get(b)||null,m(w,f,R,M,null);ol(w,R)}return null}function N(f,w,b,R){for(var M=null,D=null,_=w,v=w=0,T=null;_!==null&&v<b.length;v++){_.index>v?(T=_,_=null):T=_.sibling;var P=p(f,_,b[v],R);if(P===null){_===null&&(_=T);break}t&&_&&P.alternate===null&&e(f,_),w=a(P,w,v),D===null?M=P:D.sibling=P,D=P,_=T}if(v===b.length)return r(f,_),Ee&&es(f,v),M;if(_===null){for(;v<b.length;v++)_=g(f,b[v],R),_!==null&&(w=a(_,w,v),D===null?M=_:D.sibling=_,D=_);return Ee&&es(f,v),M}for(_=s(f,_);v<b.length;v++)T=j(_,f,v,b[v],R),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?v:T.key),w=a(T,w,v),D===null?M=T:D.sibling=T,D=T);return t&&_.forEach(function(I){return e(f,I)}),Ee&&es(f,v),M}function k(f,w,b,R){var M=ea(b);if(typeof M!="function")throw Error(z(150));if(b=M.call(b),b==null)throw Error(z(151));for(var D=M=null,_=w,v=w=0,T=null,P=b.next();_!==null&&!P.done;v++,P=b.next()){_.index>v?(T=_,_=null):T=_.sibling;var I=p(f,_,P.value,R);if(I===null){_===null&&(_=T);break}t&&_&&I.alternate===null&&e(f,_),w=a(I,w,v),D===null?M=I:D.sibling=I,D=I,_=T}if(P.done)return r(f,_),Ee&&es(f,v),M;if(_===null){for(;!P.done;v++,P=b.next())P=g(f,P.value,R),P!==null&&(w=a(P,w,v),D===null?M=P:D.sibling=P,D=P);return Ee&&es(f,v),M}for(_=s(f,_);!P.done;v++,P=b.next())P=j(_,f,v,P.value,R),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?v:P.key),w=a(P,w,v),D===null?M=P:D.sibling=P,D=P);return t&&_.forEach(function(A){return e(f,A)}),Ee&&es(f,v),M}function y(f,w,b,R){if(typeof b=="object"&&b!==null&&b.type===zs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yo:e:{for(var M=b.key,D=w;D!==null;){if(D.key===M){if(M=b.type,M===zs){if(D.tag===7){r(f,D.sibling),w=i(D,b.props.children),w.return=f,f=w;break e}}else if(D.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===nn&&wg(M)===D.type){r(f,D.sibling),w=i(D,b.props),w.ref=ia(f,D,b),w.return=f,f=w;break e}r(f,D);break}else e(f,D);D=D.sibling}b.type===zs?(w=cs(b.props.children,f.mode,R,b.key),w.return=f,f=w):(R=Il(b.type,b.key,b.props,null,f.mode,R),R.ref=ia(f,w,b),R.return=f,f=R)}return o(f);case Bs:e:{for(D=b.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(f,w.sibling),w=i(w,b.children||[]),w.return=f,f=w;break e}else{r(f,w);break}else e(f,w);w=w.sibling}w=lu(b,f.mode,R),w.return=f,f=w}return o(f);case nn:return D=b._init,y(f,w,D(b._payload),R)}if(ua(b))return N(f,w,b,R);if(ea(b))return k(f,w,b,R);ol(f,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(f,w.sibling),w=i(w,b),w.return=f,f=w):(r(f,w),w=ou(b,f.mode,R),w.return=f,f=w),o(f)):r(f,w)}return y}var mi=s0(!0),i0=s0(!1),ec=Un(null),tc=null,Ys=null,vm=null;function bm(){vm=Ys=tc=null}function jm(t){var e=ec.current;_e(ec),t._currentValue=e}function rh(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function si(t,e){tc=t,vm=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(vm!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(tc===null)throw Error(z(308));Ys=t,tc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var is=null;function wm(t){is===null?is=[t]:is.push(t)}function a0(t,e,r,s){var i=e.interleaved;return i===null?(r.next=r,wm(e)):(r.next=i.next,i.next=r),e.interleaved=r,Vr(t,s)}function Vr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var sn=!1;function Nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,fe&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Vr(t,r)}return i=s.interleaved,i===null?(e.next=e,wm(s)):(e.next=i.next,i.next=e),s.interleaved=e,Vr(t,r)}function Nl(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,lm(t,r)}}function Ng(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rc(t,e,r,s){var i=t.updateQueue;sn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,u=d.next;d.next=null,o===null?a=u:o.next=u,o=d;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=d))}if(a!==null){var g=i.baseState;o=0,m=u=d=null,c=a;do{var p=c.lane,j=c.eventTime;if((s&p)===p){m!==null&&(m=m.next={eventTime:j,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,k=c;switch(p=e,j=r,k.tag){case 1:if(N=k.payload,typeof N=="function"){g=N.call(j,g,p);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=k.payload,p=typeof N=="function"?N.call(j,g,p):N,p==null)break e;g=Ce({},g,p);break e;case 2:sn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[c]:p.push(c))}else j={eventTime:j,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=j,d=g):m=m.next=j,o|=p;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;p=c,c=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(m===null&&(d=g),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);fs|=o,t.lanes=o,t.memoizedState=g}}function _g(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=r,typeof i!="function")throw Error(z(191,i));i.call(s)}}}var bo={},gr=Un(bo),Ka=Un(bo),Qa=Un(bo);function as(t){if(t===bo)throw Error(z(174));return t}function _m(t,e){switch(be(Qa,e),be(Ka,t),be(gr,bo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lu(e,t)}_e(gr),be(gr,e)}function fi(){_e(gr),_e(Ka),_e(Qa)}function l0(t){as(Qa.current);var e=as(gr.current),r=Lu(e,t.type);e!==r&&(be(Ka,t),be(gr,r))}function km(t){Ka.current===t&&(_e(gr),_e(Ka))}var Te=Un(0);function nc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tu=[];function Em(){for(var t=0;t<tu.length;t++)tu[t]._workInProgressVersionPrimary=null;tu.length=0}var _l=$r.ReactCurrentDispatcher,ru=$r.ReactCurrentBatchConfig,ms=0,Ie=null,He=null,Xe=null,sc=!1,Ea=!1,Ya=0,w1=0;function lt(){throw Error(z(321))}function Tm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ar(t[r],e[r]))return!1;return!0}function Sm(t,e,r,s,i,a){if(ms=a,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_l.current=t===null||t.memoizedState===null?E1:T1,t=r(s,i),Ea){a=0;do{if(Ea=!1,Ya=0,25<=a)throw Error(z(301));a+=1,Xe=He=null,e.updateQueue=null,_l.current=S1,t=r(s,i)}while(Ea)}if(_l.current=ic,e=He!==null&&He.next!==null,ms=0,Xe=He=Ie=null,sc=!1,e)throw Error(z(300));return t}function Im(){var t=Ya!==0;return Ya=0,t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ie.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Qt(){if(He===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=Xe===null?Ie.memoizedState:Xe.next;if(e!==null)Xe=e,He=t;else{if(t===null)throw Error(z(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Xe===null?Ie.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Xa(t,e){return typeof e=="function"?e(t):e}function nu(t){var e=Qt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var s=He,i=s.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}s.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,s=s.baseState;var c=o=null,d=null,u=a;do{var m=u.lane;if((ms&m)===m)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var g={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(c=d=g,o=s):d=d.next=g,Ie.lanes|=m,fs|=m}u=u.next}while(u!==null&&u!==a);d===null?o=s:d.next=c,ar(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=d,r.lastRenderedState=s}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Ie.lanes|=a,fs|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function su(t){var e=Qt(),r=e.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=t;var s=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);ar(a,e.memoizedState)||(Et=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,s]}function c0(){}function d0(t,e){var r=Ie,s=Qt(),i=e(),a=!ar(s.memoizedState,i);if(a&&(s.memoizedState=i,Et=!0),s=s.queue,Cm(m0.bind(null,r,s,t),[t]),s.getSnapshot!==e||a||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Ja(9,h0.bind(null,r,s,i,e),void 0,null),Ze===null)throw Error(z(349));ms&30||u0(r,e,i)}return i}function u0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function h0(t,e,r,s){e.value=r,e.getSnapshot=s,f0(e)&&p0(t)}function m0(t,e,r){return r(function(){f0(e)&&p0(t)})}function f0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ar(t,r)}catch{return!0}}function p0(t){var e=Vr(t,1);e!==null&&ir(e,t,1,-1)}function kg(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t},e.queue=t,t=t.dispatch=k1.bind(null,Ie,t),[e.memoizedState,t]}function Ja(t,e,r,s){return t={tag:t,create:e,destroy:r,deps:s,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t)),t}function g0(){return Qt().memoizedState}function kl(t,e,r,s){var i=hr();Ie.flags|=t,i.memoizedState=Ja(1|e,r,void 0,s===void 0?null:s)}function zc(t,e,r,s){var i=Qt();s=s===void 0?null:s;var a=void 0;if(He!==null){var o=He.memoizedState;if(a=o.destroy,s!==null&&Tm(s,o.deps)){i.memoizedState=Ja(e,r,a,s);return}}Ie.flags|=t,i.memoizedState=Ja(1|e,r,a,s)}function Eg(t,e){return kl(8390656,8,t,e)}function Cm(t,e){return zc(2048,8,t,e)}function x0(t,e){return zc(4,2,t,e)}function y0(t,e){return zc(4,4,t,e)}function v0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b0(t,e,r){return r=r!=null?r.concat([t]):null,zc(4,4,v0.bind(null,e,t),r)}function Am(){}function j0(t,e){var r=Qt();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Tm(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function w0(t,e){var r=Qt();e=e===void 0?null:e;var s=r.memoizedState;return s!==null&&e!==null&&Tm(e,s[1])?s[0]:(t=t(),r.memoizedState=[t,e],t)}function N0(t,e,r){return ms&21?(ar(r,e)||(r=Sv(),Ie.lanes|=r,fs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=r)}function N1(t,e){var r=ye;ye=r!==0&&4>r?r:4,t(!0);var s=ru.transition;ru.transition={};try{t(!1),e()}finally{ye=r,ru.transition=s}}function _0(){return Qt().memoizedState}function _1(t,e,r){var s=wn(t);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},k0(t))E0(e,r);else if(r=a0(t,e,r,s),r!==null){var i=bt();ir(r,t,s,i),T0(r,e,s)}}function k1(t,e,r){var s=wn(t),i={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(k0(t))E0(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,r);if(i.hasEagerState=!0,i.eagerState=c,ar(c,o)){var d=e.interleaved;d===null?(i.next=i,wm(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}r=a0(t,e,i,s),r!==null&&(i=bt(),ir(r,t,s,i),T0(r,e,s))}}function k0(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function E0(t,e){Ea=sc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function T0(t,e,r){if(r&4194240){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,lm(t,r)}}var ic={readContext:Kt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},E1={readContext:Kt,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:Eg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,kl(4194308,4,v0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return kl(4,2,t,e)},useMemo:function(t,e){var r=hr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var s=hr();return e=r!==void 0?r(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=_1.bind(null,Ie,t),[s.memoizedState,t]},useRef:function(t){var e=hr();return t={current:t},e.memoizedState=t},useState:kg,useDebugValue:Am,useDeferredValue:function(t){return hr().memoizedState=t},useTransition:function(){var t=kg(!1),e=t[0];return t=N1.bind(null,t[1]),hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var s=Ie,i=hr();if(Ee){if(r===void 0)throw Error(z(407));r=r()}else{if(r=e(),Ze===null)throw Error(z(349));ms&30||u0(s,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Eg(m0.bind(null,s,a,t),[t]),s.flags|=2048,Ja(9,h0.bind(null,s,a,r,e),void 0,null),r},useId:function(){var t=hr(),e=Ze.identifierPrefix;if(Ee){var r=Ir,s=Sr;r=(s&~(1<<32-sr(s)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ya++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=w1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T1={readContext:Kt,useCallback:j0,useContext:Kt,useEffect:Cm,useImperativeHandle:b0,useInsertionEffect:x0,useLayoutEffect:y0,useMemo:w0,useReducer:nu,useRef:g0,useState:function(){return nu(Xa)},useDebugValue:Am,useDeferredValue:function(t){var e=Qt();return N0(e,He.memoizedState,t)},useTransition:function(){var t=nu(Xa)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:d0,useId:_0,unstable_isNewReconciler:!1},S1={readContext:Kt,useCallback:j0,useContext:Kt,useEffect:Cm,useImperativeHandle:b0,useInsertionEffect:x0,useLayoutEffect:y0,useMemo:w0,useReducer:su,useRef:g0,useState:function(){return su(Xa)},useDebugValue:Am,useDeferredValue:function(t){var e=Qt();return He===null?e.memoizedState=t:N0(e,He.memoizedState,t)},useTransition:function(){var t=su(Xa)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:c0,useSyncExternalStore:d0,useId:_0,unstable_isNewReconciler:!1};function Zt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nh(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Ce({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wc={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var s=bt(),i=wn(t),a=Pr(s,i);a.payload=e,r!=null&&(a.callback=r),e=bn(t,a,i),e!==null&&(ir(e,t,i,s),Nl(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=bt(),i=wn(t),a=Pr(s,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=bn(t,a,i),e!==null&&(ir(e,t,i,s),Nl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bt(),s=wn(t),i=Pr(r,s);i.tag=2,e!=null&&(i.callback=e),e=bn(t,i,s),e!==null&&(ir(e,t,s,r),Nl(e,t,s))}};function Tg(t,e,r,s,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!$a(r,s)||!$a(i,a):!0}function S0(t,e,r){var s=!1,i=An,a=e.contextType;return typeof a=="object"&&a!==null?a=Kt(a):(i=St(e)?us:pt.current,s=e.contextTypes,a=(s=s!=null)?ui(t,i):An),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wc,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Sg(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&Wc.enqueueReplaceState(e,e.state,null)}function sh(t,e,r,s){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Nm(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Kt(a):(a=St(e)?us:pt.current,i.context=ui(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nh(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wc.enqueueReplaceState(i,i.state,null),rc(t,r,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pi(t,e){try{var r="",s=e;do r+=rN(s),s=s.return;while(s);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function iu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ih(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var I1=typeof WeakMap=="function"?WeakMap:Map;function I0(t,e,r){r=Pr(-1,r),r.tag=3,r.payload={element:null};var s=e.value;return r.callback=function(){oc||(oc=!0,ph=s),ih(t,e)},r}function C0(t,e,r){r=Pr(-1,r),r.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;r.payload=function(){return s(i)},r.callback=function(){ih(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ih(t,e),typeof s!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ig(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new I1;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(r)||(i.add(r),t=W1.bind(null,t,e,r),e.then(t,t))}function Cg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ag(t,e,r,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pr(-1,1),e.tag=2,bn(r,e,1))),r.lanes|=1),t)}var C1=$r.ReactCurrentOwner,Et=!1;function vt(t,e,r,s){e.child=t===null?i0(e,null,r,s):mi(e,t.child,r,s)}function Pg(t,e,r,s,i){r=r.render;var a=e.ref;return si(e,i),s=Sm(t,e,r,s,a,i),r=Im(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ee&&r&&gm(e),e.flags|=1,vt(t,e,s,i),e.child)}function Rg(t,e,r,s,i){if(t===null){var a=r.type;return typeof a=="function"&&!Fm(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,A0(t,e,a,s,i)):(t=Il(r.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$a,r(o,s)&&t.ref===e.ref)return Or(t,e,i)}return e.flags|=1,t=Nn(a,s),t.ref=e.ref,t.return=e,e.child=t}function A0(t,e,r,s,i){if(t!==null){var a=t.memoizedProps;if($a(a,s)&&t.ref===e.ref)if(Et=!1,e.pendingProps=s=a,(t.lanes&i)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Or(t,e,i)}return ah(t,e,r,s,i)}function P0(t,e,r){var s=e.pendingProps,i=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Js,Rt),Rt|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Js,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,be(Js,Rt),Rt|=s}else a!==null?(s=a.baseLanes|r,e.memoizedState=null):s=r,be(Js,Rt),Rt|=s;return vt(t,e,i,r),e.child}function R0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ah(t,e,r,s,i){var a=St(r)?us:pt.current;return a=ui(e,a),si(e,i),r=Sm(t,e,r,s,a,i),s=Im(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Or(t,e,i)):(Ee&&s&&gm(e),e.flags|=1,vt(t,e,r,i),e.child)}function Dg(t,e,r,s,i){if(St(r)){var a=!0;Xl(e)}else a=!1;if(si(e,i),e.stateNode===null)El(t,e),S0(e,r,s),sh(e,r,s,i),s=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var d=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=St(r)?us:pt.current,u=ui(e,u));var m=r.getDerivedStateFromProps,g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==s||d!==u)&&Sg(e,o,s,u),sn=!1;var p=e.memoizedState;o.state=p,rc(e,s,o,i),d=e.memoizedState,c!==s||p!==d||Tt.current||sn?(typeof m=="function"&&(nh(e,r,m,s),d=e.memoizedState),(c=sn||Tg(e,r,c,s,p,d,u))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=d),o.props=s,o.state=d,o.context=u,s=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,o0(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:Zt(e.type,c),o.props=u,g=e.pendingProps,p=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Kt(d):(d=St(r)?us:pt.current,d=ui(e,d));var j=r.getDerivedStateFromProps;(m=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==g||p!==d)&&Sg(e,o,s,d),sn=!1,p=e.memoizedState,o.state=p,rc(e,s,o,i);var N=e.memoizedState;c!==g||p!==N||Tt.current||sn?(typeof j=="function"&&(nh(e,r,j,s),N=e.memoizedState),(u=sn||Tg(e,r,u,s,p,N,d)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,N,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,N,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=N),o.props=s,o.state=N,o.context=d,s=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return oh(t,e,r,s,a,i)}function oh(t,e,r,s,i,a){R0(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&vg(e,r,!1),Or(t,e,a);s=e.stateNode,C1.current=e;var c=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=mi(e,t.child,null,a),e.child=mi(e,null,c,a)):vt(t,e,c,a),e.memoizedState=s.state,i&&vg(e,r,!0),e.child}function D0(t){var e=t.stateNode;e.pendingContext?yg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yg(t,e.context,!1),_m(t,e.containerInfo)}function Mg(t,e,r,s,i){return hi(),ym(i),e.flags|=256,vt(t,e,r,s),e.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(t){return{baseLanes:t,cachePool:null,transitions:null}}function M0(t,e,r){var s=e.pendingProps,i=Te.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(Te,i&1),t===null)return th(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=qc(o,s,0,null),t=cs(t,s,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ch(r),e.memoizedState=lh,t):Pm(e,o));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return A1(t,e,o,s,c,i,r);if(a){a=s.fallback,o=e.mode,i=t.child,c=i.sibling;var d={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=d,e.deletions=null):(s=Nn(i,d),s.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Nn(c,a):(a=cs(a,o,r,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?ch(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=lh,s}return a=t.child,t=a.sibling,s=Nn(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=r),s.return=e,s.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=s,e.memoizedState=null,s}function Pm(t,e){return e=qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ll(t,e,r,s){return s!==null&&ym(s),mi(e,t.child,null,r),t=Pm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A1(t,e,r,s,i,a,o){if(r)return e.flags&256?(e.flags&=-257,s=iu(Error(z(422))),ll(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,i=e.mode,s=qc({mode:"visible",children:s.children},i,0,null),a=cs(a,i,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&mi(e,t.child,null,o),e.child.memoizedState=ch(o),e.memoizedState=lh,a);if(!(e.mode&1))return ll(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var c=s.dgst;return s=c,a=Error(z(419)),s=iu(a,s,void 0),ll(t,e,o,s)}if(c=(o&t.childLanes)!==0,Et||c){if(s=Ze,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vr(t,i),ir(s,t,i,-1))}return Om(),s=iu(Error(z(421))),ll(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$1.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Dt=vn(i.nextSibling),Mt=e,Ee=!0,tr=null,t!==null&&(Bt[zt++]=Sr,Bt[zt++]=Ir,Bt[zt++]=hs,Sr=t.id,Ir=t.overflow,hs=e),e=Pm(e,s.children),e.flags|=4096,e)}function Lg(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),rh(t.return,e,r)}function au(t,e,r,s,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=i)}function L0(t,e,r){var s=e.pendingProps,i=s.revealOrder,a=s.tail;if(vt(t,e,s.children,r),s=Te.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lg(t,r,e);else if(t.tag===19)Lg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(be(Te,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&nc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),au(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}au(e,!0,r,null,a);break;case"together":au(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function El(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,r=Nn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Nn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P1(t,e,r){switch(e.tag){case 3:D0(e),hi();break;case 5:l0(e);break;case 1:St(e.type)&&Xl(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;be(ec,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(be(Te,Te.current&1),e.flags|=128,null):r&e.child.childLanes?M0(t,e,r):(be(Te,Te.current&1),t=Or(t,e,r),t!==null?t.sibling:null);be(Te,Te.current&1);break;case 19:if(s=(r&e.childLanes)!==0,t.flags&128){if(s)return L0(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Te,Te.current),s)break;return null;case 22:case 23:return e.lanes=0,P0(t,e,r)}return Or(t,e,r)}var V0,dh,O0,F0;V0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dh=function(){};O0=function(t,e,r,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,as(gr.current);var a=null;switch(r){case"input":i=Pu(t,i),s=Pu(t,s),a=[];break;case"select":i=Ce({},i,{value:void 0}),s=Ce({},s,{value:void 0}),a=[];break;case"textarea":i=Mu(t,i),s=Mu(t,s),a=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Ql)}Vu(r,s);var o;r=null;for(u in i)if(!s.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Va.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var d=s[u];if(c=i!=null?i[u]:void 0,s.hasOwnProperty(u)&&d!==c&&(d!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(a||(a=[]),a.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Va.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&we("scroll",t),a||c===d||(a=[])):(a=a||[]).push(u,d))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};F0=function(t,e,r,s){r!==s&&(e.flags|=4)};function aa(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function R1(t,e,r){var s=e.pendingProps;switch(xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return St(e.type)&&Yl(),ct(e),null;case 3:return s=e.stateNode,fi(),_e(Tt),_e(pt),Em(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(yh(tr),tr=null))),dh(t,e),ct(e),null;case 5:km(e);var i=as(Qa.current);if(r=e.type,t!==null&&e.stateNode!=null)O0(t,e,r,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(z(166));return ct(e),null}if(t=as(gr.current),al(e)){s=e.stateNode,r=e.type;var a=e.memoizedProps;switch(s[fr]=e,s[Ga]=a,t=(e.mode&1)!==0,r){case"dialog":we("cancel",s),we("close",s);break;case"iframe":case"object":case"embed":we("load",s);break;case"video":case"audio":for(i=0;i<ma.length;i++)we(ma[i],s);break;case"source":we("error",s);break;case"img":case"image":case"link":we("error",s),we("load",s);break;case"details":we("toggle",s);break;case"input":Hp(s,a),we("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},we("invalid",s);break;case"textarea":Gp(s,a),we("invalid",s)}Vu(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?s.textContent!==c&&(a.suppressHydrationWarning!==!0&&il(s.textContent,c,t),i=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&il(s.textContent,c,t),i=["children",""+c]):Va.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&we("scroll",s)}switch(r){case"input":Xo(s),qp(s,a,!0);break;case"textarea":Xo(s),Kp(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Ql)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(r,{is:s.is}):(t=o.createElement(r),r==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,r),t[fr]=e,t[Ga]=s,V0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ou(r,s),r){case"dialog":we("cancel",t),we("close",t),i=s;break;case"iframe":case"object":case"embed":we("load",t),i=s;break;case"video":case"audio":for(i=0;i<ma.length;i++)we(ma[i],t);i=s;break;case"source":we("error",t),i=s;break;case"img":case"image":case"link":we("error",t),we("load",t),i=s;break;case"details":we("toggle",t),i=s;break;case"input":Hp(t,s),i=Pu(t,s),we("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=Ce({},s,{value:void 0}),we("invalid",t);break;case"textarea":Gp(t,s),i=Mu(t,s),we("invalid",t);break;default:i=s}Vu(r,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?gv(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&fv(t,d)):a==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Oa(t,d):typeof d=="number"&&Oa(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Va.hasOwnProperty(a)?d!=null&&a==="onScroll"&&we("scroll",t):d!=null&&rm(t,a,d,o))}switch(r){case"input":Xo(t),qp(t,s,!1);break;case"textarea":Xo(t),Kp(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Cn(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?ei(t,!!s.multiple,a,!1):s.defaultValue!=null&&ei(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ql)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)F0(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(z(166));if(r=as(Qa.current),as(gr.current),al(e)){if(s=e.stateNode,r=e.memoizedProps,s[fr]=e,(a=s.nodeValue!==r)&&(t=Mt,t!==null))switch(t.tag){case 3:il(s.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&il(s.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[fr]=e,e.stateNode=s}return ct(e),null;case 13:if(_e(Te),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Dt!==null&&e.mode&1&&!(e.flags&128))n0(),hi(),e.flags|=98560,a=!1;else if(a=al(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[fr]=e}else hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),a=!1}else tr!==null&&(yh(tr),tr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ge===0&&(Ge=3):Om())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return fi(),dh(t,e),t===null&&Ha(e.stateNode.containerInfo),ct(e),null;case 10:return jm(e.type._context),ct(e),null;case 17:return St(e.type)&&Yl(),ct(e),null;case 19:if(_e(Te),a=e.memoizedState,a===null)return ct(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)aa(a,!1);else{if(Ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nc(t),o!==null){for(e.flags|=128,aa(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=r,r=e.child;r!==null;)a=r,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return be(Te,Te.current&1|2),e.child}t=t.sibling}a.tail!==null&&Fe()>gi&&(e.flags|=128,s=!0,aa(a,!1),e.lanes=4194304)}else{if(!s)if(t=nc(o),t!==null){if(e.flags|=128,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),aa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ee)return ct(e),null}else 2*Fe()-a.renderingStartTime>gi&&r!==1073741824&&(e.flags|=128,s=!0,aa(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Fe(),e.sibling=null,r=Te.current,be(Te,s?r&1|2:r&1),e):(ct(e),null);case 22:case 23:return Vm(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Rt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function D1(t,e){switch(xm(e),e.tag){case 1:return St(e.type)&&Yl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fi(),_e(Tt),_e(pt),Em(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return km(e),null;case 13:if(_e(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Te),null;case 4:return fi(),null;case 10:return jm(e.type._context),null;case 22:case 23:return Vm(),null;case 24:return null;default:return null}}var cl=!1,ht=!1,M1=typeof WeakSet=="function"?WeakSet:Set,q=null;function Xs(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){De(t,e,s)}else r.current=null}function uh(t,e,r){try{r()}catch(s){De(t,e,s)}}var Vg=!1;function L1(t,e){if(Ku=ql,t=$v(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,c=-1,d=-1,u=0,m=0,g=t,p=null;t:for(;;){for(var j;g!==r||i!==0&&g.nodeType!==3||(c=o+i),g!==a||s!==0&&g.nodeType!==3||(d=o+s),g.nodeType===3&&(o+=g.nodeValue.length),(j=g.firstChild)!==null;)p=g,g=j;for(;;){if(g===t)break t;if(p===r&&++u===i&&(c=o),p===a&&++m===s&&(d=o),(j=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=j}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qu={focusedElem:t,selectionRange:r},ql=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var k=N.memoizedProps,y=N.memoizedState,f=e.stateNode,w=f.getSnapshotBeforeUpdate(e.elementType===e.type?k:Zt(e.type,k),y);f.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(R){De(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return N=Vg,Vg=!1,N}function Ta(t,e,r){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&uh(e,r,a)}i=i.next}while(i!==s)}}function $c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var s=r.create;r.destroy=s()}r=r.next}while(r!==e)}}function hh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function U0(t){var e=t.alternate;e!==null&&(t.alternate=null,U0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fr],delete e[Ga],delete e[Ju],delete e[y1],delete e[v1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B0(t){return t.tag===5||t.tag===3||t.tag===4}function Og(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mh(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ql));else if(s!==4&&(t=t.child,t!==null))for(mh(t,e,r),t=t.sibling;t!==null;)mh(t,e,r),t=t.sibling}function fh(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(fh(t,e,r),t=t.sibling;t!==null;)fh(t,e,r),t=t.sibling}var tt=null,er=!1;function en(t,e,r){for(r=r.child;r!==null;)z0(t,e,r),r=r.sibling}function z0(t,e,r){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Lc,r)}catch{}switch(r.tag){case 5:ht||Xs(r,e);case 6:var s=tt,i=er;tt=null,en(t,e,r),tt=s,er=i,tt!==null&&(er?(t=tt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(er?(t=tt,r=r.stateNode,t.nodeType===8?Zd(t.parentNode,r):t.nodeType===1&&Zd(t,r),za(t)):Zd(tt,r.stateNode));break;case 4:s=tt,i=er,tt=r.stateNode.containerInfo,er=!0,en(t,e,r),tt=s,er=i;break;case 0:case 11:case 14:case 15:if(!ht&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&uh(r,e,o),i=i.next}while(i!==s)}en(t,e,r);break;case 1:if(!ht&&(Xs(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){De(r,e,c)}en(t,e,r);break;case 21:en(t,e,r);break;case 22:r.mode&1?(ht=(s=ht)||r.memoizedState!==null,en(t,e,r),ht=s):en(t,e,r);break;default:en(t,e,r)}}function Fg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new M1),e.forEach(function(s){var i=H1.bind(null,t,s);r.has(s)||(r.add(s),s.then(i,i))})}}function Jt(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:tt=c.stateNode,er=!1;break e;case 3:tt=c.stateNode.containerInfo,er=!0;break e;case 4:tt=c.stateNode.containerInfo,er=!0;break e}c=c.return}if(tt===null)throw Error(z(160));z0(a,o,i),tt=null,er=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(u){De(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W0(e,t),e=e.sibling}function W0(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),ur(t),s&4){try{Ta(3,t,t.return),$c(3,t)}catch(k){De(t,t.return,k)}try{Ta(5,t,t.return)}catch(k){De(t,t.return,k)}}break;case 1:Jt(e,t),ur(t),s&512&&r!==null&&Xs(r,r.return);break;case 5:if(Jt(e,t),ur(t),s&512&&r!==null&&Xs(r,r.return),t.flags&32){var i=t.stateNode;try{Oa(i,"")}catch(k){De(t,t.return,k)}}if(s&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&uv(i,a),Ou(c,o);var u=Ou(c,a);for(o=0;o<d.length;o+=2){var m=d[o],g=d[o+1];m==="style"?gv(i,g):m==="dangerouslySetInnerHTML"?fv(i,g):m==="children"?Oa(i,g):rm(i,m,g,u)}switch(c){case"input":Ru(i,a);break;case"textarea":hv(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?ei(i,!!a.multiple,j,!1):p!==!!a.multiple&&(a.defaultValue!=null?ei(i,!!a.multiple,a.defaultValue,!0):ei(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ga]=a}catch(k){De(t,t.return,k)}}break;case 6:if(Jt(e,t),ur(t),s&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(k){De(t,t.return,k)}}break;case 3:if(Jt(e,t),ur(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{za(e.containerInfo)}catch(k){De(t,t.return,k)}break;case 4:Jt(e,t),ur(t);break;case 13:Jt(e,t),ur(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Mm=Fe())),s&4&&Fg(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(ht=(u=ht)||m,Jt(e,t),ht=u):Jt(e,t),ur(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!m&&t.mode&1)for(q=t,m=t.child;m!==null;){for(g=q=m;q!==null;){switch(p=q,j=p.child,p.tag){case 0:case 11:case 14:case 15:Ta(4,p,p.return);break;case 1:Xs(p,p.return);var N=p.stateNode;if(typeof N.componentWillUnmount=="function"){s=p,r=p.return;try{e=s,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(k){De(s,r,k)}}break;case 5:Xs(p,p.return);break;case 22:if(p.memoizedState!==null){Bg(g);continue}}j!==null?(j.return=p,q=j):Bg(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=g.stateNode,d=g.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=pv("display",o))}catch(k){De(t,t.return,k)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(k){De(t,t.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Jt(e,t),ur(t),s&4&&Fg(t);break;case 21:break;default:Jt(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(B0(r)){var s=r;break e}r=r.return}throw Error(z(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Oa(i,""),s.flags&=-33);var a=Og(t);fh(t,a,i);break;case 3:case 4:var o=s.stateNode.containerInfo,c=Og(t);mh(t,c,o);break;default:throw Error(z(161))}}catch(d){De(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V1(t,e,r){q=t,$0(t)}function $0(t,e,r){for(var s=(t.mode&1)!==0;q!==null;){var i=q,a=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||cl;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||ht;c=cl;var u=ht;if(cl=o,(ht=d)&&!u)for(q=i;q!==null;)o=q,d=o.child,o.tag===22&&o.memoizedState!==null?zg(i):d!==null?(d.return=o,q=d):zg(i);for(;a!==null;)q=a,$0(a),a=a.sibling;q=i,cl=c,ht=u}Ug(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,q=a):Ug(t)}}function Ug(t){for(;q!==null;){var e=q;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||$c(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!ht)if(r===null)s.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Zt(e.type,r.memoizedProps);s.componentDidUpdate(i,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&_g(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_g(e,o,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&za(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ht||e.flags&512&&hh(e)}catch(p){De(e,e.return,p)}}if(e===t){q=null;break}if(r=e.sibling,r!==null){r.return=e.return,q=r;break}q=e.return}}function Bg(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var r=e.sibling;if(r!==null){r.return=e.return,q=r;break}q=e.return}}function zg(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$c(4,e)}catch(d){De(e,r,d)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(d){De(e,i,d)}}var a=e.return;try{hh(e)}catch(d){De(e,a,d)}break;case 5:var o=e.return;try{hh(e)}catch(d){De(e,o,d)}}}catch(d){De(e,e.return,d)}if(e===t){q=null;break}var c=e.sibling;if(c!==null){c.return=e.return,q=c;break}q=e.return}}var O1=Math.ceil,ac=$r.ReactCurrentDispatcher,Rm=$r.ReactCurrentOwner,Gt=$r.ReactCurrentBatchConfig,fe=0,Ze=null,ze=null,st=0,Rt=0,Js=Un(0),Ge=0,Za=null,fs=0,Hc=0,Dm=0,Sa=null,kt=null,Mm=0,gi=1/0,Er=null,oc=!1,ph=null,jn=null,dl=!1,mn=null,lc=0,Ia=0,gh=null,Tl=-1,Sl=0;function bt(){return fe&6?Fe():Tl!==-1?Tl:Tl=Fe()}function wn(t){return t.mode&1?fe&2&&st!==0?st&-st:j1.transition!==null?(Sl===0&&(Sl=Sv()),Sl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Mv(t.type)),t):1}function ir(t,e,r,s){if(50<Ia)throw Ia=0,gh=null,Error(z(185));xo(t,r,s),(!(fe&2)||t!==Ze)&&(t===Ze&&(!(fe&2)&&(Hc|=r),Ge===4&&on(t,st)),It(t,s),r===1&&fe===0&&!(e.mode&1)&&(gi=Fe()+500,Bc&&Bn()))}function It(t,e){var r=t.callbackNode;jN(t,e);var s=Hl(t,t===Ze?st:0);if(s===0)r!==null&&Xp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(r!=null&&Xp(r),e===1)t.tag===0?b1(Wg.bind(null,t)):e0(Wg.bind(null,t)),g1(function(){!(fe&6)&&Bn()}),r=null;else{switch(Iv(s)){case 1:r=om;break;case 4:r=Ev;break;case 16:r=$l;break;case 536870912:r=Tv;break;default:r=$l}r=J0(r,H0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function H0(t,e){if(Tl=-1,Sl=0,fe&6)throw Error(z(327));var r=t.callbackNode;if(ii()&&t.callbackNode!==r)return null;var s=Hl(t,t===Ze?st:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=cc(t,s);else{e=s;var i=fe;fe|=2;var a=G0();(Ze!==t||st!==e)&&(Er=null,gi=Fe()+500,ls(t,e));do try{B1();break}catch(c){q0(t,c)}while(!0);bm(),ac.current=a,fe=i,ze!==null?e=0:(Ze=null,st=0,e=Ge)}if(e!==0){if(e===2&&(i=Wu(t),i!==0&&(s=i,e=xh(t,i))),e===1)throw r=Za,ls(t,0),on(t,s),It(t,Fe()),r;if(e===6)on(t,s);else{if(i=t.current.alternate,!(s&30)&&!F1(i)&&(e=cc(t,s),e===2&&(a=Wu(t),a!==0&&(s=a,e=xh(t,a))),e===1))throw r=Za,ls(t,0),on(t,s),It(t,Fe()),r;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(z(345));case 2:ts(t,kt,Er);break;case 3:if(on(t,s),(s&130023424)===s&&(e=Mm+500-Fe(),10<e)){if(Hl(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xu(ts.bind(null,t,kt,Er),e);break}ts(t,kt,Er);break;case 4:if(on(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-sr(s);a=1<<o,o=e[o],o>i&&(i=o),s&=~a}if(s=i,s=Fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*O1(s/1960))-s,10<s){t.timeoutHandle=Xu(ts.bind(null,t,kt,Er),s);break}ts(t,kt,Er);break;case 5:ts(t,kt,Er);break;default:throw Error(z(329))}}}return It(t,Fe()),t.callbackNode===r?H0.bind(null,t):null}function xh(t,e){var r=Sa;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=cc(t,e),t!==2&&(e=kt,kt=r,e!==null&&yh(e)),t}function yh(t){kt===null?kt=t:kt.push.apply(kt,t)}function F1(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function on(t,e){for(e&=~Dm,e&=~Hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sr(e),s=1<<r;t[r]=-1,e&=~s}}function Wg(t){if(fe&6)throw Error(z(327));ii();var e=Hl(t,0);if(!(e&1))return It(t,Fe()),null;var r=cc(t,e);if(t.tag!==0&&r===2){var s=Wu(t);s!==0&&(e=s,r=xh(t,s))}if(r===1)throw r=Za,ls(t,0),on(t,e),It(t,Fe()),r;if(r===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,kt,Er),It(t,Fe()),null}function Lm(t,e){var r=fe;fe|=1;try{return t(e)}finally{fe=r,fe===0&&(gi=Fe()+500,Bc&&Bn())}}function ps(t){mn!==null&&mn.tag===0&&!(fe&6)&&ii();var e=fe;fe|=1;var r=Gt.transition,s=ye;try{if(Gt.transition=null,ye=1,t)return t()}finally{ye=s,Gt.transition=r,fe=e,!(fe&6)&&Bn()}}function Vm(){Rt=Js.current,_e(Js)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,p1(r)),ze!==null)for(r=ze.return;r!==null;){var s=r;switch(xm(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Yl();break;case 3:fi(),_e(Tt),_e(pt),Em();break;case 5:km(s);break;case 4:fi();break;case 13:_e(Te);break;case 19:_e(Te);break;case 10:jm(s.type._context);break;case 22:case 23:Vm()}r=r.return}if(Ze=t,ze=t=Nn(t.current,null),st=Rt=e,Ge=0,Za=null,Dm=Hc=fs=0,kt=Sa=null,is!==null){for(e=0;e<is.length;e++)if(r=is[e],s=r.interleaved,s!==null){r.interleaved=null;var i=s.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,s.next=o}r.pending=s}is=null}return t}function q0(t,e){do{var r=ze;try{if(bm(),_l.current=ic,sc){for(var s=Ie.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}sc=!1}if(ms=0,Xe=He=Ie=null,Ea=!1,Ya=0,Rm.current=null,r===null||r.return===null){Ge=1,Za=e,ze=null;break}e:{var a=t,o=r.return,c=r,d=e;if(e=st,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,m=c,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=Cg(o);if(j!==null){j.flags&=-257,Ag(j,o,c,a,e),j.mode&1&&Ig(a,u,e),e=j,d=u;var N=e.updateQueue;if(N===null){var k=new Set;k.add(d),e.updateQueue=k}else N.add(d);break e}else{if(!(e&1)){Ig(a,u,e),Om();break e}d=Error(z(426))}}else if(Ee&&c.mode&1){var y=Cg(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ag(y,o,c,a,e),ym(pi(d,c));break e}}a=d=pi(d,c),Ge!==4&&(Ge=2),Sa===null?Sa=[a]:Sa.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var f=I0(a,d,e);Ng(a,f);break e;case 1:c=d;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jn===null||!jn.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var R=C0(a,c,e);Ng(a,R);break e}}a=a.return}while(a!==null)}Q0(r)}catch(M){e=M,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function G0(){var t=ac.current;return ac.current=ic,t===null?ic:t}function Om(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(fs&268435455)&&!(Hc&268435455)||on(Ze,st)}function cc(t,e){var r=fe;fe|=2;var s=G0();(Ze!==t||st!==e)&&(Er=null,ls(t,e));do try{U1();break}catch(i){q0(t,i)}while(!0);if(bm(),fe=r,ac.current=s,ze!==null)throw Error(z(261));return Ze=null,st=0,Ge}function U1(){for(;ze!==null;)K0(ze)}function B1(){for(;ze!==null&&!hN();)K0(ze)}function K0(t){var e=X0(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?Q0(t):ze=e,Rm.current=null}function Q0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=D1(r,e),r!==null){r.flags&=32767,ze=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ge=6,ze=null;return}}else if(r=R1(r,e,Rt),r!==null){ze=r;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);Ge===0&&(Ge=5)}function ts(t,e,r){var s=ye,i=Gt.transition;try{Gt.transition=null,ye=1,z1(t,e,r,s)}finally{Gt.transition=i,ye=s}return null}function z1(t,e,r,s){do ii();while(mn!==null);if(fe&6)throw Error(z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(wN(t,a),t===Ze&&(ze=Ze=null,st=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dl||(dl=!0,J0($l,function(){return ii(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Gt.transition,Gt.transition=null;var o=ye;ye=1;var c=fe;fe|=4,Rm.current=null,L1(t,r),W0(r,t),l1(Qu),ql=!!Ku,Qu=Ku=null,t.current=r,V1(r),mN(),fe=c,ye=o,Gt.transition=a}else t.current=r;if(dl&&(dl=!1,mn=t,lc=i),a=t.pendingLanes,a===0&&(jn=null),gN(r.stateNode),It(t,Fe()),e!==null)for(s=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],s(i.value,{componentStack:i.stack,digest:i.digest});if(oc)throw oc=!1,t=ph,ph=null,t;return lc&1&&t.tag!==0&&ii(),a=t.pendingLanes,a&1?t===gh?Ia++:(Ia=0,gh=t):Ia=0,Bn(),null}function ii(){if(mn!==null){var t=Iv(lc),e=Gt.transition,r=ye;try{if(Gt.transition=null,ye=16>t?16:t,mn===null)var s=!1;else{if(t=mn,mn=null,lc=0,fe&6)throw Error(z(331));var i=fe;for(fe|=4,q=t.current;q!==null;){var a=q,o=a.child;if(q.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var u=c[d];for(q=u;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:Ta(8,m,a)}var g=m.child;if(g!==null)g.return=m,q=g;else for(;q!==null;){m=q;var p=m.sibling,j=m.return;if(U0(m),m===u){q=null;break}if(p!==null){p.return=j,q=p;break}q=j}}}var N=a.alternate;if(N!==null){var k=N.child;if(k!==null){N.child=null;do{var y=k.sibling;k.sibling=null,k=y}while(k!==null)}}q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,q=o;else e:for(;q!==null;){if(a=q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ta(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,q=f;break e}q=a.return}}var w=t.current;for(q=w;q!==null;){o=q;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,q=b;else e:for(o=w;q!==null;){if(c=q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:$c(9,c)}}catch(M){De(c,c.return,M)}if(c===o){q=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,q=R;break e}q=c.return}}if(fe=i,Bn(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Lc,t)}catch{}s=!0}return s}finally{ye=r,Gt.transition=e}}return!1}function $g(t,e,r){e=pi(r,e),e=I0(t,e,1),t=bn(t,e,1),e=bt(),t!==null&&(xo(t,1,e),It(t,e))}function De(t,e,r){if(t.tag===3)$g(t,t,r);else for(;e!==null;){if(e.tag===3){$g(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(jn===null||!jn.has(s))){t=pi(r,t),t=C0(e,t,1),e=bn(e,t,1),t=bt(),e!==null&&(xo(e,1,t),It(e,t));break}}e=e.return}}function W1(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&r,Ze===t&&(st&r)===r&&(Ge===4||Ge===3&&(st&130023424)===st&&500>Fe()-Mm?ls(t,0):Dm|=r),It(t,e)}function Y0(t,e){e===0&&(t.mode&1?(e=el,el<<=1,!(el&130023424)&&(el=4194304)):e=1);var r=bt();t=Vr(t,e),t!==null&&(xo(t,e,r),It(t,r))}function $1(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Y0(t,r)}function H1(t,e){var r=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(e),Y0(t,r)}var X0;X0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Et=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Et=!1,P1(t,e,r);Et=!!(t.flags&131072)}else Et=!1,Ee&&e.flags&1048576&&t0(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;El(t,e),t=e.pendingProps;var i=ui(e,pt.current);si(e,r),i=Sm(null,e,s,t,i,r);var a=Im();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(s)?(a=!0,Xl(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nm(e),i.updater=Wc,e.stateNode=i,i._reactInternals=e,sh(e,s,t,r),e=oh(null,e,s,!0,a,r)):(e.tag=0,Ee&&a&&gm(e),vt(null,e,i,r),e=e.child),e;case 16:s=e.elementType;e:{switch(El(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=G1(s),t=Zt(s,t),i){case 0:e=ah(null,e,s,t,r);break e;case 1:e=Dg(null,e,s,t,r);break e;case 11:e=Pg(null,e,s,t,r);break e;case 14:e=Rg(null,e,s,Zt(s.type,t),r);break e}throw Error(z(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Zt(s,i),ah(t,e,s,i,r);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Zt(s,i),Dg(t,e,s,i,r);case 3:e:{if(D0(e),t===null)throw Error(z(387));s=e.pendingProps,a=e.memoizedState,i=a.element,o0(t,e),rc(e,s,null,r);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=pi(Error(z(423)),e),e=Mg(t,e,s,r,i);break e}else if(s!==i){i=pi(Error(z(424)),e),e=Mg(t,e,s,r,i);break e}else for(Dt=vn(e.stateNode.containerInfo.firstChild),Mt=e,Ee=!0,tr=null,r=i0(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hi(),s===i){e=Or(t,e,r);break e}vt(t,e,s,r)}e=e.child}return e;case 5:return l0(e),t===null&&th(e),s=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Yu(s,i)?o=null:a!==null&&Yu(s,a)&&(e.flags|=32),R0(t,e),vt(t,e,o,r),e.child;case 6:return t===null&&th(e),null;case 13:return M0(t,e,r);case 4:return _m(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=mi(e,null,s,r):vt(t,e,s,r),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Zt(s,i),Pg(t,e,s,i,r);case 7:return vt(t,e,e.pendingProps,r),e.child;case 8:return vt(t,e,e.pendingProps.children,r),e.child;case 12:return vt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,be(ec,s._currentValue),s._currentValue=o,a!==null)if(ar(a.value,o)){if(a.children===i.children&&!Tt.current){e=Or(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===s){if(a.tag===1){d=Pr(-1,r&-r),d.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}}a.lanes|=r,d=a.alternate,d!==null&&(d.lanes|=r),rh(a.return,r,e),c.lanes|=r;break}d=d.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(z(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),rh(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,si(e,r),i=Kt(i),s=s(i),e.flags|=1,vt(t,e,s,r),e.child;case 14:return s=e.type,i=Zt(s,e.pendingProps),i=Zt(s.type,i),Rg(t,e,s,i,r);case 15:return A0(t,e,e.type,e.pendingProps,r);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Zt(s,i),El(t,e),e.tag=1,St(s)?(t=!0,Xl(e)):t=!1,si(e,r),S0(e,s,i),sh(e,s,i,r),oh(null,e,s,!0,t,r);case 19:return L0(t,e,r);case 22:return P0(t,e,r)}throw Error(z(156,e.tag))};function J0(t,e){return kv(t,e)}function q1(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,r,s){return new q1(t,e,r,s)}function Fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function G1(t){if(typeof t=="function")return Fm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sm)return 11;if(t===im)return 14}return 2}function Nn(t,e){var r=t.alternate;return r===null?(r=qt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Il(t,e,r,s,i,a){var o=2;if(s=t,typeof t=="function")Fm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zs:return cs(r.children,i,a,e);case nm:o=8,i|=8;break;case Su:return t=qt(12,r,e,i|2),t.elementType=Su,t.lanes=a,t;case Iu:return t=qt(13,r,e,i),t.elementType=Iu,t.lanes=a,t;case Cu:return t=qt(19,r,e,i),t.elementType=Cu,t.lanes=a,t;case lv:return qc(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case av:o=10;break e;case ov:o=9;break e;case sm:o=11;break e;case im:o=14;break e;case nn:o=16,s=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=qt(o,r,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function cs(t,e,r,s){return t=qt(7,t,s,e),t.lanes=r,t}function qc(t,e,r,s){return t=qt(22,t,s,e),t.elementType=lv,t.lanes=r,t.stateNode={isHidden:!1},t}function ou(t,e,r){return t=qt(6,t,null,e),t.lanes=r,t}function lu(t,e,r){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function K1(t,e,r,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Um(t,e,r,s,i,a,o,c,d){return t=new K1(t,e,r,c,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=qt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(a),t}function Q1(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}function Z0(t){if(!t)return An;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var r=t.type;if(St(r))return Zv(t,r,e)}return e}function eb(t,e,r,s,i,a,o,c,d){return t=Um(r,s,!0,t,i,a,o,c,d),t.context=Z0(null),r=t.current,s=bt(),i=wn(r),a=Pr(s,i),a.callback=e??null,bn(r,a,i),t.current.lanes=i,xo(t,i,s),It(t,s),t}function Gc(t,e,r,s){var i=e.current,a=bt(),o=wn(i);return r=Z0(r),e.context===null?e.context=r:e.pendingContext=r,e=Pr(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=bn(i,e,o),t!==null&&(ir(t,i,o,a),Nl(t,i,o)),o}function dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Bm(t,e){Hg(t,e),(t=t.alternate)&&Hg(t,e)}function Y1(){return null}var tb=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}Kc.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Gc(t,e,null,null)};Kc.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ps(function(){Gc(null,t,null,null)}),e[Lr]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<an.length&&e!==0&&e<an[r].priority;r++);an.splice(r,0,t),r===0&&Dv(t)}};function Wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qg(){}function X1(t,e,r,s,i){if(i){if(typeof s=="function"){var a=s;s=function(){var u=dc(o);a.call(u)}}var o=eb(e,s,t,0,null,!1,!1,"",qg);return t._reactRootContainer=o,t[Lr]=o.current,Ha(t.nodeType===8?t.parentNode:t),ps(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var c=s;s=function(){var u=dc(d);c.call(u)}}var d=Um(t,0,!1,null,null,!1,!1,"",qg);return t._reactRootContainer=d,t[Lr]=d.current,Ha(t.nodeType===8?t.parentNode:t),ps(function(){Gc(e,d,r,s)}),d}function Yc(t,e,r,s,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=dc(o);c.call(d)}}Gc(e,o,t,i)}else o=X1(r,e,t,i,s);return dc(o)}Cv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ha(e.pendingLanes);r!==0&&(lm(e,r|1),It(e,Fe()),!(fe&6)&&(gi=Fe()+500,Bn()))}break;case 13:ps(function(){var s=Vr(t,1);if(s!==null){var i=bt();ir(s,t,1,i)}}),Bm(t,1)}};cm=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var r=bt();ir(e,t,134217728,r)}Bm(t,134217728)}};Av=function(t){if(t.tag===13){var e=wn(t),r=Vr(t,e);if(r!==null){var s=bt();ir(r,t,e,s)}Bm(t,e)}};Pv=function(){return ye};Rv=function(t,e){var r=ye;try{return ye=t,e()}finally{ye=r}};Uu=function(t,e,r){switch(e){case"input":if(Ru(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var i=Uc(s);if(!i)throw Error(z(90));dv(s),Ru(s,i)}}}break;case"textarea":hv(t,r);break;case"select":e=r.value,e!=null&&ei(t,!!r.multiple,e,!1)}};vv=Lm;bv=ps;var J1={usingClientEntryPoint:!1,Events:[vo,qs,Uc,xv,yv,Lm]},oa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z1={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nv(t),t===null?null:t.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||Y1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Lc=ul.inject(Z1),pr=ul}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;Ot.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(e))throw Error(z(200));return Q1(t,e,null,r)};Ot.createRoot=function(t,e){if(!Wm(t))throw Error(z(299));var r=!1,s="",i=tb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Um(t,1,!1,null,null,r,!1,s,i),t[Lr]=e.current,Ha(t.nodeType===8?t.parentNode:t),new zm(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Nv(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return ps(t)};Ot.hydrate=function(t,e,r){if(!Qc(e))throw Error(z(200));return Yc(null,t,e,!0,r)};Ot.hydrateRoot=function(t,e,r){if(!Wm(t))throw Error(z(405));var s=r!=null&&r.hydratedSources||null,i=!1,a="",o=tb;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=eb(e,null,t,1,r??null,i,!1,a,o),t[Lr]=e.current,Ha(t),s)for(t=0;t<s.length;t++)r=s[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Kc(e)};Ot.render=function(t,e,r){if(!Qc(e))throw Error(z(200));return Yc(null,t,e,!1,r)};Ot.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(z(40));return t._reactRootContainer?(ps(function(){Yc(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};Ot.unstable_batchedUpdates=Lm;Ot.unstable_renderSubtreeIntoContainer=function(t,e,r,s){if(!Qc(r))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Yc(t,e,r,!1,s)};Ot.version="18.3.1-next-f1338f8080-20240426";function rb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rb)}catch(t){console.error(t)}}rb(),rv.exports=Ot;var e_=rv.exports,Gg=e_;Eu.createRoot=Gg.createRoot,Eu.hydrateRoot=Gg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},eo.apply(this,arguments)}var fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fn||(fn={}));const Kg="popstate";function t_(t){t===void 0&&(t={});function e(s,i){let{pathname:a,search:o,hash:c}=s.location;return vh("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){return typeof i=="string"?i:uc(i)}return n_(e,r,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $m(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r_(){return Math.random().toString(36).substr(2,8)}function Qg(t,e){return{usr:t.state,key:t.key,idx:e}}function vh(t,e,r,s){return r===void 0&&(r=null),eo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ti(e):e,{state:r,key:e&&e.key||s||r_()})}function uc(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ti(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function n_(t,e,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,c=fn.Pop,d=null,u=m();u==null&&(u=0,o.replaceState(eo({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function g(){c=fn.Pop;let y=m(),f=y==null?null:y-u;u=y,d&&d({action:c,location:k.location,delta:f})}function p(y,f){c=fn.Push;let w=vh(k.location,y,f);u=m()+1;let b=Qg(w,u),R=k.createHref(w);try{o.pushState(b,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(R)}a&&d&&d({action:c,location:k.location,delta:1})}function j(y,f){c=fn.Replace;let w=vh(k.location,y,f);u=m();let b=Qg(w,u),R=k.createHref(w);o.replaceState(b,"",R),a&&d&&d({action:c,location:k.location,delta:0})}function N(y){let f=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:uc(y);return w=w.replace(/ $/,"%20"),Ue(f,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,f)}let k={get action(){return c},get location(){return t(i,o)},listen(y){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Kg,g),d=y,()=>{i.removeEventListener(Kg,g),d=null}},createHref(y){return e(i,y)},createURL:N,encodeLocation(y){let f=N(y);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:j,go(y){return o.go(y)}};return k}var Yg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yg||(Yg={}));function s_(t,e,r){return r===void 0&&(r="/"),i_(t,e,r)}function i_(t,e,r,s){let i=typeof e=="string"?Ti(e):e,a=Hm(i.pathname||"/",r);if(a==null)return null;let o=nb(t);a_(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=y_(a);c=p_(o[d],u)}return c}function nb(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Ue(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let u=_n([s,d.relativePath]),m=r.concat(d);a.children&&a.children.length>0&&(Ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nb(a.children,e,m,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:m_(u,a.index),routesMeta:m})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of sb(a.path))i(a,o,d)}),e}function sb(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let o=sb(s.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function a_(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:f_(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const o_=/^:[\w-]+$/,l_=3,c_=2,d_=1,u_=10,h_=-2,Xg=t=>t==="*";function m_(t,e){let r=t.split("/"),s=r.length;return r.some(Xg)&&(s+=h_),e&&(s+=c_),r.filter(i=>!Xg(i)).reduce((i,a)=>i+(o_.test(a)?l_:a===""?d_:u_),s)}function f_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function p_(t,e,r){let{routesMeta:s}=t,i={},a="/",o=[];for(let c=0;c<s.length;++c){let d=s[c],u=c===s.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=g_({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},m),p=d.route;if(!g)return null;Object.assign(i,g.params),o.push({params:i,pathname:_n([a,g.pathname]),pathnameBase:N_(_n([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=_n([a,g.pathnameBase]))}return o}function g_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=x_(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((u,m,g)=>{let{paramName:p,isOptional:j}=m;if(p==="*"){let k=c[g]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const N=c[g];return j&&!N?u[p]=void 0:u[p]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function x_(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),$m(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function y_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $m(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b_=t=>v_.test(t);function j_(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?Ti(t):t,a;if(r)if(b_(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),$m(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=Jg(r.substring(1),"/"):a=Jg(r,e)}else a=e;return{pathname:a,search:__(s),hash:k_(i)}}function Jg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function cu(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qm(t,e){let r=w_(t);return e?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Gm(t,e,r,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Ti(t):(i=eo({},t),Ue(!i.pathname||!i.pathname.includes("?"),cu("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),cu("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),cu("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=r;else{let g=e.length-1;if(!s&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}c=g>=0?e[g]:"/"}let d=j_(i,c),u=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||m)&&(d.pathname+="/"),d}const _n=t=>t.join("/").replace(/\/\/+/g,"/"),N_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),__=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ib=["post","put","patch","delete"];new Set(ib);const T_=["get",...ib];new Set(T_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function to(){return to=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},to.apply(this,arguments)}const Km=S.createContext(null),S_=S.createContext(null),zn=S.createContext(null),Xc=S.createContext(null),Hr=S.createContext({outlet:null,matches:[],isDataRoute:!1}),ab=S.createContext(null);function I_(t,e){let{relative:r}=e===void 0?{}:e;Si()||Ue(!1);let{basename:s,navigator:i}=S.useContext(zn),{hash:a,pathname:o,search:c}=lb(t,{relative:r}),d=o;return s!=="/"&&(d=o==="/"?s:_n([s,o])),i.createHref({pathname:d,search:c,hash:a})}function Si(){return S.useContext(Xc)!=null}function Wn(){return Si()||Ue(!1),S.useContext(Xc).location}function ob(t){S.useContext(zn).static||S.useLayoutEffect(t)}function ae(){let{isDataRoute:t}=S.useContext(Hr);return t?z_():C_()}function C_(){Si()||Ue(!1);let t=S.useContext(Km),{basename:e,future:r,navigator:s}=S.useContext(zn),{matches:i}=S.useContext(Hr),{pathname:a}=Wn(),o=JSON.stringify(qm(i,r.v7_relativeSplatPath)),c=S.useRef(!1);return ob(()=>{c.current=!0}),S.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let g=Gm(u,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:_n([e,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[e,s,o,a,t])}function jo(){let{matches:t}=S.useContext(Hr),e=t[t.length-1];return e?e.params:{}}function lb(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=S.useContext(zn),{matches:i}=S.useContext(Hr),{pathname:a}=Wn(),o=JSON.stringify(qm(i,s.v7_relativeSplatPath));return S.useMemo(()=>Gm(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function A_(t,e){return P_(t,e)}function P_(t,e,r,s){Si()||Ue(!1);let{navigator:i}=S.useContext(zn),{matches:a}=S.useContext(Hr),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=Wn(),m;if(e){var g;let y=typeof e=="string"?Ti(e):e;d==="/"||(g=y.pathname)!=null&&g.startsWith(d)||Ue(!1),m=y}else m=u;let p=m.pathname||"/",j=p;if(d!=="/"){let y=d.replace(/^\//,"").split("/");j="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let N=s_(t,{pathname:j}),k=V_(N&&N.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:_n([d,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?d:_n([d,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,s);return e&&k?S.createElement(Xc.Provider,{value:{location:to({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:fn.Pop}},k):k}function R_(){let t=B_(),e=E_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:i},r):null,null)}const D_=S.createElement(R_,null);class M_ extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?S.createElement(Hr.Provider,{value:this.props.routeContext},S.createElement(ab.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L_(t){let{routeContext:e,match:r,children:s}=t,i=S.useContext(Km);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),S.createElement(Hr.Provider,{value:e},s)}function V_(t,e,r,s){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let m=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||Ue(!1),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=m),g.route.id){let{loaderData:p,errors:j}=r,N=g.route.loader&&p[g.route.id]===void 0&&(!j||j[g.route.id]===void 0);if(g.route.lazy||N){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,g,p)=>{let j,N=!1,k=null,y=null;r&&(j=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||D_,d&&(u<0&&p===0?(W_("route-fallback"),N=!0,y=null):u===p&&(N=!0,y=g.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,p+1)),w=()=>{let b;return j?b=k:N?b=y:g.route.Component?b=S.createElement(g.route.Component,null):g.route.element?b=g.route.element:b=m,S.createElement(L_,{match:g,routeContext:{outlet:m,matches:f,isDataRoute:r!=null},children:b})};return r&&(g.route.ErrorBoundary||g.route.errorElement||p===0)?S.createElement(M_,{location:r.location,revalidation:r.revalidation,component:k,error:j,children:w(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):w()},null)}var cb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cb||{}),db=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(db||{});function O_(t){let e=S.useContext(Km);return e||Ue(!1),e}function F_(t){let e=S.useContext(S_);return e||Ue(!1),e}function U_(t){let e=S.useContext(Hr);return e||Ue(!1),e}function ub(t){let e=U_(),r=e.matches[e.matches.length-1];return r.route.id||Ue(!1),r.route.id}function B_(){var t;let e=S.useContext(ab),r=F_(),s=ub();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function z_(){let{router:t}=O_(cb.UseNavigateStable),e=ub(db.UseNavigateStable),r=S.useRef(!1);return ob(()=>{r.current=!0}),S.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,to({fromRouteId:e},a)))},[t,e])}const Zg={};function W_(t,e,r){Zg[t]||(Zg[t]=!0)}function $_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function H_(t){let{to:e,replace:r,state:s,relative:i}=t;Si()||Ue(!1);let{future:a,static:o}=S.useContext(zn),{matches:c}=S.useContext(Hr),{pathname:d}=Wn(),u=ae(),m=Gm(e,qm(c,a.v7_relativeSplatPath),d,i==="path"),g=JSON.stringify(m);return S.useEffect(()=>u(JSON.parse(g),{replace:r,state:s,relative:i}),[u,g,i,r,s]),null}function ne(t){Ue(!1)}function q_(t){let{basename:e="/",children:r=null,location:s,navigationType:i=fn.Pop,navigator:a,static:o=!1,future:c}=t;Si()&&Ue(!1);let d=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:d,navigator:a,static:o,future:to({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof s=="string"&&(s=Ti(s));let{pathname:m="/",search:g="",hash:p="",state:j=null,key:N="default"}=s,k=S.useMemo(()=>{let y=Hm(m,d);return y==null?null:{location:{pathname:y,search:g,hash:p,state:j,key:N},navigationType:i}},[d,m,g,p,j,N,i]);return k==null?null:S.createElement(zn.Provider,{value:u},S.createElement(Xc.Provider,{children:r,value:k}))}function G_(t){let{children:e,location:r}=t;return A_(bh(e),r)}new Promise(()=>{});function bh(t,e){e===void 0&&(e=[]);let r=[];return S.Children.forEach(t,(s,i)=>{if(!S.isValidElement(s))return;let a=[...e,i];if(s.type===S.Fragment){r.push.apply(r,bh(s.props.children,a));return}s.type!==ne&&Ue(!1),!s.props.index||!s.props.children||Ue(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=bh(s.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jh.apply(this,arguments)}function K_(t,e){if(t==null)return{};var r={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Q_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y_(t,e){return t.button===0&&(!e||e==="_self")&&!Q_(t)}function wh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(i=>[r,i]):[[r,s]])},[]))}function X_(t,e){let r=wh(t);return e&&e.forEach((s,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const J_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z_="6";try{window.__reactRouterVersion=Z_}catch{}const ek="startTransition",ex=W2[ek];function tk(t){let{basename:e,children:r,future:s,window:i}=t,a=S.useRef();a.current==null&&(a.current=t_({window:i,v5Compat:!0}));let o=a.current,[c,d]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},m=S.useCallback(g=>{u&&ex?ex(()=>d(g)):d(g)},[d,u]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.useEffect(()=>$_(s),[s]),S.createElement(q_,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O=S.forwardRef(function(e,r){let{onClick:s,relative:i,reloadDocument:a,replace:o,state:c,target:d,to:u,preventScrollReset:m,viewTransition:g}=e,p=K_(e,J_),{basename:j}=S.useContext(zn),N,k=!1;if(typeof u=="string"&&nk.test(u)&&(N=u,rk))try{let b=new URL(window.location.href),R=u.startsWith("//")?new URL(b.protocol+u):new URL(u),M=Hm(R.pathname,j);R.origin===b.origin&&M!=null?u=M+R.search+R.hash:k=!0}catch{}let y=I_(u,{relative:i}),f=sk(u,{replace:o,state:c,target:d,preventScrollReset:m,relative:i,viewTransition:g});function w(b){s&&s(b),b.defaultPrevented||f(b)}return S.createElement("a",jh({},p,{href:N||y,onClick:k||a?s:w,ref:r,target:d}))});var tx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tx||(tx={}));var rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rx||(rx={}));function sk(t,e){let{target:r,replace:s,state:i,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,d=ae(),u=Wn(),m=lb(t,{relative:o});return S.useCallback(g=>{if(Y_(g,r)){g.preventDefault();let p=s!==void 0?s:uc(u)===uc(m);d(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[u,d,m,s,i,r,t,a,o,c])}function ik(t){let e=S.useRef(wh(t)),r=S.useRef(!1),s=Wn(),i=S.useMemo(()=>X_(s.search,r.current?null:e.current),[s.search]),a=ae(),o=S.useCallback((c,d)=>{const u=wh(typeof c=="function"?c(i):c);r.current=!0,a("?"+u,d)},[a,i]);return[i,o]}const Oe={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",MESSAGES:"marketing_management_website_messages",WEBSITE_ANALYTICS:"marketing_management_website_website_analytics",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics"},hb=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],ak=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",googleAnalyticsPropertyId:"G-XXXXXXXXXX",googleAnalyticsViewId:"123456789",createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",googleAnalyticsPropertyId:"G-YYYYYYYYYY",googleAnalyticsViewId:"987654321",createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","linkedin","twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",socialMediaPlatforms:["instagram","tiktok","facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",socialMediaPlatforms:["linkedin","facebook","youtube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")}],ok=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],lk=[{id:"message-1",senderId:"user-1",recipientId:"user-2",subject:"Project Priority Update",content:"Hi John, I've updated the priority for the SpecCon project. Please focus on the mobile navigation fixes first as they're impacting user experience significantly.",isRead:!1,isBroadcast:!1,projectId:"proj-1",createdAt:new Date("2025-02-09T08:00:00"),updatedAt:new Date("2025-02-09T08:00:00")},{id:"message-2",senderId:"user-4",recipientId:"user-1",subject:"Social Media Campaign Performance",content:"The Q1 social media campaign is performing well. We've exceeded engagement targets by 25%. Should we allocate additional budget for boosted posts?",isRead:!0,isBroadcast:!1,projectId:"proj-21",createdAt:new Date("2025-02-08T14:30:00"),updatedAt:new Date("2025-02-08T14:30:00")},{id:"message-3",senderId:"user-5",recipientId:"user-3",subject:"Andebe Platform Requirements",content:"For the Andebe platform, we need to ensure all training modules include progress tracking and certificate generation. The client wants this to be mandatory for all courses.",isRead:!1,isBroadcast:!1,projectId:"proj-2",createdAt:new Date("2025-02-09T10:15:00"),updatedAt:new Date("2025-02-09T10:15:00")},{id:"message-4",senderId:"user-1",recipientId:void 0,subject:"System Maintenance Notice",content:"Heads up team! We'll be performing system maintenance this Friday from 10 PM to 12 AM SAST. All services will be temporarily unavailable. Please save your work before then.",isRead:!1,isBroadcast:!0,createdAt:new Date("2025-02-07T16:00:00"),updatedAt:new Date("2025-02-07T16:00:00")},{id:"message-5",senderId:"user-2",recipientId:"user-4",subject:"Website Launch Coordination",content:"Sarah, the InfinityNPO website is ready for launch. Can we coordinate the social media posts to go live simultaneously with the website deployment?",isRead:!0,isBroadcast:!1,projectId:"proj-5",createdAt:new Date("2025-02-08T11:45:00"),updatedAt:new Date("2025-02-08T11:45:00")},{id:"message-6",senderId:"user-6",recipientId:"user-1",subject:"New Project Timeline",content:"I've reviewed the proposed timeline for the Venueideas platform. The 3-month timeline seems aggressive. Can we extend it to 4 months to ensure quality?",isRead:!1,isBroadcast:!1,projectId:"proj-10",createdAt:new Date("2025-02-09T13:20:00"),updatedAt:new Date("2025-02-09T13:20:00")},{id:"message-7",senderId:"user-3",recipientId:"user-5",subject:"Design Feedback Request",content:"Michael, I've completed the initial design mockups for the Megrolowveld website. Could you please review them and let me know your thoughts on the color scheme and layout?",isRead:!0,isBroadcast:!1,projectId:"proj-3",createdAt:new Date("2025-02-08T09:30:00"),updatedAt:new Date("2025-02-08T09:30:00")}],ck=[{id:"analytics-1",projectId:"proj-1",date:new Date("2025-02-01"),pageViews:1250,uniqueVisitors:890,bounceRate:42.5,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-2",projectId:"proj-1",date:new Date("2025-02-08"),pageViews:1580,uniqueVisitors:1120,bounceRate:38.2,recordedBy:"user-2",createdAt:new Date("2025-02-09")},{id:"analytics-3",projectId:"proj-3",date:new Date("2025-02-01"),pageViews:2340,uniqueVisitors:1650,bounceRate:35.8,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-4",projectId:"proj-3",date:new Date("2025-02-08"),pageViews:2890,uniqueVisitors:2010,bounceRate:33.1,recordedBy:"user-2",createdAt:new Date("2025-02-09")}],dk=[{id:"social-1",projectId:"proj-1",platform:"facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"linkedin",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}];function Ii(t,e){if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error loading ${t} from localStorage:`,r),e}}function $n(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error saving ${t} to localStorage:`,r)}}function pe(){return Ii(Oe.USERS,hb)}function uk(t,e){const s=pe().map(i=>i.id===t?{...i,...e,updatedAt:new Date}:i);$n(Oe.USERS,s)}function hk(t){const r=pe().map(s=>s.id===t?{...s,isActive:!s.isActive,updatedAt:new Date}:s);$n(Oe.USERS,r)}function jt(){return Ii(Oe.PROJECTS,ak)}function At(){return Ii(Oe.TICKETS,ok)}function mk(t){const r=[...At(),t];$n(Oe.TICKETS,r)}function Nh(t,e){const r=At(),s=r.find(c=>c.id===t);if(!s)return;const i=s.assignedTo,a=e.assignedTo,o=r.map(c=>c.id===t?{...c,...e,updatedAt:new Date}:c);if($n(Oe.TICKETS,o),a&&a!==i&&_h(a)){const d={id:`message-${Date.now()}`,senderId:"system",recipientId:a,subject:"New Ticket Assigned",content:`You have been assigned a new ticket: "${s.title}". Please check your tickets.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},u=JSON.parse(localStorage.getItem(Oe.MESSAGES)||"[]");u.push(d),localStorage.setItem(Oe.MESSAGES,JSON.stringify(u))}if(e.status==="resolved"&&s.status!=="resolved"){e.resolvedAt=new Date;const c=_h(s.createdBy);if(c&&c.role==="client"){const u={id:`message-${Date.now()}`,senderId:"system",recipientId:s.createdBy,subject:"Ticket Resolved",content:`Your ticket "${s.title}" has been resolved. Please review the changes.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},m=JSON.parse(localStorage.getItem(Oe.MESSAGES)||"[]");m.push(u),localStorage.setItem(Oe.MESSAGES,JSON.stringify(m))}pe().filter(u=>u.role==="admin").forEach(u=>{const m={id:`message-${Date.now()}-admin-${u.id}`,senderId:"system",recipientId:u.id,subject:"Ticket Resolved",content:`Ticket "${s.title}" has been marked as resolved.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},g=JSON.parse(localStorage.getItem(Oe.MESSAGES)||"[]");g.push(m),localStorage.setItem(Oe.MESSAGES,JSON.stringify(g))})}}function fk(t){const r=[...pe(),t];$n(Oe.USERS,r)}function wo(){return Ii(Oe.MESSAGES,lk)}function mb(){return Ii(Oe.WEBSITE_ANALYTICS,ck)}function Qm(){return Ii(Oe.SOCIAL_ANALYTICS,dk)}function _h(t){return pe().find(e=>e.id===t)}function No(t){return jt().find(e=>e.id===t)}function kr(t,e){const r=jt();return e==="admin"?r:e==="web_developer"?r.filter(s=>s.webDeveloperId===t):e==="social_media_coordinator"?r.filter(s=>s.socialMediaCoordinatorId===t):e==="client"?r.filter(s=>s.clientId===t):[]}function fb(t){return At().filter(e=>e.projectId===t)}function _o(t,e){const r=At();if(e==="admin")return r;if(e==="web_developer")return r.filter(s=>s.assignedTo===t);if(e==="client")return r.filter(s=>s.createdBy===t);if(e==="social_media_coordinator"){const i=kr(t,e).map(a=>a.id);return r.filter(a=>i.includes(a.projectId))}return[]}function gs(t){return wo().filter(e=>e.senderId===t||e.recipientId===t||e.isBroadcast)}function pk(t){return gs(t).filter(e=>!e.isRead&&(e.recipientId===t||e.isBroadcast))}function gk(t){const r=wo().map(s=>s.id===t?{...s,isRead:!0,updatedAt:new Date}:s);$n(Oe.MESSAGES,r)}function xk(t){const e=wo(),r=e.filter(s=>s.id!==t);return r.length<e.length?($n(Oe.MESSAGES,r),!0):!1}function yk(t){const r=[...wo(),t];$n(Oe.MESSAGES,r)}function vk(t){const e=pe(),r=e.filter(s=>s.id!==t);return r.length===e.length?!1:(localStorage.setItem(Oe.USERS,JSON.stringify(r)),!0)}const bk=()=>{};var nx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},jk=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const i=t[r++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],c=t[r++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,u=d?t[i+2]:0,m=a>>2,g=(a&3)<<4|c>>4;let p=(c&15)<<2|u>>6,j=u&63;d||(j=64,o||(p=64)),s.push(r[m],r[g],r[p],r[j])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||u==null||g==null)throw new wk;const p=a<<2|c>>4;if(s.push(p),u!==64){const j=c<<4&240|u>>2;if(s.push(j),g!==64){const N=u<<6&192|g;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nk=function(t){const e=pb(t);return gb.encodeByteArray(e,!0)},hc=function(t){return Nk(t).replace(/\./g,"")},xb=function(t){try{return gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=()=>_k().__FIREBASE_DEFAULTS__,Ek=()=>{if(typeof process>"u"||typeof nx>"u")return;const t=nx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Tk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xb(t[1]);return e&&JSON.parse(e)},Jc=()=>{try{return bk()||kk()||Ek()||Tk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yb=t=>{var e,r;return(r=(e=Jc())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},Sk=t=>{const e=yb(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},vb=()=>{var t;return(t=Jc())==null?void 0:t.config},bb=t=>{var e;return(e=Jc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hc(JSON.stringify(r)),hc(JSON.stringify(o)),""].join(".")}const Ca={};function Ak(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ca))Ca[e]?t.emulator.push(e):t.prod.push(e);return t}function Pk(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let sx=!1;function wb(t,e){if(typeof window>"u"||typeof document>"u"||!Ci(window.location.host)||Ca[t]===e||Ca[t]||sx)return;Ca[t]=e;function r(p){return`__firebase__banner__${p}`}const s="__firebase__banner",a=Ak().prod.length>0;function o(){const p=document.getElementById(s);p&&p.remove()}function c(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function d(p,j){p.setAttribute("width","24"),p.setAttribute("id",j),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sx=!0,o()},p}function m(p,j){p.setAttribute("id",j),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=Pk(s),j=r("text"),N=document.getElementById(j)||document.createElement("span"),k=r("learnmore"),y=document.getElementById(k)||document.createElement("a"),f=r("preprendIcon"),w=document.getElementById(f)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;c(b),m(y,k);const R=u();d(w,f),b.append(w,N,y,R),document.body.appendChild(b)}a?(N.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Dk(){var e;const t=(e=Jc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ok(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fk(){return!Dk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uk(){try{return typeof indexedDB=="object"}catch{return!1}}function Bk(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="FirebaseError";class qr extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=zk,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Wk(a,s):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new qr(i,c,s)}}function Wk(t,e){return t.replace($k,(r,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const $k=/\{\$([^}]+)}/g;function Hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xs(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const i of r){if(!s.includes(i))return!1;const a=t[i],o=e[i];if(ix(a)&&ix(o)){if(!xs(a,o))return!1}else if(a!==o)return!1}for(const i of s)if(!r.includes(i))return!1;return!0}function ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){const e=[];for(const[r,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,a]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function pa(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function qk(t,e){const r=new Gk(t,e);return r.subscribe.bind(r)}class Gk{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let i;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");Kk(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:s},i.next===void 0&&(i.next=du),i.error===void 0&&(i.error=du),i.complete===void 0&&(i.complete=du);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kk(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function du(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new Ik;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xk(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);s===c&&o.resolve(i)}return i}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const i of s)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Yk(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yk(t){return t===rs?void 0:t}function Xk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Qk(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const Zk={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},eE=le.INFO,tE={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},rE=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=tE[e];if(i)console[i](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=eE,this._logHandler=rE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const nE=(t,e)=>e.some(r=>t instanceof r);let ax,ox;function sE(){return ax||(ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iE(){return ox||(ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,kh=new WeakMap,_b=new WeakMap,uu=new WeakMap,Xm=new WeakMap;function aE(t){const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(kn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Nb.set(r,t)}).catch(()=>{}),Xm.set(e,t),e}function oE(t){if(kh.has(t))return;const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});kh.set(t,e)}let Eh={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return kh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_b.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return kn(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lE(t){Eh=t(Eh)}function cE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(hu(this),e,...r);return _b.set(s,e.sort?e.sort():[e]),kn(s)}:iE().includes(t)?function(...e){return t.apply(hu(this),e),kn(Nb.get(this))}:function(...e){return kn(t.apply(hu(this),e))}}function dE(t){return typeof t=="function"?cE(t):(t instanceof IDBTransaction&&oE(t),nE(t,sE())?new Proxy(t,Eh):t)}function kn(t){if(t instanceof IDBRequest)return aE(t);if(uu.has(t))return uu.get(t);const e=dE(t);return e!==t&&(uu.set(t,e),Xm.set(e,t)),e}const hu=t=>Xm.get(t);function uE(t,e,{blocked:r,upgrade:s,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=kn(o);return s&&o.addEventListener("upgradeneeded",d=>{s(kn(o.result),d.oldVersion,d.newVersion,kn(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const hE=["get","getKey","getAll","getAllKeys","count"],mE=["put","add","delete","clear"],mu=new Map;function lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mu.get(e))return mu.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,i=mE.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(i||hE.includes(r)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let u=d.store;return s&&(u=u.index(c.shift())),(await Promise.all([u[r](...c),i&&d.done]))[0]};return mu.set(e,a),a}lE(t=>({...t,get:(e,r,s)=>lx(e,r)||t.get(e,r,s),has:(e,r)=>!!lx(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pE(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function pE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Th="@firebase/app",cx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Ym("@firebase/app"),gE="@firebase/app-compat",xE="@firebase/analytics-compat",yE="@firebase/analytics",vE="@firebase/app-check-compat",bE="@firebase/app-check",jE="@firebase/auth",wE="@firebase/auth-compat",NE="@firebase/database",_E="@firebase/data-connect",kE="@firebase/database-compat",EE="@firebase/functions",TE="@firebase/functions-compat",SE="@firebase/installations",IE="@firebase/installations-compat",CE="@firebase/messaging",AE="@firebase/messaging-compat",PE="@firebase/performance",RE="@firebase/performance-compat",DE="@firebase/remote-config",ME="@firebase/remote-config-compat",LE="@firebase/storage",VE="@firebase/storage-compat",OE="@firebase/firestore",FE="@firebase/ai",UE="@firebase/firestore-compat",BE="firebase",zE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="[DEFAULT]",WE={[Th]:"fire-core",[gE]:"fire-core-compat",[yE]:"fire-analytics",[xE]:"fire-analytics-compat",[bE]:"fire-app-check",[vE]:"fire-app-check-compat",[jE]:"fire-auth",[wE]:"fire-auth-compat",[NE]:"fire-rtdb",[_E]:"fire-data-connect",[kE]:"fire-rtdb-compat",[EE]:"fire-fn",[TE]:"fire-fn-compat",[SE]:"fire-iid",[IE]:"fire-iid-compat",[CE]:"fire-fcm",[AE]:"fire-fcm-compat",[PE]:"fire-perf",[RE]:"fire-perf-compat",[DE]:"fire-rc",[ME]:"fire-rc-compat",[LE]:"fire-gcs",[VE]:"fire-gcs-compat",[OE]:"fire-fst",[UE]:"fire-fst-compat",[FE]:"fire-vertex","fire-js":"fire-js",[BE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new Map,$E=new Map,Ih=new Map;function dx(t,e){try{t.container.addComponent(e)}catch(r){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function xi(t){const e=t.name;if(Ih.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Ih.set(e,t);for(const r of ro.values())dx(r,t);for(const r of $E.values())dx(r,t);return!0}function Jm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Wt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},En=new ko("app","Firebase",HE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=zE;function kb(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s={name:Sh,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw En.create("bad-app-name",{appName:String(i)});if(r||(r=vb()),!r)throw En.create("no-options");const a=ro.get(i);if(a){if(xs(r,a.options)&&xs(s,a.config))return a;throw En.create("duplicate-app",{appName:i})}const o=new Jk(i);for(const d of Ih.values())o.addComponent(d);const c=new qE(r,s,o);return ro.set(i,c),c}function Eb(t=Sh){const e=ro.get(t);if(!e&&t===Sh&&vb())return kb();if(!e)throw En.create("no-app",{appName:t});return e}function ux(){return Array.from(ro.values())}function Tn(t,e,r){let s=WE[t]??t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${s}" with version "${e}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(o.join(" "));return}xi(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebase-heartbeat-database",KE=1,no="firebase-heartbeat-store";let fu=null;function Tb(){return fu||(fu=uE(GE,KE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(no)}catch(r){console.warn(r)}}}}).catch(t=>{throw En.create("idb-open",{originalErrorMessage:t.message})})),fu}async function QE(t){try{const r=(await Tb()).transaction(no),s=await r.objectStore(no).get(Sb(t));return await r.done,s}catch(e){if(e instanceof qr)Fr.warn(e.message);else{const r=En.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(r.message)}}}async function hx(t,e){try{const s=(await Tb()).transaction(no,"readwrite");await s.objectStore(no).put(e,Sb(t)),await s.done}catch(r){if(r instanceof qr)Fr.warn(r.message);else{const s=En.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Fr.warn(s.message)}}}function Sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=1024,XE=30;class JE{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new eT(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=mx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XE){const o=tT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=mx(),{heartbeatsToSend:s,unsentEntries:i}=ZE(this._heartbeatsCache.heartbeats),a=hc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Fr.warn(r),""}}}function mx(){return new Date().toISOString().substring(0,10)}function ZE(t,e=YE){const r=[];let s=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),fx(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),fx(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class eT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uk()?Bk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await QE(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fx(t){return hc(JSON.stringify({version:2,heartbeats:t})).length}function tT(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let s=1;s<t.length;s++)t[s].date<r&&(r=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){xi(new ys("platform-logger",e=>new fE(e),"PRIVATE")),xi(new ys("heartbeat",e=>new JE(e),"PRIVATE")),Tn(Th,cx,t),Tn(Th,cx,"esm2020"),Tn("fire-js","")}rT("");var nT="firebase",sT="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(nT,sT,"app");function Ib(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iT=Ib,Cb=new ko("auth","Firebase",Ib());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Ym("@firebase/auth");function aT(t,...e){mc.logLevel<=le.WARN&&mc.warn(`Auth (${Ai}): ${t}`,...e)}function Cl(t,...e){mc.logLevel<=le.ERROR&&mc.error(`Auth (${Ai}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw Zm(t,...e)}function xr(t,...e){return Zm(t,...e)}function Ab(t,e,r){const s={...iT(),[e]:r};return new ko("auth","Firebase",s).create(e,{appName:t.name})}function Rr(t){return Ab(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(t,...e){if(typeof t!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(r,...s)}return Cb.create(t,...e)}function X(t,e,...r){if(!t)throw Zm(e,...r)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cl(e),new Error(e)}function Ur(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function oT(){return px()==="http:"||px()==="https:"}function px(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oT()||Lk()||"connection"in navigator)?navigator.onLine:!0}function cT(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ur(r>e,"Short delay should be less than long delay!"),this.isMobile=Rk()||Vk()}get(){return lT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hT=new To(3e4,6e4);function Hn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qn(t,e,r,s,i={}){return Rb(t,i,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const c=Eo({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:d,...a};return Mk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ci(t.emulatorConfig.host)&&(u.credentials="include"),Pb.fetch()(await Db(t,t.config.apiHost,r,c),u)})}async function Rb(t,e,r){t._canInitEmulator=!1;const s={...dT,...e};try{const i=new fT(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw hl(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,u]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hl(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw hl(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw hl(t,"user-disabled",o);const m=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ab(t,m,u);or(t,m)}}catch(i){if(i instanceof qr)throw i;or(t,"network-request-failed",{message:String(i)})}}async function So(t,e,r,s,i={}){const a=await qn(t,e,r,s,i);return"mfaPendingCredential"in a&&or(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Db(t,e,r,s){const i=`${e}${r}?${s}`,a=t,o=a.config.emulator?ef(t.config,i):`${t.config.apiScheme}://${i}`;return uT.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function mT(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(xr(this.auth,"network-request-failed")),hT.get())})}}function hl(t,e,r){const s={appName:t.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const i=xr(t,e,s);return i.customData._tokenResponse=r,i}function gx(t){return t!==void 0&&t.enterprise!==void 0}class pT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return mT(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gT(t,e){return qn(t,"GET","/v2/recaptchaConfig",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(t,e){return qn(t,"POST","/v1/accounts:delete",e)}async function fc(t,e){return qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yT(t,e=!1){const r=Vt(t),s=await r.getIdToken(e),i=tf(s);X(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:s,authTime:Aa(pu(i.auth_time)),issuedAtTime:Aa(pu(i.iat)),expirationTime:Aa(pu(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function pu(t){return Number(t)*1e3}function tf(t){const[e,r,s]=t.split(".");if(e===void 0||r===void 0||s===void 0)return Cl("JWT malformed, contained fewer than 3 sections"),null;try{const i=xb(r);return i?JSON.parse(i):(Cl("Failed to decode base64 JWT payload"),null)}catch(i){return Cl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xx(t){const e=tf(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof qr&&vT(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function vT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){var g;const e=t.auth,r=await t.getIdToken(),s=await so(t,fc(e,{idToken:r}));X(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=(g=i.providerUserInfo)!=null&&g.length?Mb(i.providerUserInfo):[],o=wT(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ah(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function jT(t){const e=Vt(t);await pc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wT(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function Mb(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(t,e){const r=await Rb(t,{},async()=>{const s=Eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await Db(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:s};return t.emulatorConfig&&Ci(t.emulatorConfig.host)&&(d.credentials="include"),Pb.fetch()(o,d)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function _T(t,e){return qn(t,"POST","/v2/accounts:revokeToken",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){X(e.length!==0,"internal-error");const r=xx(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:i,expiresIn:a}=await NT(e,r);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:i,expirationTime:a}=r,o=new ai;return s&&(X(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(X(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ai,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:r,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new bT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ah(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await so(this,this.stsTokenManager.getToken(this.auth,e));return X(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return yT(this,e)}reload(){return jT(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await pc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await so(this,xT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const s=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,c=r.tenantId??void 0,d=r._redirectEventId??void 0,u=r.createdAt??void 0,m=r.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:j,providerData:N,stsTokenManager:k}=r;X(g&&k,e,"internal-error");const y=ai.fromJSON(this.name,k);X(typeof g=="string",e,"internal-error"),tn(s,e.name),tn(i,e.name),X(typeof p=="boolean",e,"internal-error"),X(typeof j=="boolean",e,"internal-error"),tn(a,e.name),tn(o,e.name),tn(c,e.name),tn(d,e.name),tn(u,e.name),tn(m,e.name);const f=new rr({uid:g,auth:e,email:i,emailVerified:p,displayName:s,isAnonymous:j,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:y,createdAt:u,lastLoginAt:m});return N&&Array.isArray(N)&&(f.providerData=N.map(w=>({...w}))),d&&(f._redirectEventId=d),f}static async _fromIdTokenResponse(e,r,s=!1){const i=new ai;i.updateFromServerResponse(r);const a=new rr({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await pc(a),a}static async _fromGetAccountInfoResponse(e,r,s){const i=r.users[0];X(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Mb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new ai;c.updateFromIdToken(s);const d=new rr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ah(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,u),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new Map;function Ar(t){Ur(t instanceof Function,"Expected a class definition");let e=yx.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Lb.type="NONE";const vx=Lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t,e,r){return`firebase:${t}:${e}:${r}`}class oi{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=Al(this.userKey,i.apiKey,a),this.fullPersistenceKey=Al("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await fc(this.auth,{idToken:e}).catch(()=>{});return r?rr._fromGetAccountInfoResponse(this.auth,r,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new oi(Ar(vx),e,s);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ar(vx);const o=Al(s,e.config.apiKey,e.name);let c=null;for(const u of r)try{const m=await u._get(o);if(m){let g;if(typeof m=="string"){const p=await fc(e,{idToken:m}).catch(()=>{});if(!p)break;g=await rr._fromGetAccountInfoResponse(e,p,m)}else g=rr._fromJSON(e,m);u!==a&&(c=g),a=u;break}}catch{}const d=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new oi(a,e,s):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new oi(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Wb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Fb(e))&&!e.includes("edge/"))return"Chrome";if(Bb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Vb(t=gt()){return/firefox\//i.test(t)}function Ob(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fb(t=gt()){return/crios\//i.test(t)}function Ub(t=gt()){return/iemobile/i.test(t)}function Bb(t=gt()){return/android/i.test(t)}function zb(t=gt()){return/blackberry/i.test(t)}function Wb(t=gt()){return/webos/i.test(t)}function rf(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kT(t=gt()){var e;return rf(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ET(){return Ok()&&document.documentMode===10}function $b(t=gt()){return rf(t)||Bb(t)||Wb(t)||zb(t)||/windows phone/i.test(t)||Ub(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t,e=[]){let r;switch(t){case"Browser":r=bx(gt());break;case"Worker":r=`${bx(gt())}-${t}`;break;default:r=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ai}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});s.onAbort=r,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(t,e={}){return qn(t,"GET","/v2/passwordPolicy",Hn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=6;class CT{constructor(e){var s;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??IT,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,r,s,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jx(this),this.idTokenSubscription=new jx(this),this.beforeStateQueue=new TT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ar(r)),this._initializationPromise=this.queue(async()=>{var s,i,a;if(!this._deleted&&(this.persistenceManager=await oi.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await fc(this,{idToken:e}),s=await rr._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Wt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===c)&&(d!=null&&d.user)&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pc(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(Rr(this));const r=e?Vt(e):null;return r&&X(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ST(this),r=new CT(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await _T(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ar(e)||this._popupRedirectResolver;X(r,this,"argument-error"),this.redirectPersistenceManager=await oi.create(this,[Ar(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,s,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var r;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&aT(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ks(t){return Vt(t)}class jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=qk(r=>this.observer=r)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PT(t){Zc=t}function qb(t){return Zc.loadJS(t)}function RT(){return Zc.recaptchaEnterpriseScript}function DT(){return Zc.gapiScript}function MT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LT{constructor(){this.enterprise=new VT}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class VT{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const OT="recaptcha-enterprise",Gb="NO_RECAPTCHA";class FT{constructor(e){this.type=OT,this.auth=ks(e)}async verify(e="verify",r=!1){async function s(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{gT(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const u=new pT(d);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;gx(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(Gb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LT().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(c=>{if(!r&&gx(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=RT();d.length!==0&&(d+=c),qb(d).then(()=>{i(c,a,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function wx(t,e,r,s=!1,i=!1){const a=new FT(t);let o;if(i)o=Gb;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ph(t,e,r,s,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wx(t,e,r,r==="getOobCode");return s(t,o)}else return s(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wx(t,e,r,r==="getOobCode");return s(t,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e){const r=Jm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(xs(a,e??{}))return i;or(i,"already-initialized")}return r.initialize({options:e})}function BT(t,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function zT(t,e,r){const s=ks(t);X(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=Kb(e),{host:o,port:c}=WT(e),d=c===null?"":`:${c}`,u={url:`${a}//${o}${d}/`},m=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){X(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),X(xs(u,s.config.emulator)&&xs(m,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=m,s.settings.appVerificationDisabledForTesting=!0,Ci(o)?(jb(`${a}//${o}${d}`),wb("Auth",!0)):$T()}function Kb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WT(t){const e=Kb(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:Nx(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:Nx(o)}}}function Nx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $T(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,r){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function HT(t,e){return qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qT(t,e){return So(t,"POST","/v1/accounts:signInWithPassword",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",Hn(t,e))}async function KT(t,e){return So(t,"POST","/v1/accounts:signInWithEmailLink",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends nf{constructor(e,r,s,i=null){super("password",s),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new io(e,r,"password")}static _fromEmailAndCode(e,r,s=null){return new io(e,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,r,"signInWithPassword",qT);case"emailLink":return GT(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,s,"signUpPassword",HT);case"emailLink":return KT(e,{idToken:r,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function li(t,e){return So(t,"POST","/v1/accounts:signInWithIdp",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="http://localhost";class vs extends nf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):or("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...a}=r;if(!s||!i)return null;const o=new vs(s,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return li(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,li(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,li(e,r)}buildRequest(){const e={requestUri:QT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Eo(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XT(t){const e=fa(pa(t)).link,r=e?fa(pa(e)).deep_link_id:null,s=fa(pa(t)).deep_link_id;return(s?fa(pa(s)).link:null)||s||r||e||t}class sf{constructor(e){const r=fa(pa(e)),s=r.apiKey??null,i=r.oobCode??null,a=YT(r.mode??null);X(s&&i&&a,"argument-error"),this.apiKey=s,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=XT(e);try{return new sf(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.providerId=Pi.PROVIDER_ID}static credential(e,r){return io._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const s=sf.parseLink(r);return X(s,"argument-error"),io._fromEmailAndCode(e,s.code,s.tenantId)}}Pi.PROVIDER_ID="password";Pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Qb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends Io{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ln.credentialFromTaggedObject(e)}static credentialFromError(e){return ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ln.credential(e.oauthAccessToken)}catch{return null}}}ln.FACEBOOK_SIGN_IN_METHOD="facebook.com";ln.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Io{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return vs._fromParams({providerId:cn.PROVIDER_ID,signInMethod:cn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return cn.credentialFromTaggedObject(e)}static credentialFromError(e){return cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return cn.credential(r,s)}catch{return null}}}cn.GOOGLE_SIGN_IN_METHOD="google.com";cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends Io{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dn.credentialFromTaggedObject(e)}static credentialFromError(e){return dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dn.credential(e.oauthAccessToken)}catch{return null}}}dn.GITHUB_SIGN_IN_METHOD="github.com";dn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends Io{constructor(){super("twitter.com")}static credential(e,r){return vs._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return un.credentialFromTaggedObject(e)}static credentialFromError(e){return un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return un.credential(r,s)}catch{return null}}}un.TWITTER_SIGN_IN_METHOD="twitter.com";un.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(t,e){return So(t,"POST","/v1/accounts:signUp",Hn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,i=!1){const a=await rr._fromIdTokenResponse(e,s,i),o=_x(s);return new bs({user:a,providerId:o,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const i=_x(s);return new bs({user:e,providerId:i,_tokenResponse:s,operationType:r})}}function _x(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends qr{constructor(e,r,s,i){super(r.code,r.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,gc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,i){return new gc(e,r,s,i)}}function Yb(t,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gc._fromErrorAndOperation(t,a,e,s):a})}async function ZT(t,e,r=!1){const s=await so(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return bs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(t,e,r=!1){const{auth:s}=t;if(Wt(s.app))return Promise.reject(Rr(s));const i="reauthenticate";try{const a=await so(t,Yb(s,i,e,t),r);X(a.idToken,s,"internal-error");const o=tf(a.idToken);X(o,s,"internal-error");const{sub:c}=o;return X(t.uid===c,s,"user-mismatch"),bs._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&or(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,r=!1){if(Wt(t.app))return Promise.reject(Rr(t));const s="signIn",i=await Yb(t,s,e),a=await bs._fromIdTokenResponse(t,s,i);return r||await t._updateCurrentUser(a.user),a}async function tS(t,e){return Xb(ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t){const e=ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rS(t,e,r){if(Wt(t.app))return Promise.reject(Rr(t));const s=ks(t),o=await Ph(s,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JT).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Jb(t),d}),c=await bs._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function nS(t,e,r){return Wt(t.app)?Promise.reject(Rr(t)):tS(Vt(t),Pi.credential(e,r)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Jb(t),s})}function sS(t,e,r,s){return Vt(t).onIdTokenChanged(e,r,s)}function iS(t,e,r){return Vt(t).beforeAuthStateChanged(e,r)}function aS(t,e,r,s){return Vt(t).onAuthStateChanged(e,r,s)}function oS(t){return Vt(t).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1e3,cS=10;class ej extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$b(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),i=this.localCache[r];s!==i&&e(r,i,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const s=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!r&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);ET()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cS):i()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},lS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}ej.type="LOCAL";const dS=ej;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}tj.type="SESSION";const rj=tj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const s=new ed(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(o).map(async u=>u(r.origin,a)),d=await uS(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const u=af("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function mS(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function fS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function gS(){return nj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="firebaseLocalStorageDb",xS=1,yc="firebaseLocalStorage",ij="fbase_key";class Co{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function td(t,e){return t.transaction([yc],e?"readwrite":"readonly").objectStore(yc)}function yS(){const t=indexedDB.deleteDatabase(sj);return new Co(t).toPromise()}function Rh(){const t=indexedDB.open(sj,xS);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(yc,{keyPath:ij})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(yc)?e(s):(s.close(),await yS(),e(await Rh()))})})}async function kx(t,e,r){const s=td(t,!0).put({[ij]:e,value:r});return new Co(s).toPromise()}async function vS(t,e){const r=td(t,!1).get(e),s=await new Co(r).toPromise();return s===void 0?null:s.value}function Ex(t,e){const r=td(t,!0).delete(e);return new Co(r).toPromise()}const bS=800,jS=3;class aj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rh(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>jS)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(gS()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,s;if(this.activeServiceWorker=await fS(),!this.activeServiceWorker)return;this.sender=new hS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rh();return await kx(e,xc,"1"),await Ex(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>kx(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>vS(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ex(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=td(i,!1).getAll();return new Co(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aj.type="LOCAL";const wS=aj;new To(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t,e){return e?Ar(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends nf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return li(e,this._buildIdpRequest())}_linkToIdToken(e,r){return li(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return li(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function _S(t){return Xb(t.auth,new of(t),t.bypassAuthState)}function kS(t){const{auth:e,user:r}=t;return X(r,e,"internal-error"),eS(r,new of(t),t.bypassAuthState)}async function ES(t){const{auth:e,user:r}=t;return X(r,e,"internal-error"),ZT(r,new of(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,r,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _S;case"linkViaPopup":case"linkViaRedirect":return ES;case"reauthViaPopup":case"reauthViaRedirect":return kS;default:or(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new To(2e3,1e4);class Zs extends oj{constructor(e,r,s,i,a){super(e,r,i,a),this.provider=s,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,s;if((s=(r=this.authWindow)==null?void 0:r.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TS.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="pendingRedirect",Pl=new Map;class IS extends oj{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=Pl.get(this.auth._key());if(!e){try{const s=await CS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}Pl.set(this.auth._key(),e)}return this.bypassAuthState||Pl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CS(t,e){const r=RS(e),s=PS(t);if(!await s._isAvailable())return!1;const i=await s._get(r)==="true";return await s._remove(r),i}function AS(t,e){Pl.set(t._key(),e)}function PS(t){return Ar(t._redirectPersistence)}function RS(t){return Al(SS,t.config.apiKey,t.name)}async function DS(t,e,r=!1){if(Wt(t.app))return Promise.reject(Rr(t));const s=ks(t),i=NS(s,e),o=await new IS(s,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=10*60*1e3;class LS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VS(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var s;if(e.error&&!lj(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";r.onError(xr(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tx(e))}saveEventToCache(e){this.cachedEventUids.add(Tx(e)),this.lastProcessedEventTime=Date.now()}}function Tx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t,e={}){return qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,US=/^https?/;async function BS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OS(t);for(const r of e)try{if(zS(r))return}catch{}or(t,"unauthorized-domain")}function zS(t){const e=Ch(),{protocol:r,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===s}if(!US.test(r))return!1;if(FS.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new To(3e4,6e4);function Sx(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function $S(t){return new Promise((e,r)=>{var i,a,o;function s(){Sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sx(),r(xr(t,"network-request-failed"))},timeout:WS.get()})}if((a=(i=yr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=yr().gapi)!=null&&o.load)s();else{const c=MT("iframefcb");return yr()[c]=()=>{gapi.load?s():r(xr(t,"network-request-failed"))},qb(`${DT()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Rl=null,e})}let Rl=null;function HS(t){return Rl=Rl||$S(t),Rl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new To(5e3,15e3),GS="__/auth/iframe",KS="emulator/auth/iframe",QS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XS(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ef(e,KS):`https://${t.config.authDomain}/${GS}`,s={apiKey:e.apiKey,appName:t.name,v:Ai},i=YS.get(t.config.apiHost);i&&(s.eid=i);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${r}?${Eo(s).slice(1)}`}async function JS(t){const e=await HS(t),r=yr().gapi;return X(r,t,"internal-error"),e.open({where:document.body,url:XS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QS,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const o=xr(t,"network-request-failed"),c=yr().setTimeout(()=>{a(o)},qS.get());function d(){yr().clearTimeout(c),i(s)}s.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eI=500,tI=600,rI="_blank",nI="http://localhost";class Ix{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sI(t,e,r,s=eI,i=tI){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const d={...ZS,width:s.toString(),height:i.toString(),top:a,left:o},u=gt().toLowerCase();r&&(c=Fb(u)?rI:r),Vb(u)&&(e=e||nI,d.scrollbars="yes");const m=Object.entries(d).reduce((p,[j,N])=>`${p}${j}=${N},`,"");if(kT(u)&&c!=="_self")return iI(e||"",c),new Ix(null);const g=window.open(e||"",c,m);X(g,t,"popup-blocked");try{g.focus()}catch{}return new Ix(g)}function iI(t,e){const r=document.createElement("a");r.href=t,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="__/auth/handler",oI="emulator/auth/handler",lI=encodeURIComponent("fac");async function Cx(t,e,r,s,i,a){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:s,v:Ai,eventId:i};if(e instanceof Qb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Hk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))o[m]=g}if(e instanceof Io){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),u=d?`#${lI}=${encodeURIComponent(d)}`:"";return`${cI(t)}?${Eo(c).slice(1)}${u}`}function cI({config:t}){return t.emulator?ef(t,oI):`https://${t.authDomain}/${aI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rj,this._completeRedirectFn=DS,this._overrideRedirectResult=AS}async _openPopup(e,r,s,i){var o;Ur((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await Cx(e,r,s,Ch(),i);return sI(e,a,af())}async _openRedirect(e,r,s,i){await this._originValidation(e);const a=await Cx(e,r,s,Ch(),i);return mS(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ur(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await JS(e),s=new LS(e);return r.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(gu,{type:gu},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[gu];a!==void 0&&r(!!a),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=BS(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return $b()||Ob()||rf()}}const uI=dI;var Ax="@firebase/auth",Px="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(t){xi(new ys("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hb(t)},u=new AT(s,i,a,d);return BT(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),xi(new ys("auth-internal",e=>{const r=ks(e.getProvider("auth").getImmediate());return(s=>new hI(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(Ax,Px,mI(t)),Tn(Ax,Px,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=5*60,gI=bb("authIdTokenMaxAge")||pI;let Rx=null;const xI=t=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>gI)return;const i=r==null?void 0:r.token;Rx!==i&&(Rx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yI(t=Eb()){const e=Jm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=UT(t,{popupRedirectResolver:uI,persistence:[wS,dS,rj]}),s=bb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=xI(a.toString());iS(r,o,()=>o(r.currentUser)),sS(r,c=>o(c))}}const i=yb("auth");return i&&zT(r,`http://${i}`),r}function vI(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}PT({loadJS(t){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const a=xr("internal-error");a.customData=i,r(a)},s.type="text/javascript",s.charset="UTF-8",vI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var Dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sn,cj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(_,v){function T(){}T.prototype=v.prototype,_.F=v.prototype,_.prototype=new T,_.prototype.constructor=_,_.D=function(P,I,A){for(var C=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)C[Q-2]=arguments[Q];return v.prototype[I].apply(P,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,v,T){T||(T=0);const P=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)P[I]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(I=0;I<16;++I)P[I]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=_.g[0],T=_.g[1],I=_.g[2];let A=_.g[3],C;C=v+(A^T&(I^A))+P[0]+3614090360&4294967295,v=T+(C<<7&4294967295|C>>>25),C=A+(I^v&(T^I))+P[1]+3905402710&4294967295,A=v+(C<<12&4294967295|C>>>20),C=I+(T^A&(v^T))+P[2]+606105819&4294967295,I=A+(C<<17&4294967295|C>>>15),C=T+(v^I&(A^v))+P[3]+3250441966&4294967295,T=I+(C<<22&4294967295|C>>>10),C=v+(A^T&(I^A))+P[4]+4118548399&4294967295,v=T+(C<<7&4294967295|C>>>25),C=A+(I^v&(T^I))+P[5]+1200080426&4294967295,A=v+(C<<12&4294967295|C>>>20),C=I+(T^A&(v^T))+P[6]+2821735955&4294967295,I=A+(C<<17&4294967295|C>>>15),C=T+(v^I&(A^v))+P[7]+4249261313&4294967295,T=I+(C<<22&4294967295|C>>>10),C=v+(A^T&(I^A))+P[8]+1770035416&4294967295,v=T+(C<<7&4294967295|C>>>25),C=A+(I^v&(T^I))+P[9]+2336552879&4294967295,A=v+(C<<12&4294967295|C>>>20),C=I+(T^A&(v^T))+P[10]+4294925233&4294967295,I=A+(C<<17&4294967295|C>>>15),C=T+(v^I&(A^v))+P[11]+2304563134&4294967295,T=I+(C<<22&4294967295|C>>>10),C=v+(A^T&(I^A))+P[12]+1804603682&4294967295,v=T+(C<<7&4294967295|C>>>25),C=A+(I^v&(T^I))+P[13]+4254626195&4294967295,A=v+(C<<12&4294967295|C>>>20),C=I+(T^A&(v^T))+P[14]+2792965006&4294967295,I=A+(C<<17&4294967295|C>>>15),C=T+(v^I&(A^v))+P[15]+1236535329&4294967295,T=I+(C<<22&4294967295|C>>>10),C=v+(I^A&(T^I))+P[1]+4129170786&4294967295,v=T+(C<<5&4294967295|C>>>27),C=A+(T^I&(v^T))+P[6]+3225465664&4294967295,A=v+(C<<9&4294967295|C>>>23),C=I+(v^T&(A^v))+P[11]+643717713&4294967295,I=A+(C<<14&4294967295|C>>>18),C=T+(A^v&(I^A))+P[0]+3921069994&4294967295,T=I+(C<<20&4294967295|C>>>12),C=v+(I^A&(T^I))+P[5]+3593408605&4294967295,v=T+(C<<5&4294967295|C>>>27),C=A+(T^I&(v^T))+P[10]+38016083&4294967295,A=v+(C<<9&4294967295|C>>>23),C=I+(v^T&(A^v))+P[15]+3634488961&4294967295,I=A+(C<<14&4294967295|C>>>18),C=T+(A^v&(I^A))+P[4]+3889429448&4294967295,T=I+(C<<20&4294967295|C>>>12),C=v+(I^A&(T^I))+P[9]+568446438&4294967295,v=T+(C<<5&4294967295|C>>>27),C=A+(T^I&(v^T))+P[14]+3275163606&4294967295,A=v+(C<<9&4294967295|C>>>23),C=I+(v^T&(A^v))+P[3]+4107603335&4294967295,I=A+(C<<14&4294967295|C>>>18),C=T+(A^v&(I^A))+P[8]+1163531501&4294967295,T=I+(C<<20&4294967295|C>>>12),C=v+(I^A&(T^I))+P[13]+2850285829&4294967295,v=T+(C<<5&4294967295|C>>>27),C=A+(T^I&(v^T))+P[2]+4243563512&4294967295,A=v+(C<<9&4294967295|C>>>23),C=I+(v^T&(A^v))+P[7]+1735328473&4294967295,I=A+(C<<14&4294967295|C>>>18),C=T+(A^v&(I^A))+P[12]+2368359562&4294967295,T=I+(C<<20&4294967295|C>>>12),C=v+(T^I^A)+P[5]+4294588738&4294967295,v=T+(C<<4&4294967295|C>>>28),C=A+(v^T^I)+P[8]+2272392833&4294967295,A=v+(C<<11&4294967295|C>>>21),C=I+(A^v^T)+P[11]+1839030562&4294967295,I=A+(C<<16&4294967295|C>>>16),C=T+(I^A^v)+P[14]+4259657740&4294967295,T=I+(C<<23&4294967295|C>>>9),C=v+(T^I^A)+P[1]+2763975236&4294967295,v=T+(C<<4&4294967295|C>>>28),C=A+(v^T^I)+P[4]+1272893353&4294967295,A=v+(C<<11&4294967295|C>>>21),C=I+(A^v^T)+P[7]+4139469664&4294967295,I=A+(C<<16&4294967295|C>>>16),C=T+(I^A^v)+P[10]+3200236656&4294967295,T=I+(C<<23&4294967295|C>>>9),C=v+(T^I^A)+P[13]+681279174&4294967295,v=T+(C<<4&4294967295|C>>>28),C=A+(v^T^I)+P[0]+3936430074&4294967295,A=v+(C<<11&4294967295|C>>>21),C=I+(A^v^T)+P[3]+3572445317&4294967295,I=A+(C<<16&4294967295|C>>>16),C=T+(I^A^v)+P[6]+76029189&4294967295,T=I+(C<<23&4294967295|C>>>9),C=v+(T^I^A)+P[9]+3654602809&4294967295,v=T+(C<<4&4294967295|C>>>28),C=A+(v^T^I)+P[12]+3873151461&4294967295,A=v+(C<<11&4294967295|C>>>21),C=I+(A^v^T)+P[15]+530742520&4294967295,I=A+(C<<16&4294967295|C>>>16),C=T+(I^A^v)+P[2]+3299628645&4294967295,T=I+(C<<23&4294967295|C>>>9),C=v+(I^(T|~A))+P[0]+4096336452&4294967295,v=T+(C<<6&4294967295|C>>>26),C=A+(T^(v|~I))+P[7]+1126891415&4294967295,A=v+(C<<10&4294967295|C>>>22),C=I+(v^(A|~T))+P[14]+2878612391&4294967295,I=A+(C<<15&4294967295|C>>>17),C=T+(A^(I|~v))+P[5]+4237533241&4294967295,T=I+(C<<21&4294967295|C>>>11),C=v+(I^(T|~A))+P[12]+1700485571&4294967295,v=T+(C<<6&4294967295|C>>>26),C=A+(T^(v|~I))+P[3]+2399980690&4294967295,A=v+(C<<10&4294967295|C>>>22),C=I+(v^(A|~T))+P[10]+4293915773&4294967295,I=A+(C<<15&4294967295|C>>>17),C=T+(A^(I|~v))+P[1]+2240044497&4294967295,T=I+(C<<21&4294967295|C>>>11),C=v+(I^(T|~A))+P[8]+1873313359&4294967295,v=T+(C<<6&4294967295|C>>>26),C=A+(T^(v|~I))+P[15]+4264355552&4294967295,A=v+(C<<10&4294967295|C>>>22),C=I+(v^(A|~T))+P[6]+2734768916&4294967295,I=A+(C<<15&4294967295|C>>>17),C=T+(A^(I|~v))+P[13]+1309151649&4294967295,T=I+(C<<21&4294967295|C>>>11),C=v+(I^(T|~A))+P[4]+4149444226&4294967295,v=T+(C<<6&4294967295|C>>>26),C=A+(T^(v|~I))+P[11]+3174756917&4294967295,A=v+(C<<10&4294967295|C>>>22),C=I+(v^(A|~T))+P[2]+718787259&4294967295,I=A+(C<<15&4294967295|C>>>17),C=T+(A^(I|~v))+P[9]+3951481745&4294967295,_.g[0]=_.g[0]+v&4294967295,_.g[1]=_.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,_.g[2]=_.g[2]+I&4294967295,_.g[3]=_.g[3]+A&4294967295}s.prototype.v=function(_,v){v===void 0&&(v=_.length);const T=v-this.blockSize,P=this.C;let I=this.h,A=0;for(;A<v;){if(I==0)for(;A<=T;)i(this,_,A),A+=this.blockSize;if(typeof _=="string"){for(;A<v;)if(P[I++]=_.charCodeAt(A++),I==this.blockSize){i(this,P),I=0;break}}else for(;A<v;)if(P[I++]=_[A++],I==this.blockSize){i(this,P),I=0;break}}this.h=I,this.o+=v},s.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var v=1;v<_.length-8;++v)_[v]=0;v=this.o*8;for(var T=_.length-8;T<_.length;++T)_[T]=v&255,v/=256;for(this.v(_),_=Array(16),v=0,T=0;T<4;++T)for(let P=0;P<32;P+=8)_[v++]=this.g[T]>>>P&255;return _};function a(_,v){var T=c;return Object.prototype.hasOwnProperty.call(T,_)?T[_]:T[_]=v(_)}function o(_,v){this.h=v;const T=[];let P=!0;for(let I=_.length-1;I>=0;I--){const A=_[I]|0;P&&A==v||(T[I]=A,P=!1)}this.g=T}var c={};function d(_){return-128<=_&&_<128?a(_,function(v){return new o([v|0],v<0?-1:0)}):new o([_|0],_<0?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return g;if(_<0)return y(u(-_));const v=[];let T=1;for(let P=0;_>=T;P++)v[P]=_/T|0,T*=4294967296;return new o(v,0)}function m(_,v){if(_.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(_.charAt(0)=="-")return y(m(_.substring(1),v));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(v,8));let P=g;for(let A=0;A<_.length;A+=8){var I=Math.min(8,_.length-A);const C=parseInt(_.substring(A,A+I),v);I<8?(I=u(Math.pow(v,I)),P=P.j(I).add(u(C))):(P=P.j(T),P=P.add(u(C)))}return P}var g=d(0),p=d(1),j=d(16777216);t=o.prototype,t.m=function(){if(k(this))return-y(this).m();let _=0,v=1;for(let T=0;T<this.g.length;T++){const P=this.i(T);_+=(P>=0?P:4294967296+P)*v,v*=4294967296}return _},t.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(N(this))return"0";if(k(this))return"-"+y(this).toString(_);const v=u(Math.pow(_,6));var T=this;let P="";for(;;){const I=R(T,v).g;T=f(T,I.j(v));let A=((T.g.length>0?T.g[0]:T.h)>>>0).toString(_);if(T=I,N(T))return A+P;for(;A.length<6;)A="0"+A;P=A+P}},t.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function N(_){if(_.h!=0)return!1;for(let v=0;v<_.g.length;v++)if(_.g[v]!=0)return!1;return!0}function k(_){return _.h==-1}t.l=function(_){return _=f(this,_),k(_)?-1:N(_)?0:1};function y(_){const v=_.g.length,T=[];for(let P=0;P<v;P++)T[P]=~_.g[P];return new o(T,~_.h).add(p)}t.abs=function(){return k(this)?y(this):this},t.add=function(_){const v=Math.max(this.g.length,_.g.length),T=[];let P=0;for(let I=0;I<=v;I++){let A=P+(this.i(I)&65535)+(_.i(I)&65535),C=(A>>>16)+(this.i(I)>>>16)+(_.i(I)>>>16);P=C>>>16,A&=65535,C&=65535,T[I]=C<<16|A}return new o(T,T[T.length-1]&-2147483648?-1:0)};function f(_,v){return _.add(y(v))}t.j=function(_){if(N(this)||N(_))return g;if(k(this))return k(_)?y(this).j(y(_)):y(y(this).j(_));if(k(_))return y(this.j(y(_)));if(this.l(j)<0&&_.l(j)<0)return u(this.m()*_.m());const v=this.g.length+_.g.length,T=[];for(var P=0;P<2*v;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(let I=0;I<_.g.length;I++){const A=this.i(P)>>>16,C=this.i(P)&65535,Q=_.i(I)>>>16,B=_.i(I)&65535;T[2*P+2*I]+=C*B,w(T,2*P+2*I),T[2*P+2*I+1]+=A*B,w(T,2*P+2*I+1),T[2*P+2*I+1]+=C*Q,w(T,2*P+2*I+1),T[2*P+2*I+2]+=A*Q,w(T,2*P+2*I+2)}for(_=0;_<v;_++)T[_]=T[2*_+1]<<16|T[2*_];for(_=v;_<2*v;_++)T[_]=0;return new o(T,0)};function w(_,v){for(;(_[v]&65535)!=_[v];)_[v+1]+=_[v]>>>16,_[v]&=65535,v++}function b(_,v){this.g=_,this.h=v}function R(_,v){if(N(v))throw Error("division by zero");if(N(_))return new b(g,g);if(k(_))return v=R(y(_),v),new b(y(v.g),y(v.h));if(k(v))return v=R(_,y(v)),new b(y(v.g),v.h);if(_.g.length>30){if(k(_)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var T=p,P=v;P.l(_)<=0;)T=M(T),P=M(P);var I=D(T,1),A=D(P,1);for(P=D(P,2),T=D(T,2);!N(P);){var C=A.add(P);C.l(_)<=0&&(I=I.add(T),A=C),P=D(P,1),T=D(T,1)}return v=f(_,I.j(v)),new b(I,v)}for(I=g;_.l(v)>=0;){for(T=Math.max(1,Math.floor(_.m()/v.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),A=u(T),C=A.j(v);k(C)||C.l(_)>0;)T-=P,A=u(T),C=A.j(v);N(A)&&(A=p),I=I.add(A),_=f(_,C)}return new b(I,_)}t.B=function(_){return R(this,_).h},t.and=function(_){const v=Math.max(this.g.length,_.g.length),T=[];for(let P=0;P<v;P++)T[P]=this.i(P)&_.i(P);return new o(T,this.h&_.h)},t.or=function(_){const v=Math.max(this.g.length,_.g.length),T=[];for(let P=0;P<v;P++)T[P]=this.i(P)|_.i(P);return new o(T,this.h|_.h)},t.xor=function(_){const v=Math.max(this.g.length,_.g.length),T=[];for(let P=0;P<v;P++)T[P]=this.i(P)^_.i(P);return new o(T,this.h^_.h)};function M(_){const v=_.g.length+1,T=[];for(let P=0;P<v;P++)T[P]=_.i(P)<<1|_.i(P-1)>>>31;return new o(T,_.h)}function D(_,v){const T=v>>5;v%=32;const P=_.g.length-T,I=[];for(let A=0;A<P;A++)I[A]=v>0?_.i(A+T)>>>v|_.i(A+T+1)<<32-v:_.i(A+T);return new o(I,_.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cj=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=m,Sn=o}).apply(typeof Dx<"u"?Dx:typeof self<"u"?self:typeof window<"u"?window:{});var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dj,ga,uj,Dl,Dh,hj,mj,fj;(function(){var t,e=Object.defineProperty;function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ml=="object"&&ml];for(var h=0;h<l.length;++h){var x=l[h];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=r(this);function i(l,h){if(h)e:{var x=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in x))break e;x=x[L]}l=l[l.length-1],E=x[l],h=h(E),h!=E&&h!=null&&e(x,l,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(h){var x=[],E;for(E in h)Object.prototype.hasOwnProperty.call(h,E)&&x.push([E,h[E]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,x){return l.call.apply(l.bind,arguments)}function u(l,h,x){return u=d,u.apply(null,arguments)}function m(l,h){var x=Array.prototype.slice.call(arguments,1);return function(){var E=x.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function g(l,h){function x(){}x.prototype=h.prototype,l.Z=h.prototype,l.prototype=new x,l.prototype.constructor=l,l.Ob=function(E,L,V){for(var W=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)W[ie-2]=arguments[ie];return h.prototype[L].apply(E,W)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function j(l){const h=l.length;if(h>0){const x=Array(h);for(let E=0;E<h;E++)x[E]=l[E];return x}return[]}function N(l,h){for(let E=1;E<arguments.length;E++){const L=arguments[E];var x=typeof L;if(x=x!="object"?x:L?Array.isArray(L)?"array":x:"null",x=="array"||x=="object"&&typeof L.length=="number"){x=l.length||0;const V=L.length||0;l.length=x+V;for(let W=0;W<V;W++)l[x+W]=L[W]}else l.push(L)}}class k{constructor(h,x){this.i=h,this.j=x,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){o.setTimeout(()=>{throw l},0)}function f(){var l=_;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class w{constructor(){this.h=this.g=null}add(h,x){const E=b.get();E.set(h,x),this.h?this.h.next=E:this.g=E,this.h=E}}var b=new k(()=>new R,l=>l.reset());class R{constructor(){this.next=this.g=this.h=null}set(h,x){this.h=h,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let M,D=!1,_=new w,v=()=>{const l=Promise.resolve(void 0);M=()=>{l.then(T)}};function T(){for(var l;l=f();){try{l.h.call(l.g)}catch(x){y(x)}var h=b;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}D=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const x=()=>{};o.addEventListener("test",x,h),o.removeEventListener("test",x,h)}catch{}return l}();function C(l){return/^[\s\xa0]*$/.test(l)}function Q(l,h){I.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}g(Q,I),Q.prototype.init=function(l,h){const x=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(x=="mouseover"?h=l.fromElement:x=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),Z=0;function Pe(l,h,x,E,L){this.listener=l,this.proxy=null,this.src=h,this.type=x,this.capture=!!E,this.ha=L,this.key=++Z,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function G(l,h,x){for(const E in l)h.call(x,l[E],E,l)}function ee(l,h){for(const x in l)h.call(void 0,l[x],x,l)}function ke(l){const h={};for(const x in l)h[x]=l[x];return h}const Me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gn(l,h){let x,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(x in E)l[x]=E[x];for(let V=0;V<Me.length;V++)x=Me[V],Object.prototype.hasOwnProperty.call(E,x)&&(l[x]=E[x])}}function Ut(l){this.src=l,this.g={},this.h=0}Ut.prototype.add=function(l,h,x,E,L){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const W=Xt(l,h,E,L);return W>-1?(h=l[W],x||(h.fa=!1)):(h=new Pe(h,this.src,V,!!E,L),h.fa=x,l.push(h)),h};function Kn(l,h){const x=h.type;if(x in l.g){var E=l.g[x],L=Array.prototype.indexOf.call(E,h,void 0),V;(V=L>=0)&&Array.prototype.splice.call(E,L,1),V&&($(h),l.g[x].length==0&&(delete l.g[x],l.h--))}}function Xt(l,h,x,E){for(let L=0;L<l.length;++L){const V=l[L];if(!V.da&&V.listener==h&&V.capture==!!x&&V.ha==E)return L}return-1}var Gr="closure_lm_"+(Math.random()*1e6|0),gd={};function Bf(l,h,x,E,L){if(Array.isArray(h)){for(let V=0;V<h.length;V++)Bf(l,h[V],x,E,L);return null}return x=$f(x),l&&l[B]?l.J(h,x,c(E)?!!E.capture:!1,L):Xw(l,h,x,!1,E,L)}function Xw(l,h,x,E,L,V){if(!h)throw Error("Invalid event type");const W=c(L)?!!L.capture:!!L;let ie=yd(l);if(ie||(l[Gr]=ie=new Ut(l)),x=ie.add(h,x,E,W,V),x.proxy)return x;if(E=Jw(),x.proxy=E,E.src=l,E.listener=x,l.addEventListener)A||(L=W),L===void 0&&(L=!1),l.addEventListener(h.toString(),E,L);else if(l.attachEvent)l.attachEvent(Wf(h.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Jw(){function l(x){return h.call(l.src,l.listener,x)}const h=Zw;return l}function zf(l,h,x,E,L){if(Array.isArray(h))for(var V=0;V<h.length;V++)zf(l,h[V],x,E,L);else E=c(E)?!!E.capture:!!E,x=$f(x),l&&l[B]?(l=l.i,V=String(h).toString(),V in l.g&&(h=l.g[V],x=Xt(h,x,E,L),x>-1&&($(h[x]),Array.prototype.splice.call(h,x,1),h.length==0&&(delete l.g[V],l.h--)))):l&&(l=yd(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Xt(h,x,E,L)),(x=l>-1?h[l]:null)&&xd(x))}function xd(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[B])Kn(h.i,l);else{var x=l.type,E=l.proxy;h.removeEventListener?h.removeEventListener(x,E,l.capture):h.detachEvent?h.detachEvent(Wf(x),E):h.addListener&&h.removeListener&&h.removeListener(E),(x=yd(h))?(Kn(x,l),x.h==0&&(x.src=null,h[Gr]=null)):$(l)}}}function Wf(l){return l in gd?gd[l]:gd[l]="on"+l}function Zw(l,h){if(l.da)l=!0;else{h=new Q(h,this);const x=l.listener,E=l.ha||l.src;l.fa&&xd(l),l=x.call(E,h)}return l}function yd(l){return l=l[Gr],l instanceof Ut?l:null}var vd="__closure_events_fn_"+(Math.random()*1e9>>>0);function $f(l){return typeof l=="function"?l:(l[vd]||(l[vd]=function(h){return l.handleEvent(h)}),l[vd])}function ot(){P.call(this),this.i=new Ut(this),this.M=this,this.G=null}g(ot,P),ot.prototype[B]=!0,ot.prototype.removeEventListener=function(l,h,x,E){zf(this,l,h,x,E)};function xt(l,h){var x,E=l.G;if(E)for(x=[];E;E=E.G)x.push(E);if(l=l.M,E=h.type||h,typeof h=="string")h=new I(h,l);else if(h instanceof I)h.target=h.target||l;else{var L=h;h=new I(E,l),Gn(h,L)}L=!0;let V,W;if(x)for(W=x.length-1;W>=0;W--)V=h.g=x[W],L=Vo(V,E,!0,h)&&L;if(V=h.g=l,L=Vo(V,E,!0,h)&&L,L=Vo(V,E,!1,h)&&L,x)for(W=0;W<x.length;W++)V=h.g=x[W],L=Vo(V,E,!1,h)&&L}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const x=l.g[h];for(let E=0;E<x.length;E++)$(x[E]);delete l.g[h],l.h--}}this.G=null},ot.prototype.J=function(l,h,x,E){return this.i.add(String(l),h,!1,x,E)},ot.prototype.K=function(l,h,x,E){return this.i.add(String(l),h,!0,x,E)};function Vo(l,h,x,E){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let L=!0;for(let V=0;V<h.length;++V){const W=h[V];if(W&&!W.da&&W.capture==x){const ie=W.listener,$e=W.ha||W.src;W.fa&&Kn(l.i,W),L=ie.call($e,E)!==!1&&L}}return L&&!E.defaultPrevented}function e2(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function Hf(l){l.g=e2(()=>{l.g=null,l.i&&(l.i=!1,Hf(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class t2 extends P{constructor(h,x){super(),this.m=h,this.l=x,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Hf(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oi(l){P.call(this),this.h=l,this.g={}}g(Oi,P);var qf=[];function Gf(l){G(l.g,function(h,x){this.g.hasOwnProperty(x)&&xd(h)},l),l.g={}}Oi.prototype.N=function(){Oi.Z.N.call(this),Gf(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bd=o.JSON.stringify,r2=o.JSON.parse,n2=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Kf(){}function Qf(){}var Fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jd(){I.call(this,"d")}g(jd,I);function wd(){I.call(this,"c")}g(wd,I);var Qn={},Yf=null;function Oo(){return Yf=Yf||new ot}Qn.Ia="serverreachability";function Xf(l){I.call(this,Qn.Ia,l)}g(Xf,I);function Ui(l){const h=Oo();xt(h,new Xf(h))}Qn.STAT_EVENT="statevent";function Jf(l,h){I.call(this,Qn.STAT_EVENT,l),this.stat=h}g(Jf,I);function yt(l){const h=Oo();xt(h,new Jf(h,l))}Qn.Ja="timingevent";function Zf(l,h){I.call(this,Qn.Ja,l),this.size=h}g(Zf,I);function Bi(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function zi(){this.g=!0}zi.prototype.ua=function(){this.g=!1};function s2(l,h,x,E,L,V){l.info(function(){if(l.g)if(V){var W="",ie=V.split("&");for(let ve=0;ve<ie.length;ve++){var $e=ie[ve].split("=");if($e.length>1){const Qe=$e[0];$e=$e[1];const dr=Qe.split("_");W=dr.length>=2&&dr[1]=="type"?W+(Qe+"="+$e+"&"):W+(Qe+"=redacted&")}}}else W=null;else W=V;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+h+`
`+x+`
`+W})}function i2(l,h,x,E,L,V,W){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+h+`
`+x+`
`+V+" "+W})}function Cs(l,h,x,E){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+o2(l,x)+(E?" "+E:"")})}function a2(l,h){l.info(function(){return"TIMEOUT: "+h})}zi.prototype.info=function(){};function o2(l,h){if(!l.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var x=V[l];if(!(x.length<2)){var E=x[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<E.length;W++)E[W]=""}}}}return bd(V)}catch{return h}}var Fo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ep={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tp;function Nd(){}g(Nd,Kf),Nd.prototype.g=function(){return new XMLHttpRequest},tp=new Nd;function Wi(l){return encodeURIComponent(String(l))}function l2(l){var h=1;l=l.split(":");const x=[];for(;h>0&&l.length;)x.push(l.shift()),h--;return l.length&&x.push(l.join(":")),x}function Kr(l,h,x,E){this.j=l,this.i=h,this.l=x,this.S=E||1,this.V=new Oi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rp}function rp(){this.i=null,this.g="",this.h=!1}var np={},_d={};function kd(l,h,x){l.M=1,l.A=Bo(cr(h)),l.u=x,l.R=!0,sp(l,null)}function sp(l,h){l.F=Date.now(),Uo(l),l.B=cr(l.A);var x=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),xp(x.i,"t",E),l.C=0,x=l.j.L,l.h=new rp,l.g=Mp(l.j,x?h:null,!l.u),l.P>0&&(l.O=new t2(u(l.Y,l,l.g),l.P)),h=l.V,x=l.g,E=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(qf[0]=L.toString()),L=qf);for(let V=0;V<L.length;V++){const W=Bf(x,L[V],E||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=l.J?ke(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Ui(),s2(l.i,l.v,l.B,l.l,l.S,l.u)}Kr.prototype.ba=function(l){l=l.target;const h=this.O;h&&Xr(l)==3?h.j():this.Y(l)},Kr.prototype.Y=function(l){try{if(l==this.g)e:{const ie=Xr(this.g),$e=this.g.ya(),ve=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||_p(this.g)))){this.K||ie!=4||$e==7||($e==8||ve<=0?Ui(3):Ui(2)),Ed(this);var h=this.g.ca();this.X=h;var x=c2(this);if(this.o=h==200,i2(this.i,this.v,this.B,this.l,this.S,ie,h),this.o){if(this.U&&!this.L){t:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(E)){var V=E;break t}}V=null}if(l=V)Cs(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Td(this,l);else{this.o=!1,this.m=3,yt(12),Yn(this),$i(this);break e}}if(this.R){l=!0;let Qe;for(;!this.K&&this.C<x.length;)if(Qe=d2(this,x),Qe==_d){ie==4&&(this.m=4,yt(14),l=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==np){this.m=4,yt(15),Cs(this.i,this.l,x,"[Invalid Chunk]"),l=!1;break}else Cs(this.i,this.l,Qe,null),Td(this,Qe);if(ip(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||x.length!=0||this.h.h||(this.m=1,yt(16),l=!1),this.o=this.o&&l,!l)Cs(this.i,this.l,x,"[Invalid Chunked Response]"),Yn(this),$i(this);else if(x.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Md(W),W.P=!0,yt(11))}}else Cs(this.i,this.l,x,null),Td(this,x);ie==4&&Yn(this),this.o&&!this.K&&(ie==4?Ap(this.j,this):(this.o=!1,Uo(this)))}else _2(this.g),h==400&&x.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Yn(this),$i(this)}}}catch{}finally{}};function c2(l){if(!ip(l))return l.g.la();const h=_p(l.g);if(h==="")return"";let x="";const E=h.length,L=Xr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Yn(l),$i(l),"";l.h.i=new o.TextDecoder}for(let V=0;V<E;V++)l.h.h=!0,x+=l.h.i.decode(h[V],{stream:!(L&&V==E-1)});return h.length=0,l.h.g+=x,l.C=0,l.h.g}function ip(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function d2(l,h){var x=l.C,E=h.indexOf(`
`,x);return E==-1?_d:(x=Number(h.substring(x,E)),isNaN(x)?np:(E+=1,E+x>h.length?_d:(h=h.slice(E,E+x),l.C=E+x,h)))}Kr.prototype.cancel=function(){this.K=!0,Yn(this)};function Uo(l){l.T=Date.now()+l.H,ap(l,l.H)}function ap(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Bi(u(l.aa,l),h)}function Ed(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Kr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(a2(this.i,this.B),this.M!=2&&(Ui(),yt(17)),Yn(this),this.m=2,$i(this)):ap(this,this.T-l)};function $i(l){l.j.I==0||l.K||Ap(l.j,l)}function Yn(l){Ed(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Gf(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Td(l,h){try{var x=l.j;if(x.I!=0&&(x.g==l||Sd(x.h,l))){if(!l.L&&Sd(x.h,l)&&x.I==3){try{var E=x.Ba.g.parse(h)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<l.F)qo(x),$o(x);else break e;Dd(x),yt(18)}}else x.xa=L[1],0<x.xa-x.K&&L[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Bi(u(x.Va,x),6e3));cp(x.h)<=1&&x.ta&&(x.ta=void 0)}else Jn(x,11)}else if((l.L||x.g==l)&&qo(x),!C(h))for(L=x.Ba.g.parse(h),h=0;h<L.length;h++){let ve=L[h];const Qe=ve[0];if(!(Qe<=x.K))if(x.K=Qe,ve=ve[1],x.I==2)if(ve[0]=="c"){x.M=ve[1],x.ba=ve[2];const dr=ve[3];dr!=null&&(x.ka=dr,x.j.info("VER="+x.ka));const Zn=ve[4];Zn!=null&&(x.za=Zn,x.j.info("SVER="+x.za));const Jr=ve[5];Jr!=null&&typeof Jr=="number"&&Jr>0&&(E=1.5*Jr,x.O=E,x.j.info("backChannelRequestTimeoutMs_="+E)),E=x;const Zr=l.g;if(Zr){const Ko=Zr.g?Zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ko){var V=E.h;V.g||Ko.indexOf("spdy")==-1&&Ko.indexOf("quic")==-1&&Ko.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Id(V,V.h),V.h=null))}if(E.G){const Ld=Zr.g?Zr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ld&&(E.wa=Ld,je(E.J,E.G,Ld))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-l.F,x.j.info("Handshake RTT: "+x.T+"ms")),E=x;var W=l;if(E.na=Dp(E,E.L?E.ba:null,E.W),W.L){dp(E.h,W);var ie=W,$e=E.O;$e&&(ie.H=$e),ie.D&&(Ed(ie),Uo(ie)),E.g=W}else Ip(E);x.i.length>0&&Ho(x)}else ve[0]!="stop"&&ve[0]!="close"||Jn(x,7);else x.I==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Jn(x,7):Rd(x):ve[0]!="noop"&&x.l&&x.l.qa(ve),x.A=0)}}Ui(4)}catch{}}var u2=class{constructor(l,h){this.g=l,this.map=h}};function op(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function cp(l){return l.h?1:l.g?l.g.size:0}function Sd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Id(l,h){l.g?l.g.add(h):l.h=h}function dp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}op.prototype.cancel=function(){if(this.i=up(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function up(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const x of l.g.values())h=h.concat(x.G);return h}return j(l.i)}var hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function h2(l,h){if(l){l=l.split("&");for(let x=0;x<l.length;x++){const E=l[x].indexOf("=");let L,V=null;E>=0?(L=l[x].substring(0,E),V=l[x].substring(E+1)):L=l[x],h(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Qr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Qr?(this.l=l.l,Hi(this,l.j),this.o=l.o,this.g=l.g,qi(this,l.u),this.h=l.h,Cd(this,yp(l.i)),this.m=l.m):l&&(h=String(l).match(hp))?(this.l=!1,Hi(this,h[1]||"",!0),this.o=Gi(h[2]||""),this.g=Gi(h[3]||"",!0),qi(this,h[4]),this.h=Gi(h[5]||"",!0),Cd(this,h[6]||"",!0),this.m=Gi(h[7]||"")):(this.l=!1,this.i=new Qi(null,this.l))}Qr.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ki(h,mp,!0),":");var x=this.g;return(x||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ki(h,mp,!0),"@"),l.push(Wi(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&l.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&l.push("/"),l.push(Ki(x,x.charAt(0)=="/"?p2:f2,!0))),(x=this.i.toString())&&l.push("?",x),(x=this.m)&&l.push("#",Ki(x,x2)),l.join("")},Qr.prototype.resolve=function(l){const h=cr(this);let x=!!l.j;x?Hi(h,l.j):x=!!l.o,x?h.o=l.o:x=!!l.g,x?h.g=l.g:x=l.u!=null;var E=l.h;if(x)qi(h,l.u);else if(x=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=h.h.lastIndexOf("/");L!=-1&&(E=h.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let W=0;W<L.length;){const ie=L[W++];ie=="."?E&&W==L.length&&V.push(""):ie==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),E&&W==L.length&&V.push("")):(V.push(ie),E=!0)}E=V.join("/")}else E=L}return x?h.h=E:x=l.i.toString()!=="",x?Cd(h,yp(l.i)):x=!!l.m,x&&(h.m=l.m),h};function cr(l){return new Qr(l)}function Hi(l,h,x){l.j=x?Gi(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function qi(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Cd(l,h,x){h instanceof Qi?(l.i=h,y2(l.i,l.l)):(x||(h=Ki(h,g2)),l.i=new Qi(h,l.l))}function je(l,h,x){l.i.set(h,x)}function Bo(l){return je(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Gi(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ki(l,h,x){return typeof l=="string"?(l=encodeURI(l).replace(h,m2),x&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function m2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mp=/[#\/\?@]/g,f2=/[#\?:]/g,p2=/[#\?]/g,g2=/[#\?@]/g,x2=/#/g;function Qi(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Xn(l){l.g||(l.g=new Map,l.h=0,l.i&&h2(l.i,function(h,x){l.add(decodeURIComponent(h.replace(/\+/g," ")),x)}))}t=Qi.prototype,t.add=function(l,h){Xn(this),this.i=null,l=As(this,l);let x=this.g.get(l);return x||this.g.set(l,x=[]),x.push(h),this.h+=1,this};function fp(l,h){Xn(l),h=As(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function pp(l,h){return Xn(l),h=As(l,h),l.g.has(h)}t.forEach=function(l,h){Xn(this),this.g.forEach(function(x,E){x.forEach(function(L){l.call(h,L,E,this)},this)},this)};function gp(l,h){Xn(l);let x=[];if(typeof h=="string")pp(l,h)&&(x=x.concat(l.g.get(As(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)x=x.concat(l[h]);return x}t.set=function(l,h){return Xn(this),this.i=null,l=As(this,l),pp(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=gp(this,l),l.length>0?String(l[0]):h):h};function xp(l,h,x){fp(l,h),x.length>0&&(l.i=null,l.g.set(As(l,h),j(x)),l.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let E=0;E<h.length;E++){var x=h[E];const L=Wi(x);x=gp(this,x);for(let V=0;V<x.length;V++){let W=L;x[V]!==""&&(W+="="+Wi(x[V])),l.push(W)}}return this.i=l.join("&")};function yp(l){const h=new Qi;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function As(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function y2(l,h){h&&!l.j&&(Xn(l),l.i=null,l.g.forEach(function(x,E){const L=E.toLowerCase();E!=L&&(fp(this,E),xp(this,L,x))},l)),l.j=h}function v2(l,h){const x=new zi;if(o.Image){const E=new Image;E.onload=m(Yr,x,"TestLoadImage: loaded",!0,h,E),E.onerror=m(Yr,x,"TestLoadImage: error",!1,h,E),E.onabort=m(Yr,x,"TestLoadImage: abort",!1,h,E),E.ontimeout=m(Yr,x,"TestLoadImage: timeout",!1,h,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else h(!1)}function b2(l,h){const x=new zi,E=new AbortController,L=setTimeout(()=>{E.abort(),Yr(x,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:E.signal}).then(V=>{clearTimeout(L),V.ok?Yr(x,"TestPingServer: ok",!0,h):Yr(x,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Yr(x,"TestPingServer: error",!1,h)})}function Yr(l,h,x,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(x)}catch{}}function j2(){this.g=new n2}function Ad(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Ad,Kf),Ad.prototype.g=function(){return new zo(this.i,this.h)};function zo(l,h){ot.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(zo,ot),t=zo.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Xi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vp(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function vp(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Yi(this):Xi(this),this.readyState==3&&vp(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Yi(this))},t.Na=function(l){this.g&&(this.response=l,Yi(this))},t.ga=function(){this.g&&Yi(this)};function Yi(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Xi(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var x=h.next();!x.done;)x=x.value,l.push(x[0]+": "+x[1]),x=h.next();return l.join(`\r
`)};function Xi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function bp(l){let h="";return G(l,function(x,E){h+=E,h+=":",h+=x,h+=`\r
`}),h}function Pd(l,h,x){e:{for(E in x){var E=!1;break e}E=!0}E||(x=bp(x),typeof l=="string"?x!=null&&Wi(x):je(l,h,x))}function Re(l){ot.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Re,ot);var w2=/^https?$/i,N2=["POST","PUT"];t=Re.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,x,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tp.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){jp(this,V);return}if(l=x||"",x=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)x.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const V of E.keys())x.set(V,E.get(V));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(x.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(N2,h,void 0)>=0)||E||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of x)this.g.setRequestHeader(V,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){jp(this,V)}};function jp(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,wp(l),Wo(l)}function wp(l){l.A||(l.A=!0,xt(l,"complete"),xt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,xt(this,"complete"),xt(this,"abort"),Wo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wo(this,!0)),Re.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Np(this):this.Xa())},t.Xa=function(){Np(this)};function Np(l){if(l.h&&typeof a<"u"){if(l.v&&Xr(l)==4)setTimeout(l.Ca.bind(l),0);else if(xt(l,"readystatechange"),Xr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var x;if(!(x=h)){var E;if(E=V===0){let W=String(l.D).match(hp)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),E=!w2.test(W?W.toLowerCase():"")}x=E}if(x)xt(l,"complete"),xt(l,"success");else{l.o=6;try{var L=Xr(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",wp(l)}}finally{Wo(l)}}}}function Wo(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const x=l.g;l.g=null,h||xt(l,"ready");try{x.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Xr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),r2(h)}};function _p(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function _2(l){const h={};l=(l.g&&Xr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(C(l[E]))continue;var x=l2(l[E]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const V=h[L]||[];h[L]=V,V.push(x)}ee(h,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(l,h,x){return x&&x.internalChannelParams&&x.internalChannelParams[l]||h}function kp(l){this.za=0,this.i=[],this.j=new zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,l),this.Za=Ji("retryDelaySeedMs",1e4,l),this.Ta=Ji("forwardChannelMaxRetries",2,l),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new op(l&&l.concurrentRequestLimit),this.Ba=new j2,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=kp.prototype,t.ka=8,t.I=1,t.connect=function(l,h,x,E){yt(0),this.W=l,this.H=h||{},x&&E!==void 0&&(this.H.OSID=x,this.H.OAID=E),this.F=this.X,this.J=Dp(this,null,this.W),Ho(this)};function Rd(l){if(Ep(l),l.I==3){var h=l.V++,x=cr(l.J);if(je(x,"SID",l.M),je(x,"RID",h),je(x,"TYPE","terminate"),Zi(l,x),h=new Kr(l,l.j,h),h.M=2,h.A=Bo(cr(x)),x=!1,o.navigator&&o.navigator.sendBeacon)try{x=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!x&&o.Image&&(new Image().src=h.A,x=!0),x||(h.g=Mp(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Uo(h)}Rp(l)}function $o(l){l.g&&(Md(l),l.g.cancel(),l.g=null)}function Ep(l){$o(l),l.v&&(o.clearTimeout(l.v),l.v=null),qo(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Ho(l){if(!lp(l.h)&&!l.m){l.m=!0;var h=l.Ea;M||v(),D||(M(),D=!0),_.add(h,l),l.D=0}}function k2(l,h){return cp(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Bi(u(l.Ea,l,h),Pp(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new Kr(this,this.j,l);let V=this.o;if(this.U&&(V?(V=ke(V),Gn(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var h=0,x=0;x<this.i.length;x++){t:{var E=this.i[x];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(h+=E,h>4096){h=x;break e}if(h===4096||x===this.i.length-1){h=x+1;break e}}h=1e3}else h=1e3;h=Sp(this,L,h),x=cr(this.J),je(x,"RID",l),je(x,"CVER",22),this.G&&je(x,"X-HTTP-Session-Id",this.G),Zi(this,x),V&&(this.R?h="headers="+Wi(bp(V))+"&"+h:this.u&&Pd(x,this.u,V)),Id(this.h,L),this.Ra&&je(x,"TYPE","init"),this.S?(je(x,"$req",h),je(x,"SID","null"),L.U=!0,kd(L,x,null)):kd(L,x,h),this.I=2}}else this.I==3&&(l?Tp(this,l):this.i.length==0||lp(this.h)||Tp(this))};function Tp(l,h){var x;h?x=h.l:x=l.V++;const E=cr(l.J);je(E,"SID",l.M),je(E,"RID",x),je(E,"AID",l.K),Zi(l,E),l.u&&l.o&&Pd(E,l.u,l.o),x=new Kr(l,l.j,x,l.D+1),l.u===null&&(x.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Sp(l,x,1e3),x.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Id(l.h,x),kd(x,E,h)}function Zi(l,h){l.H&&G(l.H,function(x,E){je(h,E,x)}),l.l&&G({},function(x,E){je(h,E,x)})}function Sp(l,h,x){x=Math.min(l.i.length,x);const E=l.l?u(l.l.Ka,l.l,l):null;e:{var L=l.i;let ie=-1;for(;;){const $e=["count="+x];ie==-1?x>0?(ie=L[0].g,$e.push("ofs="+ie)):ie=0:$e.push("ofs="+ie);let ve=!0;for(let Qe=0;Qe<x;Qe++){var V=L[Qe].g;const dr=L[Qe].map;if(V-=ie,V<0)ie=Math.max(0,L[Qe].g-100),ve=!1;else try{V="req"+V+"_"||"";try{var W=dr instanceof Map?dr:Object.entries(dr);for(const[Zn,Jr]of W){let Zr=Jr;c(Jr)&&(Zr=bd(Jr)),$e.push(V+Zn+"="+encodeURIComponent(Zr))}}catch(Zn){throw $e.push(V+"type="+encodeURIComponent("_badmap")),Zn}}catch{E&&E(dr)}}if(ve){W=$e.join("&");break e}}W=void 0}return l=l.i.splice(0,x),h.G=l,W}function Ip(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;M||v(),D||(M(),D=!0),_.add(h,l),l.A=0}}function Dd(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Bi(u(l.Da,l),Pp(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Cp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Bi(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),$o(this),Cp(this))};function Md(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Cp(l){l.g=new Kr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=cr(l.na);je(h,"RID","rpc"),je(h,"SID",l.M),je(h,"AID",l.K),je(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&je(h,"TO",l.ia),je(h,"TYPE","xmlhttp"),Zi(l,h),l.u&&l.o&&Pd(h,l.u,l.o),l.O&&(l.g.H=l.O);var x=l.g;l=l.ba,x.M=1,x.A=Bo(cr(h)),x.u=null,x.R=!0,sp(x,l)}t.Va=function(){this.C!=null&&(this.C=null,$o(this),Dd(this),yt(19))};function qo(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Ap(l,h){var x=null;if(l.g==h){qo(l),Md(l),l.g=null;var E=2}else if(Sd(l.h,h))x=h.G,dp(l.h,h),E=1;else return;if(l.I!=0){if(h.o)if(E==1){x=h.u?h.u.length:0,h=Date.now()-h.F;var L=l.D;E=Oo(),xt(E,new Zf(E,x)),Ho(l)}else Ip(l);else if(L=h.m,L==3||L==0&&h.X>0||!(E==1&&k2(l,h)||E==2&&Dd(l)))switch(x&&x.length>0&&(h=l.h,h.i=h.i.concat(x)),L){case 1:Jn(l,5);break;case 4:Jn(l,10);break;case 3:Jn(l,6);break;default:Jn(l,2)}}}function Pp(l,h){let x=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(x*=2),x*h}function Jn(l,h){if(l.j.info("Error code "+h),h==2){var x=u(l.bb,l),E=l.Ua;const L=!E;E=new Qr(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Hi(E,"https"),Bo(E),L?v2(E.toString(),x):b2(E.toString(),x)}else yt(2);l.I=0,l.l&&l.l.pa(h),Rp(l),Ep(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Rp(l){if(l.I=0,l.ja=[],l.l){const h=up(l.h);(h.length!=0||l.i.length!=0)&&(N(l.ja,h),N(l.ja,l.i),l.h.i.length=0,j(l.i),l.i.length=0),l.l.oa()}}function Dp(l,h,x){var E=x instanceof Qr?cr(x):new Qr(x);if(E.g!="")h&&(E.g=h+"."+E.g),qi(E,E.u);else{var L=o.location;E=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;const V=new Qr(null);E&&Hi(V,E),h&&(V.g=h),L&&qi(V,L),x&&(V.h=x),E=V}return x=l.G,h=l.wa,x&&h&&je(E,x,h),je(E,"VER",l.ka),Zi(l,E),E}function Mp(l,h,x){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Re(new Ad({ab:x})):new Re(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lp(){}t=Lp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Go(){}Go.prototype.g=function(l,h){return new Pt(l,h)};function Pt(l,h){ot.call(this),this.g=new kp(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!C(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!C(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ps(this)}g(Pt,ot),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Rd(this.g)},Pt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var x={};x.__data__=l,l=x}else this.v&&(x={},x.__data__=bd(l),l=x);h.i.push(new u2(h.Ya++,l)),h.I==3&&Ho(h)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Rd(this.g),delete this.g,Pt.Z.N.call(this)};function Vp(l){jd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const x in h){l=x;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}g(Vp,jd);function Op(){wd.call(this),this.status=1}g(Op,wd);function Ps(l){this.g=l}g(Ps,Lp),Ps.prototype.ra=function(){xt(this.g,"a")},Ps.prototype.qa=function(l){xt(this.g,new Vp(l))},Ps.prototype.pa=function(l){xt(this.g,new Op)},Ps.prototype.oa=function(){xt(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,fj=function(){return new Go},mj=function(){return Oo()},hj=Qn,Dh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Dl=Fo,ep.COMPLETE="complete",uj=ep,Qf.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",ot.prototype.listen=ot.prototype.J,ga=Qf,Re.prototype.listenOnce=Re.prototype.K,Re.prototype.getLastError=Re.prototype.Ha,Re.prototype.getLastErrorCode=Re.prototype.ya,Re.prototype.getStatus=Re.prototype.ca,Re.prototype.getResponseJson=Re.prototype.La,Re.prototype.getResponseText=Re.prototype.la,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Fa,dj=Re}).apply(typeof ml<"u"?ml:typeof self<"u"?self:typeof window<"u"?window:{});const Mx="@firebase/firestore",Lx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ri="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Ym("@firebase/firestore");function Vs(){return js.logLevel}function H(t,...e){if(js.logLevel<=le.DEBUG){const r=e.map(lf);js.debug(`Firestore (${Ri}): ${t}`,...r)}}function Br(t,...e){if(js.logLevel<=le.ERROR){const r=e.map(lf);js.error(`Firestore (${Ri}): ${t}`,...r)}}function yi(t,...e){if(js.logLevel<=le.WARN){const r=e.map(lf);js.warn(`Firestore (${Ri}): ${t}`,...r)}}function lf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,pj(t,s,r)}function pj(t,e,r){let s=`FIRESTORE (${Ri}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Br(s),new Error(s)}function ge(t,e,r,s){let i="Unexpected state";typeof r=="string"?i=r:s=r,t||pj(e,i,s)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends qr{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ut.UNAUTHENTICATED))}shutdown(){}}class jI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ge(this.o===void 0,42304);let s=this.i;const i=d=>this.i!==s?(s=this.i,r(d)):Promise.resolve();let a=new In;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new In,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new In)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ge(typeof s.accessToken=="string",31837,{l:s}),new gj(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new ut(e)}}class NI{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _I{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new NI(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Vx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){ge(this.o===void 0,3512);const s=a=>{a.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ge(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Vx(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<t;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=EI(40);for(let a=0;a<i.length;++a)s.length<20&&i[a]<r&&(s+=e.charAt(i[a]%62))}return s}}function ce(t,e){return t<e?-1:t>e?1:0}function Mh(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const i=t.charAt(s),a=e.charAt(s);if(i!==a)return xu(i)===xu(a)?ce(i,a):xu(i)?1:-1}return ce(t.length,e.length)}const TI=55296,SI=57343;function xu(t){const e=t.charCodeAt(0);return e>=TI&&e<=SI}function vi(t,e,r){return t.length===e.length&&t.every((s,i)=>r(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="__name__";class mr{constructor(e,r,s){r===void 0?r=0:r>e.length&&J(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&J(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let i=0;i<s;i++){const a=mr.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return ce(e.length,r.length)}static compareSegments(e,r){const s=mr.isNumericId(e),i=mr.isNumericId(r);return s&&!i?-1:!s&&i?1:s&&i?mr.extractNumericId(e).compare(mr.extractNumericId(r)):Mh(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sn.fromString(e.substring(4,e.length-2))}}class Se extends mr{construct(e,r,s){return new Se(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(i=>i.length>0))}return new Se(r)}static emptyPath(){return new Se([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends mr{construct(e,r,s){return new nt(e,r,s)}static isValidIdentifier(e){return II.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ox}static keyField(){return new nt([Ox])}static fromServerFormat(e){const r=[];let s="",i=0;const a=()=>{if(s.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(s+=c,i++):(a(),i++)}if(a(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(r)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Se.fromString(e))}static fromName(e){return new Y(Se.fromString(e).popFirst(5))}static empty(){return new Y(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Se.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e,r){if(!r)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AI(t,e,r,s){if(e===!0&&s===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function Fx(t){if(!Y.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xj(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function df(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function ao(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=df(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const r={typeString:t};return e&&(r.value=e),r}function Ao(t,e){if(!xj(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const i=e[s].typeString,a="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){r=`JSON missing required field: '${s}'`;break}const o=t[s];if(i&&typeof o!==i){r=`JSON field '${s}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${s}' field to equal '${a.value}'`;break}}if(r)throw new K(U.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=-62135596800,Bx=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*Bx);return new Ne(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<Ux)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bx}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ao(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ux;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:We("string",Ne._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ne(0,0))}static max(){return new te(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function PI(t,e){const r=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(s===1e9?new Ne(r+1,0):new Ne(r,s));return new Pn(i,Y.empty(),e)}function RI(t){return new Pn(t.readTime,t.key,oo)}class Pn{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Pn(te.min(),Y.empty(),oo)}static max(){return new Pn(te.max(),Y.empty(),oo)}}function DI(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Y.comparator(t.documentKey,e.documentKey),r!==0?r:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==MI)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new F((s,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(s,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof F?r:F.resolve(r)}catch(r){return F.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):F.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):F.reject(r)}static resolve(e){return new F((r,s)=>{r(e)})}static reject(e){return new F((r,s)=>{s(e)})}static waitFor(e){return new F((r,s)=>{let i=0,a=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++a,o&&a===i&&r()},d=>s(d))}),o=!0,a===i&&r()})}static or(e){let r=F.resolve(!1);for(const s of e)r=r.next(i=>i?F.resolve(i):s());return r}static forEach(e,r){const s=[];return e.forEach((i,a)=>{s.push(r.call(this,i,a))}),this.waitFor(s)}static mapArray(e,r){return new F((s,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const u=d;r(e[u]).next(m=>{o[u]=m,++c,c===a&&s(o)},m=>i(m))}})}static doWhile(e,r){return new F((s,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):s()};a()})}}function VI(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Mi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;function nd(t){return t==null}function vc(t){return t===0&&1/t==-1/0}function OI(t){return typeof t=="number"&&Number.isInteger(t)&&!vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="";function FI(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=zx(e)),e=UI(t.get(r),e);return zx(e)}function UI(t,e){let r=e;const s=t.length;for(let i=0;i<s;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case yj:r+="";break;default:r+=a}}return r}function zx(t){return t+yj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Es(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function vj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,r){this.comparator=e,this.root=r||rt.EMPTY}insert(e,r){return new Ae(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return r+s.left.size;i<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fl(this.root,e,this.comparator,!0)}}class fl{constructor(e,r,s,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?s(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,r,s,i,a){this.key=e,this.value=r,this.color=s??rt.RED,this.left=i??rt.EMPTY,this.right=a??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,i,a){return new rt(e??this.key,r??this.value,s??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let i=this;const a=s(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,s),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,r,s,i,a){return this}insert(e,r,s){return new rt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $x(this.data.getIterator())}getIteratorFrom(e){return new $x(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=s.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ke(this.comparator);return r.data=e,r}}class $x{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new nr([])}unionWith(e){let r=new Ke(nt.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new nr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return vi(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new bj("Invalid base64 string: "+a):a}}(e);return new at(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new at(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rn(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const r=BI.exec(t);if(ge(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dn(t){return typeof t=="string"?at.fromBase64String(t):at.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="server_timestamp",wj="__type__",Nj="__previous_value__",_j="__local_write_time__";function hf(t){var r,s;return((s=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[wj])==null?void 0:s.stringValue)===jj}function sd(t){const e=t.mapValue.fields[Nj];return hf(e)?sd(e):e}function lo(t){const e=Rn(t.mapValue.fields[_j].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,r,s,i,a,o,c,d,u,m){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=u,this.isUsingEmulator=m}}const bc="(default)";class co{constructor(e,r){this.projectId=e,this.database=r||bc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="__type__",WI="__max__",pl={mapValue:{}},Ej="__vector__",jc="value";function Mn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hf(t)?4:HI(t)?9007199254740991:$I(t)?10:11:J(28295,{value:t})}function Nr(t,e){if(t===e)return!0;const r=Mn(t);if(r!==Mn(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lo(t).isEqual(lo(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Rn(i.timestampValue),c=Rn(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Dn(i.bytesValue).isEqual(Dn(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ve(i.geoPointValue.latitude)===Ve(a.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ve(i.integerValue)===Ve(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Ve(i.doubleValue),c=Ve(a.doubleValue);return o===c?vc(o)===vc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return vi(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Wx(o)!==Wx(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!Nr(o[d],c[d])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function uo(t,e){return(t.values||[]).find(r=>Nr(r,e))!==void 0}function bi(t,e){if(t===e)return 0;const r=Mn(t),s=Mn(e);if(r!==s)return ce(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(a,o){const c=Ve(a.integerValue||a.doubleValue),d=Ve(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return Hx(t.timestampValue,e.timestampValue);case 4:return Hx(lo(t),lo(e));case 5:return Mh(t.stringValue,e.stringValue);case 6:return function(a,o){const c=Dn(a),d=Dn(o);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const c=a.split("/"),d=o.split("/");for(let u=0;u<c.length&&u<d.length;u++){const m=ce(c[u],d[u]);if(m!==0)return m}return ce(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const c=ce(Ve(a.latitude),Ve(o.latitude));return c!==0?c:ce(Ve(a.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qx(t.arrayValue,e.arrayValue);case 10:return function(a,o){var p,j,N,k;const c=a.fields||{},d=o.fields||{},u=(p=c[jc])==null?void 0:p.arrayValue,m=(j=d[jc])==null?void 0:j.arrayValue,g=ce(((N=u==null?void 0:u.values)==null?void 0:N.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return g!==0?g:qx(u,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===pl.mapValue&&o===pl.mapValue)return 0;if(a===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),u=o.fields||{},m=Object.keys(u);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const p=Mh(d[g],m[g]);if(p!==0)return p;const j=bi(c[d[g]],u[m[g]]);if(j!==0)return j}return ce(d.length,m.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:r})}}function Hx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const r=Rn(t),s=Rn(e),i=ce(r.seconds,s.seconds);return i!==0?i:ce(r.nanos,s.nanos)}function qx(t,e){const r=t.values||[],s=e.values||[];for(let i=0;i<r.length&&i<s.length;++i){const a=bi(r[i],s[i]);if(a)return a}return ce(r.length,s.length)}function ji(t){return Lh(t)}function Lh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Rn(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Dn(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Y.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let s="[",i=!0;for(const a of r.values||[])i?i=!1:s+=",",s+=Lh(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of s)a?a=!1:i+=",",i+=`${o}:${Lh(r.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function Ml(t){switch(Mn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sd(t);return e?16+Ml(e):16;case 5:return 2*t.stringValue.length;case 6:return Dn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,a)=>i+Ml(a),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Es(s.fields,(a,o)=>{i+=a.length+Ml(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function Vh(t){return!!t&&"integerValue"in t}function mf(t){return!!t&&"arrayValue"in t}function Gx(t){return!!t&&"nullValue"in t}function Kx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ll(t){return!!t&&"mapValue"in t}function $I(t){var r,s;return((s=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[kj])==null?void 0:s.stringValue)===Ej}function Pa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Pa(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Pa(t.arrayValue.values[r]);return e}return{...t}}function HI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!Ll(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(r)}setAll(e){let r=nt.emptyPath(),s={},i=[];e.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,s,i),s={},i=[],r=c.popLast()}o?s[c.lastSegment()]=Pa(o):i.push(c.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,s,i)}delete(e){const r=this.field(e.popLast());Ll(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=r.mapValue.fields[e.get(s)];Ll(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,s){Es(r,(i,a)=>e[i]=a);for(const i of s)delete e[i]}clone(){return new $t(Pa(this.value))}}function Tj(t){const e=[];return Es(t.fields,(r,s)=>{const i=new nt([r]);if(Ll(s)){const a=Tj(s.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,r,s,i,a,o,c){this.key=e,this.documentType=r,this.version=s,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new mt(e,0,te.min(),te.min(),te.min(),$t.empty(),0)}static newFoundDocument(e,r,s,i){return new mt(e,1,r,te.min(),s,i,0)}static newNoDocument(e,r){return new mt(e,2,r,te.min(),te.min(),$t.empty(),0)}static newUnknownDocument(e,r){return new mt(e,3,r,te.min(),te.min(),$t.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r){this.position=e,this.inclusive=r}}function Qx(t,e,r){let s=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?s=Y.comparator(Y.fromName(o.referenceValue),r.key):s=bi(o,r.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Nr(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,r="asc"){this.field=e,this.dir=r}}function qI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{}class qe extends Sj{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new KI(e,r,s):r==="array-contains"?new XI(e,s):r==="in"?new JI(e,s):r==="not-in"?new ZI(e,s):r==="array-contains-any"?new e4(e,s):new qe(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new QI(e,s):new YI(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(bi(r,this.value)):r!==null&&Mn(this.value)===Mn(r)&&this.matchesComparison(bi(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends Sj{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new _r(e,r)}matches(e){return Ij(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ij(t){return t.op==="and"}function Cj(t){return GI(t)&&Ij(t)}function GI(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function Oh(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+ji(t.value);if(Cj(t))return t.filters.map(e=>Oh(e)).join(",");{const e=t.filters.map(r=>Oh(r)).join(",");return`${t.op}(${e})`}}function Aj(t,e){return t instanceof qe?function(s,i){return i instanceof qe&&s.op===i.op&&s.field.isEqual(i.field)&&Nr(s.value,i.value)}(t,e):t instanceof _r?function(s,i){return i instanceof _r&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((a,o,c)=>a&&Aj(o,i.filters[c]),!0):!1}(t,e):void J(19439)}function Pj(t){return t instanceof qe?function(r){return`${r.field.canonicalString()} ${r.op} ${ji(r.value)}`}(t):t instanceof _r?function(r){return r.op.toString()+" {"+r.getFilters().map(Pj).join(" ,")+"}"}(t):"Filter"}class KI extends qe{constructor(e,r,s){super(e,r,s),this.key=Y.fromName(s.referenceValue)}matches(e){const r=Y.comparator(e.key,this.key);return this.matchesComparison(r)}}class QI extends qe{constructor(e,r){super(e,"in",r),this.keys=Rj("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class YI extends qe{constructor(e,r){super(e,"not-in",r),this.keys=Rj("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Rj(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(s=>Y.fromName(s.referenceValue))}class XI extends qe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return mf(r)&&uo(r.arrayValue,this.value)}}class JI extends qe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&uo(this.value.arrayValue,r)}}class ZI extends qe{constructor(e,r){super(e,"not-in",r)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!uo(this.value.arrayValue,r)}}class e4 extends qe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!mf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>uo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,r=null,s=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function Xx(t,e=null,r=[],s=[],i=null,a=null,o=null){return new t4(t,e,r,s,i,a,o)}function ff(t){const e=re(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Oh(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),nd(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>ji(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>ji(s)).join(",")),e.Te=r}return e.Te}function pf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!qI(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Aj(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yx(t.startAt,e.startAt)&&Yx(t.endAt,e.endAt)}function Fh(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,r=null,s=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function r4(t,e,r,s,i,a,o,c){return new id(t,e,r,s,i,a,o,c)}function gf(t){return new id(t)}function Jx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n4(t){return t.collectionGroup!==null}function Ra(t){const e=re(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ke(nt.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Nc(a,s))}),r.has(nt.keyField().canonicalString())||e.Ie.push(new Nc(nt.keyField(),s))}return e.Ie}function vr(t){const e=re(t);return e.Ee||(e.Ee=s4(e,Ra(t))),e.Ee}function s4(t,e){if(t.limitType==="F")return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Nc(i.field,a)});const r=t.endAt?new wc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new wc(t.startAt.position,t.startAt.inclusive):null;return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,r,s)}}function Uh(t,e,r){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function ad(t,e){return pf(vr(t),vr(e))&&t.limitType===e.limitType}function Dj(t){return`${ff(vr(t))}|lt:${t.limitType}`}function Os(t){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(i=>Pj(i)).join(", ")}]`),nd(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(i=>ji(i)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(i=>ji(i)).join(",")),`Target(${s})`}(vr(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(s,i){const a=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Y.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,i){for(const a of Ra(s))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const a of s.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(o,c,d){const u=Qx(o,c,d);return o.inclusive?u<=0:u<0}(s.startAt,Ra(s),i)||s.endAt&&!function(o,c,d){const u=Qx(o,c,d);return o.inclusive?u>=0:u>0}(s.endAt,Ra(s),i))}(t,e)}function i4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mj(t){return(e,r)=>{let s=!1;for(const i of Ra(t)){const a=a4(i,e,r);if(a!==0)return a;s=s||i.field.isKeyField()}return 0}}function a4(t,e,r){const s=t.field.isKeyField()?Y.comparator(e.key,r.key):function(a,o,c){const d=o.data.field(a),u=c.data.field(a);return d!==null&&u!==null?bi(d,u):J(42886)}(t.field,e,r);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[i,a]of s)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[r]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(r,s)=>{for(const[i,a]of s)e(i,a)})}isEmpty(){return vj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Ae(Y.comparator);function zr(){return o4}const Lj=new Ae(Y.comparator);function xa(...t){let e=Lj;for(const r of t)e=e.insert(r.key,r);return e}function Vj(t){let e=Lj;return t.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function os(){return Da()}function Oj(){return Da()}function Da(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const l4=new Ae(Y.comparator),c4=new Ke(Y.comparator);function de(...t){let e=c4;for(const r of t)e=e.add(r);return e}const d4=new Ke(ce);function u4(){return d4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vc(e)?"-0":e}}function Fj(t){return{integerValue:""+t}}function h4(t,e){return OI(e)?Fj(e):xf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function m4(t,e,r){return t instanceof ho?function(i,a){const o={fields:{[wj]:{stringValue:jj},[_j]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&hf(a)&&(a=sd(a)),a&&(o.fields[Nj]=a),{mapValue:o}}(r,e):t instanceof mo?Bj(t,e):t instanceof fo?zj(t,e):function(i,a){const o=Uj(i,a),c=Zx(o)+Zx(i.Ae);return Vh(o)&&Vh(i.Ae)?Fj(c):xf(i.serializer,c)}(t,e)}function f4(t,e,r){return t instanceof mo?Bj(t,e):t instanceof fo?zj(t,e):r}function Uj(t,e){return t instanceof _c?function(s){return Vh(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class ho extends ld{}class mo extends ld{constructor(e){super(),this.elements=e}}function Bj(t,e){const r=Wj(e);for(const s of t.elements)r.some(i=>Nr(i,s))||r.push(s);return{arrayValue:{values:r}}}class fo extends ld{constructor(e){super(),this.elements=e}}function zj(t,e){let r=Wj(e);for(const s of t.elements)r=r.filter(i=>!Nr(i,s));return{arrayValue:{values:r}}}class _c extends ld{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function Zx(t){return Ve(t.integerValue||t.doubleValue)}function Wj(t){return mf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,r){this.field=e,this.transform=r}}function g4(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof mo&&i instanceof mo||s instanceof fo&&i instanceof fo?vi(s.elements,i.elements,Nr):s instanceof _c&&i instanceof _c?Nr(s.Ae,i.Ae):s instanceof ho&&i instanceof ho}(t.transform,e.transform)}class x4{constructor(e,r){this.version=e,this.transformResults=r}}class Dr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function $j(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qj(t.key,Dr.none()):new Po(t.key,t.data,Dr.none());{const r=t.data,s=$t.empty();let i=new Ke(nt.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?s.delete(a):s.set(a,o),i=i.add(a)}return new Ss(t.key,s,new nr(i.toArray()),Dr.none())}}function y4(t,e,r){t instanceof Po?function(i,a,o){const c=i.value.clone(),d=ty(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):t instanceof Ss?function(i,a,o){if(!Vl(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=ty(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(Hj(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Ma(t,e,r,s){return t instanceof Po?function(a,o,c,d){if(!Vl(a.precondition,o))return c;const u=a.value.clone(),m=ry(a.fieldTransforms,d,o);return u.setAll(m),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,s):t instanceof Ss?function(a,o,c,d){if(!Vl(a.precondition,o))return c;const u=ry(a.fieldTransforms,d,o),m=o.data;return m.setAll(Hj(a)),m.setAll(u),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,r,s):function(a,o,c){return Vl(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,r)}function v4(t,e){let r=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),a=Uj(s.transform,i||null);a!=null&&(r===null&&(r=$t.empty()),r.set(s.field,a))}return r||null}function ey(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&vi(s,i,(a,o)=>g4(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Po extends cd{constructor(e,r,s,i=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends cd{constructor(e,r,s,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Hj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=t.data.field(r);e.set(r,s)}}),e}function ty(t,e,r){const s=new Map;ge(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);s.set(a.field,f4(o,c,r[i]))}return s}function ry(t,e,r){const s=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);s.set(i.field,m4(a,o,e))}return s}class qj extends cd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b4 extends cd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,r,s,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&y4(a,e,s[i])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=Ma(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=Ma(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=Oj();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=r.has(i.key)?null:c;const d=$j(o,c);d!==null&&s.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(te.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),de())}isEqual(e){return this.batchId===e.batchId&&vi(this.mutations,e.mutations,(r,s)=>ey(r,s))&&vi(this.baseMutations,e.baseMutations,(r,s)=>ey(r,s))}}class yf{constructor(e,r,s,i){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=i}static from(e,r,s){ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return l4}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,s[o].version);return new yf(e,r,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,me;function _4(t){switch(t){case U.OK:return J(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function Gj(t){if(t===void 0)return Br("GRPC error has no .code"),U.UNKNOWN;switch(t){case Be.OK:return U.OK;case Be.CANCELLED:return U.CANCELLED;case Be.UNKNOWN:return U.UNKNOWN;case Be.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Be.INTERNAL:return U.INTERNAL;case Be.UNAVAILABLE:return U.UNAVAILABLE;case Be.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Be.NOT_FOUND:return U.NOT_FOUND;case Be.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Be.ABORTED:return U.ABORTED;case Be.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Be.DATA_LOSS:return U.DATA_LOSS;default:return J(39323,{code:t})}}(me=Be||(Be={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Sn([4294967295,4294967295],0);function ny(t){const e=k4().encode(t),r=new cj;return r.update(e),new Uint8Array(r.digest())}function sy(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Sn([r,s],0),new Sn([i,a],0)]}class vf{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ya(`Invalid padding: ${r}`);if(s<0)throw new ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ya(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new ya(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Sn.fromNumber(this.ge)}ye(e,r,s){let i=e.add(r.multiply(Sn.fromNumber(s)));return i.compare(E4)===1&&(i=new Sn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=ny(e),[s,i]=sy(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,i,a);if(!this.we(o))return!1}return!0}static create(e,r,s){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new vf(a,i,r);return s.forEach(c=>o.insert(c)),o}insert(e){if(this.ge===0)return;const r=ny(e),[s,i]=sy(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(s,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,r,s,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const i=new Map;return i.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new dd(te.min(),i,new Ae(ce),zr(),de())}}class Ro{constructor(e,r,s,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Ro(s,r,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,r,s,i){this.be=e,this.removedTargetIds=r,this.key=s,this.De=i}}class Kj{constructor(e,r){this.targetId=e,this.Ce=r}}class Qj{constructor(e,r,s=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=i}}class iy{constructor(){this.ve=0,this.Fe=ay(),this.Me=at.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),r=de(),s=de();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:s=s.add(i);break;default:J(38017,{changeType:a})}}),new Ro(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=ay()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class T4{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=gl(),this.He=gl(),this.Ye=new Ae(ce)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((s,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,s=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Fh(a))if(s===0){const o=new Y(a.path);this.et(r,o,mt.newNoDocument(o,te.min()))}else ge(s===1,20013,{expectedCount:s});else{const o=this._t(r);if(o!==s){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(r);const u=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=r;let o,c;try{o=Dn(s).toUint8Array()}catch(d){if(d instanceof bj)return yi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new vf(o,i,a)}catch(d){return yi(d instanceof ya?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let i=0;return s.forEach(a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const c=this.ot(o);if(c){if(a.current&&Fh(c.target)){const d=new Y(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,mt.newNoDocument(d,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let s=de();this.He.forEach((a,o)=>{let c=!0;o.forEachWhile(d=>{const u=this.ot(d);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(s=s.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new dd(e,r,this.Ye,this.je,s);return this.je=zr(),this.Je=gl(),this.He=gl(),this.Ye=new Ae(ce),i}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new iy,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ke(ce),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ke(ce),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||H("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iy),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function gl(){return new Ae(Y.comparator)}function ay(){return new Ae(Y.comparator)}const S4={asc:"ASCENDING",desc:"DESCENDING"},I4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C4={and:"AND",or:"OR"};class A4{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Bh(t,e){return t.useProto3Json||nd(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P4(t,e){return kc(t,e.toTimestamp())}function br(t){return ge(!!t,49232),te.fromTimestamp(function(r){const s=Rn(r);return new Ne(s.seconds,s.nanos)}(t))}function bf(t,e){return zh(t,e).canonicalString()}function zh(t,e){const r=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Xj(t){const e=Se.fromString(t);return ge(rw(e),10190,{key:e.toString()}),e}function Wh(t,e){return bf(t.databaseId,e.path)}function yu(t,e){const r=Xj(e);if(r.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Y(Zj(r))}function Jj(t,e){return bf(t.databaseId,e)}function R4(t){const e=Xj(t);return e.length===4?Se.emptyPath():Zj(e)}function $h(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zj(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oy(t,e,r){return{name:Wh(t,e),fields:r.value.mapValue.fields}}function D4(t,e){let r;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,m){return u.useProto3Json?(ge(m===void 0||typeof m=="string",58123),at.fromBase64String(m||"")):(ge(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),at.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){const m=u.code===void 0?U.UNKNOWN:Gj(u.code);return new K(m,u.message||"")}(o);r=new Qj(s,i,a,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=yu(t,s.document.name),a=br(s.document.updateTime),o=s.document.createTime?br(s.document.createTime):te.min(),c=new $t({mapValue:{fields:s.document.fields}}),d=mt.newFoundDocument(i,a,o,c),u=s.targetIds||[],m=s.removedTargetIds||[];r=new Ol(u,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=yu(t,s.document),a=s.readTime?br(s.readTime):te.min(),o=mt.newNoDocument(i,a),c=s.removedTargetIds||[];r=new Ol([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=yu(t,s.document),a=s.removedTargetIds||[];r=new Ol([],a,i,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:a}=s,o=new N4(i,a),c=s.targetId;r=new Kj(c,o)}}return r}function M4(t,e){let r;if(e instanceof Po)r={update:oy(t,e.key,e.value)};else if(e instanceof qj)r={delete:Wh(t,e.key)};else if(e instanceof Ss)r={update:oy(t,e.key,e.data),updateMask:$4(e.fieldMask)};else{if(!(e instanceof b4))return J(16599,{Vt:e.type});r={verify:Wh(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const c=o.transform;if(c instanceof ho)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _c)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw J(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:P4(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:J(27497)}(t,e.precondition)),r}function L4(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?br(i.updateTime):br(a);return o.isEqual(te.min())&&(o=br(a)),new x4(o,i.transformResults||[])}(r,e))):[]}function V4(t,e){return{documents:[Jj(t,e.path)]}}function O4(t,e){const r={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=Jj(t,i);const a=function(u){if(u.length!==0)return tw(_r.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(m=>function(p){return{field:Fs(p.field),direction:B4(p.dir)}}(m))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const c=Bh(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function F4(t){let e=R4(t.parent);const r=t.structuredQuery,s=r.from?r.from.length:0;let i=null;if(s>0){ge(s===1,65062);const m=r.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];r.where&&(a=function(g){const p=ew(g);return p instanceof _r&&Cj(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(g){return g.map(p=>function(N){return new Nc(Us(N.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(p))}(r.orderBy));let c=null;r.limit&&(c=function(g){let p;return p=typeof g=="object"?g.value:g,nd(p)?null:p}(r.limit));let d=null;r.startAt&&(d=function(g){const p=!!g.before,j=g.values||[];return new wc(j,p)}(r.startAt));let u=null;return r.endAt&&(u=function(g){const p=!g.before,j=g.values||[];return new wc(j,p)}(r.endAt)),r4(e,i,o,a,c,"F",d,u)}function U4(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function ew(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Us(r.unaryFilter.field);return qe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(r.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Us(r.unaryFilter.field);return qe.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(r.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(r){return qe.create(Us(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return _r.create(r.compositeFilter.filters.map(s=>ew(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(r.compositeFilter.op))}(t):J(30097,{filter:t})}function B4(t){return S4[t]}function z4(t){return I4[t]}function W4(t){return C4[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return nt.fromServerFormat(t.fieldPath)}function tw(t){return t instanceof qe?function(r){if(r.op==="=="){if(Kx(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NAN"}};if(Gx(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Kx(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NAN"}};if(Gx(r.value))return{unaryFilter:{field:Fs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(r.field),op:z4(r.op),value:r.value}}}(t):t instanceof _r?function(r){const s=r.getFilters().map(i=>tw(i));return s.length===1?s[0]:{compositeFilter:{op:W4(r.op),filters:s}}}(t):J(54877,{filter:t})}function $4(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function rw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,r,s,i,a=te.min(),o=te.min(),c=at.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.yt=e}}function q4(t){const e=F4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.Cn=new K4}addToCollectionParentIndex(e,r){return this.Cn.add(r),F.resolve()}getCollectionParents(e,r){return F.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return F.resolve()}deleteFieldIndex(e,r){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,r){return F.resolve()}getDocumentsMatchingTarget(e,r){return F.resolve(null)}getIndexType(e,r){return F.resolve(0)}getFieldIndexes(e,r){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,r){return F.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,r){return F.resolve(Pn.min())}updateCollectionGroup(e,r,s){return F.resolve()}updateIndexEntries(e,r){return F.resolve()}}class K4{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),i=this.index[r]||new Ke(Se.comparator),a=!i.has(s);return this.index[r]=i.add(s),a}has(e){const r=e.lastSegment(),s=e.popLast(),i=this.index[r];return i&&i.has(s)}getEntries(e){return(this.index[e]||new Ke(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nw=41943040;class _t{static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(nw,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wi(0)}static cr(){return new wi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="LruGarbageCollector",Q4=1048576;function dy([t,e],[r,s]){const i=ce(t,r);return i===0?ce(e,s):i}class Y4{constructor(e){this.Ir=e,this.buffer=new Ke(dy),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();dy(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class X4{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(cy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Mi(r)?H(cy,"Ignoring IndexedDB error during garbage collection: ",r):await Di(r)}await this.Vr(3e5)})}}class J4{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return F.resolve(rd.ce);const s=new Y4(r);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ly)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ly):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,i,a,o,c,d,u;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(s=g,c=Date.now(),this.removeTargets(e,s,r))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,s))).next(g=>(u=Date.now(),Vs()<=le.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(u-d)+`ms
Total Duration: ${u-m}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function Z4(t,e){return new J4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new Ts(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?F.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,r,s,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(s!==null&&Ma(s.mutation,i,nr.empty(),Ne.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,de()).next(()=>s))}getLocalViewOfDocuments(e,r,s=de()){const i=os();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,s).next(a=>{let o=xa();return a.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const s=os();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,de()))}populateOverlays(e,r,s){const i=[];return s.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,c)=>{r.set(o,c)})})}computeViews(e,r,s,i){let a=zr();const o=Da(),c=function(){return Da()}();return r.forEach((d,u)=>{const m=s.get(u.key);i.has(u.key)&&(m===void 0||m.mutation instanceof Ss)?a=a.insert(u.key,u):m!==void 0?(o.set(u.key,m.mutation.getFieldMask()),Ma(m.mutation,u,m.mutation.getFieldMask(),Ne.now())):o.set(u.key,nr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((u,m)=>o.set(u,m)),r.forEach((u,m)=>c.set(u,new tC(m,o.get(u)??null))),c))}recalculateAndSaveOverlays(e,r){const s=Da();let i=new Ae((o,c)=>o-c),a=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const c of o)c.keys().forEach(d=>{const u=r.get(d);if(u===null)return;let m=s.get(d)||nr.empty();m=c.applyToLocalView(u,m),s.set(d,m);const g=(i.get(c.batchId)||de()).add(d);i=i.insert(c.batchId,g)})}).next(()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),u=d.key,m=d.value,g=Oj();m.forEach(p=>{if(!a.has(p)){const j=$j(r.get(p),s.get(p));j!==null&&g.set(p,j),a=a.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,g))}return F.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):n4(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,i):this.getDocumentsMatchingCollectionQuery(e,r,s,i)}getNextDocuments(e,r,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,i-a.size):F.resolve(os());let c=oo,d=a;return o.next(u=>F.forEach(u,(m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(m)?F.resolve():this.remoteDocumentCache.getEntry(e,m).next(p=>{d=d.insert(m,p)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,d,u,de())).next(m=>({batchId:c,changes:Vj(m)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Y(r)).next(s=>{let i=xa();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,s,i){const a=r.collectionGroup;let o=xa();return this.indexManager.getCollectionParents(e,a).next(c=>F.forEach(c,d=>{const u=function(g,p){return new id(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,s,i).next(m=>{m.forEach((g,p)=>{o=o.insert(g,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,s,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,a,i))).next(o=>{a.forEach((d,u)=>{const m=u.getKey();o.get(m)===null&&(o=o.insert(m,mt.newInvalidDocument(m)))});let c=xa();return o.forEach((d,u)=>{const m=a.get(d);m!==void 0&&Ma(m.mutation,u,nr.empty(),Ne.now()),od(r,u)&&(c=c.insert(d,u))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return F.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(r)),F.resolve()}getNamedQuery(e,r){return F.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:q4(i.bundledQuery),readTime:br(i.readTime)}}(r)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.overlays=new Ae(Y.comparator),this.qr=new Map}getOverlay(e,r){return F.resolve(this.overlays.get(r))}getOverlays(e,r){const s=os();return F.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&s.set(i,a)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((i,a)=>{this.St(e,r,a)}),F.resolve()}removeOverlaysForBatchId(e,r,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(s)),F.resolve()}getOverlaysForCollection(e,r,s){const i=os(),a=r.length+1,o=new Y(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,u=d.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&d.largestBatchId>s&&i.set(d.getKey(),d)}return F.resolve(i)}getOverlaysForCollectionGroup(e,r,s,i){let a=new Ae((u,m)=>u-m);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>s){let m=a.get(u.largestBatchId);m===null&&(m=os(),a=a.insert(u.largestBatchId,m)),m.set(u.getKey(),u)}}const c=os(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((u,m)=>c.set(u,m)),!(c.size()>=i)););return F.resolve(c)}St(e,r,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new w4(r,s));let a=this.qr.get(r);a===void 0&&(a=de(),this.qr.set(r,a)),this.qr.set(r,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.sessionToken=at.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.Qr=new Ke(Ye.$r),this.Ur=new Ke(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new Ye(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.Gr(new Ye(e,r))}zr(e,r){e.forEach(s=>this.removeReference(s,r))}jr(e){const r=new Y(new Se([])),s=new Ye(r,e),i=new Ye(r,e+1),a=[];return this.Ur.forEachInRange([s,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Y(new Se([])),s=new Ye(r,e),i=new Ye(r,e+1);let a=de();return this.Ur.forEachInRange([s,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Ye(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Ye{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Y.comparator(e.key,r.key)||ce(e.Yr,r.Yr)}static Kr(e,r){return ce(e.Yr,r.Yr)||Y.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Ye.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new j4(a,r,s,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new Ye(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,r){return F.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,i=this.ei(s),a=i<0?0:i;return F.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?uf:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Ye(r,0),i=new Ye(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([s,i],o=>{const c=this.Xr(o.Yr);a.push(c)}),F.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Ke(ce);return r.forEach(i=>{const a=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],c=>{s=s.add(c.Yr)})}),F.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,i=s.length+1;let a=s;Y.isDocumentKey(a)||(a=a.child(""));const o=new Ye(new Y(a),0);let c=new Ke(ce);return this.Zr.forEachWhile(d=>{const u=d.key.path;return!!s.isPrefixOf(u)&&(u.length===i&&(c=c.add(d.Yr)),!0)},o),F.resolve(this.ti(c))}ti(e){const r=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){ge(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return F.forEach(r.mutations,i=>{const a=new Ye(i.key,r.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,r){const s=new Ye(r,0),i=this.Zr.firstAfterOrEqual(s);return F.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.ri=e,this.docs=function(){return new Ae(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,i=this.docs.get(s),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return F.resolve(s?s.document.mutableCopy():mt.newInvalidDocument(r))}getEntries(e,r){let s=zr();return r.forEach(i=>{const a=this.docs.get(i);s=s.insert(i,a?a.document.mutableCopy():mt.newInvalidDocument(i))}),F.resolve(s)}getDocumentsMatchingQuery(e,r,s,i){let a=zr();const o=r.path,c=new Y(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:u,value:{document:m}}=d.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||DI(RI(m),s)<=0||(i.has(m.key)||od(r,m))&&(a=a.insert(m.key,m.mutableCopy()))}return F.resolve(a)}getAllFromCollectionGroup(e,r,s,i){J(9500)}ii(e,r){return F.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new lC(this)}getSize(e){return F.resolve(this.size)}}class lC extends eC{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),F.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.persistence=e,this.si=new Ts(r=>ff(r),pf),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new jf,this.targetCount=0,this.ai=wi.ur()}forEachTarget(e,r){return this.si.forEach((s,i)=>r(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),F.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new wi(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,F.resolve()}updateTargetData(e,r){return this.Pr(r),F.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,r,s){let i=0;const a=[];return this.si.forEach((o,c)=>{c.sequenceNumber<=r&&s.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),F.waitFor(a).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return F.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),F.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),F.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return F.resolve(s)}containsKey(e,r){return F.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,r){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new iC,this.referenceDelegate=e(this),this.Pi=new cC(this),this.indexManager=new G4,this.remoteDocumentCache=function(i){return new oC(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new H4(r),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new sC,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new aC(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){H("MemoryPersistence","Starting transaction:",e);const i=new dC(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return F.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,r)))}}class dC extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class wf{constructor(e){this.persistence=e,this.Ri=new jf,this.Vi=null}static mi(e){return new wf(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),F.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),F.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>s.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,s=>{const i=Y.fromPath(s);return this.gi(e,i).next(a=>{a||r.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return F.or([()=>F.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Ec{constructor(e,r){this.persistence=e,this.pi=new Ts(s=>FI(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=Z4(this,r)}static mi(e,r){return new Ec(e,r)}Ei(){}di(e){return F.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(i=>s+i))}wr(e){let r=0;return this.pr(e,s=>{r++}).next(()=>r)}pr(e,r){return F.forEach(this.pi,(s,i)=>this.br(e,s,i).next(a=>a?F.resolve():r(i)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(c=>{c||(s++,a.removeEntry(o,te.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Ml(e.data.value)),r}br(e,r,s){return F.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return F.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,r,s,i){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=i}static As(e,r){let s=de(),i=de();for(const a of r.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Nf(e,r.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Fk()?8:VI(gt())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new uC;return this.Ss(e,r,o).next(c=>{if(a.result=c,this.Vs)return this.bs(e,r,o,c.size)})}).next(()=>a.result)}bs(e,r,s,i){return s.documentReadCount<this.fs?(Vs()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Os(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Vs()<=le.DEBUG&&H("QueryEngine","Query:",Os(r),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Vs()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Os(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(r))):F.resolve())}ys(e,r){if(Jx(r))return F.resolve(null);let s=vr(r);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Uh(r,null,"F"),s=vr(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=de(...a);return this.ps.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,s).next(d=>{const u=this.Ds(r,c);return this.Cs(r,u,o,d.readTime)?this.ys(e,Uh(r,null,"F")):this.vs(e,u,r,d)}))})))}ws(e,r,s,i){return Jx(r)||i.isEqual(te.min())?F.resolve(null):this.ps.getDocuments(e,s).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,s,i)?F.resolve(null):(Vs()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Os(r)),this.vs(e,o,r,PI(i,oo)).next(c=>c))})}Ds(e,r){let s=new Ke(Mj(e));return r.forEach((i,a)=>{od(e,a)&&(s=s.add(a))}),s}Cs(e,r,s,i){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,s){return Vs()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Os(r)),this.ps.getDocumentsMatchingQuery(e,r,Pn.min(),s)}vs(e,r,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="LocalStore",mC=3e8;class fC{constructor(e,r,s,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Ae(ce),this.xs=new Ts(a=>ff(a),pf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function pC(t,e,r,s){return new fC(t,e,r,s)}async function iw(t,e){const r=re(t);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let i;return r.mutationQueue.getAllMutationBatches(s).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],c=[];let d=de();for(const u of i){o.push(u.batchId);for(const m of u.mutations)d=d.add(m.key)}for(const u of a){c.push(u.batchId);for(const m of u.mutations)d=d.add(m.key)}return r.localDocuments.getDocuments(s,d).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:c}))})})}function gC(t,e){const r=re(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,u,m){const g=u.batch,p=g.keys();let j=F.resolve();return p.forEach(N=>{j=j.next(()=>m.getEntry(d,N)).next(k=>{const y=u.docVersions.get(N);ge(y!==null,48541),k.version.compareTo(y)<0&&(g.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),m.addEntry(k)))})}),j.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(r,s,e,a).next(()=>a.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=de();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(d=d.add(c.batch.mutations[u].key));return d}(e))).next(()=>r.localDocuments.getDocuments(s,i))})}function aw(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function xC(t,e){const r=re(t),s=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const c=[];e.targetChanges.forEach((m,g)=>{const p=i.get(g);if(!p)return;c.push(r.Pi.removeMatchingKeys(a,m.removedDocuments,g).next(()=>r.Pi.addMatchingKeys(a,m.addedDocuments,g)));let j=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?j=j.withResumeToken(at.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):m.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(m.resumeToken,s)),i=i.insert(g,j),function(k,y,f){return k.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=mC?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(p,j,m)&&c.push(r.Pi.updateTargetData(a,j))});let d=zr(),u=de();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(yC(a,o,e.documentUpdates).next(m=>{d=m.ks,u=m.qs})),!s.isEqual(te.min())){const m=r.Pi.getLastRemoteSnapshotVersion(a).next(g=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,s));c.push(m)}return F.waitFor(c).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,u)).next(()=>d)}).then(a=>(r.Ms=i,a))}function yC(t,e,r){let s=de(),i=de();return r.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=zr();return r.forEach((c,d)=>{const u=a.get(c);d.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(te.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!u.isValidDocument()||d.version.compareTo(u.version)>0||d.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):H(_f,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",d.version)}),{ks:o,qs:i}})}function vC(t,e){const r=re(t);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=uf),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bC(t,e){const r=re(t);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return r.Pi.getTargetData(s,e).next(a=>a?(i=a,F.resolve(i)):r.Pi.allocateTargetId(s).next(o=>(i=new pn(e,o,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=r.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s})}async function Hh(t,e,r){const s=re(t),i=s.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Mi(o))throw o;H(_f,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function uy(t,e,r){const s=re(t);let i=te.min(),a=de();return s.persistence.runTransaction("Execute query","readwrite",o=>function(d,u,m){const g=re(d),p=g.xs.get(m);return p!==void 0?F.resolve(g.Ms.get(p)):g.Pi.getTargetData(u,m)}(s,o,vr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,c.targetId).next(d=>{a=d})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,e,r?i:te.min(),r?a:de())).next(c=>(jC(s,i4(e),c),{documents:c,Qs:a})))}function jC(t,e,r){let s=t.Os.get(e)||te.min();r.forEach((i,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Os.set(e,s)}class hy{constructor(){this.activeTargetIds=u4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wC{constructor(){this.Mo=new hy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new hy,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="ConnectivityMonitor";class fy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(my,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(my,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function qh(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,r,s,i,a){const o=qh(),c=this.zo(e,r.toUriEncodedString());H(vu,`Sending RPC '${e}' ${o}:`,c,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:u}=new URL(c),m=Ci(u);return this.Jo(e,c,d,s,m).then(g=>(H(vu,`Received RPC '${e}' ${o}: `,g),g),g=>{throw yi(vu,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",s),g})}Ho(e,r,s,i,a,o){return this.Go(e,r,s,i,a)}jo(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ri}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),s&&s.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const s=_C[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class TC extends kC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,i,a){const o=qh();return new Promise((c,d)=>{const u=new dj;u.setWithCredentials(!0),u.listenOnce(uj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Dl.NO_ERROR:const g=u.getResponseJson();H(dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case Dl.TIMEOUT:H(dt,`RPC '${e}' ${o} timed out`),d(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case Dl.HTTP_ERROR:const p=u.getStatus();if(H(dt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let j=u.getResponseJson();Array.isArray(j)&&(j=j[0]);const N=j==null?void 0:j.error;if(N&&N.status&&N.message){const k=function(f){const w=f.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(w)>=0?w:U.UNKNOWN}(N.status);d(new K(k,N.message))}else d(new K(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new K(U.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(dt,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(i);H(dt,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",m,s,15)})}T_(e,r,s){const i=qh(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fj(),c=mj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(d.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,r,s),d.encodeInitMessageHeaders=!0;const m=a.join("");H(dt,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=o.createWebChannel(m,d);this.I_(g);let p=!1,j=!1;const N=new EC({Yo:y=>{j?H(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(H(dt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),H(dt,`RPC '${e}' stream ${i} sending:`,y),g.send(y))},Zo:()=>g.close()}),k=(y,f,w)=>{y.listen(f,b=>{try{w(b)}catch(R){setTimeout(()=>{throw R},0)}})};return k(g,ga.EventType.OPEN,()=>{j||(H(dt,`RPC '${e}' stream ${i} transport opened.`),N.o_())}),k(g,ga.EventType.CLOSE,()=>{j||(j=!0,H(dt,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(g))}),k(g,ga.EventType.ERROR,y=>{j||(j=!0,yi(dt,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),N.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),k(g,ga.EventType.MESSAGE,y=>{var f;if(!j){const w=y.data[0];ge(!!w,16349);const b=w,R=(b==null?void 0:b.error)||((f=b[0])==null?void 0:f.error);if(R){H(dt,`RPC '${e}' stream ${i} received error:`,R);const M=R.status;let D=function(T){const P=Be[T];if(P!==void 0)return Gj(P)}(M),_=R.message;D===void 0&&(D=U.INTERNAL,_="Unknown error status: "+M+" with message "+R.message),j=!0,N.a_(new K(D,_)),g.close()}else H(dt,`RPC '${e}' stream ${i} received:`,w),N.u_(w)}}),k(c,hj.STAT_EVENT,y=>{y.stat===Dh.PROXY?H(dt,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===Dh.NOPROXY&&H(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function bu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return new A4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,r,s=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-s);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="PersistentStream";class lw{constructor(e,r,s,i,a,o,c,d){this.Mi=e,this.S_=s,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ow(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===U.RESOURCE_EXHAUSTED?(Br(r.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===r&&this.G_(s,i)},s=>{e(()=>{const i=new K(U.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(py,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(H(py,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SC extends lw{constructor(e,r,s,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=D4(this.serializer,e),s=function(a){if(!("targetChange"in a))return te.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?br(o.readTime):te.min()}(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=$h(this.serializer),r.addTarget=function(a,o){let c;const d=o.target;if(c=Fh(d)?{documents:V4(a,d)}:{query:O4(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Yj(a,o.resumeToken);const u=Bh(a,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){c.readTime=kc(a,o.snapshotVersion.toTimestamp());const u=Bh(a,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);const s=U4(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=$h(this.serializer),r.removeTarget=e,this.q_(r)}}class IC extends lw{constructor(e,r,s,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=L4(e.writeResults,e.commitTime),s=br(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=$h(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>M4(this.serializer,s))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class AC extends CC{constructor(e,r,s,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,zh(r,s),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(U.UNKNOWN,a.toString())})}Ho(e,r,s,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ho(e,zh(r,s),i,o,c,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class PC{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(r),this.aa=!1):H("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class RC{constructor(e,r,s,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Is(this)&&(H(ws,"Restarting streams for network reachability change."),await async function(d){const u=re(d);u.Ea.add(4),await Do(u),u.Ra.set("Unknown"),u.Ea.delete(4),await hd(u)}(this))})}),this.Ra=new PC(s,i)}}async function hd(t){if(Is(t))for(const e of t.da)await e(!0)}async function Do(t){for(const e of t.da)await e(!1)}function cw(t,e){const r=re(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Sf(r)?Tf(r):Li(r).O_()&&Ef(r,e))}function kf(t,e){const r=re(t),s=Li(r);r.Ia.delete(e),s.O_()&&dw(r,e),r.Ia.size===0&&(s.O_()?s.L_():Is(r)&&r.Ra.set("Unknown"))}function Ef(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Li(t).Y_(e)}function dw(t,e){t.Va.Ue(e),Li(t).Z_(e)}function Tf(t){t.Va=new T4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Li(t).start(),t.Ra.ua()}function Sf(t){return Is(t)&&!Li(t).x_()&&t.Ia.size>0}function Is(t){return re(t).Ea.size===0}function uw(t){t.Va=void 0}async function DC(t){t.Ra.set("Online")}async function MC(t){t.Ia.forEach((e,r)=>{Ef(t,e)})}async function LC(t,e){uw(t),Sf(t)?(t.Ra.ha(e),Tf(t)):t.Ra.set("Unknown")}async function VC(t,e,r){if(t.Ra.set("Online"),e instanceof Qj&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))}(t,e)}catch(s){H(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tc(t,s)}else if(e instanceof Ol?t.Va.Ze(e):e instanceof Kj?t.Va.st(e):t.Va.tt(e),!r.isEqual(te.min()))try{const s=await aw(t.localStore);r.compareTo(s)>=0&&await function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach((d,u)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(u);m&&a.Ia.set(u,m.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,u)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(at.EMPTY_BYTE_STRING,m.snapshotVersion)),dw(a,d);const g=new pn(m.target,d,u,m.sequenceNumber);Ef(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(s){H(ws,"Failed to raise snapshot:",s),await Tc(t,s)}}async function Tc(t,e,r){if(!Mi(e))throw e;t.Ea.add(1),await Do(t),t.Ra.set("Offline"),r||(r=()=>aw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(ws,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await hd(t)})}function hw(t,e){return e().catch(r=>Tc(t,r,e))}async function md(t){const e=re(t),r=Ln(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uf;for(;OC(e);)try{const i=await vC(e.localStore,s);if(i===null){e.Ta.length===0&&r.L_();break}s=i.batchId,FC(e,i)}catch(i){await Tc(e,i)}mw(e)&&fw(e)}function OC(t){return Is(t)&&t.Ta.length<10}function FC(t,e){t.Ta.push(e);const r=Ln(t);r.O_()&&r.X_&&r.ea(e.mutations)}function mw(t){return Is(t)&&!Ln(t).x_()&&t.Ta.length>0}function fw(t){Ln(t).start()}async function UC(t){Ln(t).ra()}async function BC(t){const e=Ln(t);for(const r of t.Ta)e.ea(r.mutations)}async function zC(t,e,r){const s=t.Ta.shift(),i=yf.from(s,e,r);await hw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await md(t)}async function WC(t,e){e&&Ln(t).X_&&await async function(s,i){if(function(o){return _4(o)&&o!==U.ABORTED}(i.code)){const a=s.Ta.shift();Ln(s).B_(),await hw(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,i)),await md(s)}}(t,e),mw(t)&&fw(t)}async function gy(t,e){const r=re(t);r.asyncQueue.verifyOperationInProgress(),H(ws,"RemoteStore received new credentials");const s=Is(r);r.Ea.add(3),await Do(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await hd(r)}async function $C(t,e){const r=re(t);e?(r.Ea.delete(2),await hd(r)):e||(r.Ea.add(2),await Do(r),r.Ra.set("Unknown"))}function Li(t){return t.ma||(t.ma=function(r,s,i){const a=re(r);return a.sa(),new SC(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:DC.bind(null,t),t_:MC.bind(null,t),r_:LC.bind(null,t),H_:VC.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Sf(t)?Tf(t):t.Ra.set("Unknown")):(await t.ma.stop(),uw(t))})),t.ma}function Ln(t){return t.fa||(t.fa=function(r,s,i){const a=re(r);return a.sa(),new IC(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,t),r_:WC.bind(null,t),ta:BC.bind(null,t),na:zC.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await md(t)):(await t.fa.stop(),t.Ta.length>0&&(H(ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,r,s,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new In,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,i,a){const o=Date.now()+s,c=new If(e,r,o,i,a);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cf(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Mi(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{static emptySet(e){return new ci(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Y.comparator(r.key,s.key):(r,s)=>Y.comparator(r.key,s.key),this.keyedMap=xa(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=s.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new ci;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.ga=new Ae(Y.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,s)=>{e.push(s)}),e}}class Ni{constructor(e,r,s,i,a,o,c,d,u){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=u}static fromInitialDocuments(e,r,s,i,a){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new Ni(e,r,ci.emptySet(r),o,s,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==s[i].type||!r[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qC{constructor(){this.queries=yy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const i=re(r),a=i.queries;i.queries=yy(),a.forEach((o,c)=>{for(const d of c.Sa)d.onError(s)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function yy(){return new Ts(t=>Dj(t),ad)}async function GC(t,e){const r=re(t);let s=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(s=2):(a=new HC,s=e.Da()?0:1);try{switch(s){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const c=Cf(o,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Af(r)}async function KC(t,e){const r=re(t),s=e.query;let i=3;const a=r.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function QC(t,e){const r=re(t);let s=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(s=!0);o.wa=i}}s&&Af(r)}function YC(t,e,r){const s=re(t),i=s.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);s.queries.delete(e)}function Af(t){t.Ca.forEach(e=>{e.next()})}var Gh,vy;(vy=Gh||(Gh={})).Ma="default",vy.Cache="cache";class XC{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ni(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Ni.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.key=e}}class gw{constructor(e){this.key=e}}class JC{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=Mj(e),this.tu=new ci(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new xy,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const p=i.get(m),j=od(this.query,g)?g:null,N=!!p&&this.mutatedKeys.has(p.key),k=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let y=!1;p&&j?p.data.isEqual(j.data)?N!==k&&(s.track({type:3,doc:j}),y=!0):this.su(p,j)||(s.track({type:2,doc:j}),y=!0,(d&&this.eu(j,d)>0||u&&this.eu(j,u)<0)&&(c=!0)):!p&&j?(s.track({type:0,doc:j}),y=!0):p&&!j&&(s.track({type:1,doc:p}),y=!0,(d||u)&&(c=!0)),y&&(j?(o=o.add(j),a=k?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),s.track({type:1,doc:m})}return{tu:o,iu:s,Cs:c,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((m,g)=>function(j,N){const k=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:y})}};return k(j)-k(N)}(m.type,g.type)||this.eu(m.doc,g.doc)),this.ou(s),i=i??!1;const c=r&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,u=d!==this.Za;return this.Za=d,o.length!==0||u?{snapshot:new Ni(this.query,e.tu,a,o,e.mutatedKeys,d===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const r=[];return e.forEach(s=>{this.Xa.has(s)||r.push(new gw(s))}),this.Xa.forEach(s=>{e.has(s)||r.push(new pw(s))}),r}cu(e){this.Ya=e.Qs,this.Xa=de();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Ni.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pf="SyncEngine";class ZC{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class eA{constructor(e){this.key=e,this.hu=!1}}class tA{constructor(e,r,s,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ts(c=>Dj(c),ad),this.Iu=new Map,this.Eu=new Set,this.du=new Ae(Y.comparator),this.Au=new Map,this.Ru=new jf,this.Vu={},this.mu=new Map,this.fu=wi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rA(t,e,r=!0){const s=ww(t);let i;const a=s.Tu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await xw(s,e,r,!0),i}async function nA(t,e){const r=ww(t);await xw(r,e,!0,!1)}async function xw(t,e,r,s){const i=await bC(t.localStore,vr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let c;return s&&(c=await sA(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&cw(t.remoteStore,i),c}async function sA(t,e,r,s,i){t.pu=(g,p,j)=>async function(k,y,f,w){let b=y.view.ru(f);b.Cs&&(b=await uy(k.localStore,y.query,!1).then(({documents:_})=>y.view.ru(_,b)));const R=w&&w.targetChanges.get(y.targetId),M=w&&w.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(b,k.isPrimaryClient,R,M);return jy(k,y.targetId,D.au),D.snapshot}(t,g,p,j);const a=await uy(t.localStore,e,!0),o=new JC(e,a.Qs),c=o.ru(a.documents),d=Ro.createSynthesizedTargetChangeForCurrentChange(r,s&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,d);jy(t,r,u.au);const m=new ZC(e,r,o);return t.Tu.set(e,m),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function iA(t,e,r){const s=re(t),i=s.Tu.get(e),a=s.Iu.get(i.targetId);if(a.length>1)return s.Iu.set(i.targetId,a.filter(o=>!ad(o,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Hh(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),r&&kf(s.remoteStore,i.targetId),Kh(s,i.targetId)}).catch(Di)):(Kh(s,i.targetId),await Hh(s.localStore,i.targetId,!0))}async function aA(t,e){const r=re(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),kf(r.remoteStore,s.targetId))}async function oA(t,e,r){const s=fA(t);try{const i=await function(o,c){const d=re(o),u=Ne.now(),m=c.reduce((j,N)=>j.add(N.key),de());let g,p;return d.persistence.runTransaction("Locally write mutations","readwrite",j=>{let N=zr(),k=de();return d.Ns.getEntries(j,m).next(y=>{N=y,N.forEach((f,w)=>{w.isValidDocument()||(k=k.add(f))})}).next(()=>d.localDocuments.getOverlayedDocuments(j,N)).next(y=>{g=y;const f=[];for(const w of c){const b=v4(w,g.get(w.key).overlayedDocument);b!=null&&f.push(new Ss(w.key,b,Tj(b.value.mapValue),Dr.exists(!0)))}return d.mutationQueue.addMutationBatch(j,u,f,c)}).next(y=>{p=y;const f=y.applyToLocalDocumentSet(g,k);return d.documentOverlayCache.saveOverlays(j,y.batchId,f)})}).then(()=>({batchId:p.batchId,changes:Vj(g)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(o,c,d){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ae(ce)),u=u.insert(c,d),o.Vu[o.currentUser.toKey()]=u}(s,i.batchId,r),await Mo(s,i.changes),await md(s.remoteStore)}catch(i){const a=Cf(i,"Failed to persist write");r.reject(a)}}async function yw(t,e){const r=re(t);try{const s=await xC(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ge(o.hu,14607):i.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await Mo(r,s,e)}catch(s){await Di(s)}}function by(t,e,r){const s=re(t);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const i=[];s.Tu.forEach((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){const d=re(o);d.onlineState=c;let u=!1;d.queries.forEach((m,g)=>{for(const p of g.Sa)p.va(c)&&(u=!0)}),u&&Af(d)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lA(t,e,r){const s=re(t);s.sharedClientState.updateQueryState(e,"rejected",r);const i=s.Au.get(e),a=i&&i.key;if(a){let o=new Ae(Y.comparator);o=o.insert(a,mt.newNoDocument(a,te.min()));const c=de().add(a),d=new dd(te.min(),new Map,new Ae(ce),o,c);await yw(s,d),s.du=s.du.remove(a),s.Au.delete(e),Rf(s)}else await Hh(s.localStore,e,!1).then(()=>Kh(s,e,r)).catch(Di)}async function cA(t,e){const r=re(t),s=e.batch.batchId;try{const i=await gC(r.localStore,e);bw(r,s,null),vw(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Mo(r,i)}catch(i){await Di(i)}}async function dA(t,e,r){const s=re(t);try{const i=await function(o,c){const d=re(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let m;return d.mutationQueue.lookupMutationBatch(u,c).next(g=>(ge(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(u,g))).next(()=>d.mutationQueue.performConsistencyCheck(u)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(u,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,m)).next(()=>d.localDocuments.getDocuments(u,m))})}(s.localStore,e);bw(s,e,r),vw(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Mo(s,i)}catch(i){await Di(i)}}function vw(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function bw(t,e,r){const s=re(t);let i=s.Vu[s.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function Kh(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),r&&t.Pu.yu(s,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||jw(t,s)})}function jw(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(kf(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Rf(t))}function jy(t,e,r){for(const s of r)s instanceof pw?(t.Ru.addReference(s.key,e),uA(t,s)):s instanceof gw?(H(Pf,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||jw(t,s.key)):J(19791,{wu:s})}function uA(t,e){const r=e.key,s=r.path.canonicalString();t.du.get(r)||t.Eu.has(s)||(H(Pf,"New document in limbo: "+r),t.Eu.add(s),Rf(t))}function Rf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Y(Se.fromString(e)),s=t.fu.next();t.Au.set(s,new eA(r)),t.du=t.du.insert(r,s),cw(t.remoteStore,new pn(vr(gf(r.path)),s,"TargetPurposeLimboResolution",rd.ce))}}async function Mo(t,e,r){const s=re(t),i=[],a=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((c,d)=>{o.push(s.pu(d,e,r).then(u=>{var m;if((u||r)&&s.isPrimaryClient){const g=u?!u.fromCache:(m=r==null?void 0:r.targetChanges.get(d.targetId))==null?void 0:m.current;s.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(u){i.push(u);const g=Nf.As(d.targetId,u);a.push(g)}}))}),await Promise.all(o),s.Pu.H_(i),await async function(d,u){const m=re(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>F.forEach(u,p=>F.forEach(p.Es,j=>m.persistence.referenceDelegate.addReference(g,p.targetId,j)).next(()=>F.forEach(p.ds,j=>m.persistence.referenceDelegate.removeReference(g,p.targetId,j)))))}catch(g){if(!Mi(g))throw g;H(_f,"Failed to update sequence numbers: "+g)}for(const g of u){const p=g.targetId;if(!g.fromCache){const j=m.Ms.get(p),N=j.snapshotVersion,k=j.withLastLimboFreeSnapshotVersion(N);m.Ms=m.Ms.insert(p,k)}}}(s.localStore,a))}async function hA(t,e){const r=re(t);if(!r.currentUser.isEqual(e)){H(Pf,"User change. New user:",e.toKey());const s=await iw(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(c=>{c.forEach(d=>{d.reject(new K(U.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mo(r,s.Ls)}}function mA(t,e){const r=re(t),s=r.Au.get(e);if(s&&s.hu)return de().add(s.key);{let i=de();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const c=r.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function ww(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.Pu.H_=QC.bind(null,e.eventManager),e.Pu.yu=YC.bind(null,e.eventManager),e}function fA(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dA.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return pC(this.persistence,new hC,e.initialUser,this.serializer)}Cu(e){return new sw(wf.mi,this.serializer)}Du(e){return new wC}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class pA extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){ge(this.persistence.referenceDelegate instanceof Ec,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X4(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new sw(s=>Ec.mi(s,r),this.serializer)}}class Qh{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>by(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hA.bind(null,this.syncEngine),await $C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qC}()}createDatastore(e){const r=ud(e.databaseInfo.databaseId),s=function(a){return new TC(a)}(e.databaseInfo);return function(a,o,c,d){return new AC(a,o,c,d)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,i,a,o,c){return new RC(s,i,a,o,c)}(this.localStore,this.datastore,e.asyncQueue,r=>by(this.syncEngine,r,0),function(){return fy.v()?new fy:new NC}())}createSyncEngine(e,r){return function(i,a,o,c,d,u,m){const g=new tA(i,a,o,c,d,u);return m&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=re(i);H(ws,"RemoteStore shutting down."),a.Ea.add(5),await Do(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Qh.provider={build:()=>new Qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="FirestoreClient";class xA{constructor(e,r,s,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=cf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{H(Vn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(H(Vn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new In;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Cf(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ju(t,e){t.asyncQueue.verifyOperationInProgress(),H(Vn,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let s=r.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await iw(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wy(t,e){t.asyncQueue.verifyOperationInProgress();const r=await yA(t);H(Vn,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(s=>gy(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>gy(e.remoteStore,i)),t._onlineComponents=e}async function yA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Vn,"Using user provided OfflineComponentProvider");try{await ju(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;yi("Error using user provided cache. Falling back to memory cache: "+r),await ju(t,new Sc)}}else H(Vn,"Using default OfflineComponentProvider"),await ju(t,new pA(void 0));return t._offlineComponents}async function Nw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Vn,"Using user provided OnlineComponentProvider"),await wy(t,t._uninitializedComponentsProvider._online)):(H(Vn,"Using default OnlineComponentProvider"),await wy(t,new Qh))),t._onlineComponents}function vA(t){return Nw(t).then(e=>e.syncEngine)}async function bA(t){const e=await Nw(t),r=e.eventManager;return r.onListen=rA.bind(null,e.syncEngine),r.onUnlisten=iA.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=nA.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=aA.bind(null,e.syncEngine),r}function jA(t,e,r={}){const s=new In;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,d,u){const m=new gA({next:p=>{m.Nu(),o.enqueueAndForget(()=>KC(a,g));const j=p.docs.has(c);!j&&p.fromCache?u.reject(new K(U.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&p.fromCache&&d&&d.source==="server"?u.reject(new K(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),g=new XC(gf(c.path),m,{includeMetadataChanges:!0,qa:!0});return GC(a,g)}(await bA(t),t.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firestore.googleapis.com",_y=!0;class ky{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kw,this.ssl=_y}else this.host=e.host,this.ssl=e.ssl??_y;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q4)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,r,s,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new _I(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Ny.get(r);s&&(H("ComponentProvider","Removing Datastore"),Ny.delete(r),s.terminate())}(this),Promise.resolve()}}function wA(t,e,r,s={}){var u;t=ao(t,Df);const i=Ci(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${r}`;i&&(jb(`https://${c}`),wb("Firestore",!0)),a.host!==kw&&a.host!==c&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:s};if(!xs(d,o)&&(t._setSettings(d),s.mockUserToken)){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=ut.MOCK_USER;else{m=Ck(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ut(p)}t._authCredentials=new jI(new gj(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mf(this.firestore,e,this._query)}}class Je{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Je(this.firestore,e,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(Ao(r,Je._jsonSchema))return new Je(e,s||null,new Y(Se.fromString(r.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:We("string",Je._jsonSchemaVersion),referencePath:We("string")};class po extends Mf{constructor(e,r,s){super(e,r,gf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new Y(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Ey(t,e,...r){if(t=Vt(t),arguments.length===1&&(e=cf.newId()),CI("doc","path",e),t instanceof Df){const s=Se.fromString(e,...r);return Fx(s),new Je(t,null,new Y(s))}{if(!(t instanceof Je||t instanceof po))throw new K(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Se.fromString(e,...r));return Fx(s),new Je(t.firestore,t instanceof po?t.converter:null,new Y(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="AsyncQueue";class Sy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ow(this,"async_queue_retry"),this._c=()=>{const s=bu();s&&H(Ty,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=bu();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=bu();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new In;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Mi(e))throw e;H(Ty,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",Iy(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=If.createAndSchedule(this,e,r,s,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:Iy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function Iy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Lf extends Df{constructor(e,r,s,i){super(e,r,s,i),this.type="firestore",this._queue=new Sy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sy(e),this._firestoreClient=void 0,await e}}}function NA(t,e){const r=typeof t=="object"?t:Eb(),s=typeof t=="string"?t:bc,i=Jm(r,"firestore").getImmediate({identifier:s});if(!i._initialized){const a=Sk("firestore");a&&wA(i,...a)}return i}function Ew(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_A(t),t._firestoreClient}function _A(t){var s,i,a;const e=t._freezeSettings(),r=function(c,d,u,m){return new zI(c,d,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_w(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new xA(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ht(at.fromBase64String(e))}catch(r){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ht(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ht._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ao(e,Ht._jsonSchema))return Ht.fromBase64String(e.bytes)}}Ht._jsonSchemaVersion="firestore/bytes/1.0",Ht._jsonSchema={type:We("string",Ht._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(Ao(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:We("string",jr._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ao(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new wr(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:We("string",wr._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=/^__.*__$/;class EA{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,r,this.fieldTransforms):new Po(e,this.data,r,this.fieldTransforms)}}function Tw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class Ff{constructor(e,r,s,i,a,o){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ff({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Tw(this.Ac)&&kA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TA{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||ud(e)}Cc(e,r,s,i=!1){return new Ff({Ac:e,methodName:r,Dc:s,path:nt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SA(t){const e=t._freezeSettings(),r=ud(t._databaseId);return new TA(t._databaseId,!!e.ignoreUndefinedProperties,r)}function IA(t,e,r,s,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);Aw("Data must be an object, but it was:",o,s);const c=Iw(s,o);let d,u;if(a.merge)d=new nr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const p=CA(e,g,r);if(!o.contains(p))throw new K(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);PA(m,p)||m.push(p)}d=new nr(m),u=o.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,u=o.fieldTransforms;return new EA(new $t(c),d,u)}class Uf extends Of{_toFieldTransform(e){return new p4(e.path,new ho)}isEqual(e){return e instanceof Uf}}function Sw(t,e){if(Cw(t=Vt(t)))return Aw("Unsupported field value:",e,t),Iw(t,e);if(t instanceof Of)return function(s,i){if(!Tw(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const a=[];let o=0;for(const c of s){let d=Sw(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,i){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return h4(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Ne.fromDate(s);return{timestampValue:kc(i.serializer,a)}}if(s instanceof Ne){const a=new Ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(i.serializer,a)}}if(s instanceof jr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ht)return{bytesValue:Yj(i.serializer,s._byteString)};if(s instanceof Je){const a=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:bf(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof wr)return function(o,c){return{mapValue:{fields:{[kj]:{stringValue:Ej},[jc]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return xf(c.serializer,u)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${df(s)}`)}(t,e)}function Iw(t,e){const r={};return vj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(s,i)=>{const a=Sw(i,e.mc(s));a!=null&&(r[s]=a)}),{mapValue:{fields:r}}}function Cw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof jr||t instanceof Ht||t instanceof Je||t instanceof Of||t instanceof wr)}function Aw(t,e,r){if(!Cw(r)||!xj(r)){const s=df(r);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function CA(t,e,r){if((e=Vt(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return Pw(t,e);throw Ic("Field path arguments must be of type string or ",t,!1,void 0,r)}const AA=new RegExp("[~\\*/\\[\\]]");function Pw(t,e,r){if(e.search(AA)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Vf(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ic(t,e,r,s,i){const a=s&&!s.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${s}`),o&&(d+=` in document ${i}`),d+=")"),new K(U.INVALID_ARGUMENT,c+t+d)}function PA(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,r,s,i,a){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class RA extends Rw{data(){return super.data()}}function Dw(t,e){return typeof e=="string"?Pw(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}class DA{convertValue(e,r="none"){switch(Mn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Dn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Es(e,(i,a)=>{s[i]=this.convertValue(a,r)}),s}convertVectorValue(e){var s,i,a;const r=(a=(i=(s=e.fields)==null?void 0:s[jc].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Ve(o.doubleValue));return new wr(r)}convertGeoPoint(e){return new jr(Ve(e.latitude),Ve(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=sd(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const r=Rn(e);return new Ne(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Se.fromString(e);ge(rw(s),9688,{name:e});const i=new co(s.get(1),s.get(3)),a=new Y(s.popFirst(5));return i.isEqual(r)||Br(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e,r){let s;return s=t?t.toFirestore(e):e,s}class va{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends Rw{constructor(e,r,s,i,a,o){super(e,r,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Dw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ds._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:We("string",ds._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Fl extends ds{data(e={}){return super.data(e)}}class La{constructor(e,r,s,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new va(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new Fl(this._firestore,this._userDataWriter,s.key,s,new va(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{const d=new Fl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new va(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Fl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new va(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,m=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:LA(c.type),doc:d,oldIndex:u,newIndex:m}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),s.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){t=ao(t,Je);const e=ao(t.firestore,Lf);return jA(Ew(e),t._key).then(r=>BA(e,t,r))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:We("string",La._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class OA extends DA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ht(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,r)}}function FA(t,e,r){t=ao(t,Je);const s=ao(t.firestore,Lf),i=MA(t.converter,e);return UA(s,[IA(SA(s),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Dr.none())])}function UA(t,e){return function(s,i){const a=new In;return s.asyncQueue.enqueueAndForget(async()=>oA(await vA(s),i,a)),a.promise}(Ew(t),e)}function BA(t,e,r){const s=r.docs.get(e._key),i=new OA(t);return new ds(t,i,e._key,s,new va(r.hasPendingWrites,r.fromCache),e.converter)}function Cy(){return new Uf("serverTimestamp")}(function(e,r=!0){(function(i){Ri=i})(Ai),xi(new ys("firestore",(s,{instanceIdentifier:i,options:a})=>{const o=s.getProvider("app").getImmediate(),c=new Lf(new wI(s.getProvider("auth-internal")),new kI(o,s.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(u.options.projectId,m)}(o,i),o);return a={useFetchStreams:r,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Tn(Mx,Lx,e),Tn(Mx,Lx,"esm2020")})();const Ul={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!Ul.apiKey||!Ul.authDomain||!Ul.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let Cc;if(ux().length===0)try{Cc=kb(Ul)}catch(t){throw console.error(" Firebase initialization failed:",t),t}else Cc=ux()[0];const Ds=yI(Cc),Ay=NA(Cc),Py="marketing_management_website_messages",Ms=localStorage.getItem("useMockAuth")!=="false",Mw=S.createContext(void 0);function zA({children:t}){const[e,r]=S.useState(!1),[s,i]=S.useState(null),[a,o]=S.useState(!0),c=async(b,R)=>{const M=pe().find(_=>_.email===b&&_.password===R);if(!M)throw new Error("Invalid email or password");if(!M.isActive)throw new Error("Account is inactive");const D={id:M.id,email:M.email,fullName:M.fullName,role:M.role,phone:M.phone};i(D),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(D))},d=async b=>{const R=`user-${Date.now()}`,M={id:R,email:b.email,fullName:b.fullName,role:b.role,phone:b.phone,password:b.password,isActive:!0,createdAt:new Date,updatedAt:new Date};hb.push(M),localStorage.setItem("marketing_management_website_users",JSON.stringify(pe().concat(M)));const D=pe().filter(P=>P.role==="admin"),_={id:`message-${Date.now()}`,senderId:R,recipientId:void 0,subject:"New User Registration",content:`A new user has registered: ${M.fullName} (${M.email}) as ${M.role}. Please review and approve if necessary.`,isRead:!1,isBroadcast:!0,createdAt:new Date,updatedAt:new Date},v=JSON.parse(localStorage.getItem(Py)||"[]");D.forEach(P=>{v.push({..._,recipientId:P.id,id:`message-${Date.now()}-${P.id}`})}),localStorage.setItem(Py,JSON.stringify(v));const T={id:R,email:M.email,fullName:M.fullName,role:M.role,phone:M.phone};i(T),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(T))},u=async()=>{i(null),r(!1),localStorage.removeItem("mockAuthUser")},m=async b=>{try{const R=await VA(Ey(Ay,"users",b.uid));if(!R.exists())return console.error("User document not found in Firestore"),null;const M=R.data();return M.isActive?{id:b.uid,email:M.email||b.email||"",fullName:M.fullName||"",role:M.role,phone:M.phone||""}:(console.error("User account is inactive"),null)}catch(R){return console.error("Error fetching user data:",R),null}};S.useEffect(()=>{if(Ms){o(!0);const b=localStorage.getItem("mockAuthUser");if(b)try{const R=JSON.parse(b);i(R),r(!0)}catch(R){console.error("Error parsing stored user:",R),localStorage.removeItem("mockAuthUser")}o(!1)}else{const b=aS(Ds,async R=>{if(o(!0),R){const M=await m(R);M?(i(M),r(!0)):(i(null),r(!1))}else i(null),r(!1);o(!1)});return()=>b()}},[]);const g=async(b,R)=>{if(Ms)return c(b,R);try{if(!Ds)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");await nS(Ds,b,R)}catch(M){throw console.error("Sign in error:",M),console.error("Error code:",M.code),console.error("Error message:",M.message),M.code==="auth/user-not-found"?new Error("auth/user-not-found - No user found with this email. Please create an account first."):M.code==="auth/wrong-password"?new Error("auth/wrong-password - Incorrect password."):M.code==="auth/invalid-email"?new Error("auth/invalid-email - Invalid email address format."):M.code==="auth/user-disabled"?new Error("auth/user-disabled - This account has been disabled."):M.code==="auth/too-many-requests"?new Error("auth/too-many-requests - Too many failed login attempts. Please try again later."):M.code==="auth/network-request-failed"?new Error("auth/network-request-failed - Network error. Please check your internet connection."):M.code==="auth/invalid-api-key"?new Error("auth/invalid-api-key - Firebase API key is invalid. Check your .env file."):M.code==="auth/configuration-not-found"?new Error("auth/configuration-not-found - Firebase configuration not found. Check your .env file."):new Error(M.message||M.code||"Failed to sign in")}},p=async b=>{if(Ms)return d(b);try{if(!Ds)throw new Error("Firebase Auth not initialized. Please check your configuration.");const M=(await rS(Ds,b.email,b.password)).user;await FA(Ey(Ay,"users",M.uid),{email:b.email,fullName:b.fullName,phone:b.phone,role:b.role,isActive:!0,createdAt:Cy(),updatedAt:Cy()})}catch(R){throw console.error("Sign up error:",R),console.error("Error code:",R.code),console.error("Error message:",R.message),R.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):R.code==="auth/invalid-email"?new Error("Invalid email address format."):R.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):R.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(R.message||"Failed to create account")}},j=b=>{if(!s)return;const R={...s,...b};i(R),Ms&&localStorage.setItem("mockAuthUser",JSON.stringify(R))},N=async()=>{if(Ms)return u();try{await oS(Ds)}catch(b){throw console.error("Sign out error:",b),new Error(b.message||"Failed to sign out")}},k=b=>{if(!s)return;const R={...s,role:b};i(R),Ms&&localStorage.setItem("mockAuthUser",JSON.stringify(R))},y=b=>s?b.includes(s.role):!1,f=b=>s?s.role==="admin"?!0:kr(s.id,s.role).some(M=>M.id===b):!1,w=b=>s?s.role==="admin"||s.role==="web_developer"&&b.assignedTo===s.id||s.role==="client"&&b.createdBy===s.id:!1;return n.jsx(Mw.Provider,{value:{isSignedIn:e,user:s,loading:a,signIn:g,signUp:p,signOut:N,updateCurrentUser:j,switchRole:k,hasRole:y,canAccessProject:f,canManageTicket:w},children:t})}function se(){const t=S.useContext(Mw);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const WA={theme:"system",setTheme:()=>null},$A=S.createContext(WA);function HA({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...s}){const[i,a]=S.useState(()=>localStorage.getItem(r)||e);S.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),i==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(i)},[i]);const o={theme:i,setTheme:c=>{localStorage.setItem(r,c),a(c)}};return n.jsx($A.Provider,{...s,value:o,children:t})}const qA=t=>2;function ue(){const{isSignedIn:t,user:e,signOut:r}=se(),s=ae(),a=Wn().pathname,[o,c]=S.useState(0),[d,u]=S.useState(0);S.useEffect(()=>{if(e){const p=pk(e.id).length,j=qA(e.id);c(p),u(j)}},[e]);const m=async()=>{try{await r(),s("/login")}catch(p){console.error("Error signing out:",p),s("/login")}},g=a.includes("/dashboard")||a.includes("/admin/dashboard")||a.includes("/developer/dashboard")||a.includes("/coordinator/dashboard")||a.includes("/client-portal/dashboard");return n.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:n.jsxs("div",{className:"container flex items-center justify-between py-4",children:[g?n.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[n.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),n.jsx("span",{children:"Marketing Website"})]}):n.jsxs(O,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-primary hover:opacity-80 transition-opacity",children:[n.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),n.jsx("span",{children:"Marketing Website"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-6",children:t&&e&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:[e.role==="admin"&&"Admin",e.role==="web_developer"&&"Dev",e.role==="social_media_coordinator"&&"Coord",e.role==="client"&&"Client"]}),n.jsx("span",{className:"text-foreground/50",children:"|"})]})})}),n.jsx("div",{className:"flex items-center gap-4",children:t&&e?n.jsxs("div",{className:"flex items-center gap-4",children:[e.role==="admin"&&n.jsxs("div",{className:"relative group",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Management Tools",children:n.jsxs("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),n.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsx(O,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"}),n.jsx(O,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),n.jsx(O,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Time Tracking"}),n.jsx(O,{to:"/reports",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Reports"}),n.jsx("div",{className:"border-t border-border my-2"}),n.jsx(O,{to:"/ai-insights",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" AI Insights"}),n.jsx(O,{to:"/integrations",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Integrations"}),n.jsx(O,{to:"/automation",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Automation"}),n.jsx(O,{to:"/templates",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Templates"})]})})]}),e.role==="web_developer"&&n.jsxs("div",{className:"relative group",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Developer Tools",children:n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),n.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsx(O,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Time Tracking"}),n.jsx(O,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),n.jsx(O,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"})]})})]}),e.role==="social_media_coordinator"&&n.jsxs("div",{className:"relative group",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Coordinator Tools",children:n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsx(O,{to:"/analytics",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Analytics"}),n.jsx(O,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),n.jsx(O,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"})]})})]}),e.role==="client"&&n.jsxs("div",{className:"relative group",children:[n.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Support Tools",children:n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v6m0 6v6m6-9h-6m-6 3H3m6 3h6"})})}),n.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:n.jsxs("div",{className:"py-2",children:[n.jsx(O,{to:"/client-portal/files",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Files"}),n.jsx(O,{to:"/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Messages"}),n.jsx(O,{to:"/client-portal/feedback",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Feedback"})]})})]}),n.jsxs(O,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:o>99?"99+":o})]}),n.jsx("div",{className:"text-sm text-right",children:n.jsx("p",{className:"font-semibold text-foreground",children:e.fullName})}),n.jsx("button",{onClick:m,className:"btn-secondary text-sm",children:"Sign Out"})]}):n.jsxs(n.Fragment,{children:[n.jsx(O,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),n.jsx(O,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})})]})})}function he(){const[t,e]=S.useState(!1),[r,s]=S.useState(!1),[i,a]=S.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx("footer",{className:"border-t border-border bg-muted py-12",children:n.jsxs("div",{className:"container",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),n.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:n.jsx("li",{children:n.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),n.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-primary",children:"Project Management"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-primary",children:"Ticketing System"})}),n.jsx("li",{children:n.jsx("a",{href:"#",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),n.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[n.jsx("li",{children:n.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>s(!0),className:"hover:text-primary",children:"Privacy"})}),n.jsx("li",{children:n.jsx("button",{onClick:()=>a(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),n.jsx("div",{className:"border-t border-border pt-8",children:n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2025 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),n.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Create an account with your assigned role"}),n.jsx("li",{children:"Access your role-specific dashboard"}),n.jsx("li",{children:"View assigned projects and tasks"}),n.jsx("li",{children:"Collaborate with your team members"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"View progress of your website through different stages"}),n.jsx("li",{children:"Create tickets for bug reports or content changes"}),n.jsx("li",{children:"Track analytics and social media performance"}),n.jsx("li",{children:"Communicate with your development team"}),n.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Access all your assigned website projects"}),n.jsx("li",{children:"Update project stages as work progresses"}),n.jsx("li",{children:"Manage and resolve client tickets"}),n.jsx("li",{children:"Track time and deliverables"}),n.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),n.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports and monitor performance trends."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),n.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Use a strong, unique password"}),n.jsx("li",{children:"Never share your login credentials"}),n.jsx("li",{children:"Enable two-factor authentication when available"}),n.jsx("li",{children:"Log out from shared devices"}),n.jsx("li",{children:"Report suspicious activity immediately"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),n.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",n.jsx("br",{}),"Phone: +27 21 123 4567",n.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),n.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:n.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),r&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),n.jsx("button",{onClick:()=>s(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Personal information (name, email address, phone number)"}),n.jsx("li",{children:"Project files, documents, and assets"}),n.jsx("li",{children:"Website analytics and social media metrics"}),n.jsx("li",{children:"Ticket history and communications"}),n.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Manage and track website development projects"}),n.jsx("li",{children:"Facilitate team collaboration and communication"}),n.jsx("li",{children:"Store and track analytics data"}),n.jsx("li",{children:"Communicate with you about your projects and tickets"}),n.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),n.jsx("li",{children:"Improve our services and user experience"}),n.jsx("li",{children:"Comply with legal obligations"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),n.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[n.jsx("li",{children:"Team members assigned to the same projects"}),n.jsx("li",{children:"Service providers who assist in operating our platform"}),n.jsx("li",{children:"Law enforcement when required by law"}),n.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),n.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),n.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Access your personal information"}),n.jsx("li",{children:"Correct inaccurate information"}),n.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),n.jsx("li",{children:"Object to processing of your information"}),n.jsx("li",{children:"Withdraw consent at any time"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),n.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),n.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),n.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),n.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),n.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",n.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Last Updated:"})," January 2025",n.jsx("br",{}),n.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),n.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:n.jsx("button",{onClick:()=>s(!1),className:"w-full btn-primary",children:"Close"})})]})}),i&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),n.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),n.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Provide accurate and complete information"}),n.jsx("li",{children:"Maintain the security of your account credentials"}),n.jsx("li",{children:"Accept responsibility for all activities under your account"}),n.jsx("li",{children:"Notify us immediately of any unauthorized use"}),n.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Perform assigned tasks professionally and on time"}),n.jsx("li",{children:"Maintain confidentiality of client information"}),n.jsx("li",{children:"Communicate effectively with team members"}),n.jsx("li",{children:"Provide accurate project updates and analytics"}),n.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Update project stages accurately as work progresses"}),n.jsx("li",{children:"Respond to tickets within agreed timeframes"}),n.jsx("li",{children:"Submit accurate analytics data"}),n.jsx("li",{children:"Respect intellectual property rights"}),n.jsx("li",{children:"Maintain professional communication standards"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),n.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Unauthorized access to other users' projects or data"}),n.jsx("li",{children:"Sharing confidential client information"}),n.jsx("li",{children:"Submitting false or misleading analytics data"}),n.jsx("li",{children:"Harassing other users or team members"}),n.jsx("li",{children:"Attempting to circumvent security measures"}),n.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),n.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),n.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),n.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),n.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),n.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),n.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Last Updated:"})," January 2025",n.jsx("br",{}),n.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),n.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:n.jsx("button",{onClick:()=>a(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function GA(){const{isSignedIn:t}=se();return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsxs("main",{className:"flex flex-col",children:[n.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/10",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-accent/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-500"})]}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),n.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),n.jsx("div",{className:"absolute bottom-32 left-32 w-4 h-4 bg-secondary rounded-full animate-bounce delay-500"}),n.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-accent rounded-full animate-bounce delay-700"})]}),n.jsx("div",{className:"container text-center relative z-10 px-4 py-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-8",children:[n.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Welcome to the Future of Marketing Management"]}),n.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-balance bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent leading-tight",children:["Manage Websites.",n.jsx("br",{}),n.jsx("span",{className:"text-foreground",children:"Track Social Media."}),n.jsx("br",{}),n.jsx("span",{className:"text-primary",children:"Collaborate Better."})]}),n.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Your complete project management platform for website development and social media coordination with team collaboration, real-time analytics, and intelligent ticketing."}),n.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[n.jsxs(O,{to:t?"/dashboard":"/register",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[220px] text-center whitespace-nowrap",children:[n.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[n.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})}),n.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),n.jsx(O,{to:"/login",className:"group border-2 border-primary/30 text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white hover:border-primary transition-all duration-300 transform hover:-translate-y-1 w-[220px] text-center whitespace-nowrap",children:n.jsxs("span",{className:"flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),n.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})}),n.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:n.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center",children:n.jsx("div",{className:"w-1 h-3 bg-primary rounded-full mt-2 animate-pulse"})})})]}),n.jsxs("section",{className:"py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-5",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312265E' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),n.jsxs("div",{className:"container relative z-10",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent text-sm font-medium mb-6",children:[n.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Powerful Features"]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"How Marketing Management Website Works"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Streamline your marketing operations with our comprehensive suite of tools designed for modern teams."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[n.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-primary transition-colors",children:"Team Collaboration"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently with real-time updates and notifications."}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})})]})]}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-primary/10 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-300"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-accent/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[n.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-accent transition-colors",children:"Project Tracking"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time with detailed analytics and status updates."}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-accent to-primary rounded-full"})})]})]}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/10 to-primary/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-secondary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[n.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:n.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),n.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-secondary transition-colors",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track website traffic and social media engagement. Get comprehensive insights into performance metrics with beautiful visualizations."}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-secondary to-accent rounded-full"})})]})]})]}),n.jsx("div",{className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:[{icon:"",title:"Smart Ticketing",desc:"AI-powered ticket management"},{icon:"",title:"Mobile Ready",desc:"Access anywhere, anytime"},{icon:"",title:"Secure",desc:"Enterprise-grade security"},{icon:"",title:"Fast",desc:"Lightning-quick performance"}].map((e,r)=>n.jsxs("div",{className:"text-center p-6 rounded-xl bg-card/50 border border-border/50 hover:bg-card hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:"text-3xl mb-3",children:e.icon}),n.jsx("h4",{className:"font-semibold text-foreground mb-1",children:e.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]},r))})]})]}),n.jsxs("section",{className:"py-24 bg-gradient-to-br from-background via-primary/5 to-secondary/10 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0",children:n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-primary/5 to-accent/5"})}),n.jsxs("div",{className:"container relative z-10",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-6",children:[n.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Role-Based Experience"]}),n.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent",children:"Built for Every Role"}),n.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tailored experiences designed specifically for each team member's workflow and responsibilities."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-3xl transform rotate-2 group-hover:rotate-3 transition-transform duration-500"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg",children:"Administrator"})]})]}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"System Administrator"}),n.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Full system control with user management, project oversight, analytics access, and system configuration."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"User Management"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Analytics"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full Access"]})]})]})]}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary border border-primary/20",children:"Web Developer"})]})]}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Web Developer"}),n.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Code, build, and deploy websites with ticket management, project tracking, and development tools."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ticket Management"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Repository"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deploy Tools"]})]})]})]}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-accent-dark/10 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-accent/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2m4 0H8l.5 16h7L16 4z"})})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-accent/10 text-accent border border-accent/20",children:"Coordinator"})]})]}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Social Media Coordinator"}),n.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Manage social media campaigns, track engagement metrics, and coordinate content across platforms."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Campaign Management"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analytics Dashboard"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Content Calendar"]})]})]})]}),n.jsxs("div",{className:"group relative",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/10 to-success-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),n.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-success/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-success to-success-dark rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-success/10 text-success border border-success/20",children:"Client"})]})]}),n.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Client Portal"}),n.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"View project progress, submit feedback, create support tickets, and communicate directly with your team."}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Project Dashboard"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),n.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[n.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"File Sharing"]})]})]})]})]})]})]}),n.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary via-primary-dark to-primary relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("defs",{children:n.jsx("pattern",{id:"pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:n.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"white",opacity:"0.1"})})}),n.jsx("rect",{width:"100%",height:"100%",fill:"url(#pattern)"})]})}),n.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),n.jsx("div",{className:"container text-center relative z-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 border border-white/20 text-white text-sm font-medium mb-8 backdrop-blur-sm",children:[n.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Start Your Journey Today"]}),n.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-white leading-tight",children:["Ready to Transform Your",n.jsx("br",{}),n.jsx("span",{className:"text-accent",children:"Marketing Workflow?"})]}),n.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of teams already managing their websites and social media campaigns more efficiently with our comprehensive marketing management platform."}),n.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[n.jsxs(O,{to:t?"/dashboard":"/register",className:"group relative bg-white text-primary px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[240px] text-center whitespace-nowrap",children:[n.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),n.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),n.jsx(O,{to:"/login",className:"group border-2 border-white/30 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white/10 hover:border-white transition-all duration-300 transform hover:-translate-y-1 backdrop-blur-sm w-[240px] text-center whitespace-nowrap",children:n.jsxs("span",{className:"flex items-center justify-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),n.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})})]})]}),n.jsx(he,{})]})}let KA=0;const Lw=()=>{const[t,e]=S.useState([]);return{toasts:t,showToast:(s,i="info")=>{const a=String(KA++),o={id:a,message:s,type:i};e(c=>[...c,o]),setTimeout(()=>{e(c=>c.filter(d=>d.id!==a))},3e3)}}};function Vw({toasts:t}){return n.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>n.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function QA(){const t=ae(),e=Wn(),{toasts:r,showToast:s}=Lw(),{signIn:i,loading:a,isSignedIn:o}=se(),[c,d]=S.useState(""),[u,m]=S.useState(""),[g,p]=S.useState(!1),j=new URLSearchParams(e.search).get("portal")==="client";S.useEffect(()=>{o&&!a&&t("/dashboard")},[o,a,t]);const N=async k=>{if(k.preventDefault(),!c||!u){s("Please fill in all fields","error");return}p(!0);try{await i(c,u),s("Signing in...","success")}catch(y){let f="Failed to sign in. Please try again.";y.message&&(y.message.includes("auth/user-not-found")||y.message.includes("auth/wrong-password")?f="Invalid email or password":y.message.includes("auth/invalid-email")?f="Invalid email address":y.message.includes("auth/too-many-requests")?f="Too many failed attempts. Please try again later.":y.message.includes("auth/user-disabled")?f="This account has been disabled":f=y.message),s(f,"error")}finally{p(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:j?"Client Portal":"Sign In"}),n.jsx("p",{className:"text-muted-foreground",children:j?"Welcome Back - Access your project updates and files":"Access your Marketing Management Website account"})]}),n.jsxs("div",{className:"card",children:[!j&&n.jsxs("div",{className:"mb-6 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[n.jsx("p",{className:"text-sm font-semibold text-primary mb-2",children:"Test Accounts:"}),n.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Administrator:"})," admin@system.com / admin123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Web Developer:"})," dev@system.com / dev123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Web Developer:"})," jane.dev@system.com / dev123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Social Media Coordinator:"})," social@system.com / social123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]})]}),j&&n.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[n.jsx("p",{className:"text-sm font-semibold text-accent mb-2",children:"Client Portal Test Accounts:"}),n.jsxs("ul",{className:"text-xs text-accent/80 space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]}),n.jsx("p",{className:"text-xs text-accent/60 mt-2",children:"Don't have access? Contact support"})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:c,onChange:k=>d(k.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),n.jsx("input",{type:"password",value:u,onChange:k=>m(k.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"rounded"}),n.jsx("span",{className:"text-sm text-foreground",children:"Remember me"})]}),n.jsx(O,{to:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),n.jsx("button",{type:"submit",disabled:g||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:g||a?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"relative my-6",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),n.jsx("div",{className:"space-y-3",children:n.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[n.jsx("span",{children:""})," Continue with Google"]})}),n.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",n.jsx(O,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]}),j&&n.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:n.jsx(O,{to:"/",className:"text-primary font-semibold hover:underline",children:" Back to Main Site"})})]}),n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("span",{className:"text-lg",children:" Secure"}),n.jsx("span",{className:"text-lg",children:" Collaborative"}),n.jsx("span",{className:"text-lg",children:" Efficient"})]})]})]})}),n.jsx(Vw,{toasts:r}),n.jsx(he,{})]})}function YA(){const t=ae(),{toasts:e,showToast:r}=Lw(),{signUp:s,isSignedIn:i,loading:a}=se(),[o,c]=S.useState("client"),[d,u]=S.useState(""),[m,g]=S.useState(""),[p,j]=S.useState(""),[N,k]=S.useState(""),[y,f]=S.useState(""),[w,b]=S.useState(!1),[R,M]=S.useState(!1),[D,_]=S.useState(!1),[v,T]=S.useState(!1);S.useEffect(()=>{i&&!a&&t("/dashboard")},[i,a,t]);const P=async I=>{if(I.preventDefault(),!d||!m||!p||!N||!y){r("Please fill in all fields","error");return}if(N!==y){r("Passwords do not match","error");return}if(N.length<6){r("Password must be at least 6 characters","error");return}if(!w){r("Please agree to terms and conditions","error");return}T(!0);try{await s({email:m,password:N,fullName:d,phone:p,role:o}),r("Account created successfully!","success")}catch(A){r(A.message||"Failed to create account","error")}finally{T(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted py-12",children:n.jsxs("div",{className:"container max-w-2xl",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),n.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),n.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:n.jsxs("p",{className:"text-sm text-foreground",children:[n.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>c("client"),className:`p-6 rounded-lg border-2 transition text-center ${o==="client"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[n.jsx("div",{className:"text-4xl mb-2",children:""}),n.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),n.jsxs("button",{onClick:()=>c("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${o==="web_developer"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[n.jsx("div",{className:"text-4xl mb-2",children:""}),n.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),n.jsxs("button",{onClick:()=>c("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${o==="social_media_coordinator"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[n.jsx("div",{className:"text-4xl mb-2",children:""}),n.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),n.jsxs("form",{onSubmit:P,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:d,onChange:I=>u(I.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),n.jsx("input",{type:"email",value:m,onChange:I=>g(I.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:p,onChange:I=>j(I.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),n.jsx("input",{type:"password",value:N,onChange:I=>k(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),n.jsx("input",{type:"password",value:y,onChange:I=>f(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),n.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:n.jsxs("label",{className:"flex items-start gap-3",children:[n.jsx("input",{type:"checkbox",checked:w,onChange:I=>b(I.target.checked),className:"mt-1"}),n.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",n.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",n.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),n.jsx("button",{type:"submit",disabled:v||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Creating Account...":"Create Account"})]}),n.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",n.jsx(O,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),n.jsx(Vw,{toasts:e}),R&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),n.jsx("button",{onClick:()=>M(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),n.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Provide accurate and complete information"}),n.jsx("li",{children:"Maintain the security of your account credentials"}),n.jsx("li",{children:"Accept responsibility for all activities under your account"}),n.jsx("li",{children:"Notify us immediately of any unauthorized use"}),n.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Perform assigned tasks professionally and on time"}),n.jsx("li",{children:"Maintain confidentiality of client information"}),n.jsx("li",{children:"Communicate effectively with team members"}),n.jsx("li",{children:"Provide accurate project updates and analytics"}),n.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),n.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Unauthorized access to other users' projects or data"}),n.jsx("li",{children:"Sharing confidential client information"}),n.jsx("li",{children:"Submitting false or misleading analytics data"}),n.jsx("li",{children:"Harassing other users or team members"}),n.jsx("li",{children:"Attempting to circumvent security measures"}),n.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),n.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),n.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Last Updated:"})," January 2025",n.jsx("br",{}),n.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),n.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:n.jsx("button",{onClick:()=>M(!1),className:"w-full btn-primary",children:"Close"})})]})}),D&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),n.jsx("button",{onClick:()=>_(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Personal information (name, email address, phone number)"}),n.jsx("li",{children:"Project files, documents, and assets"}),n.jsx("li",{children:"Website analytics and social media metrics"}),n.jsx("li",{children:"Ticket history and communications"}),n.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Manage and track website development projects"}),n.jsx("li",{children:"Facilitate team collaboration and communication"}),n.jsx("li",{children:"Store and track analytics data"}),n.jsx("li",{children:"Communicate with you about your projects and tickets"}),n.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),n.jsx("li",{children:"Improve our services and user experience"}),n.jsx("li",{children:"Comply with legal obligations"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),n.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[n.jsx("li",{children:"Payment processors to complete transactions"}),n.jsx("li",{children:"Service providers who assist in operating our platform"}),n.jsx("li",{children:"Law enforcement when required by law"}),n.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),n.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),n.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),n.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:"Access your personal information"}),n.jsx("li",{children:"Correct inaccurate information"}),n.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),n.jsx("li",{children:"Object to processing of your information"}),n.jsx("li",{children:"Withdraw consent at any time"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),n.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),n.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),n.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),n.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),n.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",n.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.jsx("strong",{children:"Last Updated:"})," January 2025",n.jsx("br",{}),n.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),n.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:n.jsx("button",{onClick:()=>_(!1),className:"w-full btn-primary",children:"Close"})})]})}),n.jsx(he,{})]})}function XA(){const{isSignedIn:t,user:e,loading:r}=se(),s=ae();return S.useEffect(()=>{if(!r){if(!t){s("/login");return}if(e)switch(e.role){case"admin":s("/admin/dashboard");break;case"web_developer":s("/developer/dashboard");break;case"social_media_coordinator":s("/coordinator/dashboard");break;case"client":s("/client-portal/dashboard");break;default:s("/")}}},[t,e,r,s]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function Ow(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function lr(t){const e=typeof t=="string"?new Date(t):t,s=new Date().getTime()-e.getTime(),i=Math.floor(s/6e4),a=Math.floor(s/36e5),o=Math.floor(s/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:o<30?`${o} day${o>1?"s":""} ago`:Ow(e)}function Fw(t){return t.charAt(0).toUpperCase()+t.slice(1)}function JA(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function ZA(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-primary/10 text-primary border-primary/20",social_media_coordinator:"bg-accent/10 text-accent border-accent/20",client:"bg-success/10 text-success border-success/20"}[t]}function On(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",launch:"Launch",maintenance:"Maintenance"}[t]}function Uw(t){return{planning:16.67,design:33.33,development:50,testing:66.67,launch:83.33,maintenance:100}[t]}function Bw(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function eP(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||Fw(t)}function tP(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function rP(t){return Fw(t)}function nP(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function ba(t){return new Intl.NumberFormat("en-ZA").format(t)}function sP(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function ft({title:t,value:e,icon:r,trend:s,className:i=""}){return n.jsx("div",{className:`bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8 shadow-sm hover:shadow-md transition-all duration-200 ${i}`,children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide mb-2",children:t}),n.jsx("p",{className:"text-3xl lg:text-4xl font-bold text-foreground leading-none",children:typeof e=="number"?ba(e):e}),s&&n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${s.isPositive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[s.isPositive?"":""," ",Math.abs(s.value),"%"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),r&&n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx("div",{className:"text-primary w-6 h-6",children:r})})]})})}function Ct({status:t,className:e=""}){return n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Bw(t)} ${e}`,children:eP(t)})}function Vi({priority:t,className:e=""}){const r={low:"",medium:"",high:"",critical:""}[t];return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${tP(t)} ${e}`,children:[n.jsx("span",{children:r}),rP(t)]})}function iP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState(10),[a,o]=S.useState(""),[c,d]=S.useState(1);if(S.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]),!t||!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=jt(),m=At(),g=pe(),p={totalProjects:u.length,activeProjects:u.filter(D=>D.status==="active").length,totalUsers:g.length,openTickets:m.filter(D=>D.status==="open"||D.status==="in_progress").length},j=u.slice(0,5),N=m.slice(0,5),k=S.useMemo(()=>u.filter(D=>D.name.toLowerCase().includes(a.toLowerCase())||D.description.toLowerCase().includes(a.toLowerCase())||D.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),y=Math.ceil(k.length/s),f=(c-1)*s,w=f+s,b=k.slice(f,w);S.useEffect(()=>{d(1)},[a]),S.useEffect(()=>{c>y&&y>0&&d(y)},[s,y,c]);const R=D=>m.filter(_=>_.projectId===D).length,M=D=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const v=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(T=>T.id!==D);localStorage.setItem("marketing_management_website_projects",JSON.stringify(v)),window.location.reload()}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ft,{title:"Total Projects",value:p.totalProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),n.jsx(ft,{title:"Active Projects",value:p.activeProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsx(ft,{title:"Total Users",value:p.totalUsers,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),n.jsx(ft,{title:"Open Tickets",value:p.openTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"flex gap-4 flex-wrap",children:[n.jsx(O,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"}),n.jsx(O,{to:"/admin/projects",className:"btn-outline",children:"Manage Projects"}),n.jsx(O,{to:"/admin/users",className:"btn-outline",children:"Manage Users"})]})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",k.length,")"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),n.jsxs("select",{value:s,onChange:D=>i(Number(D.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),n.jsx("input",{type:"text",value:a,onChange:D=>o(D.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:b.map((D,_)=>{const v=g.find(I=>I.id===D.clientId),T=g.find(I=>I.id===D.webDeveloperId);g.find(I=>I.id===D.socialMediaCoordinatorId);const P=R(D.id);return n.jsxs("tr",{className:`${_%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:f+_+1}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground",children:D.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:D.description})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(Ct,{status:D.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:On(D.currentStage)})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm",children:v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-foreground",children:v.fullName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:v.email})]}):n.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm",children:T?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-foreground",children:T.fullName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:T.email})]}):n.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:P}),n.jsx(O,{to:`/admin/tickets?project=${D.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs(O,{to:`/admin/analytics/${D.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O,{to:`/admin/projects/${D.id}/edit`,className:"text-xs text-primary hover:underline",children:"Edit"}),n.jsx("button",{onClick:()=>M(D.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})})]},D.id)})},`${s}-${c}`)]},`${s}-${c}`)}),y>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",f+1,"-",Math.min(w,k.length)," of ",k.length," projects"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>d(D=>Math.max(1,D-1)),disabled:c===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,y)},(D,_)=>{const v=Math.max(1,Math.min(y-4,c-2))+_;return v>y?null:n.jsx("button",{onClick:()=>d(v),className:`px-3 py-1 text-sm border rounded ${v===c?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:v},v)})}),n.jsx("button",{onClick:()=>d(D=>Math.min(y,D+1)),disabled:c===y,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),n.jsx(O,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),n.jsx("div",{className:"space-y-4",children:j.map(D=>{const _=g.find(v=>v.id===D.clientId);return n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:D.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_==null?void 0:_.fullName})]}),n.jsx(Ct,{status:D.status})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",n.jsx("span",{className:"text-foreground",children:On(D.currentStage)})]}),n.jsx("span",{className:"text-muted-foreground",children:lr(D.updatedAt)})]})]},D.id)})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),n.jsx(O,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),n.jsx("div",{className:"space-y-4",children:N.map(D=>{const _=u.find(v=>v.id===D.projectId);return n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:D.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_==null?void 0:_.name})]}),n.jsx(Vi,{priority:D.priority})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ct,{status:D.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:lr(D.createdAt)})]})]},D.id)})})]})]})]})}),n.jsx(he,{})]})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zw=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:a,iconNode:o,...c},d)=>S.createElement("svg",{ref:d,...oP,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:zw("lucide",i),...c},[...o.map(([u,m])=>S.createElement(u,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=(t,e)=>{const r=S.forwardRef(({className:s,...i},a)=>S.createElement(lP,{ref:a,iconNode:e,className:zw(`lucide-${aP(t)}`,s),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=fd("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=fd("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=fd("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=fd("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function mP({role:t,className:e=""}){const r=t==="admin";return n.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2 shadow-sm ${r?"bg-gradient-to-r from-primary to-primary-dark text-white border-primary/80 shadow-primary/20":ZA(t)} ${e}`,children:[r&&n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),JA(t),r&&n.jsx("svg",{className:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}function fP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState([]);S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),S.useEffect(()=>{i(pe())},[]);const a=d=>{r("/admin/users/"+d+"/edit")},o=d=>{hk(d),i(pe())},c=d=>{if(e){if(d===e.id){alert("You cannot delete your own account.");return}window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(vk(d)?i(pe()):alert("Failed to delete user."))}};return!e||e.role!=="admin"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),n.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),n.jsx(O,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",s.length,")"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",n.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[n.jsx("option",{value:"10",children:"10"}),n.jsx("option",{value:"25",children:"25"}),n.jsx("option",{value:"50",children:"50"}),n.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),n.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),n.jsx(O,{to:"/admin/users/new",className:"btn-primary",children:"+ New User"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Name"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Role"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Joined"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:s.map((d,u)=>n.jsxs("tr",{className:`${u%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{children:n.jsx("div",{className:"font-semibold text-foreground",children:d.fullName})})}),n.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:d.email}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(mP,{role:d.role})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${d.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:d.isActive?"Active":"Inactive"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:d.phone}),n.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:lr(d.createdAt)}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>a(d.id),title:"Edit",children:n.jsx(cP,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>o(d.id),title:d.isActive?"Deactivate":"Activate",children:d.isActive?n.jsx(hP,{className:"h-4 w-4"}):n.jsx(uP,{className:"h-4 w-4"})}),d.role!=="admin"&&n.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>c(d.id),title:"Delete",children:n.jsx(dP,{className:"h-4 w-4"})})]})})]},d.id))})]})})]})]})}),n.jsx(he,{})]})}function pP(){const{isSignedIn:t,user:e,updateCurrentUser:r}=se(),s=ae(),a=jo().id,[o,c]=S.useState(!1),[d,u]=S.useState(!0),[m,g]=S.useState(""),[p,j]=S.useState(null),[N,k]=S.useState({fullName:"",email:"",phone:"",role:"client",isActive:!0,changePassword:!1,newPassword:"",confirmPassword:""});if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&s("/dashboard"):s("/login")},[t,e,s]),S.useEffect(()=>{if(a){const f=_h(a);f?(j(f),k({fullName:f.fullName,email:f.email,phone:f.phone,role:f.role,isActive:f.isActive,changePassword:!1,newPassword:"",confirmPassword:""}),u(!1)):s("/admin/users")}},[a,s]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(d||!p)return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),n.jsx(he,{})]});const y=async f=>{if(f.preventDefault(),g(""),!N.fullName||!N.email||!N.phone){g("Please fill in all required fields");return}if(N.changePassword){if(!N.newPassword||!N.confirmPassword){g("Please enter and confirm the new password");return}if(N.newPassword!==N.confirmPassword){g("Passwords do not match");return}if(N.newPassword.length<6){g("Password must be at least 6 characters long");return}}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)){g("Please enter a valid email address");return}c(!0);try{uk(a,{email:N.email,fullName:N.fullName,phone:N.phone,role:N.role,isActive:N.isActive,...N.changePassword&&{password:N.newPassword}}),e&&a===e.id&&r({fullName:N.fullName,email:N.email,phone:N.phone,role:N.role}),s("/admin/users")}catch{g("Failed to update user. Please try again."),c(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(O,{to:"/admin/users",className:"text-primary hover:text-primary/80 transition",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),n.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Edit User"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Update user information and role assignment"})]}),n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("form",{onSubmit:y,className:"card",children:[m&&n.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:m}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:["Full Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",id:"fullName",value:N.fullName,onChange:f=>k({...N,fullName:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter full name",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:["Email Address ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",id:"email",value:N.email,onChange:f=>k({...N,email:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"user@example.com",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:["Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"tel",id:"phone",value:N.phone,onChange:f=>k({...N,phone:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"+27821234567",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:["User Role ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{id:"role",value:N.role,onChange:f=>k({...N,role:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",required:!0,disabled:p.id===e.id,children:[n.jsx("option",{value:"client",children:"Client - Can view projects and create tickets"}),n.jsx("option",{value:"web_developer",children:"Web Developer - Can manage projects and tickets"}),n.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator - Can manage social media and analytics"}),n.jsx("option",{value:"admin",children:"Admin - Full system access"})]}),p.id===e.id&&n.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot change your own role"}),p.id!==e.id&&n.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select the appropriate role based on user responsibilities"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-3",children:[n.jsx("input",{type:"checkbox",checked:N.isActive,onChange:f=>k({...N,isActive:f.target.checked}),className:"w-5 h-5 border border-border rounded",disabled:p.id===e.id}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Active User (can sign in to the system)"})]}),p.id===e.id&&n.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot deactivate your own account"})]}),n.jsxs("div",{className:"pt-6 border-t border-border",children:[n.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[n.jsx("input",{type:"checkbox",checked:N.changePassword,onChange:f=>k({...N,changePassword:f.target.checked}),className:"w-5 h-5 border border-border rounded"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Change Password"})]}),N.changePassword&&n.jsxs("div",{className:"space-y-4 ml-8",children:[n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:["New Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",id:"newPassword",value:N.newPassword,onChange:f=>k({...N,newPassword:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter new password (min. 6 characters)",minLength:6})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:["Confirm New Password ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"password",id:"confirmPassword",value:N.confirmPassword,onChange:f=>k({...N,confirmPassword:f.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Re-enter new password",minLength:6})]})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-border",children:[n.jsx(O,{to:"/admin/users",className:"btn-outline",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Updating User...":"Update User"})]})]})})]})}),n.jsx(he,{})]})}function gP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState(10),[a,o]=S.useState(""),[c,d]=S.useState(1);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=jt(),m=pe(),g=At(),p=S.useMemo(()=>u.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),j=Math.ceil(p.length/s),N=(c-1)*s,k=N+s,y=p.slice(N,k);S.useEffect(()=>{d(1)},[a]);const f=b=>g.filter(R=>R.projectId===b).length,w=b=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const M=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(D=>D.id!==b);localStorage.setItem("marketing_management_website_projects",JSON.stringify(M)),window.location.reload()}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),n.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(O,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),n.jsx(O,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",p.length,")"]})}),n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),n.jsxs("select",{value:s,onChange:b=>i(Number(b.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),n.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:y.map((b,R)=>{const M=m.find(v=>v.id===b.clientId),D=m.find(v=>v.id===b.webDeveloperId);m.find(v=>v.id===b.socialMediaCoordinatorId);const _=f(b.id);return n.jsxs("tr",{className:`${R%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:N+R+1}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground",children:b.name}),n.jsx("div",{className:"text-xs text-muted-foreground",children:b.description})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(Ct,{status:b.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:On(b.currentStage)})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm",children:M?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-foreground",children:M.fullName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:M.email})]}):n.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm",children:D?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"font-medium text-foreground",children:D.fullName}),n.jsx("div",{className:"text-xs text-muted-foreground",children:D.email})]}):n.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:_}),n.jsx(O,{to:`/admin/tickets?project=${b.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs(O,{to:`/admin/analytics/${b.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O,{to:`/admin/projects/${b.id}/edit`,className:"text-xs text-primary hover:underline",children:"Edit"}),n.jsx("button",{onClick:()=>w(b.id),className:"text-xs text-red-600 hover:underline",children:"Delete"})]})})]},b.id)})})]})}),j>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",N+1,"-",Math.min(k,p.length)," of ",p.length," projects"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>d(b=>Math.max(1,b-1)),disabled:c===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,j)},(b,R)=>{const M=Math.max(1,Math.min(j-4,c-2))+R;return M>j?null:n.jsx("button",{onClick:()=>d(M),className:`px-3 py-1 text-sm border rounded ${M===c?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:M},M)})}),n.jsx("button",{onClick:()=>d(b=>Math.min(j,b+1)),disabled:c===j,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),n.jsx(he,{})]})}function xP(){var P;const{isSignedIn:t,user:e}=se(),r=ae(),[s]=ik(),[i,a]=S.useState(10),[o,c]=S.useState(""),[d,u]=S.useState("all"),[m,g]=S.useState("all"),[p,j]=S.useState(1),[N,k]=S.useState(0);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const y=At(),f=jt(),w=pe();S.useEffect(()=>{},[N]);const b=s.get("project");let R=y;b&&(R=y.filter(I=>I.projectId===b)),R=R.filter(I=>{const A=!o||I.title.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase())||I.id.toLowerCase().includes(o.toLowerCase()),C=d==="all"||I.status===d,Q=m==="all"||I.priority===m;return A&&C&&Q});const M=Math.ceil(R.length/i),D=(p-1)*i,_=D+i,v=R.slice(D,_);S.useEffect(()=>{j(1)},[o,d,m]);const T=(I,A)=>{Nh(I,{assignedTo:A||void 0}),k(C=>C+1)};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:b?`Tickets for ${((P=f.find(I=>I.id===b))==null?void 0:P.name)||"Project"}`:"All Tickets"}),n.jsx("p",{className:"text-muted-foreground",children:b?"View all tickets for this project":"View and manage all tickets in the system"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(O,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),b&&n.jsx(O,{to:`/admin/projects/${b}`,className:"btn-outline",children:"View Project"})]})]})}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Tickets (",R.length,")"]})}),n.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),n.jsxs("select",{value:d,onChange:I=>u(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority:"}),n.jsxs("select",{value:m,onChange:I=>g(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"critical",children:"Critical"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),n.jsxs("select",{value:i,onChange:I=>a(Number(I.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),n.jsx("input",{type:"text",value:o,onChange:I=>c(I.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search tickets..."})]})]}),(d!=="all"||m!=="all"||o)&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),d!=="all"&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Status: ",d.replace("_"," "),n.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),m!=="all"&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Priority: ",m,n.jsx("button",{onClick:()=>g("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),o&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:['Search: "',o,'"',n.jsx("button",{onClick:()=>c(""),className:"ml-1 hover:text-primary-dark",children:""})]}),n.jsx("button",{onClick:()=>{u("all"),g("all"),c("")},className:"text-primary hover:text-primary-dark text-xs underline",children:"Clear all"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Title"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Priority"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Assigned To"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Created"})]})}),n.jsxs("tbody",{children:[v.map((I,A)=>{const C=f.find(Q=>Q.id===I.projectId);return n.jsxs("tr",{className:`${A%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:D+A+1}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground",children:I.title}),n.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("div",{className:"text-sm",children:C?n.jsx("div",{className:"font-medium text-foreground",children:C.name}):n.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Unknown Project"})})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(Vi,{priority:I.priority})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(Ct,{status:I.status})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:I.type.replace("_"," ")})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("select",{value:I.assignedTo||"",onChange:Q=>T(I.id,Q.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground min-w-[120px]",children:[n.jsx("option",{value:"",children:"Not assigned"}),w.filter(Q=>Q.role==="web_developer"||Q.role==="social_media_coordinator").map(Q=>n.jsx("option",{value:Q.id,children:Q.fullName},Q.id))]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm text-muted-foreground",children:lr(I.createdAt)})})]},I.id)}),!v.length&&n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})]})]})}),M>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",D+1,"-",Math.min(_,R.length)," of ",R.length," tickets"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>j(I=>Math.max(1,I-1)),disabled:p===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,M)},(I,A)=>{const C=Math.max(1,Math.min(M-4,p-2))+A;return C>M?null:n.jsx("button",{onClick:()=>j(C),className:`px-3 py-1 text-sm border rounded ${C===p?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:C},C)})}),n.jsx("button",{onClick:()=>j(I=>Math.min(M,I+1)),disabled:p===M,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),n.jsx(he,{})]})}function yP(){const{isSignedIn:t,user:e}=se(),r=ae(),i=jo().id,[a,o]=S.useState(null),[c,d]=S.useState([]),[u,m]=S.useState({name:"",description:"",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",notes:""});S.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const y=No(i);if(!y){r("/admin/dashboard");return}o(y),m({name:y.name,description:y.description,websiteUrl:y.websiteUrl||"",googleAnalyticsPropertyId:y.googleAnalyticsPropertyId||"",googleAnalyticsViewId:y.googleAnalyticsViewId||"",clientId:y.clientId,webDeveloperId:y.webDeveloperId||"",socialMediaCoordinatorId:y.socialMediaCoordinatorId||"",currentStage:y.currentStage,status:y.status,notes:y.notes||""});const f=pe();d(f)},[t,e,i,r]);const g=y=>{y.preventDefault();const f=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]"),w=f.findIndex(b=>b.id===i);w!==-1&&(f[w]={...f[w],...u,webDeveloperId:u.webDeveloperId||void 0,socialMediaCoordinatorId:u.socialMediaCoordinatorId||void 0,updatedAt:new Date},localStorage.setItem("marketing_management_website_projects",JSON.stringify(f)),alert("Project updated successfully!"),r("/admin/dashboard"))},p=y=>{const{name:f,value:w}=y.target;m(b=>({...b,[f]:w}))};if(!a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const j=c.filter(y=>y.role==="client"),N=c.filter(y=>y.role==="web_developer"),k=c.filter(y=>y.role==="social_media_coordinator");return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsx("div",{className:"container py-12",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Edit Project"}),n.jsx("p",{className:"text-muted-foreground",children:"Update project details and assignments"})]}),n.jsx("form",{onSubmit:g,className:"card",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Basic Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"name",value:u.name,onChange:p,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"description",value:u.description,onChange:p,required:!0,rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),n.jsx("input",{type:"url",name:"websiteUrl",value:u.websiteUrl,onChange:p,placeholder:"https://example.com",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-border",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team Assignment"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Client ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"clientId",value:u.clientId,onChange:p,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select a client"}),j.map(y=>n.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),n.jsxs("select",{name:"webDeveloperId",value:u.webDeveloperId,onChange:p,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Not assigned"}),N.map(y=>n.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Developer will see this project in their dashboard and can work on tickets"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Social Media Coordinator"}),n.jsxs("select",{name:"socialMediaCoordinatorId",value:u.socialMediaCoordinatorId,onChange:p,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Not assigned"}),k.map(y=>n.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-border",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Current Stage ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"currentStage",value:u.currentStage,onChange:p,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[n.jsx("option",{value:"planning",children:"Planning"}),n.jsx("option",{value:"design",children:"Design"}),n.jsx("option",{value:"development",children:"Development"}),n.jsx("option",{value:"testing",children:"Testing"}),n.jsx("option",{value:"launch",children:"Launch"}),n.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Status ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{name:"status",value:u.status,onChange:p,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-border",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"GA4 Property ID"}),n.jsx("input",{type:"text",name:"googleAnalyticsPropertyId",value:u.googleAnalyticsPropertyId,onChange:p,placeholder:"G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"View ID (Legacy)"}),n.jsx("input",{type:"text",name:"googleAnalyticsViewId",value:u.googleAnalyticsViewId,onChange:p,placeholder:"123456789",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),n.jsxs("div",{className:"pt-6 border-t border-border",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),n.jsx("textarea",{name:"notes",value:u.notes,onChange:p,rows:4,placeholder:"Add any additional notes about this project...",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),n.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-border",children:[n.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:"Save Changes"}),n.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition",children:"Cancel"})]})]})})]})})}),n.jsx(he,{})]})}function vP(){const{isSignedIn:t,user:e}=se(),r=ae(),i=jo().id,[a,o]=S.useState(null);if(S.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const d=No(i);if(!d){r("/admin/dashboard");return}o(d)},[t,e,i,r]),!a)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const c={pageViews:12543,uniqueVisitors:8921,bounceRate:42.3,avgSessionDuration:"3:24",topPages:[{page:"/",views:4521},{page:"/about",views:3214},{page:"/services",views:2890},{page:"/contact",views:1988}],trafficSources:[{source:"Organic Search",sessions:5234,percentage:45.2},{source:"Direct",sessions:3121,percentage:27},{source:"Social Media",sessions:1890,percentage:16.3},{source:"Referral",sessions:1456,percentage:12.6}]};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),n.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics for ",a.name]}),n.jsx("p",{className:"text-muted-foreground",children:"Google Analytics data and insights"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(O,{to:`/admin/projects/${i}`,className:"btn-outline",children:"View Project"}),n.jsx(O,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"})]})]})}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics Configuration"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),n.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsPropertyId||"Not configured"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID (Legacy)"}),n.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsViewId||"Not configured"})]})]}),a.websiteUrl&&n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),n.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.websiteUrl})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:c.pageViews.toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Page Views"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:c.uniqueVisitors.toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[c.bounceRate,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce Rate"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:c.avgSessionDuration}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration"})]})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Top Pages"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[n.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Page"}),n.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Page Views"})]})}),n.jsx("tbody",{children:c.topPages.map((d,u)=>n.jsxs("tr",{className:u%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:d.page}),n.jsx("td",{className:"px-4 py-3",children:d.views.toLocaleString()})]},u))})]})})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Traffic Sources"}),n.jsx("div",{className:"space-y-4",children:c.trafficSources.map((d,u)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-foreground",children:d.source}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.sessions.toLocaleString()," sessions"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-lg font-bold text-primary",children:[d.percentage,"%"]})})]},u))})]})]})}),n.jsx(he,{})]})}function bP(){const{user:t}=se(),[e,r]=S.useState(()=>localStorage.getItem("useMockAuth")!=="false"),s=()=>{const i=!e;r(i),localStorage.setItem("useMockAuth",i.toString()),alert(`Authentication mode changed to ${i?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12 max-w-4xl",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),n.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),n.jsx(O,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Current Authentication Status"}),n.jsxs("p",{className:"text-primary/80 mb-4",children:[n.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",n.jsx("br",{}),n.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("button",{onClick:s,className:"btn-primary",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),n.jsx("span",{className:"text-sm text-primary",children:" Requires page refresh to take effect"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[n.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),n.jsx("li",{children:"Data persists in browser localStorage"}),n.jsx("li",{children:"No Firebase setup required"}),n.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[n.jsx("li",{children:"Works offline"}),n.jsx("li",{children:"Fast development setup"}),n.jsx("li",{children:"No external dependencies"}),n.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),n.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),n.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[n.jsxs("li",{children:["Create a Firebase project at ",n.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),n.jsx("li",{children:"Enable Authentication and Firestore Database"}),n.jsxs("li",{children:["Copy your Firebase config to ",n.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),n.jsxs("li",{children:["In ",n.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",n.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),n.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),n.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),n.jsxs("div",{className:"bg-secondary/10 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-primary mb-2",children:" Switching to Firebase:"}),n.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",n.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),n.jsx("p",{className:"text-sm text-primary/80",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[n.jsx("li",{children:"Secure user authentication"}),n.jsx("li",{children:"Real-time data synchronization"}),n.jsx("li",{children:"Scalable database solution"}),n.jsx("li",{children:"User management dashboard"})]})]})]})]}),n.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[n.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),n.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),n.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),n.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),n.jsxs("div",{className:"flex gap-4 flex-wrap",children:[n.jsx(O,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),n.jsx(O,{to:"/login",className:"btn-outline",children:"Test Login"}),n.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),n.jsx(he,{})]})}function jP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[a,o]=S.useState(!1);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const c=async d=>{d.preventDefault(),o(!0);try{const u={id:`user-${Date.now()}`,...s,createdAt:new Date,updatedAt:new Date};fk(u),alert(`User "${s.fullName}" created successfully!`),r("/admin/users")}catch(u){console.error("Error creating user:",u),alert("Failed to create user. Please try again.")}finally{o(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12 max-w-2xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),n.jsxs(O,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),n.jsxs("form",{onSubmit:c,className:"card space-y-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",id:"fullName",required:!0,value:s.fullName,onChange:d=>i({...s,fullName:d.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",id:"email",required:!0,value:s.email,onChange:d=>i({...s,email:d.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",id:"phone",required:!0,value:s.phone,onChange:d=>i({...s,phone:d.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),n.jsxs("select",{id:"role",required:!0,value:s.role,onChange:d=>i({...s,role:d.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"client",children:"Client"}),n.jsx("option",{value:"web_developer",children:"Web Developer"}),n.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),n.jsx("input",{type:"password",id:"password",required:!0,value:s.password,onChange:d=>i({...s,password:d.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:d=>i({...s,isActive:d.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create User"}),n.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"btn-outline flex-1",disabled:a,children:"Cancel"})]})]})]})}),n.jsx(he,{})]})}function wP(){const{isSignedIn:t,user:e}=se(),r=ae();if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="web_developer")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=kr(e.id,e.role),i=_o(e.id,e.role),a={assignedProjects:s.length,openTickets:i.filter(d=>d.status==="open").length,inProgressTickets:i.filter(d=>d.status==="in_progress").length,resolvedTickets:i.filter(d=>d.status==="resolved").length},o=s.slice(0,3),c=i.slice(0,5);return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ft,{title:"Assigned Projects",value:a.assignedProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),n.jsx(ft,{title:"Open Tickets",value:a.openTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx(ft,{title:"In Progress",value:a.inProgressTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx(ft,{title:"Resolved",value:a.resolvedTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsx("div",{className:"flex gap-4 flex-wrap",children:n.jsx(O,{to:"/developer/tickets",className:"btn-primary",children:"View Tickets"})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"})}),o.length>0?n.jsx("div",{className:"space-y-4",children:o.map(d=>n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:d.name}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:d.description})]}),n.jsx(Ct,{status:d.status})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary/10 text-primary text-xs font-medium",children:On(d.currentStage)}),n.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",lr(d.updatedAt)]})]})]},d.id))}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No projects assigned yet."})})]}),n.jsxs("div",{className:"card",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"})}),c.length>0?n.jsx("div",{className:"space-y-4",children:c.map(d=>n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:d.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:nP(d.type)})]}),n.jsx(Vi,{priority:d.priority})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[n.jsx(Ct,{status:d.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:lr(d.createdAt)})]})]},d.id))}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),n.jsx(he,{})]})}function NP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState("all"),[a,o]=S.useState(""),[c,d]=S.useState([]),[u,m]=S.useState(0);S.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]);const g=()=>{if(e){const f=_o(e.id,e.role);d(f)}};if(S.useEffect(()=>{g()},[e,u]),!e||e.role!=="web_developer")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const p=c,j=p.filter(f=>s==="all"||f.status===s).filter(f=>!a||f.title.toLowerCase().includes(a.toLowerCase())||f.description.toLowerCase().includes(a.toLowerCase())||f.id.toLowerCase().includes(a.toLowerCase())),N=(f,w)=>{Nh(f,{status:w}),m(b=>b+1)},k={totalAssigned:p.length,critical:p.filter(f=>f.priority==="critical"&&f.status!=="resolved"&&f.status!=="closed").length,overSevenDays:p.filter(f=>Math.floor((new Date().getTime()-new Date(f.createdAt).getTime())/864e5)>7&&f.status!=="resolved"&&f.status!=="closed").length},y=f=>Math.floor((new Date().getTime()-new Date(f).getTime())/(1e3*60*60*24));return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),n.jsx(O,{to:"/developer/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),n.jsx("div",{className:"text-4xl font-bold text-gray-900",children:k.totalAssigned})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[n.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),n.jsx("div",{className:"text-4xl font-bold text-red-600",children:k.critical})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),n.jsx("div",{className:"text-4xl font-bold text-primary",children:k.overSevenDays})]})]}),n.jsx("div",{className:"card mb-6",children:n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex gap-4 flex-wrap items-center justify-between",children:[n.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${s==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),n.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${s==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),n.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${s==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),n.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${s==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),n.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search your tickets..."})]})]})}),n.jsx("div",{className:"card overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-navy-900",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.length>0?j.map(f=>{const w=No(f.projectId),b=y(f.createdAt);return n.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx(O,{to:`/projects/${f.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(w==null?void 0:w.name)||"Unknown Project"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.title})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("select",{value:f.status,onChange:R=>N(f.id,R.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),f.status==="resolved"&&n.jsx("textarea",{placeholder:f.resolutionNotes||"Add resolution notes...",defaultValue:f.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:R=>{const M=R.target.value.trim();M&&M!==f.resolutionNotes&&(Nh(f.id,{resolutionNotes:M}),m(D=>D+1))}})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.priority==="critical"&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),f.priority==="high"&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),f.priority==="medium"&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),f.priority==="low"&&n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900 font-medium",children:b})})]},f.id)}):n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),n.jsx(he,{})]})}function _P(){const{isSignedIn:t,user:e}=se(),r=ae();if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="social_media_coordinator")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=kr(e.id,e.role),i=Qm(),a=s.map(j=>j.id),o=i.filter(j=>a.includes(j.projectId)),c=o.reduce((j,N)=>j+N.reach,0),d=o.reduce((j,N)=>j+N.engagement,0),u=o.reduce((j,N)=>j+N.posts,0),m={assignedProjects:s.length,totalReach:c,totalEngagement:d,totalPosts:u},g=s.slice(0,3),p=o.slice(0,5);return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ft,{title:"Assigned Projects",value:m.assignedProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),n.jsx(ft,{title:"Total Reach",value:ba(m.totalReach),icon:n.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),n.jsx(ft,{title:"Total Engagement",value:ba(m.totalEngagement),icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),n.jsx(ft,{title:"Total Posts",value:m.totalPosts,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsx("div",{className:"flex gap-4 flex-wrap",children:n.jsx(O,{to:"/coordinator/analytics/new",className:"btn-outline",children:"+ Add Analytics Entry"})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),n.jsx(O,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),g.length>0?n.jsx("div",{className:"space-y-4",children:g.map(j=>n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:j.name}),j.projectType==="social_media"&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),j.projectType==="website"&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:"Website"})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:j.description})]}),n.jsx(Ct,{status:j.status})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:On(j.currentStage)}),j.projectType==="social_media"&&j.socialMediaPlatforms&&n.jsxs("div",{className:"flex gap-1",children:[j.socialMediaPlatforms.slice(0,3).map(N=>n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:N},N)),j.socialMediaPlatforms.length>3&&n.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",j.socialMediaPlatforms.length-3]})]})]})]},j.id))}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No projects assigned yet."})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),n.jsx(O,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),p.length>0?n.jsx("div",{className:"space-y-4",children:p.map(j=>{const N=s.find(k=>k.id===j.projectId);return n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground capitalize",children:j.platform}),n.jsx("p",{className:"text-sm text-muted-foreground",children:N==null?void 0:N.name})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:Ow(j.date)})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[n.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),n.jsx("p",{className:"font-semibold text-foreground",children:ba(j.reach)})]}),n.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),n.jsx("p",{className:"font-semibold text-foreground",children:ba(j.engagement)})]}),n.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),n.jsx("p",{className:"font-semibold text-foreground",children:j.posts})]})]})]},j.id)})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No analytics entries yet."}),n.jsx(O,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),n.jsx(he,{})]})}function Ac({fullName:t,profileImage:e,size:r="md",className:s=""}){const i={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return n.jsx("div",{className:`${i[r]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${s}`,title:t,children:e?n.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):sP(t)})}function kP(){const{isSignedIn:t,user:e}=se(),r=ae();if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=kr(e.id,e.role),i=_o(e.id,e.role),a=pe(),o={myProjects:s.length,activeTickets:i.filter(u=>u.status==="open"||u.status==="in_progress").length,resolvedTickets:i.filter(u=>u.status==="resolved").length,inProgressProjects:s.filter(u=>u.status==="active").length},c=s.slice(0,3),d=i.slice(0,5);return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),n.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ft,{title:"My Projects",value:o.myProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),n.jsx(ft,{title:"In Progress",value:o.inProgressProjects,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx(ft,{title:"Active Tickets",value:o.activeTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),n.jsx(ft,{title:"Resolved",value:o.resolvedTickets,icon:n.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"flex gap-4 flex-wrap",children:[n.jsx(O,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),n.jsx(O,{to:"/client/projects",className:"btn-outline",children:"View All Projects"}),n.jsx(O,{to:"/client/tickets",className:"btn-outline",children:"View All Tickets"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),n.jsx(O,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),c.length>0?n.jsx("div",{className:"space-y-4",children:c.map(u=>{const m=a.find(j=>j.id===u.webDeveloperId),g=a.find(j=>j.id===u.socialMediaCoordinatorId),p=Uw(u.currentStage);return n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:u.name}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:u.description})]}),n.jsx(Ct,{status:u.status})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium text-foreground",children:[p.toFixed(0),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${p}%`}})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:On(u.currentStage)}),n.jsxs("div",{className:"flex items-center gap-1",children:[m&&n.jsx(Ac,{fullName:m.fullName,size:"sm"}),g&&n.jsx(Ac,{fullName:g.fullName,size:"sm"})]})]})]},u.id)})}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n.jsx("p",{children:"No projects yet."})})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),n.jsx(O,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),d.length>0?n.jsx("div",{className:"space-y-4",children:d.map(u=>{const m=a.find(g=>g.id===u.assignedTo);return n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:u.title}),m&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",m.fullName]})]}),n.jsx(Vi,{priority:u.priority})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[n.jsx(Ct,{status:u.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:lr(u.createdAt)})]})]},u.id)})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx("p",{children:"No tickets yet."}),n.jsx(O,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),n.jsx(he,{})]})}function EP(){const{isSignedIn:t,user:e}=se(),r=ae();if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=kr(e.id,e.role),i=pe();return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),n.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),n.jsx(O,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.length>0?s.map(a=>{const o=i.find(u=>u.id===a.webDeveloperId),c=i.find(u=>u.id===a.socialMediaCoordinatorId),d=Uw(a.currentStage);return n.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.name}),n.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description})]}),n.jsx(Ct,{status:a.status})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Progress"}),n.jsxs("span",{className:"font-medium text-foreground",children:[d.toFixed(0),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${d}%`}})})]}),n.jsx("div",{className:"mb-4",children:n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary",children:On(a.currentStage)})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),n.jsxs("div",{className:"flex items-center gap-2",children:[o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ac,{fullName:o.fullName,size:"sm"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),c&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ac,{fullName:c.fullName,size:"sm"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(O,{to:`/client/tickets/new?project=${a.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),n.jsx("button",{className:"btn-outline flex-1",children:"View Details"})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",lr(a.updatedAt)]})})]},a.id)}):n.jsx("div",{className:"col-span-full text-center py-12",children:n.jsxs("div",{className:"text-muted-foreground",children:[n.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),n.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),n.jsx(he,{})]})}function TP(){const{isSignedIn:t,user:e}=se(),r=ae();if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const s=_o(e.id,e.role),i=jt(),a=pe();return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),n.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(O,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"}),n.jsx(O,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"})]})]})}),n.jsx("div",{className:"space-y-4",children:s.length>0?s.map(o=>{const c=i.find(u=>u.id===o.projectId),d=a.find(u=>u.id===o.assignedTo);return n.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:o.title}),n.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:o.description}),c&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",n.jsx("span",{className:"font-medium",children:c.name})]})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Ct,{status:o.status}),n.jsx(Vi,{priority:o.priority})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Type: ",o.type.replace("_"," ")]}),d&&n.jsxs("span",{children:["Assigned to: ",d.fullName]}),n.jsx("span",{children:lr(o.createdAt)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),n.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},o.id)}):n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"text-muted-foreground",children:[n.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),n.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),n.jsx(O,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),n.jsx(he,{})]})}function SP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState(""),[a,o]=S.useState(""),[c,d]=S.useState("medium"),[u,m]=S.useState("feature_request"),[g,p]=S.useState(""),[j,N]=S.useState(!1);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login");const w=new URLSearchParams(window.location.search).get("project");w&&p(w)},[t,e,r]),!e||e.role!=="client")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const k=kr(e.id,e.role);pe();const y=async f=>{f.preventDefault(),N(!0);const w={id:`ticket-${Date.now()}`,projectId:g,createdBy:e.id,title:s,description:a,type:u,priority:c,status:"open",createdAt:new Date,updatedAt:new Date};mk(w),console.log("Creating new ticket:",w),i(""),o(""),d("medium"),m("feature_request"),p(""),N(!1),r("/client/dashboard")};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12 max-w-2xl",children:[n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),n.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),n.jsx(O,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),n.jsx("div",{className:"card",children:n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),n.jsxs("select",{value:g,onChange:f=>p(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[n.jsx("option",{value:"",children:"Choose a project..."}),k.map(f=>n.jsx("option",{value:f.id,children:f.name},f.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),n.jsxs("select",{value:u,onChange:f=>m(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"feature_request",children:"Feature Request"}),n.jsx("option",{value:"bug_report",children:"Bug Report"}),n.jsx("option",{value:"content_change",children:"Content Change"}),n.jsx("option",{value:"design_update",children:"Design Update"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),n.jsxs("select",{value:c,onChange:f=>d(f.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"critical",children:"Critical"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),n.jsx("textarea",{value:a,onChange:f=>o(f.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsx("button",{type:"submit",disabled:j||!g,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating...":"Create Ticket"}),n.jsx(O,{to:"/client/dashboard",className:"btn-outline",children:"Cancel"})]})]})}),n.jsxs("div",{className:"mt-8 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[n.jsx("h3",{className:"text-sm font-semibold text-primary mb-2",children:" Ticket Guidelines"}),n.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[n.jsx("li",{children:" Be specific about what you need"}),n.jsx("li",{children:" Include any relevant details or examples"}),n.jsx("li",{children:" Choose the appropriate priority level"}),n.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),n.jsx(he,{})]})}function IP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState(""),[a,o]=S.useState({tickets:[],projects:[],users:[],messages:[]}),[c,d]=S.useState(!1),[u,m]=S.useState({projects:!0,tickets:!0,users:!0,messages:!0});if(S.useEffect(()=>{t||r("/login")},[t,r]),S.useEffect(()=>{if(!s.trim()){o({tickets:[],projects:[],users:[],messages:[]});return}d(!0);const p=s.toLowerCase(),j=u.tickets?At().filter(f=>f.title.toLowerCase().includes(p)||f.description.toLowerCase().includes(p)||f.id.toLowerCase().includes(p)||f.type.replace("_"," ").toLowerCase().includes(p)):[],N=u.projects?jt().filter(f=>f.name.toLowerCase().includes(p)||f.description.toLowerCase().includes(p)||f.id.toLowerCase().includes(p)):[],k=u.users?pe().filter(f=>f.fullName.toLowerCase().includes(p)||f.email.toLowerCase().includes(p)||f.role.toLowerCase().includes(p)):[],y=u.messages?wo().filter(f=>f.subject&&f.subject.toLowerCase().includes(p)||f.content&&f.content.toLowerCase().includes(p)):[];o({tickets:j,projects:N,users:k,messages:y}),d(!1)},[s,u]),!e)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const g=a.tickets.length+a.projects.length+a.users.length+a.messages.length;return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:e.role==="admin"?"/admin/dashboard":e.role==="web_developer"?"/developer/dashboard":e.role==="social_media_coordinator"?"/coordinator/dashboard":"/client-portal/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Global Search"}),n.jsx("p",{className:"text-muted-foreground",children:"Find anything across your entire workspace - projects, tickets, users, and messages"})]})]}),n.jsx("div",{className:"card mb-8",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{children:n.jsx("input",{type:"text",value:s,onChange:p=>i(p.target.value),placeholder:"Search for projects, tickets, users, messages...",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 text-lg"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Search in:"}),n.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(u).map(([p,j])=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:j,onChange:N=>m(k=>({...k,[p]:N.target.checked})),className:"rounded border-border"}),n.jsx("span",{className:"text-sm text-foreground capitalize",children:p})]},p))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/70 transition text-sm",disabled:!s,children:"Clear Search"})})]})}),s&&n.jsxs("div",{className:"space-y-8",children:[n.jsx("div",{className:"text-center",children:c?n.jsx("p",{className:"text-muted-foreground",children:"Searching..."}):n.jsxs("p",{className:"text-muted-foreground",children:["Found ",g," result",g!==1?"s":"",' for "',s,'"']})}),a.tickets.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Tickets (",a.tickets.length,")"]}),n.jsx("div",{className:"space-y-4",children:a.tickets.slice(0,10).map(p=>n.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:p.title}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:p.type.replace("_"," ")}),n.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded",children:p.status.replace("_"," ")})]})]}),n.jsx(O,{to:"/admin/tickets",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},p.id))})]}),a.projects.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Projects (",a.projects.length,")"]}),n.jsx("div",{className:"space-y-4",children:a.projects.slice(0,10).map(p=>n.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:p.status})})]}),n.jsx(O,{to:`/admin/projects/${p.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},p.id))})]}),a.users.length>0&&e.role==="admin"&&n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Users (",a.users.length,")"]}),n.jsx("div",{className:"space-y-4",children:a.users.slice(0,10).map(p=>n.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:p.fullName}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.email}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:p.role})})]}),e.role==="admin"&&n.jsx(O,{to:`/admin/users/${p.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},p.id))})]}),a.messages.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Messages (",a.messages.length,")"]}),n.jsx("div",{className:"space-y-4",children:a.messages.slice(0,10).map(p=>n.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:p.subject||"No Subject"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:p.content}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Message"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(p.createdAt).toLocaleDateString()})]})]}),n.jsx(O,{to:"/messages",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},p.id))})]}),g===0&&!c&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"mb-4",children:n.jsx("span",{className:"text-6xl",children:""})}),n.jsx("p",{className:"text-xl font-medium text-muted-foreground mb-2",children:"0 results found"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Try different keywords or check your spelling"}),n.jsxs("div",{className:"card max-w-2xl mx-auto text-left",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" Search Tips"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground mb-2",children:"What you can search:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:" Project names and descriptions"}),n.jsx("li",{children:" Ticket titles and content"}),n.jsx("li",{children:" User names and roles"}),n.jsx("li",{children:" Message subjects and content"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground mb-2",children:"Advanced features:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[n.jsx("li",{children:" Filter by content type"}),n.jsx("li",{children:" Relevance-based ranking"}),n.jsx("li",{children:" Real-time search results"}),n.jsx("li",{children:" Direct navigation to results"})]})]})]})]})]})]})]})}),n.jsx(he,{})]})}const CP=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function AP(){const{isSignedIn:t,user:e,switchRole:r}=se(),s=ae();if(S.useEffect(()=>{t||s("/login")},[t,s]),!e)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=a=>{r(a),setTimeout(()=>{s(a==="admin"?"/admin/dashboard":"/dashboard")},300)};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsx("div",{className:"container py-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),n.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",n.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",n.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:e.role.replace("_"," ").toUpperCase()})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:CP.map(a=>{const o=e.role===a.value;return n.jsxs("button",{onClick:()=>!o&&i(a.value),disabled:o,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${o?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[o&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),n.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-white/20":"bg-primary/10"}`,children:[a.value==="admin"&&n.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-primary"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.value==="web_developer"&&n.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),a.value==="social_media_coordinator"&&n.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),a.value==="client"&&n.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),n.jsx("h2",{className:`text-2xl font-bold mb-3 ${o?"text-white":"text-[#1e2875]"}`,children:a.label}),n.jsx("p",{className:`text-sm leading-relaxed ${o?"text-white/90":"text-muted-foreground"}`,children:a.description}),!o&&n.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[n.jsx("span",{children:"Click to switch"}),n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},a.value)})}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:()=>s(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-white shadow-md hover:shadow-lg transition text-[#1e2875] font-semibold",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),n.jsx(he,{})]})}function PP(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState("website"),[a,o]=S.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",notes:"",campaignGoals:"",targetAudience:""}),[c,d]=S.useState([]);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=pe(),m=u.filter(y=>y.role==="client"),g=u.filter(y=>y.role==="web_developer"),p=u.filter(y=>y.role==="social_media_coordinator"),j=["facebook","instagram","twitter","linkedin","tiktok","youtube"],N=y=>{d(f=>f.includes(y)?f.filter(w=>w!==y):[...f,y])},k=y=>{y.preventDefault();const f={id:`proj-${Date.now()}`,...a,projectType:s,socialMediaPlatforms:s==="social_media"?c:void 0,createdAt:new Date,updatedAt:new Date};console.log("Creating new project:",f),alert(`${s==="website"?"Website":"Social Media"} project "${a.name}" created successfully!`),r("/admin/dashboard")};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12 max-w-4xl",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),n.jsxs(O,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("button",{type:"button",onClick:()=>i("website"),className:`p-6 border-2 rounded-lg transition ${s==="website"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),n.jsx("button",{type:"button",onClick:()=>i("social_media"),className:`p-6 border-2 rounded-lg transition ${s==="social_media"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),n.jsxs("form",{onSubmit:k,className:"card space-y-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),n.jsx("input",{type:"text",id:"name",required:!0,value:a.name,onChange:y=>o({...a,name:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),n.jsx("textarea",{id:"description",required:!0,value:a.description,onChange:y=>o({...a,description:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),n.jsxs("select",{id:"clientId",required:!0,value:a.clientId,onChange:y=>o({...a,clientId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select a client"}),m.map(y=>n.jsx("option",{value:y.id,children:y.fullName},y.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),n.jsxs("select",{id:"currentStage",required:!0,value:a.currentStage,onChange:y=>o({...a,currentStage:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"planning",children:"Planning"}),n.jsx("option",{value:"design",children:"Design"}),n.jsx("option",{value:"development",children:"Development"}),n.jsx("option",{value:"testing",children:"Testing"}),n.jsx("option",{value:"launch",children:"Launch"}),n.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),s==="website"&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),n.jsxs("select",{id:"webDeveloperId",value:a.webDeveloperId,onChange:y=>o({...a,webDeveloperId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select a developer (optional)"}),g.map(y=>n.jsx("option",{value:y.id,children:y.fullName},y.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",s==="social_media"&&"*"]}),n.jsxs("select",{id:"socialMediaCoordinatorId",required:s==="social_media",value:a.socialMediaCoordinatorId,onChange:y=>o({...a,socialMediaCoordinatorId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsxs("option",{value:"",children:["Select a coordinator ",s==="website"&&"(optional)"]}),p.map(y=>n.jsx("option",{value:y.id,children:y.fullName},y.id))]})]})]}),s==="website"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),n.jsx("input",{type:"url",id:"websiteUrl",value:a.websiteUrl,onChange:y=>o({...a,websiteUrl:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"googleAnalyticsPropertyId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics Property ID"}),n.jsx("input",{type:"text",id:"googleAnalyticsPropertyId",value:a.googleAnalyticsPropertyId,onChange:y=>o({...a,googleAnalyticsPropertyId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"G-XXXXXXXXXX"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"googleAnalyticsViewId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics View ID"}),n.jsx("input",{type:"text",id:"googleAnalyticsViewId",value:a.googleAnalyticsViewId,onChange:y=>o({...a,googleAnalyticsViewId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"123456789"})]})]})]}),s==="social_media"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platforms *"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(y=>n.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[n.jsx("input",{type:"checkbox",checked:c.includes(y),onChange:()=>N(y),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),n.jsx("span",{className:"text-sm font-medium capitalize",children:y})]},y))})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),n.jsx("textarea",{id:"campaignGoals",required:!0,value:a.campaignGoals,onChange:y=>o({...a,campaignGoals:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),n.jsx("textarea",{id:"targetAudience",required:!0,value:a.targetAudience,onChange:y=>o({...a,targetAudience:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),n.jsx("textarea",{id:"notes",value:a.notes,onChange:y=>o({...a,notes:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),n.jsxs("div",{className:"flex gap-4 pt-4",children:[n.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Create ",s==="website"?"Website":"Social Media"," Project"]}),n.jsx("button",{type:"button",onClick:()=>r(-1),className:"btn-outline flex-1",children:"Cancel"})]})]})]})}),n.jsx(he,{})]})}const Ww=6048e5,RP=864e5,DP=6e4,Ry=Symbol.for("constructDateFrom");function Yt(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ry in t?t[Ry](e):t instanceof Date?new t.constructor(e):new Date(e)}function et(t,e){return Yt(e||t,t)}function Pc(t,e,r){const s=et(t,r==null?void 0:r.in);return isNaN(e)?Yt(t,NaN):(e&&s.setDate(s.getDate()+e),s)}function $w(t,e,r){const s=et(t,r==null?void 0:r.in);if(isNaN(e))return Yt(t,NaN);if(!e)return s;const i=s.getDate(),a=Yt(t,s.getTime());a.setMonth(s.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(s.setFullYear(a.getFullYear(),a.getMonth(),i),s)}let MP={};function Lo(){return MP}function Wr(t,e){var c,d,u,m;const r=Lo(),s=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(u=r.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,i=et(t,e==null?void 0:e.in),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Rc(t,e){return Wr(t,{...e,weekStartsOn:1})}function Hw(t,e){const r=et(t,e==null?void 0:e.in),s=r.getFullYear(),i=Yt(r,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const a=Rc(i),o=Yt(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const c=Rc(o);return r.getTime()>=a.getTime()?s+1:r.getTime()>=c.getTime()?s:s-1}function Dy(t){const e=et(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function pd(t,...e){const r=Yt.bind(null,e.find(s=>typeof s=="object"));return e.map(r)}function Dc(t,e){const r=et(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function LP(t,e,r){const[s,i]=pd(r==null?void 0:r.in,t,e),a=Dc(s),o=Dc(i),c=+a-Dy(a),d=+o-Dy(o);return Math.round((c-d)/RP)}function VP(t,e){const r=Hw(t,e),s=Yt(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Rc(s)}function qw(t,e,r){return Pc(t,e*7,r)}function My(t,e,r){const[s,i]=pd(r==null?void 0:r.in,t,e);return+Dc(s)==+Dc(i)}function OP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function FP(t){return!(!OP(t)&&typeof t!="number"||isNaN(+et(t)))}function UP(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function BP(t,e){return+et(t)-+et(e)}function Ly(t,e,r){const s=BP(t,e)/DP;return UP(r==null?void 0:r.roundingMethod)(s)}function zP(t,e){const r=et(t,e==null?void 0:e.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function WP(t,e){const[r,s]=pd(t,e.start,e.end);return{start:r,end:s}}function Vy(t,e){const{start:r,end:s}=WP(e==null?void 0:e.in,t);let i=+r>+s;const a=i?+r:+s,o=i?s:r;o.setHours(0,0,0,0);let c=1;const d=[];for(;+o<=a;)d.push(Yt(r,o)),o.setDate(o.getDate()+c),o.setHours(0,0,0,0);return i?d.reverse():d}function Gw(t,e){const r=et(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function $P(t,e){const r=et(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function HP(t,e){var c,d;const r=Lo(),s=r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=et(t,e==null?void 0:e.in),a=i.getDay(),o=(a<s?-7:0)+6-(a-s);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const qP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GP=(t,e,r)=>{let s;const i=qP[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wu(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const KP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XP={date:wu({formats:KP,defaultWidth:"full"}),time:wu({formats:QP,defaultWidth:"full"}),dateTime:wu({formats:YP,defaultWidth:"full"})},JP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZP=(t,e,r,s)=>JP[t];function la(t){return(e,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r!=null&&r.width?String(r.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[c]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const e3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},r3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},n3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},s3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a3=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},o3={ordinalNumber:a3,era:la({values:e3,defaultWidth:"wide"}),quarter:la({values:t3,defaultWidth:"wide",argumentCallback:t=>t-1}),month:la({values:r3,defaultWidth:"wide"}),day:la({values:n3,defaultWidth:"wide"}),dayPeriod:la({values:s3,defaultWidth:"wide",formattingValues:i3,defaultFormattingWidth:"wide"})};function ca(t){return(e,r={})=>{const s=r.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],c=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?c3(c,g=>g.test(o)):l3(c,g=>g.test(o));let u;u=t.valueCallback?t.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const m=e.slice(o.length);return{value:u,rest:m}}}function l3(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function c3(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function d3(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(i.length);return{value:o,rest:c}}}const u3=/^(\d+)(th|st|nd|rd)?/i,h3=/\d+/i,m3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f3={any:[/^b/i,/^(a|c)/i]},p3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g3={any:[/1/i,/2/i,/3/i,/4/i]},x3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},y3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},b3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},N3={ordinalNumber:d3({matchPattern:u3,parsePattern:h3,valueCallback:t=>parseInt(t,10)}),era:ca({matchPatterns:m3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),quarter:ca({matchPatterns:p3,defaultMatchWidth:"wide",parsePatterns:g3,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ca({matchPatterns:x3,defaultMatchWidth:"wide",parsePatterns:y3,defaultParseWidth:"any"}),day:ca({matchPatterns:v3,defaultMatchWidth:"wide",parsePatterns:b3,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:j3,defaultMatchWidth:"any",parsePatterns:w3,defaultParseWidth:"any"})},_3={code:"en-US",formatDistance:GP,formatLong:XP,formatRelative:ZP,localize:o3,match:N3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function k3(t,e){const r=et(t,e==null?void 0:e.in);return LP(r,$P(r))+1}function E3(t,e){const r=et(t,e==null?void 0:e.in),s=+Rc(r)-+VP(r);return Math.round(s/Ww)+1}function Kw(t,e){var m,g,p,j;const r=et(t,e==null?void 0:e.in),s=r.getFullYear(),i=Lo(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((j=(p=i.locale)==null?void 0:p.options)==null?void 0:j.firstWeekContainsDate)??1,o=Yt((e==null?void 0:e.in)||t,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const c=Wr(o,e),d=Yt((e==null?void 0:e.in)||t,0);d.setFullYear(s,0,a),d.setHours(0,0,0,0);const u=Wr(d,e);return+r>=+c?s+1:+r>=+u?s:s-1}function T3(t,e){var c,d,u,m;const r=Lo(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(u=r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,i=Kw(t,e),a=Yt((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),Wr(a,e)}function S3(t,e){const r=et(t,e==null?void 0:e.in),s=+Wr(r,e)-+T3(r,e);return Math.round(s/Ww)+1}function xe(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const rn={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return xe(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):xe(r+1,2)},d(t,e){return xe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return xe(t.getHours()%12||12,e.length)},H(t,e){return xe(t.getHours(),e.length)},m(t,e){return xe(t.getMinutes(),e.length)},s(t,e){return xe(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,r-3));return xe(i,e.length)}},Ls={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oy={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return rn.y(t,e)},Y:function(t,e,r,s){const i=Kw(t,s),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return xe(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):xe(a,e.length)},R:function(t,e){const r=Hw(t);return xe(r,e.length)},u:function(t,e){const r=t.getFullYear();return xe(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return xe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return xe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return rn.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return xe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const i=S3(t,s);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):xe(i,e.length)},I:function(t,e,r){const s=E3(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):xe(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):rn.d(t,e)},D:function(t,e,r){const s=k3(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):xe(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return xe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const i=t.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return xe(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return xe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let i;switch(s===12?i=Ls.noon:s===0?i=Ls.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let i;switch(s>=17?i=Ls.evening:s>=12?i=Ls.afternoon:s>=4?i=Ls.morning:i=Ls.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return rn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):rn.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):xe(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):xe(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):rn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):rn.s(t,e)},S:function(t,e){return rn.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Uy(s);case"XXXX":case"XX":return ns(s);case"XXXXX":case"XXX":default:return ns(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return Uy(s);case"xxxx":case"xx":return ns(s);case"xxxxx":case"xxx":default:return ns(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Fy(s,":");case"OOOO":default:return"GMT"+ns(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Fy(s,":");case"zzzz":default:return"GMT"+ns(s,":")}},t:function(t,e,r){const s=Math.trunc(+t/1e3);return xe(s,e.length)},T:function(t,e,r){return xe(+t,e.length)}};function Fy(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),a=s%60;return a===0?r+String(i):r+String(i)+e+xe(a,2)}function Uy(t,e){return t%60===0?(t>0?"-":"+")+xe(Math.abs(t)/60,2):ns(t,e)}function ns(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),i=xe(Math.trunc(s/60),2),a=xe(s%60,2);return r+i+e+a}const By=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Qw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},I3=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return By(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",By(s,e)).replace("{{time}}",Qw(i,e))},C3={p:Qw,P:I3},A3=/^D+$/,P3=/^Y+$/,R3=["D","DD","YY","YYYY"];function D3(t){return A3.test(t)}function M3(t){return P3.test(t)}function L3(t,e,r){const s=V3(t,e,r);if(console.warn(s),R3.includes(t))throw new RangeError(s)}function V3(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U3=/^'([^]*?)'?$/,B3=/''/g,z3=/[a-zA-Z]/;function Le(t,e,r){var m,g,p,j;const s=Lo(),i=s.locale??_3,a=s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,o=s.weekStartsOn??((j=(p=s.locale)==null?void 0:p.options)==null?void 0:j.weekStartsOn)??0,c=et(t,r==null?void 0:r.in);if(!FP(c))throw new RangeError("Invalid time value");let d=e.match(F3).map(N=>{const k=N[0];if(k==="p"||k==="P"){const y=C3[k];return y(N,i.formatLong)}return N}).join("").match(O3).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const k=N[0];if(k==="'")return{isToken:!1,value:W3(N)};if(Oy[k])return{isToken:!0,value:N};if(k.match(z3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:N}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return d.map(N=>{if(!N.isToken)return N.value;const k=N.value;(M3(k)||D3(k))&&L3(k,e,String(t));const y=Oy[k[0]];return y(c,k,i.localize,u)}).join("")}function W3(t){const e=t.match(U3);return e?e[1].replace(B3,"'"):t}function $3(t,e,r){const[s,i]=pd(r==null?void 0:r.in,t,e);return s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth()}function Yw(t,e,r){return Pc(t,-e,r)}function H3(t,e,r){return $w(t,-1,r)}function q3(t,e,r){return qw(t,-1,r)}function G3(){const{isSignedIn:t,user:e}=se(),r=ae(),[s,i]=S.useState([]),[a,o]=S.useState([]),[c,d]=S.useState([]),[u,m]=S.useState(null),[g,p]=S.useState(!1),[j,N]=S.useState({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1});S.useEffect(()=>{t||r("/login")},[t,r]),S.useEffect(()=>{e&&(i(gs(e.id)),o(pe()),d(jt()))},[e]);const k=D=>{gk(D),i(_=>_.map(v=>v.id===D?{...v,isRead:!0}:v))},y=D=>{window.confirm("Are you sure you want to delete this message?")&&xk(D)&&(i(_=>_.filter(v=>v.id!==D)),(u==null?void 0:u.id)===D&&m(null))},f=()=>{if(!e||!j.subject.trim()||!j.content.trim())return;const D={id:`message-${Date.now()}`,senderId:e.id,recipientId:j.isBroadcast?void 0:j.recipientId||void 0,subject:j.subject,content:j.content,isRead:!1,isBroadcast:j.isBroadcast,projectId:j.projectId||void 0,createdAt:new Date,updatedAt:new Date};yk(D),i(_=>[D,..._]),N({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1}),p(!1)},w=D=>{const _=a.find(v=>v.id===D);return _?_.fullName:"Unknown"},b=D=>{if(!D)return"Everyone (Broadcast)";const _=a.find(v=>v.id===D);return _?_.fullName:"Unknown"},R=D=>{if(!D)return null;const _=c.find(v=>v.id===D);return _?_.name:null},M=s.filter(D=>!D.isRead&&(D.recipientId===(e==null?void 0:e.id)||D.isBroadcast)).length;return e?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsx("div",{className:"mb-8",children:n.jsxs(O,{to:"/dashboard",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark transition-colors font-medium",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-12",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Messages"}),n.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Communicate with team members and clients",M>0&&n.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),M," unread"]})]})]}),n.jsxs("button",{onClick:()=>p(!0),className:"btn-primary px-6 py-3 self-start lg:self-auto",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Compose Message"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Messages"}),n.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:s.map(D=>n.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 border ${(u==null?void 0:u.id)===D.id?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-border/50 hover:border-primary/20"} ${!D.isRead&&(D.recipientId===(e==null?void 0:e.id)||D.isBroadcast)?"border-l-4 border-l-primary bg-secondary/10":""}`,onClick:()=>{m(D),!D.isRead&&(D.recipientId===(e==null?void 0:e.id)||D.isBroadcast)&&k(D.id)},children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:[D.senderId===(e==null?void 0:e.id)?"To: ":"From: ",D.senderId===(e==null?void 0:e.id)?b(D.recipientId):w(D.senderId),D.isBroadcast&&" (Broadcast)"]}),n.jsx("p",{className:"text-sm text-muted-foreground truncate font-medium",children:D.subject})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("div",{className:"text-xs text-muted-foreground",children:Le(D.createdAt,"MMM dd")}),n.jsx("button",{onClick:_=>{_.stopPropagation(),y(D.id)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),!D.isRead&&(D.recipientId===(e==null?void 0:e.id)||D.isBroadcast)&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-auto flex-shrink-0"})]},D.id))})]})}),n.jsx("div",{className:"lg:col-span-2",children:u?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.subject}),n.jsx("button",{onClick:()=>y(u.id),className:"text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[n.jsxs("span",{children:[u.senderId===(e==null?void 0:e.id)?"Sent to ":"From ",u.senderId===(e==null?void 0:e.id)?b(u.recipientId):w(u.senderId),u.isBroadcast&&" (Broadcast)"]}),n.jsx("span",{children:""}),n.jsx("span",{children:Le(u.createdAt,"PPP 'at' p")})]}),R(u.projectId)&&n.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project: ",R(u.projectId)]})]}),n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"whitespace-pre-wrap text-foreground text-lg leading-relaxed",children:u.content})})]}):n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm flex items-center justify-center",style:{minHeight:"400px"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Select a message to view"})]})})})]}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Compose New Message"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Send a message to team members or broadcast to everyone"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"broadcast",checked:j.isBroadcast,onChange:D=>N(_=>({..._,isBroadcast:D.target.checked,recipientId:D.target.checked?"":_.recipientId})),className:"w-4 h-4 rounded border-border"}),n.jsx("label",{htmlFor:"broadcast",className:"text-sm font-medium text-foreground",children:"Broadcast to all users"})]}),!j.isBroadcast&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient"}),n.jsxs("select",{value:j.recipientId,onChange:D=>N(_=>({..._,recipientId:D.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select recipient"}),a.filter(D=>D.id!==(e==null?void 0:e.id)&&D.isActive).map(D=>n.jsxs("option",{value:D.id,children:[D.fullName," (",D.role,")"]},D.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Related Project (Optional)"}),n.jsxs("select",{value:j.projectId,onChange:D=>N(_=>({..._,projectId:D.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select project"}),c.map(D=>n.jsx("option",{value:D.id,children:D.name},D.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subject"}),n.jsx("input",{type:"text",value:j.subject,onChange:D=>N(_=>({..._,subject:D.target.value})),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),n.jsx("textarea",{value:j.content,onChange:D=>N(_=>({..._,content:D.target.value})),placeholder:"Enter your message",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[n.jsx("button",{onClick:()=>p(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),n.jsx("button",{onClick:f,disabled:!j.subject.trim()||!j.content.trim()||!j.isBroadcast&&!j.recipientId,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Message"})]})]})]})})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function K3(){const{user:t,signOut:e}=se(),r=ae(),[s,i]=S.useState([]),[a,o]=S.useState([]),[c,d]=S.useState([]),[u,m]=S.useState(!0);if(S.useEffect(()=>{if(!t){r("/login?portal=client");return}if(t.role!=="client"){r("/dashboard");return}i(kr(t.id,t.role)),o(_o(t.id,t.role)),d(gs(t.id)),m(!1)},[t,r]),!t||t.role!=="client")return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const g=async()=>{try{await e(),r("/login?portal=client")}catch(k){console.error("Error signing out:",k)}};if(!t||t.role!=="client")return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const p=s.filter(k=>k.status==="active"),j=a.slice(0,3),N=c.filter(k=>!k.isRead&&k.recipientId===(t==null?void 0:t.id));return n.jsxs("div",{className:"min-h-screen bg-muted",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-border/50 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(O,{to:"/client-portal/dashboard",className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-primary",children:"Client Portal"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome, ",t.fullName]})]})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(O,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:"Messages",children:[n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),N.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:N.length>99?"99+":N.length})]}),n.jsx("button",{onClick:g,className:"btn-secondary text-sm",children:"Sign Out"})]})]})})}),n.jsxs("main",{className:"container mx-auto px-6 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Project Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Track your project progress and communicate with our team"})]}),n.jsxs("div",{className:"card mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"flex gap-4 flex-wrap",children:[n.jsx(O,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),n.jsx(O,{to:"/client-portal/files",className:"btn-outline",children:"View Files"}),n.jsx(O,{to:"/messages",className:"btn-outline",children:"Messages"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.filter(k=>k.status==="open"||k.status==="in_progress").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:N.length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread Messages"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Your Projects"}),n.jsx("span",{className:"text-muted-foreground text-sm",children:"Recent Projects"})]}),n.jsx("div",{className:"space-y-4",children:p.length>0?p.slice(0,3).map(k=>n.jsxs(O,{to:`/client-portal/project/${k.id}`,className:"block p-4 border border-border/50 rounded-lg hover:bg-muted/50 hover:border-primary/20 transition-all duration-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:k.name}),n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:k.status})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:k.description}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Stage: ",k.currentStage]}),n.jsxs("span",{children:["Updated ",Le(k.updatedAt,"MMM dd")]})]})]},k.id)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("p",{className:"text-muted-foreground",children:"No active projects yet"})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Recent Activity"}),n.jsx(O,{to:"/client/tickets",className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),n.jsx("div",{className:"space-y-4",children:j.length>0?j.map(k=>n.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[n.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-foreground text-sm",children:k.title}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",k.status]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Le(k.createdAt,"MMM dd, yyyy")})]})]},k.id)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("p",{className:"text-muted-foreground",children:"No recent activity"})]})})]})]})]})]})}function Q3(){const{id:t}=jo(),{user:e}=se(),r=ae(),[s,i]=S.useState(null),[a,o]=S.useState([]),[c,d]=S.useState([]),[u,m]=S.useState(!0);S.useEffect(()=>{if(!e||e.role!=="client"){r("/login?portal=client");return}if(!t){r("/client-portal/dashboard");return}const p=No(t);if(!p||p.clientId!==e.id){r("/client-portal/dashboard");return}i(p),o(fb(t)),d(gs(e.id).filter(j=>j.projectId===t)),m(!1)},[e,t,r]);const g=p=>({planning:"bg-primary/10 text-primary",development:"bg-accent/10 text-accent",testing:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"})[status]||"bg-gray-100 text-gray-800";return!e||e.role!=="client"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u||!s?n.jsx("div",{className:"min-h-screen bg-muted",children:n.jsx("div",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),n.jsx("div",{className:"h-32 bg-gray-300 rounded"}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx("div",{className:"h-64 bg-gray-300 rounded"}),n.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})]})})}):n.jsxs("div",{className:"min-h-screen bg-muted",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-border/50 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(O,{to:"/client-portal/dashboard",className:"flex items-center gap-2 text-primary hover:text-primary-dark transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(O,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:"Messages",children:n.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})})]})})}),n.jsxs("main",{className:"container mx-auto px-6 py-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:s.name}),n.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${Bw(s.status)}`,children:s.status}),n.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${g(s.currentStage)}`,children:s.currentStage}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Updated ",Le(s.updatedAt,"MMM dd, yyyy")]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(O,{to:"/messages",className:"btn-outline px-4 py-2",children:"Message Team"}),n.jsx(O,{to:"/client-portal/files",className:"btn-outline px-4 py-2",children:"Share Files"}),n.jsx(O,{to:"/client-portal/feedback",className:"btn-primary px-4 py-2",children:"Submit Feedback"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Progress"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),n.jsxs("span",{className:"font-medium text-foreground",children:[s.currentStage==="planning"&&"25%",s.currentStage==="design"&&"40%",s.currentStage==="development"&&"60%",s.currentStage==="testing"&&"80%",s.currentStage==="launch"&&"100%",s.currentStage==="maintenance"&&"100%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:s.currentStage==="planning"?"25%":s.currentStage==="design"?"40%":s.currentStage==="development"?"60%":s.currentStage==="testing"?"80%":(s.currentStage==="launch","100%")}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Project Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Type:"}),n.jsx("span",{className:"text-foreground capitalize",children:s.projectType.replace("_"," ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),n.jsx("span",{className:"text-foreground",children:Le(s.createdAt,"MMM dd, yyyy")})]}),s.launchDate&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Launch Date:"}),n.jsx("span",{className:"text-foreground",children:Le(s.launchDate,"MMM dd, yyyy")})]}),s.websiteUrl&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Website:"}),n.jsx("a",{href:s.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View Site"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Team Members"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Developer:"}),n.jsx("span",{className:"text-foreground",children:s.webDeveloperId?"Assigned":"Not assigned"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Coordinator:"}),n.jsx("span",{className:"text-foreground",children:s.socialMediaCoordinatorId?"Assigned":"Not assigned"})]})]})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Updates"}),n.jsx("div",{className:"space-y-4",children:a.length>0?a.slice(0,5).map(p=>n.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[n.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-foreground",children:p.title}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[p.description.substring(0,100),"..."]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[n.jsx("span",{className:`px-2 py-1 rounded-full ${p.status==="open"?"bg-yellow-100 text-yellow-800":p.status==="in_progress"?"bg-primary/10 text-primary":p.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.status.replace("_"," ")}),n.jsx("span",{children:Le(p.createdAt,"MMM dd, yyyy")})]})]})]},p.id)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsx("p",{className:"text-muted-foreground",children:"No updates yet"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(O,{to:"/messages",className:"block w-full btn-outline text-center py-2",children:"Message Team"}),n.jsx(O,{to:"/client-portal/files",className:"block w-full btn-outline text-center py-2",children:"Share Files"}),n.jsx(O,{to:"/client-portal/feedback",className:"block w-full btn-primary text-center py-2",children:"Submit Feedback"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Project Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tickets:"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:a.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Open Tickets:"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:a.filter(p=>p.status==="open"||p.status==="in_progress").length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Messages:"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:c.length})]})]})]})]})]})]})]})}function Y3(){const{user:t}=se(),[e,r]=S.useState([]),[s,i]=S.useState(""),[a,o]=S.useState([]),[c,d]=S.useState(!1);S.useEffect(()=>{if(t&&t.role==="client"){const j=kr(t.id,t.role);r(j),j.length>0&&i(j[0].id)}},[t]);const u=j=>{const N=Array.from(j.target.files||[]);o(k=>[...k,...N])},m=async()=>{!s||a.length===0||(d(!0),await new Promise(j=>setTimeout(j,2e3)),console.log("Uploading files:",a.map(j=>j.name)),console.log("To project:",s),o([]),d(!1),alert("Files uploaded successfully!"))},g=j=>{o(N=>N.filter((k,y)=>y!==j))},p=j=>{if(j===0)return"0 Bytes";const N=1024,k=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(j)/Math.log(N));return parseFloat((j/Math.pow(N,y)).toFixed(2))+" "+k[y]};return!t||t.role!=="client"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs("div",{className:"min-h-screen bg-muted",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-border/50 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(O,{to:"/client-portal/dashboard",className:"flex items-center gap-3",children:[n.jsx("img",{src:"/Logo.png",alt:"Logo",className:"h-8 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-primary",children:"Client Portal"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"File Sharing"})]})]}),n.jsx(O,{to:"/client-portal/dashboard",className:"text-primary hover:text-primary-dark transition-colors",children:" Back to Dashboard"})]})})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Files with Your Team"}),n.jsx("p",{className:"text-muted-foreground",children:"Upload documents, images, or any files your project team needs to access"})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Project"}),n.jsx("select",{value:s,onChange:j=>i(j.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:e.map(j=>n.jsx("option",{value:j.id,children:j.name},j.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Upload Files"}),n.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[n.jsx("input",{type:"file",multiple:!0,onChange:u,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.svg,.zip,.rar"}),n.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[n.jsx("svg",{className:"w-12 h-12 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),n.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop files here or click to browse"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, SVG, ZIP, RAR (max 10MB each)"})]})]})]}),a.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Files to Upload"}),n.jsx("div",{className:"space-y-3",children:a.map((j,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:j.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:p(j.size)})]})]}),n.jsx("button",{onClick:()=>g(N),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},N))})]}),a.length>0&&n.jsx("button",{onClick:m,disabled:c,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:c?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading Files..."]}):`Upload ${a.length} File${a.length>1?"s":""}`})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Previously Shared Files"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-5.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),n.jsx("p",{className:"text-muted-foreground",children:"No files shared yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Files you upload will appear here for your team's access"})]})})]})]})})]})}function X3(){const{user:t}=se(),[e,r]=S.useState([]),[s,i]=S.useState(""),[a,o]=S.useState({rating:5,category:"overall",comment:"",isPublic:!1}),[c,d]=S.useState(!1);S.useEffect(()=>{if(t&&t.role==="client"){const g=kr(t.id,t.role);r(g),g.length>0&&i(g[0].id)}},[t]);const u=async g=>{if(g.preventDefault(),!s||!a.comment.trim()){alert("Please fill in all required fields");return}d(!0),await new Promise(p=>setTimeout(p,1500)),console.log("Submitting feedback:",{clientId:t==null?void 0:t.id,projectId:s,...a}),o({rating:5,category:"overall",comment:"",isPublic:!1}),d(!1),alert("Thank you for your feedback! We'll review it and get back to you soon.")};if(!t||t.role!=="client")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const m={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};return n.jsxs("div",{className:"min-h-screen bg-muted",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-border/50 sticky top-0 z-40",children:n.jsx("div",{className:"container mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(O,{to:"/client-portal/dashboard",className:"flex items-center gap-3",children:[n.jsx("img",{src:"/Logo.png",alt:"Logo",className:"h-8 w-auto"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-primary",children:"Client Portal"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Submit Feedback"})]})]}),n.jsx(O,{to:"/client-portal/dashboard",className:"text-primary hover:text-primary-dark transition-colors",children:" Back to Dashboard"})]})})}),n.jsx("main",{className:"container mx-auto px-6 py-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"mb-8 text-center",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Your Feedback"}),n.jsx("p",{className:"text-muted-foreground",children:"Help us improve by sharing your thoughts about our work"})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Which project is this feedback about?"}),n.jsx("select",{value:s,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",required:!0,children:e.map(g=>n.jsx("option",{value:g.id,children:g.name},g.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"How would you rate our work?"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>n.jsx("button",{type:"button",onClick:()=>o(p=>({...p,rating:g})),className:`w-8 h-8 ${g<=a.rating?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:n.jsx("svg",{viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},g))}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:m[a.rating]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"What area does this feedback relate to?"}),n.jsxs("select",{value:a.category,onChange:g=>o(p=>({...p,category:g.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"overall",children:"Overall Experience"}),n.jsx("option",{value:"design",children:"Design Quality"}),n.jsx("option",{value:"functionality",children:"Website Functionality"}),n.jsx("option",{value:"communication",children:"Team Communication"}),n.jsx("option",{value:"timeline",children:"Project Timeline"}),n.jsx("option",{value:"support",children:"Customer Support"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Your Feedback"}),n.jsx("textarea",{value:a.comment,onChange:g=>o(p=>({...p,comment:g.target.value})),placeholder:"Please share your detailed feedback, suggestions for improvement, or any concerns...",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground resize-none",required:!0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your feedback helps us improve our services. Be as specific as possible."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:g=>o(p=>({...p,isPublic:g.target.checked})),className:"w-4 h-4 rounded border-border"}),n.jsx("label",{htmlFor:"isPublic",className:"text-sm text-foreground",children:"Make this feedback public (visible to other clients as testimonials)"})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:c?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting Feedback..."]}):"Submit Feedback"})]})}),n.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 rounded-xl border border-secondary/20 dark:border-secondary/30 p-6 mt-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary dark:text-primary mb-3",children:" Tips for Better Feedback"}),n.jsxs("ul",{className:"space-y-2 text-sm text-primary dark:text-primary",children:[n.jsx("li",{children:" Be specific about what you liked or didn't like"}),n.jsx("li",{children:" Include examples from your experience"}),n.jsx("li",{children:" Suggest improvements when possible"}),n.jsx("li",{children:" Mention both positive aspects and areas for growth"}),n.jsx("li",{children:" Rate based on your overall satisfaction with the work"})]})]})]})})]})}function J3(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState("30d"),[a,o]=S.useState({projects:[],tickets:[],website:[],social:[],users:[]}),[c,d]=S.useState(!0);S.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}const k=jt(),y=At(),f=mb(),w=Qm(),b=pe();o({projects:k,tickets:y,website:f,social:w,users:b}),d(!1)},[t,e,r]);const m=(()=>{const y=Yw(new Date,s==="7d"?7:s==="30d"?30:s==="90d"?90:365);return{recentTickets:a.tickets.filter(f=>new Date(f.createdAt)>=y),recentWebsite:a.website.filter(f=>new Date(f.date)>=y),recentSocial:a.social.filter(f=>new Date(f.date)>=y)}})(),g={totalProjects:a.projects.length,activeProjects:a.projects.filter(k=>k.status==="active").length,totalTickets:m.recentTickets.length,resolvedTickets:m.recentTickets.filter(k=>k.status==="resolved").length,avgPageViews:m.recentWebsite.length>0?Math.round(m.recentWebsite.reduce((k,y)=>k+y.pageViews,0)/m.recentWebsite.length):0,totalEngagement:m.recentSocial.reduce((k,y)=>k+y.engagement,0),totalReach:m.recentSocial.reduce((k,y)=>k+y.reach,0)},p={active:a.projects.filter(k=>k.status==="active").length,completed:a.projects.filter(k=>k.status==="completed").length,paused:a.projects.filter(k=>k.status==="paused").length},j={critical:m.recentTickets.filter(k=>k.priority==="critical").length,high:m.recentTickets.filter(k=>k.priority==="high").length,medium:m.recentTickets.filter(k=>k.priority==="medium").length,low:m.recentTickets.filter(k=>k.priority==="low").length},N=[{month:"Jan",projects:12,tickets:45,revenue:25e3},{month:"Feb",projects:15,tickets:52,revenue:32e3},{month:"Mar",projects:18,tickets:38,revenue:28e3},{month:"Apr",projects:22,tickets:61,revenue:41e3},{month:"May",projects:20,tickets:49,revenue:38e3},{month:"Jun",projects:25,tickets:55,revenue:45e3}];return!t||t.role!=="admin"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive insights into your business performance and project metrics"})]}),n.jsx("div",{className:"flex gap-2",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}].map(k=>n.jsx("button",{onClick:()=>i(k.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s===k.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:k.label},k.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.totalProjects}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),n.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last period"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.activeProjects}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),n.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last period"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.totalTickets}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Tickets (",s,")"]}),n.jsx("p",{className:"text-xs text-red-600",children:"-5% vs last period"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.avgPageViews.toLocaleString()}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Page Views"}),n.jsx("p",{className:"text-xs text-green-600",children:"+15% vs last period"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Status Distribution"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),n.jsx("span",{className:"text-sm font-bold",children:p.active})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-primary rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),n.jsx("span",{className:"text-sm font-bold",children:p.completed})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Paused"})]}),n.jsx("span",{className:"text-sm font-bold",children:p.paused})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Ticket Priority Distribution"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Critical"})]}),n.jsx("span",{className:"text-sm font-bold",children:j.critical})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"High"})]}),n.jsx("span",{className:"text-sm font-bold",children:j.high})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),n.jsx("span",{className:"text-sm font-bold",children:j.medium})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),n.jsx("span",{className:"text-sm font-medium",children:"Low"})]}),n.jsx("span",{className:"text-sm font-bold",children:j.low})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Monthly Performance Trends"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-border",children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Month"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Projects"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Tickets"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Revenue"})]})}),n.jsx("tbody",{children:N.map((k,y)=>n.jsxs("tr",{className:y%2===0?"bg-muted/30":"",children:[n.jsx("td",{className:"py-3 px-4 font-medium",children:k.month}),n.jsx("td",{className:"py-3 px-4",children:k.projects}),n.jsx("td",{className:"py-3 px-4",children:k.tickets}),n.jsxs("td",{className:"py-3 px-4 font-medium",children:["$",k.revenue.toLocaleString()]})]},k.month))})]})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-foreground mb-6",children:["Social Media Performance (",s,")"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:g.totalReach.toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reach"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:g.totalEngagement.toLocaleString()}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Engagement"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[g.totalEngagement>0?Math.round(g.totalEngagement/g.totalReach*100):0,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),n.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+5% vs last period"})]})]})]})]})}),n.jsx(he,{})]})}const Z3=[{id:"event-1",title:"SpecCon Website Launch Meeting",description:"Final review before launch",eventType:"meeting",priority:"high",startDate:new Date(2025,0,15,10,0),endDate:new Date(2025,0,15,11,30),allDay:!1,location:"Conference Room A",attendees:["user-1","user-2","user-3","user-5"],organizerId:"user-1",projectId:"proj-1",isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"confirmed",notes:"Please review final designs before meeting",createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Andebe Platform Deadline",description:"Development completion deadline",eventType:"deadline",priority:"critical",startDate:new Date(2025,0,20),endDate:new Date(2025,0,20),allDay:!0,attendees:["user-2","user-3"],organizerId:"user-1",projectId:"proj-2",isRecurring:!1,recurrenceType:"none",reminderMinutes:1440,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Client Presentation - Megrolowveld",description:"Present design concepts to client",eventType:"presentation",priority:"high",startDate:new Date(2025,0,18,14,0),endDate:new Date(2025,0,18,15,30),allDay:!1,location:"Virtual Meeting",attendees:["user-1","user-4","user-5","user-6"],organizerId:"user-1",projectId:"proj-3",isRecurring:!1,recurrenceType:"none",reminderMinutes:30,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-4",title:"Weekly Team Standup",description:"Weekly progress update and planning",eventType:"meeting",priority:"medium",startDate:new Date(2025,0,16,9,0),endDate:new Date(2025,0,16,9,30),allDay:!1,location:"Main Conference Room",attendees:["user-1","user-2","user-3","user-4"],organizerId:"user-1",isRecurring:!0,recurrenceType:"weekly",recurrenceEndDate:new Date(2025,11,31),reminderMinutes:5,status:"confirmed",createdAt:new Date,updatedAt:new Date}];function eR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState(new Date),[a,o]=S.useState("month"),[c,d]=S.useState(Z3),[u,m]=S.useState([]),[g,p]=S.useState([]),[j,N]=S.useState(null),[k,y]=S.useState(!1);S.useEffect(()=>{if(!e){r("/login");return}m(jt()),p(pe())},[e,r]);const f=A=>c.filter(C=>(C.allDay,My(C.startDate,A))),w=()=>{const A=Gw(s),C=zP(s);return Vy({start:A,end:C}).map(B=>({date:B,events:f(B)}))},b=()=>{const A=Wr(s),C=HP(s);return Vy({start:A,end:C}).map(B=>({date:B,events:f(B)}))},R=()=>{i(a==="month"?A=>H3(A):a==="week"?A=>q3(A):A=>Pc(A,-1))},M=()=>{i(a==="month"?A=>$w(A,1):a==="week"?A=>qw(A,1):A=>Pc(A,1))},D=()=>{i(new Date)},_=A=>({meeting:"bg-primary/10 text-primary border-primary/20",deadline:"bg-red-100 text-red-800 border-red-200",milestone:"bg-green-100 text-green-800 border-green-200",review:"bg-purple-100 text-purple-800 border-purple-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",kickoff:"bg-indigo-100 text-indigo-800 border-indigo-200",presentation:"bg-pink-100 text-pink-800 border-pink-200"})[A]||"bg-gray-100 text-gray-800 border-gray-200",v=A=>({low:"border-l-4 border-l-green-500",medium:"border-l-4 border-l-yellow-500",high:"border-l-4 border-l-orange-500",critical:"border-l-4 border-l-red-500"})[A]||"",T=A=>{if(!A)return null;const C=u.find(Q=>Q.id===A);return C==null?void 0:C.name},P=A=>A.map(C=>{const Q=g.find(B=>B.id===C);return(Q==null?void 0:Q.fullName)||"Unknown"}).join(", "),I=A=>A.allDay?"All Day":`${Le(A.startDate,"h:mm a")} - ${Le(A.endDate,"h:mm a")}`;return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Calendar"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Schedule meetings, track deadlines, and manage project timelines"})]}),n.jsx("div",{className:"flex gap-3",children:n.jsxs("button",{onClick:()=>y(!0),className:"btn-primary px-6 py-3",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:R,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("h2",{className:"text-xl font-semibold text-foreground min-w-[200px] text-center",children:[a==="month"&&Le(s,"MMMM yyyy"),a==="week"&&`Week of ${Le(Wr(s),"MMM dd")}`,a==="day"&&Le(s,"EEEE, MMMM dd, yyyy")]}),n.jsx("button",{onClick:M,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),n.jsx("button",{onClick:D,className:"btn-outline px-4 py-2",children:"Today"})]}),n.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:[{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}].map(A=>n.jsx("button",{onClick:()=>o(A.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===A.value?"bg-white dark:bg-gray-700 text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:A.label},A.value))})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[a==="month"&&n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-px mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>n.jsx("div",{className:"p-3 text-center font-semibold text-muted-foreground text-sm",children:A},A))}),n.jsx("div",{className:"grid grid-cols-7 gap-px",children:w().map(({date:A,events:C},Q)=>n.jsxs("div",{className:`min-h-[120px] p-2 border border-border/20 ${$3(A,s)?"bg-background":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:Le(A,"d")}),n.jsxs("div",{className:"space-y-1",children:[C.slice(0,3).map(B=>n.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 transition-opacity ${_(B.eventType)} ${v(B.priority)}`,onClick:()=>N(B),children:[n.jsx("div",{className:"font-medium truncate",children:B.title}),!B.allDay&&n.jsx("div",{className:"text-xs opacity-75",children:Le(B.startDate,"h:mm a")})]},B.id)),C.length>3&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",C.length-3," more"]})]})]},Q))})]}),a==="week"&&n.jsx("div",{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:b().map(({date:A,events:C})=>n.jsxs("div",{className:"border border-border/50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-foreground mb-3",children:Le(A,"EEEE, MMMM dd")}),n.jsx("div",{className:"space-y-2",children:C.length>0?C.map(Q=>n.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${_(Q.eventType)} ${v(Q.priority)}`,onClick:()=>N(Q),children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:Q.title}),n.jsx("p",{className:"text-sm opacity-75",children:I(Q)}),Q.location&&n.jsxs("p",{className:"text-sm opacity-75",children:[" ",Q.location]})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded ${_(Q.eventType)}`,children:Q.eventType})})]})},Q.id)):n.jsx("p",{className:"text-muted-foreground text-sm",children:"No events scheduled"})})]},A.toISOString()))})}),a==="day"&&n.jsxs("div",{className:"p-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:Le(s,"EEEE, MMMM dd, yyyy")}),n.jsx("div",{className:"space-y-4",children:f(s).length>0?f(s).map(A=>n.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${_(A.eventType)} ${v(A.priority)}`,onClick:()=>N(A),children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsx("h4",{className:"text-lg font-semibold",children:A.title}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${_(A.eventType)}`,children:A.eventType})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Time"}),n.jsx("p",{className:"text-sm",children:I(A)})]}),A.location&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Location"}),n.jsx("p",{className:"text-sm",children:A.location})]})]}),A.description&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Description"}),n.jsx("p",{className:"text-sm",children:A.description})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Attendees"}),n.jsx("p",{className:"text-sm",children:P(A.attendees)})]}),A.projectId&&n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:"Project"}),n.jsx("p",{className:"text-sm",children:T(A.projectId)})]})]})]},A.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"No events scheduled for this day"})]})})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[n.jsx("div",{className:"lg:col-span-3"}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Upcoming Events"}),n.jsx("div",{className:"space-y-3",children:c.filter(A=>A.startDate>=new Date).sort((A,C)=>A.startDate.getTime()-C.startDate.getTime()).slice(0,5).map(A=>n.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${_(A.eventType)} ${v(A.priority)}`,onClick:()=>N(A),children:[n.jsx("h4",{className:"font-medium text-sm mb-1",children:A.title}),n.jsxs("p",{className:"text-xs opacity-75",children:[Le(A.startDate,"MMM dd"),"  ",I(A)]}),A.location&&n.jsxs("p",{className:"text-xs opacity-75",children:[" ",A.location]})]},A.id))}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Legend"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),n.jsx("span",{children:"Meeting"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),n.jsx("span",{children:"Deadline"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),n.jsx("span",{children:"Milestone"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),n.jsx("span",{children:"Review"})]})]})]})]})]}),j&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsx("h3",{className:"text-2xl font-bold text-foreground",children:j.title}),n.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Date & Time"}),n.jsx("p",{className:"text-foreground",children:Le(j.startDate,"EEEE, MMMM dd, yyyy")}),n.jsx("p",{className:"text-muted-foreground",children:I(j)})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Type & Priority"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded ${_(j.eventType)}`,children:j.eventType}),n.jsx("span",{className:`text-xs px-2 py-1 rounded ${j.priority==="critical"?"bg-red-100 text-red-800":j.priority==="high"?"bg-orange-100 text-orange-800":j.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:j.priority})]})]})]}),j.location&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Location"}),n.jsxs("p",{className:"text-foreground",children:[" ",j.location]})]}),j.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-foreground",children:j.description})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Attendees"}),n.jsx("p",{className:"text-foreground",children:P(j.attendees)})]}),j.projectId&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Related Project"}),n.jsx("p",{className:"text-foreground",children:T(j.projectId)})]}),j.notes&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Notes"}),n.jsx("p",{className:"text-foreground",children:j.notes})]}),n.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:n.jsx("button",{onClick:()=>N(null),className:"btn-outline px-6 py-2",children:"Close"})})]})]})})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const tR=[{id:"timer-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Working on homepage hero image update",entryType:"development",startTime:new Date,status:"running",accumulatedTime:0,isBillable:!0,hourlyRate:75,tags:["frontend","design"]}],rR=[{id:"entry-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Homepage hero image implementation",entryType:"development",startTime:new Date(Date.now()-2*60*60*1e3),endTime:new Date(Date.now()-1*60*60*1e3),duration:60,isBillable:!0,hourlyRate:75,tags:["frontend","design"],createdAt:new Date,updatedAt:new Date},{id:"entry-2",userId:"user-3",projectId:"proj-2",description:"Client meeting - Andebe platform requirements",entryType:"meeting",startTime:new Date(Date.now()-24*60*60*1e3),endTime:new Date(Date.now()-23.5*60*60*1e3),duration:30,isBillable:!0,hourlyRate:85,tags:["meeting","client"],createdAt:new Date,updatedAt:new Date}];function nR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState(null),[a,o]=S.useState(tR),[c,d]=S.useState(rR),[u,m]=S.useState([]),[g,p]=S.useState([]),[j,N]=S.useState([]),[k,y]=S.useState(new Date),[f,w]=S.useState("week"),[b,R]=S.useState({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""});S.useEffect(()=>{if(!e){r("/login");return}m(jt()),p(At()),N(pe());const B=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(B)},[e,r]);const M=B=>{const Z=new Date(B.startTime);return Ly(k,Z)},D=B=>{const Z=Math.floor(B/60),Pe=B%60;return`${Z.toString().padStart(2,"0")}:${Pe.toString().padStart(2,"0")}`},_=()=>{if(!t||!b.description.trim())return;const B={id:`timer-${Date.now()}`,userId:t.id,projectId:b.projectId||void 0,ticketId:b.ticketId||void 0,description:b.description,entryType:b.entryType,startTime:new Date,status:"running",accumulatedTime:0,isBillable:b.isBillable,tags:b.tags.split(",").map(Z=>Z.trim()).filter(Z=>Z)};i(B),o(Z=>[B,...Z])},v=()=>{if(!s||!t)return;const B=new Date,Z=Ly(B,new Date(s.startTime)),Pe={id:`entry-${Date.now()}`,userId:t.id,projectId:s.projectId,ticketId:s.ticketId,description:s.description,entryType:s.entryType,startTime:s.startTime,endTime:B,duration:Z,isBillable:s.isBillable,hourlyRate:s.hourlyRate,tags:s.tags,createdAt:new Date,updatedAt:new Date};d($=>[Pe,...$]),i(null),o($=>$.filter(G=>G.id!==s.id)),R({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""})},T=()=>{const B=new Date;let Z;switch(f){case"today":Z=new Date(B.getFullYear(),B.getMonth(),B.getDate());break;case"week":Z=Wr(B);break;case"month":Z=Gw(B);break;default:Z=Wr(B)}return c.filter(Pe=>new Date(Pe.startTime)>=Z&&Pe.userId===(t==null?void 0:t.id))},P=B=>{const Z=B.reduce((G,ee)=>G+ee.duration,0),Pe=B.filter(G=>G.isBillable).reduce((G,ee)=>G+ee.duration,0),$=B.filter(G=>G.isBillable&&G.hourlyRate).reduce((G,ee)=>G+ee.duration/60*(ee.hourlyRate||0),0);return{totalHours:Math.round(Z/60*100)/100,billableHours:Math.round(Pe/60*100)/100,totalAmount:Math.round($*100)/100}},I=T(),A=P(I),C=B=>{if(!B)return"No Project";const Z=u.find(Pe=>Pe.id===B);return(Z==null?void 0:Z.name)||"Unknown Project"},Q=B=>{if(!B)return null;const Z=g.find(Pe=>Pe.id===B);return Z==null?void 0:Z.title};return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Time Tracking"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your work hours, monitor productivity, and manage billable time"})]}),n.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}].map(B=>n.jsx("button",{onClick:()=>w(B.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f===B.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:B.label},B.value))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:s?"Active Timer":"Start Tracking Time"}),s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl font-mono font-bold text-primary mb-4",children:D(M(s))}),n.jsx("div",{className:"text-lg text-muted-foreground mb-2",children:s.description}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Project: ",C(s.projectId),s.ticketId&&n.jsxs("span",{children:["  Ticket: ",Q(s.ticketId)]})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("button",{onClick:v,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),n.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Stop Timer"]})})]}):n.jsxs("form",{onSubmit:B=>{B.preventDefault(),_()},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),n.jsxs("select",{value:b.projectId,onChange:B=>R(Z=>({...Z,projectId:B.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select Project (Optional)"}),u.map(B=>n.jsx("option",{value:B.id,children:B.name},B.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ticket"}),n.jsxs("select",{value:b.ticketId,onChange:B=>R(Z=>({...Z,ticketId:B.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select Ticket (Optional)"}),g.filter(B=>!b.projectId||B.projectId===b.projectId).map(B=>n.jsx("option",{value:B.id,children:B.title},B.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),n.jsx("input",{type:"text",value:b.description,onChange:B=>R(Z=>({...Z,description:B.target.value})),placeholder:"What are you working on?",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Activity Type"}),n.jsxs("select",{value:b.entryType,onChange:B=>R(Z=>({...Z,entryType:B.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"development",children:"Development"}),n.jsx("option",{value:"design",children:"Design"}),n.jsx("option",{value:"meeting",children:"Meeting"}),n.jsx("option",{value:"review",children:"Review"}),n.jsx("option",{value:"planning",children:"Planning"}),n.jsx("option",{value:"testing",children:"Testing"}),n.jsx("option",{value:"maintenance",children:"Maintenance"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"billable",checked:b.isBillable,onChange:B=>R(Z=>({...Z,isBillable:B.target.checked})),className:"w-4 h-4 rounded border-border"}),n.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-foreground",children:"Billable"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),n.jsx("input",{type:"text",value:b.tags,onChange:B=>R(Z=>({...Z,tags:B.target.value})),placeholder:"frontend, backend, etc.",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground"})]})]}),n.jsxs("button",{type:"submit",className:"w-full btn-primary py-3",children:[n.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10"}),n.jsx("polygon",{points:"10,8 16,12 10,16 10,8"})]}),"Start Timer"]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4",children:["This ",f.charAt(0).toUpperCase()+f.slice(1)]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Hours"}),n.jsxs("span",{className:"text-xl font-bold text-foreground",children:[A.totalHours,"h"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Billable Hours"}),n.jsxs("span",{className:"text-xl font-bold text-green-600",children:[A.billableHours,"h"]})]}),A.totalAmount>0&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),n.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",A.totalAmount]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Stats"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Entries"}),n.jsx("span",{className:"text-sm font-medium",children:I.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg per day"}),n.jsxs("span",{className:"text-sm font-medium",children:[f==="week"?Math.round(A.totalHours/7*10)/10:f==="month"?Math.round(A.totalHours/30*10)/10:Math.round(A.totalHours*10)/10,"h"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Most active project"}),n.jsx("span",{className:"text-sm font-medium",children:I.length>0?C(I[0].projectId):"None"})]})]})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b border-border/50",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Time Entries"}),n.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of your tracked time"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Project"}),n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Duration"}),n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Date"}),n.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Billable"})]})}),n.jsxs("tbody",{children:[I.map((B,Z)=>n.jsxs("tr",{className:Z%2===0?"bg-background":"bg-muted/30",children:[n.jsx("td",{className:"py-3 px-6",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-foreground",children:B.description}),B.tags.length>0&&n.jsxs("div",{className:"flex gap-1 mt-1",children:[B.tags.slice(0,2).map(Pe=>n.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:Pe},Pe)),B.tags.length>2&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",B.tags.length-2]})]})]})}),n.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:C(B.projectId)}),n.jsx("td",{className:"py-3 px-6",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded ${B.entryType==="development"?"bg-primary/10 text-primary":B.entryType==="design"?"bg-purple-100 text-purple-800":B.entryType==="meeting"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:B.entryType})}),n.jsxs("td",{className:"py-3 px-6 font-medium",children:[Math.floor(B.duration/60),"h ",B.duration%60,"m"]}),n.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:Le(new Date(B.startTime),"MMM dd")}),n.jsx("td",{className:"py-3 px-6",children:B.isBillable?n.jsx("span",{className:"text-green-600",children:""}):n.jsx("span",{className:"text-muted-foreground",children:""})})]},B.id)),I.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No time entries found for the selected period"})})]})]})})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const sR=[{id:"template-1",name:"Basic Business Website",description:"A professional website for small businesses including homepage, about, services, and contact pages.",category:"website",estimatedDuration:21,estimatedBudget:3500,difficulty:"beginner",tags:["business","professional","responsive"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Design",description:"Wireframes, mockups, and design approval",order:1,estimatedDuration:7,dependencies:[],deliverables:["design-mockups","wireframes"]},{id:"phase-2",name:"Development",description:"Website coding and implementation",order:2,estimatedDuration:10,dependencies:["phase-1"],deliverables:["homepage","about-page","services-page","contact-page"]},{id:"phase-3",name:"Testing & Launch",description:"Quality assurance and deployment",order:3,estimatedDuration:4,dependencies:["phase-2"],deliverables:["testing-report","live-website"]}],deliverables:[{id:"design-mockups",name:"Design Mockups",description:"Visual design concepts for all pages",phaseId:"phase-1",type:"design",estimatedHours:16,isRequired:!0},{id:"wireframes",name:"Wireframes",description:"Page structure and layout planning",phaseId:"phase-1",type:"design",estimatedHours:8,isRequired:!0},{id:"homepage",name:"Homepage",description:"Main landing page with hero section",phaseId:"phase-2",type:"code",estimatedHours:12,isRequired:!0},{id:"about-page",name:"About Page",description:"Company information and team section",phaseId:"phase-2",type:"code",estimatedHours:8,isRequired:!0},{id:"services-page",name:"Services Page",description:"Business services and offerings",phaseId:"phase-2",type:"code",estimatedHours:10,isRequired:!0},{id:"contact-page",name:"Contact Page",description:"Contact form and business information",phaseId:"phase-2",type:"code",estimatedHours:6,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:36,skills:["HTML","CSS","JavaScript","React"]},{id:"role-2",role:"social_media_coordinator",required:!1,estimatedHours:8,skills:["Social Media","Content Creation"]}],checklists:[]},{id:"template-2",name:"E-commerce Website",description:"Complete online store with product catalog, shopping cart, and payment integration.",category:"ecommerce",estimatedDuration:35,estimatedBudget:8500,difficulty:"intermediate",tags:["ecommerce","shopping","payments"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Requirements",description:"Product analysis and technical planning",order:1,estimatedDuration:5,dependencies:[],deliverables:["requirements-doc","tech-spec"]},{id:"phase-2",name:"Design & UI/UX",description:"User interface and experience design",order:2,estimatedDuration:8,dependencies:["phase-1"],deliverables:["ui-design","user-flows"]},{id:"phase-3",name:"Development",description:"Full-stack development and integration",order:3,estimatedDuration:18,dependencies:["phase-2"],deliverables:["frontend-code","backend-api","database-setup","payment-integration"]},{id:"phase-4",name:"Testing & Deployment",description:"Quality assurance and production launch",order:4,estimatedDuration:4,dependencies:["phase-3"],deliverables:["testing-report","live-site"]}],deliverables:[{id:"requirements-doc",name:"Requirements Document",description:"Detailed project requirements and specifications",phaseId:"phase-1",type:"document",estimatedHours:16,isRequired:!0},{id:"ui-design",name:"UI Design System",description:"Complete design system and component library",phaseId:"phase-2",type:"design",estimatedHours:24,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:80,skills:["React","Node.js","Database","API Development"]}],checklists:[]},{id:"template-3",name:"Social Media Campaign",description:"Complete social media strategy and content creation for brand awareness.",category:"social_media",estimatedDuration:28,estimatedBudget:4200,difficulty:"intermediate",tags:["social","content","branding"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Strategy & Planning",description:"Audience analysis and campaign strategy",order:1,estimatedDuration:7,dependencies:[],deliverables:["strategy-doc","content-calendar"]},{id:"phase-2",name:"Content Creation",description:"Design and create social media content",order:2,estimatedDuration:14,dependencies:["phase-1"],deliverables:["social-posts","graphics","videos"]},{id:"phase-3",name:"Launch & Monitoring",description:"Campaign execution and performance tracking",order:3,estimatedDuration:7,dependencies:["phase-2"],deliverables:["campaign-report","analytics"]}],deliverables:[],teamRoles:[{id:"role-1",role:"social_media_coordinator",required:!0,estimatedHours:56,skills:["Social Media","Content Creation","Graphic Design","Analytics"]}],checklists:[]}];function iR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState(sR),[a,o]=S.useState("all"),[c,d]=S.useState("all"),[u,m]=S.useState(null);S.useEffect(()=>{if(!e){r("/login");return}},[e,r]);const g=[{value:"all",label:"All Categories"},{value:"website",label:"Website"},{value:"social_media",label:"Social Media"},{value:"ecommerce",label:"E-commerce"},{value:"branding",label:"Branding"},{value:"mobile",label:"Mobile App"}],p=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],j=s.filter(y=>{const f=a==="all"||y.category===a,w=c==="all"||y.difficulty===c;return f&&w}),N=y=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800",k=y=>({website:"bg-primary/10 text-primary",social_media:"bg-pink-100 text-pink-800",ecommerce:"bg-purple-100 text-purple-800",branding:"bg-orange-100 text-orange-800",mobile:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"})[y]||"bg-gray-100 text-gray-800";return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Templates"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Jumpstart your projects with professionally designed templates and predefined workflows"})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),n.jsx("select",{value:a,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:g.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),n.jsx("select",{value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:p.map(y=>n.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.role==="admin"&&n.jsx("div",{className:"flex items-end",children:n.jsxs("button",{className:"btn-primary px-6 py-2",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Template"]})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j.map(y=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>m(y),children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:y.name}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N(y.difficulty)}`,children:y.difficulty})]}),n.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:y.description})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${k(y.category)}`,children:y.category.replace("_"," ")}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.phases.length," phases"]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),n.jsxs("span",{className:"font-medium text-foreground ml-1",children:[y.estimatedDuration," days"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Budget:"}),n.jsxs("span",{className:"font-medium text-foreground ml-1",children:["$",y.estimatedBudget.toLocaleString()]})]})]}),n.jsxs("div",{className:"pt-4 border-t border-border/50",children:[n.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.tags.slice(0,3).map(f=>n.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:f},f)),y.tags.length>3&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",y.tags.length-3," more"]})]}),n.jsx("button",{className:"w-full btn-primary py-2 text-sm",children:"Use This Template"})]})]})]},y.id))}),j.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"No templates found matching your criteria"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters or create a custom template"})]}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u.name}),n.jsx("p",{className:"text-muted-foreground",children:u.description})]}),n.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Duration"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[u.estimatedDuration," days"]})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Estimated Budget"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",u.estimatedBudget.toLocaleString()]})]}),n.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Difficulty"}),n.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${N(u.difficulty)}`,children:u.difficulty})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Project Phases"}),n.jsx("div",{className:"space-y-4",children:u.phases.map((y,f)=>n.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm",children:f+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-foreground",children:y.name}),n.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:y.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",n.jsxs("span",{className:"font-medium text-foreground",children:[y.estimatedDuration," days"]})]}),n.jsxs("span",{className:"text-muted-foreground",children:["Deliverables: ",n.jsx("span",{className:"font-medium text-foreground",children:y.deliverables.length})]})]})]})]},y.id))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Team Requirements"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.teamRoles.map(y=>n.jsxs("div",{className:"p-4 border border-border/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-semibold text-foreground capitalize",children:y.role.replace("_"," ")}),y.required&&n.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Est. ",y.estimatedHours," hours"]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:y.skills.map(f=>n.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:f},f))})]},y.id))})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[n.jsx("button",{onClick:()=>m(null),className:"btn-outline px-6 py-2",children:"Close"}),n.jsx("button",{className:"btn-primary px-6 py-2",children:"Use This Template"})]})]})})})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function aR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState("30d"),[a,o]=S.useState([]),[c,d]=S.useState([]),[u,m]=S.useState([]),[g,p]=S.useState([]),[j,N]=S.useState([]);S.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}o(jt()),d(At()),m(pe()),p(mb()),N(Qm())},[e,t,r]);const y=(()=>{const T=Yw(new Date,s==="7d"?7:s==="30d"?30:s==="90d"?90:365);return{recentTickets:c.filter(P=>new Date(P.createdAt)>=T),recentProjects:a.filter(P=>new Date(P.createdAt)>=T),recentWebsite:g.filter(P=>new Date(P.date)>=T),recentSocial:j.filter(P=>new Date(P.date)>=T)}})(),f={totalProjects:a.length,activeProjects:a.filter(v=>v.status==="active").length,completedProjects:a.filter(v=>v.status==="completed").length,projectCompletionRate:a.length>0?Math.round(a.filter(v=>v.status==="completed").length/a.length*100):0,totalTickets:y.recentTickets.length,openTickets:y.recentTickets.filter(v=>v.status==="open"||v.status==="in_progress").length,resolvedTickets:y.recentTickets.filter(v=>v.status==="resolved").length,avgResolutionTime:2.4,totalPageViews:y.recentWebsite.reduce((v,T)=>v+T.pageViews,0),uniqueVisitors:y.recentWebsite.length>0?Math.round(y.recentWebsite.reduce((v,T)=>v+T.uniqueVisitors,0)/y.recentWebsite.length):0,avgBounceRate:y.recentWebsite.length>0?Math.round(y.recentWebsite.reduce((v,T)=>v+T.bounceRate,0)/y.recentWebsite.length):0,totalReach:y.recentSocial.reduce((v,T)=>v+T.reach,0),totalEngagement:y.recentSocial.reduce((v,T)=>v+T.engagement,0),engagementRate:y.recentSocial.length>0?Math.round(y.recentSocial.reduce((v,T)=>v+T.engagement,0)/y.recentSocial.reduce((v,T)=>v+T.reach,0)*100):0,totalUsers:u.length,activeUsers:u.filter(v=>v.isActive).length,teamUtilization:78,totalRevenue:156750,avgProjectValue:Math.round(a.reduce((v,T)=>v+3500,0)/a.length),profitMargin:32},w={revenue:[{month:"Jan",value:12500},{month:"Feb",value:15200},{month:"Mar",value:18900},{month:"Apr",value:22100},{month:"May",value:25800},{month:"Jun",value:31200}],projects:[{month:"Jan",value:8},{month:"Feb",value:12},{month:"Mar",value:15},{month:"Apr",value:18},{month:"May",value:22},{month:"Jun",value:25}]},b=a.filter(v=>v.status==="active").sort((v,T)=>new Date(T.updatedAt).getTime()-new Date(v.updatedAt).getTime()).slice(0,5),R=[{type:"project",action:"completed",item:"SpecCon Website",time:"2 hours ago"},{type:"ticket",action:"resolved",item:"Mobile navigation fix",time:"4 hours ago"},{type:"meeting",action:"scheduled",item:"Client presentation",time:"6 hours ago"},{type:"user",action:"joined",item:"Jane Smith",time:"1 day ago"},{type:"analytics",action:"reported",item:"Website traffic up 15%",time:"2 days ago"}],M=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v),D=v=>({project:"",ticket:"",meeting:"",user:"",analytics:""})[v]||"",_=v=>({project:"text-primary",ticket:"text-green-600",meeting:"text-purple-600",user:"text-orange-600",analytics:"text-indigo-600"})[v]||"text-gray-600";return!t||t.role!=="admin"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Executive Dashboard"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive business overview and performance insights"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{className:"btn-outline px-4 py-2",children:"Export Report"}),n.jsx("button",{className:"btn-primary px-4 py-2",children:"Schedule Meeting"})]})]}),n.jsx("div",{className:"flex gap-2 mb-8",children:[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}].map(v=>n.jsx("button",{onClick:()=>i(v.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s===v.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:v.label},v.value))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:M(f.totalRevenue)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.activeProjects}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[f.projectCompletionRate,"% completion rate"]})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.totalPageViews.toLocaleString()}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Views"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[f.teamUtilization,"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Utilization"}),n.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[f.activeUsers,"/",f.totalUsers," active members"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Performance Trends"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Revenue Growth"}),n.jsx("span",{className:"text-sm text-green-600",children:"+18%"})]}),n.jsx("div",{className:"flex gap-1 mb-2",children:w.revenue.map((v,T)=>n.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${v.value/35e3*60}px`}},v.month))}),n.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:w.revenue.map(v=>n.jsx("span",{children:v.month},v.month))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-foreground",children:"Project Delivery"}),n.jsx("span",{className:"text-sm text-primary",children:"+25%"})]}),n.jsx("div",{className:"flex gap-1 mb-2",children:w.projects.map((v,T)=>n.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${v.value/30*60}px`}},v.month))}),n.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:w.projects.map(v=>n.jsx("span",{children:v.month},v.month))})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Active Projects"}),n.jsx("div",{className:"space-y-4",children:b.map((v,T)=>n.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-bold text-primary",children:T+1})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-foreground",children:v.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.currentStage,"  ",v.projectType]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v.status==="active"?"bg-green-100 text-green-800":v.status==="completed"?"bg-success/10 text-success":"bg-yellow-100 text-yellow-800"}`,children:v.status})})]},v.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),n.jsx("div",{className:"space-y-4",children:R.map((v,T)=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border border-border/50 rounded-lg",children:[n.jsx("div",{className:"text-xl",children:D(v.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-foreground",children:[n.jsx("span",{className:`font-medium ${_(v.type)}`,children:v.action.charAt(0).toUpperCase()+v.action.slice(1)})," "+v.item]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:v.time})]})]},T))})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{className:"w-full btn-primary text-left py-3 px-4 rounded-lg",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),n.jsxs("button",{className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Send Message"]}),n.jsxs(O,{to:"/analytics",className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[n.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Key Stats"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Resolution Time"}),n.jsxs("span",{className:"text-sm font-medium text-foreground",children:[f.avgResolutionTime,"d"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),n.jsxs("span",{className:"text-sm font-medium text-foreground",children:[f.engagementRate,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),n.jsxs("span",{className:"text-sm font-medium text-green-600",children:[f.profitMargin,"%"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Client Satisfaction"}),n.jsx("span",{className:"text-sm font-medium text-foreground",children:"4.8/5.0"})]})]})]})]})]})]})}),n.jsx(he,{})]})}function oR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState([{id:"notif-1",type:"project",title:"Project Status Updated",message:"SpecCon website project has moved to the testing phase",read:!1,createdAt:new Date(Date.now()-1e3*60*30),actionUrl:"/client-portal/project/proj-1",priority:"medium",sender:"John Developer",metadata:{projectId:"proj-1",oldStatus:"development",newStatus:"testing"}},{id:"notif-2",type:"deadline",title:"Upcoming Deadline",message:"Andebe platform development deadline is approaching (2 days remaining)",read:!1,createdAt:new Date(Date.now()-1e3*60*60*2),actionUrl:"/calendar",priority:"high",metadata:{projectId:"proj-2",deadline:new Date(Date.now()+1e3*60*60*24*2)}},{id:"notif-3",type:"message",title:"New Message from Client",message:"Emma Business sent you a message about the Venueideas project",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4),actionUrl:"/messages",priority:"medium",sender:"Emma Business",metadata:{messageId:"message-6",projectId:"proj-10"}},{id:"notif-4",type:"meeting",title:"Meeting Reminder",message:"Client presentation meeting starts in 1 hour",read:!1,createdAt:new Date(Date.now()-1e3*60*15),actionUrl:"/calendar",priority:"urgent",metadata:{meetingId:"event-3",startTime:new Date(Date.now()+1e3*60*45)}},{id:"notif-5",type:"ticket",title:"Ticket Assigned",message:"New bug report assigned to you: Mobile navigation issue",read:!0,createdAt:new Date(Date.now()-1e3*60*60*6),actionUrl:"/developer/tickets",priority:"high",sender:"Admin User",metadata:{ticketId:"ticket-2",priority:"high"}},{id:"notif-6",type:"system",title:"System Maintenance",message:"Scheduled maintenance will begin tonight at 10 PM",read:!0,createdAt:new Date(Date.now()-1e3*60*60*24),priority:"low",metadata:{maintenanceStart:new Date(Date.now()+1e3*60*60*2)}}]),[a,o]=S.useState("all"),[c,d]=S.useState("all");S.useEffect(()=>{const f=setInterval(()=>{if(Math.random()<.1){const w={id:`notif-${Date.now()}`,type:["project","ticket","message","deadline"][Math.floor(Math.random()*4)],title:"New Activity",message:"Something happened in your workspace",read:!1,createdAt:new Date,priority:["low","medium","high","urgent"][Math.floor(Math.random()*4)]};i(b=>[w,...b])}},5e3);return()=>clearInterval(f)},[]);const u=s.filter(f=>{const w=a==="all"||a==="unread"&&!f.read||a==="read"&&f.read,b=c==="all"||f.type===c;return w&&b}),m=s.filter(f=>!f.read).length,g=f=>{i(w=>w.map(b=>b.id===f?{...b,read:!0}:b))},p=()=>{i(f=>f.map(w=>({...w,read:!0})))},j=f=>{i(w=>w.filter(b=>b.id!==f))},N=f=>({project:"",ticket:"",message:"",deadline:"",meeting:"",system:""})[f]||"",k=f=>({low:"border-l-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-l-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-l-red-500 bg-red-50 dark:bg-red-900/20"})[f]||"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20",y=f=>{const b=Math.floor((new Date().getTime()-f.getTime())/(1e3*60));if(b<1)return"Just now";if(b<60)return`${b}m ago`;const R=Math.floor(b/60);if(R<24)return`${R}h ago`;const M=Math.floor(R/24);return M<7?`${M}d ago`:Le(f,"MMM dd")};return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Notifications"}),n.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Stay updated with real-time activity and important alerts",m>0&&n.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),m," unread"]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[m>0&&n.jsx("button",{onClick:p,className:"btn-outline",children:"Mark All Read"}),n.jsx("button",{className:"btn-primary",children:"Notification Settings"})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Status:"}),[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"read",label:"Read"}].map(f=>n.jsx("button",{onClick:()=>o(f.value),className:`px-3 py-1 rounded text-sm transition-colors ${a===f.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:f.label},f.value))]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Type:"}),[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"ticket",label:"Tickets"},{value:"message",label:"Messages"},{value:"meeting",label:"Meetings"},{value:"deadline",label:"Deadlines"},{value:"system",label:"System"}].map(f=>n.jsx("button",{onClick:()=>d(f.value),className:`px-3 py-1 rounded text-sm transition-colors ${c===f.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:f.label},f.value))]})]})}),n.jsx("div",{className:"space-y-4",children:u.length>0?u.map(f=>n.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 transition-all duration-200 hover:shadow-md ${f.read?"":`border-l-4 ${k(f.priority)}`}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-lg",children:N(f.type)})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:f.title}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!f.read&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:y(f.createdAt)})]})]}),n.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:f.message}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f.priority==="urgent"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority}),f.sender&&n.jsxs("span",{className:"text-muted-foreground",children:["From: ",f.sender]}),n.jsx("span",{className:"text-muted-foreground capitalize",children:f.type})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[f.actionUrl&&n.jsx("button",{onClick:()=>r(f.actionUrl),className:"btn-primary text-sm px-3 py-1",children:"View"}),!f.read&&n.jsx("button",{onClick:()=>g(f.id),className:"btn-outline text-sm px-3 py-1",children:"Mark Read"}),n.jsx("button",{onClick:()=>j(f.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"Delete notification",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},f.id)):n.jsxs("div",{className:"text-center py-16",children:[n.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})}),n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notifications found"}),n.jsx("p",{className:"text-muted-foreground",children:a==="unread"?"All caught up! No unread notifications.":c!=="all"?`No ${c} notifications found.`:"You have no notifications at this time."})]})}),n.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl border border-primary/10 p-8",children:[n.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Notification Preferences"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize when and how you receive notifications to stay informed without being overwhelmed."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Project Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Status changes, new milestones"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Email"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"In-app"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Ticket Activity"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"New assignments, updates"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Email"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"In-app"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Meeting Reminders"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upcoming meetings, deadlines"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Email"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"In-app"})]})]})]})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const zy=(t,e,r,s)=>{const i=[],a=t.filter(R=>R.status==="completed").length,o=t.length,c=o>0?a/o*100:0;c>80?i.push({type:"success",title:"Excellent Project Completion Rate",description:`Your team has completed ${c.toFixed(1)}% of projects. This indicates high efficiency and client satisfaction.`,recommendation:"Consider taking on more complex projects to further challenge your team's capabilities.",impact:"high",category:"performance"}):c<50&&i.push({type:"warning",title:"Project Completion Rate Needs Improvement",description:`Only ${c.toFixed(1)}% of projects are completed. This may indicate workflow inefficiencies.`,recommendation:"Review project management processes and consider implementing more structured workflows.",impact:"high",category:"performance"});const d=e.filter(R=>R.status==="open"||R.status==="in_progress").length,u=e.filter(R=>R.status==="resolved").length,m=e.length;(m>0?u/m*100:0)<70&&i.push({type:"alert",title:"High Open Ticket Volume",description:`${d} tickets remain unresolved. This may impact client satisfaction.`,recommendation:"Reassign critical tickets and consider hiring additional support staff.",impact:"high",category:"support"});const p=r.filter(R=>R.isActive).length,j=r.length,N=p/j*100;N<80&&i.push({type:"info",title:"Underutilized Team Capacity",description:`${N.toFixed(1)}% of your team is actively engaged. There may be opportunities for growth.`,recommendation:"Consider taking on additional projects or providing professional development opportunities.",impact:"medium",category:"team"});const k=s.filter(R=>!R.isRead).length;k>10&&i.push({type:"warning",title:"High Volume of Unread Messages",description:`${k} messages are unread. This may indicate communication bottlenecks.`,recommendation:"Review team communication patterns and consider implementing daily standups.",impact:"medium",category:"communication"});const y=t.filter(R=>{const M=new Date(R.createdAt);return M.setDate(M.getDate()+30),new Date>M&&R.status!=="completed"});y.length>0&&i.push({type:"urgent",title:"Overdue Projects Detected",description:`${y.length} project(s) are behind schedule.`,recommendation:"Review project timelines and reallocate resources to bring projects back on track.",impact:"high",category:"timeline"});const f=28500;i.push({type:"success",title:"Exceptional Client Satisfaction",description:`Client satisfaction rating of ${4.8}/5.0 shows outstanding service quality.`,recommendation:"Leverage client testimonials in marketing materials and consider referral programs.",impact:"high",category:"client"});const b=f*1.15;return i.push({type:"info",title:"Revenue Growth Projection",description:`Based on current trends, projected monthly revenue could reach $${b.toLocaleString()}.`,recommendation:"Prepare for scaling by investing in team growth and process optimization.",impact:"medium",category:"forecasting"}),i.sort((R,M)=>{const D={high:3,medium:2,low:1},_={urgent:4,alert:3,warning:2,success:1,info:0};return D[R.impact]!==D[M.impact]?D[M.impact]-D[R.impact]:_[M.type]-_[R.type]})};function lR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState([]),[a,o]=S.useState("all"),[c,d]=S.useState("all"),[u,m]=S.useState(!0);S.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}m(!0),setTimeout(()=>{const f=jt(),w=At(),b=pe(),R=t?gs(t.id):[],M=zy(f,w,b,R);i(M),m(!1)},2e3)},[e,t,r]);const g=[{value:"all",label:"All Insights"},{value:"performance",label:"Performance"},{value:"team",label:"Team"},{value:"client",label:"Client"},{value:"financial",label:"Financial"},{value:"communication",label:"Communication"},{value:"timeline",label:"Timeline"},{value:"forecasting",label:"Forecasting"}],p=[{value:"all",label:"All Priorities"},{value:"high",label:"High Impact"},{value:"medium",label:"Medium Impact"},{value:"low",label:"Low Impact"}],j=s.filter(f=>{const w=a==="all"||f.category===a,b=c==="all"||f.impact===c;return w&&b}),N=f=>({success:"",warning:"",alert:"",urgent:"",info:""})[f]||"",k=f=>({success:"border-green-500 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",alert:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20",info:"border-primary bg-secondary/10 dark:bg-secondary/20"})[f]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",y=f=>({high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[f]||"bg-gray-100 text-gray-800";return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" AI-Powered Insights"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Intelligent analysis and actionable recommendations to optimize your business performance"})]}),u&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Analyzing Your Data..."}),n.jsx("p",{className:"text-muted-foreground",children:"Our AI is processing your business metrics and generating insights"})]})]}),n.jsx("div",{className:"mt-4 bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),n.jsx("select",{value:a,onChange:f=>o(f.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:g.map(f=>n.jsx("option",{value:f.value,children:f.label},f.value))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impact Level"}),n.jsx("select",{value:c,onChange:f=>d(f.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:p.map(f=>n.jsx("option",{value:f.value,children:f.label},f.value))})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>{m(!0),setTimeout(()=>{const f=jt(),w=At(),b=pe(),R=t?gs(t.id):[],M=zy(f,w,b,R);i(M),m(!1)},1500)},className:"btn-primary px-6 py-2",children:" Re-analyze"})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map((f,w)=>n.jsxs("div",{className:`rounded-xl border-l-4 p-6 ${k(f.type)} hover:shadow-lg transition-all duration-200`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"text-3xl",children:N(f.type)}),n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${y(f.impact)}`,children:[f.impact," impact"]})]}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-3",children:f.title}),n.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:f.description}),n.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Recommendation"}),n.jsx("p",{className:"text-sm text-foreground",children:f.recommendation})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("span",{className:"capitalize",children:f.category}),n.jsx("span",{className:"capitalize",children:f.type})]})]},w))}),j.length===0&&!u&&n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No insights found"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or run a new analysis to generate insights"}),n.jsx("button",{onClick:()=>{o("all"),d("all")},className:"btn-primary",children:"Show All Insights"})]}),n.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 via-purple-500/5 to-blue-500/5 rounded-xl border border-primary/10 p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" AI-Powered Features"}),n.jsx("p",{className:"text-muted-foreground",children:"Advanced machine learning and predictive analytics"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-3xl mb-3",children:""}),n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Predictive Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecast trends and project outcomes"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-3xl mb-3",children:""}),n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Recommendations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Actionable insights for optimization"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-3xl mb-3",children:""}),n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Pattern Recognition"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Identify trends and anomalies"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"text-3xl mb-3",children:""}),n.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Real-time Analysis"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous monitoring and alerts"})]})]})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const Nu=[{id:"slack",name:"Slack",description:"Connect your workspace for real-time notifications and team communication",category:"communication",status:"available",icon:"",features:["Real-time notifications","Channel integration","Team mentions","Status updates"],setupSteps:["Authorize Slack workspace","Select notification channels","Configure message templates","Test integration"],pricing:"Free"},{id:"google-calendar",name:"Google Calendar",description:"Sync your calendar with Google Calendar for seamless scheduling",category:"productivity",status:"available",icon:"",features:["Two-way sync","Meeting invites","Availability sharing","Reminder integration"],setupSteps:["Connect Google account","Grant calendar permissions","Select calendars to sync","Configure sync settings"],pricing:"Free"},{id:"zapier",name:"Zapier",description:"Automate workflows by connecting with 5,000+ apps",category:"automation",status:"available",icon:"",features:["Workflow automation","App integrations","Custom triggers","Data synchronization"],setupSteps:["Create Zapier account","Generate API key","Configure webhooks","Test automation flows"],pricing:"$29.99/month"},{id:"mailchimp",name:"Mailchimp",description:"Sync client data and automate email campaigns",category:"marketing",status:"available",icon:"",features:["Contact synchronization","Automated campaigns","Performance tracking","List management"],setupSteps:["Connect Mailchimp account","Map data fields","Configure sync rules","Set up automation triggers"],pricing:"Free to $299/month"},{id:"stripe",name:"Stripe",description:"Process payments and manage billing automatically",category:"financial",status:"coming_soon",icon:"",features:["Payment processing","Invoice generation","Subscription management","Financial reporting"],setupSteps:["Connect Stripe account","Configure payment methods","Set up webhooks","Test payment flow"],pricing:"2.9% + 30 per transaction"},{id:"github",name:"GitHub",description:"Track development progress and code deployments",category:"development",status:"available",icon:"",features:["Repository monitoring","Deployment tracking","Issue synchronization","Code review integration"],setupSteps:["Authorize GitHub account","Select repositories","Configure webhooks","Set up notifications"],pricing:"Free"},{id:"figma",name:"Figma",description:"Sync design files and track creative project progress",category:"design",status:"coming_soon",icon:"",features:["File synchronization","Version tracking","Comment integration","Design handoff"],setupSteps:["Connect Figma account","Select design files","Configure sync settings","Set up notifications"],pricing:"Free to $144/year"},{id:"hubspot",name:"HubSpot",description:"CRM integration for lead management and client tracking",category:"crm",status:"available",icon:"",features:["Lead synchronization","Contact management","Deal tracking","Email integration"],setupSteps:["Connect HubSpot account","Map data fields","Configure sync rules","Set up automation"],pricing:"Free to $3,600/month"}],Wy=[{id:"slack-connected",integrationId:"slack",status:"connected",connectedAt:new Date(Date.now()-7*24*60*60*1e3),lastSync:new Date(Date.now()-30*60*1e3),settings:{channels:["#general","#projects","#client-updates"],notifications:["project_updates","deadline_alerts","client_messages"]}},{id:"google-calendar-connected",integrationId:"google-calendar",status:"connected",connectedAt:new Date(Date.now()-14*24*60*60*1e3),lastSync:new Date(Date.now()-5*60*1e3),settings:{calendars:["Work Calendar","Client Meetings"],syncDirection:"two-way",reminderTime:15}}];function cR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState("all"),[a,o]=S.useState(null);S.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const c=[{value:"all",label:"All Categories"},{value:"communication",label:"Communication"},{value:"productivity",label:"Productivity"},{value:"automation",label:"Automation"},{value:"marketing",label:"Marketing"},{value:"financial",label:"Financial"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"crm",label:"CRM"}],d=Nu.filter(p=>s==="all"||p.category===s),u=async p=>{var j;o(p),await new Promise(N=>setTimeout(N,2e3)),alert(`Successfully connected to ${(j=Nu.find(N=>N.id===p))==null?void 0:j.name}!`),o(null)},m=p=>Wy.find(j=>j.integrationId===p),g=p=>({connected:"bg-green-100 text-green-800",available:"bg-secondary/10 text-secondary",coming_soon:"bg-yellow-100 text-yellow-800"})[p]||"bg-gray-100 text-gray-800";return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" API Integrations Hub"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Connect with your favorite tools and automate your workflow"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Connected Services"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Wy.map(p=>{const j=Nu.find(N=>N.id===p.integrationId);return j?n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-2xl",children:j.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-foreground",children:j.name}),n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Connected"})]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",new Date(p.lastSync).toLocaleString()]})]},p.id):null})})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Filter by Category"}),n.jsx("select",{value:s,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:c.map(p=>n.jsx("option",{value:p.value,children:p.label},p.value))})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("p",{className:"font-medium",children:["API Status: ",n.jsx("span",{className:"text-green-600",children:" Online"})]}),n.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(p=>{const j=m(p.id),N=a===p.id;return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-3xl",children:p.icon}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-foreground",children:p.name}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g(p.status)}`,children:p.status.replace("_"," ")})]})]}),j&&n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),n.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:p.description}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Key Features:"}),n.jsx("ul",{className:"space-y-1",children:p.features.slice(0,3).map((k,y)=>n.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[n.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),k]},y))})]}),n.jsx("div",{className:"mb-6",children:n.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Pricing: ",n.jsx("span",{className:"text-primary",children:p.pricing})]})}),n.jsx("div",{className:"flex gap-3",children:j?n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"flex-1 btn-outline text-sm",children:"Configure"}),n.jsx("button",{className:"btn-outline text-red-600 hover:bg-red-50 text-sm px-4",children:"Disconnect"})]}):p.status==="coming_soon"?n.jsx("button",{className:"flex-1 btn-outline text-sm",disabled:!0,children:"Coming Soon"}):n.jsx("button",{onClick:()=>u(p.id),disabled:N,className:"flex-1 btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:N?n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):"Connect"})}),!j&&p.status==="available"&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[n.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Setup Steps:"}),n.jsx("ol",{className:"text-xs text-muted-foreground space-y-1",children:p.setupSteps.map((k,y)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"flex-shrink-0 w-4 h-4 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium",children:y+1}),k]},y))})]})]},p.id)})}),n.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Why Integrate?"}),n.jsx("p",{className:"text-muted-foreground",children:"Maximize productivity with seamless tool connections"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Automate Workflows"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminate manual data entry and repetitive tasks with smart automation"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Real-time Sync"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep all your tools in sync with instant data synchronization"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Unified Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get comprehensive insights across all connected platforms"})]})]})]}),n.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Developer Resources"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"REST API"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Build custom integrations with our comprehensive REST API"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{className:"btn-outline text-sm w-full",children:"View API Documentation"}),n.jsx("button",{className:"btn-outline text-sm w-full",children:"Generate API Key"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Webhooks"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Receive real-time notifications for system events"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("button",{className:"btn-outline text-sm w-full",children:"Configure Webhooks"}),n.jsx("button",{className:"btn-outline text-sm w-full",children:"View Event Logs"})]})]})]})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const dR=[{id:"workflow-1",name:"New Project Welcome Email",description:"Automatically send welcome email when a new project is created",trigger:{type:"project_created",conditions:[]},actions:[{type:"send_email",config:{to:"{{client.email}}",subject:"Welcome to {{project.name}}!",template:"welcome_email"}},{type:"create_task",config:{title:"Send project brief to client",assignee:"account_manager",dueDate:"2 days from now"}}],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),lastTriggered:new Date(Date.now()-2*24*60*60*1e3),triggerCount:15},{id:"workflow-2",name:"High Priority Ticket Escalation",description:"Escalate high-priority tickets and notify team leads",trigger:{type:"ticket_created",conditions:[{field:"priority",operator:"equals",value:"critical"}]},actions:[{type:"notify_user",config:{user:"team_lead",message:"Critical ticket created: {{ticket.title}}",channel:"urgent"}},{type:"update_ticket",config:{status:"in_progress",assignee:"senior_developer"}},{type:"create_meeting",config:{title:"Urgent Ticket Review: {{ticket.title}}",attendees:["team_lead","project_manager"],duration:30}}],isActive:!0,createdAt:new Date(Date.now()-45*24*60*60*1e3),lastTriggered:new Date(Date.now()-1*24*60*60*1e3),triggerCount:8},{id:"workflow-3",name:"Project Completion Celebration",description:"Celebrate project completion with automated notifications",trigger:{type:"project_completed",conditions:[]},actions:[{type:"send_notification",config:{to:"all_team_members",message:" Project {{project.name}} completed successfully!",type:"celebration"}},{type:"create_task",config:{title:"Schedule project retrospective meeting",assignee:"project_manager",dueDate:"1 week from now"}},{type:"send_email",config:{to:"{{client.email}}",subject:"Project {{project.name}} Completed!",template:"completion_email"}}],isActive:!0,createdAt:new Date(Date.now()-60*24*60*60*1e3),lastTriggered:new Date(Date.now()-5*24*60*60*1e3),triggerCount:12}],_u=[{id:"project_created",name:"Project Created",icon:"",description:"When a new project is created"},{id:"project_completed",name:"Project Completed",icon:"",description:"When a project status changes to completed"},{id:"ticket_created",name:"Ticket Created",icon:"",description:"When a new ticket is created"},{id:"ticket_updated",name:"Ticket Updated",icon:"",description:"When a ticket is updated"},{id:"client_feedback",name:"Client Feedback",icon:"",description:"When client submits feedback"},{id:"deadline_approaching",name:"Deadline Approaching",icon:"",description:"When a deadline is within 24 hours"}],ku=[{id:"send_email",name:"Send Email",icon:"",description:"Send an email notification"},{id:"send_notification",name:"Send Notification",icon:"",description:"Send in-app notification"},{id:"create_task",name:"Create Task",icon:"",description:"Create a new task"},{id:"update_ticket",name:"Update Ticket",icon:"",description:"Update ticket properties"},{id:"create_meeting",name:"Create Meeting",icon:"",description:"Schedule a meeting"},{id:"notify_user",name:"Notify User",icon:"",description:"Send notification to specific user"},{id:"webhook",name:"Webhook",icon:"",description:"Send data to external service"}];function uR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState(dR),[a,o]=S.useState(null),[c,d]=S.useState(!1),[u,m]=S.useState({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]});S.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const g=()=>{const y={...u,id:`workflow-${Date.now()}`,isActive:!0,createdAt:new Date,lastTriggered:null,triggerCount:0};i(f=>[y,...f]),m({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]}),d(!1)},p=y=>{i(f=>f.map(w=>w.id===y?{...w,isActive:!w.isActive}:w))},j=y=>{confirm("Are you sure you want to delete this workflow?")&&i(f=>f.filter(w=>w.id!==y))},N=y=>{const f=_u.find(w=>w.id===y);return(f==null?void 0:f.name)||y},k=y=>{const f=ku.find(w=>w.id===y);return(f==null?void 0:f.name)||y};return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-4 mb-4",children:n.jsx(O,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),n.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" Workflow Automation"}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Create powerful automations to streamline your business processes"})]}),n.jsxs("button",{onClick:()=>d(!0),className:"btn-primary px-6 py-3",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Workflow"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s.map(y=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:y.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${y.isActive?"bg-green-500":"bg-gray-400"}`}),n.jsx("button",{onClick:()=>o(y),className:"p-1 hover:bg-muted rounded",children:n.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),n.jsx("span",{className:"font-medium",children:N(y.trigger.type)})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),n.jsxs("span",{className:"font-medium",children:[y.actions.length," configured"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Triggered:"}),n.jsxs("span",{className:"font-medium",children:[y.triggerCount," times"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>p(y.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.isActive?"bg-green-600":"bg-gray-200"}`,children:n.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.isActive?"translate-x-6":"translate-x-1"}`})}),n.jsx("span",{className:"text-xs text-muted-foreground",children:y.isActive?"Active":"Inactive"})]}),n.jsx("button",{onClick:()=>j(y.id),className:"p-1 text-muted-foreground hover:text-red-600 transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},y.id))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Triggers"}),n.jsx("div",{className:"space-y-3",children:_u.map(y=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[n.jsx("span",{className:"text-2xl",children:y.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:y.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]})]},y.id))})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Actions"}),n.jsx("div",{className:"space-y-3",children:ku.map(y=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[n.jsx("span",{className:"text-2xl",children:y.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:y.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]})]},y.id))})]})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-background rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Create New Workflow"}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Workflow Name"}),n.jsx("input",{type:"text",value:u.name,onChange:y=>m(f=>({...f,name:y.target.value})),placeholder:"Enter workflow name",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),n.jsx("textarea",{value:u.description,onChange:y=>m(f=>({...f,description:y.target.value})),placeholder:"Describe what this workflow does",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Trigger Event"}),n.jsxs("select",{value:u.trigger.type,onChange:y=>m(f=>({...f,trigger:{...f.trigger,type:y.target.value}})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[n.jsx("option",{value:"",children:"Select a trigger"}),_u.map(y=>n.jsx("option",{value:y.id,children:y.name},y.id))]})]}),n.jsx("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-primary dark:text-primary",children:[" ",n.jsx("strong",{children:"Pro Tip:"})," Start with simple workflows and gradually add complexity. Test your workflows thoroughly before deploying to production."]})}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[n.jsx("button",{onClick:()=>d(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:!u.name.trim()||!u.trigger.type,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})]})})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:a.description})]}),n.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workflow Details"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),n.jsx("span",{className:`ml-2 text-sm px-2 py-1 rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Trigger:"}),n.jsx("span",{className:"ml-2 text-sm",children:N(a.trigger.type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Actions:"}),n.jsxs("span",{className:"ml-2 text-sm",children:[a.actions.length," configured"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Triggered:"}),n.jsxs("span",{className:"ml-2 text-sm",children:[a.triggerCount," times"]})]}),a.lastTriggered&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Run:"}),n.jsx("span",{className:"ml-2 text-sm",children:new Date(a.lastTriggered).toLocaleString()})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Configured Actions"}),n.jsxs("div",{className:"space-y-3",children:[a.actions.map((y,f)=>{var w;return n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx("span",{className:"text-xl",children:((w=ku.find(b=>b.id===y.type))==null?void 0:w.icon)||""}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-foreground",children:k(y.type)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configured with ",Object.keys(y.config||{}).length," settings"]})]})]},f)}),a.actions.length===0&&n.jsx("p",{className:"text-muted-foreground text-sm",children:"No actions configured yet"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border mt-8",children:[n.jsx("button",{onClick:()=>o(null),className:"btn-outline px-6 py-2",children:"Close"}),n.jsx("button",{className:"btn-primary px-6 py-2",children:"Edit Workflow"})]})]})})}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-500/5 via-blue-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Automation Benefits"}),n.jsx("p",{className:"text-muted-foreground",children:"Transform your business with intelligent workflows"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Reduce Manual Work"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate repetitive tasks and focus on strategic work that matters"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Increase Efficiency"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Streamline processes and reduce response times across your organization"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Improve Consistency"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ensure standardized processes and reduce human error in workflows"})]})]})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function hR(){const{user:t,isSignedIn:e}=se(),r=ae(),[s,i]=S.useState([]),[a,o]=S.useState([]),[c,d]=S.useState([]),[u,m]=S.useState([]),[g,p]=S.useState(!0);S.useEffect(()=>{if(!e){r("/login");return}const b=jt(),R=At(),M=pe(),D=t?gs(t.id):[];i(b),o(R),d(M),m(D),p(!1)},[e,t,r]);const j={totalProjects:s.length,activeProjects:s.filter(b=>b.status==="active").length,completedProjects:s.filter(b=>b.status==="completed").length,totalTickets:a.length,openTickets:a.filter(b=>b.status==="open"||b.status==="in_progress").length,resolvedTickets:a.filter(b=>b.status==="resolved").length,totalUsers:c.length,activeUsers:c.filter(b=>b.isActive).length,unreadMessages:u.filter(b=>!b.isRead&&b.recipientId===(t==null?void 0:t.id)).length,totalRevenue:156750},N=[{type:"project",action:"completed",item:"SpecCon Website",user:"John Developer",time:"2 hours ago",icon:""},{type:"ticket",action:"resolved",item:"Mobile navigation fix",user:"Jane Smith",time:"4 hours ago",icon:""},{type:"message",action:"sent",item:"Client feedback received",user:"Emma Business",time:"6 hours ago",icon:""},{type:"meeting",action:"scheduled",item:"Project review meeting",user:"Admin User",time:"1 day ago",icon:""}],k=()=>{if(!t)return[];switch(t.role){case"admin":return[{title:"New Project",description:"Create a new project",icon:"",action:"/admin/projects/new",color:"bg-primary"},{title:"Manage Users",description:"Add or edit team members",icon:"",action:"/admin/users",color:"bg-green-500"},{title:"View Analytics",description:"Business performance data",icon:"",action:"/analytics",color:"bg-purple-500"},{title:"System Reports",description:"Executive dashboard",icon:"",action:"/reports",color:"bg-orange-500"}];case"web_developer":return[{title:"My Tickets",description:"Assigned development tasks",icon:"",action:"/developer/tickets",color:"bg-primary"},{title:"My Projects",description:"Social media campaigns",icon:"",action:"/coordinator/projects",color:"bg-primary"},{title:"Project Status",description:"View project progress",icon:"",action:"/client-portal/dashboard",color:"bg-primary"},{title:"Submit Feedback",description:"Rate our work",icon:"",action:"/client-portal/feedback",color:"bg-green-500"},{title:"Share Files",description:"Upload project assets",icon:"",action:"/client-portal/files",color:"bg-purple-500"},{title:"Message Team",description:"Contact your team",icon:"",action:"/messages",color:"bg-orange-500"}];default:return[]}},y=[{type:"deadline",title:"Project Deadline Approaching",message:"Andebe platform development deadline is in 2 days",priority:"high",action:"/calendar"},{type:"ticket",title:"High Priority Ticket",message:"Critical bug reported in production system",priority:"urgent",action:"/tickets"},{type:"meeting",title:"Meeting Reminder",message:"Client presentation in 1 hour",priority:"medium",action:"/calendar"}],f=b=>({low:"border-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20"})[b]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",w=b=>({low:"",medium:"",high:"",urgent:""})[b]||"";return t?n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-8 lg:py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:["Welcome back, ",t.fullName,"! "]}),n.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Here's what's happening in your workspace today"})]}),y.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Priority Alerts"}),n.jsx("div",{className:"space-y-4",children:y.map((b,R)=>n.jsx(O,{to:b.action,className:`block p-4 rounded-xl border-l-4 ${f(b.priority)} hover:shadow-md transition-shadow`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-xl",children:w(b.priority)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:b.title}),n.jsx("p",{className:"text-muted-foreground text-sm",children:b.message})]}),n.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},R))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:j.activeProjects}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:j.resolvedTickets}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Resolved"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-foreground",children:j.activeUsers}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Team Members"})]})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:n.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",j.totalRevenue.toLocaleString()]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k().map((b,R)=>n.jsx(O,{to:b.action,className:"group p-4 border border-border/50 rounded-lg hover:border-primary/50 hover:shadow-md transition-all duration-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg ${b.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform`,children:b.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:b.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),n.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},R))})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Recent Activity"}),n.jsx("div",{className:"space-y-4",children:N.map((b,R)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[n.jsx("div",{className:"text-lg",children:b.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-foreground",children:[n.jsx("span",{className:"font-medium",children:b.user})," ",b.action," ",n.jsx("span",{className:"font-medium",children:b.item})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:b.time})]})]},R))}),n.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:n.jsx(O,{to:"/notifications",className:"text-primary hover:underline text-sm font-medium",children:"View all notifications "})})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"System Health"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Status"}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),n.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Healthy"]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"API Response"}),n.jsx("span",{className:"text-sm font-medium text-green-600",children:"120ms"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Team Productivity"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Daily Hours"}),n.jsx("span",{className:"text-sm font-medium",children:"6.8h"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Tickets/Day"}),n.jsx("span",{className:"text-sm font-medium",children:"4.2"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),n.jsx("span",{className:"text-sm font-medium text-green-600",children:"2.1h"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[n.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Client Satisfaction"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Rating"}),n.jsx("span",{className:"text-sm font-medium",children:"4.8/5.0 "})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),n.jsx("span",{className:"text-sm font-medium text-green-600",children:"98%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Retention Rate"}),n.jsx("span",{className:"text-sm font-medium text-green-600",children:"94%"})]})]})]})]})]})}),n.jsx(he,{})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function mR(){const{isSignedIn:t,user:e}=se(),r=ae(),i=jo().id,[a,o]=S.useState(!0),[c,d]=S.useState(null),[u,m]=S.useState(null),[g,p]=S.useState(null),[j,N]=S.useState(null),[k,y]=S.useState([]);if(S.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),S.useEffect(()=>{if(i){const w=No(i);if(w){d(w);const b=pe();m(b.find(M=>M.id===w.clientId)||null),p(b.find(M=>M.id===w.webDeveloperId)||null),N(b.find(M=>M.id===w.socialMediaCoordinatorId)||null);const R=fb(i);y(R),o(!1)}else r("/admin/dashboard")}},[i,r]),!e||e.role!=="admin")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(a||!c)return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),n.jsx(he,{})]});const f={totalTickets:k.length,openTickets:k.filter(w=>w.status==="open").length,inProgressTickets:k.filter(w=>w.status==="in_progress").length,resolvedTickets:k.filter(w=>w.status==="resolved"||w.status==="closed").length};return n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx("main",{className:"min-h-screen bg-muted",children:n.jsxs("div",{className:"container py-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(O,{to:"/admin/dashboard",className:"text-primary hover:text-primary/80 transition",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),n.jsx("h1",{className:"text-4xl font-bold text-foreground",children:c.name}),n.jsx(Ct,{status:c.status})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(O,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"}),n.jsx(O,{to:`/admin/analytics/${i}`,className:"btn-outline",children:"View Analytics"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Information"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Project Type"}),n.jsx("div",{className:"text-foreground capitalize",children:c.projectType})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("div",{className:"text-foreground",children:c.description})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Stage"}),n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:On(c.currentStage)})]}),c.websiteUrl&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),n.jsx("a",{href:c.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:c.websiteUrl})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),u?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-foreground",children:u.fullName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:u.email})]}):n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Web Developer"}),g?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-foreground",children:g.fullName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:g.email})]}):n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Social Media Coordinator"}),j?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-foreground",children:j.fullName}),n.jsx("div",{className:"text-sm text-muted-foreground",children:j.email})]}):n.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]})]})]}),c.projectType==="website"&&n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Analytics"}),n.jsxs("div",{className:"space-y-4",children:[c.googleAnalyticsPropertyId&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),n.jsx("div",{className:"text-foreground font-mono text-sm",children:c.googleAnalyticsPropertyId})]}),c.googleAnalyticsViewId&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID"}),n.jsx("div",{className:"text-foreground font-mono text-sm",children:c.googleAnalyticsViewId})]})]})]}),n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Timeline"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),n.jsx("div",{className:"text-foreground",children:new Date(c.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),c.launchDate&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Launch Date"}),n.jsx("div",{className:"text-foreground",children:new Date(c.launchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Last Updated"}),n.jsx("div",{className:"text-foreground",children:lr(c.updatedAt)})]})]})]})]}),n.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-foreground",children:f.totalTickets}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-primary",children:f.openTickets}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.inProgressTickets}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),n.jsxs("div",{className:"card text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.resolvedTickets}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})]}),c.notes&&n.jsxs("div",{className:"card",children:[n.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Notes"}),n.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:c.notes})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-foreground",children:["Tickets (",k.length,")"]}),n.jsx(O,{to:`/admin/tickets?project=${i}`,className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),k.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tickets for this project yet"}):n.jsx("div",{className:"space-y-4",children:k.slice(0,10).map(w=>n.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-foreground",children:w.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),n.jsx(Vi,{priority:w.priority})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ct,{status:w.status}),n.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded capitalize",children:w.type.replace("_"," ")}),n.jsx("span",{className:"text-xs text-muted-foreground",children:lr(w.createdAt)})]})]},w.id))})]})]})]})]})}),n.jsx(he,{})]})}function fR(){const{user:t}=se();return n.jsx(iP,{},(t==null?void 0:t.id)||"guest")}function pR(){return n.jsx(HA,{defaultTheme:"light",storageKey:"marketing-website-theme",children:n.jsx(zA,{children:n.jsxs(G_,{children:[n.jsx(ne,{path:"/",element:n.jsx(GA,{})}),n.jsx(ne,{path:"/login",element:n.jsx(QA,{})}),n.jsx(ne,{path:"/register",element:n.jsx(YA,{})}),n.jsx(ne,{path:"/dashboard",element:n.jsx(XA,{})}),n.jsx(ne,{path:"/messages",element:n.jsx(G3,{})}),n.jsx(ne,{path:"/admin/dashboard",element:n.jsx(fR,{})}),n.jsx(ne,{path:"/admin/users",element:n.jsx(fP,{})}),n.jsx(ne,{path:"/admin/users/:id/edit",element:n.jsx(pP,{})}),n.jsx(ne,{path:"/admin/users/new",element:n.jsx(jP,{})}),n.jsx(ne,{path:"/admin/projects",element:n.jsx(gP,{})}),n.jsx(ne,{path:"/admin/projects/new",element:n.jsx(PP,{})}),n.jsx(ne,{path:"/admin/projects/:id",element:n.jsx(mR,{})}),n.jsx(ne,{path:"/admin/projects/:id/edit",element:n.jsx(yP,{})}),n.jsx(ne,{path:"/analytics",element:n.jsx(J3,{})}),n.jsx(ne,{path:"/admin/analytics/:id",element:n.jsx(vP,{})}),n.jsx(ne,{path:"/calendar",element:n.jsx(eR,{})}),n.jsx(ne,{path:"/time-tracking",element:n.jsx(nR,{})}),n.jsx(ne,{path:"/templates",element:n.jsx(iR,{})}),n.jsx(ne,{path:"/reports",element:n.jsx(aR,{})}),n.jsx(ne,{path:"/notifications",element:n.jsx(oR,{})}),n.jsx(ne,{path:"/ai-insights",element:n.jsx(lR,{})}),n.jsx(ne,{path:"/integrations",element:n.jsx(cR,{})}),n.jsx(ne,{path:"/automation",element:n.jsx(uR,{})}),n.jsx(ne,{path:"/search",element:n.jsx(IP,{})}),n.jsx(ne,{path:"/dashboard/enhanced",element:n.jsx(hR,{})}),n.jsx(ne,{path:"/admin/tickets",element:n.jsx(xP,{})}),n.jsx(ne,{path:"/admin/notifications",element:n.jsx(bP,{})}),n.jsx(ne,{path:"/developer/dashboard",element:n.jsx(wP,{})}),n.jsx(ne,{path:"/developer/tickets",element:n.jsx(NP,{})}),n.jsx(ne,{path:"/coordinator/dashboard",element:n.jsx(_P,{})}),n.jsx(ne,{path:"/client/dashboard",element:n.jsx(kP,{})}),n.jsx(ne,{path:"/client/projects",element:n.jsx(EP,{})}),n.jsx(ne,{path:"/client/tickets",element:n.jsx(TP,{})}),n.jsx(ne,{path:"/client/tickets/new",element:n.jsx(SP,{})}),n.jsx(ne,{path:"/switch-role",element:n.jsx(AP,{})}),n.jsx(ne,{path:"/client-portal/dashboard",element:n.jsx(K3,{})}),n.jsx(ne,{path:"/client-portal/project/:id",element:n.jsx(Q3,{})}),n.jsx(ne,{path:"/client-portal/files",element:n.jsx(Y3,{})}),n.jsx(ne,{path:"/client-portal/feedback",element:n.jsx(X3,{})}),n.jsx(ne,{path:"*",element:n.jsx(H_,{to:"/",replace:!0})})]})})})}Eu.createRoot(document.getElementById("root")).render(n.jsx(ev.StrictMode,{children:n.jsx(tk,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsx(pR,{})})}));
