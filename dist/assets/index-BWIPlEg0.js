function x$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xk={exports:{}},Hp={},Qk={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=Symbol.for("react.element"),b$=Symbol.for("react.portal"),w$=Symbol.for("react.fragment"),j$=Symbol.for("react.strict_mode"),_$=Symbol.for("react.profiler"),N$=Symbol.for("react.provider"),S$=Symbol.for("react.context"),A$=Symbol.for("react.forward_ref"),T$=Symbol.for("react.suspense"),E$=Symbol.for("react.memo"),k$=Symbol.for("react.lazy"),H2=Symbol.iterator;function P$(t){return t===null||typeof t!="object"?null:(t=H2&&t[H2]||t["@@iterator"],typeof t=="function"?t:null)}var Jk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zk=Object.assign,eP={};function zl(t,e,r){this.props=t,this.context=e,this.refs=eP,this.updater=r||Jk}zl.prototype.isReactComponent={};zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tP(){}tP.prototype=zl.prototype;function ew(t,e,r){this.props=t,this.context=e,this.refs=eP,this.updater=r||Jk}var tw=ew.prototype=new tP;tw.constructor=ew;Zk(tw,zl.prototype);tw.isPureReactComponent=!0;var q2=Array.isArray,rP=Object.prototype.hasOwnProperty,rw={current:null},nP={key:!0,ref:!0,__self:!0,__source:!0};function iP(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)rP.call(e,n)&&!nP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Yd,type:t,key:a,ref:o,props:i,_owner:rw.current}}function I$(t,e){return{$$typeof:Yd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nw(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yd}function C$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var G2=/\/+/g;function My(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C$(""+t.key):e.toString(36)}function Sh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yd:case b$:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+My(o,0):n,q2(i)?(r="",t!=null&&(r=t.replace(G2,"$&/")+"/"),Sh(i,e,r,"",function(u){return u})):i!=null&&(nw(i)&&(i=I$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(G2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",q2(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+My(a,l);o+=Sh(a,e,r,c,i)}else if(c=P$(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+My(a,l++),o+=Sh(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ff(t,e,r){if(t==null)return t;var n=[],i=0;return Sh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function O$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nr={current:null},Ah={transition:null},M$={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Ah,ReactCurrentOwner:rw};function sP(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Ff,forEach:function(t,e,r){Ff(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ff(t,function(){e++}),e},toArray:function(t){return Ff(t,function(e){return e})||[]},only:function(t){if(!nw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=zl;Ee.Fragment=w$;Ee.Profiler=_$;Ee.PureComponent=ew;Ee.StrictMode=j$;Ee.Suspense=T$;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M$;Ee.act=sP;Ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Zk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=rw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)rP.call(e,c)&&!nP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Yd,type:t.type,key:i,ref:a,props:n,_owner:o}};Ee.createContext=function(t){return t={$$typeof:S$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:N$,_context:t},t.Consumer=t};Ee.createElement=iP;Ee.createFactory=function(t){var e=iP.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:A$,render:t}};Ee.isValidElement=nw;Ee.lazy=function(t){return{$$typeof:k$,_payload:{_status:-1,_result:t},_init:O$}};Ee.memo=function(t,e){return{$$typeof:E$,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Ah.transition;Ah.transition={};try{t()}finally{Ah.transition=e}};Ee.unstable_act=sP;Ee.useCallback=function(t,e){return Nr.current.useCallback(t,e)};Ee.useContext=function(t){return Nr.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Nr.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Nr.current.useEffect(t,e)};Ee.useId=function(){return Nr.current.useId()};Ee.useImperativeHandle=function(t,e,r){return Nr.current.useImperativeHandle(t,e,r)};Ee.useInsertionEffect=function(t,e){return Nr.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Nr.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Nr.current.useMemo(t,e)};Ee.useReducer=function(t,e,r){return Nr.current.useReducer(t,e,r)};Ee.useRef=function(t){return Nr.current.useRef(t)};Ee.useState=function(t){return Nr.current.useState(t)};Ee.useSyncExternalStore=function(t,e,r){return Nr.current.useSyncExternalStore(t,e,r)};Ee.useTransition=function(){return Nr.current.useTransition()};Ee.version="18.3.1";Qk.exports=Ee;var M=Qk.exports;const $=Ue(M),D$=x$({__proto__:null,default:$},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$=M,$$=Symbol.for("react.element"),L$=Symbol.for("react.fragment"),V$=Object.prototype.hasOwnProperty,F$=R$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B$={key:!0,ref:!0,__self:!0,__source:!0};function aP(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)V$.call(e,n)&&!B$.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$$,type:t,key:a,ref:o,props:i,_owner:F$.current}}Hp.Fragment=L$;Hp.jsx=aP;Hp.jsxs=aP;Xk.exports=Hp;var s=Xk.exports,ex={},oP={exports:{}},Yr={},lP={exports:{}},cP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var K=F.length;F.push(U);e:for(;0<K;){var ee=K-1>>>1,J=F[ee];if(0<i(J,U))F[ee]=U,F[K]=J,K=ee;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var U=F[0],K=F.pop();if(K!==U){F[0]=K;e:for(var ee=0,J=F.length,oe=J>>>1;ee<oe;){var Te=2*(ee+1)-1,We=F[Te],Ze=Te+1,sr=F[Ze];if(0>i(We,K))Ze<J&&0>i(sr,We)?(F[ee]=sr,F[Ze]=K,ee=Ze):(F[ee]=We,F[Te]=K,ee=Te);else if(Ze<J&&0>i(sr,K))F[ee]=sr,F[Ze]=K,ee=Ze;else break e}}return U}function i(F,U){var K=F.sortIndex-U.sortIndex;return K!==0?K:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=F)n(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=r(u)}}function T(F){if(x=!1,b(F),!v)if(r(c)!==null)v=!0,V(j);else{var U=r(u);U!==null&&W(T,U.startTime-F)}}function j(F,U){v=!1,x&&(x=!1,g(_),_=-1),p=!0;var K=h;try{for(b(U),f=r(c);f!==null&&(!(f.expirationTime>U)||F&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var J=ee(f.expirationTime<=U);U=t.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),b(U)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var Te=r(u);Te!==null&&W(T,Te.startTime-U),oe=!1}return oe}finally{f=null,h=K,p=!1}}var A=!1,S=null,_=-1,E=5,O=-1;function I(){return!(t.unstable_now()-O<E)}function C(){if(S!==null){var F=t.unstable_now();O=F;var U=!0;try{U=S(!0,F)}finally{U?P():(A=!1,S=null)}}else A=!1}var P;if(typeof w=="function")P=function(){w(C)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,R=L.port2;L.port1.onmessage=C,P=function(){R.postMessage(null)}}else P=function(){y(C,0)};function V(F){S=F,A||(A=!0,P())}function W(F,U){_=y(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,V(j))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var K=h;h=U;try{return F()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var K=h;h=F;try{return U()}finally{h=K}},t.unstable_scheduleCallback=function(F,U,K){var ee=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,F={id:d++,callback:U,priorityLevel:F,startTime:K,expirationTime:J,sortIndex:-1},K>ee?(F.sortIndex=K,e(u,F),r(c)===null&&F===r(u)&&(x?(g(_),_=-1):x=!0,W(T,K-ee))):(F.sortIndex=J,e(c,F),v||p||(v=!0,V(j))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var U=h;return function(){var K=h;h=U;try{return F.apply(this,arguments)}finally{h=K}}}})(cP);lP.exports=cP;var U$=lP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$=M,Gr=U$;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uP=new Set,Du={};function Ga(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Du[t]=e,t=0;t<e.length;t++)uP.add(e[t])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tx=Object.prototype.hasOwnProperty,W$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K2={},Y2={};function H$(t){return tx.call(Y2,t)?!0:tx.call(K2,t)?!1:W$.test(t)?Y2[t]=!0:(K2[t]=!0,!1)}function q$(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G$(t,e,r,n){if(e===null||typeof e>"u"||q$(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new Sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new Sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new Sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new Sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new Sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new Sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var iw=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iw,sw);nr[e]=new Sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iw,sw);nr[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iw,sw);nr[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,r,n){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G$(e,r,i,n)&&(r=null),n||i===null?H$(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $i=z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bf=Symbol.for("react.element"),_o=Symbol.for("react.portal"),No=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),dP=Symbol.for("react.provider"),fP=Symbol.for("react.context"),lw=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),hP=Symbol.for("react.offscreen"),X2=Symbol.iterator;function Cc(t){return t===null||typeof t!="object"?null:(t=X2&&t[X2]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,Dy;function eu(t){if(Dy===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Dy=e&&e[1]||""}return`
`+Dy+t}var Ry=!1;function $y(t,e){if(!t||Ry)return"";Ry=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ry=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?eu(t):""}function K$(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=$y(t.type,!1),t;case 11:return t=$y(t.type.render,!1),t;case 1:return t=$y(t.type,!0),t;default:return""}}function sx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case No:return"Fragment";case _o:return"Portal";case rx:return"Profiler";case ow:return"StrictMode";case nx:return"Suspense";case ix:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fP:return(t.displayName||"Context")+".Consumer";case dP:return(t._context.displayName||"Context")+".Provider";case lw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:sx(t.type)||"Memo";case rs:e=t._payload,t=t._init;try{return sx(t(e))}catch{}}return null}function Y$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sx(e);case 8:return e===ow?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X$(t){var e=mP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uf(t){t._valueTracker||(t._valueTracker=X$(t))}function pP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=mP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ax(t,e){var r=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Q2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gP(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function ox(t,e){gP(t,e);var r=Os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lx(t,e.type,r):e.hasOwnProperty("defaultValue")&&lx(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function lx(t,e,r){(e!=="number"||Yh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var tu=Array.isArray;function Bo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Os(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(tu(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Os(r)}}function yP(t,e){var r=Os(e.value),n=Os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function e_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ux(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zf,xP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zf=zf||document.createElement("div"),zf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ru(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q$=["Webkit","ms","Moz","O"];Object.keys(fu).forEach(function(t){Q$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fu[e]=fu[t]})});function bP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fu.hasOwnProperty(t)&&fu[t]?(""+e).trim():e+"px"}function wP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var J$=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dx(t,e){if(e){if(J$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function fx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=null;function uw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mx=null,Uo=null,zo=null;function t_(t){if(t=Jd(t)){if(typeof mx!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Xp(e),mx(t.stateNode,t.type,e))}}function jP(t){Uo?zo?zo.push(t):zo=[t]:Uo=t}function _P(){if(Uo){var t=Uo,e=zo;if(zo=Uo=null,t_(t),e)for(t=0;t<e.length;t++)t_(e[t])}}function NP(t,e){return t(e)}function SP(){}var Ly=!1;function AP(t,e,r){if(Ly)return t(e,r);Ly=!0;try{return NP(t,e,r)}finally{Ly=!1,(Uo!==null||zo!==null)&&(SP(),_P())}}function $u(t,e){var r=t.stateNode;if(r===null)return null;var n=Xp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var px=!1;if(Si)try{var Oc={};Object.defineProperty(Oc,"passive",{get:function(){px=!0}}),window.addEventListener("test",Oc,Oc),window.removeEventListener("test",Oc,Oc)}catch{px=!1}function Z$(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var hu=!1,Xh=null,Qh=!1,gx=null,e5={onError:function(t){hu=!0,Xh=t}};function t5(t,e,r,n,i,a,o,l,c){hu=!1,Xh=null,Z$.apply(e5,arguments)}function r5(t,e,r,n,i,a,o,l,c){if(t5.apply(this,arguments),hu){if(hu){var u=Xh;hu=!1,Xh=null}else throw Error(Q(198));Qh||(Qh=!0,gx=u)}}function Ka(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r_(t){if(Ka(t)!==t)throw Error(Q(188))}function n5(t){var e=t.alternate;if(!e){if(e=Ka(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return r_(i),t;if(a===n)return r_(i),e;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function EP(t){return t=n5(t),t!==null?kP(t):null}function kP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kP(t);if(e!==null)return e;t=t.sibling}return null}var PP=Gr.unstable_scheduleCallback,n_=Gr.unstable_cancelCallback,i5=Gr.unstable_shouldYield,s5=Gr.unstable_requestPaint,_t=Gr.unstable_now,a5=Gr.unstable_getCurrentPriorityLevel,dw=Gr.unstable_ImmediatePriority,IP=Gr.unstable_UserBlockingPriority,Jh=Gr.unstable_NormalPriority,o5=Gr.unstable_LowPriority,CP=Gr.unstable_IdlePriority,qp=null,zn=null;function l5(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(qp,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:d5,c5=Math.log,u5=Math.LN2;function d5(t){return t>>>=0,t===0?32:31-(c5(t)/u5|0)|0}var Wf=64,Hf=4194304;function ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=ru(l):(a&=o,a!==0&&(n=ru(a)))}else o=r&~i,o!==0?n=ru(o):a!==0&&(n=ru(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-kn(e),i=1<<r,n|=t[r],e&=~i;return n}function f5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-kn(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=f5(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function yx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function OP(){var t=Wf;return Wf<<=1,!(Wf&4194240)&&(Wf=64),t}function Vy(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Xd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=r}function m5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-kn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function fw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-kn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function MP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DP,hw,RP,$P,LP,vx=!1,qf=[],ys=null,vs=null,xs=null,Lu=new Map,Vu=new Map,ss=[],p5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i_(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(e.pointerId)}}function Mc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Jd(e),e!==null&&hw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g5(t,e,r,n,i){switch(e){case"focusin":return ys=Mc(ys,t,e,r,n,i),!0;case"dragenter":return vs=Mc(vs,t,e,r,n,i),!0;case"mouseover":return xs=Mc(xs,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Lu.set(a,Mc(Lu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vu.set(a,Mc(Vu.get(a)||null,t,e,r,n,i)),!0}return!1}function VP(t){var e=ga(t.target);if(e!==null){var r=Ka(e);if(r!==null){if(e=r.tag,e===13){if(e=TP(r),e!==null){t.blockedOn=e,LP(t.priority,function(){RP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Th(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);hx=n,r.target.dispatchEvent(n),hx=null}else return e=Jd(r),e!==null&&hw(e),t.blockedOn=r,!1;e.shift()}return!0}function s_(t,e,r){Th(t)&&r.delete(e)}function y5(){vx=!1,ys!==null&&Th(ys)&&(ys=null),vs!==null&&Th(vs)&&(vs=null),xs!==null&&Th(xs)&&(xs=null),Lu.forEach(s_),Vu.forEach(s_)}function Dc(t,e){t.blockedOn===e&&(t.blockedOn=null,vx||(vx=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,y5)))}function Fu(t){function e(i){return Dc(i,t)}if(0<qf.length){Dc(qf[0],t);for(var r=1;r<qf.length;r++){var n=qf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ys!==null&&Dc(ys,t),vs!==null&&Dc(vs,t),xs!==null&&Dc(xs,t),Lu.forEach(e),Vu.forEach(e),r=0;r<ss.length;r++)n=ss[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)VP(r),r.blockedOn===null&&ss.shift()}var Wo=$i.ReactCurrentBatchConfig,em=!0;function v5(t,e,r,n){var i=Be,a=Wo.transition;Wo.transition=null;try{Be=1,mw(t,e,r,n)}finally{Be=i,Wo.transition=a}}function x5(t,e,r,n){var i=Be,a=Wo.transition;Wo.transition=null;try{Be=4,mw(t,e,r,n)}finally{Be=i,Wo.transition=a}}function mw(t,e,r,n){if(em){var i=xx(t,e,r,n);if(i===null)Yy(t,e,n,tm,r),i_(t,n);else if(g5(i,t,e,r,n))n.stopPropagation();else if(i_(t,n),e&4&&-1<p5.indexOf(t)){for(;i!==null;){var a=Jd(i);if(a!==null&&DP(a),a=xx(t,e,r,n),a===null&&Yy(t,e,n,tm,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Yy(t,e,n,null,r)}}var tm=null;function xx(t,e,r,n){if(tm=null,t=uw(n),t=ga(t),t!==null)if(e=Ka(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tm=t,null}function FP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a5()){case dw:return 1;case IP:return 4;case Jh:case o5:return 16;case CP:return 536870912;default:return 16}default:return 16}}var fs=null,pw=null,Eh=null;function BP(){if(Eh)return Eh;var t,e=pw,r=e.length,n,i="value"in fs?fs.value:fs.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Eh=i.slice(t,1<n?1-n:void 0)}function kh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gf(){return!0}function a_(){return!1}function Xr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gf:a_,this.isPropagationStopped=a_,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gf)},persist:function(){},isPersistent:Gf}),e}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=Xr(Wl),Qd=mt({},Wl,{view:0,detail:0}),b5=Xr(Qd),Fy,By,Rc,Gp=mt({},Qd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rc&&(Rc&&t.type==="mousemove"?(Fy=t.screenX-Rc.screenX,By=t.screenY-Rc.screenY):By=Fy=0,Rc=t),Fy)},movementY:function(t){return"movementY"in t?t.movementY:By}}),o_=Xr(Gp),w5=mt({},Gp,{dataTransfer:0}),j5=Xr(w5),_5=mt({},Qd,{relatedTarget:0}),Uy=Xr(_5),N5=mt({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),S5=Xr(N5),A5=mt({},Wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T5=Xr(A5),E5=mt({},Wl,{data:0}),l_=Xr(E5),k5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I5[t])?!!e[t]:!1}function yw(){return C5}var O5=mt({},Qd,{key:function(t){if(t.key){var e=k5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=kh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yw,charCode:function(t){return t.type==="keypress"?kh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),M5=Xr(O5),D5=mt({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),c_=Xr(D5),R5=mt({},Qd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yw}),$5=Xr(R5),L5=mt({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),V5=Xr(L5),F5=mt({},Gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B5=Xr(F5),U5=[9,13,27,32],vw=Si&&"CompositionEvent"in window,mu=null;Si&&"documentMode"in document&&(mu=document.documentMode);var z5=Si&&"TextEvent"in window&&!mu,UP=Si&&(!vw||mu&&8<mu&&11>=mu),u_=" ",d_=!1;function zP(t,e){switch(t){case"keyup":return U5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function W5(t,e){switch(t){case"compositionend":return WP(e);case"keypress":return e.which!==32?null:(d_=!0,u_);case"textInput":return t=e.data,t===u_&&d_?null:t;default:return null}}function H5(t,e){if(So)return t==="compositionend"||!vw&&zP(t,e)?(t=BP(),Eh=pw=fs=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UP&&e.locale!=="ko"?null:e.data;default:return null}}var q5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q5[t.type]:e==="textarea"}function HP(t,e,r,n){jP(n),e=rm(e,"onChange"),0<e.length&&(r=new gw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pu=null,Bu=null;function G5(t){rI(t,0)}function Kp(t){var e=Eo(t);if(pP(e))return t}function K5(t,e){if(t==="change")return e}var qP=!1;if(Si){var zy;if(Si){var Wy="oninput"in document;if(!Wy){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Wy=typeof h_.oninput=="function"}zy=Wy}else zy=!1;qP=zy&&(!document.documentMode||9<document.documentMode)}function m_(){pu&&(pu.detachEvent("onpropertychange",GP),Bu=pu=null)}function GP(t){if(t.propertyName==="value"&&Kp(Bu)){var e=[];HP(e,Bu,t,uw(t)),AP(G5,e)}}function Y5(t,e,r){t==="focusin"?(m_(),pu=e,Bu=r,pu.attachEvent("onpropertychange",GP)):t==="focusout"&&m_()}function X5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kp(Bu)}function Q5(t,e){if(t==="click")return Kp(e)}function J5(t,e){if(t==="input"||t==="change")return Kp(e)}function Z5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:Z5;function Uu(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!tx.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function g_(t,e){var r=p_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=p_(r)}}function KP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YP(){for(var t=window,e=Yh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Yh(t.document)}return e}function xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eL(t){var e=YP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&KP(r.ownerDocument.documentElement,r)){if(n!==null&&xw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=g_(r,a);var o=g_(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tL=Si&&"documentMode"in document&&11>=document.documentMode,Ao=null,bx=null,gu=null,wx=!1;function y_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wx||Ao==null||Ao!==Yh(n)||(n=Ao,"selectionStart"in n&&xw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gu&&Uu(gu,n)||(gu=n,n=rm(bx,"onSelect"),0<n.length&&(e=new gw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ao)))}function Kf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var To={animationend:Kf("Animation","AnimationEnd"),animationiteration:Kf("Animation","AnimationIteration"),animationstart:Kf("Animation","AnimationStart"),transitionend:Kf("Transition","TransitionEnd")},Hy={},XP={};Si&&(XP=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Yp(t){if(Hy[t])return Hy[t];if(!To[t])return t;var e=To[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in XP)return Hy[t]=e[r];return t}var QP=Yp("animationend"),JP=Yp("animationiteration"),ZP=Yp("animationstart"),eI=Yp("transitionend"),tI=new Map,v_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){tI.set(t,e),Ga(e,[t])}for(var qy=0;qy<v_.length;qy++){var Gy=v_[qy],rL=Gy.toLowerCase(),nL=Gy[0].toUpperCase()+Gy.slice(1);Us(rL,"on"+nL)}Us(QP,"onAnimationEnd");Us(JP,"onAnimationIteration");Us(ZP,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(eI,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iL=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function x_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,r5(n,e,void 0,t),t.currentTarget=null}function rI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;x_(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;x_(i,l,u),a=c}}}if(Qh)throw t=gx,Qh=!1,gx=null,t}function rt(t,e){var r=e[Ax];r===void 0&&(r=e[Ax]=new Set);var n=t+"__bubble";r.has(n)||(nI(e,t,2,!1),r.add(n))}function Ky(t,e,r){var n=0;e&&(n|=4),nI(r,t,n,e)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function zu(t){if(!t[Yf]){t[Yf]=!0,uP.forEach(function(r){r!=="selectionchange"&&(iL.has(r)||Ky(r,!1,t),Ky(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yf]||(e[Yf]=!0,Ky("selectionchange",!1,e))}}function nI(t,e,r,n){switch(FP(e)){case 1:var i=v5;break;case 4:i=x5;break;default:i=mw}r=i.bind(null,e,r,t),i=void 0,!px||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Yy(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ga(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}AP(function(){var u=a,d=uw(r),f=[];e:{var h=tI.get(t);if(h!==void 0){var p=gw,v=t;switch(t){case"keypress":if(kh(r)===0)break e;case"keydown":case"keyup":p=M5;break;case"focusin":v="focus",p=Uy;break;case"focusout":v="blur",p=Uy;break;case"beforeblur":case"afterblur":p=Uy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=j5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=$5;break;case QP:case JP:case ZP:p=S5;break;case eI:p=V5;break;case"scroll":p=b5;break;case"wheel":p=B5;break;case"copy":case"cut":case"paste":p=T5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=c_}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var w=u,b;w!==null;){b=w;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,g!==null&&(T=$u(w,g),T!=null&&x.push(Wu(w,T,b)))),y)break;w=w.return}0<x.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==hx&&(v=r.relatedTarget||r.fromElement)&&(ga(v)||v[Ai]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ga(v):null,v!==null&&(y=Ka(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=o_,T="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=c_,T="onPointerLeave",g="onPointerEnter",w="pointer"),y=p==null?h:Eo(p),b=v==null?h:Eo(v),h=new x(T,w+"leave",p,r,d),h.target=y,h.relatedTarget=b,T=null,ga(d)===u&&(x=new x(g,w+"enter",v,r,d),x.target=b,x.relatedTarget=y,T=x),y=T,p&&v)t:{for(x=p,g=v,w=0,b=x;b;b=uo(b))w++;for(b=0,T=g;T;T=uo(T))b++;for(;0<w-b;)x=uo(x),w--;for(;0<b-w;)g=uo(g),b--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=uo(x),g=uo(g)}x=null}else x=null;p!==null&&b_(f,h,p,x,!1),v!==null&&y!==null&&b_(f,y,v,x,!0)}}e:{if(h=u?Eo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=K5;else if(f_(h))if(qP)j=J5;else{j=X5;var A=Y5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Q5);if(j&&(j=j(t,u))){HP(f,j,r,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&lx(h,"number",h.value)}switch(A=u?Eo(u):window,t){case"focusin":(f_(A)||A.contentEditable==="true")&&(Ao=A,bx=u,gu=null);break;case"focusout":gu=bx=Ao=null;break;case"mousedown":wx=!0;break;case"contextmenu":case"mouseup":case"dragend":wx=!1,y_(f,r,d);break;case"selectionchange":if(tL)break;case"keydown":case"keyup":y_(f,r,d)}var S;if(vw)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else So?zP(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(UP&&r.locale!=="ko"&&(So||_!=="onCompositionStart"?_==="onCompositionEnd"&&So&&(S=BP()):(fs=d,pw="value"in fs?fs.value:fs.textContent,So=!0)),A=rm(u,_),0<A.length&&(_=new l_(_,t,null,r,d),f.push({event:_,listeners:A}),S?_.data=S:(S=WP(r),S!==null&&(_.data=S)))),(S=z5?W5(t,r):H5(t,r))&&(u=rm(u,"onBeforeInput"),0<u.length&&(d=new l_("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}rI(f,e)})}function Wu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$u(t,r),a!=null&&n.unshift(Wu(t,a,i)),a=$u(t,e),a!=null&&n.push(Wu(t,a,i))),t=t.return}return n}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b_(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=$u(r,a),c!=null&&o.unshift(Wu(r,c,l))):i||(c=$u(r,a),c!=null&&o.push(Wu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var sL=/\r\n?/g,aL=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(sL,`
`).replace(aL,"")}function Xf(t,e,r){if(e=w_(e),w_(t)!==e&&r)throw Error(Q(425))}function nm(){}var jx=null,_x=null;function Nx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sx=typeof setTimeout=="function"?setTimeout:void 0,oL=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,lL=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(cL)}:Sx;function cL(t){setTimeout(function(){throw t})}function Xy(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fu(e)}function bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function __(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Hl,Hu="__reactProps$"+Hl,Ai="__reactContainer$"+Hl,Ax="__reactEvents$"+Hl,uL="__reactListeners$"+Hl,dL="__reactHandles$"+Hl;function ga(t){var e=t[Bn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ai]||r[Bn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=__(t);t!==null;){if(r=t[Bn])return r;t=__(t)}return e}t=r,r=t.parentNode}return null}function Jd(t){return t=t[Bn]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Xp(t){return t[Hu]||null}var Tx=[],ko=-1;function zs(t){return{current:t}}function at(t){0>ko||(t.current=Tx[ko],Tx[ko]=null,ko--)}function Qe(t,e){ko++,Tx[ko]=t.current,t.current=e}var Ms={},pr=zs(Ms),Pr=zs(!1),ka=Ms;function rl(t,e){var r=t.type.contextTypes;if(!r)return Ms;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return t=t.childContextTypes,t!=null}function im(){at(Pr),at(pr)}function N_(t,e,r){if(pr.current!==Ms)throw Error(Q(168));Qe(pr,e),Qe(Pr,r)}function iI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,Y$(t)||"Unknown",i));return mt({},r,n)}function sm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ms,ka=pr.current,Qe(pr,t),Qe(Pr,Pr.current),!0}function S_(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=iI(t,e,ka),n.__reactInternalMemoizedMergedChildContext=t,at(Pr),at(pr),Qe(pr,t)):at(Pr),Qe(Pr,r)}var di=null,Qp=!1,Qy=!1;function sI(t){di===null?di=[t]:di.push(t)}function fL(t){Qp=!0,sI(t)}function Ws(){if(!Qy&&di!==null){Qy=!0;var t=0,e=Be;try{var r=di;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}di=null,Qp=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),PP(dw,Ws),i}finally{Be=e,Qy=!1}}return null}var Po=[],Io=0,am=null,om=0,rn=[],nn=0,Pa=null,fi=1,hi="";function la(t,e){Po[Io++]=om,Po[Io++]=am,am=t,om=e}function aI(t,e,r){rn[nn++]=fi,rn[nn++]=hi,rn[nn++]=Pa,Pa=t;var n=fi;t=hi;var i=32-kn(n)-1;n&=~(1<<i),r+=1;var a=32-kn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,fi=1<<32-kn(e)+i|r<<i|n,hi=a+t}else fi=1<<a|r<<i|n,hi=t}function bw(t){t.return!==null&&(la(t,1),aI(t,1,0))}function ww(t){for(;t===am;)am=Po[--Io],Po[Io]=null,om=Po[--Io],Po[Io]=null;for(;t===Pa;)Pa=rn[--nn],rn[nn]=null,hi=rn[--nn],rn[nn]=null,fi=rn[--nn],rn[nn]=null}var Wr=null,zr=null,ot=!1,Sn=null;function oI(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function A_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,zr=bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pa!==null?{id:fi,overflow:hi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wr=t,zr=null,!0):!1;default:return!1}}function Ex(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kx(t){if(ot){var e=zr;if(e){var r=e;if(!A_(t,e)){if(Ex(t))throw Error(Q(418));e=bs(r.nextSibling);var n=Wr;e&&A_(t,e)?oI(n,r):(t.flags=t.flags&-4097|2,ot=!1,Wr=t)}}else{if(Ex(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ot=!1,Wr=t}}}function T_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function Qf(t){if(t!==Wr)return!1;if(!ot)return T_(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nx(t.type,t.memoizedProps)),e&&(e=zr)){if(Ex(t))throw lI(),Error(Q(418));for(;e;)oI(t,e),e=bs(e.nextSibling)}if(T_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){zr=bs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}zr=null}}else zr=Wr?bs(t.stateNode.nextSibling):null;return!0}function lI(){for(var t=zr;t;)t=bs(t.nextSibling)}function nl(){zr=Wr=null,ot=!1}function jw(t){Sn===null?Sn=[t]:Sn.push(t)}var hL=$i.ReactCurrentBatchConfig;function $c(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function E_(t){var e=t._init;return e(t._payload)}function cI(t){function e(g,w){if(t){var b=g.deletions;b===null?(g.deletions=[w],g.flags|=16):b.push(w)}}function r(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function n(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=Ns(g,w),g.index=0,g.sibling=null,g}function a(g,w,b){return g.index=b,t?(b=g.alternate,b!==null?(b=b.index,b<w?(g.flags|=2,w):b):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,w,b,T){return w===null||w.tag!==6?(w=iv(b,g.mode,T),w.return=g,w):(w=i(w,b),w.return=g,w)}function c(g,w,b,T){var j=b.type;return j===No?d(g,w,b.props.children,T,b.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rs&&E_(j)===w.type)?(T=i(w,b.props),T.ref=$c(g,w,b),T.return=g,T):(T=Rh(b.type,b.key,b.props,null,g.mode,T),T.ref=$c(g,w,b),T.return=g,T)}function u(g,w,b,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=sv(b,g.mode,T),w.return=g,w):(w=i(w,b.children||[]),w.return=g,w)}function d(g,w,b,T,j){return w===null||w.tag!==7?(w=Sa(b,g.mode,T,j),w.return=g,w):(w=i(w,b),w.return=g,w)}function f(g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=iv(""+w,g.mode,b),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bf:return b=Rh(w.type,w.key,w.props,null,g.mode,b),b.ref=$c(g,null,w),b.return=g,b;case _o:return w=sv(w,g.mode,b),w.return=g,w;case rs:var T=w._init;return f(g,T(w._payload),b)}if(tu(w)||Cc(w))return w=Sa(w,g.mode,b,null),w.return=g,w;Jf(g,w)}return null}function h(g,w,b,T){var j=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bf:return b.key===j?c(g,w,b,T):null;case _o:return b.key===j?u(g,w,b,T):null;case rs:return j=b._init,h(g,w,j(b._payload),T)}if(tu(b)||Cc(b))return j!==null?null:d(g,w,b,T,null);Jf(g,b)}return null}function p(g,w,b,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(b)||null,l(w,g,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Bf:return g=g.get(T.key===null?b:T.key)||null,c(w,g,T,j);case _o:return g=g.get(T.key===null?b:T.key)||null,u(w,g,T,j);case rs:var A=T._init;return p(g,w,b,A(T._payload),j)}if(tu(T)||Cc(T))return g=g.get(b)||null,d(w,g,T,j,null);Jf(w,T)}return null}function v(g,w,b,T){for(var j=null,A=null,S=w,_=w=0,E=null;S!==null&&_<b.length;_++){S.index>_?(E=S,S=null):E=S.sibling;var O=h(g,S,b[_],T);if(O===null){S===null&&(S=E);break}t&&S&&O.alternate===null&&e(g,S),w=a(O,w,_),A===null?j=O:A.sibling=O,A=O,S=E}if(_===b.length)return r(g,S),ot&&la(g,_),j;if(S===null){for(;_<b.length;_++)S=f(g,b[_],T),S!==null&&(w=a(S,w,_),A===null?j=S:A.sibling=S,A=S);return ot&&la(g,_),j}for(S=n(g,S);_<b.length;_++)E=p(S,g,_,b[_],T),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?_:E.key),w=a(E,w,_),A===null?j=E:A.sibling=E,A=E);return t&&S.forEach(function(I){return e(g,I)}),ot&&la(g,_),j}function x(g,w,b,T){var j=Cc(b);if(typeof j!="function")throw Error(Q(150));if(b=j.call(b),b==null)throw Error(Q(151));for(var A=j=null,S=w,_=w=0,E=null,O=b.next();S!==null&&!O.done;_++,O=b.next()){S.index>_?(E=S,S=null):E=S.sibling;var I=h(g,S,O.value,T);if(I===null){S===null&&(S=E);break}t&&S&&I.alternate===null&&e(g,S),w=a(I,w,_),A===null?j=I:A.sibling=I,A=I,S=E}if(O.done)return r(g,S),ot&&la(g,_),j;if(S===null){for(;!O.done;_++,O=b.next())O=f(g,O.value,T),O!==null&&(w=a(O,w,_),A===null?j=O:A.sibling=O,A=O);return ot&&la(g,_),j}for(S=n(g,S);!O.done;_++,O=b.next())O=p(S,g,_,O.value,T),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?_:O.key),w=a(O,w,_),A===null?j=O:A.sibling=O,A=O);return t&&S.forEach(function(C){return e(g,C)}),ot&&la(g,_),j}function y(g,w,b,T){if(typeof b=="object"&&b!==null&&b.type===No&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Bf:e:{for(var j=b.key,A=w;A!==null;){if(A.key===j){if(j=b.type,j===No){if(A.tag===7){r(g,A.sibling),w=i(A,b.props.children),w.return=g,g=w;break e}}else if(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===rs&&E_(j)===A.type){r(g,A.sibling),w=i(A,b.props),w.ref=$c(g,A,b),w.return=g,g=w;break e}r(g,A);break}else e(g,A);A=A.sibling}b.type===No?(w=Sa(b.props.children,g.mode,T,b.key),w.return=g,g=w):(T=Rh(b.type,b.key,b.props,null,g.mode,T),T.ref=$c(g,w,b),T.return=g,g=T)}return o(g);case _o:e:{for(A=b.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(g,w.sibling),w=i(w,b.children||[]),w.return=g,g=w;break e}else{r(g,w);break}else e(g,w);w=w.sibling}w=sv(b,g.mode,T),w.return=g,g=w}return o(g);case rs:return A=b._init,y(g,w,A(b._payload),T)}if(tu(b))return v(g,w,b,T);if(Cc(b))return x(g,w,b,T);Jf(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(g,w.sibling),w=i(w,b),w.return=g,g=w):(r(g,w),w=iv(b,g.mode,T),w.return=g,g=w),o(g)):r(g,w)}return y}var il=cI(!0),uI=cI(!1),lm=zs(null),cm=null,Co=null,_w=null;function Nw(){_w=Co=cm=null}function Sw(t){var e=lm.current;at(lm),t._currentValue=e}function Px(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ho(t,e){cm=t,_w=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(_w!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(cm===null)throw Error(Q(308));Co=t,cm.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var ya=null;function Aw(t){ya===null?ya=[t]:ya.push(t)}function dI(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Aw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ti(t,n)}function Ti(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ns=!1;function Tw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Me&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ti(t,r)}return i=n.interleaved,i===null?(e.next=e,Aw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ti(t,r)}function Ph(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,fw(t,r)}}function k_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function um(t,e,r,n){var i=t.updateQueue;ns=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(h=e,p=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=mt({},f,h);break e;case 2:ns=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ca|=o,t.lanes=o,t.memoizedState=f}}function P_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Zd={},Wn=zs(Zd),qu=zs(Zd),Gu=zs(Zd);function va(t){if(t===Zd)throw Error(Q(174));return t}function Ew(t,e){switch(Qe(Gu,e),Qe(qu,t),Qe(Wn,Zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ux(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ux(e,t)}at(Wn),Qe(Wn,e)}function sl(){at(Wn),at(qu),at(Gu)}function hI(t){va(Gu.current);var e=va(Wn.current),r=ux(e,t.type);e!==r&&(Qe(qu,t),Qe(Wn,r))}function kw(t){qu.current===t&&(at(Wn),at(qu))}var dt=zs(0);function dm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jy=[];function Pw(){for(var t=0;t<Jy.length;t++)Jy[t]._workInProgressVersionPrimary=null;Jy.length=0}var Ih=$i.ReactCurrentDispatcher,Zy=$i.ReactCurrentBatchConfig,Ia=0,ht=null,Mt=null,qt=null,fm=!1,yu=!1,Ku=0,mL=0;function ar(){throw Error(Q(321))}function Iw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Cn(t[r],e[r]))return!1;return!0}function Cw(t,e,r,n,i,a){if(Ia=a,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ih.current=t===null||t.memoizedState===null?vL:xL,t=r(n,i),yu){a=0;do{if(yu=!1,Ku=0,25<=a)throw Error(Q(301));a+=1,qt=Mt=null,e.updateQueue=null,Ih.current=bL,t=r(n,i)}while(yu)}if(Ih.current=hm,e=Mt!==null&&Mt.next!==null,Ia=0,qt=Mt=ht=null,fm=!1,e)throw Error(Q(300));return t}function Ow(){var t=Ku!==0;return Ku=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?ht.memoizedState=qt=t:qt=qt.next=t,qt}function hn(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=qt===null?ht.memoizedState:qt.next;if(e!==null)qt=e,Mt=t;else{if(t===null)throw Error(Q(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},qt===null?ht.memoizedState=qt=t:qt=qt.next=t}return qt}function Yu(t,e){return typeof e=="function"?e(t):e}function ev(t){var e=hn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ht.lanes|=d,Ca|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Cn(n,e.memoizedState)||(Er=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ht.lanes|=a,Ca|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function tv(t){var e=hn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Cn(a,e.memoizedState)||(Er=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function mI(){}function pI(t,e){var r=ht,n=hn(),i=e(),a=!Cn(n.memoizedState,i);if(a&&(n.memoizedState=i,Er=!0),n=n.queue,Mw(vI.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,Xu(9,yI.bind(null,r,n,i,e),void 0,null),Yt===null)throw Error(Q(349));Ia&30||gI(r,e,i)}return i}function gI(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yI(t,e,r,n){e.value=r,e.getSnapshot=n,xI(e)&&bI(t)}function vI(t,e,r){return r(function(){xI(e)&&bI(t)})}function xI(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cn(t,r)}catch{return!0}}function bI(t){var e=Ti(t,1);e!==null&&Pn(e,t,1,-1)}function I_(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:t},e.queue=t,t=t.dispatch=yL.bind(null,ht,t),[e.memoizedState,t]}function Xu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function wI(){return hn().memoizedState}function Ch(t,e,r,n){var i=Vn();ht.flags|=t,i.memoizedState=Xu(1|e,r,void 0,n===void 0?null:n)}function Jp(t,e,r,n){var i=hn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&Iw(n,o.deps)){i.memoizedState=Xu(e,r,a,n);return}}ht.flags|=t,i.memoizedState=Xu(1|e,r,a,n)}function C_(t,e){return Ch(8390656,8,t,e)}function Mw(t,e){return Jp(2048,8,t,e)}function jI(t,e){return Jp(4,2,t,e)}function _I(t,e){return Jp(4,4,t,e)}function NI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function SI(t,e,r){return r=r!=null?r.concat([t]):null,Jp(4,4,NI.bind(null,e,t),r)}function Dw(){}function AI(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TI(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Iw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function EI(t,e,r){return Ia&21?(Cn(r,e)||(r=OP(),ht.lanes|=r,Ca|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=r)}function pL(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=Zy.transition;Zy.transition={};try{t(!1),e()}finally{Be=r,Zy.transition=n}}function kI(){return hn().memoizedState}function gL(t,e,r){var n=_s(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PI(t))II(e,r);else if(r=dI(t,e,r,n),r!==null){var i=jr();Pn(r,t,n,i),CI(r,e,n)}}function yL(t,e,r){var n=_s(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PI(t))II(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Cn(l,o)){var c=e.interleaved;c===null?(i.next=i,Aw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=dI(t,e,i,n),r!==null&&(i=jr(),Pn(r,t,n,i),CI(r,e,n))}}function PI(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function II(t,e){yu=fm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function CI(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,fw(t,r)}}var hm={readContext:fn,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},vL={readContext:fn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:C_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ch(4194308,4,NI.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var r=Vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=gL.bind(null,ht,t),[n.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:I_,useDebugValue:Dw,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=I_(!1),e=t[0];return t=pL.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ht,i=Vn();if(ot){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),Yt===null)throw Error(Q(349));Ia&30||gI(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,C_(vI.bind(null,n,a,t),[t]),n.flags|=2048,Xu(9,yI.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Vn(),e=Yt.identifierPrefix;if(ot){var r=hi,n=fi;r=(n&~(1<<32-kn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ku++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xL={readContext:fn,useCallback:AI,useContext:fn,useEffect:Mw,useImperativeHandle:SI,useInsertionEffect:jI,useLayoutEffect:_I,useMemo:TI,useReducer:ev,useRef:wI,useState:function(){return ev(Yu)},useDebugValue:Dw,useDeferredValue:function(t){var e=hn();return EI(e,Mt.memoizedState,t)},useTransition:function(){var t=ev(Yu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:mI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1},bL={readContext:fn,useCallback:AI,useContext:fn,useEffect:Mw,useImperativeHandle:SI,useInsertionEffect:jI,useLayoutEffect:_I,useMemo:TI,useReducer:tv,useRef:wI,useState:function(){return tv(Yu)},useDebugValue:Dw,useDeferredValue:function(t){var e=hn();return Mt===null?e.memoizedState=t:EI(e,Mt.memoizedState,t)},useTransition:function(){var t=tv(Yu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:mI,useSyncExternalStore:pI,useId:kI,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ix(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zp={isMounted:function(t){return(t=t._reactInternals)?Ka(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jr(),i=_s(t),a=xi(n,i);a.payload=e,r!=null&&(a.callback=r),e=ws(t,a,i),e!==null&&(Pn(e,t,i,n),Ph(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jr(),i=_s(t),a=xi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ws(t,a,i),e!==null&&(Pn(e,t,i,n),Ph(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jr(),n=_s(t),i=xi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ws(t,i,n),e!==null&&(Pn(e,t,n,r),Ph(e,t,n))}};function O_(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Uu(r,n)||!Uu(i,a):!0}function OI(t,e,r){var n=!1,i=Ms,a=e.contextType;return typeof a=="object"&&a!==null?a=fn(a):(i=Ir(e)?ka:pr.current,n=e.contextTypes,a=(n=n!=null)?rl(t,i):Ms),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function M_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function Cx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Tw(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=fn(a):(a=Ir(e)?ka:pr.current,i.context=rl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ix(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zp.enqueueReplaceState(i,i.state,null),um(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e){try{var r="",n=e;do r+=K$(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function rv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ox(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wL=typeof WeakMap=="function"?WeakMap:Map;function MI(t,e,r){r=xi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){pm||(pm=!0,zx=n),Ox(t,e)},r}function DI(t,e,r){r=xi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ox(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ox(t,e),typeof n!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function D_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=DL.bind(null,t,e,r),e.then(t,t))}function R_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xi(-1,1),e.tag=2,ws(r,e,1))),r.lanes|=1),t)}var jL=$i.ReactCurrentOwner,Er=!1;function vr(t,e,r,n){e.child=t===null?uI(e,null,r,n):il(e,t.child,r,n)}function L_(t,e,r,n,i){r=r.render;var a=e.ref;return Ho(e,i),n=Cw(t,e,r,n,a,i),r=Ow(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ot&&r&&bw(e),e.flags|=1,vr(t,e,n,i),e.child)}function V_(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!zw(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,RI(t,e,a,n,i)):(t=Rh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Uu,r(o,n)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=Ns(a,n),t.ref=e.ref,t.return=e,e.child=t}function RI(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Uu(a,n)&&t.ref===e.ref)if(Er=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return Mx(t,e,r,n,i)}function $I(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Mo,Vr),Vr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Mo,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qe(Mo,Vr),Vr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Qe(Mo,Vr),Vr|=n;return vr(t,e,i,r),e.child}function LI(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Mx(t,e,r,n,i){var a=Ir(r)?ka:pr.current;return a=rl(e,a),Ho(e,i),r=Cw(t,e,r,n,a,i),n=Ow(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(ot&&n&&bw(e),e.flags|=1,vr(t,e,r,i),e.child)}function F_(t,e,r,n,i){if(Ir(r)){var a=!0;sm(e)}else a=!1;if(Ho(e,i),e.stateNode===null)Oh(t,e),OI(e,r,n),Cx(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Ir(r)?ka:pr.current,u=rl(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&M_(e,o,n,u),ns=!1;var h=e.memoizedState;o.state=h,um(e,n,o,i),c=e.memoizedState,l!==n||h!==c||Pr.current||ns?(typeof d=="function"&&(Ix(e,r,d,n),c=e.memoizedState),(l=ns||O_(e,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,fI(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:wn(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Ir(r)?ka:pr.current,c=rl(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&M_(e,o,n,c),ns=!1,h=e.memoizedState,o.state=h,um(e,n,o,i);var v=e.memoizedState;l!==f||h!==v||Pr.current||ns?(typeof p=="function"&&(Ix(e,r,p,n),v=e.memoizedState),(u=ns||O_(e,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Dx(t,e,r,n,a,i)}function Dx(t,e,r,n,i,a){LI(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&S_(e,r,!1),Ei(t,e,a);n=e.stateNode,jL.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=il(e,t.child,null,a),e.child=il(e,null,l,a)):vr(t,e,l,a),e.memoizedState=n.state,i&&S_(e,r,!0),e.child}function VI(t){var e=t.stateNode;e.pendingContext?N_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N_(t,e.context,!1),Ew(t,e.containerInfo)}function B_(t,e,r,n,i){return nl(),jw(i),e.flags|=256,vr(t,e,r,n),e.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function $x(t){return{baseLanes:t,cachePool:null,transitions:null}}function FI(t,e,r){var n=e.pendingProps,i=dt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(dt,i&1),t===null)return kx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=rg(o,n,0,null),t=Sa(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=$x(r),e.memoizedState=Rx,t):Rw(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return _L(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ns(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ns(l,a):(a=Sa(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?$x(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Rx,n}return a=t.child,t=a.sibling,n=Ns(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Rw(t,e){return e=rg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,r,n){return n!==null&&jw(n),il(e,t.child,null,r),t=Rw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _L(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=rv(Error(Q(422))),Zf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=rg({mode:"visible",children:n.children},i,0,null),a=Sa(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&il(e,t.child,null,o),e.child.memoizedState=$x(o),e.memoizedState=Rx,a);if(!(e.mode&1))return Zf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Q(419)),n=rv(a,n,void 0),Zf(t,e,o,n)}if(l=(o&t.childLanes)!==0,Er||l){if(n=Yt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ti(t,i),Pn(n,t,i,-1))}return Uw(),n=rv(Error(Q(421))),Zf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,zr=bs(i.nextSibling),Wr=e,ot=!0,Sn=null,t!==null&&(rn[nn++]=fi,rn[nn++]=hi,rn[nn++]=Pa,fi=t.id,hi=t.overflow,Pa=e),e=Rw(e,n.children),e.flags|=4096,e)}function U_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Px(t.return,e,r)}function nv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function BI(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(vr(t,e,n.children,r),n=dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U_(t,r,e);else if(t.tag===19)U_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Qe(dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&dm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),nv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}nv(e,!0,r,null,a);break;case"together":nv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ca|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=Ns(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ns(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function NL(t,e,r){switch(e.tag){case 3:VI(e),nl();break;case 5:hI(e);break;case 1:Ir(e.type)&&sm(e);break;case 4:Ew(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Qe(lm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Qe(dt,dt.current&1),e.flags|=128,null):r&e.child.childLanes?FI(t,e,r):(Qe(dt,dt.current&1),t=Ei(t,e,r),t!==null?t.sibling:null);Qe(dt,dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return BI(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(dt,dt.current),n)break;return null;case 22:case 23:return e.lanes=0,$I(t,e,r)}return Ei(t,e,r)}var UI,Lx,zI,WI;UI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lx=function(){};zI=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,va(Wn.current);var a=null;switch(r){case"input":i=ax(t,i),n=ax(t,n),a=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),a=[];break;case"textarea":i=cx(t,i),n=cx(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=nm)}dx(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Du.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Du.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&rt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};WI=function(t,e,r,n){r!==n&&(e.flags|=4)};function Lc(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SL(t,e,r){var n=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(e),null;case 1:return Ir(e.type)&&im(),or(e),null;case 3:return n=e.stateNode,sl(),at(Pr),at(pr),Pw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(qx(Sn),Sn=null))),Lx(t,e),or(e),null;case 5:kw(e);var i=va(Gu.current);if(r=e.type,t!==null&&e.stateNode!=null)zI(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return or(e),null}if(t=va(Wn.current),Qf(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Bn]=e,n[Hu]=a,t=(e.mode&1)!==0,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(i=0;i<nu.length;i++)rt(nu[i],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":Q2(n,a),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},rt("invalid",n);break;case"textarea":Z2(n,a),rt("invalid",n)}dx(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Xf(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Xf(n.textContent,l,t),i=["children",""+l]):Du.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&rt("scroll",n)}switch(r){case"input":Uf(n),J2(n,a,!0);break;case"textarea":Uf(n),e_(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=nm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Bn]=e,t[Hu]=n,UI(t,e,!1,!1),e.stateNode=t;e:{switch(o=fx(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<nu.length;i++)rt(nu[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":Q2(t,n),i=ax(t,n),rt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),rt("invalid",t);break;case"textarea":Z2(t,n),i=cx(t,n),rt("invalid",t);break;default:i=n}dx(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?wP(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xP(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ru(t,c):typeof c=="number"&&Ru(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Du.hasOwnProperty(a)?c!=null&&a==="onScroll"&&rt("scroll",t):c!=null&&aw(t,a,c,o))}switch(r){case"input":Uf(t),J2(t,n,!1);break;case"textarea":Uf(t),e_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Os(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Bo(t,!!n.multiple,a,!1):n.defaultValue!=null&&Bo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return or(e),null;case 6:if(t&&e.stateNode!=null)WI(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=va(Gu.current),va(Wn.current),Qf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bn]=e,(a=n.nodeValue!==r)&&(t=Wr,t!==null))switch(t.tag){case 3:Xf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=e,e.stateNode=n}return or(e),null;case 13:if(at(dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&zr!==null&&e.mode&1&&!(e.flags&128))lI(),nl(),e.flags|=98560,a=!1;else if(a=Qf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Q(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[Bn]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;or(e),a=!1}else Sn!==null&&(qx(Sn),Sn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?$t===0&&($t=3):Uw())),e.updateQueue!==null&&(e.flags|=4),or(e),null);case 4:return sl(),Lx(t,e),t===null&&zu(e.stateNode.containerInfo),or(e),null;case 10:return Sw(e.type._context),or(e),null;case 17:return Ir(e.type)&&im(),or(e),null;case 19:if(at(dt),a=e.memoizedState,a===null)return or(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Lc(a,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dm(t),o!==null){for(e.flags|=128,Lc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Qe(dt,dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&_t()>ol&&(e.flags|=128,n=!0,Lc(a,!1),e.lanes=4194304)}else{if(!n)if(t=dm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Lc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ot)return or(e),null}else 2*_t()-a.renderingStartTime>ol&&r!==1073741824&&(e.flags|=128,n=!0,Lc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,r=dt.current,Qe(dt,n?r&1|2:r&1),e):(or(e),null);case 22:case 23:return Bw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vr&1073741824&&(or(e),e.subtreeFlags&6&&(e.flags|=8192)):or(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function AL(t,e){switch(ww(e),e.tag){case 1:return Ir(e.type)&&im(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(),at(Pr),at(pr),Pw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kw(e),null;case 13:if(at(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(dt),null;case 4:return sl(),null;case 10:return Sw(e.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var eh=!1,dr=!1,TL=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Oo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(t,e,n)}else r.current=null}function Vx(t,e,r){try{r()}catch(n){yt(t,e,n)}}var z_=!1;function EL(t,e){if(jx=em,t=YP(),xw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(l=o),h===a&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_x={focusedElem:t,selectionRange:r},em=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:wn(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(T){yt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return v=z_,z_=!1,v}function vu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Vx(e,r,a)}i=i.next}while(i!==n)}}function eg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function HI(t){var e=t.alternate;e!==null&&(t.alternate=null,HI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[Hu],delete e[Ax],delete e[uL],delete e[dL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qI(t){return t.tag===5||t.tag===3||t.tag===4}function W_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=nm));else if(n!==4&&(t=t.child,t!==null))for(Bx(t,e,r),t=t.sibling;t!==null;)Bx(t,e,r),t=t.sibling}function Ux(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ux(t,e,r),t=t.sibling;t!==null;)Ux(t,e,r),t=t.sibling}var Zt=null,jn=!1;function Qi(t,e,r){for(r=r.child;r!==null;)GI(t,e,r),r=r.sibling}function GI(t,e,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(qp,r)}catch{}switch(r.tag){case 5:dr||Oo(r,e);case 6:var n=Zt,i=jn;Zt=null,Qi(t,e,r),Zt=n,jn=i,Zt!==null&&(jn?(t=Zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Zt.removeChild(r.stateNode));break;case 18:Zt!==null&&(jn?(t=Zt,r=r.stateNode,t.nodeType===8?Xy(t.parentNode,r):t.nodeType===1&&Xy(t,r),Fu(t)):Xy(Zt,r.stateNode));break;case 4:n=Zt,i=jn,Zt=r.stateNode.containerInfo,jn=!0,Qi(t,e,r),Zt=n,jn=i;break;case 0:case 11:case 14:case 15:if(!dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Vx(r,e,o),i=i.next}while(i!==n)}Qi(t,e,r);break;case 1:if(!dr&&(Oo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yt(r,e,l)}Qi(t,e,r);break;case 21:Qi(t,e,r);break;case 22:r.mode&1?(dr=(n=dr)||r.memoizedState!==null,Qi(t,e,r),dr=n):Qi(t,e,r);break;default:Qi(t,e,r)}}function H_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new TL),e.forEach(function(n){var i=$L.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function xn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zt=l.stateNode,jn=!1;break e;case 3:Zt=l.stateNode.containerInfo,jn=!0;break e;case 4:Zt=l.stateNode.containerInfo,jn=!0;break e}l=l.return}if(Zt===null)throw Error(Q(160));GI(a,o,i),Zt=null,jn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KI(e,t),e=e.sibling}function KI(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Ln(t),n&4){try{vu(3,t,t.return),eg(3,t)}catch(x){yt(t,t.return,x)}try{vu(5,t,t.return)}catch(x){yt(t,t.return,x)}}break;case 1:xn(e,t),Ln(t),n&512&&r!==null&&Oo(r,r.return);break;case 5:if(xn(e,t),Ln(t),n&512&&r!==null&&Oo(r,r.return),t.flags&32){var i=t.stateNode;try{Ru(i,"")}catch(x){yt(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&gP(i,a),fx(l,o);var u=fx(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?wP(i,f):d==="dangerouslySetInnerHTML"?xP(i,f):d==="children"?Ru(i,f):aw(i,d,f,u)}switch(l){case"input":ox(i,a);break;case"textarea":yP(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Bo(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Bo(i,!!a.multiple,a.defaultValue,!0):Bo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Hu]=a}catch(x){yt(t,t.return,x)}}break;case 6:if(xn(e,t),Ln(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(x){yt(t,t.return,x)}}break;case 3:if(xn(e,t),Ln(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fu(e.containerInfo)}catch(x){yt(t,t.return,x)}break;case 4:xn(e,t),Ln(t);break;case 13:xn(e,t),Ln(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Vw=_t())),n&4&&H_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(dr=(u=dr)||d,xn(e,t),dr=u):xn(e,t),Ln(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,p=h.child,h.tag){case 0:case 11:case 14:case 15:vu(4,h,h.return);break;case 1:Oo(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){yt(n,r,x)}}break;case 5:Oo(h,h.return);break;case 22:if(h.memoizedState!==null){G_(f);continue}}p!==null?(p.return=h,ie=p):G_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=bP("display",o))}catch(x){yt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){yt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Ln(t),n&4&&H_(t);break;case 21:break;default:xn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qI(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ru(i,""),n.flags&=-33);var a=W_(t);Ux(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=W_(t);Bx(t,l,o);break;default:throw Error(Q(161))}}catch(c){yt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kL(t,e,r){ie=t,YI(t)}function YI(t,e,r){for(var n=(t.mode&1)!==0;ie!==null;){var i=ie,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||eh;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||dr;l=eh;var u=dr;if(eh=o,(dr=c)&&!u)for(ie=i;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?K_(i):c!==null?(c.return=o,ie=c):K_(i);for(;a!==null;)ie=a,YI(a),a=a.sibling;ie=i,eh=l,dr=u}q_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ie=a):q_(t)}}function q_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||eg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:wn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&P_(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}P_(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}dr||e.flags&512&&Fx(e)}catch(h){yt(e,e.return,h)}}if(e===t){ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,ie=r;break}ie=e.return}}function G_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ie=r;break}ie=e.return}}function K_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{eg(4,e)}catch(c){yt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){yt(e,i,c)}}var a=e.return;try{Fx(e)}catch(c){yt(e,a,c)}break;case 5:var o=e.return;try{Fx(e)}catch(c){yt(e,o,c)}}}catch(c){yt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var PL=Math.ceil,mm=$i.ReactCurrentDispatcher,$w=$i.ReactCurrentOwner,dn=$i.ReactCurrentBatchConfig,Me=0,Yt=null,Et=null,rr=0,Vr=0,Mo=zs(0),$t=0,Qu=null,Ca=0,tg=0,Lw=0,xu=null,Tr=null,Vw=0,ol=1/0,ci=null,pm=!1,zx=null,js=null,th=!1,hs=null,gm=0,bu=0,Wx=null,Mh=-1,Dh=0;function jr(){return Me&6?_t():Mh!==-1?Mh:Mh=_t()}function _s(t){return t.mode&1?Me&2&&rr!==0?rr&-rr:hL.transition!==null?(Dh===0&&(Dh=OP()),Dh):(t=Be,t!==0||(t=window.event,t=t===void 0?16:FP(t.type)),t):1}function Pn(t,e,r,n){if(50<bu)throw bu=0,Wx=null,Error(Q(185));Xd(t,r,n),(!(Me&2)||t!==Yt)&&(t===Yt&&(!(Me&2)&&(tg|=r),$t===4&&as(t,rr)),Cr(t,n),r===1&&Me===0&&!(e.mode&1)&&(ol=_t()+500,Qp&&Ws()))}function Cr(t,e){var r=t.callbackNode;h5(t,e);var n=Zh(t,t===Yt?rr:0);if(n===0)r!==null&&n_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&n_(r),e===1)t.tag===0?fL(Y_.bind(null,t)):sI(Y_.bind(null,t)),lL(function(){!(Me&6)&&Ws()}),r=null;else{switch(MP(n)){case 1:r=dw;break;case 4:r=IP;break;case 16:r=Jh;break;case 536870912:r=CP;break;default:r=Jh}r=nC(r,XI.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function XI(t,e){if(Mh=-1,Dh=0,Me&6)throw Error(Q(327));var r=t.callbackNode;if(qo()&&t.callbackNode!==r)return null;var n=Zh(t,t===Yt?rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ym(t,n);else{e=n;var i=Me;Me|=2;var a=JI();(Yt!==t||rr!==e)&&(ci=null,ol=_t()+500,Na(t,e));do try{OL();break}catch(l){QI(t,l)}while(!0);Nw(),mm.current=a,Me=i,Et!==null?e=0:(Yt=null,rr=0,e=$t)}if(e!==0){if(e===2&&(i=yx(t),i!==0&&(n=i,e=Hx(t,i))),e===1)throw r=Qu,Na(t,0),as(t,n),Cr(t,_t()),r;if(e===6)as(t,n);else{if(i=t.current.alternate,!(n&30)&&!IL(i)&&(e=ym(t,n),e===2&&(a=yx(t),a!==0&&(n=a,e=Hx(t,a))),e===1))throw r=Qu,Na(t,0),as(t,n),Cr(t,_t()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:ca(t,Tr,ci);break;case 3:if(as(t,n),(n&130023424)===n&&(e=Vw+500-_t(),10<e)){if(Zh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sx(ca.bind(null,t,Tr,ci),e);break}ca(t,Tr,ci);break;case 4:if(as(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-kn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PL(n/1960))-n,10<n){t.timeoutHandle=Sx(ca.bind(null,t,Tr,ci),n);break}ca(t,Tr,ci);break;case 5:ca(t,Tr,ci);break;default:throw Error(Q(329))}}}return Cr(t,_t()),t.callbackNode===r?XI.bind(null,t):null}function Hx(t,e){var r=xu;return t.current.memoizedState.isDehydrated&&(Na(t,e).flags|=256),t=ym(t,e),t!==2&&(e=Tr,Tr=r,e!==null&&qx(e)),t}function qx(t){Tr===null?Tr=t:Tr.push.apply(Tr,t)}function IL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Cn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~Lw,e&=~tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-kn(e),n=1<<r;t[r]=-1,e&=~n}}function Y_(t){if(Me&6)throw Error(Q(327));qo();var e=Zh(t,0);if(!(e&1))return Cr(t,_t()),null;var r=ym(t,e);if(t.tag!==0&&r===2){var n=yx(t);n!==0&&(e=n,r=Hx(t,n))}if(r===1)throw r=Qu,Na(t,0),as(t,e),Cr(t,_t()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ca(t,Tr,ci),Cr(t,_t()),null}function Fw(t,e){var r=Me;Me|=1;try{return t(e)}finally{Me=r,Me===0&&(ol=_t()+500,Qp&&Ws())}}function Oa(t){hs!==null&&hs.tag===0&&!(Me&6)&&qo();var e=Me;Me|=1;var r=dn.transition,n=Be;try{if(dn.transition=null,Be=1,t)return t()}finally{Be=n,dn.transition=r,Me=e,!(Me&6)&&Ws()}}function Bw(){Vr=Mo.current,at(Mo)}function Na(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,oL(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(ww(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&im();break;case 3:sl(),at(Pr),at(pr),Pw();break;case 5:kw(n);break;case 4:sl();break;case 13:at(dt);break;case 19:at(dt);break;case 10:Sw(n.type._context);break;case 22:case 23:Bw()}r=r.return}if(Yt=t,Et=t=Ns(t.current,null),rr=Vr=e,$t=0,Qu=null,Lw=tg=Ca=0,Tr=xu=null,ya!==null){for(e=0;e<ya.length;e++)if(r=ya[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ya=null}return t}function QI(t,e){do{var r=Et;try{if(Nw(),Ih.current=hm,fm){for(var n=ht.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fm=!1}if(Ia=0,qt=Mt=ht=null,yu=!1,Ku=0,$w.current=null,r===null||r.return===null){$t=1,Qu=e,Et=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=rr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=R_(o);if(p!==null){p.flags&=-257,$_(p,o,l,a,e),p.mode&1&&D_(a,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){D_(a,u,e),Uw();break e}c=Error(Q(426))}}else if(ot&&l.mode&1){var y=R_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),$_(y,o,l,a,e),jw(al(c,l));break e}}a=c=al(c,l),$t!==4&&($t=2),xu===null?xu=[a]:xu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=MI(a,c,e);k_(a,g);break e;case 1:l=c;var w=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(js===null||!js.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var T=DI(a,l,e);k_(a,T);break e}}a=a.return}while(a!==null)}eC(r)}catch(j){e=j,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function JI(){var t=mm.current;return mm.current=hm,t===null?hm:t}function Uw(){($t===0||$t===3||$t===2)&&($t=4),Yt===null||!(Ca&268435455)&&!(tg&268435455)||as(Yt,rr)}function ym(t,e){var r=Me;Me|=2;var n=JI();(Yt!==t||rr!==e)&&(ci=null,Na(t,e));do try{CL();break}catch(i){QI(t,i)}while(!0);if(Nw(),Me=r,mm.current=n,Et!==null)throw Error(Q(261));return Yt=null,rr=0,$t}function CL(){for(;Et!==null;)ZI(Et)}function OL(){for(;Et!==null&&!i5();)ZI(Et)}function ZI(t){var e=rC(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?eC(t):Et=e,$w.current=null}function eC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=AL(r,e),r!==null){r.flags&=32767,Et=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Et=null;return}}else if(r=SL(r,e,Vr),r!==null){Et=r;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);$t===0&&($t=5)}function ca(t,e,r){var n=Be,i=dn.transition;try{dn.transition=null,Be=1,ML(t,e,r,n)}finally{dn.transition=i,Be=n}return null}function ML(t,e,r,n){do qo();while(hs!==null);if(Me&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(m5(t,a),t===Yt&&(Et=Yt=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||th||(th=!0,nC(Jh,function(){return qo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=dn.transition,dn.transition=null;var o=Be;Be=1;var l=Me;Me|=4,$w.current=null,EL(t,r),KI(r,t),eL(_x),em=!!jx,_x=jx=null,t.current=r,kL(r),s5(),Me=l,Be=o,dn.transition=a}else t.current=r;if(th&&(th=!1,hs=t,gm=i),a=t.pendingLanes,a===0&&(js=null),l5(r.stateNode),Cr(t,_t()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pm)throw pm=!1,t=zx,zx=null,t;return gm&1&&t.tag!==0&&qo(),a=t.pendingLanes,a&1?t===Wx?bu++:(bu=0,Wx=t):bu=0,Ws(),null}function qo(){if(hs!==null){var t=MP(gm),e=dn.transition,r=Be;try{if(dn.transition=null,Be=16>t?16:t,hs===null)var n=!1;else{if(t=hs,hs=null,gm=0,Me&6)throw Error(Q(331));var i=Me;for(Me|=4,ie=t.current;ie!==null;){var a=ie,o=a.child;if(ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:vu(8,d,a)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,p=d.return;if(HI(d),d===u){ie=null;break}if(h!==null){h.return=p,ie=h;break}ie=p}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ie=o;else e:for(;ie!==null;){if(a=ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vu(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,ie=g;break e}ie=a.return}}var w=t.current;for(ie=w;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=w;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:eg(9,l)}}catch(j){yt(l,l.return,j)}if(l===o){ie=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ie=T;break e}ie=l.return}}if(Me=i,Ws(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(qp,t)}catch{}n=!0}return n}finally{Be=r,dn.transition=e}}return!1}function X_(t,e,r){e=al(r,e),e=MI(t,e,1),t=ws(t,e,1),e=jr(),t!==null&&(Xd(t,1,e),Cr(t,e))}function yt(t,e,r){if(t.tag===3)X_(t,t,r);else for(;e!==null;){if(e.tag===3){X_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(js===null||!js.has(n))){t=al(r,t),t=DI(e,t,1),e=ws(e,t,1),t=jr(),e!==null&&(Xd(e,1,t),Cr(e,t));break}}e=e.return}}function DL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jr(),t.pingedLanes|=t.suspendedLanes&r,Yt===t&&(rr&r)===r&&($t===4||$t===3&&(rr&130023424)===rr&&500>_t()-Vw?Na(t,0):Lw|=r),Cr(t,e)}function tC(t,e){e===0&&(t.mode&1?(e=Hf,Hf<<=1,!(Hf&130023424)&&(Hf=4194304)):e=1);var r=jr();t=Ti(t,e),t!==null&&(Xd(t,e,r),Cr(t,r))}function RL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),tC(t,r)}function $L(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),tC(t,r)}var rC;rC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Er=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Er=!1,NL(t,e,r);Er=!!(t.flags&131072)}else Er=!1,ot&&e.flags&1048576&&aI(e,om,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Oh(t,e),t=e.pendingProps;var i=rl(e,pr.current);Ho(e,r),i=Cw(null,e,n,t,i,r);var a=Ow();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(n)?(a=!0,sm(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tw(e),i.updater=Zp,e.stateNode=i,i._reactInternals=e,Cx(e,n,t,r),e=Dx(null,e,n,!0,a,r)):(e.tag=0,ot&&a&&bw(e),vr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Oh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=VL(n),t=wn(n,t),i){case 0:e=Mx(null,e,n,t,r);break e;case 1:e=F_(null,e,n,t,r);break e;case 11:e=L_(null,e,n,t,r);break e;case 14:e=V_(null,e,n,wn(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),Mx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),F_(t,e,n,i,r);case 3:e:{if(VI(e),t===null)throw Error(Q(387));n=e.pendingProps,a=e.memoizedState,i=a.element,fI(t,e),um(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=al(Error(Q(423)),e),e=B_(t,e,n,r,i);break e}else if(n!==i){i=al(Error(Q(424)),e),e=B_(t,e,n,r,i);break e}else for(zr=bs(e.stateNode.containerInfo.firstChild),Wr=e,ot=!0,Sn=null,r=uI(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nl(),n===i){e=Ei(t,e,r);break e}vr(t,e,n,r)}e=e.child}return e;case 5:return hI(e),t===null&&kx(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Nx(n,i)?o=null:a!==null&&Nx(n,a)&&(e.flags|=32),LI(t,e),vr(t,e,o,r),e.child;case 6:return t===null&&kx(e),null;case 13:return FI(t,e,r);case 4:return Ew(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=il(e,null,n,r):vr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),L_(t,e,n,i,r);case 7:return vr(t,e,e.pendingProps,r),e.child;case 8:return vr(t,e,e.pendingProps.children,r),e.child;case 12:return vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Qe(lm,n._currentValue),n._currentValue=o,a!==null)if(Cn(a.value,o)){if(a.children===i.children&&!Pr.current){e=Ei(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=xi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Px(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Px(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ho(e,r),i=fn(i),n=n(i),e.flags|=1,vr(t,e,n,r),e.child;case 14:return n=e.type,i=wn(n,e.pendingProps),i=wn(n.type,i),V_(t,e,n,i,r);case 15:return RI(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:wn(n,i),Oh(t,e),e.tag=1,Ir(n)?(t=!0,sm(e)):t=!1,Ho(e,r),OI(e,n,i),Cx(e,n,i,r),Dx(null,e,n,!0,t,r);case 19:return BI(t,e,r);case 22:return $I(t,e,r)}throw Error(Q(156,e.tag))};function nC(t,e){return PP(t,e)}function LL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new LL(t,e,r,n)}function zw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VL(t){if(typeof t=="function")return zw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lw)return 11;if(t===cw)return 14}return 2}function Ns(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Rh(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")zw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case No:return Sa(r.children,i,a,e);case ow:o=8,i|=8;break;case rx:return t=cn(12,r,e,i|2),t.elementType=rx,t.lanes=a,t;case nx:return t=cn(13,r,e,i),t.elementType=nx,t.lanes=a,t;case ix:return t=cn(19,r,e,i),t.elementType=ix,t.lanes=a,t;case hP:return rg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dP:o=10;break e;case fP:o=9;break e;case lw:o=11;break e;case cw:o=14;break e;case rs:o=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=cn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Sa(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function rg(t,e,r,n){return t=cn(22,t,n,e),t.elementType=hP,t.lanes=r,t.stateNode={isHidden:!1},t}function iv(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function sv(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vy(0),this.expirationTimes=Vy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ww(t,e,r,n,i,a,o,l,c){return t=new FL(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=cn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tw(a),t}function BL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function iC(t){if(!t)return Ms;t=t._reactInternals;e:{if(Ka(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(Ir(r))return iI(t,r,e)}return e}function sC(t,e,r,n,i,a,o,l,c){return t=Ww(r,n,!0,t,i,a,o,l,c),t.context=iC(null),r=t.current,n=jr(),i=_s(r),a=xi(n,i),a.callback=e??null,ws(r,a,i),t.current.lanes=i,Xd(t,i,n),Cr(t,n),t}function ng(t,e,r,n){var i=e.current,a=jr(),o=_s(i);return r=iC(r),e.context===null?e.context=r:e.pendingContext=r,e=xi(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ws(i,e,o),t!==null&&(Pn(t,i,o,a),Ph(t,i,o)),o}function vm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Hw(t,e){Q_(t,e),(t=t.alternate)&&Q_(t,e)}function UL(){return null}var aC=typeof reportError=="function"?reportError:function(t){console.error(t)};function qw(t){this._internalRoot=t}ig.prototype.render=qw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));ng(t,e,null,null)};ig.prototype.unmount=qw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oa(function(){ng(null,t,null,null)}),e[Ai]=null}};function ig(t){this._internalRoot=t}ig.prototype.unstable_scheduleHydration=function(t){if(t){var e=$P();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ss.length&&e!==0&&e<ss[r].priority;r++);ss.splice(r,0,t),r===0&&VP(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J_(){}function zL(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=vm(o);a.call(u)}}var o=sC(e,n,t,0,null,!1,!1,"",J_);return t._reactRootContainer=o,t[Ai]=o.current,zu(t.nodeType===8?t.parentNode:t),Oa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=vm(c);l.call(u)}}var c=Ww(t,0,!1,null,null,!1,!1,"",J_);return t._reactRootContainer=c,t[Ai]=c.current,zu(t.nodeType===8?t.parentNode:t),Oa(function(){ng(e,c,r,n)}),c}function ag(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=vm(o);l.call(c)}}ng(e,o,t,i)}else o=zL(r,e,t,i,n);return vm(o)}DP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ru(e.pendingLanes);r!==0&&(fw(e,r|1),Cr(e,_t()),!(Me&6)&&(ol=_t()+500,Ws()))}break;case 13:Oa(function(){var n=Ti(t,1);if(n!==null){var i=jr();Pn(n,t,1,i)}}),Hw(t,1)}};hw=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var r=jr();Pn(e,t,134217728,r)}Hw(t,134217728)}};RP=function(t){if(t.tag===13){var e=_s(t),r=Ti(t,e);if(r!==null){var n=jr();Pn(r,t,e,n)}Hw(t,e)}};$P=function(){return Be};LP=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};mx=function(t,e,r){switch(e){case"input":if(ox(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Xp(n);if(!i)throw Error(Q(90));pP(n),ox(n,i)}}}break;case"textarea":yP(t,r);break;case"select":e=r.value,e!=null&&Bo(t,!!r.multiple,e,!1)}};NP=Fw;SP=Oa;var WL={usingClientEntryPoint:!1,Events:[Jd,Eo,Xp,jP,_P,Fw]},Vc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HL={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=EP(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||UL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{qp=rh.inject(HL),zn=rh}catch{}}Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WL;Yr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(Q(200));return BL(t,e,null,r)};Yr.createRoot=function(t,e){if(!Gw(t))throw Error(Q(299));var r=!1,n="",i=aC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ww(t,1,!1,null,null,r,!1,n,i),t[Ai]=e.current,zu(t.nodeType===8?t.parentNode:t),new qw(e)};Yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=EP(e),t=t===null?null:t.stateNode,t};Yr.flushSync=function(t){return Oa(t)};Yr.hydrate=function(t,e,r){if(!sg(e))throw Error(Q(200));return ag(null,t,e,!0,r)};Yr.hydrateRoot=function(t,e,r){if(!Gw(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=aC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=sC(e,null,t,1,r??null,i,!1,a,o),t[Ai]=e.current,zu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ig(e)};Yr.render=function(t,e,r){if(!sg(e))throw Error(Q(200));return ag(null,t,e,!1,r)};Yr.unmountComponentAtNode=function(t){if(!sg(t))throw Error(Q(40));return t._reactRootContainer?(Oa(function(){ag(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Yr.unstable_batchedUpdates=Fw;Yr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sg(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return ag(t,e,r,!1,n)};Yr.version="18.3.1-next-f1338f8080-20240426";function oC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oC)}catch(t){console.error(t)}}oC(),oP.exports=Yr;var qL=oP.exports,Z_=qL;ex.createRoot=Z_.createRoot,ex.hydrateRoot=Z_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ju.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const eN="popstate";function GL(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return Gx("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xm(i)}return YL(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KL(){return Math.random().toString(36).substr(2,8)}function tN(t,e){return{usr:t.state,key:t.key,idx:e}}function Gx(t,e,r,n){return r===void 0&&(r=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ql(e):e,{state:r,key:e&&e.key||n||KL()})}function xm(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ql(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function YL(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=ms.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ju({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ms.Pop;let y=d(),g=y==null?null:y-u;u=y,c&&c({action:l,location:x.location,delta:g})}function h(y,g){l=ms.Push;let w=Gx(x.location,y,g);u=d()+1;let b=tN(w,u),T=x.createHref(w);try{o.pushState(b,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(T)}a&&c&&c({action:l,location:x.location,delta:1})}function p(y,g){l=ms.Replace;let w=Gx(x.location,y,g);u=d();let b=tN(w,u),T=x.createHref(w);o.replaceState(b,"",T),a&&c&&c({action:l,location:x.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof y=="string"?y:xm(y);return w=w.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return l},get location(){return t(i,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(eN,f),c=y,()=>{i.removeEventListener(eN,f),c=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:p,go(y){return o.go(y)}};return x}var rN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rN||(rN={}));function XL(t,e,r){return r===void 0&&(r="/"),QL(t,e,r)}function QL(t,e,r,n){let i=typeof e=="string"?ql(e):e,a=Yw(i.pathname||"/",r);if(a==null)return null;let o=lC(t);JL(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=u6(a);l=o6(o[c],u)}return l}function lC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ss([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lC(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:s6(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of cC(a.path))i(a,o,c)}),e}function cC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=cC(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function JL(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:a6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZL=/^:[\w-]+$/,e6=3,t6=2,r6=1,n6=10,i6=-2,nN=t=>t==="*";function s6(t,e){let r=t.split("/"),n=r.length;return r.some(nN)&&(n+=i6),e&&(n+=t6),r.filter(i=>!nN(i)).reduce((i,a)=>i+(ZL.test(a)?e6:a===""?r6:n6),n)}function a6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function o6(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=l6({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ss([a,f.pathname]),pathnameBase:p6(Ss([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ss([a,f.pathnameBase]))}return o}function l6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=c6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let x=l[f]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function c6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Kw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function u6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const d6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f6=t=>d6.test(t);function h6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ql(t):t,a;if(r)if(f6(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Kw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=iN(r.substring(1),"/"):a=iN(r,e)}else a=e;return{pathname:a,search:g6(n),hash:y6(i)}}function iN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function av(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m6(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Xw(t,e){let r=m6(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ql(t):(i=Ju({},t),Nt(!i.pathname||!i.pathname.includes("?"),av("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),av("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),av("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=h6(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ss=t=>t.join("/").replace(/\/\/+/g,"/"),p6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uC=["post","put","patch","delete"];new Set(uC);const x6=["get",...uC];new Set(x6);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zu.apply(this,arguments)}const Jw=M.createContext(null),b6=M.createContext(null),Hs=M.createContext(null),og=M.createContext(null),Li=M.createContext({outlet:null,matches:[],isDataRoute:!1}),dC=M.createContext(null);function w6(t,e){let{relative:r}=e===void 0?{}:e;Gl()||Nt(!1);let{basename:n,navigator:i}=M.useContext(Hs),{hash:a,pathname:o,search:l}=hC(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ss([n,o])),i.createHref({pathname:c,search:l,hash:a})}function Gl(){return M.useContext(og)!=null}function qs(){return Gl()||Nt(!1),M.useContext(og).location}function fC(t){M.useContext(Hs).static||M.useLayoutEffect(t)}function Ae(){let{isDataRoute:t}=M.useContext(Li);return t?M6():j6()}function j6(){Gl()||Nt(!1);let t=M.useContext(Jw),{basename:e,future:r,navigator:n}=M.useContext(Hs),{matches:i}=M.useContext(Li),{pathname:a}=qs(),o=JSON.stringify(Xw(i,r.v7_relativeSplatPath)),l=M.useRef(!1);return fC(()=>{l.current=!0}),M.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Qw(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ss([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}function ef(){let{matches:t}=M.useContext(Li),e=t[t.length-1];return e?e.params:{}}function hC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=M.useContext(Hs),{matches:i}=M.useContext(Li),{pathname:a}=qs(),o=JSON.stringify(Xw(i,n.v7_relativeSplatPath));return M.useMemo(()=>Qw(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function _6(t,e){return N6(t,e)}function N6(t,e,r,n){Gl()||Nt(!1);let{navigator:i}=M.useContext(Hs),{matches:a}=M.useContext(Li),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=qs(),d;if(e){var f;let y=typeof e=="string"?ql(e):e;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||Nt(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=XL(t,{pathname:p}),x=k6(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Ss([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ss([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return e&&x?M.createElement(og.Provider,{value:{location:Zu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ms.Pop}},x):x}function S6(){let t=O6(),e=v6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),r?M.createElement("pre",{style:i},r):null,null)}const A6=M.createElement(S6,null);class T6 extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?M.createElement(Li.Provider,{value:this.props.routeContext},M.createElement(dC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E6(t){let{routeContext:e,match:r,children:n}=t,i=M.useContext(Jw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),M.createElement(Li.Provider,{value:e},n)}function k6(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,v=!1,x=null,y=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||A6,c&&(u<0&&h===0?(D6("route-fallback"),v=!0,y=null):u===h&&(v=!0,y=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),w=()=>{let b;return p?b=x:v?b=y:f.route.Component?b=M.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,M.createElement(E6,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(T6,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var mC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mC||{}),pC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pC||{});function P6(t){let e=M.useContext(Jw);return e||Nt(!1),e}function I6(t){let e=M.useContext(b6);return e||Nt(!1),e}function C6(t){let e=M.useContext(Li);return e||Nt(!1),e}function gC(t){let e=C6(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function O6(){var t;let e=M.useContext(dC),r=I6(),n=gC();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function M6(){let{router:t}=P6(mC.UseNavigateStable),e=gC(pC.UseNavigateStable),r=M.useRef(!1);return fC(()=>{r.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zu({fromRouteId:e},a)))},[t,e])}const sN={};function D6(t,e,r){sN[t]||(sN[t]=!0)}function R6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $6(t){let{to:e,replace:r,state:n,relative:i}=t;Gl()||Nt(!1);let{future:a,static:o}=M.useContext(Hs),{matches:l}=M.useContext(Li),{pathname:c}=qs(),u=Ae(),d=Qw(e,Xw(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return M.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function we(t){Nt(!1)}function L6(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ms.Pop,navigator:a,static:o=!1,future:l}=t;Gl()&&Nt(!1);let c=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:a,static:o,future:Zu({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ql(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,x=M.useMemo(()=>{let y=Yw(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:v},navigationType:i}},[c,d,f,h,p,v,i]);return x==null?null:M.createElement(Hs.Provider,{value:u},M.createElement(og.Provider,{children:r,value:x}))}function V6(t){let{children:e,location:r}=t;return _6(Kx(e),r)}new Promise(()=>{});function Kx(t,e){e===void 0&&(e=[]);let r=[];return M.Children.forEach(t,(n,i)=>{if(!M.isValidElement(n))return;let a=[...e,i];if(n.type===M.Fragment){r.push.apply(r,Kx(n.props.children,a));return}n.type!==we&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kx(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yx.apply(this,arguments)}function F6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function B6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U6(t,e){return t.button===0&&(!e||e==="_self")&&!B6(t)}function Xx(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function z6(t,e){let r=Xx(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const W6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H6="6";try{window.__reactRouterVersion=H6}catch{}const q6="startTransition",aN=D$[q6];function G6(t){let{basename:e,children:r,future:n,window:i}=t,a=M.useRef();a.current==null&&(a.current=GL({window:i,v5Compat:!0}));let o=a.current,[l,c]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=M.useCallback(f=>{u&&aN?aN(()=>c(f)):c(f)},[c,u]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.useEffect(()=>R6(n),[n]),M.createElement(L6,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const K6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=M.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=F6(e,W6),{basename:p}=M.useContext(Hs),v,x=!1;if(typeof u=="string"&&Y6.test(u)&&(v=u,K6))try{let b=new URL(window.location.href),T=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=Yw(T.pathname,p);T.origin===b.origin&&j!=null?u=j+T.search+T.hash:x=!0}catch{}let y=w6(u,{relative:i}),g=X6(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(b){n&&n(b),b.defaultPrevented||g(b)}return M.createElement("a",Yx({},h,{href:v||y,onClick:x||a?n:w,ref:r,target:c}))});var oN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oN||(oN={}));var lN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lN||(lN={}));function X6(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ae(),u=qs(),d=hC(t,{relative:o});return M.useCallback(f=>{if(U6(f,r)){f.preventDefault();let h=n!==void 0?n:xm(u)===xm(d);c(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function Q6(t){let e=M.useRef(Xx(t)),r=M.useRef(!1),n=qs(),i=M.useMemo(()=>z6(n.search,r.current?null:e.current),[n.search]),a=Ae(),o=M.useCallback((l,c)=>{const u=Xx(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const jt={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",MESSAGES:"marketing_management_website_messages",WEBSITE_ANALYTICS:"marketing_management_website_website_analytics",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics"},yC=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],J6=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",googleAnalyticsPropertyId:"G-XXXXXXXXXX",googleAnalyticsViewId:"123456789",createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",googleAnalyticsPropertyId:"G-YYYYYYYYYY",googleAnalyticsViewId:"987654321",createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","linkedin","twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",socialMediaPlatforms:["instagram","tiktok","facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",socialMediaPlatforms:["linkedin","facebook","youtube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",socialMediaPlatforms:["facebook","instagram","twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")}],Z6=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],e8=[{id:"message-1",senderId:"user-1",recipientId:"user-2",subject:"Project Priority Update",content:"Hi John, I've updated the priority for the SpecCon project. Please focus on the mobile navigation fixes first as they're impacting user experience significantly.",isRead:!1,isBroadcast:!1,projectId:"proj-1",createdAt:new Date("2025-02-09T08:00:00"),updatedAt:new Date("2025-02-09T08:00:00")},{id:"message-2",senderId:"user-4",recipientId:"user-1",subject:"Social Media Campaign Performance",content:"The Q1 social media campaign is performing well. We've exceeded engagement targets by 25%. Should we allocate additional budget for boosted posts?",isRead:!0,isBroadcast:!1,projectId:"proj-21",createdAt:new Date("2025-02-08T14:30:00"),updatedAt:new Date("2025-02-08T14:30:00")},{id:"message-3",senderId:"user-5",recipientId:"user-3",subject:"Andebe Platform Requirements",content:"For the Andebe platform, we need to ensure all training modules include progress tracking and certificate generation. The client wants this to be mandatory for all courses.",isRead:!1,isBroadcast:!1,projectId:"proj-2",createdAt:new Date("2025-02-09T10:15:00"),updatedAt:new Date("2025-02-09T10:15:00")},{id:"message-4",senderId:"user-1",recipientId:void 0,subject:"System Maintenance Notice",content:"Heads up team! We'll be performing system maintenance this Friday from 10 PM to 12 AM SAST. All services will be temporarily unavailable. Please save your work before then.",isRead:!1,isBroadcast:!0,createdAt:new Date("2025-02-07T16:00:00"),updatedAt:new Date("2025-02-07T16:00:00")},{id:"message-5",senderId:"user-2",recipientId:"user-4",subject:"Website Launch Coordination",content:"Sarah, the InfinityNPO website is ready for launch. Can we coordinate the social media posts to go live simultaneously with the website deployment?",isRead:!0,isBroadcast:!1,projectId:"proj-5",createdAt:new Date("2025-02-08T11:45:00"),updatedAt:new Date("2025-02-08T11:45:00")},{id:"message-6",senderId:"user-6",recipientId:"user-1",subject:"New Project Timeline",content:"I've reviewed the proposed timeline for the Venueideas platform. The 3-month timeline seems aggressive. Can we extend it to 4 months to ensure quality?",isRead:!1,isBroadcast:!1,projectId:"proj-10",createdAt:new Date("2025-02-09T13:20:00"),updatedAt:new Date("2025-02-09T13:20:00")},{id:"message-7",senderId:"user-3",recipientId:"user-5",subject:"Design Feedback Request",content:"Michael, I've completed the initial design mockups for the Megrolowveld website. Could you please review them and let me know your thoughts on the color scheme and layout?",isRead:!0,isBroadcast:!1,projectId:"proj-3",createdAt:new Date("2025-02-08T09:30:00"),updatedAt:new Date("2025-02-08T09:30:00")}],t8=[{id:"analytics-1",projectId:"proj-1",date:new Date("2025-02-01"),pageViews:1250,uniqueVisitors:890,bounceRate:42.5,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-2",projectId:"proj-1",date:new Date("2025-02-08"),pageViews:1580,uniqueVisitors:1120,bounceRate:38.2,recordedBy:"user-2",createdAt:new Date("2025-02-09")},{id:"analytics-3",projectId:"proj-3",date:new Date("2025-02-01"),pageViews:2340,uniqueVisitors:1650,bounceRate:35.8,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-4",projectId:"proj-3",date:new Date("2025-02-08"),pageViews:2890,uniqueVisitors:2010,bounceRate:33.1,recordedBy:"user-2",createdAt:new Date("2025-02-09")}],r8=[{id:"social-1",projectId:"proj-1",platform:"facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"linkedin",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}];function Kl(t,e){if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error loading ${t} from localStorage:`,r),e}}function Gs(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error saving ${t} to localStorage:`,r)}}function $e(){return Kl(jt.USERS,yC)}function n8(t,e){const n=$e().map(i=>i.id===t?{...i,...e,updatedAt:new Date}:i);Gs(jt.USERS,n)}function i8(t){const r=$e().map(n=>n.id===t?{...n,isActive:!n.isActive,updatedAt:new Date}:n);Gs(jt.USERS,r)}function _r(){return Kl(jt.PROJECTS,J6)}function Mr(){return Kl(jt.TICKETS,Z6)}function s8(t){const r=[...Mr(),t];Gs(jt.TICKETS,r)}function Qx(t,e){const r=Mr(),n=r.find(l=>l.id===t);if(!n)return;const i=n.assignedTo,a=e.assignedTo,o=r.map(l=>l.id===t?{...l,...e,updatedAt:new Date}:l);if(Gs(jt.TICKETS,o),a&&a!==i&&Jx(a)){const c={id:`message-${Date.now()}`,senderId:"system",recipientId:a,subject:"New Ticket Assigned",content:`You have been assigned a new ticket: "${n.title}". Please check your tickets.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},u=JSON.parse(localStorage.getItem(jt.MESSAGES)||"[]");u.push(c),localStorage.setItem(jt.MESSAGES,JSON.stringify(u))}if(e.status==="resolved"&&n.status!=="resolved"){e.resolvedAt=new Date;const l=Jx(n.createdBy);if(l&&l.role==="client"){const u={id:`message-${Date.now()}`,senderId:"system",recipientId:n.createdBy,subject:"Ticket Resolved",content:`Your ticket "${n.title}" has been resolved. Please review the changes.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},d=JSON.parse(localStorage.getItem(jt.MESSAGES)||"[]");d.push(u),localStorage.setItem(jt.MESSAGES,JSON.stringify(d))}$e().filter(u=>u.role==="admin").forEach(u=>{const d={id:`message-${Date.now()}-admin-${u.id}`,senderId:"system",recipientId:u.id,subject:"Ticket Resolved",content:`Ticket "${n.title}" has been marked as resolved.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},f=JSON.parse(localStorage.getItem(jt.MESSAGES)||"[]");f.push(d),localStorage.setItem(jt.MESSAGES,JSON.stringify(f))})}}function a8(t){const r=[...$e(),t];Gs(jt.USERS,r)}function tf(){return Kl(jt.MESSAGES,e8)}function vC(){return Kl(jt.WEBSITE_ANALYTICS,t8)}function Zw(){return Kl(jt.SOCIAL_ANALYTICS,r8)}function Jx(t){return $e().find(e=>e.id===t)}function rf(t){return _r().find(e=>e.id===t)}function ni(t,e){const r=_r();return e==="admin"?r:e==="web_developer"?r.filter(n=>n.webDeveloperId===t):e==="social_media_coordinator"?r.filter(n=>n.socialMediaCoordinatorId===t):e==="client"?r.filter(n=>n.clientId===t):[]}function xC(t){return Mr().filter(e=>e.projectId===t)}function nf(t,e){const r=Mr();if(e==="admin")return r;if(e==="web_developer")return r.filter(n=>n.assignedTo===t);if(e==="client")return r.filter(n=>n.createdBy===t);if(e==="social_media_coordinator"){const i=ni(t,e).map(a=>a.id);return r.filter(a=>i.includes(a.projectId))}return[]}function Ma(t){return tf().filter(e=>e.senderId===t||e.recipientId===t||e.isBroadcast)}function o8(t){return Ma(t).filter(e=>!e.isRead&&(e.recipientId===t||e.isBroadcast))}function l8(t){const r=tf().map(n=>n.id===t?{...n,isRead:!0,updatedAt:new Date}:n);Gs(jt.MESSAGES,r)}function c8(t){const e=tf(),r=e.filter(n=>n.id!==t);return r.length<e.length?(Gs(jt.MESSAGES,r),!0):!1}function u8(t){const r=[...tf(),t];Gs(jt.MESSAGES,r)}function d8(t){const e=$e(),r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(localStorage.setItem(jt.USERS,JSON.stringify(r)),!0)}const f8=()=>{};var cN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},h8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},wC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),n.push(r[d],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||f==null)throw new m8;const h=a<<2|l>>4;if(n.push(h),u!==64){const p=l<<4&240|u>>2;if(n.push(p),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p8=function(t){const e=bC(t);return wC.encodeByteArray(e,!0)},bm=function(t){return p8(t).replace(/\./g,"")},jC=function(t){try{return wC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=()=>g8().__FIREBASE_DEFAULTS__,v8=()=>{if(typeof process>"u"||typeof cN>"u")return;const t=cN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jC(t[1]);return e&&JSON.parse(e)},lg=()=>{try{return f8()||y8()||v8()||x8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>{var e,r;return(r=(e=lg())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},b8=t=>{const e=_C(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},NC=()=>{var t;return(t=lg())==null?void 0:t.config},SC=t=>{var e;return(e=lg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bm(JSON.stringify(r)),bm(JSON.stringify(o)),""].join(".")}const wu={};function _8(){const t={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?t.emulator.push(e):t.prod.push(e);return t}function N8(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let uN=!1;function TC(t,e){if(typeof window>"u"||typeof document>"u"||!Yl(window.location.host)||wu[t]===e||wu[t]||uN)return;wu[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",a=_8().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{uN=!0,o()},h}function d(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=N8(n),p=r("text"),v=document.getElementById(p)||document.createElement("span"),x=r("learnmore"),y=document.getElementById(x)||document.createElement("a"),g=r("preprendIcon"),w=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;l(b),d(y,x);const T=u();c(w,g),b.append(w,v,y,T),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function A8(){var e;const t=(e=lg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P8(){const t=gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I8(){return!A8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C8(){try{return typeof indexedDB=="object"}catch{return!1}}function O8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="FirebaseError";class Vi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=M8,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sf.prototype.create)}}class sf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?D8(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Vi(i,l,n)}}function D8(t,e){return t.replace(R8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const R8=/\{\$([^}]+)}/g;function $8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(dN(a)&&dN(o)){if(!Da(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function dN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function su(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function L8(t,e){const r=new V8(t,e);return r.subscribe.bind(r)}class V8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");F8(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ov),i.error===void 0&&(i.error=ov),i.complete===void 0&&(i.complete=ov);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class Ra{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new w8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z8(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:U8(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U8(t){return t===ua?void 0:t}function z8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new B8(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const H8={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},q8=Pe.INFO,G8={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},K8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=G8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ej{constructor(e){this.name=e,this._logLevel=q8,this._logHandler=K8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Y8=(t,e)=>e.some(r=>t instanceof r);let fN,hN;function X8(){return fN||(fN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q8(){return hN||(hN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EC=new WeakMap,Zx=new WeakMap,kC=new WeakMap,lv=new WeakMap,tj=new WeakMap;function J8(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(As(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&EC.set(r,t)}).catch(()=>{}),tj.set(e,t),e}function Z8(t){if(Zx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});Zx.set(t,e)}let eb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Zx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kC.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return As(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eV(t){eb=t(eb)}function tV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(cv(this),e,...r);return kC.set(n,e.sort?e.sort():[e]),As(n)}:Q8().includes(t)?function(...e){return t.apply(cv(this),e),As(EC.get(this))}:function(...e){return As(t.apply(cv(this),e))}}function rV(t){return typeof t=="function"?tV(t):(t instanceof IDBTransaction&&Z8(t),Y8(t,X8())?new Proxy(t,eb):t)}function As(t){if(t instanceof IDBRequest)return J8(t);if(lv.has(t))return lv.get(t);const e=rV(t);return e!==t&&(lv.set(t,e),tj.set(e,t)),e}const cv=t=>tj.get(t);function nV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=As(o);return n&&o.addEventListener("upgradeneeded",c=>{n(As(o.result),c.oldVersion,c.newVersion,As(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const iV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],uv=new Map;function mN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=sV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||iV.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return uv.set(e,a),a}eV(t=>({...t,get:(e,r,n)=>mN(e,r)||t.get(e,r,n),has:(e,r)=>!!mN(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(oV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function oV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tb="@firebase/app",pN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new ej("@firebase/app"),lV="@firebase/app-compat",cV="@firebase/analytics-compat",uV="@firebase/analytics",dV="@firebase/app-check-compat",fV="@firebase/app-check",hV="@firebase/auth",mV="@firebase/auth-compat",pV="@firebase/database",gV="@firebase/data-connect",yV="@firebase/database-compat",vV="@firebase/functions",xV="@firebase/functions-compat",bV="@firebase/installations",wV="@firebase/installations-compat",jV="@firebase/messaging",_V="@firebase/messaging-compat",NV="@firebase/performance",SV="@firebase/performance-compat",AV="@firebase/remote-config",TV="@firebase/remote-config-compat",EV="@firebase/storage",kV="@firebase/storage-compat",PV="@firebase/firestore",IV="@firebase/ai",CV="@firebase/firestore-compat",OV="firebase",MV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="[DEFAULT]",DV={[tb]:"fire-core",[lV]:"fire-core-compat",[uV]:"fire-analytics",[cV]:"fire-analytics-compat",[fV]:"fire-app-check",[dV]:"fire-app-check-compat",[hV]:"fire-auth",[mV]:"fire-auth-compat",[pV]:"fire-rtdb",[gV]:"fire-data-connect",[yV]:"fire-rtdb-compat",[vV]:"fire-fn",[xV]:"fire-fn-compat",[bV]:"fire-iid",[wV]:"fire-iid-compat",[jV]:"fire-fcm",[_V]:"fire-fcm-compat",[NV]:"fire-perf",[SV]:"fire-perf-compat",[AV]:"fire-rc",[TV]:"fire-rc-compat",[EV]:"fire-gcs",[kV]:"fire-gcs-compat",[PV]:"fire-fst",[CV]:"fire-fst-compat",[IV]:"fire-vertex","fire-js":"fire-js",[OV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Map,RV=new Map,nb=new Map;function gN(t,e){try{t.container.addComponent(e)}catch(r){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ll(t){const e=t.name;if(nb.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;nb.set(e,t);for(const r of ed.values())gN(r,t);for(const r of RV.values())gN(r,t);return!0}function rj(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ts=new sf("app","Firebase",$V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=MV;function PC(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:rb,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Ts.create("bad-app-name",{appName:String(i)});if(r||(r=NC()),!r)throw Ts.create("no-options");const a=ed.get(i);if(a){if(Da(r,a.options)&&Da(n,a.config))return a;throw Ts.create("duplicate-app",{appName:i})}const o=new W8(i);for(const c of nb.values())o.addComponent(c);const l=new LV(r,n,o);return ed.set(i,l),l}function IC(t=rb){const e=ed.get(t);if(!e&&t===rb&&NC())return PC();if(!e)throw Ts.create("no-app",{appName:t});return e}function yN(){return Array.from(ed.values())}function Es(t,e,r){let n=DV[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(o.join(" "));return}ll(new Ra(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="firebase-heartbeat-database",FV=1,td="firebase-heartbeat-store";let dv=null;function CC(){return dv||(dv=nV(VV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(td)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ts.create("idb-open",{originalErrorMessage:t.message})})),dv}async function BV(t){try{const r=(await CC()).transaction(td),n=await r.objectStore(td).get(OC(t));return await r.done,n}catch(e){if(e instanceof Vi)ki.warn(e.message);else{const r=Ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(r.message)}}}async function vN(t,e){try{const n=(await CC()).transaction(td,"readwrite");await n.objectStore(td).put(e,OC(t)),await n.done}catch(r){if(r instanceof Vi)ki.warn(r.message);else{const n=Ts.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ki.warn(n.message)}}}function OC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=1024,zV=30;class WV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new qV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zV){const o=GV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ki.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=xN(),{heartbeatsToSend:n,unsentEntries:i}=HV(this._heartbeatsCache.heartbeats),a=bm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ki.warn(r),""}}}function xN(){return new Date().toISOString().substring(0,10)}function HV(t,e=UV){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),bN(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),bN(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class qV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C8()?O8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await BV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return vN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function bN(t){return bm(JSON.stringify({version:2,heartbeats:t})).length}function GV(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){ll(new Ra("platform-logger",e=>new aV(e),"PRIVATE")),ll(new Ra("heartbeat",e=>new WV(e),"PRIVATE")),Es(tb,pN,t),Es(tb,pN,"esm2020"),Es("fire-js","")}KV("");var YV="firebase",XV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(YV,XV,"app");function MC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QV=MC,DC=new sf("auth","Firebase",MC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm=new ej("@firebase/auth");function JV(t,...e){wm.logLevel<=Pe.WARN&&wm.warn(`Auth (${Xl}): ${t}`,...e)}function $h(t,...e){wm.logLevel<=Pe.ERROR&&wm.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw nj(t,...e)}function Hn(t,...e){return nj(t,...e)}function RC(t,e,r){const n={...QV(),[e]:r};return new sf("auth","Firebase",n).create(e,{appName:t.name})}function bi(t){return RC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return DC.create(t,...e)}function de(t,e,...r){if(!t)throw nj(e,...r)}function mi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $h(e),new Error(e)}function Pi(t,e){t||mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function ZV(){return wN()==="http:"||wN()==="https:"}function wN(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZV()||E8()||"connection"in navigator)?navigator.onLine:!0}function tF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,r){this.shortDelay=e,this.longDelay=r,Pi(r>e,"Short delay should be less than long delay!"),this.isMobile=S8()||k8()}get(){return eF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iF=new of(3e4,6e4);function Ks(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,r,n,i={}){return LC(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=af({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return T8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Yl(t.emulatorConfig.host)&&(u.credentials="include"),$C.fetch()(await VC(t,t.config.apiHost,r,l),u)})}async function LC(t,e,r){t._canInitEmulator=!1;const n={...rF,...e};try{const i=new aF(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw nh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw nh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw nh(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RC(t,d,u);On(t,d)}}catch(i){if(i instanceof Vi)throw i;On(t,"network-request-failed",{message:String(i)})}}async function lf(t,e,r,n,i={}){const a=await Ys(t,e,r,n,i);return"mfaPendingCredential"in a&&On(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function VC(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?ij(t.config,i):`${t.config.apiScheme}://${i}`;return nF.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function sF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Hn(this.auth,"network-request-failed")),iF.get())})}}function nh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Hn(t,e,n);return i.customData._tokenResponse=r,i}function jN(t){return t!==void 0&&t.enterprise!==void 0}class oF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return sF(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lF(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function jm(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uF(t,e=!1){const r=Kr(t),n=await r.getIdToken(e),i=sj(n);de(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:ju(fv(i.auth_time)),issuedAtTime:ju(fv(i.iat)),expirationTime:ju(fv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function sj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const i=jC(r);return i?JSON.parse(i):($h("Failed to decode base64 JWT payload"),null)}catch(i){return $h("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _N(t){const e=sj(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Vi&&dF(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function dF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){var f;const e=t.auth,r=await t.getIdToken(),n=await rd(t,jm(e,{idToken:r}));de(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?FC(i.providerUserInfo):[],o=mF(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function hF(t){const e=Kr(t);await _m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mF(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function FC(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pF(t,e){const r=await LC(t,{},async()=>{const n=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await VC(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&Yl(t.emulatorConfig.host)&&(c.credentials="include"),$C.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function gF(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_N(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){de(e.length!==0,"internal-error");const r=_N(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await pF(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Go;return n&&(de(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(de(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new fF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new sb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await rd(this,this.stsTokenManager.getToken(this.auth,e));return de(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return uF(this,e)}reload(){return hF(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await _m(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await rd(this,cF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:x}=r;de(f&&x,e,"internal-error");const y=Go.fromJSON(this.name,x);de(typeof f=="string",e,"internal-error"),Ji(n,e.name),Ji(i,e.name),de(typeof h=="boolean",e,"internal-error"),de(typeof p=="boolean",e,"internal-error"),Ji(a,e.name),Ji(o,e.name),Ji(l,e.name),Ji(c,e.name),Ji(u,e.name),Ji(d,e.name);const g=new Tn({uid:f,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:y,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(g.providerData=v.map(w=>({...w}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,r,n=!1){const i=new Go;i.updateFromServerResponse(r);const a=new Tn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _m(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];de(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Go;l.updateFromIdToken(n);const c=new Tn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new sb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Map;function pi(t){Pi(t instanceof Function,"Expected a class definition");let e=NN.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,NN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}BC.type="NONE";const SN=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e,r){return`firebase:${t}:${e}:${r}`}class Ko{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Lh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Lh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await jm(this.auth,{idToken:e}).catch(()=>{});return r?Tn._fromGetAccountInfoResponse(this.auth,r,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ko(pi(SN),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||pi(SN);const o=Lh(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const h=await jm(e,{idToken:d}).catch(()=>{});if(!h)break;f=await Tn._fromGetAccountInfoResponse(e,h,d)}else f=Tn._fromJSON(e,d);u!==a&&(l=f),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ko(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Ko(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(KC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(qC(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function UC(t=gr()){return/firefox\//i.test(t)}function zC(t=gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=gr()){return/crios\//i.test(t)}function HC(t=gr()){return/iemobile/i.test(t)}function qC(t=gr()){return/android/i.test(t)}function GC(t=gr()){return/blackberry/i.test(t)}function KC(t=gr()){return/webos/i.test(t)}function aj(t=gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yF(t=gr()){var e;return aj(t)&&!!((e=window.navigator)!=null&&e.standalone)}function vF(){return P8()&&document.documentMode===10}function YC(t=gr()){return aj(t)||qC(t)||KC(t)||GC(t)||/windows phone/i.test(t)||HC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e=[]){let r;switch(t){case"Browser":r=AN(gr());break;case"Worker":r=`${AN(gr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=6;class jF{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??wF,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TN(this),this.idTokenSubscription=new TN(this),this.beforeStateQueue=new xF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=pi(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await jm(this,{idToken:e}),n=await Tn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await _m(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(bi(this));const r=e?Kr(e):null;return r&&de(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bF(this),r=new jF(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await gF(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&pi(e)||this._popupRedirectResolver;de(r,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[pi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&JV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ya(t){return Kr(t)}class TN{constructor(e){this.auth=e,this.observer=null,this.addObserver=L8(r=>this.observer=r)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NF(t){cg=t}function QC(t){return cg.loadJS(t)}function SF(){return cg.recaptchaEnterpriseScript}function AF(){return cg.gapiScript}function TF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EF{constructor(){this.enterprise=new kF}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class kF{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const PF="recaptcha-enterprise",JC="NO_RECAPTCHA";class IF{constructor(e){this.type=PF,this.auth=Ya(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{lF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new oF(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;jN(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(JC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EF().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&jN(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=SF();c.length!==0&&(c+=l),QC(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function EN(t,e,r,n=!1,i=!1){const a=new IF(t);let o;if(i)o=JC;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ab(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await EN(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await EN(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){const r=rj(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Da(a,e??{}))return i;On(i,"already-initialized")}return r.initialize({options:e})}function OF(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(pi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function MF(t,e,r){const n=Ya(t);de(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=ZC(e),{host:o,port:l}=DF(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){de(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),de(Da(u,n.config.emulator)&&Da(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Yl(o)?(AC(`${a}//${o}${c}`),TC("Auth",!0)):RF()}function ZC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DF(t){const e=ZC(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:kN(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:kN(o)}}}function kN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return mi("not implemented")}_getIdTokenResponse(e){return mi("not implemented")}_linkToIdToken(e,r){return mi("not implemented")}_getReauthenticationResolver(e){return mi("not implemented")}}async function $F(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e){return lf(t,"POST","/v1/accounts:signInWithPassword",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VF(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}async function FF(t,e){return lf(t,"POST","/v1/accounts:signInWithEmailLink",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends oj{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new nd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,r,"signInWithPassword",LF);case"emailLink":return VF(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ab(e,n,"signUpPassword",$F);case"emailLink":return FF(e,{idToken:r,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return lf(t,"POST","/v1/accounts:signInWithIdp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="http://localhost";class $a extends oj{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new $a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):On("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new $a(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Yo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Yo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Yo(e,r)}buildRequest(){const e={requestUri:BF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=af(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zF(t){const e=iu(su(t)).link,r=e?iu(su(e)).deep_link_id:null,n=iu(su(t)).deep_link_id;return(n?iu(su(n)).link:null)||n||r||e||t}class lj{constructor(e){const r=iu(su(e)),n=r.apiKey??null,i=r.oobCode??null,a=UF(r.mode??null);de(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=zF(e);try{return new lj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.providerId=Ql.PROVIDER_ID}static credential(e,r){return nd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=lj.parseLink(r);return de(n,"argument-error"),nd._fromEmailAndCode(e,n.code,n.tenantId)}}Ql.PROVIDER_ID="password";Ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf extends eO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends cf{constructor(){super("facebook.com")}static credential(e){return $a._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return $a._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ls.credential(r,n)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends cf{constructor(){super("github.com")}static credential(e){return $a._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends cf{constructor(){super("twitter.com")}static credential(e,r){return $a._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return us.credential(r,n)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e){return lf(t,"POST","/v1/accounts:signUp",Ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Tn._fromIdTokenResponse(e,n,i),o=PN(n);return new La({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=PN(n);return new La({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function PN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends Vi{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Nm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Nm(e,r,n,i)}}function tO(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Nm._fromErrorAndOperation(t,a,e,n):a})}async function HF(t,e,r=!1){const n=await rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return La._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e,r=!1){const{auth:n}=t;if(sn(n.app))return Promise.reject(bi(n));const i="reauthenticate";try{const a=await rd(t,tO(n,i,e,t),r);de(a.idToken,n,"internal-error");const o=sj(a.idToken);de(o,n,"internal-error");const{sub:l}=o;return de(t.uid===l,n,"user-mismatch"),La._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&On(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(t,e,r=!1){if(sn(t.app))return Promise.reject(bi(t));const n="signIn",i=await tO(t,n,e),a=await La._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function GF(t,e){return rO(Ya(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t){const e=Ya(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KF(t,e,r){if(sn(t.app))return Promise.reject(bi(t));const n=Ya(t),o=await ab(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&nO(t),c}),l=await La._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function YF(t,e,r){return sn(t.app)?Promise.reject(bi(t)):GF(Kr(t),Ql.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nO(t),n})}function XF(t,e,r,n){return Kr(t).onIdTokenChanged(e,r,n)}function QF(t,e,r){return Kr(t).beforeAuthStateChanged(e,r)}function JF(t,e,r,n){return Kr(t).onAuthStateChanged(e,r,n)}function ZF(t){return Kr(t).signOut()}const Sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=1e3,t9=10;class sO extends iO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);vF()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t9):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},e9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}sO.type="LOCAL";const r9=sO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO extends iO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}aO.type="SESSION";const oO=aO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new ug(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await n9(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ug.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=cj("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(h.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function s9(t){qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function a9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l9(){return lO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebaseLocalStorageDb",c9=1,Am="firebaseLocalStorage",uO="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function dg(t,e){return t.transaction([Am],e?"readwrite":"readonly").objectStore(Am)}function u9(){const t=indexedDB.deleteDatabase(cO);return new uf(t).toPromise()}function ob(){const t=indexedDB.open(cO,c9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Am,{keyPath:uO})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Am)?e(n):(n.close(),await u9(),e(await ob()))})})}async function IN(t,e,r){const n=dg(t,!0).put({[uO]:e,value:r});return new uf(n).toPromise()}async function d9(t,e){const r=dg(t,!1).get(e),n=await new uf(r).toPromise();return n===void 0?null:n.value}function CN(t,e){const r=dg(t,!0).delete(e);return new uf(r).toPromise()}const f9=800,h9=3;class dO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ob(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>h9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ug._getInstance(l9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await a9(),!this.activeServiceWorker)return;this.sender=new i9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ob();return await IN(e,Sm,"1"),await CN(e,Sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>IN(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>d9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>CN(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=dg(i,!1).getAll();return new uf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dO.type="LOCAL";const m9=dO;new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t,e){return e?pi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj extends oj{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Yo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function g9(t){return rO(t.auth,new uj(t),t.bypassAuthState)}function y9(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),qF(r,new uj(t),t.bypassAuthState)}async function v9(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),HF(r,new uj(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g9;case"linkViaPopup":case"linkViaRedirect":return v9;case"reauthViaPopup":case"reauthViaRedirect":return y9;default:On(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new of(2e3,1e4);class Do extends fO{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=cj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x9.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="pendingRedirect",Vh=new Map;class w9 extends fO{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const n=await j9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j9(t,e){const r=S9(e),n=N9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function _9(t,e){Vh.set(t._key(),e)}function N9(t){return pi(t._redirectPersistence)}function S9(t){return Lh(b9,t.config.apiKey,t.name)}async function A9(t,e,r=!1){if(sn(t.app))return Promise.reject(bi(t));const n=Ya(t),i=p9(n,e),o=await new w9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=10*60*1e3;class E9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!hO(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Hn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T9&&this.cachedEventUids.clear(),this.cachedEventUids.has(ON(e))}saveEventToCache(e){this.cachedEventUids.add(ON(e)),this.lastProcessedEventTime=Date.now()}}function ON(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C9=/^https?/;async function O9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P9(t);for(const r of e)try{if(M9(r))return}catch{}On(t,"unauthorized-domain")}function M9(t){const e=ib(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!C9.test(r))return!1;if(I9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new of(3e4,6e4);function MN(){const t=qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function R9(t){return new Promise((e,r)=>{var i,a,o;function n(){MN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MN(),r(Hn(t,"network-request-failed"))},timeout:D9.get()})}if((a=(i=qn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=qn().gapi)!=null&&o.load)n();else{const l=TF("iframefcb");return qn()[l]=()=>{gapi.load?n():r(Hn(t,"network-request-failed"))},QC(`${AF()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Fh=null,e})}let Fh=null;function $9(t){return Fh=Fh||R9(t),Fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=new of(5e3,15e3),V9="__/auth/iframe",F9="emulator/auth/iframe",B9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z9(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ij(e,F9):`https://${t.config.authDomain}/${V9}`,n={apiKey:e.apiKey,appName:t.name,v:Xl},i=U9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${af(n).slice(1)}`}async function W9(t){const e=await $9(t),r=qn().gapi;return de(r,t,"internal-error"),e.open({where:document.body,url:z9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B9,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Hn(t,"network-request-failed"),l=qn().setTimeout(()=>{a(o)},L9.get());function c(){qn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q9=500,G9=600,K9="_blank",Y9="http://localhost";class DN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X9(t,e,r,n=q9,i=G9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...H9,width:n.toString(),height:i.toString(),top:a,left:o},u=gr().toLowerCase();r&&(l=WC(u)?K9:r),UC(u)&&(e=e||Y9,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(yF(u)&&l!=="_self")return Q9(e||"",l),new DN(null);const f=window.open(e||"",l,d);de(f,t,"popup-blocked");try{f.focus()}catch{}return new DN(f)}function Q9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="__/auth/handler",Z9="emulator/auth/handler",eB=encodeURIComponent("fac");async function RN(t,e,r,n,i,a){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Xl,eventId:i};if(e instanceof eO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof cf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${eB}=${encodeURIComponent(c)}`:"";return`${tB(t)}?${af(l).slice(1)}${u}`}function tB({config:t}){return t.emulator?ij(t,Z9):`https://${t.authDomain}/${J9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class rB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oO,this._completeRedirectFn=A9,this._overrideRedirectResult=_9}async _openPopup(e,r,n,i){var o;Pi((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await RN(e,r,n,ib(),i);return X9(e,a,cj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await RN(e,r,n,ib(),i);return s9(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Pi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await W9(e),n=new E9(e);return r.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(hv,{type:hv},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[hv];a!==void 0&&r(!!a),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=O9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return YC()||zC()||aj()}}const nB=rB;var $N="@firebase/auth",LN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aB(t){ll(new Ra("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XC(t)},u=new _F(n,i,a,c);return OF(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ll(new Ra("auth-internal",e=>{const r=Ya(e.getProvider("auth").getImmediate());return(n=>new iB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es($N,LN,sB(t)),Es($N,LN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=5*60,lB=SC("authIdTokenMaxAge")||oB;let VN=null;const cB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>lB)return;const i=r==null?void 0:r.token;VN!==i&&(VN=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uB(t=IC()){const e=rj(t,"auth");if(e.isInitialized())return e.getImmediate();const r=CF(t,{popupRedirectResolver:nB,persistence:[m9,r9,oO]}),n=SC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=cB(a.toString());QF(r,o,()=>o(r.currentUser)),XF(r,l=>o(l))}}const i=_C("auth");return i&&MF(r,`http://${i}`),r}function dB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}NF({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Hn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",dB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aB("Browser");var FN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,mO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function E(){}E.prototype=_.prototype,S.F=_.prototype,S.prototype=new E,S.prototype.constructor=S,S.D=function(O,I,C){for(var P=Array(arguments.length-2),L=2;L<arguments.length;L++)P[L-2]=arguments[L];return _.prototype[I].apply(O,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,E){E||(E=0);const O=Array(16);if(typeof _=="string")for(var I=0;I<16;++I)O[I]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(I=0;I<16;++I)O[I]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=S.g[0],E=S.g[1],I=S.g[2];let C=S.g[3],P;P=_+(C^E&(I^C))+O[0]+3614090360&4294967295,_=E+(P<<7&4294967295|P>>>25),P=C+(I^_&(E^I))+O[1]+3905402710&4294967295,C=_+(P<<12&4294967295|P>>>20),P=I+(E^C&(_^E))+O[2]+606105819&4294967295,I=C+(P<<17&4294967295|P>>>15),P=E+(_^I&(C^_))+O[3]+3250441966&4294967295,E=I+(P<<22&4294967295|P>>>10),P=_+(C^E&(I^C))+O[4]+4118548399&4294967295,_=E+(P<<7&4294967295|P>>>25),P=C+(I^_&(E^I))+O[5]+1200080426&4294967295,C=_+(P<<12&4294967295|P>>>20),P=I+(E^C&(_^E))+O[6]+2821735955&4294967295,I=C+(P<<17&4294967295|P>>>15),P=E+(_^I&(C^_))+O[7]+4249261313&4294967295,E=I+(P<<22&4294967295|P>>>10),P=_+(C^E&(I^C))+O[8]+1770035416&4294967295,_=E+(P<<7&4294967295|P>>>25),P=C+(I^_&(E^I))+O[9]+2336552879&4294967295,C=_+(P<<12&4294967295|P>>>20),P=I+(E^C&(_^E))+O[10]+4294925233&4294967295,I=C+(P<<17&4294967295|P>>>15),P=E+(_^I&(C^_))+O[11]+2304563134&4294967295,E=I+(P<<22&4294967295|P>>>10),P=_+(C^E&(I^C))+O[12]+1804603682&4294967295,_=E+(P<<7&4294967295|P>>>25),P=C+(I^_&(E^I))+O[13]+4254626195&4294967295,C=_+(P<<12&4294967295|P>>>20),P=I+(E^C&(_^E))+O[14]+2792965006&4294967295,I=C+(P<<17&4294967295|P>>>15),P=E+(_^I&(C^_))+O[15]+1236535329&4294967295,E=I+(P<<22&4294967295|P>>>10),P=_+(I^C&(E^I))+O[1]+4129170786&4294967295,_=E+(P<<5&4294967295|P>>>27),P=C+(E^I&(_^E))+O[6]+3225465664&4294967295,C=_+(P<<9&4294967295|P>>>23),P=I+(_^E&(C^_))+O[11]+643717713&4294967295,I=C+(P<<14&4294967295|P>>>18),P=E+(C^_&(I^C))+O[0]+3921069994&4294967295,E=I+(P<<20&4294967295|P>>>12),P=_+(I^C&(E^I))+O[5]+3593408605&4294967295,_=E+(P<<5&4294967295|P>>>27),P=C+(E^I&(_^E))+O[10]+38016083&4294967295,C=_+(P<<9&4294967295|P>>>23),P=I+(_^E&(C^_))+O[15]+3634488961&4294967295,I=C+(P<<14&4294967295|P>>>18),P=E+(C^_&(I^C))+O[4]+3889429448&4294967295,E=I+(P<<20&4294967295|P>>>12),P=_+(I^C&(E^I))+O[9]+568446438&4294967295,_=E+(P<<5&4294967295|P>>>27),P=C+(E^I&(_^E))+O[14]+3275163606&4294967295,C=_+(P<<9&4294967295|P>>>23),P=I+(_^E&(C^_))+O[3]+4107603335&4294967295,I=C+(P<<14&4294967295|P>>>18),P=E+(C^_&(I^C))+O[8]+1163531501&4294967295,E=I+(P<<20&4294967295|P>>>12),P=_+(I^C&(E^I))+O[13]+2850285829&4294967295,_=E+(P<<5&4294967295|P>>>27),P=C+(E^I&(_^E))+O[2]+4243563512&4294967295,C=_+(P<<9&4294967295|P>>>23),P=I+(_^E&(C^_))+O[7]+1735328473&4294967295,I=C+(P<<14&4294967295|P>>>18),P=E+(C^_&(I^C))+O[12]+2368359562&4294967295,E=I+(P<<20&4294967295|P>>>12),P=_+(E^I^C)+O[5]+4294588738&4294967295,_=E+(P<<4&4294967295|P>>>28),P=C+(_^E^I)+O[8]+2272392833&4294967295,C=_+(P<<11&4294967295|P>>>21),P=I+(C^_^E)+O[11]+1839030562&4294967295,I=C+(P<<16&4294967295|P>>>16),P=E+(I^C^_)+O[14]+4259657740&4294967295,E=I+(P<<23&4294967295|P>>>9),P=_+(E^I^C)+O[1]+2763975236&4294967295,_=E+(P<<4&4294967295|P>>>28),P=C+(_^E^I)+O[4]+1272893353&4294967295,C=_+(P<<11&4294967295|P>>>21),P=I+(C^_^E)+O[7]+4139469664&4294967295,I=C+(P<<16&4294967295|P>>>16),P=E+(I^C^_)+O[10]+3200236656&4294967295,E=I+(P<<23&4294967295|P>>>9),P=_+(E^I^C)+O[13]+681279174&4294967295,_=E+(P<<4&4294967295|P>>>28),P=C+(_^E^I)+O[0]+3936430074&4294967295,C=_+(P<<11&4294967295|P>>>21),P=I+(C^_^E)+O[3]+3572445317&4294967295,I=C+(P<<16&4294967295|P>>>16),P=E+(I^C^_)+O[6]+76029189&4294967295,E=I+(P<<23&4294967295|P>>>9),P=_+(E^I^C)+O[9]+3654602809&4294967295,_=E+(P<<4&4294967295|P>>>28),P=C+(_^E^I)+O[12]+3873151461&4294967295,C=_+(P<<11&4294967295|P>>>21),P=I+(C^_^E)+O[15]+530742520&4294967295,I=C+(P<<16&4294967295|P>>>16),P=E+(I^C^_)+O[2]+3299628645&4294967295,E=I+(P<<23&4294967295|P>>>9),P=_+(I^(E|~C))+O[0]+4096336452&4294967295,_=E+(P<<6&4294967295|P>>>26),P=C+(E^(_|~I))+O[7]+1126891415&4294967295,C=_+(P<<10&4294967295|P>>>22),P=I+(_^(C|~E))+O[14]+2878612391&4294967295,I=C+(P<<15&4294967295|P>>>17),P=E+(C^(I|~_))+O[5]+4237533241&4294967295,E=I+(P<<21&4294967295|P>>>11),P=_+(I^(E|~C))+O[12]+1700485571&4294967295,_=E+(P<<6&4294967295|P>>>26),P=C+(E^(_|~I))+O[3]+2399980690&4294967295,C=_+(P<<10&4294967295|P>>>22),P=I+(_^(C|~E))+O[10]+4293915773&4294967295,I=C+(P<<15&4294967295|P>>>17),P=E+(C^(I|~_))+O[1]+2240044497&4294967295,E=I+(P<<21&4294967295|P>>>11),P=_+(I^(E|~C))+O[8]+1873313359&4294967295,_=E+(P<<6&4294967295|P>>>26),P=C+(E^(_|~I))+O[15]+4264355552&4294967295,C=_+(P<<10&4294967295|P>>>22),P=I+(_^(C|~E))+O[6]+2734768916&4294967295,I=C+(P<<15&4294967295|P>>>17),P=E+(C^(I|~_))+O[13]+1309151649&4294967295,E=I+(P<<21&4294967295|P>>>11),P=_+(I^(E|~C))+O[4]+4149444226&4294967295,_=E+(P<<6&4294967295|P>>>26),P=C+(E^(_|~I))+O[11]+3174756917&4294967295,C=_+(P<<10&4294967295|P>>>22),P=I+(_^(C|~E))+O[2]+718787259&4294967295,I=C+(P<<15&4294967295|P>>>17),P=E+(C^(I|~_))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(I+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+C&4294967295}n.prototype.v=function(S,_){_===void 0&&(_=S.length);const E=_-this.blockSize,O=this.C;let I=this.h,C=0;for(;C<_;){if(I==0)for(;C<=E;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<_;)if(O[I++]=S.charCodeAt(C++),I==this.blockSize){i(this,O),I=0;break}}else for(;C<_;)if(O[I++]=S[C++],I==this.blockSize){i(this,O),I=0;break}}this.h=I,this.o+=_},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;_=this.o*8;for(var E=S.length-8;E<S.length;++E)S[E]=_&255,_/=256;for(this.v(S),S=Array(16),_=0,E=0;E<4;++E)for(let O=0;O<32;O+=8)S[_++]=this.g[E]>>>O&255;return S};function a(S,_){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=_(S)}function o(S,_){this.h=_;const E=[];let O=!0;for(let I=S.length-1;I>=0;I--){const C=S[I]|0;O&&C==_||(E[I]=C,O=!1)}this.g=E}var l={};function c(S){return-128<=S&&S<128?a(S,function(_){return new o([_|0],_<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return y(u(-S));const _=[];let E=1;for(let O=0;S>=E;O++)_[O]=S/E|0,E*=4294967296;return new o(_,0)}function d(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return y(d(S.substring(1),_));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=u(Math.pow(_,8));let O=f;for(let C=0;C<S.length;C+=8){var I=Math.min(8,S.length-C);const P=parseInt(S.substring(C,C+I),_);I<8?(I=u(Math.pow(_,I)),O=O.j(I).add(u(P))):(O=O.j(E),O=O.add(u(P)))}return O}var f=c(0),h=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-y(this).m();let S=0,_=1;for(let E=0;E<this.g.length;E++){const O=this.i(E);S+=(O>=0?O:4294967296+O)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(x(this))return"-"+y(this).toString(S);const _=u(Math.pow(S,6));var E=this;let O="";for(;;){const I=T(E,_).g;E=g(E,I.j(_));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(S);if(E=I,v(E))return C+O;for(;C.length<6;)C="0"+C;O=C+O}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(let _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=g(this,S),x(S)?-1:v(S)?0:1};function y(S){const _=S.g.length,E=[];for(let O=0;O<_;O++)E[O]=~S.g[O];return new o(E,~S.h).add(h)}t.abs=function(){return x(this)?y(this):this},t.add=function(S){const _=Math.max(this.g.length,S.g.length),E=[];let O=0;for(let I=0;I<=_;I++){let C=O+(this.i(I)&65535)+(S.i(I)&65535),P=(C>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);O=P>>>16,C&=65535,P&=65535,E[I]=P<<16|C}return new o(E,E[E.length-1]&-2147483648?-1:0)};function g(S,_){return S.add(y(_))}t.j=function(S){if(v(this)||v(S))return f;if(x(this))return x(S)?y(this).j(y(S)):y(y(this).j(S));if(x(S))return y(this.j(y(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const _=this.g.length+S.g.length,E=[];for(var O=0;O<2*_;O++)E[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<S.g.length;I++){const C=this.i(O)>>>16,P=this.i(O)&65535,L=S.i(I)>>>16,R=S.i(I)&65535;E[2*O+2*I]+=P*R,w(E,2*O+2*I),E[2*O+2*I+1]+=C*R,w(E,2*O+2*I+1),E[2*O+2*I+1]+=P*L,w(E,2*O+2*I+1),E[2*O+2*I+2]+=C*L,w(E,2*O+2*I+2)}for(S=0;S<_;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=_;S<2*_;S++)E[S]=0;return new o(E,0)};function w(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function b(S,_){this.g=S,this.h=_}function T(S,_){if(v(_))throw Error("division by zero");if(v(S))return new b(f,f);if(x(S))return _=T(y(S),_),new b(y(_.g),y(_.h));if(x(_))return _=T(S,y(_)),new b(y(_.g),_.h);if(S.g.length>30){if(x(S)||x(_))throw Error("slowDivide_ only works with positive integers.");for(var E=h,O=_;O.l(S)<=0;)E=j(E),O=j(O);var I=A(E,1),C=A(O,1);for(O=A(O,2),E=A(E,2);!v(O);){var P=C.add(O);P.l(S)<=0&&(I=I.add(E),C=P),O=A(O,1),E=A(E,1)}return _=g(S,I.j(_)),new b(I,_)}for(I=f;S.l(_)>=0;){for(E=Math.max(1,Math.floor(S.m()/_.m())),O=Math.ceil(Math.log(E)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),C=u(E),P=C.j(_);x(P)||P.l(S)>0;)E-=O,C=u(E),P=C.j(_);v(C)&&(C=h),I=I.add(C),S=g(S,P)}return new b(I,S)}t.B=function(S){return T(this,S).h},t.and=function(S){const _=Math.max(this.g.length,S.g.length),E=[];for(let O=0;O<_;O++)E[O]=this.i(O)&S.i(O);return new o(E,this.h&S.h)},t.or=function(S){const _=Math.max(this.g.length,S.g.length),E=[];for(let O=0;O<_;O++)E[O]=this.i(O)|S.i(O);return new o(E,this.h|S.h)},t.xor=function(S){const _=Math.max(this.g.length,S.g.length),E=[];for(let O=0;O<_;O++)E[O]=this.i(O)^S.i(O);return new o(E,this.h^S.h)};function j(S){const _=S.g.length+1,E=[];for(let O=0;O<_;O++)E[O]=S.i(O)<<1|S.i(O-1)>>>31;return new o(E,S.h)}function A(S,_){const E=_>>5;_%=32;const O=S.g.length-E,I=[];for(let C=0;C<O;C++)I[C]=_>0?S.i(C+E)>>>_|S.i(C+E+1)<<32-_:S.i(C+E);return new o(I,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,mO=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ks=o}).apply(typeof FN<"u"?FN:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pO,au,gO,Bh,lb,yO,vO,xO;(function(){var t,e=Object.defineProperty;function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var N=0;N<m.length;++N){var k=m[N];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(m,N){if(N)e:{var k=n;m=m.split(".");for(var D=0;D<m.length-1;D++){var B=m[D];if(!(B in k))break e;k=k[B]}m=m[m.length-1],D=k[m],N=N(D),N!=D&&N!=null&&e(k,m,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(N){var k=[],D;for(D in N)Object.prototype.hasOwnProperty.call(N,D)&&k.push([D,N[D]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(m){var N=typeof m;return N=="object"&&m!=null||N=="function"}function c(m,N,k){return m.call.apply(m.bind,arguments)}function u(m,N,k){return u=c,u.apply(null,arguments)}function d(m,N){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function f(m,N){function k(){}k.prototype=N.prototype,m.Z=N.prototype,m.prototype=new k,m.prototype.constructor=m,m.Ob=function(D,B,z){for(var te=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)te[_e-2]=arguments[_e];return N.prototype[B].apply(D,te)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const N=m.length;if(N>0){const k=Array(N);for(let D=0;D<N;D++)k[D]=m[D];return k}return[]}function v(m,N){for(let D=1;D<arguments.length;D++){const B=arguments[D];var k=typeof B;if(k=k!="object"?k:B?Array.isArray(B)?"array":k:"null",k=="array"||k=="object"&&typeof B.length=="number"){k=m.length||0;const z=B.length||0;m.length=k+z;for(let te=0;te<z;te++)m[k+te]=B[te]}else m.push(B)}}class x{constructor(N,k){this.i=N,this.j=k,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function y(m){o.setTimeout(()=>{throw m},0)}function g(){var m=S;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}class w{constructor(){this.h=this.g=null}add(N,k){const D=b.get();D.set(N,k),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new x(()=>new T,m=>m.reset());class T{constructor(){this.next=this.g=this.h=null}set(N,k){this.h=N,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let j,A=!1,S=new w,_=()=>{const m=Promise.resolve(void 0);j=()=>{m.then(E)}};function E(){for(var m;m=g();){try{m.h.call(m.g)}catch(k){y(k)}var N=b;N.j(m),N.h<100&&(N.h++,m.next=N.g,N.g=m)}A=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const k=()=>{};o.addEventListener("test",k,N),o.removeEventListener("test",k,N)}catch{}return m}();function P(m){return/^[\s\xa0]*$/.test(m)}function L(m,N){I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,N)}f(L,I),L.prototype.init=function(m,N){const k=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget,N||(k=="mouseover"?N=m.fromElement:k=="mouseout"&&(N=m.toElement)),this.relatedTarget=N,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&L.Z.h.call(this)},L.prototype.h=function(){L.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var R="closure_listenable_"+(Math.random()*1e6|0),V=0;function W(m,N,k,D,B){this.listener=m,this.proxy=null,this.src=N,this.type=k,this.capture=!!D,this.ha=B,this.key=++V,this.da=this.fa=!1}function F(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function U(m,N,k){for(const D in m)N.call(k,m[D],D,m)}function K(m,N){for(const k in m)N.call(void 0,m[k],k,m)}function ee(m){const N={};for(const k in m)N[k]=m[k];return N}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(m,N){let k,D;for(let B=1;B<arguments.length;B++){D=arguments[B];for(k in D)m[k]=D[k];for(let z=0;z<J.length;z++)k=J[z],Object.prototype.hasOwnProperty.call(D,k)&&(m[k]=D[k])}}function Te(m){this.src=m,this.g={},this.h=0}Te.prototype.add=function(m,N,k,D,B){const z=m.toString();m=this.g[z],m||(m=this.g[z]=[],this.h++);const te=Ze(m,N,D,B);return te>-1?(N=m[te],k||(N.fa=!1)):(N=new W(N,this.src,z,!!D,B),N.fa=k,m.push(N)),N};function We(m,N){const k=N.type;if(k in m.g){var D=m.g[k],B=Array.prototype.indexOf.call(D,N,void 0),z;(z=B>=0)&&Array.prototype.splice.call(D,B,1),z&&(F(N),m.g[k].length==0&&(delete m.g[k],m.h--))}}function Ze(m,N,k,D){for(let B=0;B<m.length;++B){const z=m[B];if(!z.da&&z.listener==N&&z.capture==!!k&&z.ha==D)return B}return-1}var sr="closure_lm_"+(Math.random()*1e6|0),Bt={};function re(m,N,k,D,B){if(Array.isArray(N)){for(let z=0;z<N.length;z++)re(m,N[z],k,D,B);return null}return k=vn(k),m&&m[R]?m.J(N,k,l(D)?!!D.capture:!1,B):ye(m,N,k,!1,D,B)}function ye(m,N,k,D,B,z){if(!N)throw Error("Invalid event type");const te=l(B)?!!B.capture:!!B;let _e=ct(m);if(_e||(m[sr]=_e=new Te(m)),k=_e.add(N,k,D,te,z),k.proxy)return k;if(D=xe(),k.proxy=D,D.src=m,D.listener=k,m.addEventListener)C||(B=te),B===void 0&&(B=!1),m.addEventListener(N.toString(),D,B);else if(m.attachEvent)m.attachEvent(ke(N.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function xe(){function m(k){return N.call(m.src,m.listener,k)}const N=xt;return m}function X(m,N,k,D,B){if(Array.isArray(N))for(var z=0;z<N.length;z++)X(m,N[z],k,D,B);else D=l(D)?!!D.capture:!!D,k=vn(k),m&&m[R]?(m=m.i,z=String(N).toString(),z in m.g&&(N=m.g[z],k=Ze(N,k,D,B),k>-1&&(F(N[k]),Array.prototype.splice.call(N,k,1),N.length==0&&(delete m.g[z],m.h--)))):m&&(m=ct(m))&&(N=m.g[N.toString()],m=-1,N&&(m=Ze(N,k,D,B)),(k=m>-1?N[m]:null)&&Ke(k))}function Ke(m){if(typeof m!="number"&&m&&!m.da){var N=m.src;if(N&&N[R])We(N.i,m);else{var k=m.type,D=m.proxy;N.removeEventListener?N.removeEventListener(k,D,m.capture):N.detachEvent?N.detachEvent(ke(k),D):N.addListener&&N.removeListener&&N.removeListener(D),(k=ct(N))?(We(k,m),k.h==0&&(k.src=null,N[sr]=null)):F(m)}}}function ke(m){return m in Bt?Bt[m]:Bt[m]="on"+m}function xt(m,N){if(m.da)m=!0;else{N=new L(N,this);const k=m.listener,D=m.ha||m.src;m.fa&&Ke(m),m=k.call(D,N)}return m}function ct(m){return m=m[sr],m instanceof Te?m:null}var Ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function vn(m){return typeof m=="function"?m:(m[Ut]||(m[Ut]=function(N){return m.handleEvent(N)}),m[Ut])}function ut(){O.call(this),this.i=new Te(this),this.M=this,this.G=null}f(ut,O),ut.prototype[R]=!0,ut.prototype.removeEventListener=function(m,N,k,D){X(this,m,N,k,D)};function St(m,N){var k,D=m.G;if(D)for(k=[];D;D=D.G)k.push(D);if(m=m.M,D=N.type||N,typeof N=="string")N=new I(N,m);else if(N instanceof I)N.target=N.target||m;else{var B=N;N=new I(D,m),oe(N,B)}B=!0;let z,te;if(k)for(te=k.length-1;te>=0;te--)z=N.g=k[te],B=Qr(z,D,!0,N)&&B;if(z=N.g=m,B=Qr(z,D,!0,N)&&B,B=Qr(z,D,!1,N)&&B,k)for(te=0;te<k.length;te++)z=N.g=k[te],B=Qr(z,D,!1,N)&&B}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var m=this.i;for(const N in m.g){const k=m.g[N];for(let D=0;D<k.length;D++)F(k[D]);delete m.g[N],m.h--}}this.G=null},ut.prototype.J=function(m,N,k,D){return this.i.add(String(m),N,!1,k,D)},ut.prototype.K=function(m,N,k,D){return this.i.add(String(m),N,!0,k,D)};function Qr(m,N,k,D){if(N=m.i.g[String(N)],!N)return!0;N=N.concat();let B=!0;for(let z=0;z<N.length;++z){const te=N[z];if(te&&!te.da&&te.capture==k){const _e=te.listener,It=te.ha||te.src;te.fa&&We(m.i,te),B=_e.call(It,D)!==!1&&B}}return B&&!D.defaultPrevented}function ai(m,N){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:o.setTimeout(m,N||0)}function ao(m){m.g=ai(()=>{m.g=null,m.i&&(m.i=!1,ao(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}class Tf extends O{constructor(N,k){super(),this.m=N,this.l=k,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(m){O.call(this),this.h=m,this.g={}}f(Wi,O);var J1=[];function Z1(m){U(m.g,function(N,k){this.g.hasOwnProperty(k)&&Ke(N)},m),m.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),Z1(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yy=o.JSON.stringify,Y3=o.JSON.parse,X3=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function e2(){}function t2(){}var yc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vy(){I.call(this,"d")}f(vy,I);function xy(){I.call(this,"c")}f(xy,I);var ea={},r2=null;function Ef(){return r2=r2||new ut}ea.Ia="serverreachability";function n2(m){I.call(this,ea.Ia,m)}f(n2,I);function vc(m){const N=Ef();St(N,new n2(N))}ea.STAT_EVENT="statevent";function i2(m,N){I.call(this,ea.STAT_EVENT,m),this.stat=N}f(i2,I);function yr(m){const N=Ef();St(N,new i2(N,m))}ea.Ja="timingevent";function s2(m,N){I.call(this,ea.Ja,m),this.size=N}f(s2,I);function xc(m,N){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},N)}function bc(){this.g=!0}bc.prototype.ua=function(){this.g=!1};function Q3(m,N,k,D,B,z){m.info(function(){if(m.g)if(z){var te="",_e=z.split("&");for(let qe=0;qe<_e.length;qe++){var It=_e[qe].split("=");if(It.length>1){const zt=It[0];It=It[1];const $n=zt.split("_");te=$n.length>=2&&$n[1]=="type"?te+(zt+"="+It+"&"):te+(zt+"=redacted&")}}}else te=null;else te=z;return"XMLHTTP REQ ("+D+") [attempt "+B+"]: "+N+`
`+k+`
`+te})}function J3(m,N,k,D,B,z,te){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+B+"]: "+N+`
`+k+`
`+z+" "+te})}function oo(m,N,k,D){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+e$(m,k)+(D?" "+D:"")})}function Z3(m,N){m.info(function(){return"TIMEOUT: "+N})}bc.prototype.info=function(){};function e$(m,N){if(!m.g)return N;if(!N)return null;try{const z=JSON.parse(N);if(z){for(m=0;m<z.length;m++)if(Array.isArray(z[m])){var k=z[m];if(!(k.length<2)){var D=k[1];if(Array.isArray(D)&&!(D.length<1)){var B=D[0];if(B!="noop"&&B!="stop"&&B!="close")for(let te=1;te<D.length;te++)D[te]=""}}}}return yy(z)}catch{return N}}var kf={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},a2={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},o2;function by(){}f(by,e2),by.prototype.g=function(){return new XMLHttpRequest},o2=new by;function wc(m){return encodeURIComponent(String(m))}function t$(m){var N=1;m=m.split(":");const k=[];for(;N>0&&m.length;)k.push(m.shift()),N--;return m.length&&k.push(m.join(":")),k}function Hi(m,N,k,D){this.j=m,this.i=N,this.l=k,this.S=D||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new l2}function l2(){this.i=null,this.g="",this.h=!1}var c2={},wy={};function jy(m,N,k){m.M=1,m.A=If(Rn(N)),m.u=k,m.R=!0,u2(m,null)}function u2(m,N){m.F=Date.now(),Pf(m),m.B=Rn(m.A);var k=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),_2(k.i,"t",D),m.C=0,k=m.j.L,m.h=new l2,m.g=B2(m.j,k?N:null,!m.u),m.P>0&&(m.O=new Tf(u(m.Y,m,m.g),m.P)),N=m.V,k=m.g,D=m.ba;var B="readystatechange";Array.isArray(B)||(B&&(J1[0]=B.toString()),B=J1);for(let z=0;z<B.length;z++){const te=re(k,B[z],D||N.handleEvent,!1,N.h||N);if(!te)break;N.g[te.key]=te}N=m.J?ee(m.J):{},m.u?(m.v||(m.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,N)):(m.v="GET",m.g.ea(m.B,m.v,null,N)),vc(),Q3(m.i,m.v,m.B,m.l,m.S,m.u)}Hi.prototype.ba=function(m){m=m.target;const N=this.O;N&&Ki(m)==3?N.j():this.Y(m)},Hi.prototype.Y=function(m){try{if(m==this.g)e:{const _e=Ki(this.g),It=this.g.ya(),qe=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||P2(this.g)))){this.K||_e!=4||It==7||(It==8||qe<=0?vc(3):vc(2)),_y(this);var N=this.g.ca();this.X=N;var k=r$(this);if(this.o=N==200,J3(this.i,this.v,this.B,this.l,this.S,_e,N),this.o){if(this.U&&!this.L){t:{if(this.g){var D,B=this.g;if((D=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(D)){var z=D;break t}}z=null}if(m=z)oo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ny(this,m);else{this.o=!1,this.m=3,yr(12),ta(this),jc(this);break e}}if(this.R){m=!0;let zt;for(;!this.K&&this.C<k.length;)if(zt=n$(this,k),zt==wy){_e==4&&(this.m=4,yr(14),m=!1),oo(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==c2){this.m=4,yr(15),oo(this.i,this.l,k,"[Invalid Chunk]"),m=!1;break}else oo(this.i,this.l,zt,null),Ny(this,zt);if(d2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||k.length!=0||this.h.h||(this.m=1,yr(16),m=!1),this.o=this.o&&m,!m)oo(this.i,this.l,k,"[Invalid Chunked Response]"),ta(this),jc(this);else if(k.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Cy(te),te.P=!0,yr(11))}}else oo(this.i,this.l,k,null),Ny(this,k);_e==4&&ta(this),this.o&&!this.K&&(_e==4?$2(this.j,this):(this.o=!1,Pf(this)))}else y$(this.g),N==400&&k.indexOf("Unknown SID")>0?(this.m=3,yr(12)):(this.m=0,yr(13)),ta(this),jc(this)}}}catch{}finally{}};function r$(m){if(!d2(m))return m.g.la();const N=P2(m.g);if(N==="")return"";let k="";const D=N.length,B=Ki(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ta(m),jc(m),"";m.h.i=new o.TextDecoder}for(let z=0;z<D;z++)m.h.h=!0,k+=m.h.i.decode(N[z],{stream:!(B&&z==D-1)});return N.length=0,m.h.g+=k,m.C=0,m.h.g}function d2(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function n$(m,N){var k=m.C,D=N.indexOf(`
`,k);return D==-1?wy:(k=Number(N.substring(k,D)),isNaN(k)?c2:(D+=1,D+k>N.length?wy:(N=N.slice(D,D+k),m.C=D+k,N)))}Hi.prototype.cancel=function(){this.K=!0,ta(this)};function Pf(m){m.T=Date.now()+m.H,f2(m,m.H)}function f2(m,N){if(m.D!=null)throw Error("WatchDog timer not null");m.D=xc(u(m.aa,m),N)}function _y(m){m.D&&(o.clearTimeout(m.D),m.D=null)}Hi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Z3(this.i,this.B),this.M!=2&&(vc(),yr(17)),ta(this),this.m=2,jc(this)):f2(this,this.T-m)};function jc(m){m.j.I==0||m.K||$2(m.j,m)}function ta(m){_y(m);var N=m.O;N&&typeof N.dispose=="function"&&N.dispose(),m.O=null,Z1(m.V),m.g&&(N=m.g,m.g=null,N.abort(),N.dispose())}function Ny(m,N){try{var k=m.j;if(k.I!=0&&(k.g==m||Sy(k.h,m))){if(!m.L&&Sy(k.h,m)&&k.I==3){try{var D=k.Ba.g.parse(N)}catch{D=null}if(Array.isArray(D)&&D.length==3){var B=D;if(B[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<m.F)Rf(k),Mf(k);else break e;Iy(k),yr(18)}}else k.xa=B[1],0<k.xa-k.K&&B[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=xc(u(k.Va,k),6e3));p2(k.h)<=1&&k.ta&&(k.ta=void 0)}else na(k,11)}else if((m.L||k.g==m)&&Rf(k),!P(N))for(B=k.Ba.g.parse(N),N=0;N<B.length;N++){let qe=B[N];const zt=qe[0];if(!(zt<=k.K))if(k.K=zt,qe=qe[1],k.I==2)if(qe[0]=="c"){k.M=qe[1],k.ba=qe[2];const $n=qe[3];$n!=null&&(k.ka=$n,k.j.info("VER="+k.ka));const ia=qe[4];ia!=null&&(k.za=ia,k.j.info("SVER="+k.za));const Yi=qe[5];Yi!=null&&typeof Yi=="number"&&Yi>0&&(D=1.5*Yi,k.O=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const Xi=m.g;if(Xi){const Lf=Xi.g?Xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lf){var z=D.h;z.g||Lf.indexOf("spdy")==-1&&Lf.indexOf("quic")==-1&&Lf.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ay(z,z.h),z.h=null))}if(D.G){const Oy=Xi.g?Xi.g.getResponseHeader("X-HTTP-Session-Id"):null;Oy&&(D.wa=Oy,et(D.J,D.G,Oy))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-m.F,k.j.info("Handshake RTT: "+k.T+"ms")),D=k;var te=m;if(D.na=F2(D,D.L?D.ba:null,D.W),te.L){g2(D.h,te);var _e=te,It=D.O;It&&(_e.H=It),_e.D&&(_y(_e),Pf(_e)),D.g=te}else D2(D);k.i.length>0&&Df(k)}else qe[0]!="stop"&&qe[0]!="close"||na(k,7);else k.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?na(k,7):Py(k):qe[0]!="noop"&&k.l&&k.l.qa(qe),k.A=0)}}vc(4)}catch{}}var i$=class{constructor(m,N){this.g=m,this.map=N}};function h2(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function m2(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function p2(m){return m.h?1:m.g?m.g.size:0}function Sy(m,N){return m.h?m.h==N:m.g?m.g.has(N):!1}function Ay(m,N){m.g?m.g.add(N):m.h=N}function g2(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}h2.prototype.cancel=function(){if(this.i=y2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function y2(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let N=m.i;for(const k of m.g.values())N=N.concat(k.G);return N}return p(m.i)}var v2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s$(m,N){if(m){m=m.split("&");for(let k=0;k<m.length;k++){const D=m[k].indexOf("=");let B,z=null;D>=0?(B=m[k].substring(0,D),z=m[k].substring(D+1)):B=m[k],N(B,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function qi(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;m instanceof qi?(this.l=m.l,_c(this,m.j),this.o=m.o,this.g=m.g,Nc(this,m.u),this.h=m.h,Ty(this,N2(m.i)),this.m=m.m):m&&(N=String(m).match(v2))?(this.l=!1,_c(this,N[1]||"",!0),this.o=Sc(N[2]||""),this.g=Sc(N[3]||"",!0),Nc(this,N[4]),this.h=Sc(N[5]||"",!0),Ty(this,N[6]||"",!0),this.m=Sc(N[7]||"")):(this.l=!1,this.i=new Tc(null,this.l))}qi.prototype.toString=function(){const m=[];var N=this.j;N&&m.push(Ac(N,x2,!0),":");var k=this.g;return(k||N=="file")&&(m.push("//"),(N=this.o)&&m.push(Ac(N,x2,!0),"@"),m.push(wc(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&m.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&m.push("/"),m.push(Ac(k,k.charAt(0)=="/"?l$:o$,!0))),(k=this.i.toString())&&m.push("?",k),(k=this.m)&&m.push("#",Ac(k,u$)),m.join("")},qi.prototype.resolve=function(m){const N=Rn(this);let k=!!m.j;k?_c(N,m.j):k=!!m.o,k?N.o=m.o:k=!!m.g,k?N.g=m.g:k=m.u!=null;var D=m.h;if(k)Nc(N,m.u);else if(k=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var B=N.h.lastIndexOf("/");B!=-1&&(D=N.h.slice(0,B+1)+D)}if(B=D,B==".."||B==".")D="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){D=B.lastIndexOf("/",0)==0,B=B.split("/");const z=[];for(let te=0;te<B.length;){const _e=B[te++];_e=="."?D&&te==B.length&&z.push(""):_e==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),D&&te==B.length&&z.push("")):(z.push(_e),D=!0)}D=z.join("/")}else D=B}return k?N.h=D:k=m.i.toString()!=="",k?Ty(N,N2(m.i)):k=!!m.m,k&&(N.m=m.m),N};function Rn(m){return new qi(m)}function _c(m,N,k){m.j=k?Sc(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function Nc(m,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);m.u=N}else m.u=null}function Ty(m,N,k){N instanceof Tc?(m.i=N,d$(m.i,m.l)):(k||(N=Ac(N,c$)),m.i=new Tc(N,m.l))}function et(m,N,k){m.i.set(N,k)}function If(m){return et(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Sc(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ac(m,N,k){return typeof m=="string"?(m=encodeURI(m).replace(N,a$),k&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function a$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var x2=/[#\/\?@]/g,o$=/[#\?:]/g,l$=/[#\?]/g,c$=/[#\?@]/g,u$=/#/g;function Tc(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function ra(m){m.g||(m.g=new Map,m.h=0,m.i&&s$(m.i,function(N,k){m.add(decodeURIComponent(N.replace(/\+/g," ")),k)}))}t=Tc.prototype,t.add=function(m,N){ra(this),this.i=null,m=lo(this,m);let k=this.g.get(m);return k||this.g.set(m,k=[]),k.push(N),this.h+=1,this};function b2(m,N){ra(m),N=lo(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function w2(m,N){return ra(m),N=lo(m,N),m.g.has(N)}t.forEach=function(m,N){ra(this),this.g.forEach(function(k,D){k.forEach(function(B){m.call(N,B,D,this)},this)},this)};function j2(m,N){ra(m);let k=[];if(typeof N=="string")w2(m,N)&&(k=k.concat(m.g.get(lo(m,N))));else for(m=Array.from(m.g.values()),N=0;N<m.length;N++)k=k.concat(m[N]);return k}t.set=function(m,N){return ra(this),this.i=null,m=lo(this,m),w2(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},t.get=function(m,N){return m?(m=j2(this,m),m.length>0?String(m[0]):N):N};function _2(m,N,k){b2(m,N),k.length>0&&(m.i=null,m.g.set(lo(m,N),p(k)),m.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(let D=0;D<N.length;D++){var k=N[D];const B=wc(k);k=j2(this,k);for(let z=0;z<k.length;z++){let te=B;k[z]!==""&&(te+="="+wc(k[z])),m.push(te)}}return this.i=m.join("&")};function N2(m){const N=new Tc;return N.i=m.i,m.g&&(N.g=new Map(m.g),N.h=m.h),N}function lo(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function d$(m,N){N&&!m.j&&(ra(m),m.i=null,m.g.forEach(function(k,D){const B=D.toLowerCase();D!=B&&(b2(this,D),_2(this,B,k))},m)),m.j=N}function f$(m,N){const k=new bc;if(o.Image){const D=new Image;D.onload=d(Gi,k,"TestLoadImage: loaded",!0,N,D),D.onerror=d(Gi,k,"TestLoadImage: error",!1,N,D),D.onabort=d(Gi,k,"TestLoadImage: abort",!1,N,D),D.ontimeout=d(Gi,k,"TestLoadImage: timeout",!1,N,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else N(!1)}function h$(m,N){const k=new bc,D=new AbortController,B=setTimeout(()=>{D.abort(),Gi(k,"TestPingServer: timeout",!1,N)},1e4);fetch(m,{signal:D.signal}).then(z=>{clearTimeout(B),z.ok?Gi(k,"TestPingServer: ok",!0,N):Gi(k,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(B),Gi(k,"TestPingServer: error",!1,N)})}function Gi(m,N,k,D,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),D(k)}catch{}}function m$(){this.g=new X3}function Ey(m){this.i=m.Sb||null,this.h=m.ab||!1}f(Ey,e2),Ey.prototype.g=function(){return new Cf(this.i,this.h)};function Cf(m,N){ut.call(this),this.H=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Cf,ut),t=Cf.prototype,t.open=function(m,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=N,this.readyState=1,kc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(N.body=m),(this.H||o).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ec(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,kc(this)),this.g&&(this.readyState=3,kc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;S2(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function S2(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?Ec(this):kc(this),this.readyState==3&&S2(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Ec(this))},t.Na=function(m){this.g&&(this.response=m,Ec(this))},t.ga=function(){this.g&&Ec(this)};function Ec(m){m.readyState=4,m.l=null,m.j=null,m.B=null,kc(m)}t.setRequestHeader=function(m,N){this.A.append(m,N)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var k=N.next();!k.done;)k=k.value,m.push(k[0]+": "+k[1]),k=N.next();return m.join(`\r
`)};function kc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function A2(m){let N="";return U(m,function(k,D){N+=D,N+=":",N+=k,N+=`\r
`}),N}function ky(m,N,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=A2(k),typeof m=="string"?k!=null&&wc(k):et(m,N,k))}function gt(m){ut.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(gt,ut);var p$=/^https?$/i,g$=["POST","PUT"];t=gt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,N,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():o2.g(),this.g.onreadystatechange=h(u(this.Ca,this));try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(z){T2(this,z);return}if(m=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var B in D)k.set(B,D[B]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const z of D.keys())k.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(z=>z.toLowerCase()=="content-type"),B=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(g$,N,void 0)>=0)||D||B||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,te]of k)this.g.setRequestHeader(z,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(z){T2(this,z)}};function T2(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.o=5,E2(m),Of(m)}function E2(m){m.A||(m.A=!0,St(m,"complete"),St(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,St(this,"complete"),St(this,"abort"),Of(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Of(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?k2(this):this.Xa())},t.Xa=function(){k2(this)};function k2(m){if(m.h&&typeof a<"u"){if(m.v&&Ki(m)==4)setTimeout(m.Ca.bind(m),0);else if(St(m,"readystatechange"),Ki(m)==4){m.h=!1;try{const z=m.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var k;if(!(k=N)){var D;if(D=z===0){let te=String(m.D).match(v2)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),D=!p$.test(te?te.toLowerCase():"")}k=D}if(k)St(m,"complete"),St(m,"success");else{m.o=6;try{var B=Ki(m)>2?m.g.statusText:""}catch{B=""}m.l=B+" ["+m.ca()+"]",E2(m)}}finally{Of(m)}}}}function Of(m,N){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const k=m.g;m.g=null,N||St(m,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ki(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var N=this.g.responseText;return m&&N.indexOf(m)==0&&(N=N.substring(m.length)),Y3(N)}};function P2(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function y$(m){const N={};m=(m.g&&Ki(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(P(m[D]))continue;var k=t$(m[D]);const B=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const z=N[B]||[];N[B]=z,z.push(k)}K(N,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pc(m,N,k){return k&&k.internalChannelParams&&k.internalChannelParams[m]||N}function I2(m){this.za=0,this.i=[],this.j=new bc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pc("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pc("baseRetryDelayMs",5e3,m),this.Za=Pc("retryDelaySeedMs",1e4,m),this.Ta=Pc("forwardChannelMaxRetries",2,m),this.va=Pc("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new h2(m&&m.concurrentRequestLimit),this.Ba=new m$,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=I2.prototype,t.ka=8,t.I=1,t.connect=function(m,N,k,D){yr(0),this.W=m,this.H=N||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.J=F2(this,null,this.W),Df(this)};function Py(m){if(C2(m),m.I==3){var N=m.V++,k=Rn(m.J);if(et(k,"SID",m.M),et(k,"RID",N),et(k,"TYPE","terminate"),Ic(m,k),N=new Hi(m,m.j,N),N.M=2,N.A=If(Rn(k)),k=!1,o.navigator&&o.navigator.sendBeacon)try{k=o.navigator.sendBeacon(N.A.toString(),"")}catch{}!k&&o.Image&&(new Image().src=N.A,k=!0),k||(N.g=B2(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Pf(N)}V2(m)}function Mf(m){m.g&&(Cy(m),m.g.cancel(),m.g=null)}function C2(m){Mf(m),m.v&&(o.clearTimeout(m.v),m.v=null),Rf(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Df(m){if(!m2(m.h)&&!m.m){m.m=!0;var N=m.Ea;j||_(),A||(j(),A=!0),S.add(N,m),m.D=0}}function v$(m,N){return p2(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=N.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=xc(u(m.Ea,m,N),L2(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const B=new Hi(this,this.j,m);let z=this.o;if(this.U&&(z?(z=ee(z),oe(z,this.U)):z=this.U),this.u!==null||this.R||(B.J=z,z=null),this.S)e:{for(var N=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(N+=D,N>4096){N=k;break e}if(N===4096||k===this.i.length-1){N=k+1;break e}}N=1e3}else N=1e3;N=M2(this,B,N),k=Rn(this.J),et(k,"RID",m),et(k,"CVER",22),this.G&&et(k,"X-HTTP-Session-Id",this.G),Ic(this,k),z&&(this.R?N="headers="+wc(A2(z))+"&"+N:this.u&&ky(k,this.u,z)),Ay(this.h,B),this.Ra&&et(k,"TYPE","init"),this.S?(et(k,"$req",N),et(k,"SID","null"),B.U=!0,jy(B,k,null)):jy(B,k,N),this.I=2}}else this.I==3&&(m?O2(this,m):this.i.length==0||m2(this.h)||O2(this))};function O2(m,N){var k;N?k=N.l:k=m.V++;const D=Rn(m.J);et(D,"SID",m.M),et(D,"RID",k),et(D,"AID",m.K),Ic(m,D),m.u&&m.o&&ky(D,m.u,m.o),k=new Hi(m,m.j,k,m.D+1),m.u===null&&(k.J=m.o),N&&(m.i=N.G.concat(m.i)),N=M2(m,k,1e3),k.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ay(m.h,k),jy(k,D,N)}function Ic(m,N){m.H&&U(m.H,function(k,D){et(N,D,k)}),m.l&&U({},function(k,D){et(N,D,k)})}function M2(m,N,k){k=Math.min(m.i.length,k);const D=m.l?u(m.l.Ka,m.l,m):null;e:{var B=m.i;let _e=-1;for(;;){const It=["count="+k];_e==-1?k>0?(_e=B[0].g,It.push("ofs="+_e)):_e=0:It.push("ofs="+_e);let qe=!0;for(let zt=0;zt<k;zt++){var z=B[zt].g;const $n=B[zt].map;if(z-=_e,z<0)_e=Math.max(0,B[zt].g-100),qe=!1;else try{z="req"+z+"_"||"";try{var te=$n instanceof Map?$n:Object.entries($n);for(const[ia,Yi]of te){let Xi=Yi;l(Yi)&&(Xi=yy(Yi)),It.push(z+ia+"="+encodeURIComponent(Xi))}}catch(ia){throw It.push(z+"type="+encodeURIComponent("_badmap")),ia}}catch{D&&D($n)}}if(qe){te=It.join("&");break e}}te=void 0}return m=m.i.splice(0,k),N.G=m,te}function D2(m){if(!m.g&&!m.v){m.Y=1;var N=m.Da;j||_(),A||(j(),A=!0),S.add(N,m),m.A=0}}function Iy(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=xc(u(m.Da,m),L2(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,R2(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=xc(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yr(10),Mf(this),R2(this))};function Cy(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function R2(m){m.g=new Hi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var N=Rn(m.na);et(N,"RID","rpc"),et(N,"SID",m.M),et(N,"AID",m.K),et(N,"CI",m.F?"0":"1"),!m.F&&m.ia&&et(N,"TO",m.ia),et(N,"TYPE","xmlhttp"),Ic(m,N),m.u&&m.o&&ky(N,m.u,m.o),m.O&&(m.g.H=m.O);var k=m.g;m=m.ba,k.M=1,k.A=If(Rn(N)),k.u=null,k.R=!0,u2(k,m)}t.Va=function(){this.C!=null&&(this.C=null,Mf(this),Iy(this),yr(19))};function Rf(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function $2(m,N){var k=null;if(m.g==N){Rf(m),Cy(m),m.g=null;var D=2}else if(Sy(m.h,N))k=N.G,g2(m.h,N),D=1;else return;if(m.I!=0){if(N.o)if(D==1){k=N.u?N.u.length:0,N=Date.now()-N.F;var B=m.D;D=Ef(),St(D,new s2(D,k)),Df(m)}else D2(m);else if(B=N.m,B==3||B==0&&N.X>0||!(D==1&&v$(m,N)||D==2&&Iy(m)))switch(k&&k.length>0&&(N=m.h,N.i=N.i.concat(k)),B){case 1:na(m,5);break;case 4:na(m,10);break;case 3:na(m,6);break;default:na(m,2)}}}function L2(m,N){let k=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(k*=2),k*N}function na(m,N){if(m.j.info("Error code "+N),N==2){var k=u(m.bb,m),D=m.Ua;const B=!D;D=new qi(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_c(D,"https"),If(D),B?f$(D.toString(),k):h$(D.toString(),k)}else yr(2);m.I=0,m.l&&m.l.pa(N),V2(m),C2(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),yr(2)):(this.j.info("Failed to ping google.com"),yr(1))};function V2(m){if(m.I=0,m.ja=[],m.l){const N=y2(m.h);(N.length!=0||m.i.length!=0)&&(v(m.ja,N),v(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function F2(m,N,k){var D=k instanceof qi?Rn(k):new qi(k);if(D.g!="")N&&(D.g=N+"."+D.g),Nc(D,D.u);else{var B=o.location;D=B.protocol,N=N?N+"."+B.hostname:B.hostname,B=+B.port;const z=new qi(null);D&&_c(z,D),N&&(z.g=N),B&&Nc(z,B),k&&(z.h=k),D=z}return k=m.G,N=m.wa,k&&N&&et(D,k,N),et(D,"VER",m.ka),Ic(m,D),D}function B2(m,N,k){if(N&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=m.Aa&&!m.ma?new gt(new Ey({ab:k})):new gt(m.ma),N.Fa(m.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function U2(){}t=U2.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $f(){}$f.prototype.g=function(m,N){return new Rr(m,N)};function Rr(m,N){ut.call(this),this.g=new I2(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(m?m["X-WebChannel-Client-Profile"]=N.sa:m={"X-WebChannel-Client-Profile":N.sa}),this.g.U=m,(m=N&&N.Qb)&&!P(m)&&(this.g.u=m),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!P(N)&&(this.g.G=N,m=this.h,m!==null&&N in m&&(m=this.h,N in m&&delete m[N])),this.j=new co(this)}f(Rr,ut),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){Py(this.g)},Rr.prototype.o=function(m){var N=this.g;if(typeof m=="string"){var k={};k.__data__=m,m=k}else this.v&&(k={},k.__data__=yy(m),m=k);N.i.push(new i$(N.Ya++,m)),N.I==3&&Df(N)},Rr.prototype.N=function(){this.g.l=null,delete this.j,Py(this.g),delete this.g,Rr.Z.N.call(this)};function z2(m){vy.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const k in N){m=k;break e}m=void 0}(this.i=m)&&(m=this.i,N=N!==null&&m in N?N[m]:void 0),this.data=N}else this.data=m}f(z2,vy);function W2(){xy.call(this),this.status=1}f(W2,xy);function co(m){this.g=m}f(co,U2),co.prototype.ra=function(){St(this.g,"a")},co.prototype.qa=function(m){St(this.g,new z2(m))},co.prototype.pa=function(m){St(this.g,new W2)},co.prototype.oa=function(){St(this.g,"b")},$f.prototype.createWebChannel=$f.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,xO=function(){return new $f},vO=function(){return Ef()},yO=ea,lb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Bh=kf,a2.COMPLETE="complete",gO=a2,t2.EventType=yc,yc.OPEN="a",yc.CLOSE="b",yc.ERROR="c",yc.MESSAGE="d",ut.prototype.listen=ut.prototype.J,au=t2,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,pO=gt}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const BN="@firebase/firestore",UN="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new ej("@firebase/firestore");function xo(){return Va.logLevel}function ne(t,...e){if(Va.logLevel<=Pe.DEBUG){const r=e.map(dj);Va.debug(`Firestore (${Jl}): ${t}`,...r)}}function Ii(t,...e){if(Va.logLevel<=Pe.ERROR){const r=e.map(dj);Va.error(`Firestore (${Jl}): ${t}`,...r)}}function cl(t,...e){if(Va.logLevel<=Pe.WARN){const r=e.map(dj);Va.warn(`Firestore (${Jl}): ${t}`,...r)}}function dj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,bO(t,n,r)}function bO(t,e,r){let n=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ii(n),new Error(n)}function Ve(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||bO(e,i,n)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Vi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ur.UNAUTHENTICATED))}shutdown(){}}class hB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mB{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ve(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new wO(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new ur(e)}}class pB{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gB{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new pB(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yB{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ve(this.o===void 0,3512);const n=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new zN(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=vB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ie(t,e){return t<e?-1:t>e?1:0}function cb(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return mv(i)===mv(a)?Ie(i,a):mv(i)?1:-1}return Ie(t.length,e.length)}const xB=55296,bB=57343;function mv(t){const e=t.charCodeAt(0);return e>=xB&&e<=bB}function ul(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="__name__";class Fn{constructor(e,r,n){r===void 0?r=0:r>e.length&&fe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&fe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Fn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ie(e.length,r.length)}static compareSegments(e,r){const n=Fn.isNumericId(e),i=Fn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Fn.extractNumericId(e).compare(Fn.extractNumericId(r)):cb(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class ft extends Fn{construct(e,r,n){return new ft(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ft(r)}static emptyPath(){return new ft([])}}const wB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Fn{construct(e,r,n){return new tr(e,r,n)}static isValidIdentifier(e){return wB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WN}static keyField(){return new tr([WN])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(r)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ft.fromString(e))}static fromName(e){return new ce(ft.fromString(e).popFirst(5))}static empty(){return new ce(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ft.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t,e,r){if(!r)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _B(t,e,r,n){if(e===!0&&n===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function HN(t){if(!ce.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hj(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe(12329,{type:typeof t})}function id(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hj(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const r={typeString:t};return e&&(r.value=e),r}function df(t,e){if(!jO(t))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ae(Y.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=-62135596800,GN=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*GN);return new st(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<qN)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GN}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(df(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:kt("string",st._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new st(0,0))}static max(){return new me(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function NB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(n===1e9?new st(r+1,0):new st(r,n));return new Ds(i,ce.empty(),e)}function SB(t){return new Ds(t.readTime,t.key,sd)}class Ds{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ds(me.min(),ce.empty(),sd)}static max(){return new Ds(me.max(),ce.empty(),sd)}}function AB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ce.comparator(t.documentKey,e.documentKey),r!==0?r:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==TB)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new q((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):q.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):q.reject(r)}static resolve(e){return new q((r,n)=>{r(e)})}static reject(e){return new q((r,n)=>{n(e)})}static waitFor(e){return new q((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>n(c))}),o=!0,a===i&&r()})}static or(e){let r=q.resolve(!1);for(const n of e)r=r.next(i=>i?q.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new q((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new q((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function kB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=-1;function hg(t){return t==null}function Tm(t){return t===0&&1/t==-1/0}function PB(t){return typeof t=="number"&&Number.isInteger(t)&&!Tm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="";function IB(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=KN(e)),e=CB(t.get(r),e);return KN(e)}function CB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case _O:r+="";break;default:r+=a}}return r}function KN(t){return t+_O+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xa(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function NO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,r){this.comparator=e,this.root=r||er.EMPTY}insert(e,r){return new pt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??er.RED,this.left=i??er.EMPTY,this.right=a??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new er(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fe(27949);return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw fe(57766)}get value(){throw fe(16141)}get color(){throw fe(16727)}get left(){throw fe(29726)}get right(){throw fe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new er(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new XN(this.data.getIterator())}getIteratorFrom(e){return new XN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vt(this.comparator);return r.data=e,r}}class XN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new En([])}unionWith(e){let r=new Vt(tr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new En(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new SO("Invalid base64 string: "+a):a}}(e);return new ir(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new ir(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const OB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const r=OB.exec(t);if(Ve(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?ir.fromBase64String(t):ir.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="server_timestamp",TO="__type__",EO="__previous_value__",kO="__local_write_time__";function pj(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[TO])==null?void 0:n.stringValue)===AO}function mg(t){const e=t.mapValue.fields[EO];return pj(e)?mg(e):e}function ad(t){const e=Rs(t.mapValue.fields[kO].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,r,n,i,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Em="(default)";class od{constructor(e,r){this.projectId=e,this.database=r||Em}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===Em}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="__type__",DB="__max__",ah={mapValue:{}},IO="__vector__",km="value";function Ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pj(t)?4:$B(t)?9007199254740991:RB(t)?10:11:fe(28295,{value:t})}function Zn(t,e){if(t===e)return!0;const r=Ls(t);if(r!==Ls(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ad(t).isEqual(ad(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Rs(i.timestampValue),l=Rs(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return $s(i.bytesValue).isEqual($s(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=wt(i.doubleValue),l=wt(a.doubleValue);return o===l?Tm(o)===Tm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(YN(o)!==YN(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Zn(o[c],l[c])))return!1;return!0}(t,e);default:return fe(52216,{left:t})}}function ld(t,e){return(t.values||[]).find(r=>Zn(r,e))!==void 0}function dl(t,e){if(t===e)return 0;const r=Ls(t),n=Ls(e);if(r!==n)return Ie(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=wt(a.integerValue||a.doubleValue),c=wt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return QN(t.timestampValue,e.timestampValue);case 4:return QN(ad(t),ad(e));case 5:return cb(t.stringValue,e.stringValue);case 6:return function(a,o){const l=$s(a),c=$s(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ie(l[u],c[u]);if(d!==0)return d}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Ie(wt(a.latitude),wt(o.latitude));return l!==0?l:Ie(wt(a.longitude),wt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return JN(t.arrayValue,e.arrayValue);case 10:return function(a,o){var h,p,v,x;const l=a.fields||{},c=o.fields||{},u=(h=l[km])==null?void 0:h.arrayValue,d=(p=c[km])==null?void 0:p.arrayValue,f=Ie(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return f!==0?f:JN(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===ah.mapValue&&o===ah.mapValue)return 0;if(a===ah.mapValue)return 1;if(o===ah.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=cb(c[f],d[f]);if(h!==0)return h;const p=dl(l[c[f]],u[d[f]]);if(p!==0)return p}return Ie(c.length,d.length)}(t.mapValue,e.mapValue);default:throw fe(23264,{he:r})}}function QN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const r=Rs(t),n=Rs(e),i=Ie(r.seconds,n.seconds);return i!==0?i:Ie(r.nanos,n.nanos)}function JN(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=dl(r[i],n[i]);if(a)return a}return Ie(r.length,n.length)}function fl(t){return ub(t)}function ub(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Rs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return $s(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ce.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=ub(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${ub(r.fields[o])}`;return i+"}"}(t.mapValue):fe(61005,{value:t})}function Uh(t){switch(Ls(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mg(t);return e?16+Uh(e):16;case 5:return 2*t.stringValue.length;case 6:return $s(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Uh(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return Xa(n.fields,(a,o)=>{i+=a.length+Uh(o)}),i}(t.mapValue);default:throw fe(13486,{value:t})}}function db(t){return!!t&&"integerValue"in t}function gj(t){return!!t&&"arrayValue"in t}function ZN(t){return!!t&&"nullValue"in t}function eS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zh(t){return!!t&&"mapValue"in t}function RB(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[PO])==null?void 0:n.stringValue)===IO}function _u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=_u(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=_u(t.arrayValue.values[r]);return e}return{...t}}function $B(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!zh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(r)}setAll(e){let r=tr.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=_u(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());zh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Xa(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new an(_u(this.value))}}function CO(t){const e=[];return Xa(t.fields,(r,n)=>{const i=new tr([r]);if(zh(n)){const a=CO(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new fr(e,0,me.min(),me.min(),me.min(),an.empty(),0)}static newFoundDocument(e,r,n,i){return new fr(e,1,r,me.min(),n,i,0)}static newNoDocument(e,r){return new fr(e,2,r,me.min(),me.min(),an.empty(),0)}static newUnknownDocument(e,r){return new fr(e,3,r,me.min(),me.min(),an.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,r){this.position=e,this.inclusive=r}}function tS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=ce.comparator(ce.fromName(o.referenceValue),r.key):n=dl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function rS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Zn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,r="asc"){this.field=e,this.dir=r}}function LB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{}class Dt extends OO{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new FB(e,r,n):r==="array-contains"?new zB(e,n):r==="in"?new WB(e,n):r==="not-in"?new HB(e,n):r==="array-contains-any"?new qB(e,n):new Dt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new BB(e,n):new UB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(dl(r,this.value)):r!==null&&Ls(this.value)===Ls(r)&&this.matchesComparison(dl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends OO{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ei(e,r)}matches(e){return MO(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MO(t){return t.op==="and"}function DO(t){return VB(t)&&MO(t)}function VB(t){for(const e of t.filters)if(e instanceof ei)return!1;return!0}function fb(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(DO(t))return t.filters.map(e=>fb(e)).join(",");{const e=t.filters.map(r=>fb(r)).join(",");return`${t.op}(${e})`}}function RO(t,e){return t instanceof Dt?function(n,i){return i instanceof Dt&&n.op===i.op&&n.field.isEqual(i.field)&&Zn(n.value,i.value)}(t,e):t instanceof ei?function(n,i){return i instanceof ei&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&RO(o,i.filters[l]),!0):!1}(t,e):void fe(19439)}function $O(t){return t instanceof Dt?function(r){return`${r.field.canonicalString()} ${r.op} ${fl(r.value)}`}(t):t instanceof ei?function(r){return r.op.toString()+" {"+r.getFilters().map($O).join(" ,")+"}"}(t):"Filter"}class FB extends Dt{constructor(e,r,n){super(e,r,n),this.key=ce.fromName(n.referenceValue)}matches(e){const r=ce.comparator(e.key,this.key);return this.matchesComparison(r)}}class BB extends Dt{constructor(e,r){super(e,"in",r),this.keys=LO("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class UB extends Dt{constructor(e,r){super(e,"not-in",r),this.keys=LO("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function LO(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>ce.fromName(n.referenceValue))}class zB extends Dt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return gj(r)&&ld(r.arrayValue,this.value)}}class WB extends Dt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&ld(this.value.arrayValue,r)}}class HB extends Dt{constructor(e,r){super(e,"not-in",r)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!ld(this.value.arrayValue,r)}}class qB extends Dt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!gj(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ld(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function nS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new GB(t,e,r,n,i,a,o)}function yj(t){const e=ge(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>fb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),hg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>fl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>fl(n)).join(",")),e.Te=r}return e.Te}function vj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!LB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!RO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rS(t.startAt,e.startAt)&&rS(t.endAt,e.endAt)}function hb(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KB(t,e,r,n,i,a,o,l){return new pg(t,e,r,n,i,a,o,l)}function xj(t){return new pg(t)}function iS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YB(t){return t.collectionGroup!==null}function Nu(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(tr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Im(a,n))}),r.has(tr.keyField().canonicalString())||e.Ie.push(new Im(tr.keyField(),n))}return e.Ie}function Gn(t){const e=ge(t);return e.Ee||(e.Ee=XB(e,Nu(t))),e.Ee}function XB(t,e){if(t.limitType==="F")return nS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Im(i.field,a)});const r=t.endAt?new Pm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Pm(t.startAt.position,t.startAt.inclusive):null;return nS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function mb(t,e,r){return new pg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function gg(t,e){return vj(Gn(t),Gn(e))&&t.limitType===e.limitType}function VO(t){return`${yj(Gn(t))}|lt:${t.limitType}`}function bo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>$O(i)).join(", ")}]`),hg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>fl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>fl(i)).join(",")),`Target(${n})`}(Gn(t))}; limitType=${t.limitType})`}function yg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ce.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Nu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,c){const u=tS(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Nu(n),i)||n.endAt&&!function(o,l,c){const u=tS(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Nu(n),i))}(t,e)}function QB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FO(t){return(e,r)=>{let n=!1;for(const i of Nu(t)){const a=JB(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function JB(t,e,r){const n=t.field.isKeyField()?ce.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?dl(c,u):fe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return fe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return NO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=new pt(ce.comparator);function Ci(){return ZB}const BO=new pt(ce.comparator);function ou(...t){let e=BO;for(const r of t)e=e.insert(r.key,r);return e}function UO(t){let e=BO;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function xa(){return Su()}function zO(){return Su()}function Su(){return new Qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const eU=new pt(ce.comparator),tU=new Vt(ce.comparator);function Ce(...t){let e=tU;for(const r of t)e=e.add(r);return e}const rU=new Vt(Ie);function nU(){return rU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function WO(t){return{integerValue:""+t}}function iU(t,e){return PB(e)?WO(e):bj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function sU(t,e,r){return t instanceof cd?function(i,a){const o={fields:{[TO]:{stringValue:AO},[kO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&pj(a)&&(a=mg(a)),a&&(o.fields[EO]=a),{mapValue:o}}(r,e):t instanceof ud?qO(t,e):t instanceof dd?GO(t,e):function(i,a){const o=HO(i,a),l=sS(o)+sS(i.Ae);return db(o)&&db(i.Ae)?WO(l):bj(i.serializer,l)}(t,e)}function aU(t,e,r){return t instanceof ud?qO(t,e):t instanceof dd?GO(t,e):r}function HO(t,e){return t instanceof Cm?function(n){return db(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class cd extends vg{}class ud extends vg{constructor(e){super(),this.elements=e}}function qO(t,e){const r=KO(e);for(const n of t.elements)r.some(i=>Zn(i,n))||r.push(n);return{arrayValue:{values:r}}}class dd extends vg{constructor(e){super(),this.elements=e}}function GO(t,e){let r=KO(e);for(const n of t.elements)r=r.filter(i=>!Zn(i,n));return{arrayValue:{values:r}}}class Cm extends vg{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function sS(t){return wt(t.integerValue||t.doubleValue)}function KO(t){return gj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,r){this.field=e,this.transform=r}}function lU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof ud&&i instanceof ud||n instanceof dd&&i instanceof dd?ul(n.elements,i.elements,Zn):n instanceof Cm&&i instanceof Cm?Zn(n.Ae,i.Ae):n instanceof cd&&i instanceof cd}(t.transform,e.transform)}class cU{constructor(e,r){this.version=e,this.transformResults=r}}class wi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xg{}function YO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QO(t.key,wi.none()):new ff(t.key,t.data,wi.none());{const r=t.data,n=an.empty();let i=new Vt(tr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Ja(t.key,n,new En(i.toArray()),wi.none())}}function uU(t,e,r){t instanceof ff?function(i,a,o){const l=i.value.clone(),c=oS(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof Ja?function(i,a,o){if(!Wh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=oS(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(XO(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Au(t,e,r,n){return t instanceof ff?function(a,o,l,c){if(!Wh(a.precondition,o))return l;const u=a.value.clone(),d=lS(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ja?function(a,o,l,c){if(!Wh(a.precondition,o))return l;const u=lS(a.fieldTransforms,c,o),d=o.data;return d.setAll(XO(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,l){return Wh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function dU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=HO(n.transform,i||null);a!=null&&(r===null&&(r=an.empty()),r.set(n.field,a))}return r||null}function aS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ul(n,i,(a,o)=>lU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ff extends xg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends xg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function XO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function oS(t,e,r){const n=new Map;Ve(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,aU(o,l,r[i]))}return n}function lS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,sU(a,o,e))}return n}class QO extends xg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fU extends xg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&uU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Au(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Au(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=zO();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=YO(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(me.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(r,n)=>aS(r,n))&&ul(this.baseMutations,e.baseMutations,(r,n)=>aS(r,n))}}class wj{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return eU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new wj(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Oe;function gU(t){switch(t){case Y.OK:return fe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return fe(15467,{code:t})}}function JO(t){if(t===void 0)return Ii("GRPC error has no .code"),Y.UNKNOWN;switch(t){case At.OK:return Y.OK;case At.CANCELLED:return Y.CANCELLED;case At.UNKNOWN:return Y.UNKNOWN;case At.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case At.INTERNAL:return Y.INTERNAL;case At.UNAVAILABLE:return Y.UNAVAILABLE;case At.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case At.NOT_FOUND:return Y.NOT_FOUND;case At.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case At.ABORTED:return Y.ABORTED;case At.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case At.DATA_LOSS:return Y.DATA_LOSS;default:return fe(39323,{code:t})}}(Oe=At||(At={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new ks([4294967295,4294967295],0);function cS(t){const e=yU().encode(t),r=new mO;return r.update(e),new Uint8Array(r.digest())}function uS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ks([r,n],0),new ks([i,a],0)]}class jj{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new lu(`Invalid padding: ${r}`);if(n<0)throw new lu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new lu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=ks.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(ks.fromNumber(n)));return i.compare(vU)===1&&(i=new ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=cS(e),[n,i]=uS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new jj(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=cS(e),[n,i]=uS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new bg(me.min(),i,new pt(Ie),Ci(),Ce())}}class hf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new hf(n,r,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class ZO{constructor(e,r){this.targetId=e,this.Ce=r}}class e4{constructor(e,r,n=ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class dS{constructor(){this.ve=0,this.Fe=fS(),this.Me=ir.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),r=Ce(),n=Ce();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:fe(38017,{changeType:a})}}),new hf(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=fS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xU{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.Je=oh(),this.He=oh(),this.Ye=new pt(Ie)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:fe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(hb(a))if(n===0){const o=new ce(a.path);this.et(r,o,fr.newNoDocument(o,me.min()))}else Ve(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=$s(n).toUint8Array()}catch(c){if(c instanceof SO)return cl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new jj(o,i,a)}catch(c){return cl(c instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&hb(l.target)){const c=new ce(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,fr.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Ce();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new bg(e,r,this.Ye,this.je,n);return this.je=Ci(),this.Je=oh(),this.He=oh(),this.Ye=new pt(Ie),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new dS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Vt(Ie),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Vt(Ie),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ne("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function oh(){return new pt(ce.comparator)}function fS(){return new pt(ce.comparator)}const bU={asc:"ASCENDING",desc:"DESCENDING"},wU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class _U{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function pb(t,e){return t.useProto3Json||hg(e)?e:{value:e}}function Om(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NU(t,e){return Om(t,e.toTimestamp())}function Kn(t){return Ve(!!t,49232),me.fromTimestamp(function(r){const n=Rs(r);return new st(n.seconds,n.nanos)}(t))}function _j(t,e){return gb(t,e).canonicalString()}function gb(t,e){const r=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function r4(t){const e=ft.fromString(t);return Ve(o4(e),10190,{key:e.toString()}),e}function yb(t,e){return _j(t.databaseId,e.path)}function pv(t,e){const r=r4(e);if(r.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ce(i4(r))}function n4(t,e){return _j(t.databaseId,e)}function SU(t){const e=r4(t);return e.length===4?ft.emptyPath():i4(e)}function vb(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i4(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hS(t,e,r){return{name:yb(t,e),fields:r.value.mapValue.fields}}function AU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),ir.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ir.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?Y.UNKNOWN:JO(u.code);return new ae(d,u.message||"")}(o);r=new e4(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=pv(t,n.document.name),a=Kn(n.document.updateTime),o=n.document.createTime?Kn(n.document.createTime):me.min(),l=new an({mapValue:{fields:n.document.fields}}),c=fr.newFoundDocument(i,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Hh(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=pv(t,n.document),a=n.readTime?Kn(n.readTime):me.min(),o=fr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Hh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=pv(t,n.document),a=n.removedTargetIds||[];r=new Hh([],a,i,null)}else{if(!("filter"in e))return fe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new pU(i,a),l=n.targetId;r=new ZO(l,o)}}return r}function TU(t,e){let r;if(e instanceof ff)r={update:hS(t,e.key,e.value)};else if(e instanceof QO)r={delete:yb(t,e.key)};else if(e instanceof Ja)r={update:hS(t,e.key,e.data),updateMask:RU(e.fieldMask)};else{if(!(e instanceof fU))return fe(16599,{Vt:e.type});r={verify:yb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ud)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Cm)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw fe(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:NU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:fe(27497)}(t,e.precondition)),r}function EU(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Kn(i.updateTime):Kn(a);return o.isEqual(me.min())&&(o=Kn(a)),new cU(o,i.transformResults||[])}(r,e))):[]}function kU(t,e){return{documents:[n4(t,e.path)]}}function PU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=n4(t,i);const a=function(u){if(u.length!==0)return a4(ei.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:wo(h.field),direction:OU(h.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=pb(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function IU(t){let e=SU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ve(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const h=s4(f);return h instanceof ei&&DO(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(v){return new Im(jo(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,hg(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new Pm(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Pm(p,h)}(r.endAt)),KB(e,i,o,a,l,"F",c,u)}function CU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function s4(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=jo(r.unaryFilter.field);return Dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=jo(r.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jo(r.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jo(r.unaryFilter.field);return Dt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fe(61313);default:return fe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Dt.create(jo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fe(58110);default:return fe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ei.create(r.compositeFilter.filters.map(n=>s4(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe(1026)}}(r.compositeFilter.op))}(t):fe(30097,{filter:t})}function OU(t){return bU[t]}function MU(t){return wU[t]}function DU(t){return jU[t]}function wo(t){return{fieldPath:t.canonicalString()}}function jo(t){return tr.fromServerFormat(t.fieldPath)}function a4(t){return t instanceof Dt?function(r){if(r.op==="=="){if(eS(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NAN"}};if(ZN(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(eS(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NOT_NAN"}};if(ZN(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(r.field),op:MU(r.op),value:r.value}}}(t):t instanceof ei?function(r){const n=r.getFilters().map(i=>a4(i));return n.length===1?n[0]:{compositeFilter:{op:DU(r.op),filters:n}}}(t):fe(54877,{filter:t})}function RU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function o4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,r,n,i,a=me.min(),o=me.min(),l=ir.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.yt=e}}function LU(t){const e=IU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(){this.Cn=new FU}addToCollectionParentIndex(e,r){return this.Cn.add(r),q.resolve()}getCollectionParents(e,r){return q.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return q.resolve()}deleteFieldIndex(e,r){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,r){return q.resolve()}getDocumentsMatchingTarget(e,r){return q.resolve(null)}getIndexType(e,r){return q.resolve(0)}getFieldIndexes(e,r){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,r){return q.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,r){return q.resolve(Ds.min())}updateCollectionGroup(e,r,n){return q.resolve()}updateIndexEntries(e,r){return q.resolve()}}class FU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Vt(ft.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l4=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(l4,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new hl(0)}static cr(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="LruGarbageCollector",BU=1048576;function gS([t,e],[r,n]){const i=Ie(t,r);return i===0?Ie(e,n):i}class UU{constructor(e){this.Ir=e,this.buffer=new Vt(gS),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();gS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class zU{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(pS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ec(r)?ne(pS,"Ignoring IndexedDB error during garbage collection: ",r):await Zl(r)}await this.Vr(3e5)})}}class WU{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return q.resolve(fg.ce);const n=new UU(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(mS)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mS):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,l=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),xo()<=Pe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function HU(t,e){return new WU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new Qa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?q.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Au(n.mutation,i,En.empty(),st.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ce()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ce()){const i=xa();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=ou();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=xa();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ce()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=Ci();const o=Su(),l=function(){return Su()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ja)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Au(d.mutation,u,d.mutation.getFieldMask(),st.now())):o.set(u.key,En.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new GU(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Su();let i=new pt((o,l)=>o-l),a=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||En.empty();d=l.applyToLocalView(u,d),n.set(c,d);const f=(i.get(l.batchId)||Ce()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=zO();d.forEach(h=>{if(!a.has(h)){const p=YO(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return q.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):YB(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):q.resolve(xa());let l=sd,c=a;return o.next(u=>q.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Ce())).next(d=>({batchId:l,changes:UO(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ce(r)).next(n=>{let i=ou();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=ou();return this.indexManager.getCollectionParents(e,a).next(l=>q.forEach(l,c=>{const u=function(f,h){return new pg(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,fr.newInvalidDocument(d)))});let l=ou();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Au(d.mutation,u,En.empty(),st.now()),yg(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return q.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(r)),q.resolve()}getNamedQuery(e,r){return q.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:LU(i.bundledQuery),readTime:Kn(i.readTime)}}(r)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.overlays=new pt(ce.comparator),this.qr=new Map}getOverlay(e,r){return q.resolve(this.overlays.get(r))}getOverlays(e,r){const n=xa();return q.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),q.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),q.resolve()}getOverlaysForCollection(e,r,n){const i=xa(),a=r.length+1,o=new ce(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=xa(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=xa(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return q.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new mU(r,n));let a=this.qr.get(r);a===void 0&&(a=Ce(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.sessionToken=ir.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.Qr=new Vt(Wt.$r),this.Ur=new Vt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Wt(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Wt(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new ce(new ft([])),n=new Wt(r,e),i=new Wt(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new ce(new ft([])),n=new Wt(r,e),i=new Wt(r,e+1);let a=Ce();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Wt(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Wt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return ce.comparator(e.key,r.key)||Ie(e.Yr,r.Yr)}static Kr(e,r){return Ie(e.Yr,r.Yr)||ce.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Wt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Wt(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,r){return q.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?mj:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Wt(r,0),i=new Wt(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vt(Ie);return r.forEach(i=>{const a=new Wt(i,0),o=new Wt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),q.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;ce.isDocumentKey(a)||(a=a.child(""));const o=new Wt(new ce(a),0);let l=new Vt(Ie);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),q.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ve(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return q.forEach(r.mutations,i=>{const a=new Wt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Wt(r,0),i=this.Zr.firstAfterOrEqual(n);return q.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.ri=e,this.docs=function(){return new pt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return q.resolve(n?n.document.mutableCopy():fr.newInvalidDocument(r))}getEntries(e,r){let n=Ci();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():fr.newInvalidDocument(i))}),q.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ci();const o=r.path,l=new ce(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AB(SB(d),n)<=0||(i.has(d.key)||yg(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,r,n,i){fe(9500)}ii(e,r){return q.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new e7(this)}getSize(e){return q.resolve(this.size)}}class e7 extends qU{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),q.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.persistence=e,this.si=new Qa(r=>yj(r),vj),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new Nj,this.targetCount=0,this.ai=hl.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),q.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new hl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,q.resolve()}updateTargetData(e,r){return this.Pr(r),q.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return q.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),q.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),q.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return q.resolve(n)}containsKey(e,r){return q.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,r){this.ui={},this.overlays={},this.ci=new fg(0),this.li=!1,this.li=!0,this.hi=new QU,this.referenceDelegate=e(this),this.Pi=new t7(this),this.indexManager=new VU,this.remoteDocumentCache=function(i){return new ZU(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new $U(r),this.Ii=new YU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new XU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new JU(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ne("MemoryPersistence","Starting transaction:",e);const i=new r7(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return q.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class r7 extends EB{constructor(e){super(),this.currentSequenceNumber=e}}class Sj{constructor(e){this.persistence=e,this.Ri=new Nj,this.Vi=null}static mi(e){return new Sj(e)}get fi(){if(this.Vi)return this.Vi;throw fe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),q.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),q.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),q.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,n=>{const i=ce.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,me.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return q.or([()=>q.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Mm{constructor(e,r){this.persistence=e,this.pi=new Qa(n=>IB(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=HU(this,r)}static mi(e,r){return new Mm(e,r)}Ei(){}di(e){return q.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return q.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?q.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,me.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Uh(e.data.value)),r}br(e,r,n){return q.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return q.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Ce(),i=Ce();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Aj(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return I8()?8:kB(gr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new n7;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(xo()<=Pe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",bo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(xo()<=Pe.DEBUG&&ne("QueryEngine","Query:",bo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(xo()<=Pe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",bo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(r))):q.resolve())}ys(e,r){if(iS(r))return q.resolve(null);let n=Gn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=mb(r,null,"F"),n=Gn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Ce(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,mb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return iS(r)||i.isEqual(me.min())?q.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?q.resolve(null):(xo()<=Pe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bo(r)),this.vs(e,o,r,NB(i,sd)).next(l=>l))})}Ds(e,r){let n=new Vt(FO(e));return r.forEach((i,a)=>{yg(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return xo()<=Pe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",bo(r)),this.ps.getDocumentsMatchingQuery(e,r,Ds.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="LocalStore",s7=3e8;class a7{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new pt(Ie),this.xs=new Qa(a=>yj(a),vj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function o7(t,e,r,n){return new a7(t,e,r,n)}async function u4(t,e){const r=ge(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Ce();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function l7(t,e){const r=ge(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let p=q.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(x=>{const y=u.docVersions.get(v);Ve(y!==null,48541),x.version.compareTo(y)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Ce();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function d4(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function c7(t,e){const r=ge(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ir.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(f,p),function(x,y,g){return x.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=s7?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,p,d)&&l.push(r.Pi.updateTargetData(a,p))});let c=Ci(),u=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(u7(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(me.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return q.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function u7(t,e,r){let n=Ce(),i=Ce();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Ci();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(me.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(Tj,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function d7(t,e){const r=ge(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=mj),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function f7(t,e){const r=ge(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,q.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new ps(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function xb(t,e,r){const n=ge(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ec(o))throw o;ne(Tj,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function yS(t,e,r){const n=ge(t);let i=me.min(),a=Ce();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ge(c),h=f.xs.get(d);return h!==void 0?q.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(n,o,Gn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:me.min(),r?a:Ce())).next(l=>(h7(n,QB(e),l),{documents:l,Qs:a})))}function h7(t,e,r){let n=t.Os.get(e)||me.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class vS{constructor(){this.activeTargetIds=nU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m7{constructor(){this.Mo=new vS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="ConnectivityMonitor";class bS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(xS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(xS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function bb(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="RestConnection",g7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class y7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Em?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=bb(),l=this.zo(e,r.toUriEncodedString());ne(gv,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(l),d=Yl(u);return this.Jo(e,l,c,n,d).then(f=>(ne(gv,`Received RPC '${e}' ${o}: `,f),f),f=>{throw cl(gv,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",n),f})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=g7[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class x7 extends y7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=bb();return new Promise((l,c)=>{const u=new pO;u.setWithCredentials(!0),u.listenOnce(gO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bh.NO_ERROR:const f=u.getResponseJson();ne(lr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Bh.TIMEOUT:ne(lr,`RPC '${e}' ${o} timed out`),c(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const h=u.getStatus();if(ne(lr,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const x=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(w)>=0?w:Y.UNKNOWN}(v.status);c(new ae(x,v.message))}else c(new ae(Y.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:fe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(lr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ne(lr,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=bb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xO(),l=vO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");ne(lr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let h=!1,p=!1;const v=new v7({Yo:y=>{p?ne(lr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(ne(lr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ne(lr,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},Zo:()=>f.close()}),x=(y,g,w)=>{y.listen(g,b=>{try{w(b)}catch(T){setTimeout(()=>{throw T},0)}})};return x(f,au.EventType.OPEN,()=>{p||(ne(lr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),x(f,au.EventType.CLOSE,()=>{p||(p=!0,ne(lr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(f))}),x(f,au.EventType.ERROR,y=>{p||(p=!0,cl(lr,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),v.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),x(f,au.EventType.MESSAGE,y=>{var g;if(!p){const w=y.data[0];Ve(!!w,16349);const b=w,T=(b==null?void 0:b.error)||((g=b[0])==null?void 0:g.error);if(T){ne(lr,`RPC '${e}' stream ${i} received error:`,T);const j=T.status;let A=function(E){const O=At[E];if(O!==void 0)return JO(O)}(j),S=T.message;A===void 0&&(A=Y.INTERNAL,S="Unknown error status: "+j+" with message "+T.message),p=!0,v.a_(new ae(A,S)),f.close()}else ne(lr,`RPC '${e}' stream ${i} received:`,w),v.u_(w)}}),x(l,yO.STAT_EVENT,y=>{y.stat===lb.PROXY?ne(lr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===lb.NOPROXY&&ne(lr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){return new _U(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="PersistentStream";class h4{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(Ii(r.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ae(Y.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(wS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ne(wS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b7 extends h4{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=AU(this.serializer,e),n=function(a){if(!("targetChange"in a))return me.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?Kn(o.readTime):me.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=vb(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=hb(c)?{documents:kU(a,c)}:{query:PU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=t4(a,o.resumeToken);const u=pb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){l.readTime=Om(a,o.snapshotVersion.toTimestamp());const u=pb(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=CU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=vb(this.serializer),r.removeTarget=e,this.q_(r)}}class w7 extends h4{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=EU(e.writeResults,e.commitTime),n=Kn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=vb(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>TU(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{}class _7 extends j7{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,gb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(Y.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,gb(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Y.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class N7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ii(r),this.aa=!1):ne("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class S7{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Za(this)&&(ne(Fa,"Restarting streams for network reachability change."),await async function(c){const u=ge(c);u.Ea.add(4),await mf(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jg(u)}(this))})}),this.Ra=new N7(n,i)}}async function jg(t){if(Za(t))for(const e of t.da)await e(!0)}async function mf(t){for(const e of t.da)await e(!1)}function m4(t,e){const r=ge(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Ij(r)?Pj(r):tc(r).O_()&&kj(r,e))}function Ej(t,e){const r=ge(t),n=tc(r);r.Ia.delete(e),n.O_()&&p4(r,e),r.Ia.size===0&&(n.O_()?n.L_():Za(r)&&r.Ra.set("Unknown"))}function kj(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}tc(t).Y_(e)}function p4(t,e){t.Va.Ue(e),tc(t).Z_(e)}function Pj(t){t.Va=new xU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tc(t).start(),t.Ra.ua()}function Ij(t){return Za(t)&&!tc(t).x_()&&t.Ia.size>0}function Za(t){return ge(t).Ea.size===0}function g4(t){t.Va=void 0}async function A7(t){t.Ra.set("Online")}async function T7(t){t.Ia.forEach((e,r)=>{kj(t,e)})}async function E7(t,e){g4(t),Ij(t)?(t.Ra.ha(e),Pj(t)):t.Ra.set("Unknown")}async function k7(t,e,r){if(t.Ra.set("Online"),e instanceof e4&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(n){ne(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Dm(t,n)}else if(e instanceof Hh?t.Va.Ze(e):e instanceof ZO?t.Va.st(e):t.Va.tt(e),!r.isEqual(me.min()))try{const n=await d4(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(ir.EMPTY_BYTE_STRING,d.snapshotVersion)),p4(a,c);const f=new ps(d.target,c,u,d.sequenceNumber);kj(a,f)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){ne(Fa,"Failed to raise snapshot:",n),await Dm(t,n)}}async function Dm(t,e,r){if(!ec(e))throw e;t.Ea.add(1),await mf(t),t.Ra.set("Offline"),r||(r=()=>d4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Fa,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await jg(t)})}function y4(t,e){return e().catch(r=>Dm(t,r,e))}async function _g(t){const e=ge(t),r=Vs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mj;for(;P7(e);)try{const i=await d7(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,I7(e,i)}catch(i){await Dm(e,i)}v4(e)&&x4(e)}function P7(t){return Za(t)&&t.Ta.length<10}function I7(t,e){t.Ta.push(e);const r=Vs(t);r.O_()&&r.X_&&r.ea(e.mutations)}function v4(t){return Za(t)&&!Vs(t).x_()&&t.Ta.length>0}function x4(t){Vs(t).start()}async function C7(t){Vs(t).ra()}async function O7(t){const e=Vs(t);for(const r of t.Ta)e.ea(r.mutations)}async function M7(t,e,r){const n=t.Ta.shift(),i=wj.from(n,e,r);await y4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _g(t)}async function D7(t,e){e&&Vs(t).X_&&await async function(n,i){if(function(o){return gU(o)&&o!==Y.ABORTED}(i.code)){const a=n.Ta.shift();Vs(n).B_(),await y4(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await _g(n)}}(t,e),v4(t)&&x4(t)}async function jS(t,e){const r=ge(t);r.asyncQueue.verifyOperationInProgress(),ne(Fa,"RemoteStore received new credentials");const n=Za(r);r.Ea.add(3),await mf(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await jg(r)}async function R7(t,e){const r=ge(t);e?(r.Ea.delete(2),await jg(r)):e||(r.Ea.add(2),await mf(r),r.Ra.set("Unknown"))}function tc(t){return t.ma||(t.ma=function(r,n,i){const a=ge(r);return a.sa(),new b7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:A7.bind(null,t),t_:T7.bind(null,t),r_:E7.bind(null,t),H_:k7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ij(t)?Pj(t):t.Ra.set("Unknown")):(await t.ma.stop(),g4(t))})),t.ma}function Vs(t){return t.fa||(t.fa=function(r,n,i){const a=ge(r);return a.sa(),new w7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:C7.bind(null,t),r_:D7.bind(null,t),ta:O7.bind(null,t),na:M7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await _g(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Cj(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oj(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),ec(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||ce.comparator(r.key,n.key):(r,n)=>ce.comparator(r.key,n.key),this.keyedMap=ou(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Xo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ga=new pt(ce.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):fe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class ml{constructor(e,r,n,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new ml(e,r,Xo.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class L7{constructor(){this.queries=NS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ge(r),a=i.queries;i.queries=NS(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function NS(){return new Qa(t=>VO(t),gg)}async function V7(t,e){const r=ge(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new $7,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=Oj(o,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Mj(r)}async function F7(t,e){const r=ge(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function B7(t,e){const r=ge(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&Mj(r)}function U7(t,e,r){const n=ge(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Mj(t){t.Ca.forEach(e=>{e.next()})}var wb,SS;(SS=wb||(wb={})).Ma="default",SS.Cache="cache";class z7{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ml(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.key=e}}class w4{constructor(e){this.key=e}}class W7{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=FO(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new _S,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),p=yg(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?v!==x&&(n.track({type:3,doc:p}),y=!0):this.su(h,p)||(n.track({type:2,doc:p}),y=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!h&&p?(n.track({type:0,doc:p}),y=!0):h&&!p&&(n.track({type:1,doc:h}),y=!0,(c||u)&&(l=!0)),y&&(p?(o=o.add(p),a=x?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,v){const x=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe(20277,{Rt:y})}};return x(p)-x(v)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ml(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _S,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new w4(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new b4(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Ce();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dj="SyncEngine";class H7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class q7{constructor(e){this.key=e,this.hu=!1}}class G7{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qa(l=>VO(l),gg),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ce.comparator),this.Au=new Map,this.Ru=new Nj,this.Vu={},this.mu=new Map,this.fu=hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K7(t,e,r=!0){const n=T4(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await j4(n,e,r,!0),i}async function Y7(t,e){const r=T4(t);await j4(r,e,!0,!1)}async function j4(t,e,r,n){const i=await f7(t.localStore,Gn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await X7(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&m4(t.remoteStore,i),l}async function X7(t,e,r,n,i){t.pu=(f,h,p)=>async function(x,y,g,w){let b=y.view.ru(g);b.Cs&&(b=await yS(x.localStore,y.query,!1).then(({documents:S})=>y.view.ru(S,b)));const T=w&&w.targetChanges.get(y.targetId),j=w&&w.targetMismatches.get(y.targetId)!=null,A=y.view.applyChanges(b,x.isPrimaryClient,T,j);return TS(x,y.targetId,A.au),A.snapshot}(t,f,h,p);const a=await yS(t.localStore,e,!0),o=new W7(e,a.Qs),l=o.ru(a.documents),c=hf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);TS(t,r,u.au);const d=new H7(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Q7(t,e,r){const n=ge(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!gg(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await xb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Ej(n.remoteStore,i.targetId),jb(n,i.targetId)}).catch(Zl)):(jb(n,i.targetId),await xb(n.localStore,i.targetId,!0))}async function J7(t,e){const r=ge(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ej(r.remoteStore,n.targetId))}async function Z7(t,e,r){const n=az(t);try{const i=await function(o,l){const c=ge(o),u=st.now(),d=l.reduce((p,v)=>p.add(v.key),Ce());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ci(),x=Ce();return c.Ns.getEntries(p,d).next(y=>{v=y,v.forEach((g,w)=>{w.isValidDocument()||(x=x.add(g))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(y=>{f=y;const g=[];for(const w of l){const b=dU(w,f.get(w.key).overlayedDocument);b!=null&&g.push(new Ja(w.key,b,CO(b.value.mapValue),wi.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,g,l)}).next(y=>{h=y;const g=y.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(p,y.batchId,g)})}).then(()=>({batchId:h.batchId,changes:UO(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new pt(Ie)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await pf(n,i.changes),await _g(n.remoteStore)}catch(i){const a=Oj(i,"Failed to persist write");r.reject(a)}}async function _4(t,e){const r=ge(t);try{const n=await c7(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ve(o.hu,14607):i.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await pf(r,n,e)}catch(n){await Zl(n)}}function AS(t,e,r){const n=ge(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ge(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(l)&&(u=!0)}),u&&Mj(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function ez(t,e,r){const n=ge(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new pt(ce.comparator);o=o.insert(a,fr.newNoDocument(a,me.min()));const l=Ce().add(a),c=new bg(me.min(),new Map,new pt(Ie),o,l);await _4(n,c),n.du=n.du.remove(a),n.Au.delete(e),Rj(n)}else await xb(n.localStore,e,!1).then(()=>jb(n,e,r)).catch(Zl)}async function tz(t,e){const r=ge(t),n=e.batch.batchId;try{const i=await l7(r.localStore,e);S4(r,n,null),N4(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await pf(r,i)}catch(i){await Zl(i)}}async function rz(t,e,r){const n=ge(t);try{const i=await function(o,l){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ve(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);S4(n,e,r),N4(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await pf(n,i)}catch(i){await Zl(i)}}function N4(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function S4(t,e,r){const n=ge(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function jb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||A4(t,n)})}function A4(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Ej(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),Rj(t))}function TS(t,e,r){for(const n of r)n instanceof b4?(t.Ru.addReference(n.key,e),nz(t,n)):n instanceof w4?(ne(Dj,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||A4(t,n.key)):fe(19791,{wu:n})}function nz(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ne(Dj,"New document in limbo: "+r),t.Eu.add(n),Rj(t))}function Rj(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new ce(ft.fromString(e)),n=t.fu.next();t.Au.set(n,new q7(r)),t.du=t.du.insert(r,n),m4(t.remoteStore,new ps(Gn(xj(r.path)),n,"TargetPurposeLimboResolution",fg.ce))}}async function pf(t,e,r){const n=ge(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Aj.As(c.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=ge(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(u,h=>q.forEach(h.Es,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>q.forEach(h.ds,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!ec(f))throw f;ne(Tj,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.Ms.get(h),v=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(h,x)}}}(n.localStore,a))}async function iz(t,e){const r=ge(t);if(!r.currentUser.isEqual(e)){ne(Dj,"User change. New user:",e.toKey());const n=await u4(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ae(Y.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await pf(r,n.Ls)}}function sz(t,e){const r=ge(t),n=r.Au.get(e);if(n&&n.hu)return Ce().add(n.key);{let i=Ce();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function T4(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ez.bind(null,e),e.Pu.H_=B7.bind(null,e.eventManager),e.Pu.yu=U7.bind(null,e.eventManager),e}function az(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rz.bind(null,e),e}class Rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return o7(this.persistence,new i7,e.initialUser,this.serializer)}Cu(e){return new c4(Sj.mi,this.serializer)}Du(e){return new m7}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rm.provider={build:()=>new Rm};class oz extends Rm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ve(this.persistence.referenceDelegate instanceof Mm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new zU(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new c4(n=>Mm.mi(n,r),this.serializer)}}class _b{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>AS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iz.bind(null,this.syncEngine),await R7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L7}()}createDatastore(e){const r=wg(e.databaseInfo.databaseId),n=function(a){return new x7(a)}(e.databaseInfo);return function(a,o,l,c){return new _7(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new S7(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>AS(this.syncEngine,r,0),function(){return bS.v()?new bS:new p7}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const f=new G7(i,a,o,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ge(i);ne(Fa,"RemoteStore shutting down."),a.Ea.add(5),await mf(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}_b.provider={build:()=>new _b};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class cz{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ur.UNAUTHENTICATED,this.clientId=fj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ne(Fs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ne(Fs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Oj(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function vv(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Fs,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await u4(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ES(t,e){t.asyncQueue.verifyOperationInProgress();const r=await uz(t);ne(Fs,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>jS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>jS(e.remoteStore,i)),t._onlineComponents=e}async function uz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Fs,"Using user provided OfflineComponentProvider");try{await vv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;cl("Error using user provided cache. Falling back to memory cache: "+r),await vv(t,new Rm)}}else ne(Fs,"Using default OfflineComponentProvider"),await vv(t,new oz(void 0));return t._offlineComponents}async function E4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Fs,"Using user provided OnlineComponentProvider"),await ES(t,t._uninitializedComponentsProvider._online)):(ne(Fs,"Using default OnlineComponentProvider"),await ES(t,new _b))),t._onlineComponents}function dz(t){return E4(t).then(e=>e.syncEngine)}async function fz(t){const e=await E4(t),r=e.eventManager;return r.onListen=K7.bind(null,e.syncEngine),r.onUnlisten=Q7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Y7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=J7.bind(null,e.syncEngine),r}function hz(t,e,r={}){const n=new Ps;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new lz({next:h=>{d.Nu(),o.enqueueAndForget(()=>F7(a,f));const p=h.docs.has(l);!p&&h.fromCache?u.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new z7(xj(l.path),d,{includeMetadataChanges:!0,qa:!0});return V7(a,f)}(await fz(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="firestore.googleapis.com",PS=!0;class IS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P4,this.ssl=PS}else this.host=e.host,this.ssl=e.ssl??PS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BU)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_B("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k4(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $j{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new fB;switch(n.type){case"firstParty":return new gB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=kS.get(r);n&&(ne("ComponentProvider","Removing Datastore"),kS.delete(r),n.terminate())}(this),Promise.resolve()}}function mz(t,e,r,n={}){var u;t=id(t,$j);const i=Yl(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&(AC(`https://${l}`),TC("Firestore",!0)),a.host!==P4&&a.host!==l&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Da(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=ur.MOCK_USER;else{d=j8(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ur(h)}t._authCredentials=new hB(new wO(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lj(this.firestore,e,this._query)}}class Kt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(df(r,Kt._jsonSchema))return new Kt(e,n||null,new ce(ft.fromString(r.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:kt("string",Kt._jsonSchemaVersion),referencePath:kt("string")};class fd extends Lj{constructor(e,r,n){super(e,r,xj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new ce(e))}withConverter(e){return new fd(this.firestore,e,this._path)}}function CS(t,e,...r){if(t=Kr(t),arguments.length===1&&(e=fj.newId()),jB("doc","path",e),t instanceof $j){const n=ft.fromString(e,...r);return HN(n),new Kt(t,null,new ce(n))}{if(!(t instanceof Kt||t instanceof fd))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ft.fromString(e,...r));return HN(n),new Kt(t.firestore,t instanceof fd?t.converter:null,new ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="AsyncQueue";class MS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f4(this,"async_queue_retry"),this._c=()=>{const n=yv();n&&ne(OS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=yv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=yv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Ps;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ec(e))throw e;ne(OS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ii("INTERNAL UNHANDLED ERROR: ",DS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Cj.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&fe(47125,{Pc:DS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function DS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vj extends $j{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new MS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MS(e),this._firestoreClient=void 0,await e}}}function pz(t,e){const r=typeof t=="object"?t:IC(),n=typeof t=="string"?t:Em,i=rj(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=b8("firestore");a&&mz(i,...a)}return i}function I4(t){if(t._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gz(t),t._firestoreClient}function gz(t){var n,i,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new MB(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,k4(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cz(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(ir.fromBase64String(e))}catch(r){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new on(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(df(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:kt("string",on._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yn._jsonSchemaVersion}}static fromJSON(e){if(df(e,Yn._jsonSchema))return new Yn(e.latitude,e.longitude)}}Yn._jsonSchemaVersion="firestore/geoPoint/1.0",Yn._jsonSchema={type:kt("string",Yn._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(df(e,Xn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Xn(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:kt("string",Xn._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=/^__.*__$/;class vz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,r,this.fieldTransforms):new ff(e,this.data,r,this.fieldTransforms)}}function C4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe(40011,{Ac:t})}}class Uj{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uj({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C4(this.Ac)&&yz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||wg(e)}Cc(e,r,n,i=!1){return new Uj({Ac:e,methodName:r,Dc:n,path:tr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bz(t){const e=t._freezeSettings(),r=wg(t._databaseId);return new xz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function wz(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);R4("Data must be an object, but it was:",o,n);const l=M4(n,o);let c,u;if(a.merge)c=new En(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const h=jz(e,f,r);if(!o.contains(h))throw new ae(Y.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Nz(d,h)||d.push(h)}c=new En(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new vz(new an(l),c,u)}class zj extends Bj{_toFieldTransform(e){return new oU(e.path,new cd)}isEqual(e){return e instanceof zj}}function O4(t,e){if(D4(t=Kr(t)))return R4("Unsupported field value:",e,t),M4(t,e);if(t instanceof Bj)return function(n,i){if(!C4(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let c=O4(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=st.fromDate(n);return{timestampValue:Om(i.serializer,a)}}if(n instanceof st){const a=new st(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Om(i.serializer,a)}}if(n instanceof Yn)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof on)return{bytesValue:t4(i.serializer,n._byteString)};if(n instanceof Kt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_j(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Xn)return function(o,l){return{mapValue:{fields:{[PO]:{stringValue:IO},[km]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return bj(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${hj(n)}`)}(t,e)}function M4(t,e){const r={};return NO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(n,i)=>{const a=O4(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function D4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Yn||t instanceof on||t instanceof Kt||t instanceof Bj||t instanceof Xn)}function R4(t,e,r){if(!D4(r)||!jO(r)){const n=hj(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function jz(t,e,r){if((e=Kr(e))instanceof Fj)return e._internalPath;if(typeof e=="string")return $4(t,e);throw $m("Field path arguments must be of type string or ",t,!1,void 0,r)}const _z=new RegExp("[~\\*/\\[\\]]");function $4(t,e,r){if(e.search(_z)>=0)throw $m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Fj(...e.split("."))._internalPath}catch{throw $m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $m(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new ae(Y.INVALID_ARGUMENT,l+t+c)}function Nz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(V4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Sz extends L4{data(){return super.data()}}function V4(t,e){return typeof e=="string"?$4(t,e):e instanceof Fj?e._internalPath:e._delegate._internalPath}class Az{convertValue(e,r="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw fe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xa(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[km].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>wt(o.doubleValue));return new Xn(r)}convertGeoPoint(e){return new Yn(wt(e.latitude),wt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=mg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const r=Rs(e);return new st(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ft.fromString(e);Ve(o4(n),9688,{name:e});const i=new od(n.get(1),n.get(3)),a=new ce(n.popFirst(5));return i.isEqual(r)||Ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class cu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends L4{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(V4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Aa._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:kt("string",Aa._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class qh extends Aa{data(e={}){return super.data(e)}}class Tu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new cu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new qh(this._firestore,this._userDataWriter,n.key,n,new cu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new qh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new qh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new cu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Ez(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ez(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){t=id(t,Kt);const e=id(t.firestore,Vj);return hz(I4(e),t._key).then(r=>Oz(e,t,r))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:kt("string",Tu._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class Pz extends Az{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,r)}}function Iz(t,e,r){t=id(t,Kt);const n=id(t.firestore,Vj),i=Tz(t.converter,e);return Cz(n,[wz(bz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,wi.none())])}function Cz(t,e){return function(n,i){const a=new Ps;return n.asyncQueue.enqueueAndForget(async()=>Z7(await dz(n),i,a)),a.promise}(I4(t),e)}function Oz(t,e,r){const n=r.docs.get(e._key),i=new Pz(t);return new Aa(t,i,e._key,n,new cu(r.hasPendingWrites,r.fromCache),e.converter)}function RS(){return new zj("serverTimestamp")}(function(e,r=!0){(function(i){Jl=i})(Xl),ll(new Ra("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Vj(new mB(n.getProvider("auth-internal")),new yB(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(u.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Es(BN,UN,e),Es(BN,UN,"esm2020")})();const Gh={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!Gh.apiKey||!Gh.authDomain||!Gh.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let Lm;if(yN().length===0)try{Lm=PC(Gh)}catch(t){throw console.error(" Firebase initialization failed:",t),t}else Lm=yN()[0];const fo=uB(Lm),$S=pz(Lm),LS="marketing_management_website_messages",ho=localStorage.getItem("useMockAuth")!=="false",F4=M.createContext(void 0);function Mz({children:t}){const[e,r]=M.useState(!1),[n,i]=M.useState(null),[a,o]=M.useState(!0),l=async(b,T)=>{const j=$e().find(S=>S.email===b&&S.password===T);if(!j)throw new Error("Invalid email or password");if(!j.isActive)throw new Error("Account is inactive");const A={id:j.id,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(A),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(A))},c=async b=>{const T=`user-${Date.now()}`,j={id:T,email:b.email,fullName:b.fullName,role:b.role,phone:b.phone,password:b.password,isActive:!0,createdAt:new Date,updatedAt:new Date};yC.push(j),localStorage.setItem("marketing_management_website_users",JSON.stringify($e().concat(j)));const A=$e().filter(O=>O.role==="admin"),S={id:`message-${Date.now()}`,senderId:T,recipientId:void 0,subject:"New User Registration",content:`A new user has registered: ${j.fullName} (${j.email}) as ${j.role}. Please review and approve if necessary.`,isRead:!1,isBroadcast:!0,createdAt:new Date,updatedAt:new Date},_=JSON.parse(localStorage.getItem(LS)||"[]");A.forEach(O=>{_.push({...S,recipientId:O.id,id:`message-${Date.now()}-${O.id}`})}),localStorage.setItem(LS,JSON.stringify(_));const E={id:T,email:j.email,fullName:j.fullName,role:j.role,phone:j.phone};i(E),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(E))},u=async()=>{i(null),r(!1),localStorage.removeItem("mockAuthUser")},d=async b=>{try{const T=await kz(CS($S,"users",b.uid));if(!T.exists())return console.error("User document not found in Firestore"),null;const j=T.data();return j.isActive?{id:b.uid,email:j.email||b.email||"",fullName:j.fullName||"",role:j.role,phone:j.phone||""}:(console.error("User account is inactive"),null)}catch(T){return console.error("Error fetching user data:",T),null}};M.useEffect(()=>{if(ho){o(!0);const b=localStorage.getItem("mockAuthUser");if(b)try{const T=JSON.parse(b);i(T),r(!0)}catch(T){console.error("Error parsing stored user:",T),localStorage.removeItem("mockAuthUser")}o(!1)}else{const b=JF(fo,async T=>{if(o(!0),T){const j=await d(T);j?(i(j),r(!0)):(i(null),r(!1))}else i(null),r(!1);o(!1)});return()=>b()}},[]);const f=async(b,T)=>{if(ho)return l(b,T);try{if(!fo)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");await YF(fo,b,T)}catch(j){throw console.error("Sign in error:",j),console.error("Error code:",j.code),console.error("Error message:",j.message),j.code==="auth/user-not-found"?new Error("auth/user-not-found - No user found with this email. Please create an account first."):j.code==="auth/wrong-password"?new Error("auth/wrong-password - Incorrect password."):j.code==="auth/invalid-email"?new Error("auth/invalid-email - Invalid email address format."):j.code==="auth/user-disabled"?new Error("auth/user-disabled - This account has been disabled."):j.code==="auth/too-many-requests"?new Error("auth/too-many-requests - Too many failed login attempts. Please try again later."):j.code==="auth/network-request-failed"?new Error("auth/network-request-failed - Network error. Please check your internet connection."):j.code==="auth/invalid-api-key"?new Error("auth/invalid-api-key - Firebase API key is invalid. Check your .env file."):j.code==="auth/configuration-not-found"?new Error("auth/configuration-not-found - Firebase configuration not found. Check your .env file."):new Error(j.message||j.code||"Failed to sign in")}},h=async b=>{if(ho)return c(b);try{if(!fo)throw new Error("Firebase Auth not initialized. Please check your configuration.");const j=(await KF(fo,b.email,b.password)).user;await Iz(CS($S,"users",j.uid),{email:b.email,fullName:b.fullName,phone:b.phone,role:b.role,isActive:!0,createdAt:RS(),updatedAt:RS()})}catch(T){throw console.error("Sign up error:",T),console.error("Error code:",T.code),console.error("Error message:",T.message),T.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):T.code==="auth/invalid-email"?new Error("Invalid email address format."):T.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):T.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(T.message||"Failed to create account")}},p=b=>{if(!n)return;const T={...n,...b};i(T),ho&&localStorage.setItem("mockAuthUser",JSON.stringify(T))},v=async()=>{if(ho)return u();try{await ZF(fo)}catch(b){throw console.error("Sign out error:",b),new Error(b.message||"Failed to sign out")}},x=b=>{if(!n)return;const T={...n,role:b};i(T),ho&&localStorage.setItem("mockAuthUser",JSON.stringify(T))},y=b=>n?b.includes(n.role):!1,g=b=>n?n.role==="admin"?!0:ni(n.id,n.role).some(j=>j.id===b):!1,w=b=>n?n.role==="admin"||n.role==="web_developer"&&b.assignedTo===n.id||n.role==="client"&&b.createdBy===n.id:!1;return s.jsx(F4.Provider,{value:{isSignedIn:e,user:n,loading:a,signIn:f,signUp:h,signOut:v,updateCurrentUser:p,switchRole:x,hasRole:y,canAccessProject:g,canManageTicket:w},children:t})}function je(){const t=M.useContext(F4);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const Dz={theme:"system",setTheme:()=>null},Rz=M.createContext(Dz);function $z({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,a]=M.useState(()=>localStorage.getItem(r)||e);M.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(i)},[i]);const o={theme:i,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return s.jsx(Rz.Provider,{...n,value:o,children:t})}const Lz=t=>2;function Ne(){const{isSignedIn:t,user:e,signOut:r}=je(),n=Ae(),a=qs().pathname,[o,l]=M.useState(0),[c,u]=M.useState(0);M.useEffect(()=>{if(e){const h=o8(e.id).length,p=Lz(e.id);l(h),u(p)}},[e]);const d=async()=>{try{await r(),n("/login")}catch(h){console.error("Error signing out:",h),n("/login")}},f=a.includes("/dashboard")||a.includes("/admin/dashboard")||a.includes("/developer/dashboard")||a.includes("/coordinator/dashboard")||a.includes("/client-portal/dashboard");return s.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:s.jsxs("div",{className:"container flex items-center justify-between py-4",children:[f?s.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-primary",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}):s.jsxs(G,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-primary hover:opacity-80 transition-opacity",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-6",children:t&&e&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:[e.role==="admin"&&"Admin",e.role==="web_developer"&&"Dev",e.role==="social_media_coordinator"&&"Coord",e.role==="client"&&"Client"]}),s.jsx("span",{className:"text-foreground/50",children:"|"})]})})}),s.jsx("div",{className:"flex items-center gap-4",children:t&&e?s.jsxs("div",{className:"flex items-center gap-4",children:[e.role==="admin"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Management Tools",children:s.jsxs("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(G,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"}),s.jsx(G,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),s.jsx(G,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Time Tracking"}),s.jsx(G,{to:"/reports",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Reports"}),s.jsx("div",{className:"border-t border-border my-2"}),s.jsx(G,{to:"/ai-insights",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" AI Insights"}),s.jsx(G,{to:"/integrations",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Integrations"}),s.jsx(G,{to:"/automation",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Automation"}),s.jsx(G,{to:"/templates",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Templates"})]})})]}),e.role==="web_developer"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Developer Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(G,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Time Tracking"}),s.jsx(G,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),s.jsx(G,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"})]})})]}),e.role==="social_media_coordinator"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Coordinator Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(G,{to:"/analytics",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Analytics"}),s.jsx(G,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Calendar"}),s.jsx(G,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Search"})]})})]}),e.role==="client"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Support Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v6m0 6v6m6-9h-6m-6 3H3m6 3h6"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(G,{to:"/client-portal/files",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Files"}),s.jsx(G,{to:"/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Messages"}),s.jsx(G,{to:"/client-portal/feedback",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition",children:" Feedback"})]})})]}),s.jsxs(G,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:o>99?"99+":o})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx("p",{className:"font-semibold text-foreground",children:e.fullName})}),s.jsx("button",{onClick:d,className:"btn-secondary text-sm",children:"Sign Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(G,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),s.jsx(G,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})})]})})}function Se(){const[t,e]=M.useState(!1),[r,n]=M.useState(!1),[i,a]=M.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"border-t border-border bg-muted py-12",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),s.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-primary",children:"Project Management"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-primary",children:"Ticketing System"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>n(!0),className:"hover:text-primary",children:"Privacy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>a(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),s.jsx("div",{className:"border-t border-border pt-8",children:s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2025 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),s.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Create an account with your assigned role"}),s.jsx("li",{children:"Access your role-specific dashboard"}),s.jsx("li",{children:"View assigned projects and tasks"}),s.jsx("li",{children:"Collaborate with your team members"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"View progress of your website through different stages"}),s.jsx("li",{children:"Create tickets for bug reports or content changes"}),s.jsx("li",{children:"Track analytics and social media performance"}),s.jsx("li",{children:"Communicate with your development team"}),s.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access all your assigned website projects"}),s.jsx("li",{children:"Update project stages as work progresses"}),s.jsx("li",{children:"Manage and resolve client tickets"}),s.jsx("li",{children:"Track time and deliverables"}),s.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports and monitor performance trends."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),s.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Never share your login credentials"}),s.jsx("li",{children:"Enable two-factor authentication when available"}),s.jsx("li",{children:"Log out from shared devices"}),s.jsx("li",{children:"Report suspicious activity immediately"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",s.jsx("br",{}),"Phone: +27 21 123 4567",s.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Team members assigned to the same projects"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>n(!1),className:"w-full btn-primary",children:"Close"})})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),s.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Update project stages accurately as work progresses"}),s.jsx("li",{children:"Respond to tickets within agreed timeframes"}),s.jsx("li",{children:"Submit accurate analytics data"}),s.jsx("li",{children:"Respect intellectual property rights"}),s.jsx("li",{children:"Maintain professional communication standards"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),s.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>a(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function Vz(){const{isSignedIn:t}=je();return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsxs("main",{className:"flex flex-col",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/10",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-500"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),s.jsx("div",{className:"absolute bottom-32 left-32 w-4 h-4 bg-secondary rounded-full animate-bounce delay-500"}),s.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-accent rounded-full animate-bounce delay-700"})]}),s.jsx("div",{className:"container text-center relative z-10 px-4 py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-8",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Welcome to the Future of Marketing Management"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-balance bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent leading-tight",children:["Manage Websites.",s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"Track Social Media."}),s.jsx("br",{}),s.jsx("span",{className:"text-primary",children:"Collaborate Better."})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Your complete project management platform for website development and social media coordination with team collaboration, real-time analytics, and intelligent ticketing."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(G,{to:t?"/dashboard":"/register",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[220px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(G,{to:"/login",className:"group border-2 border-primary/30 text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white hover:border-primary transition-all duration-300 transform hover:-translate-y-1 w-[220px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312265E' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Powerful Features"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"How Marketing Management Website Works"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Streamline your marketing operations with our comprehensive suite of tools designed for modern teams."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-primary transition-colors",children:"Team Collaboration"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently with real-time updates and notifications."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-primary/10 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-accent/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-accent transition-colors",children:"Project Tracking"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time with detailed analytics and status updates."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-accent to-primary rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/10 to-primary/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-secondary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-secondary transition-colors",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track website traffic and social media engagement. Get comprehensive insights into performance metrics with beautiful visualizations."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-secondary to-accent rounded-full"})})]})]})]}),s.jsx("div",{className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:[{icon:"",title:"Smart Ticketing",desc:"AI-powered ticket management"},{icon:"",title:"Mobile Ready",desc:"Access anywhere, anytime"},{icon:"",title:"Secure",desc:"Enterprise-grade security"},{icon:"",title:"Fast",desc:"Lightning-quick performance"}].map((e,r)=>s.jsxs("div",{className:"text-center p-6 rounded-xl bg-card/50 border border-border/50 hover:bg-card hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:"text-3xl mb-3",children:e.icon}),s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]},r))})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-background via-primary/5 to-secondary/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-primary/5 to-accent/5"})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Role-Based Experience"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent",children:"Built for Every Role"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tailored experiences designed specifically for each team member's workflow and responsibilities."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-3xl transform rotate-2 group-hover:rotate-3 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg",children:"Administrator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"System Administrator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Full system control with user management, project oversight, analytics access, and system configuration."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"User Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Analytics"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full Access"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary border border-primary/20",children:"Web Developer"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Web Developer"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Code, build, and deploy websites with ticket management, project tracking, and development tools."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ticket Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Repository"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deploy Tools"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-accent-dark/10 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-accent/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2m4 0H8l.5 16h7L16 4z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-accent/10 text-accent border border-accent/20",children:"Coordinator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Manage social media campaigns, track engagement metrics, and coordinate content across platforms."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Campaign Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analytics Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Content Calendar"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/10 to-success-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-success/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-success to-success-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-success/10 text-success border border-success/20",children:"Client"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Client Portal"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"View project progress, submit feedback, create support tickets, and communicate directly with your team."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Project Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"File Sharing"]})]})]})]})]})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary via-primary-dark to-primary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:s.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"white",opacity:"0.1"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#pattern)"})]})}),s.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsx("div",{className:"container text-center relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 border border-white/20 text-white text-sm font-medium mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Start Your Journey Today"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-white leading-tight",children:["Ready to Transform Your",s.jsx("br",{}),s.jsx("span",{className:"text-accent",children:"Marketing Workflow?"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of teams already managing their websites and social media campaigns more efficiently with our comprehensive marketing management platform."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(G,{to:t?"/dashboard":"/register",className:"group relative bg-white text-primary px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[240px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(G,{to:"/login",className:"group border-2 border-white/30 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white/10 hover:border-white transition-all duration-300 transform hover:-translate-y-1 backdrop-blur-sm w-[240px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})})]})]}),s.jsx(Se,{})]})}let Fz=0;const B4=()=>{const[t,e]=M.useState([]);return{toasts:t,showToast:(n,i="info")=>{const a=String(Fz++),o={id:a,message:n,type:i};e(l=>[...l,o]),setTimeout(()=>{e(l=>l.filter(c=>c.id!==a))},3e3)}}};function U4({toasts:t}){return s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>s.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function Bz(){const t=Ae(),e=qs(),{toasts:r,showToast:n}=B4(),{signIn:i,loading:a,isSignedIn:o}=je(),[l,c]=M.useState(""),[u,d]=M.useState(""),[f,h]=M.useState(!1),p=new URLSearchParams(e.search).get("portal")==="client";M.useEffect(()=>{o&&!a&&t("/dashboard")},[o,a,t]);const v=async x=>{if(x.preventDefault(),!l||!u){n("Please fill in all fields","error");return}h(!0);try{await i(l,u),n("Signing in...","success")}catch(y){let g="Failed to sign in. Please try again.";y.message&&(y.message.includes("auth/user-not-found")||y.message.includes("auth/wrong-password")?g="Invalid email or password":y.message.includes("auth/invalid-email")?g="Invalid email address":y.message.includes("auth/too-many-requests")?g="Too many failed attempts. Please try again later.":y.message.includes("auth/user-disabled")?g="This account has been disabled":g=y.message),n(g,"error")}finally{h(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:p?"Client Portal":"Sign In"}),s.jsx("p",{className:"text-muted-foreground",children:p?"Welcome Back - Access your project updates and files":"Access your Marketing Management Website account"})]}),s.jsxs("div",{className:"card",children:[!p&&s.jsxs("div",{className:"mb-6 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-primary mb-2",children:"Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Administrator:"})," admin@system.com / admin123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Web Developer:"})," dev@system.com / dev123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Web Developer:"})," jane.dev@system.com / dev123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Social Media Coordinator:"})," social@system.com / social123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]})]}),p&&s.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-accent mb-2",children:"Client Portal Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-accent/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]}),s.jsx("p",{className:"text-xs text-accent/60 mt-2",children:"Don't have access? Contact support"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:l,onChange:x=>c(x.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:u,onChange:x=>d(x.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"remember",type:"checkbox",className:"rounded"}),s.jsx("label",{htmlFor:"remember",className:"text-sm text-foreground",children:"Remember me"})]}),s.jsx(G,{to:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:f||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f||a?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[s.jsx("span",{children:""})," Continue with Google"]})}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(G,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]}),p&&s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:s.jsx(G,{to:"/",className:"text-primary font-semibold hover:underline",children:" Back to Main Site"})})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("span",{className:"text-lg",children:" Secure"}),s.jsx("span",{className:"text-lg",children:" Collaborative"}),s.jsx("span",{className:"text-lg",children:" Efficient"})]})]})]})}),s.jsx(U4,{toasts:r}),s.jsx(Se,{})]})}function Uz(){const t=Ae(),{toasts:e,showToast:r}=B4(),{signUp:n,isSignedIn:i,loading:a}=je(),[o,l]=M.useState("client"),[c,u]=M.useState(""),[d,f]=M.useState(""),[h,p]=M.useState(""),[v,x]=M.useState(""),[y,g]=M.useState(""),[w,b]=M.useState(!1),[T,j]=M.useState(!1),[A,S]=M.useState(!1),[_,E]=M.useState(!1);M.useEffect(()=>{i&&!a&&t("/dashboard")},[i,a,t]);const O=async I=>{if(I.preventDefault(),!c||!d||!h||!v||!y){r("Please fill in all fields","error");return}if(v!==y){r("Passwords do not match","error");return}if(v.length<6){r("Password must be at least 6 characters","error");return}if(!w){r("Please agree to terms and conditions","error");return}E(!0);try{await n({email:d,password:v,fullName:c,phone:h,role:o}),r("Account created successfully!","success")}catch(C){r(C.message||"Failed to create account","error")}finally{E(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted py-12",children:s.jsxs("div",{className:"container max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>l("client"),className:`p-6 rounded-lg border-2 transition text-center ${o==="client"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),s.jsxs("button",{onClick:()=>l("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${o==="web_developer"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),s.jsxs("button",{onClick:()=>l("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${o==="social_media_coordinator"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:d,onChange:I=>f(I.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:h,onChange:I=>p(I.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{type:"password",value:v,onChange:I=>x(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",value:y,onChange:I=>g(I.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:w,onChange:I=>b(I.target.checked),className:"mt-1"}),s.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",s.jsx("button",{type:"button",onClick:()=>j(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",onClick:()=>S(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),s.jsx("button",{type:"submit",disabled:_||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(G,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),s.jsx(U4,{toasts:e}),T&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),s.jsx("button",{onClick:()=>j(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>j(!1),className:"w-full btn-primary",children:"Close"})})]})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>S(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Payment processors to complete transactions"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>S(!1),className:"w-full btn-primary",children:"Close"})})]})}),s.jsx(Se,{})]})}function zz(){const{isSignedIn:t,user:e,loading:r}=je(),n=Ae();return M.useEffect(()=>{if(!r){if(!t){n("/login");return}if(e)switch(e.role){case"admin":n("/admin/dashboard");break;case"web_developer":n("/developer/dashboard");break;case"social_media_coordinator":n("/coordinator/dashboard");break;case"client":n("/client-portal/dashboard");break;default:n("/")}}},[t,e,r,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function z4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=z4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ve(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=z4(t))&&(n&&(n+=" "),n+=e);return n}const Wj="-",Wz=t=>{const e=qz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Wj);return l[0]===""&&l.length!==1&&l.shift(),W4(l,e)||Hz(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},W4=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?W4(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Wj);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},VS=/^\[(.+)\]$/,Hz=t=>{if(VS.test(t)){const e=VS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},qz=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Kz(Object.entries(t.classGroups),r).forEach(([a,o])=>{Nb(o,n,a,e)}),n},Nb=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:FS(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Gz(i)){Nb(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Nb(o,FS(e,a),r,n)})})},FS=(t,e)=>{let r=t;return e.split(Wj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gz=t=>t.isThemeGetter,Kz=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,Yz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},H4="!",Xz=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let g=l[y];if(u===0){if(g===i&&(n||l.slice(y,y+a)===e)){c.push(l.slice(d,y)),d=y+a;continue}if(g==="/"){f=y;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(H4),v=p?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},Qz=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Jz=t=>({cache:Yz(t.cacheSize),parseClassName:Xz(t),...Wz(t)}),Zz=/\s+/,eW=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Zz);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,x=n(v?h.substring(0,p):h);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const y=Qz(d).join(":"),g=f?y+H4:y,w=g+x;if(a.includes(w))continue;a.push(w);const b=i(x,v);for(let T=0;T<b.length;++T){const j=b[T];a.push(g+j)}l=u+(l.length>0?" "+l:l)}return l};function tW(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=q4(e))&&(n&&(n+=" "),n+=r);return n}const q4=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=q4(t[n]))&&(r&&(r+=" "),r+=e);return r};function rW(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=Jz(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eW(c,r);return i(c,d),d}return function(){return a(tW.apply(null,arguments))}}const tt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},G4=/^\[(?:([a-z-]+):)?(.+)\]$/i,nW=/^\d+\/\d+$/,iW=new Set(["px","full","screen"]),sW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=t=>Qo(t)||iW.has(t)||nW.test(t),Zi=t=>rc(t,"length",yW),Qo=t=>!!t&&!Number.isNaN(Number(t)),xv=t=>rc(t,"number",Qo),Fc=t=>!!t&&Number.isInteger(Number(t)),uW=t=>t.endsWith("%")&&Qo(t.slice(0,-1)),be=t=>G4.test(t),es=t=>sW.test(t),dW=new Set(["length","size","percentage"]),fW=t=>rc(t,dW,K4),hW=t=>rc(t,"position",K4),mW=new Set(["image","url"]),pW=t=>rc(t,mW,xW),gW=t=>rc(t,"",vW),Bc=()=>!0,rc=(t,e,r)=>{const n=G4.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yW=t=>aW.test(t)&&!oW.test(t),K4=()=>!1,vW=t=>lW.test(t),xW=t=>cW.test(t),bW=()=>{const t=tt("colors"),e=tt("spacing"),r=tt("blur"),n=tt("brightness"),i=tt("borderColor"),a=tt("borderRadius"),o=tt("borderSpacing"),l=tt("borderWidth"),c=tt("contrast"),u=tt("grayscale"),d=tt("hueRotate"),f=tt("invert"),h=tt("gap"),p=tt("gradientColorStops"),v=tt("gradientColorStopPositions"),x=tt("inset"),y=tt("margin"),g=tt("opacity"),w=tt("padding"),b=tt("saturate"),T=tt("scale"),j=tt("sepia"),A=tt("skew"),S=tt("space"),_=tt("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",be,e],C=()=>[be,e],P=()=>["",oi,Zi],L=()=>["auto",Qo,be],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",be],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Qo,be];return{cacheSize:500,separator:":",theme:{colors:[Bc],spacing:[oi,Zi],blur:["none","",es,be],brightness:ee(),borderColor:[t],borderRadius:["none","","full",es,be],borderSpacing:C(),borderWidth:P(),contrast:ee(),grayscale:U(),hueRotate:ee(),invert:U(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[uW,Zi],inset:I(),margin:I(),opacity:ee(),padding:C(),saturate:ee(),scale:ee(),sepia:U(),skew:ee(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",be]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),be]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fc,be]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",be]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Fc,be]}],"grid-cols":[{"grid-cols":[Bc]}],"col-start-end":[{col:["auto",{span:["full",Fc,be]},be]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Bc]}],"row-start-end":[{row:["auto",{span:[Fc,be]},be]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",be]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",be,e]}],"min-w":[{"min-w":[be,e,"min","max","fit"]}],"max-w":[{"max-w":[be,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xv]}],"font-family":[{font:[Bc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",be]}],"line-clamp":[{"line-clamp":["none",Qo,xv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,be]}],"list-image":[{"list-image":["none",be]}],"list-style-type":[{list:["none","disc","decimal",be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,Zi]}],"underline-offset":[{"underline-offset":["auto",oi,be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),hW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[oi,be]}],"outline-w":[{outline:[oi,Zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[oi,Zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,gW]}],"shadow-color":[{shadow:[Bc]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",es,be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",be]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",be]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Fc,be]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[oi,Zi,xv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wW=rW(bW);function jW(...t){return wW(ve(t))}function Y4(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function Mn(t){const e=typeof t=="string"?new Date(t):t,n=new Date().getTime()-e.getTime(),i=Math.floor(n/6e4),a=Math.floor(n/36e5),o=Math.floor(n/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:o<30?`${o} day${o>1?"s":""} ago`:Y4(e)}function X4(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _W(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function NW(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-primary/10 text-primary border-primary/20",social_media_coordinator:"bg-accent/10 text-accent border-accent/20",client:"bg-success/10 text-success border-success/20"}[t]}function Bs(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",launch:"Launch",maintenance:"Maintenance"}[t]}function Q4(t){return{planning:16.67,design:33.33,development:50,testing:66.67,launch:83.33,maintenance:100}[t]}function J4(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function SW(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||X4(t)}function AW(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function TW(t){return X4(t)}function EW(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function uu(t){return new Intl.NumberFormat("en-ZA").format(t)}function kW(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function mr({title:t,value:e,icon:r,trend:n,className:i=""}){return s.jsx("div",{className:`bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8 shadow-sm hover:shadow-md transition-all duration-200 ${i}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide mb-2",children:t}),s.jsx("p",{className:"text-3xl lg:text-4xl font-bold text-foreground leading-none",children:typeof e=="number"?uu(e):e}),n&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n.isPositive?"bg-success/10 text-success-foreground":"bg-destructive/10 text-destructive-foreground"}`,children:[n.isPositive?"":""," ",Math.abs(n.value),"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),r&&s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx("div",{className:"text-primary w-6 h-6",children:r})})]})})}function Or({status:t,className:e=""}){return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${J4(t)} ${e}`,children:SW(t)})}function nc({priority:t,className:e=""}){const r={low:"",medium:"",high:"",critical:""}[t];return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${AW(t)} ${e}`,children:[s.jsx("span",{children:r}),TW(t)]})}function ch({className:t}){return s.jsx("div",{className:jW("animate-pulse rounded-md bg-muted",t)})}function uh(){return s.jsx("div",{className:"bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ch,{className:"h-4 w-24 mb-2"}),s.jsx(ch,{className:"h-8 w-16 mb-3"}),s.jsx(ch,{className:"h-4 w-20"})]}),s.jsx(ch,{className:"w-12 h-12 rounded-lg"})]})})}var PW=Array.isArray,Dr=PW,IW=typeof Vf=="object"&&Vf&&Vf.Object===Object&&Vf,Z4=IW,CW=Z4,OW=typeof self=="object"&&self&&self.Object===Object&&self,MW=CW||OW||Function("return this")(),ii=MW,DW=ii,RW=DW.Symbol,gf=RW,BS=gf,eM=Object.prototype,$W=eM.hasOwnProperty,LW=eM.toString,Uc=BS?BS.toStringTag:void 0;function VW(t){var e=$W.call(t,Uc),r=t[Uc];try{t[Uc]=void 0;var n=!0}catch{}var i=LW.call(t);return n&&(e?t[Uc]=r:delete t[Uc]),i}var FW=VW,BW=Object.prototype,UW=BW.toString;function zW(t){return UW.call(t)}var WW=zW,US=gf,HW=FW,qW=WW,GW="[object Null]",KW="[object Undefined]",zS=US?US.toStringTag:void 0;function YW(t){return t==null?t===void 0?KW:GW:zS&&zS in Object(t)?HW(t):qW(t)}var Fi=YW;function XW(t){return t!=null&&typeof t=="object"}var Bi=XW,QW=Fi,JW=Bi,ZW="[object Symbol]";function eH(t){return typeof t=="symbol"||JW(t)&&QW(t)==ZW}var ic=eH,tH=Dr,rH=ic,nH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iH=/^\w*$/;function sH(t,e){if(tH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||rH(t)?!0:iH.test(t)||!nH.test(t)||e!=null&&t in Object(e)}var Hj=sH;function aH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xs=aH;const sc=Ue(Xs);var oH=Fi,lH=Xs,cH="[object AsyncFunction]",uH="[object Function]",dH="[object GeneratorFunction]",fH="[object Proxy]";function hH(t){if(!lH(t))return!1;var e=oH(t);return e==uH||e==dH||e==cH||e==fH}var qj=hH;const he=Ue(qj);var mH=ii,pH=mH["__core-js_shared__"],gH=pH,bv=gH,WS=function(){var t=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yH(t){return!!WS&&WS in t}var vH=yH,xH=Function.prototype,bH=xH.toString;function wH(t){if(t!=null){try{return bH.call(t)}catch{}try{return t+""}catch{}}return""}var tM=wH,jH=qj,_H=vH,NH=Xs,SH=tM,AH=/[\\^$.*+?()[\]{}|]/g,TH=/^\[object .+?Constructor\]$/,EH=Function.prototype,kH=Object.prototype,PH=EH.toString,IH=kH.hasOwnProperty,CH=RegExp("^"+PH.call(IH).replace(AH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OH(t){if(!NH(t)||_H(t))return!1;var e=jH(t)?CH:TH;return e.test(SH(t))}var MH=OH;function DH(t,e){return t==null?void 0:t[e]}var RH=DH,$H=MH,LH=RH;function VH(t,e){var r=LH(t,e);return $H(r)?r:void 0}var eo=VH,FH=eo,BH=FH(Object,"create"),Ng=BH,HS=Ng;function UH(){this.__data__=HS?HS(null):{},this.size=0}var zH=UH;function WH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var HH=WH,qH=Ng,GH="__lodash_hash_undefined__",KH=Object.prototype,YH=KH.hasOwnProperty;function XH(t){var e=this.__data__;if(qH){var r=e[t];return r===GH?void 0:r}return YH.call(e,t)?e[t]:void 0}var QH=XH,JH=Ng,ZH=Object.prototype,eq=ZH.hasOwnProperty;function tq(t){var e=this.__data__;return JH?e[t]!==void 0:eq.call(e,t)}var rq=tq,nq=Ng,iq="__lodash_hash_undefined__";function sq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nq&&e===void 0?iq:e,this}var aq=sq,oq=zH,lq=HH,cq=QH,uq=rq,dq=aq;function ac(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ac.prototype.clear=oq;ac.prototype.delete=lq;ac.prototype.get=cq;ac.prototype.has=uq;ac.prototype.set=dq;var fq=ac;function hq(){this.__data__=[],this.size=0}var mq=hq;function pq(t,e){return t===e||t!==t&&e!==e}var Gj=pq,gq=Gj;function yq(t,e){for(var r=t.length;r--;)if(gq(t[r][0],e))return r;return-1}var Sg=yq,vq=Sg,xq=Array.prototype,bq=xq.splice;function wq(t){var e=this.__data__,r=vq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():bq.call(e,r,1),--this.size,!0}var jq=wq,_q=Sg;function Nq(t){var e=this.__data__,r=_q(e,t);return r<0?void 0:e[r][1]}var Sq=Nq,Aq=Sg;function Tq(t){return Aq(this.__data__,t)>-1}var Eq=Tq,kq=Sg;function Pq(t,e){var r=this.__data__,n=kq(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Iq=Pq,Cq=mq,Oq=jq,Mq=Sq,Dq=Eq,Rq=Iq;function oc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}oc.prototype.clear=Cq;oc.prototype.delete=Oq;oc.prototype.get=Mq;oc.prototype.has=Dq;oc.prototype.set=Rq;var Ag=oc,$q=eo,Lq=ii,Vq=$q(Lq,"Map"),Kj=Vq,qS=fq,Fq=Ag,Bq=Kj;function Uq(){this.size=0,this.__data__={hash:new qS,map:new(Bq||Fq),string:new qS}}var zq=Uq;function Wq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Hq=Wq,qq=Hq;function Gq(t,e){var r=t.__data__;return qq(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Tg=Gq,Kq=Tg;function Yq(t){var e=Kq(this,t).delete(t);return this.size-=e?1:0,e}var Xq=Yq,Qq=Tg;function Jq(t){return Qq(this,t).get(t)}var Zq=Jq,eG=Tg;function tG(t){return eG(this,t).has(t)}var rG=tG,nG=Tg;function iG(t,e){var r=nG(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var sG=iG,aG=zq,oG=Xq,lG=Zq,cG=rG,uG=sG;function lc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lc.prototype.clear=aG;lc.prototype.delete=oG;lc.prototype.get=lG;lc.prototype.has=cG;lc.prototype.set=uG;var Yj=lc,rM=Yj,dG="Expected a function";function Xj(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dG);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Xj.Cache||rM),r}Xj.Cache=rM;var nM=Xj;const fG=Ue(nM);var hG=nM,mG=500;function pG(t){var e=hG(t,function(n){return r.size===mG&&r.clear(),n}),r=e.cache;return e}var gG=pG,yG=gG,vG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xG=/\\(\\)?/g,bG=yG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(vG,function(r,n,i,a){e.push(i?a.replace(xG,"$1"):n||r)}),e}),wG=bG;function jG(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Qj=jG,GS=gf,_G=Qj,NG=Dr,SG=ic,KS=GS?GS.prototype:void 0,YS=KS?KS.toString:void 0;function iM(t){if(typeof t=="string")return t;if(NG(t))return _G(t,iM)+"";if(SG(t))return YS?YS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var AG=iM,TG=AG;function EG(t){return t==null?"":TG(t)}var sM=EG,kG=Dr,PG=Hj,IG=wG,CG=sM;function OG(t,e){return kG(t)?t:PG(t,e)?[t]:IG(CG(t))}var aM=OG,MG=ic;function DG(t){if(typeof t=="string"||MG(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Eg=DG,RG=aM,$G=Eg;function LG(t,e){e=RG(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[$G(e[r++])];return r&&r==n?t:void 0}var Jj=LG,VG=Jj;function FG(t,e,r){var n=t==null?void 0:VG(t,e);return n===void 0?r:n}var oM=FG;const Hr=Ue(oM);function BG(t){return t==null}var UG=BG;const pe=Ue(UG);var zG=Fi,WG=Dr,HG=Bi,qG="[object String]";function GG(t){return typeof t=="string"||!WG(t)&&HG(t)&&zG(t)==qG}var KG=GG;const Ba=Ue(KG);var lM={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=Symbol.for("react.element"),e1=Symbol.for("react.portal"),kg=Symbol.for("react.fragment"),Pg=Symbol.for("react.strict_mode"),Ig=Symbol.for("react.profiler"),Cg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),YG=Symbol.for("react.server_context"),Mg=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Rg=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),Lg=Symbol.for("react.lazy"),XG=Symbol.for("react.offscreen"),cM;cM=Symbol.for("react.module.reference");function gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Zj:switch(t=t.type,t){case kg:case Ig:case Pg:case Dg:case Rg:return t;default:switch(t=t&&t.$$typeof,t){case YG:case Og:case Mg:case Lg:case $g:case Cg:return t;default:return e}}case e1:return e}}}ze.ContextConsumer=Og;ze.ContextProvider=Cg;ze.Element=Zj;ze.ForwardRef=Mg;ze.Fragment=kg;ze.Lazy=Lg;ze.Memo=$g;ze.Portal=e1;ze.Profiler=Ig;ze.StrictMode=Pg;ze.Suspense=Dg;ze.SuspenseList=Rg;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return gn(t)===Og};ze.isContextProvider=function(t){return gn(t)===Cg};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zj};ze.isForwardRef=function(t){return gn(t)===Mg};ze.isFragment=function(t){return gn(t)===kg};ze.isLazy=function(t){return gn(t)===Lg};ze.isMemo=function(t){return gn(t)===$g};ze.isPortal=function(t){return gn(t)===e1};ze.isProfiler=function(t){return gn(t)===Ig};ze.isStrictMode=function(t){return gn(t)===Pg};ze.isSuspense=function(t){return gn(t)===Dg};ze.isSuspenseList=function(t){return gn(t)===Rg};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kg||t===Ig||t===Pg||t===Dg||t===Rg||t===XG||typeof t=="object"&&t!==null&&(t.$$typeof===Lg||t.$$typeof===$g||t.$$typeof===Cg||t.$$typeof===Og||t.$$typeof===Mg||t.$$typeof===cM||t.getModuleId!==void 0)};ze.typeOf=gn;lM.exports=ze;var QG=lM.exports,JG=Fi,ZG=Bi,eK="[object Number]";function tK(t){return typeof t=="number"||ZG(t)&&JG(t)==eK}var uM=tK;const rK=Ue(uM);var nK=uM;function iK(t){return nK(t)&&t!=+t}var sK=iK;const yf=Ue(sK);var xr=function(e){return e===0?0:e>0?1:-1},ba=function(e){return Ba(e)&&e.indexOf("%")===e.length-1},Z=function(e){return rK(e)&&!yf(e)},aK=function(e){return pe(e)},Lt=function(e){return Z(e)||Ba(e)},oK=0,cc=function(e){var r=++oK;return"".concat(e||"").concat(r)},br=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(e)&&!Ba(e))return n;var a;if(ba(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return yf(a)&&(a=n),i&&a>r&&(a=r),a},ds=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},lK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Br=function(e,r){return Z(e)&&Z(r)?function(n){return e+n*(r-e)}:function(){return r}};function Vm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Hr(n,e))===r})}var cK=function(e,r){return Z(e)&&Z(r)?e-r:Ba(e)&&Ba(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Jo(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}var uK=["viewBox","children"],dK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XS=["points","pathLength"],wv={svg:uK,polygon:XS,polyline:XS},t1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Fm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(M.isValidElement(e)&&(n=e.props),!sc(n))return null;var i={};return Object.keys(n).forEach(function(a){t1.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},fK=function(e,r,n){return function(i){return e(r,n,i),null}},Ua=function(e,r,n){if(!sc(e)||Sb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];t1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=fK(o,r,n))}),i},hK=["children"],mK=["children"];function QS(t,e){if(t==null)return{};var r=pK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var JS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ji=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ZS=null,jv=null,r1=function t(e){if(e===ZS&&Array.isArray(jv))return jv;var r=[];return M.Children.forEach(e,function(n){pe(n)||(QG.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),jv=r,ZS=e,r};function qr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ji(i)}):n=[ji(e)],r1(t).forEach(function(i){var a=Hr(i,"type.displayName")||Hr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Fr(t,e){var r=qr(t,e);return r&&r[0]}var eA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Z(n)||n<=0||!Z(i)||i<=0)},gK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yK=function(e){return e&&e.type&&Ba(e.type)&&gK.indexOf(e.type)>=0},vK=function(e){return e&&Ab(e)==="object"&&"clipDot"in e},xK=function(e,r,n,i){var a,o=(a=wv==null?void 0:wv[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!he(e)&&(i&&o.includes(r)||dK.includes(r))||n&&t1.includes(r)},le=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!sc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;xK((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},Tb=function t(e,r){if(e===r)return!0;var n=M.Children.count(e);if(n!==M.Children.count(r))return!1;if(n===0)return!0;if(n===1)return tA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!tA(a,o))return!1}return!0},tA=function(e,r){if(pe(e)&&pe(r))return!0;if(!pe(e)&&!pe(r)){var n=e.props||{},i=n.children,a=QS(n,hK),o=r.props||{},l=o.children,c=QS(o,mK);return i&&l?Jo(a,c)&&Tb(i,l):!i&&!l?Jo(a,c):!1}return!1},rA=function(e,r){var n=[],i={};return r1(e).forEach(function(a,o){if(yK(a))n.push(a);else if(a){var l=ji(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);n.push(f),i[l]=!0}}}),n},bK=function(e){var r=e&&e.type;return r&&JS[r]?JS[r]:null},wK=function(e,r){return r1(r).indexOf(e)},jK=["children","width","height","viewBox","className","style","title","desc"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eb.apply(this,arguments)}function _K(t,e){if(t==null)return{};var r=NK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kb(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=_K(t,jK),d=i||{width:r,height:n,x:0,y:0},f=ve("recharts-surface",a);return $.createElement("svg",Eb({},le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),e)}var SK=["children","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pb.apply(this,arguments)}function AK(t,e){if(t==null)return{};var r=TK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var De=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=AK(t,SK),a=ve("recharts-layer",n);return $.createElement("g",Pb({className:a},le(i,!0),{ref:e}),r)}),In=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function EK(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var kK=EK,PK=kK;function IK(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:PK(t,e,r)}var CK=IK,OK="\\ud800-\\udfff",MK="\\u0300-\\u036f",DK="\\ufe20-\\ufe2f",RK="\\u20d0-\\u20ff",$K=MK+DK+RK,LK="\\ufe0e\\ufe0f",VK="\\u200d",FK=RegExp("["+VK+OK+$K+LK+"]");function BK(t){return FK.test(t)}var dM=BK;function UK(t){return t.split("")}var zK=UK,fM="\\ud800-\\udfff",WK="\\u0300-\\u036f",HK="\\ufe20-\\ufe2f",qK="\\u20d0-\\u20ff",GK=WK+HK+qK,KK="\\ufe0e\\ufe0f",YK="["+fM+"]",Ib="["+GK+"]",Cb="\\ud83c[\\udffb-\\udfff]",XK="(?:"+Ib+"|"+Cb+")",hM="[^"+fM+"]",mM="(?:\\ud83c[\\udde6-\\uddff]){2}",pM="[\\ud800-\\udbff][\\udc00-\\udfff]",QK="\\u200d",gM=XK+"?",yM="["+KK+"]?",JK="(?:"+QK+"(?:"+[hM,mM,pM].join("|")+")"+yM+gM+")*",ZK=yM+gM+JK,eY="(?:"+[hM+Ib+"?",Ib,mM,pM,YK].join("|")+")",tY=RegExp(Cb+"(?="+Cb+")|"+eY+ZK,"g");function rY(t){return t.match(tY)||[]}var nY=rY,iY=zK,sY=dM,aY=nY;function oY(t){return sY(t)?aY(t):iY(t)}var lY=oY,cY=CK,uY=dM,dY=lY,fY=sM;function hY(t){return function(e){e=fY(e);var r=uY(e)?dY(e):void 0,n=r?r[0]:e.charAt(0),i=r?cY(r,1).join(""):e.slice(1);return n[t]()+i}}var mY=hY,pY=mY,gY=pY("toUpperCase"),yY=gY;const Vg=Ue(yY);function Xe(t){return function(){return t}}const vM=Math.cos,Bm=Math.sin,Dn=Math.sqrt,Um=Math.PI,Fg=2*Um,Ob=Math.PI,Mb=2*Ob,da=1e-6,vY=Mb-da;function xM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function xY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xM:xY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>da)if(!(Math.abs(f*c-u*d)>da)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-l,x=c*c+u*u,y=p*p+v*v,g=Math.sqrt(x),w=Math.sqrt(h),b=a*Math.tan((Ob-Math.acos((x+h-y)/(2*g*w)))/2),T=b/w,j=b/g;Math.abs(T-1)>da&&this._append`L${e+T*d},${r+T*f}`,this._append`A${a},${a},0,0,${+(f*p>d*v)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>da||Math.abs(this._y1-d)>da)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Mb+Mb),h>vY?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>da&&this._append`A${n},${n},0,${+(h>=Ob)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function n1(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bY(e)}function i1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bM(t){this._context=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bg(t){return new bM(t)}function wM(t){return t[0]}function jM(t){return t[1]}function _M(t,e){var r=Xe(!0),n=null,i=Bg,a=null,o=n1(l);t=typeof t=="function"?t:t===void 0?wM:Xe(t),e=typeof e=="function"?e:e===void 0?jM:Xe(e);function l(c){var u,d=(c=i1(c)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function dh(t,e,r){var n=null,i=Xe(!0),a=null,o=Bg,l=null,c=n1(u);t=typeof t=="function"?t:t===void 0?wM:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jM:Xe(+r);function u(f){var h,p,v,x=(f=i1(f)).length,y,g=!1,w,b=new Array(x),T=new Array(x);for(a==null&&(l=o(w=c())),h=0;h<=x;++h){if(!(h<x&&i(y=f[h],h,f))===g)if(g=!g)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(b[v],T[v]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+t(y,h,f),T[h]=+e(y,h,f),l.point(n?+n(y,h,f):b[h],r?+r(y,h,f):T[h]))}if(w)return l=null,w+""||null}function d(){return _M().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Xe(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Xe(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Xe(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Xe(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Xe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class NM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wY(t){return new NM(t,!0)}function jY(t){return new NM(t,!1)}const s1={draw(t,e){const r=Dn(e/Um);t.moveTo(r,0),t.arc(0,0,r,0,Fg)}},_Y={draw(t,e){const r=Dn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},SM=Dn(1/3),NY=SM*2,SY={draw(t,e){const r=Dn(e/NY),n=r*SM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},AY={draw(t,e){const r=Dn(e),n=-r/2;t.rect(n,n,r,r)}},TY=.8908130915292852,AM=Bm(Um/10)/Bm(7*Um/10),EY=Bm(Fg/10)*AM,kY=-vM(Fg/10)*AM,PY={draw(t,e){const r=Dn(e*TY),n=EY*r,i=kY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Fg*a/5,l=vM(o),c=Bm(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},_v=Dn(3),IY={draw(t,e){const r=-Dn(e/(_v*3));t.moveTo(0,r*2),t.lineTo(-_v*r,-r),t.lineTo(_v*r,-r),t.closePath()}},Jr=-.5,Zr=Dn(3)/2,Db=1/Dn(12),CY=(Db/2+1)*3,OY={draw(t,e){const r=Dn(e/CY),n=r/2,i=r*Db,a=n,o=r*Db+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Jr*n-Zr*i,Zr*n+Jr*i),t.lineTo(Jr*a-Zr*o,Zr*a+Jr*o),t.lineTo(Jr*l-Zr*c,Zr*l+Jr*c),t.lineTo(Jr*n+Zr*i,Jr*i-Zr*n),t.lineTo(Jr*a+Zr*o,Jr*o-Zr*a),t.lineTo(Jr*l+Zr*c,Jr*c-Zr*l),t.closePath()}};function MY(t,e){let r=null,n=n1(i);t=typeof t=="function"?t:Xe(t||s1),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function zm(){}function Wm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function TM(t){this._context=t}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DY(t){return new TM(t)}function EM(t){this._context=t}EM.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function RY(t){return new EM(t)}function kM(t){this._context=t}kM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Y(t){return new kM(t)}function PM(t){this._context=t}PM.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function LY(t){return new PM(t)}function nA(t){return t<0?-1:1}function iA(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(nA(a)+nA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function sA(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Nv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Hm(t){this._context=t}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nv(this,this._t0,sA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nv(this,sA(this,r=iA(this,t,e)),r);break;default:Nv(this,this._t0,r=iA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function IM(t){this._context=new CM(t)}(IM.prototype=Object.create(Hm.prototype)).point=function(t,e){Hm.prototype.point.call(this,e,t)};function CM(t){this._context=t}CM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function VY(t){return new Hm(t)}function FY(t){return new IM(t)}function OM(t){this._context=t}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=aA(t),i=aA(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aA(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function BY(t){return new OM(t)}function Ug(t,e){this._context=t,this._t=e}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function UY(t){return new Ug(t,.5)}function zY(t){return new Ug(t,0)}function WY(t){return new Ug(t,1)}function pl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Rb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function HY(t,e){return t[e]}function qY(t){const e=[];return e.key=t,e}function GY(){var t=Xe([]),e=Rb,r=pl,n=HY;function i(a){var o=Array.from(t.apply(this,arguments),qY),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=i1(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Xe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Rb:typeof a=="function"?a:Xe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??pl,i):r},i}function KY(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pl(t,e)}}function YY(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pl(t,e)}}function XY(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var x=t[e[v]],y=x[n][1]||0,g=x[n-1][1]||0;p+=y-g}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,pl(t,e)}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var QY=["type","size","sizeType"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$b.apply(this,arguments)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){JY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JY(t,e,r){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZY(t){var e=eX(t,"string");return hd(e)=="symbol"?e:e+""}function eX(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tX(t,e){if(t==null)return{};var r=rX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MM={symbolCircle:s1,symbolCross:_Y,symbolDiamond:SY,symbolSquare:AY,symbolStar:PY,symbolTriangle:IY,symbolWye:OY},nX=Math.PI/180,iX=function(e){var r="symbol".concat(Vg(e));return MM[r]||s1},sX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*nX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aX=function(e,r){MM["symbol".concat(Vg(e))]=r},a1=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=tX(e,QY),u=lA(lA({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=iX(n),g=MY().type(y).size(sX(a,l,n));return g()},f=u.className,h=u.cx,p=u.cy,v=le(u,!0);return h===+h&&p===+p&&a===+a?$.createElement("path",$b({},v,{className:ve("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};a1.registerSymbol=aX;function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RM(n.key),n)}}function uX(t,e,r){return e&&cX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dX(t,e,r){return e=qm(e),fX(t,DM()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function fX(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hX(t)}function hX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DM=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function mX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vb(t,e)}function md(t,e,r){return e=RM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RM(t){var e=pX(t,"string");return gl(e)=="symbol"?e:e+""}function pX(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var en=32,o1=function(t){function e(){return lX(this,e),dX(this,e,arguments)}return mX(e,t),uX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=en/2,o=en/6,l=en/3,c=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:en,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(en,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(en/8,"h").concat(en,"v").concat(en*3/4,"h").concat(-en,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=oX({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(a1,{fill:c,cx:a,cy:a,size:en,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:en,height:en},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var x=p.formatter||c,y=ve(md(md({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=he(p.value)?null:p.value;In(!he(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return $.createElement("li",Lb({className:y,style:f,key:"legend-item-".concat(v)},Ua(n.props,p,v)),$.createElement(kb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},x?x(g,p,v):g))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(M.PureComponent);md(o1,"displayName","Legend");md(o1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gX=Ag;function yX(){this.__data__=new gX,this.size=0}var vX=yX;function xX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var bX=xX;function wX(t){return this.__data__.get(t)}var jX=wX;function _X(t){return this.__data__.has(t)}var NX=_X,SX=Ag,AX=Kj,TX=Yj,EX=200;function kX(t,e){var r=this.__data__;if(r instanceof SX){var n=r.__data__;if(!AX||n.length<EX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new TX(n)}return r.set(t,e),this.size=r.size,this}var PX=kX,IX=Ag,CX=vX,OX=bX,MX=jX,DX=NX,RX=PX;function uc(t){var e=this.__data__=new IX(t);this.size=e.size}uc.prototype.clear=CX;uc.prototype.delete=OX;uc.prototype.get=MX;uc.prototype.has=DX;uc.prototype.set=RX;var $M=uc,$X="__lodash_hash_undefined__";function LX(t){return this.__data__.set(t,$X),this}var VX=LX;function FX(t){return this.__data__.has(t)}var BX=FX,UX=Yj,zX=VX,WX=BX;function Gm(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new UX;++e<r;)this.add(t[e])}Gm.prototype.add=Gm.prototype.push=zX;Gm.prototype.has=WX;var LM=Gm;function HX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var VM=HX;function qX(t,e){return t.has(e)}var FM=qX,GX=LM,KX=VM,YX=FM,XX=1,QX=2;function JX(t,e,r,n,i,a){var o=r&XX,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=r&QX?new GX:void 0;for(a.set(t,e),a.set(e,t);++f<l;){var v=t[f],x=e[f];if(n)var y=o?n(x,v,f,e,t,a):n(v,x,f,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!KX(e,function(g,w){if(!YX(p,w)&&(v===g||i(v,g,r,n,a)))return p.push(w)})){h=!1;break}}else if(!(v===x||i(v,x,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var BM=JX,ZX=ii,eQ=ZX.Uint8Array,tQ=eQ;function rQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var nQ=rQ;function iQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var l1=iQ,uA=gf,dA=tQ,sQ=Gj,aQ=BM,oQ=nQ,lQ=l1,cQ=1,uQ=2,dQ="[object Boolean]",fQ="[object Date]",hQ="[object Error]",mQ="[object Map]",pQ="[object Number]",gQ="[object RegExp]",yQ="[object Set]",vQ="[object String]",xQ="[object Symbol]",bQ="[object ArrayBuffer]",wQ="[object DataView]",fA=uA?uA.prototype:void 0,Sv=fA?fA.valueOf:void 0;function jQ(t,e,r,n,i,a,o){switch(r){case wQ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bQ:return!(t.byteLength!=e.byteLength||!a(new dA(t),new dA(e)));case dQ:case fQ:case pQ:return sQ(+t,+e);case hQ:return t.name==e.name&&t.message==e.message;case gQ:case vQ:return t==e+"";case mQ:var l=oQ;case yQ:var c=n&cQ;if(l||(l=lQ),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=uQ,o.set(t,e);var d=aQ(l(t),l(e),n,i,a,o);return o.delete(t),d;case xQ:if(Sv)return Sv.call(t)==Sv.call(e)}return!1}var _Q=jQ;function NQ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var UM=NQ,SQ=UM,AQ=Dr;function TQ(t,e,r){var n=e(t);return AQ(t)?n:SQ(n,r(t))}var EQ=TQ;function kQ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var PQ=kQ;function IQ(){return[]}var CQ=IQ,OQ=PQ,MQ=CQ,DQ=Object.prototype,RQ=DQ.propertyIsEnumerable,hA=Object.getOwnPropertySymbols,$Q=hA?function(t){return t==null?[]:(t=Object(t),OQ(hA(t),function(e){return RQ.call(t,e)}))}:MQ,LQ=$Q;function VQ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var FQ=VQ,BQ=Fi,UQ=Bi,zQ="[object Arguments]";function WQ(t){return UQ(t)&&BQ(t)==zQ}var HQ=WQ,mA=HQ,qQ=Bi,zM=Object.prototype,GQ=zM.hasOwnProperty,KQ=zM.propertyIsEnumerable,YQ=mA(function(){return arguments}())?mA:function(t){return qQ(t)&&GQ.call(t,"callee")&&!KQ.call(t,"callee")},c1=YQ,Km={exports:{}};function XQ(){return!1}var QQ=XQ;Km.exports;(function(t,e){var r=ii,n=QQ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Km,Km.exports);var WM=Km.exports,JQ=9007199254740991,ZQ=/^(?:0|[1-9]\d*)$/;function eJ(t,e){var r=typeof t;return e=e??JQ,!!e&&(r=="number"||r!="symbol"&&ZQ.test(t))&&t>-1&&t%1==0&&t<e}var u1=eJ,tJ=9007199254740991;function rJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tJ}var d1=rJ,nJ=Fi,iJ=d1,sJ=Bi,aJ="[object Arguments]",oJ="[object Array]",lJ="[object Boolean]",cJ="[object Date]",uJ="[object Error]",dJ="[object Function]",fJ="[object Map]",hJ="[object Number]",mJ="[object Object]",pJ="[object RegExp]",gJ="[object Set]",yJ="[object String]",vJ="[object WeakMap]",xJ="[object ArrayBuffer]",bJ="[object DataView]",wJ="[object Float32Array]",jJ="[object Float64Array]",_J="[object Int8Array]",NJ="[object Int16Array]",SJ="[object Int32Array]",AJ="[object Uint8Array]",TJ="[object Uint8ClampedArray]",EJ="[object Uint16Array]",kJ="[object Uint32Array]",nt={};nt[wJ]=nt[jJ]=nt[_J]=nt[NJ]=nt[SJ]=nt[AJ]=nt[TJ]=nt[EJ]=nt[kJ]=!0;nt[aJ]=nt[oJ]=nt[xJ]=nt[lJ]=nt[bJ]=nt[cJ]=nt[uJ]=nt[dJ]=nt[fJ]=nt[hJ]=nt[mJ]=nt[pJ]=nt[gJ]=nt[yJ]=nt[vJ]=!1;function PJ(t){return sJ(t)&&iJ(t.length)&&!!nt[nJ(t)]}var IJ=PJ;function CJ(t){return function(e){return t(e)}}var HM=CJ,Ym={exports:{}};Ym.exports;(function(t,e){var r=Z4,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Ym,Ym.exports);var OJ=Ym.exports,MJ=IJ,DJ=HM,pA=OJ,gA=pA&&pA.isTypedArray,RJ=gA?DJ(gA):MJ,qM=RJ,$J=FQ,LJ=c1,VJ=Dr,FJ=WM,BJ=u1,UJ=qM,zJ=Object.prototype,WJ=zJ.hasOwnProperty;function HJ(t,e){var r=VJ(t),n=!r&&LJ(t),i=!r&&!n&&FJ(t),a=!r&&!n&&!i&&UJ(t),o=r||n||i||a,l=o?$J(t.length,String):[],c=l.length;for(var u in t)(e||WJ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||BJ(u,c)))&&l.push(u);return l}var qJ=HJ,GJ=Object.prototype;function KJ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||GJ;return t===r}var YJ=KJ;function XJ(t,e){return function(r){return t(e(r))}}var GM=XJ,QJ=GM,JJ=QJ(Object.keys,Object),ZJ=JJ,eZ=YJ,tZ=ZJ,rZ=Object.prototype,nZ=rZ.hasOwnProperty;function iZ(t){if(!eZ(t))return tZ(t);var e=[];for(var r in Object(t))nZ.call(t,r)&&r!="constructor"&&e.push(r);return e}var sZ=iZ,aZ=qj,oZ=d1;function lZ(t){return t!=null&&oZ(t.length)&&!aZ(t)}var vf=lZ,cZ=qJ,uZ=sZ,dZ=vf;function fZ(t){return dZ(t)?cZ(t):uZ(t)}var zg=fZ,hZ=EQ,mZ=LQ,pZ=zg;function gZ(t){return hZ(t,pZ,mZ)}var yZ=gZ,yA=yZ,vZ=1,xZ=Object.prototype,bZ=xZ.hasOwnProperty;function wZ(t,e,r,n,i,a){var o=r&vZ,l=yA(t),c=l.length,u=yA(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:bZ.call(e,h)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var x=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<c;){h=l[f];var g=t[h],w=e[h];if(n)var b=o?n(w,g,h,e,t,a):n(g,w,h,t,e,a);if(!(b===void 0?g===w||i(g,w,r,n,a):b)){x=!1;break}y||(y=h=="constructor")}if(x&&!y){var T=t.constructor,j=e.constructor;T!=j&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof j=="function"&&j instanceof j)&&(x=!1)}return a.delete(t),a.delete(e),x}var jZ=wZ,_Z=eo,NZ=ii,SZ=_Z(NZ,"DataView"),AZ=SZ,TZ=eo,EZ=ii,kZ=TZ(EZ,"Promise"),PZ=kZ,IZ=eo,CZ=ii,OZ=IZ(CZ,"Set"),KM=OZ,MZ=eo,DZ=ii,RZ=MZ(DZ,"WeakMap"),$Z=RZ,Fb=AZ,Bb=Kj,Ub=PZ,zb=KM,Wb=$Z,YM=Fi,dc=tM,vA="[object Map]",LZ="[object Object]",xA="[object Promise]",bA="[object Set]",wA="[object WeakMap]",jA="[object DataView]",VZ=dc(Fb),FZ=dc(Bb),BZ=dc(Ub),UZ=dc(zb),zZ=dc(Wb),fa=YM;(Fb&&fa(new Fb(new ArrayBuffer(1)))!=jA||Bb&&fa(new Bb)!=vA||Ub&&fa(Ub.resolve())!=xA||zb&&fa(new zb)!=bA||Wb&&fa(new Wb)!=wA)&&(fa=function(t){var e=YM(t),r=e==LZ?t.constructor:void 0,n=r?dc(r):"";if(n)switch(n){case VZ:return jA;case FZ:return vA;case BZ:return xA;case UZ:return bA;case zZ:return wA}return e});var WZ=fa,Av=$M,HZ=BM,qZ=_Q,GZ=jZ,_A=WZ,NA=Dr,SA=WM,KZ=qM,YZ=1,AA="[object Arguments]",TA="[object Array]",fh="[object Object]",XZ=Object.prototype,EA=XZ.hasOwnProperty;function QZ(t,e,r,n,i,a){var o=NA(t),l=NA(e),c=o?TA:_A(t),u=l?TA:_A(e);c=c==AA?fh:c,u=u==AA?fh:u;var d=c==fh,f=u==fh,h=c==u;if(h&&SA(t)){if(!SA(e))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Av),o||KZ(t)?HZ(t,e,r,n,i,a):qZ(t,e,c,r,n,i,a);if(!(r&YZ)){var p=d&&EA.call(t,"__wrapped__"),v=f&&EA.call(e,"__wrapped__");if(p||v){var x=p?t.value():t,y=v?e.value():e;return a||(a=new Av),i(x,y,r,n,a)}}return h?(a||(a=new Av),GZ(t,e,r,n,i,a)):!1}var JZ=QZ,ZZ=JZ,kA=Bi;function XM(t,e,r,n,i){return t===e?!0:t==null||e==null||!kA(t)&&!kA(e)?t!==t&&e!==e:ZZ(t,e,r,n,XM,i)}var f1=XM,eee=$M,tee=f1,ree=1,nee=2;function iee(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new eee;if(n)var h=n(u,d,c,t,e,f);if(!(h===void 0?tee(d,u,ree|nee,n,f):h))return!1}}return!0}var see=iee,aee=Xs;function oee(t){return t===t&&!aee(t)}var QM=oee,lee=QM,cee=zg;function uee(t){for(var e=cee(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,lee(i)]}return e}var dee=uee;function fee(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var JM=fee,hee=see,mee=dee,pee=JM;function gee(t){var e=mee(t);return e.length==1&&e[0][2]?pee(e[0][0],e[0][1]):function(r){return r===t||hee(r,t,e)}}var yee=gee;function vee(t,e){return t!=null&&e in Object(t)}var xee=vee,bee=aM,wee=c1,jee=Dr,_ee=u1,Nee=d1,See=Eg;function Aee(t,e,r){e=bee(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=See(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Nee(i)&&_ee(o,i)&&(jee(t)||wee(t)))}var Tee=Aee,Eee=xee,kee=Tee;function Pee(t,e){return t!=null&&kee(t,e,Eee)}var Iee=Pee,Cee=f1,Oee=oM,Mee=Iee,Dee=Hj,Ree=QM,$ee=JM,Lee=Eg,Vee=1,Fee=2;function Bee(t,e){return Dee(t)&&Ree(e)?$ee(Lee(t),e):function(r){var n=Oee(r,t);return n===void 0&&n===e?Mee(r,t):Cee(e,n,Vee|Fee)}}var Uee=Bee;function zee(t){return t}var fc=zee;function Wee(t){return function(e){return e==null?void 0:e[t]}}var Hee=Wee,qee=Jj;function Gee(t){return function(e){return qee(e,t)}}var Kee=Gee,Yee=Hee,Xee=Kee,Qee=Hj,Jee=Eg;function Zee(t){return Qee(t)?Yee(Jee(t)):Xee(t)}var ete=Zee,tte=yee,rte=Uee,nte=fc,ite=Dr,ste=ete;function ate(t){return typeof t=="function"?t:t==null?nte:typeof t=="object"?ite(t)?rte(t[0],t[1]):tte(t):ste(t)}var si=ate;function ote(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var ZM=ote;function lte(t){return t!==t}var cte=lte;function ute(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var dte=ute,fte=ZM,hte=cte,mte=dte;function pte(t,e,r){return e===e?mte(t,e,r):fte(t,hte,r)}var gte=pte,yte=gte;function vte(t,e){var r=t==null?0:t.length;return!!r&&yte(t,e,0)>-1}var xte=vte;function bte(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var wte=bte;function jte(){}var _te=jte,Tv=KM,Nte=_te,Ste=l1,Ate=1/0,Tte=Tv&&1/Ste(new Tv([,-0]))[1]==Ate?function(t){return new Tv(t)}:Nte,Ete=Tte,kte=LM,Pte=xte,Ite=wte,Cte=FM,Ote=Ete,Mte=l1,Dte=200;function Rte(t,e,r){var n=-1,i=Pte,a=t.length,o=!0,l=[],c=l;if(r)o=!1,i=Ite;else if(a>=Dte){var u=e?null:Ote(t);if(u)return Mte(u);o=!1,i=Cte,c=new kte}else c=e?[]:l;e:for(;++n<a;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var $te=Rte,Lte=si,Vte=$te;function Fte(t,e){return t&&t.length?Vte(t,Lte(e)):[]}var Bte=Fte;const PA=Ue(Bte);function eD(t,e,r){return e===!0?PA(t,r):he(e)?PA(t,e):t}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var Ute=["ref"];function IA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IA(Object(r),!0).forEach(function(n){Wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rD(n.key),n)}}function Wte(t,e,r){return e&&CA(t.prototype,e),r&&CA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hte(t,e,r){return e=Xm(e),qte(t,tD()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function qte(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(t)}function Gte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function Kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hb(t,e)}function Wg(t,e,r){return e=rD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rD(t){var e=Yte(t,"string");return yl(e)=="symbol"?e:e+""}function Yte(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xte(t,e){if(t==null)return{};var r=Qte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jte(t){return t.value}function Zte(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=Xte(e,Ute);return $.createElement(o1,r)}var OA=1,Is=function(t){function e(){var r;zte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hte(this,e,[].concat(i)),Wg(r,"lastBoundingBox",{width:-1,height:-1}),r}return Kte(e,t),Wte(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>OA||Math.abs(i.height-this.lastBoundingBox.height)>OA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return li(li({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=li(li({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Zte(a,li(li({},this.props),{},{payload:eD(d,u,Jte)})))}}],[{key:"getWithHeight",value:function(n,i){var a=li(li({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Z(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(M.PureComponent);Wg(Is,"displayName","Legend");Wg(Is,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MA=gf,ere=c1,tre=Dr,DA=MA?MA.isConcatSpreadable:void 0;function rre(t){return tre(t)||ere(t)||!!(DA&&t&&t[DA])}var nre=rre,ire=UM,sre=nre;function nD(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=sre),i||(i=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?nD(l,e-1,r,n,i):ire(i,l):n||(i[i.length]=l)}return i}var iD=nD;function are(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(a[c],c,a)===!1)break}return e}}var ore=are,lre=ore,cre=lre(),ure=cre,dre=ure,fre=zg;function hre(t,e){return t&&dre(t,e,fre)}var sD=hre,mre=vf;function pre(t,e){return function(r,n){if(r==null)return r;if(!mre(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var gre=pre,yre=sD,vre=gre,xre=vre(yre),h1=xre,bre=h1,wre=vf;function jre(t,e){var r=-1,n=wre(t)?Array(t.length):[];return bre(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var aD=jre;function _re(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Nre=_re,RA=ic;function Sre(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=RA(t),o=e!==void 0,l=e===null,c=e===e,u=RA(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var Are=Sre,Tre=Are;function Ere(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,l=r.length;++n<o;){var c=Tre(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var kre=Ere,Ev=Qj,Pre=Jj,Ire=si,Cre=aD,Ore=Nre,Mre=HM,Dre=kre,Rre=fc,$re=Dr;function Lre(t,e,r){e.length?e=Ev(e,function(a){return $re(a)?function(o){return Pre(o,a.length===1?a[0]:a)}:a}):e=[Rre];var n=-1;e=Ev(e,Mre(Ire));var i=Cre(t,function(a,o,l){var c=Ev(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Ore(i,function(a,o){return Dre(a,o,r)})}var Vre=Lre;function Fre(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Bre=Fre,Ure=Bre,$A=Math.max;function zre(t,e,r){return e=$A(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=$A(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),Ure(t,this,l)}}var Wre=zre;function Hre(t){return function(){return t}}var qre=Hre,Gre=eo,Kre=function(){try{var t=Gre(Object,"defineProperty");return t({},"",{}),t}catch{}}(),oD=Kre,Yre=qre,LA=oD,Xre=fc,Qre=LA?function(t,e){return LA(t,"toString",{configurable:!0,enumerable:!1,value:Yre(e),writable:!0})}:Xre,Jre=Qre,Zre=800,ene=16,tne=Date.now;function rne(t){var e=0,r=0;return function(){var n=tne(),i=ene-(n-r);if(r=n,i>0){if(++e>=Zre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var nne=rne,ine=Jre,sne=nne,ane=sne(ine),one=ane,lne=fc,cne=Wre,une=one;function dne(t,e){return une(cne(t,e,lne),t+"")}var fne=dne,hne=Gj,mne=vf,pne=u1,gne=Xs;function yne(t,e,r){if(!gne(r))return!1;var n=typeof e;return(n=="number"?mne(r)&&pne(e,r.length):n=="string"&&e in r)?hne(r[e],t):!1}var Hg=yne,vne=iD,xne=Vre,bne=fne,VA=Hg,wne=bne(function(t,e){if(t==null)return[];var r=e.length;return r>1&&VA(t,e[0],e[1])?e=[]:r>2&&VA(e[0],e[1],e[2])&&(e=[e[0]]),xne(t,vne(e,1),[])}),jne=wne;const m1=Ue(jne);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(this,arguments)}function _ne(t,e){return Tne(t)||Ane(t,e)||Sne(t,e)||Nne()}function Nne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sne(t,e){if(t){if(typeof t=="string")return FA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(t,e)}}function FA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ane(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Tne(t){if(Array.isArray(t))return t}function BA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(r),!0).forEach(function(n){Ene(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ene(t,e,r){return e=kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t){var e=Pne(t,"string");return pd(e)=="symbol"?e:e+""}function Pne(t,e){if(pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ine(t){return Array.isArray(t)&&Lt(t[0])&&Lt(t[1])?t.join(" ~ "):t}var Cne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,x=e.label,y=e.labelFormatter,g=e.accessibilityLayer,w=g===void 0?!1:g,b=function(){if(d&&d.length){var C={padding:0,margin:0},P=(h?m1(d,h):d).map(function(L,R){if(L.type==="none")return null;var V=kv({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),W=L.formatter||f||Ine,F=L.value,U=L.name,K=F,ee=U;if(W&&K!=null&&ee!=null){var J=W(F,U,L,R,d);if(Array.isArray(J)){var oe=_ne(J,2);K=oe[0],ee=oe[1]}else K=J}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:V},Lt(ee)?$.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Lt(ee)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},K),$.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:C},P)}return null},T=kv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=kv({margin:0},u),A=!pe(x),S=A?x:"",_=ve("recharts-default-tooltip",p),E=ve("recharts-tooltip-label",v);A&&y&&d!==void 0&&d!==null&&(S=y(x,d));var O=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",qb({className:_,style:T},O),$.createElement("p",{className:E,style:j},$.isValidElement(S)?S:"".concat(S)),b())};function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function hh(t,e,r){return e=One(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function One(t){var e=Mne(t,"string");return gd(e)=="symbol"?e:e+""}function Mne(t,e){if(gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zc="recharts-tooltip-wrapper",Dne={visibility:"hidden"};function Rne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ve(zc,hh(hh(hh(hh({},"".concat(zc,"-right"),Z(r)&&e&&Z(e.x)&&r>=e.x),"".concat(zc,"-left"),Z(r)&&e&&Z(e.x)&&r<e.x),"".concat(zc,"-bottom"),Z(n)&&e&&Z(e.y)&&n>=e.y),"".concat(zc,"-top"),Z(n)&&e&&Z(e.y)&&n<e.y))}function UA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Z(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,x=c[n]+u;return v>x?Math.max(d,c[n]):Math.max(f,c[n])}function $ne(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Lne(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=UA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=UA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=$ne({translateX:d,translateY:f,useTranslate3d:l})):u=Dne,{cssProperties:u,cssClasses:Rne({translateX:d,translateY:f,coordinate:r})}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function zA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(r),!0).forEach(function(n){Kb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cD(n.key),n)}}function Bne(t,e,r){return e&&Fne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Une(t,e,r){return e=Qm(e),zne(t,lD()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function zne(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wne(t)}function Wne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function Hne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gb(t,e)}function Kb(t,e,r){return e=cD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cD(t){var e=qne(t,"string");return vl(e)=="symbol"?e:e+""}function qne(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HA=1,Gne=function(t){function e(){var r;Vne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Une(this,e,[].concat(i)),Kb(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kb(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Hne(e,t),Bne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>HA||Math.abs(n.height-this.state.lastBoundingBox.height)>HA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,g=i.viewBox,w=i.wrapperStyle,b=Lne({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:g}),T=b.cssClasses,j=b.cssProperties,A=WA(WA({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:T,style:A,ref:function(_){n.wrapperNode=_}},u)}}])}(M.PureComponent),Kne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},to={isSsr:Kne()};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function qA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(r),!0).forEach(function(n){p1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function Qne(t,e,r){return e&&Xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jne(t,e,r){return e=Jm(e),Zne(t,uD()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function Zne(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eie(t)}function eie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yb(t,e)}function p1(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=rie(t,"string");return xl(e)=="symbol"?e:e+""}function rie(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nie(t){return t.dataKey}function iie(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(Cne,e)}var tn=function(t){function e(){return Yne(this,e),Jne(this,e,arguments)}return tie(e,t),Qne(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,v=i.payload,x=i.payloadUniqBy,y=i.position,g=i.reverseDirection,w=i.useTranslate3d,b=i.viewBox,T=i.wrapperStyle,j=v??[];f&&j.length&&(j=eD(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),x,nie));var A=j.length>0;return $.createElement(Gne,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:A,offset:p,position:y,reverseDirection:g,useTranslate3d:w,viewBox:b,wrapperStyle:T},iie(u,GA(GA({},this.props),{},{payload:j})))}}])}(M.PureComponent);p1(tn,"displayName","Tooltip");p1(tn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!to.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var sie=ii,aie=function(){return sie.Date.now()},oie=aie,lie=/\s/;function cie(t){for(var e=t.length;e--&&lie.test(t.charAt(e)););return e}var uie=cie,die=uie,fie=/^\s+/;function hie(t){return t&&t.slice(0,die(t)+1).replace(fie,"")}var mie=hie,pie=mie,KA=Xs,gie=ic,YA=NaN,yie=/^[-+]0x[0-9a-f]+$/i,vie=/^0b[01]+$/i,xie=/^0o[0-7]+$/i,bie=parseInt;function wie(t){if(typeof t=="number")return t;if(gie(t))return YA;if(KA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=KA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pie(t);var r=vie.test(t);return r||xie.test(t)?bie(t.slice(2),r?2:8):yie.test(t)?YA:+t}var fD=wie,jie=Xs,Pv=oie,XA=fD,_ie="Expected a function",Nie=Math.max,Sie=Math.min;function Aie(t,e,r){var n,i,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_ie);e=XA(e)||0,jie(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Nie(XA(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(A){var S=n,_=i;return n=i=void 0,u=A,o=t.apply(_,S),o}function v(A){return u=A,l=setTimeout(g,e),d?p(A):o}function x(A){var S=A-c,_=A-u,E=e-S;return f?Sie(E,a-_):E}function y(A){var S=A-c,_=A-u;return c===void 0||S>=e||S<0||f&&_>=a}function g(){var A=Pv();if(y(A))return w(A);l=setTimeout(g,x(A))}function w(A){return l=void 0,h&&n?p(A):(n=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function T(){return l===void 0?o:w(Pv())}function j(){var A=Pv(),S=y(A);if(n=arguments,i=this,c=A,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(g,e),p(c)}return l===void 0&&(l=setTimeout(g,e)),o}return j.cancel=b,j.flush=T,j}var Tie=Aie,Eie=Tie,kie=Xs,Pie="Expected a function";function Iie(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Pie);return kie(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Eie(t,e,{leading:n,maxWait:e,trailing:i})}var Cie=Iie;const hD=Ue(Cie);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function QA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(r),!0).forEach(function(n){Oie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oie(t,e,r){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mie(t){var e=Die(t,"string");return yd(e)=="symbol"?e:e+""}function Die(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rie(t,e){return Fie(t)||Vie(t,e)||Lie(t,e)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(t,e){if(t){if(typeof t=="string")return JA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(t,e)}}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Fie(t){if(Array.isArray(t))return t}var Iv=M.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,x=v===void 0?0:v,y=t.id,g=t.className,w=t.onResize,b=t.style,T=b===void 0?{}:b,j=M.useRef(null),A=M.useRef();A.current=w,M.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=M.useState({containerWidth:i.width,containerHeight:i.height}),_=Rie(S,2),E=_[0],O=_[1],I=M.useCallback(function(P,L){O(function(R){var V=Math.round(P),W=Math.round(L);return R.containerWidth===V&&R.containerHeight===W?R:{containerWidth:V,containerHeight:W}})},[]);M.useEffect(function(){var P=function(U){var K,ee=U[0].contentRect,J=ee.width,oe=ee.height;I(J,oe),(K=A.current)===null||K===void 0||K.call(A,J,oe)};x>0&&(P=hD(P,x,{trailing:!0,leading:!1}));var L=new ResizeObserver(P),R=j.current.getBoundingClientRect(),V=R.width,W=R.height;return I(V,W),L.observe(j.current),function(){L.disconnect()}},[I,x]);var C=M.useMemo(function(){var P=E.containerWidth,L=E.containerHeight;if(P<0||L<0)return null;In(ba(o)||ba(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),In(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=ba(o)?P:o,V=ba(c)?L:c;r&&r>0&&(R?V=R/r:V&&(R=V*r),h&&V>h&&(V=h)),In(R>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,V,o,c,d,f,r);var W=!Array.isArray(p)&&ji(p.type).endsWith("Chart");return $.Children.map(p,function(F){return $.isValidElement(F)?M.cloneElement(F,mh({width:R,height:V},W?{style:mh({height:"100%",width:"100%",maxHeight:V,maxWidth:R},F.props.style)}:{})):F})},[r,p,c,h,f,d,E,o]);return $.createElement("div",{id:y?"".concat(y):void 0,className:ve("recharts-responsive-container",g),style:mh(mh({},T),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},C)}),vd=function(e){return null};vd.displayName="Cell";function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function ZA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(r),!0).forEach(function(n){Bie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bie(t,e,r){return e=Uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uie(t){var e=zie(t,"string");return xd(e)=="symbol"?e:e+""}function zie(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mo={widthCache:{},cacheCount:0},Wie=2e3,Hie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eT="recharts_measurement_span";function qie(t){var e=Xb({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Eu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||to.isSsr)return{width:0,height:0};var n=qie(r),i=JSON.stringify({text:e,copyStyle:n});if(mo.widthCache[i])return mo.widthCache[i];try{var a=document.getElementById(eT);a||(a=document.createElement("span"),a.setAttribute("id",eT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Xb(Xb({},Hie),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return mo.widthCache[i]=c,++mo.cacheCount>Wie&&(mo.cacheCount=0,mo.widthCache={}),c}catch{return{width:0,height:0}}},Gie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Zm(t,e){return Qie(t)||Xie(t,e)||Yie(t,e)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yie(t,e){if(t){if(typeof t=="string")return tT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(t,e)}}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Qie(t){if(Array.isArray(t))return t}function Jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ese(n.key),n)}}function Zie(t,e,r){return e&&rT(t.prototype,e),r&&rT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ese(t){var e=tse(t,"string");return bd(e)=="symbol"?e:e+""}function tse(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ise=Object.keys(mD),Ro="NaN";function sse(t,e){return t*mD[e]}var ph=function(){function t(e,r){Jie(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!rse.test(r)&&(this.num=NaN,this.unit=""),ise.includes(r)&&(this.num=sse(e,r),this.unit="px")}return Zie(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=nse.exec(r))!==null&&n!==void 0?n:[],a=Zm(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function pD(t){if(t.includes(Ro))return Ro;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=nT.exec(e))!==null&&r!==void 0?r:[],i=Zm(n,4),a=i[1],o=i[2],l=i[3],c=ph.parse(a??""),u=ph.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ro;e=e.replace(nT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=iT.exec(e))!==null&&f!==void 0?f:[],p=Zm(h,4),v=p[1],x=p[2],y=p[3],g=ph.parse(v??""),w=ph.parse(y??""),b=x==="+"?g.add(w):g.subtract(w);if(b.isNaN())return Ro;e=e.replace(iT,b.toString())}return e}var sT=/\(([^()]*)\)/;function ase(t){for(var e=t;e.includes("(");){var r=sT.exec(e),n=Zm(r,2),i=n[1];e=e.replace(sT,pD(i))}return e}function ose(t){var e=t.replace(/\s+/g,"");return e=ase(e),e=pD(e),e}function lse(t){try{return ose(t)}catch{return Ro}}function Cv(t){var e=lse(t.slice(5,-1));return e===Ro?"":e}var cse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],use=["dx","dy","angle","className","breakAll"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qb.apply(this,arguments)}function aT(t,e){if(t==null)return{};var r=dse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oT(t,e){return pse(t)||mse(t,e)||hse(t,e)||fse()}function fse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return lT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lT(t,e)}}function lT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pse(t){if(Array.isArray(t))return t}var gD=/[ \f\n\r\t\v\u2028\u2029]+/,yD=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];pe(r)||(n?a=r.toString().split(""):a=r.toString().split(gD));var o=a.map(function(c){return{word:c,width:Eu(c,i).width}}),l=n?0:Eu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gse=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Z(o),f=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(V,W){var F=W.word,U=W.width,K=V[V.length-1];if(K&&(i==null||a||K.width+U+n<Number(i)))K.words.push(F),K.width+=U+n;else{var ee={words:[F],width:U};V.push(ee)}return V},[])},p=h(r),v=function(R){return R.reduce(function(V,W){return V.width>W.width?V:W})};if(!d)return p;for(var x="",y=function(R){var V=f.slice(0,R),W=yD({breakAll:u,style:c,children:V+x}).wordsWithComputedWidth,F=h(W),U=F.length>o||v(F).width>Number(i);return[U,F]},g=0,w=f.length-1,b=0,T;g<=w&&b<=f.length-1;){var j=Math.floor((g+w)/2),A=j-1,S=y(A),_=oT(S,2),E=_[0],O=_[1],I=y(j),C=oT(I,1),P=C[0];if(!E&&!P&&(g=j+1),E&&P&&(w=j-1),!E&&P){T=O;break}b++}return T||p},cT=function(e){var r=pe(e)?[]:e.toString().split(gD);return[{words:r}]},yse=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!to.isSsr){var c,u,d=yD({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return cT(i);return gse({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return cT(i)},uT="#808080",za=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,x=v===void 0?"end":v,y=e.fill,g=y===void 0?uT:y,w=aT(e,cse),b=M.useMemo(function(){return yse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),T=w.dx,j=w.dy,A=w.angle,S=w.className,_=w.breakAll,E=aT(w,use);if(!Lt(n)||!Lt(a))return null;var O=n+(Z(T)?T:0),I=a+(Z(j)?j:0),C;switch(x){case"start":C=Cv("calc(".concat(u,")"));break;case"middle":C=Cv("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:C=Cv("calc(".concat(b.length-1," * -").concat(l,")"));break}var P=[];if(f){var L=b[0].width,R=w.width;P.push("scale(".concat((Z(R)?R/L:1)/L,")"))}return A&&P.push("rotate(".concat(A,", ").concat(O,", ").concat(I,")")),P.length&&(E.transform=P.join(" ")),$.createElement("text",Qb({},le(E,!0),{x:O,y:I,className:ve("recharts-text",S),textAnchor:p,fill:g.includes("url")?uT:g}),b.map(function(V,W){var F=V.words.join(_?"":" ");return $.createElement("tspan",{x:O,dy:W===0?C:l,key:"".concat(F,"-").concat(W)},F)}))};function Cs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g1(t){let e,r,n;t.length!==2?(e=Cs,r=(l,c)=>Cs(t(l),c),n=(l,c)=>t(l)-c):(e=t===Cs||t===vse?t:xse,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function xse(){return 0}function vD(t){return t===null?NaN:+t}function*bse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const wse=g1(Cs),xf=wse.right;g1(vD).center;class dT extends Map{constructor(e,r=Nse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(fT(this,e))}has(e){return super.has(fT(this,e))}set(e,r){return super.set(jse(this,e),r)}delete(e){return super.delete(_se(this,e))}}function fT({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function jse({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function _se({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Nse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sse(t=Cs){if(t===Cs)return xD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function xD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ase=Math.sqrt(50),Tse=Math.sqrt(10),Ese=Math.sqrt(2);function ep(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Ase?10:a>=Tse?5:a>=Ese?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?ep(t,e,r*2):[l,c,u]}function Jb(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?ep(e,t,r):ep(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Zb(t,e,r){return e=+e,t=+t,r=+r,ep(t,e,r)[2]}function e0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Zb(e,t,r):Zb(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function hT(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mT(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bD(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?xD:Sse(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+h)),v=Math.min(n,Math.floor(e+(c-u)*f/c+h));bD(t,e,p,v,i)}const a=t[e];let o=r,l=n;for(Wc(t,r,e),i(t[n],a)>0&&Wc(t,r,n);o<l;){for(Wc(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Wc(t,r,l):(++l,Wc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Wc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function kse(t,e,r){if(t=Float64Array.from(bse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return mT(t);if(e>=1)return hT(t);var n,i=(n-1)*e,a=Math.floor(i),o=hT(bD(t,a).subarray(0,a+1)),l=mT(t.subarray(a+1));return o+(l-o)*(i-a)}}function Pse(t,e,r=vD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Ise(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ui(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t0=Symbol("implicit");function y1(){var t=new dT,e=[],r=[],n=t0;function i(a){let o=t.get(a);if(o===void 0){if(n!==t0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new dT;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y1(e,r).unknown(n)},yn.apply(i,arguments),i}function wd(){var t=y1().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<n,v=p?i:n,x=p?n:i;a=(x-v)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),v+=(x-v-a*(h-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=Ise(h).map(function(g){return v+a*g});return r(p?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return wd(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},yn.apply(f(),arguments)}function wD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wD(e())},t}function ku(){return wD(wd.apply(null,arguments).paddingInner(1))}function v1(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function bf(){}var jd=.7,tp=1/jd,Zo="\\s*([+-]?\\d+)\\s*",_d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cse=/^#([0-9a-f]{3,8})$/,Ose=new RegExp(`^rgb\\(${Zo},${Zo},${Zo}\\)$`),Mse=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),Dse=new RegExp(`^rgba\\(${Zo},${Zo},${Zo},${_d}\\)$`),Rse=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${_d}\\)$`),$se=new RegExp(`^hsl\\(${_d},${Qn},${Qn}\\)$`),Lse=new RegExp(`^hsla\\(${_d},${Qn},${Qn},${_d}\\)$`),pT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};v1(bf,Nd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:gT,formatHex:gT,formatHex8:Vse,formatHsl:Fse,formatRgb:yT,toString:yT});function gT(){return this.rgb().formatHex()}function Vse(){return this.rgb().formatHex8()}function Fse(){return _D(this).formatHsl()}function yT(){return this.rgb().formatRgb()}function Nd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Cse.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?vT(e):r===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ose.exec(t))?new kr(e[1],e[2],e[3],1):(e=Mse.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dse.exec(t))?gh(e[1],e[2],e[3],e[4]):(e=Rse.exec(t))?gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$se.exec(t))?wT(e[1],e[2]/100,e[3]/100,1):(e=Lse.exec(t))?wT(e[1],e[2]/100,e[3]/100,e[4]):pT.hasOwnProperty(t)?vT(pT[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function vT(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function gh(t,e,r,n){return n<=0&&(t=e=r=NaN),new kr(t,e,r,n)}function Bse(t){return t instanceof bf||(t=Nd(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function r0(t,e,r,n){return arguments.length===1?Bse(t):new kr(t,e,r,n??1)}function kr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}v1(kr,r0,jD(bf,{brighter(t){return t=t==null?tp:Math.pow(tp,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(Ta(this.r),Ta(this.g),Ta(this.b),rp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xT,formatHex:xT,formatHex8:Use,formatRgb:bT,toString:bT}));function xT(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}`}function Use(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}${wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function bT(){const t=rp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ta(this.r)}, ${Ta(this.g)}, ${Ta(this.b)}${t===1?")":`, ${t})`}`}function rp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ta(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wa(t){return t=Ta(t),(t<16?"0":"")+t.toString(16)}function wT(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new An(t,e,r,n)}function _D(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof bf||(t=Nd(t)),!t)return new An;if(t instanceof An)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new An(o,l,c,t.opacity)}function zse(t,e,r,n){return arguments.length===1?_D(t):new An(t,e,r,n??1)}function An(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}v1(An,zse,jD(bf,{brighter(t){return t=t==null?tp:Math.pow(tp,t),new An(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jd:Math.pow(jd,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new kr(Ov(t>=240?t-240:t+120,i,n),Ov(t,i,n),Ov(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new An(jT(this.h),yh(this.s),yh(this.l),rp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rp(this.opacity);return`${t===1?"hsl(":"hsla("}${jT(this.h)}, ${yh(this.s)*100}%, ${yh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jT(t){return t=(t||0)%360,t<0?t+360:t}function yh(t){return Math.max(0,Math.min(1,t||0))}function Ov(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const x1=t=>()=>t;function Wse(t,e){return function(r){return t+r*e}}function Hse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function qse(t){return(t=+t)==1?ND:function(e,r){return r-e?Hse(e,r,t):x1(isNaN(e)?r:e)}}function ND(t,e){var r=e-t;return r?Wse(t,r):x1(isNaN(t)?e:t)}const _T=function t(e){var r=qse(e);function n(i,a){var o=r((i=r0(i)).r,(a=r0(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=ND(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Gse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Kse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=hc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Xse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function np(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Qse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=hc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var n0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mv=new RegExp(n0.source,"g");function Jse(t){return function(){return t}}function Zse(t){return function(e){return t(e)+""}}function eae(t,e){var r=n0.lastIndex=Mv.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=n0.exec(t))&&(i=Mv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:np(n,i)})),r=Mv.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Zse(c[0].x):Jse(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function hc(t,e){var r=typeof e,n;return e==null||r==="boolean"?x1(e):(r==="number"?np:r==="string"?(n=Nd(e))?(e=n,_T):eae:e instanceof Nd?_T:e instanceof Date?Xse:Kse(e)?Gse:Array.isArray(e)?Yse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Qse:np)(t,e)}function b1(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tae(t,e){e===void 0&&(e=t,t=hc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function rae(t){return function(){return t}}function ip(t){return+t}var NT=[0,1];function wr(t){return t}function i0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rae(isNaN(e)?NaN:.5)}function nae(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function iae(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=i0(i,n),a=r(o,a)):(n=i0(n,i),a=r(a,o)),function(l){return a(n(l))}}function sae(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=i0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=xf(t,l,1,n)-1;return a[c](i[c](l))}}function wf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qg(){var t=NT,e=NT,r=hc,n,i,a,o=wr,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==wr&&(o=nae(t[0],t[h-1])),l=h>2?sae:iae,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(n),np)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ip),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=b1,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wr,d()):o!==wr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function w1(){return qg()(wr,wr)}function aae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bl(t){return t=sp(Math.abs(t)),t?t[1]:NaN}function oae(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function lae(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sd(t){if(!(e=cae.exec(t)))throw new Error("invalid format: "+t);var e;return new j1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sd.prototype=j1.prototype;function j1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}j1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uae(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var SD;function dae(t,e){var r=sp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(SD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sp(t,Math.max(0,e+a-1))[0]}function ST(t,e){var r=sp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const AT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ST(t*100,e),r:ST,s:dae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TT(t){return t}var ET=Array.prototype.map,kT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fae(t){var e=t.grouping===void 0||t.thousands===void 0?TT:oae(ET.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?TT:lae(ET.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Sd(f);var h=f.fill,p=f.align,v=f.sign,x=f.symbol,y=f.zero,g=f.width,w=f.comma,b=f.precision,T=f.trim,j=f.type;j==="n"?(w=!0,j="g"):AT[j]||(b===void 0&&(b=12),T=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var A=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=x==="$"?n:/[%p]/.test(j)?o:"",_=AT[j],E=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(I){var C=A,P=S,L,R,V;if(j==="c")P=_(I)+P,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?c:_(Math.abs(I),b),T&&(I=uae(I)),W&&+I==0&&v!=="+"&&(W=!1),C=(W?v==="("?v:l:v==="-"||v==="("?"":v)+C,P=(j==="s"?kT[8+SD/3]:"")+P+(W&&v==="("?")":""),E){for(L=-1,R=I.length;++L<R;)if(V=I.charCodeAt(L),48>V||V>57){P=(V===46?i+I.slice(L+1):I.slice(L))+P,I=I.slice(0,L);break}}}w&&!y&&(I=e(I,1/0));var F=C.length+I.length+P.length,U=F<g?new Array(g-F+1).join(h):"";switch(w&&y&&(I=e(U+I,U.length?g-P.length:1/0),U=""),p){case"<":I=C+I+P+U;break;case"=":I=C+U+I+P;break;case"^":I=U.slice(0,F=U.length>>1)+C+I+P+U.slice(F);break;default:I=U+C+I+P;break}return a(I)}return O.toString=function(){return f+""},O}function d(f,h){var p=u((f=Sd(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(bl(h)/3)))*3,x=Math.pow(10,-v),y=kT[8+v/3];return function(g){return p(x*g)+y}}return{format:u,formatPrefix:d}}var vh,_1,AD;hae({thousands:",",grouping:[3],currency:["$",""]});function hae(t){return vh=fae(t),_1=vh.format,AD=vh.formatPrefix,vh}function mae(t){return Math.max(0,-bl(Math.abs(t)))}function pae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(e)/3)))*3-bl(Math.abs(t)))}function gae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bl(e)-bl(t))+1}function TD(t,e,r,n){var i=e0(t,e,r),a;switch(n=Sd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=pae(i,o))&&(n.precision=a),AD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=gae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=mae(i))&&(n.precision=a-(n.type==="%")*2);break}}return _1(n)}function Qs(t){var e=t.domain;return t.ticks=function(r){var n=e();return Jb(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return TD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=Zb(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function ap(){var t=w1();return t.copy=function(){return wf(t,ap())},yn.apply(t,arguments),Qs(t)}function ED(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ip),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ED(t).unknown(e)},t=arguments.length?Array.from(t,ip):[0,1],Qs(r)}function kD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function PT(t){return Math.log(t)}function IT(t){return Math.exp(t)}function yae(t){return-Math.log(-t)}function vae(t){return-Math.exp(-t)}function xae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bae(t){return t===10?xae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CT(t){return(e,r)=>-t(-e,r)}function N1(t){const e=t(PT,IT),r=e.domain;let n=10,i,a;function o(){return i=wae(n),a=bae(n),r()[0]<0?(i=CT(i),a=CT(a),t(yae,vae)):t(PT,IT),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),v,x;const y=l==null?10:+l;let g=[];if(!(n%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(x=h<0?v/a(-h):v*a(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(x=h>0?v/a(-h):v*a(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<y&&(g=Jb(u,d,y))}else g=Jb(h,p,Math.min(p-h,y)).map(a);return f?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Sd(c)).precision==null&&(c.trim=!0),c=_1(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(kD(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function PD(){const t=N1(qg()).domain([1,10]);return t.copy=()=>wf(t,PD()).base(t.base()),yn.apply(t,arguments),t}function OT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function S1(t){var e=1,r=t(OT(e),MT(e));return r.constant=function(n){return arguments.length?t(OT(e=+n),MT(e)):e},Qs(r)}function ID(){var t=S1(qg());return t.copy=function(){return wf(t,ID()).constant(t.constant())},yn.apply(t,arguments)}function DT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _ae(t){return t<0?-t*t:t*t}function A1(t){var e=t(wr,wr),r=1;function n(){return r===1?t(wr,wr):r===.5?t(jae,_ae):t(DT(r),DT(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Qs(e)}function T1(){var t=A1(qg());return t.copy=function(){return wf(t,T1()).exponent(t.exponent())},yn.apply(t,arguments),t}function Nae(){return T1.apply(null,arguments).exponent(.5)}function RT(t){return Math.sign(t)*t*t}function Sae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function CD(){var t=w1(),e=[0,1],r=!1,n;function i(a){var o=Sae(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(RT(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,ip)).map(RT)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return CD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yn.apply(i,arguments),Qs(i)}function OD(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Pse(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[xf(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Cs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return OD().domain(t).range(e).unknown(n)},yn.apply(a,arguments)}function MD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[xf(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return MD().domain([t,e]).range(i).unknown(a)},yn.apply(Qs(o),arguments)}function DD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[xf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return DD().domain(t).range(e).unknown(r)},yn.apply(i,arguments)}const Dv=new Date,Rv=new Date;function Ft(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Ft(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Dv.setTime(+a),Rv.setTime(+o),t(Dv),t(Rv),Math.floor(r(Dv,Rv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const op=Ft(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);op.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ft(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):op);op.range;const gi=1e3,un=gi*60,yi=un*60,Oi=yi*24,E1=Oi*7,$T=Oi*30,$v=Oi*365,ja=Ft(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());ja.range;const k1=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*un)},(t,e)=>(e-t)/un,t=>t.getMinutes());k1.range;const P1=Ft(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*un)},(t,e)=>(e-t)/un,t=>t.getUTCMinutes());P1.range;const I1=Ft(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*un)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());I1.range;const C1=Ft(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());C1.range;const jf=Ft(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*un)/Oi,t=>t.getDate()-1);jf.range;const Gg=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Gg.range;const RD=Ft(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));RD.range;function ro(t){return Ft(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*un)/E1)}const Kg=ro(0),lp=ro(1),Aae=ro(2),Tae=ro(3),wl=ro(4),Eae=ro(5),kae=ro(6);Kg.range;lp.range;Aae.range;Tae.range;wl.range;Eae.range;kae.range;function no(t){return Ft(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/E1)}const Yg=no(0),cp=no(1),Pae=no(2),Iae=no(3),jl=no(4),Cae=no(5),Oae=no(6);Yg.range;cp.range;Pae.range;Iae.range;jl.range;Cae.range;Oae.range;const O1=Ft(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());O1.range;const M1=Ft(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());M1.range;const Mi=Ft(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Mi.range;const Di=Ft(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ft(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Di.range;function $D(t,e,r,n,i,a){const o=[[ja,1,gi],[ja,5,5*gi],[ja,15,15*gi],[ja,30,30*gi],[a,1,un],[a,5,5*un],[a,15,15*un],[a,30,30*un],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[n,1,Oi],[n,2,2*Oi],[r,1,E1],[e,1,$T],[e,3,3*$T],[t,1,$v]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=g1(([,,y])=>y).right(o,h);if(p===o.length)return t.every(e0(u/$v,d/$v,f));if(p===0)return op.every(Math.max(e0(u,d,f),1));const[v,x]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(x)}return[l,c]}const[Mae,Dae]=$D(Di,M1,Yg,RD,C1,P1),[Rae,$ae]=$D(Mi,O1,Kg,jf,I1,k1);function Lv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Lae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=qc(i),d=Gc(i),f=qc(a),h=Gc(a),p=qc(o),v=Gc(o),x=qc(l),y=Gc(l),g=qc(c),w=Gc(c),b={a:W,A:F,b:U,B:K,c:null,d:zT,e:zT,f:ooe,g:yoe,G:xoe,H:ioe,I:soe,j:aoe,L:LD,m:loe,M:coe,p:ee,q:J,Q:qT,s:GT,S:uoe,u:doe,U:foe,V:hoe,w:moe,W:poe,x:null,X:null,y:goe,Y:voe,Z:boe,"%":HT},T={a:oe,A:Te,b:We,B:Ze,c:null,d:WT,e:WT,f:Noe,g:Moe,G:Roe,H:woe,I:joe,j:_oe,L:FD,m:Soe,M:Aoe,p:sr,q:Bt,Q:qT,s:GT,S:Toe,u:Eoe,U:koe,V:Poe,w:Ioe,W:Coe,x:null,X:null,y:Ooe,Y:Doe,Z:$oe,"%":HT},j={a:O,A:I,b:C,B:P,c:L,d:BT,e:BT,f:eoe,g:FT,G:VT,H:UT,I:UT,j:Xae,L:Zae,m:Yae,M:Qae,p:E,q:Kae,Q:roe,s:noe,S:Jae,u:zae,U:Wae,V:Hae,w:Uae,W:qae,x:R,X:V,y:FT,Y:VT,Z:Gae,"%":toe};b.x=A(r,b),b.X=A(n,b),b.c=A(e,b),T.x=A(r,T),T.X=A(n,T),T.c=A(e,T);function A(re,ye){return function(xe){var X=[],Ke=-1,ke=0,xt=re.length,ct,Ut,vn;for(xe instanceof Date||(xe=new Date(+xe));++Ke<xt;)re.charCodeAt(Ke)===37&&(X.push(re.slice(ke,Ke)),(Ut=LT[ct=re.charAt(++Ke)])!=null?ct=re.charAt(++Ke):Ut=ct==="e"?" ":"0",(vn=ye[ct])&&(ct=vn(xe,Ut)),X.push(ct),ke=Ke+1);return X.push(re.slice(ke,Ke)),X.join("")}}function S(re,ye){return function(xe){var X=Hc(1900,void 0,1),Ke=_(X,re,xe+="",0),ke,xt;if(Ke!=xe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ye&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ke=Vv(Hc(X.y,0,1)),xt=ke.getUTCDay(),ke=xt>4||xt===0?cp.ceil(ke):cp(ke),ke=Gg.offset(ke,(X.V-1)*7),X.y=ke.getUTCFullYear(),X.m=ke.getUTCMonth(),X.d=ke.getUTCDate()+(X.w+6)%7):(ke=Lv(Hc(X.y,0,1)),xt=ke.getDay(),ke=xt>4||xt===0?lp.ceil(ke):lp(ke),ke=jf.offset(ke,(X.V-1)*7),X.y=ke.getFullYear(),X.m=ke.getMonth(),X.d=ke.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),xt="Z"in X?Vv(Hc(X.y,0,1)).getUTCDay():Lv(Hc(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(xt+5)%7:X.w+X.U*7-(xt+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Vv(X)):Lv(X)}}function _(re,ye,xe,X){for(var Ke=0,ke=ye.length,xt=xe.length,ct,Ut;Ke<ke;){if(X>=xt)return-1;if(ct=ye.charCodeAt(Ke++),ct===37){if(ct=ye.charAt(Ke++),Ut=j[ct in LT?ye.charAt(Ke++):ct],!Ut||(X=Ut(re,xe,X))<0)return-1}else if(ct!=xe.charCodeAt(X++))return-1}return X}function E(re,ye,xe){var X=u.exec(ye.slice(xe));return X?(re.p=d.get(X[0].toLowerCase()),xe+X[0].length):-1}function O(re,ye,xe){var X=p.exec(ye.slice(xe));return X?(re.w=v.get(X[0].toLowerCase()),xe+X[0].length):-1}function I(re,ye,xe){var X=f.exec(ye.slice(xe));return X?(re.w=h.get(X[0].toLowerCase()),xe+X[0].length):-1}function C(re,ye,xe){var X=g.exec(ye.slice(xe));return X?(re.m=w.get(X[0].toLowerCase()),xe+X[0].length):-1}function P(re,ye,xe){var X=x.exec(ye.slice(xe));return X?(re.m=y.get(X[0].toLowerCase()),xe+X[0].length):-1}function L(re,ye,xe){return _(re,e,ye,xe)}function R(re,ye,xe){return _(re,r,ye,xe)}function V(re,ye,xe){return _(re,n,ye,xe)}function W(re){return o[re.getDay()]}function F(re){return a[re.getDay()]}function U(re){return c[re.getMonth()]}function K(re){return l[re.getMonth()]}function ee(re){return i[+(re.getHours()>=12)]}function J(re){return 1+~~(re.getMonth()/3)}function oe(re){return o[re.getUTCDay()]}function Te(re){return a[re.getUTCDay()]}function We(re){return c[re.getUTCMonth()]}function Ze(re){return l[re.getUTCMonth()]}function sr(re){return i[+(re.getUTCHours()>=12)]}function Bt(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ye=A(re+="",b);return ye.toString=function(){return re},ye},parse:function(re){var ye=S(re+="",!1);return ye.toString=function(){return re},ye},utcFormat:function(re){var ye=A(re+="",T);return ye.toString=function(){return re},ye},utcParse:function(re){var ye=S(re+="",!0);return ye.toString=function(){return re},ye}}}var LT={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,Vae=/^%/,Fae=/[\\^$*+?|[\]().{}]/g;function Re(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Bae(t){return t.replace(Fae,"\\$&")}function qc(t){return new RegExp("^(?:"+t.map(Bae).join("|")+")","i")}function Gc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Uae(t,e,r){var n=Qt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function zae(t,e,r){var n=Qt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Wae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Hae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function qae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function VT(t,e,r){var n=Qt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function FT(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kae(t,e,r){var n=Qt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Yae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function BT(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Xae(t,e,r){var n=Qt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function UT(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Qae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Jae(t,e,r){var n=Qt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Zae(t,e,r){var n=Qt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function eoe(t,e,r){var n=Qt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function toe(t,e,r){var n=Vae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function roe(t,e,r){var n=Qt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function noe(t,e,r){var n=Qt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function zT(t,e){return Re(t.getDate(),e,2)}function ioe(t,e){return Re(t.getHours(),e,2)}function soe(t,e){return Re(t.getHours()%12||12,e,2)}function aoe(t,e){return Re(1+jf.count(Mi(t),t),e,3)}function LD(t,e){return Re(t.getMilliseconds(),e,3)}function ooe(t,e){return LD(t,e)+"000"}function loe(t,e){return Re(t.getMonth()+1,e,2)}function coe(t,e){return Re(t.getMinutes(),e,2)}function uoe(t,e){return Re(t.getSeconds(),e,2)}function doe(t){var e=t.getDay();return e===0?7:e}function foe(t,e){return Re(Kg.count(Mi(t)-1,t),e,2)}function VD(t){var e=t.getDay();return e>=4||e===0?wl(t):wl.ceil(t)}function hoe(t,e){return t=VD(t),Re(wl.count(Mi(t),t)+(Mi(t).getDay()===4),e,2)}function moe(t){return t.getDay()}function poe(t,e){return Re(lp.count(Mi(t)-1,t),e,2)}function goe(t,e){return Re(t.getFullYear()%100,e,2)}function yoe(t,e){return t=VD(t),Re(t.getFullYear()%100,e,2)}function voe(t,e){return Re(t.getFullYear()%1e4,e,4)}function xoe(t,e){var r=t.getDay();return t=r>=4||r===0?wl(t):wl.ceil(t),Re(t.getFullYear()%1e4,e,4)}function boe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function WT(t,e){return Re(t.getUTCDate(),e,2)}function woe(t,e){return Re(t.getUTCHours(),e,2)}function joe(t,e){return Re(t.getUTCHours()%12||12,e,2)}function _oe(t,e){return Re(1+Gg.count(Di(t),t),e,3)}function FD(t,e){return Re(t.getUTCMilliseconds(),e,3)}function Noe(t,e){return FD(t,e)+"000"}function Soe(t,e){return Re(t.getUTCMonth()+1,e,2)}function Aoe(t,e){return Re(t.getUTCMinutes(),e,2)}function Toe(t,e){return Re(t.getUTCSeconds(),e,2)}function Eoe(t){var e=t.getUTCDay();return e===0?7:e}function koe(t,e){return Re(Yg.count(Di(t)-1,t),e,2)}function BD(t){var e=t.getUTCDay();return e>=4||e===0?jl(t):jl.ceil(t)}function Poe(t,e){return t=BD(t),Re(jl.count(Di(t),t)+(Di(t).getUTCDay()===4),e,2)}function Ioe(t){return t.getUTCDay()}function Coe(t,e){return Re(cp.count(Di(t)-1,t),e,2)}function Ooe(t,e){return Re(t.getUTCFullYear()%100,e,2)}function Moe(t,e){return t=BD(t),Re(t.getUTCFullYear()%100,e,2)}function Doe(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function Roe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jl(t):jl.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function $oe(){return"+0000"}function HT(){return"%"}function qT(t){return+t}function GT(t){return Math.floor(+t/1e3)}var po,UD,zD;Loe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Loe(t){return po=Lae(t),UD=po.format,po.parse,zD=po.utcFormat,po.utcParse,po}function Voe(t){return new Date(t)}function Foe(t){return t instanceof Date?+t:+new Date(+t)}function D1(t,e,r,n,i,a,o,l,c,u){var d=w1(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),x=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),w=u("%b %d"),b=u("%B"),T=u("%Y");function j(A){return(c(A)<A?p:l(A)<A?v:o(A)<A?x:a(A)<A?y:n(A)<A?i(A)<A?g:w:r(A)<A?b:T)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,Foe)):h().map(Voe)},d.ticks=function(A){var S=h();return t(S[0],S[S.length-1],A??10)},d.tickFormat=function(A,S){return S==null?j:u(S)},d.nice=function(A){var S=h();return(!A||typeof A.range!="function")&&(A=e(S[0],S[S.length-1],A??10)),A?h(kD(S,A)):d},d.copy=function(){return wf(d,D1(t,e,r,n,i,a,o,l,c,u))},d}function Boe(){return yn.apply(D1(Rae,$ae,Mi,O1,Kg,jf,I1,k1,ja,UD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uoe(){return yn.apply(D1(Mae,Dae,Di,M1,Yg,Gg,C1,P1,ja,zD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xg(){var t=0,e=1,r,n,i,a,o=wr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,o=f(p,v),u):[o(0),o(1)]}}return u.range=d(hc),u.rangeRound=d(b1),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Js(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function WD(){var t=Qs(Xg()(wr));return t.copy=function(){return Js(t,WD())},Ui.apply(t,arguments)}function HD(){var t=N1(Xg()).domain([1,10]);return t.copy=function(){return Js(t,HD()).base(t.base())},Ui.apply(t,arguments)}function qD(){var t=S1(Xg());return t.copy=function(){return Js(t,qD()).constant(t.constant())},Ui.apply(t,arguments)}function R1(){var t=A1(Xg());return t.copy=function(){return Js(t,R1()).exponent(t.exponent())},Ui.apply(t,arguments)}function zoe(){return R1.apply(null,arguments).exponent(.5)}function GD(){var t=[],e=wr;function r(n){if(n!=null&&!isNaN(n=+n))return e((xf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Cs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>kse(t,a/n))},r.copy=function(){return GD(e).domain(t)},Ui.apply(r,arguments)}function Qg(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=wr,d,f=!1,h;function p(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-a)*(n*x<n*a?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function v(x){return function(y){var g,w,b;return arguments.length?([g,w,b]=y,u=tae(x,[g,w,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(hc),p.rangeRound=v(b1),p.unknown=function(x){return arguments.length?(h=x,p):h},function(x){return d=x,i=x(t),a=x(e),o=x(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function KD(){var t=Qs(Qg()(wr));return t.copy=function(){return Js(t,KD())},Ui.apply(t,arguments)}function YD(){var t=N1(Qg()).domain([.1,1,10]);return t.copy=function(){return Js(t,YD()).base(t.base())},Ui.apply(t,arguments)}function XD(){var t=S1(Qg());return t.copy=function(){return Js(t,XD()).constant(t.constant())},Ui.apply(t,arguments)}function $1(){var t=A1(Qg());return t.copy=function(){return Js(t,$1()).exponent(t.exponent())},Ui.apply(t,arguments)}function Woe(){return $1.apply(null,arguments).exponent(.5)}const KT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wd,scaleDiverging:KD,scaleDivergingLog:YD,scaleDivergingPow:$1,scaleDivergingSqrt:Woe,scaleDivergingSymlog:XD,scaleIdentity:ED,scaleImplicit:t0,scaleLinear:ap,scaleLog:PD,scaleOrdinal:y1,scalePoint:ku,scalePow:T1,scaleQuantile:OD,scaleQuantize:MD,scaleRadial:CD,scaleSequential:WD,scaleSequentialLog:HD,scaleSequentialPow:R1,scaleSequentialQuantile:GD,scaleSequentialSqrt:zoe,scaleSequentialSymlog:qD,scaleSqrt:Nae,scaleSymlog:ID,scaleThreshold:DD,scaleTime:Boe,scaleUtc:Uoe,tickFormat:TD},Symbol.toStringTag,{value:"Module"}));var Hoe=ic;function qoe(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!Hoe(o):r(o,l)))var l=o,c=a}return c}var Jg=qoe;function Goe(t,e){return t>e}var QD=Goe,Koe=Jg,Yoe=QD,Xoe=fc;function Qoe(t){return t&&t.length?Koe(t,Xoe,Yoe):void 0}var Joe=Qoe;const Zg=Ue(Joe);function Zoe(t,e){return t<e}var JD=Zoe,ele=Jg,tle=JD,rle=fc;function nle(t){return t&&t.length?ele(t,rle,tle):void 0}var ile=nle;const ey=Ue(ile);var sle=Qj,ale=si,ole=aD,lle=Dr;function cle(t,e){var r=lle(t)?sle:ole;return r(t,ale(e))}var ule=cle,dle=iD,fle=ule;function hle(t,e){return dle(fle(t,e),1)}var mle=hle;const ple=Ue(mle);var gle=f1;function yle(t,e){return gle(t,e)}var vle=yle;const _f=Ue(vle);var mc=1e9,xle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V1,lt=!0,mn="[DecimalError] ",Ea=mn+"Invalid argument: ",L1=mn+"Exponent out of range: ",pc=Math.floor,ha=Math.pow,ble=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ur,Ht=1e7,it=7,ZD=9007199254740991,up=pc(ZD/it),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*it;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};se.dividedBy=se.div=function(t){return _i(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,r=e.constructor;return Ge(_i(e,new r(t),0,1),r.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return Pt(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ur))throw Error(mn+"NaN");if(r.s<1)throw Error(mn+(r.s?"NaN":"-Infinity"));return r.eq(Ur)?new n(0):(lt=!1,e=_i(Ad(r,a),Ad(t,a),a),lt=!0,Ge(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rR(e,t):eR(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(mn+"NaN");return r.s?(lt=!1,e=_i(r,t,0,1).times(t),lt=!0,r.minus(e)):Ge(new n(r),i)};se.naturalExponential=se.exp=function(){return tR(this)};se.naturalLogarithm=se.ln=function(){return Ad(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eR(e,t):rR(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ea+t);if(e=Pt(i)+1,n=i.d.length-1,r=n*it+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};se.squareRoot=se.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(mn+"NaN")}for(t=Pt(l),lt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Un(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(_i(l,a,o+2)).times(.5),Un(a.d).slice(0,o)===(e=Un(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ge(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return lt=!0,Ge(n,r)};se.times=se.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+p[n]*h[i-n-1]+e,a[i--]=l%Ht|0,e=l/Ht|0;a[i]=(a[i]+e)%Ht|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,lt?Ge(t,f.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ti(t,0,mc),e===void 0?e=n.rounding:ti(e,0,8),Ge(r,t+Pt(r)+1,e))};se.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Wa(n,!0):(ti(t,0,mc),e===void 0?e=i.rounding:ti(e,0,8),n=Ge(new i(n),t+1,e),r=Wa(n,!0,t+1)),r};se.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Wa(i):(ti(t,0,mc),e===void 0?e=a.rounding:ti(e,0,8),n=Ge(new a(i),t+Pt(i)+1,e),r=Wa(n.abs(),!1,t+Pt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Pt(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ur);if(l=new c(l),!l.s){if(t.s<1)throw Error(mn+"Infinity");return l}if(l.eq(Ur))return l;if(n=c.precision,t.eq(Ur))return Ge(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=ZD){for(i=new c(Ur),e=Math.ceil(n/it+4),lt=!1;r%2&&(i=i.times(l),XT(i.d,e)),r=pc(r/2),r!==0;)l=l.times(l),XT(l.d,e);return lt=!0,t.s<0?new c(Ur).div(i):Ge(i,n)}}else if(a<0)throw Error(mn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,lt=!1,i=t.times(Ad(l,n+u)),lt=!0,i=tR(i),i.s=a,i};se.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Pt(i),n=Wa(i,r<=a.toExpNeg||r>=a.toExpPos)):(ti(t,1,mc),e===void 0?e=a.rounding:ti(e,0,8),i=Ge(new a(i),t,e),r=Pt(i),n=Wa(i,t<=r||r<=a.toExpNeg,t)),n};se.toSignificantDigits=se.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ti(t,1,mc),e===void 0?e=n.rounding:ti(e,0,8)),Ge(new n(r),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),r=t.constructor;return Wa(t,e<=r.toExpNeg||e>=r.toExpPos)};function eR(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),lt?Ge(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/it),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ht|0,c[a]%=Ht;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,lt?Ge(e,f):e}function ti(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ea+t)}function Un(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=it-n.length,r&&(a+=is(r)),a+=n;o=t[e],n=o+"",r=it-n.length,r&&(a+=is(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _i=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ht|0,o=a/Ht|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ht+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,f,h,p,v,x,y,g,w,b,T,j,A,S,_,E=n.constructor,O=n.s==i.s?1:-1,I=n.d,C=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(mn+"Division by zero");for(c=n.e-i.e,S=C.length,j=I.length,p=new E(O),v=p.d=[],u=0;C[u]==(I[u]||0);)++u;if(C[u]>(I[u]||0)&&--c,a==null?w=a=E.precision:o?w=a+(Pt(n)-Pt(i))+1:w=a,w<0)return new E(0);if(w=w/it+2|0,u=0,S==1)for(d=0,C=C[0],w++;(u<j||d)&&w--;u++)b=d*Ht+(I[u]||0),v[u]=b/C|0,d=b%C|0;else{for(d=Ht/(C[0]+1)|0,d>1&&(C=t(C,d),I=t(I,d),S=C.length,j=I.length),T=S,x=I.slice(0,S),y=x.length;y<S;)x[y++]=0;_=C.slice(),_.unshift(0),A=C[0],C[1]>=Ht/2&&++A;do d=0,l=e(C,x,S,y),l<0?(g=x[0],S!=y&&(g=g*Ht+(x[1]||0)),d=g/A|0,d>1?(d>=Ht&&(d=Ht-1),f=t(C,d),h=f.length,y=x.length,l=e(f,x,h,y),l==1&&(d--,r(f,S<h?_:C,h))):(d==0&&(l=d=1),f=C.slice()),h=f.length,h<y&&f.unshift(0),r(x,f,y),l==-1&&(y=x.length,l=e(C,x,S,y),l<1&&(d++,r(x,S<y?_:C,y))),y=x.length):l===0&&(d++,x=[0]),v[u++]=d,l&&x[0]?x[y++]=I[T]||0:(x=[I[T]],y=1);while((T++<j||x[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=c,Ge(p,o?a+Pt(p)+1:a)}}();function tR(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Pt(t)>16)throw Error(L1+Pt(t));if(!t.s)return new d(Ur);for(lt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(ha(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Ur),d.precision=l;;){if(i=Ge(i.times(t),l),r=r.times(++c),o=a.plus(_i(i,r,l)),Un(o.d).slice(0,l)===Un(a.d).slice(0,l)){for(;u--;)a=Ge(a.times(a),l);return d.precision=f,e==null?(lt=!0,Ge(a,f)):a}a=o}}function Pt(t){for(var e=t.e*it,r=t.d[0];r>=10;r/=10)e++;return e}function Fv(t,e,r){if(e>t.LN10.sd())throw lt=!0,r&&(t.precision=r),Error(mn+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function is(t){for(var e="";t--;)e+="0";return e}function Ad(t,e){var r,n,i,a,o,l,c,u,d,f=1,h=10,p=t,v=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(mn+(p.s?"NaN":"-Infinity"));if(p.eq(Ur))return new x(0);if(e==null?(lt=!1,u=y):u=e,p.eq(10))return e==null&&(lt=!0),Fv(x,u);if(u+=h,x.precision=u,r=Un(v),n=r.charAt(0),a=Pt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Un(p.d),n=r.charAt(0),f++;a=Pt(p),n>1?(p=new x("0."+r),a++):p=new x(n+"."+r.slice(1))}else return c=Fv(x,u+2,y).times(a+""),p=Ad(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=y,e==null?(lt=!0,Ge(p,y)):p;for(l=o=p=_i(p.minus(Ur),p.plus(Ur),u),d=Ge(p.times(p),u),i=3;;){if(o=Ge(o.times(d),u),c=l.plus(_i(o,new x(i),u)),Un(c.d).slice(0,u)===Un(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Fv(x,u+2,y).times(a+""))),l=_i(l,new x(f),u),x.precision=y,e==null?(lt=!0,Ge(l,y)):l;l=c,i+=2}}function YT(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=pc(r/it),t.d=[],n=(r+1)%it,r<0&&(n+=it),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=it;n<i;)t.d.push(+e.slice(n,n+=it));e=e.slice(n),n=it-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),lt&&(t.e>up||t.e<-up))throw Error(L1+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,r){var n,i,a,o,l,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=it,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/it),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=it,i=n-it+o}if(r!==void 0&&(a=ha(10,o-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ha(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=Pt(t),f.length=1,e=e-a-1,f[0]=ha(10,(it-e%it)%it),t.e=pc(-e/it)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=ha(10,it-n),f[d]=i>0?(u/ha(10,o-i)%ha(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Ht&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Ht)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(lt&&(t.e>up||t.e<-up))throw Error(L1+Pt(t));return t}function rR(t,e){var r,n,i,a,o,l,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),lt?Ge(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(p/it),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Ht-1;--c[a],c[i]+=Ht}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,lt?Ge(e,p):e):new h(0)}function Wa(t,e,r){var n,i=Pt(t),a=Un(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+is(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+is(-i-1)+a,r&&(n=r-o)>0&&(a+=is(n))):i>=o?(a+=is(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+is(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=is(n))),t.s<0?"-"+a:a}function XT(t,e){if(t.length>e)return t.length=e,!0}function nR(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ea+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return YT(o,a.toString())}else if(typeof a!="string")throw Error(Ea+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ble.test(a))YT(o,a);else throw Error(Ea+a)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nR,i.config=i.set=wle,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function wle(t){if(!t||typeof t!="object")throw Error(mn+"Object expected");var e,r,n,i=["precision",1,mc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(pc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ea+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ea+r+": "+n);return this}var V1=nR(xle);Ur=new V1(1);const He=V1;function jle(t){return Ale(t)||Sle(t)||Nle(t)||_le()}function _le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nle(t,e){if(t){if(typeof t=="string")return s0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(t,e)}}function Sle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ale(t){if(Array.isArray(t))return s0(t)}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tle=function(e){return e},iR={},sR=function(e){return e===iR},QT=function(e){return function r(){return arguments.length===0||arguments.length===1&&sR(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Ele=function t(e,r){return e===1?r:QT(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==iR}).length;return o>=e?r.apply(void 0,i):t(e-o,QT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return sR(f)?c.shift():f});return r.apply(void 0,jle(d).concat(c))}))})},ty=function(e){return Ele(e.length,e)},a0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},kle=ty(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ple=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Tle;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},o0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},aR=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Ile(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function Cle(t,e,r){for(var n=new He(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Ole=ty(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Mle=ty(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Dle=ty(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ry={rangeStep:Cle,getDigitCount:Ile,interpolateNumber:Ole,uninterpolateNumber:Mle,uninterpolateTruncation:Dle};function l0(t){return Lle(t)||$le(t)||oR(t)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lle(t){if(Array.isArray(t))return c0(t)}function Td(t,e){return Ble(t)||Fle(t,e)||oR(t,e)||Vle()}function Vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oR(t,e){if(t){if(typeof t=="string")return c0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c0(t,e)}}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Ble(t){if(Array.isArray(t))return t}function lR(t){var e=Td(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function cR(t,e,r){if(t.lte(0))return new He(0);var n=ry.getDigitCount(t.toNumber()),i=new He(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new He(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new He(Math.ceil(c))}function Ule(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new He(10).pow(ry.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var o=Math.floor((e-1)/2),l=Ple(kle(function(c){return i.add(new He(c-o).mul(n)).toNumber()}),a0);return l(0,e)}function uR(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var a=cR(new He(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new He(0):(o=new He(t).add(e).div(2),o=o.sub(new He(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new He(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?uR(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new He(l).mul(a)),tickMax:o.add(new He(c).mul(a))})}function zle(t){var e=Td(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=lR([r,n]),c=Td(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(l0(a0(0,i-1).map(function(){return 1/0}))):[].concat(l0(a0(0,i-1).map(function(){return-1/0})),[d]);return r>n?o0(f):f}if(u===d)return Ule(u,i,a);var h=uR(u,d,o,a),p=h.step,v=h.tickMin,x=h.tickMax,y=ry.rangeStep(v,x.add(new He(.1).mul(p)),p);return r>n?o0(y):y}function Wle(t,e){var r=Td(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lR([n,i]),l=Td(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=cR(new He(u).sub(c).div(d-1),a,0),h=[].concat(l0(ry.rangeStep(new He(c),new He(u).sub(new He(.99).mul(f)),f)),[u]);return n>i?o0(h):h}var Hle=aR(zle),qle=aR(Wle),Gle="Invariant failed";function Ha(t,e){throw new Error(Gle)}var Kle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function Yle(t,e){return Zle(t)||Jle(t,e)||Qle(t,e)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(t,e){if(t){if(typeof t=="string")return JT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(t,e)}}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Zle(t){if(Array.isArray(t))return t}function ece(t,e){if(t==null)return{};var r=tce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hR(n.key),n)}}function ice(t,e,r){return e&&nce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sce(t,e,r){return e=fp(e),ace(t,dR()?Reflect.construct(e,r||[],fp(t).constructor):e.apply(t,r))}function ace(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oce(t)}function oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dR=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fp(t)}function lce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u0(t,e)}function fR(t,e,r){return e=hR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hR(t){var e=cce(t,"string");return _l(e)=="symbol"?e:e+""}function cce(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nf=function(t){function e(){return rce(this,e),sce(this,e,arguments)}return lce(e,t),ice(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=ece(n,Kle),p=le(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ha();var v=c.map(function(x){var y=u(x,l),g=y.x,w=y.y,b=y.value,T=y.errorVal;if(!T)return null;var j=[],A,S;if(Array.isArray(T)){var _=Yle(T,2);A=_[0],S=_[1]}else A=S=T;if(a==="vertical"){var E=d.scale,O=w+i,I=O+o,C=O-o,P=E(b-A),L=E(b+S);j.push({x1:L,y1:I,x2:L,y2:C}),j.push({x1:P,y1:O,x2:L,y2:O}),j.push({x1:P,y1:I,x2:P,y2:C})}else if(a==="horizontal"){var R=f.scale,V=g+i,W=V-o,F=V+o,U=R(b-A),K=R(b+S);j.push({x1:W,y1:K,x2:F,y2:K}),j.push({x1:V,y1:U,x2:V,y2:K}),j.push({x1:W,y1:U,x2:F,y2:U})}return $.createElement(De,dp({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),j.map(function(ee){return $.createElement("line",dp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return $.createElement(De,{className:"recharts-errorBars"},v)}}])}($.Component);fR(Nf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fR(Nf,"displayName","ErrorBar");function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function ZT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(r),!0).forEach(function(n){uce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uce(t,e,r){return e=dce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dce(t){var e=fce(t,"string");return Ed(e)=="symbol"?e:e+""}function fce(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mR=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Fr(r,Is);if(!o)return null;var l=Is.defaultProps,c=l!==void 0?sa(sa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?sa(sa({},h),f.props):{},v=p.dataKey,x=p.name,y=p.legendType,g=p.hide;return{inactive:g,dataKey:v,type:c.iconType||y||"square",color:F1(f),value:x||v,payload:p}}),sa(sa(sa({},c),Is.getWithHeight(o,i)),{},{payload:u,item:o})};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function eE(t){return gce(t)||pce(t)||mce(t)||hce()}function hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return d0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d0(t,e)}}function pce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gce(t){if(Array.isArray(t))return d0(t)}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(r),!0).forEach(function(n){el(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function el(t,e,r){return e=yce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yce(t){var e=vce(t,"string");return kd(e)=="symbol"?e:e+""}function vce(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rt(t,e,r){return pe(t)||pe(e)?r:Lt(e)?Hr(t,e,r):he(e)?e(t):r}function Pu(t,e,r,n){var i=ple(t,function(l){return Rt(l,e)});if(r==="number"){var a=i.filter(function(l){return Z(l)||parseFloat(l)});return a.length?[ey(a),Zg(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!pe(l)}):i;return o.map(function(l){return Lt(l)||l instanceof Date?l:""})}var xce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(xr(f-d)!==xr(h-f)){var v=[];if(xr(h-f)===xr(c[1]-c[0])){p=h;var x=f+c[1]-c[0];v[0]=Math.min(x,(x+d)/2),v[1]=Math.max(x,(x+d)/2)}else{p=d;var y=h+c[1]-c[0];v[0]=Math.min(f,(y+f)/2),v[1]=Math.max(f,(y+f)/2)}var g=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>g[0]&&e<=g[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var w=Math.min(d,h),b=Math.max(d,h);if(e>(w+f)/2&&e<=(b+f)/2){o=i[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<l-1&&e>(n[T].coordinate+n[T-1].coordinate)/2&&e<=(n[T].coordinate+n[T+1].coordinate)/2||T===l-1&&e>(n[T].coordinate+n[T-1].coordinate)/2){o=n[T].index;break}return o},F1=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bce=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],x=v.items,y=v.cateAxisId,g=x.filter(function(S){return ji(S.type).indexOf("Bar")>=0});if(g&&g.length){var w=g[0].type.defaultProps,b=w!==void 0?vt(vt({},w),g[0].props):g[0].props,T=b.barSize,j=b[y];o[j]||(o[j]=[]);var A=pe(T)?r:T;o[j].push({item:g[0],stackList:g.slice(1),barSize:pe(A)?void 0:br(A,n,0)})}}return o},wce=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=br(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,v=o.reduce(function(T,j){return T+j.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(h=!0,p*=.9,v=c*p);var x=(i-v)/2>>0,y={offset:x-u,size:0};d=o.reduce(function(T,j){var A={item:j.item,position:{offset:y.offset+y.size+u,size:h?p:j.barSize}},S=[].concat(eE(T),[A]);return y=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){S.push({item:_,position:y})}),S},f)}else{var g=br(n,i,0,!0);i-2*g-(c-1)*u<=0&&(u=0);var w=(i-2*g-(c-1)*u)/c;w>1&&(w>>=0);var b=l===+l?Math.min(w,l):w;d=o.reduce(function(T,j,A){var S=[].concat(eE(T),[{item:j.item,position:{offset:g+(w+u)*A+(w-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(_){S.push({item:_,position:S[S.length-1].position})}),S},f)}return d},jce=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=mR({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&p!=="center"&&Z(e[p]))return vt(vt({},e),{},el({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&v!=="middle"&&Z(e[v]))return vt(vt({},e),{},el({},v,e[v]+(h||0)))}return e},_ce=function(e,r,n){return pe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pR=function(e,r,n,i,a){var o=r.props.children,l=qr(o,Nf).filter(function(u){return _ce(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Rt(d,n);if(pe(f))return u;var h=Array.isArray(f)?[ey(f),Zg(f)]:[f,f],p=c.reduce(function(v,x){var y=Rt(d,x,0),g=h[0]-Math.abs(Array.isArray(y)?y[0]:y),w=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(g,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Nce=function(e,r,n,i,a){var o=r.map(function(l){return pR(e,l,n,a,i)}).filter(function(l){return!pe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},gR=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&pR(e,c,u,i)||Pu(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yR=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},vR=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},vi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xr(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!yf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Bv=new WeakMap,xh=function(e,r){if(typeof r!="function")return e;Bv.has(e)||Bv.set(e,new WeakMap);var n=Bv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},xR=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ap(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ku(),realScaleType:"point"}:a==="category"?{scale:wd(),realScaleType:"band"}:{scale:ap(),realScaleType:"linear"};if(Ba(i)){var c="scale".concat(Vg(i));return{scale:(KT[c]||ku)(),realScaleType:KT[c]?c:"point"}}return he(i)?{scale:i}:{scale:ku(),realScaleType:"point"}},rE=1e-4,bR=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-rE,o=Math.max(i[0],i[1])+rE,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},Sce=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Ace=function(e,r){if(!r||r.length!==2||!Z(r[0])||!Z(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<n)&&(a[0]=n),(!Z(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Tce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=yf(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Ece=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=yf(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},kce={sign:Tce,expand:KY,none:pl,silhouette:YY,wiggle:XY,positive:Ece},Pce=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=kce[n],o=GY().keys(i).value(function(l,c){return+Rt(l,c,0)}).order(Rb).offset(a);return o(e)},Ice=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?vt(vt({},h.type.defaultProps),h.props):h.props,x=v.stackId,y=v.hide;if(y)return f;var g=v[n],w=f[g]||{hasStack:!1,stackGroups:{}};if(Lt(x)){var b=w.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(h),w.hasStack=!0,w.stackGroups[x]=b}else w.stackGroups[cc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return vt(vt({},f),{},el({},g,w))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,y){var g=p.stackGroups[y];return vt(vt({},x),{},el({},y,{numericAxisId:n,cateAxisId:i,items:g.items,stackedData:Pce(e,g.items,a)}))},v)}return vt(vt({},f),{},el({},h,p))},d)},wR=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Hle(u,a,l);return e.domain([ey(d),Zg(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=qle(f,a,l);return{niceTicks:h}}return null};function nE(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!pe(i[e.dataKey])){var l=Vm(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Rt(i,pe(o)?e.dataKey:o);return pe(c)?null:e.scale(c)}var iE=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Rt(o,r.dataKey,r.domain[l]);return pe(c)?null:r.scale(c)-a/2+i},Cce=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Oce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Lt(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Mce=function(e){return e.reduce(function(r,n){return[ey(n.concat([r[0]]).filter(Z)),Zg(n.concat([r[1]]).filter(Z))]},[1/0,-1/0])},jR=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var f=Mce(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},sE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f0=function(e,r,n){if(he(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Z(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(sE.test(e[0])){var a=+sE.exec(e[0])[1];i[0]=r[0]-a}else he(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Z(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(aE.test(e[1])){var o=+aE.exec(e[1])[1];i[1]=r[1]+o}else he(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},hp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=m1(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},oE=function(e,r,n){return!e||!e.length||_f(e,Hr(n,"type.defaultProps.domain"))?r:e},_R=function(e,r){var n=e.type.defaultProps?vt(vt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return vt(vt({},le(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:F1(e),value:Rt(r,i),type:c,payload:r,chartType:u,hide:d})};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function lE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(r),!0).forEach(function(n){NR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NR(t,e,r){return e=Dce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dce(t){var e=Rce(t,"string");return Pd(e)=="symbol"?e:e+""}function Rce(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ce(t,e){return Bce(t)||Fce(t,e)||Vce(t,e)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(t,e){if(t){if(typeof t=="string")return cE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cE(t,e)}}function cE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Bce(t){if(Array.isArray(t))return t}var mp=Math.PI/180,Uce=function(e){return e*180/Math.PI},Je=function(e,r,n,i){return{x:e+Math.cos(-mp*i)*n,y:r+Math.sin(-mp*i)*n}},SR=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},zce=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=br(e.cx,o,o/2),f=br(e.cy,l,l/2),h=SR(o,l,n),p=br(e.innerRadius,h,0),v=br(e.outerRadius,h,h*.8),x=Object.keys(r);return x.reduce(function(y,g){var w=r[g],b=w.domain,T=w.reversed,j;if(pe(w.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,v]),T&&(j=[j[1],j[0]]);else{j=w.range;var A=j,S=$ce(A,2);c=S[0],u=S[1]}var _=xR(w,a),E=_.realScaleType,O=_.scale;O.domain(b).range(j),bR(O);var I=wR(O,ui(ui({},w),{},{realScaleType:E})),C=ui(ui(ui({},w),I),{},{range:j,radius:v,realScaleType:E,scale:O,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return ui(ui({},y),{},NR({},g,C))},{})},Wce=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Hce=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=Wce({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Uce(u),angleInRadian:u}},qce=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Gce=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},uE=function(e,r){var n=e.x,i=e.y,a=Hce({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qce(r),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?ui(ui({},r),{},{radius:o,angle:Gce(p,r)}):null},AR=function(e){return!M.isValidElement(e)&&!he(e)&&typeof e!="boolean"?e.className:""};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var Kce=["offset"];function Yce(t){return Zce(t)||Jce(t)||Qce(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return h0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h0(t,e)}}function Jce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zce(t){if(Array.isArray(t))return h0(t)}function h0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eue(t,e){if(t==null)return{};var r=tue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(r),!0).forEach(function(n){rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rue(t,e,r){return e=nue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nue(t){var e=iue(t,"string");return Id(e)=="symbol"?e:e+""}function iue(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}var sue=function(e){var r=e.value,n=e.formatter,i=pe(e.children)?r:e.children;return he(n)?n(i):i},aue=function(e,r){var n=xr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},oue=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,x=c.clockWise,y=(f+h)/2,g=aue(p,v),w=g>=0?1:-1,b,T;i==="insideStart"?(b=p+w*o,T=x):i==="insideEnd"?(b=v-w*o,T=!x):i==="end"&&(b=v+w*o,T=x),T=g<=0?T:!T;var j=Je(u,d,y,b),A=Je(u,d,y,b+(T?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(T?0:1,`,
    `).concat(A.x,",").concat(A.y),_=pe(e.id)?cc("recharts-radial-line-"):e.id;return $.createElement("text",Cd({},n,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:_,d:S})),$.createElement("textPath",{xlinkHref:"#".concat(_)},r))},lue=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Je(o,l,u+n,h),v=p.x,x=p.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,g=Je(o,l,y,h),w=g.x,b=g.y;return{x:w,y:b,textAnchor:"middle",verticalAnchor:"middle"}},cue=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",v=f>0?"start":"end",x=u>=0?1:-1,y=x*i,g=x>0?"end":"start",w=x>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Ot(Ot({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var T={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},T),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-y,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return Ot(Ot({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Ot(Ot({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return a==="insideLeft"?Ot({x:l+y,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},S):a==="insideRight"?Ot({x:l+u-y,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},S):a==="insideTop"?Ot({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):a==="insideBottom"?Ot({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Ot({x:l+y,y:c+h,textAnchor:w,verticalAnchor:v},S):a==="insideTopRight"?Ot({x:l+u-y,y:c+h,textAnchor:g,verticalAnchor:v},S):a==="insideBottomLeft"?Ot({x:l+y,y:c+d-h,textAnchor:w,verticalAnchor:p},S):a==="insideBottomRight"?Ot({x:l+u-y,y:c+d-h,textAnchor:g,verticalAnchor:p},S):sc(a)&&(Z(a.x)||ba(a.x))&&(Z(a.y)||ba(a.y))?Ot({x:l+br(a.x,u),y:c+br(a.y,d),textAnchor:"end",verticalAnchor:"end"},S):Ot({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},uue=function(e){return"cx"in e&&Z(e.cx)};function Gt(t){var e=t.offset,r=e===void 0?5:e,n=eue(t,Kce),i=Ot({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||pe(l)&&pe(c)&&!M.isValidElement(u)&&!he(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(he(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=sue(i);var v=uue(a),x=le(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oue(i,p,x);var y=v?lue(i):cue(i);return $.createElement(za,Cd({className:ve("recharts-label",f)},x,y,{breakAll:h}),p)}Gt.displayName="Label";var TR=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,x=e.width,y=e.height,g=e.clockWise,w=e.labelViewBox;if(w)return w;if(Z(x)&&Z(y)){if(Z(f)&&Z(h))return{x:f,y:h,width:x,height:y};if(Z(p)&&Z(v))return{x:p,y:v,width:x,height:y}}return Z(f)&&Z(h)?{x:f,y:h,width:0,height:0}:Z(r)&&Z(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},due=function(e,r){return e?e===!0?$.createElement(Gt,{key:"label-implicit",viewBox:r}):Lt(e)?$.createElement(Gt,{key:"label-implicit",viewBox:r,value:e}):M.isValidElement(e)?e.type===Gt?M.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):he(e)?$.createElement(Gt,{key:"label-implicit",content:e,viewBox:r}):sc(e)?$.createElement(Gt,Cd({viewBox:r},e,{key:"label-implicit"})):null:null},fue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=TR(e),o=qr(i,Gt).map(function(c,u){return M.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=due(e.label,r||a);return[l].concat(Yce(o))};Gt.parseViewBox=TR;Gt.renderCallByParent=fue;function hue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var mue=hue;const pue=Ue(mue);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}var gue=["valueAccessor"],yue=["data","dataKey","clockWise","id","textBreakAll"];function vue(t){return jue(t)||wue(t)||bue(t)||xue()}function xue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bue(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function wue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jue(t){if(Array.isArray(t))return m0(t)}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function fE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fE(Object(r),!0).forEach(function(n){_ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ue(t,e,r){return e=Nue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nue(t){var e=Sue(t,"string");return Od(e)=="symbol"?e:e+""}function Sue(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mE(t,e){if(t==null)return{};var r=Aue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tue=function(e){return Array.isArray(e.value)?pue(e.value):e.value};function Ni(t){var e=t.valueAccessor,r=e===void 0?Tue:e,n=mE(t,gue),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=mE(n,yue);return!i||!i.length?null:$.createElement(De,{className:"recharts-label-list"},i.map(function(d,f){var h=pe(a)?r(d,f):Rt(d&&d.payload,a),p=pe(l)?{}:{id:"".concat(l,"-").concat(f)};return $.createElement(Gt,pp({},le(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Gt.parseViewBox(pe(o)?d:hE(hE({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ni.displayName="LabelList";function Eue(t,e){return t?t===!0?$.createElement(Ni,{key:"labelList-implicit",data:e}):$.isValidElement(t)||he(t)?$.createElement(Ni,{key:"labelList-implicit",data:e,content:t}):sc(t)?$.createElement(Ni,pp({data:e},t,{key:"labelList-implicit"})):null:null}function kue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=qr(n,Ni).map(function(o,l){return M.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Eue(t.label,e);return[a].concat(vue(i))}Ni.renderCallByParent=kue;function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function p0(){return p0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p0.apply(this,arguments)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){Pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pue(t,e,r){return e=Iue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iue(t){var e=Cue(t,"string");return Md(e)=="symbol"?e:e+""}function Cue(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oue=function(e,r){var n=xr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},bh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/mp,h=u?a:a+o*f,p=Je(r,n,d,h),v=Je(r,n,i,h),x=u?a-o*f:a,y=Je(r,n,d*Math.cos(f*mp),x);return{center:p,circleTangency:v,lineTangency:y,theta:f}},ER=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Oue(o,l),u=o+c,d=Je(r,n,a,o),f=Je(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Je(r,n,i,o),v=Je(r,n,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Mue=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=xr(d-u),h=bh({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,x=h.theta,y=bh({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),g=y.circleTangency,w=y.lineTangency,b=y.theta,T=c?Math.abs(u-d):Math.abs(u-d)-x-b;if(T<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):ER({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=bh({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=A.circleTangency,_=A.lineTangency,E=A.theta,O=bh({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,C=O.lineTangency,P=O.theta,L=c?Math.abs(u-d):Math.abs(u-d)-E-P;if(L<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},Due={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kR=function(e){var r=gE(gE({},Due),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var p=ve("recharts-sector",h),v=o-a,x=br(l,v,0,!0),y;return x>0&&Math.abs(d-f)<360?y=Mue({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=ER({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),$.createElement("path",p0({},le(r,!0),{className:p,d:y,role:"img"}))};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function yE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yE(Object(r),!0).forEach(function(n){Rue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rue(t,e,r){return e=$ue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Lue(t,"string");return Dd(e)=="symbol"?e:e+""}function Lue(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xE={curveBasisClosed:RY,curveBasisOpen:$Y,curveBasis:DY,curveBumpX:wY,curveBumpY:jY,curveLinearClosed:LY,curveLinear:Bg,curveMonotoneX:VY,curveMonotoneY:FY,curveNatural:BY,curveStep:UY,curveStepAfter:WY,curveStepBefore:zY},wh=function(e){return e.x===+e.x&&e.y===+e.y},Kc=function(e){return e.x},Yc=function(e){return e.y},Vue=function(e,r){if(he(e))return e;var n="curve".concat(Vg(e));return(n==="curveMonotone"||n==="curveBump")&&r?xE["".concat(n).concat(r==="vertical"?"Y":"X")]:xE[n]||Bg},Fue=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Vue(n,l),f=u?a.filter(function(x){return wh(x)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(x){return wh(x)}):o,v=f.map(function(x,y){return vE(vE({},x),{},{base:p[y]})});return l==="vertical"?h=dh().y(Yc).x1(Kc).x0(function(x){return x.base.x}):h=dh().x(Kc).y1(Yc).y0(function(x){return x.base.y}),h.defined(wh).curve(d),h(v)}return l==="vertical"&&Z(o)?h=dh().y(Yc).x1(Kc).x0(o):Z(o)?h=dh().x(Kc).y1(Yc).y0(o):h=_M().x(Kc).y(Yc),h.defined(wh).curve(d),h(f)},gp=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Fue(e):i;return M.createElement("path",g0({},le(e,!1),Fm(e),{className:ve("recharts-curve",r),d:o,ref:a}))},PR={exports:{}},Bue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uue=Bue,zue=Uue;function IR(){}function CR(){}CR.resetWarningCache=IR;var Wue=function(){function t(n,i,a,o,l,c){if(c!==zue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:CR,resetWarningCache:IR};return r.PropTypes=r,r};PR.exports=Wue();var Hue=PR.exports;const Le=Ue(Hue),{getOwnPropertyNames:que,getOwnPropertySymbols:Gue}=Object,{hasOwnProperty:Kue}=Object.prototype;function Uv(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function jh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function Yue(t){return t!=null?t[Symbol.toStringTag]:void 0}function bE(t){return que(t).concat(Gue(t))}const Xue=Object.hasOwn||((t,e)=>Kue.call(t,e));function io(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Que="__v",Jue="__o",Zue="_owner",{getOwnPropertyDescriptor:wE,keys:jE}=Object;function ede(t,e){return t.byteLength===e.byteLength&&yp(new Uint8Array(t),new Uint8Array(e))}function tde(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function rde(t,e){return t.byteLength===e.byteLength&&yp(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function nde(t,e){return io(t.getTime(),e.getTime())}function ide(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function sde(t,e){return t===e}function _E(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const ade=io;function ode(t,e,r){const n=jE(t);let i=n.length;if(jE(e).length!==i)return!1;for(;i-- >0;)if(!OR(t,e,r,n[i]))return!1;return!0}function Xc(t,e,r){const n=bE(t);let i=n.length;if(bE(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!OR(t,e,r,a)||(o=wE(t,a),l=wE(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lde(t,e){return io(t.valueOf(),e.valueOf())}function cde(t,e){return t.source===e.source&&t.flags===e.flags}function NE(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function yp(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ude(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function OR(t,e,r,n){return(n===Zue||n===Jue||n===Que)&&(t.$$typeof||e.$$typeof)?!0:Xue(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const dde="[object ArrayBuffer]",fde="[object Arguments]",hde="[object Boolean]",mde="[object DataView]",pde="[object Date]",gde="[object Error]",yde="[object Map]",vde="[object Number]",xde="[object Object]",bde="[object RegExp]",wde="[object Set]",jde="[object String]",_de={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Nde="[object URL]",Sde=Object.prototype.toString;function Ade({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:v}){return function(y,g,w){if(y===g)return!0;if(y==null||g==null)return!1;const b=typeof y;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?l(y,g,w):b==="function"?a(y,g,w):!1;const T=y.constructor;if(T!==g.constructor)return!1;if(T===Object)return c(y,g,w);if(Array.isArray(y))return e(y,g,w);if(T===Date)return n(y,g,w);if(T===RegExp)return d(y,g,w);if(T===Map)return o(y,g,w);if(T===Set)return f(y,g,w);const j=Sde.call(y);if(j===pde)return n(y,g,w);if(j===bde)return d(y,g,w);if(j===yde)return o(y,g,w);if(j===wde)return f(y,g,w);if(j===xde)return typeof y.then!="function"&&typeof g.then!="function"&&c(y,g,w);if(j===Nde)return p(y,g,w);if(j===gde)return i(y,g,w);if(j===fde)return c(y,g,w);if(_de[j])return h(y,g,w);if(j===dde)return t(y,g,w);if(j===mde)return r(y,g,w);if(j===hde||j===vde||j===jde)return u(y,g,w);if(v){let A=v[j];if(!A){const S=Yue(y);S&&(A=v[S])}if(A)return A(y,g,w)}return!1}}function Tde({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:ede,areArraysEqual:r?Xc:tde,areDataViewsEqual:rde,areDatesEqual:nde,areErrorsEqual:ide,areFunctionsEqual:sde,areMapsEqual:r?Uv(_E,Xc):_E,areNumbersEqual:ade,areObjectsEqual:r?Xc:ode,arePrimitiveWrappersEqual:lde,areRegExpsEqual:cde,areSetsEqual:r?Uv(NE,Xc):NE,areTypedArraysEqual:r?Uv(yp,Xc):yp,areUrlsEqual:ude,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=jh(n.areArraysEqual),a=jh(n.areMapsEqual),o=jh(n.areObjectsEqual),l=jh(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function Ede(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function kde({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Pde=Zs();Zs({strict:!0});Zs({circular:!0});Zs({circular:!0,strict:!0});Zs({createInternalComparator:()=>io});Zs({strict:!0,createInternalComparator:()=>io});Zs({circular:!0,createInternalComparator:()=>io});Zs({circular:!0,createInternalComparator:()=>io,strict:!0});function Zs(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Tde(t),o=Ade(a),l=r?r(o):Ede(o);return kde({circular:e,comparator:o,createState:n,equals:l,strict:i})}function Ide(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function SE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Ide(i)};requestAnimationFrame(n)}function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function Cde(t){return Rde(t)||Dde(t)||Mde(t)||Ode()}function Ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mde(t,e){if(t){if(typeof t=="string")return AE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(t,e)}}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rde(t){if(Array.isArray(t))return t}function $de(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Cde(o),c=l[0],u=l.slice(1);if(typeof c=="number"){SE(i.bind(null,u),c);return}i(c),SE(i.bind(null,u));return}y0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){MR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MR(t,e,r){return e=Lde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lde(t){var e=Vde(t,"string");return Rd(e)==="symbol"?e:String(e)}function Vde(t,e){if(Rd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fde=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Bde=function(e){return e},Ude=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Iu=function(e,r){return Object.keys(r).reduce(function(n,i){return EE(EE({},n),{},MR({},i,e(i,r[i])))},{})},kE=function(e,r,n){return e.map(function(i){return"".concat(Ude(i)," ").concat(r,"ms ").concat(n)}).join(",")};function zde(t,e){return qde(t)||Hde(t,e)||DR(t,e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qde(t){if(Array.isArray(t))return t}function Gde(t){return Xde(t)||Yde(t)||DR(t)||Kde()}function Kde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DR(t,e){if(t){if(typeof t=="string")return v0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(t,e)}}function Yde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xde(t){if(Array.isArray(t))return v0(t)}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vp=1e-4,RR=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$R=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},PE=function(e,r){return function(n){var i=RR(e,r);return $R(i,n)}},Qde=function(e,r){return function(n){var i=RR(e,r),a=[].concat(Gde(i.map(function(o,l){return o*l}).slice(1)),[0]);return $R(a,n)}},IE=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=zde(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=PE(i,o),h=PE(a,l),p=Qde(i,o),v=function(g){return g>1?1:g<0?0:g},x=function(g){for(var w=g>1?1:g,b=w,T=0;T<8;++T){var j=f(b)-w,A=p(b);if(Math.abs(j-w)<vp||A<vp)return h(b);b=v(b-j/A)}return h(b)};return x.isStepper=!1,x},Jde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,v=h*a,x=h+(p-v)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<vp&&Math.abs(x)<vp?[f,0]:[y,x]};return c.isStepper=!0,c.dt=l,c},Zde=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IE(i);case"spring":return Jde();default:if(i.split("(")[0]==="cubic-bezier")return IE(i)}return typeof i=="function"?i:null};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function CE(t){return rfe(t)||tfe(t)||LR(t)||efe()}function efe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rfe(t){if(Array.isArray(t))return b0(t)}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){x0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x0(t,e,r){return e=nfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nfe(t){var e=ife(t,"string");return $d(e)==="symbol"?e:String(e)}function ife(t,e){if($d(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sfe(t,e){return lfe(t)||ofe(t,e)||LR(t,e)||afe()}function afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LR(t,e){if(t){if(typeof t=="string")return b0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(t,e)}}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ofe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lfe(t){if(Array.isArray(t))return t}var xp=function(e,r,n){return e+(r-e)*n},w0=function(e){var r=e.from,n=e.to;return r!==n},cfe=function t(e,r,n){var i=Iu(function(a,o){if(w0(o)){var l=e(o.from,o.to,o.velocity),c=sfe(l,2),u=c[0],d=c[1];return Jt(Jt({},o),{},{from:u,velocity:d})}return o},r);return n<1?Iu(function(a,o){return w0(o)?Jt(Jt({},o),{},{velocity:xp(o.velocity,i[a].velocity,n),from:xp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const ufe=function(t,e,r,n,i){var a=Fde(t,e),o=a.reduce(function(y,g){return Jt(Jt({},y),{},x0({},g,[t[g],e[g]]))},{}),l=a.reduce(function(y,g){return Jt(Jt({},y),{},x0({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Iu(function(g,w){return w.from},l)},p=function(){return!Object.values(l).filter(w0).length},v=function(g){u||(u=g);var w=g-u,b=w/r.dt;l=cfe(r,l,b),i(Jt(Jt(Jt({},t),e),h())),u=g,p()||(c=requestAnimationFrame(f))},x=function(g){d||(d=g);var w=(g-d)/n,b=Iu(function(j,A){return xp.apply(void 0,CE(A).concat([r(w)]))},o);if(i(Jt(Jt(Jt({},t),e),b)),w<1)c=requestAnimationFrame(f);else{var T=Iu(function(j,A){return xp.apply(void 0,CE(A).concat([r(1)]))},o);i(Jt(Jt(Jt({},t),e),T))}};return f=r.isStepper?v:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}var dfe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ffe(t,e){if(t==null)return{};var r=hfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hfe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function zv(t){return yfe(t)||gfe(t)||pfe(t)||mfe()}function mfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pfe(t,e){if(t){if(typeof t=="string")return j0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j0(t,e)}}function gfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yfe(t){if(Array.isArray(t))return j0(t)}function j0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ME(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(r),!0).forEach(function(n){du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function du(t,e,r){return e=VR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VR(n.key),n)}}function bfe(t,e,r){return e&&xfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VR(t){var e=wfe(t,"string");return Nl(e)==="symbol"?e:String(e)}function wfe(t,e){if(Nl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_0(t,e)}function _fe(t){var e=Nfe();return function(){var n=bp(t),i;if(e){var a=bp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return N0(this,i)}}function N0(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S0(t)}function S0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bp(t)}var ri=function(t){jfe(r,t);var e=_fe(r);function r(n,i){var a;vfe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(S0(a)),a.changeStyle=a.changeStyle.bind(S0(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),N0(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},N0(a);a.state={style:c?du({},c,u):u}}else a.state={style:{}};return a}return bfe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var p={style:c?du({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Pde(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||u?f:i.to;if(this.state&&h){var y={style:c?du({},c,x):x};(c&&h[c]!==x||!c&&h!==x)&&this.setState(y)}this.runAnimation(bn(bn({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=ufe(o,l,Zde(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(x,y,g){if(g===0)return x;var w=y.duration,b=y.easing,T=b===void 0?"ease":b,j=y.style,A=y.properties,S=y.onAnimationEnd,_=g>0?o[g-1]:y,E=A||Object.keys(j);if(typeof T=="function"||T==="spring")return[].concat(zv(x),[a.runJSAnimation.bind(a,{from:_.style,to:j,duration:w,easing:T}),w]);var O=kE(E,w,T),I=bn(bn(bn({},_.style),j),{},{transition:O});return[].concat(zv(x),[I,w,S]).filter(Bde)};return this.manager.start([c].concat(zv(o.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=$de());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=l?du({},l,c):c,y=kE(Object.keys(x),o,u);v.start([d,a,bn(bn({},x),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=ffe(i,dfe),u=M.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var v=p.props,x=v.style,y=x===void 0?{}:x,g=v.className,w=M.cloneElement(p,bn(bn({},c),{},{style:bn(bn({},y),d),className:g}));return w};return u===1?f(M.Children.only(a)):$.createElement("div",null,M.Children.map(a,function(h){return f(h)}))}}]),r}(M.PureComponent);ri.displayName="Animate";ri.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ri.propTypes={from:Le.oneOfType([Le.object,Le.string]),to:Le.oneOfType([Le.object,Le.string]),attributeName:Le.string,duration:Le.number,begin:Le.number,easing:Le.oneOfType([Le.string,Le.func]),steps:Le.arrayOf(Le.shape({duration:Le.number.isRequired,style:Le.object.isRequired,easing:Le.oneOfType([Le.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Le.func]),properties:Le.arrayOf("string"),onAnimationEnd:Le.func})),children:Le.oneOfType([Le.node,Le.func]),isActive:Le.bool,canBegin:Le.bool,onAnimationEnd:Le.func,shouldReAnimate:Le.bool,onAnimationStart:Le.func,onAnimationReStart:Le.func};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wp.apply(this,arguments)}function Sfe(t,e){return kfe(t)||Efe(t,e)||Tfe(t,e)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tfe(t,e){if(t){if(typeof t=="string")return DE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Efe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kfe(t){if(Array.isArray(t))return t}function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(r),!0).forEach(function(n){Pfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pfe(t,e,r){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ife(t){var e=Cfe(t,"string");return Ld(e)=="symbol"?e:e+""}function Cfe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LE=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Ofe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Mfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B1=function(e){var r=$E($E({},Mfe),e),n=M.useRef(),i=M.useState(-1),a=Sfe(i,2),o=a[0],l=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&l(T)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,x=r.animationDuration,y=r.animationBegin,g=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=ve("recharts-rectangle",p);return w?$.createElement(ri,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:v,isActive:w},function(T){var j=T.width,A=T.height,S=T.x,_=T.y;return $.createElement(ri,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,isActive:g,easing:v},$.createElement("path",wp({},le(r,!0),{className:b,d:LE(S,_,j,A,h),ref:n})))}):$.createElement("path",wp({},le(r,!0),{className:b,d:LE(c,u,d,f,h)}))},Dfe=["points","className","baseLinePoints","connectNulls"];function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$o.apply(this,arguments)}function Rfe(t,e){if(t==null)return{};var r=$fe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $fe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VE(t){return Bfe(t)||Ffe(t)||Vfe(t)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(t,e){if(t){if(typeof t=="string")return A0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A0(t,e)}}function Ffe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bfe(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FE=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ufe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){FE(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FE(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Cu=function(e,r){var n=Ufe(e);r&&(n=[n.reduce(function(a,o){return[].concat(VE(a),VE(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},zfe=function(e,r,n){var i=Cu(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Cu(r.reverse(),n).slice(1))},Wfe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Rfe(e,Dfe);if(!r||!r.length)return null;var l=ve("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=zfe(r,i,a);return $.createElement("g",{className:l},$.createElement("path",$o({},le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?$.createElement("path",$o({},le(o,!0),{fill:"none",d:Cu(r,a)})):null,c?$.createElement("path",$o({},le(o,!0),{fill:"none",d:Cu(i,a)})):null)}var d=Cu(r,a);return $.createElement("path",$o({},le(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}var ny=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=ve("recharts-dot",a);return r===+r&&n===+n&&i===+i?M.createElement("circle",T0({},le(e,!1),Fm(e),{className:o,cx:r,cy:n,r:i})):null};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}var Hfe=["x","y","top","left","width","height","className"];function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(this,arguments)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){Gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gfe(t,e,r){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kfe(t){var e=Yfe(t,"string");return Vd(e)=="symbol"?e:e+""}function Yfe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xfe(t,e){if(t==null)return{};var r=Qfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Jfe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Zfe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,x=Xfe(e,Hfe),y=qfe({x:n,y:a,top:l,left:u,width:f,height:p},x);return!Z(n)||!Z(a)||!Z(f)||!Z(p)||!Z(l)||!Z(u)?null:$.createElement("path",E0({},le(y,!0),{className:ve("recharts-cross",v),d:Jfe(n,a,f,p,l,u)}))},ehe=Jg,the=QD,rhe=si;function nhe(t,e){return t&&t.length?ehe(t,rhe(e),the):void 0}var ihe=nhe;const she=Ue(ihe);var ahe=Jg,ohe=si,lhe=JD;function che(t,e){return t&&t.length?ahe(t,ohe(e),lhe):void 0}var uhe=che;const dhe=Ue(uhe);var fhe=["cx","cy","angle","ticks","axisLine"],hhe=["ticks","tick","angle","tickFormatter","stroke"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ou.apply(this,arguments)}function UE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(r),!0).forEach(function(n){iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zE(t,e){if(t==null)return{};var r=mhe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mhe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BR(n.key),n)}}function ghe(t,e,r){return e&&WE(t.prototype,e),r&&WE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,r){return e=jp(e),vhe(t,FR()?Reflect.construct(e,r||[],jp(t).constructor):e.apply(t,r))}function vhe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xhe(t)}function xhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jp(t)}function bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k0(t,e)}function iy(t,e,r){return e=BR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BR(t){var e=whe(t,"string");return Sl(e)=="symbol"?e:e+""}function whe(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sy=function(t){function e(){return phe(this,e),yhe(this,e,arguments)}return bhe(e,t),ghe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Je(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=she(l,function(d){return d.coordinate||0}),u=dhe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=zE(n,fhe),d=l.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),f=Je(i,a,d[0],o),h=Je(i,a,d[1],o),p=aa(aa(aa({},le(u,!1)),{},{fill:"none"},le(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return $.createElement("line",Ou({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=zE(i,hhe),f=this.getTickTextAnchor(),h=le(d,!1),p=le(o,!1),v=a.map(function(x,y){var g=n.getTickValueCoord(x),w=aa(aa(aa(aa({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:y},g),{},{payload:x});return $.createElement(De,Ou({className:ve("recharts-polar-radius-axis-tick",AR(o)),key:"tick-".concat(x.coordinate)},Ua(n.props,x,y)),e.renderTickItem(o,w,c?c(x.value,y):x.value))});return $.createElement(De,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(De,{className:ve("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Gt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):he(n)?o=n(i):o=$.createElement(za,Ou({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(M.PureComponent);iy(sy,"displayName","PolarRadiusAxis");iy(sy,"axisType","radiusAxis");iy(sy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pa.apply(this,arguments)}function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){ay(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zR(n.key),n)}}function _he(t,e,r){return e&&qE(t.prototype,e),r&&qE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nhe(t,e,r){return e=_p(e),She(t,UR()?Reflect.construct(e,r||[],_p(t).constructor):e.apply(t,r))}function She(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(t)}function Ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!t})()}function _p(t){return _p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_p(t)}function The(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P0(t,e)}function ay(t,e,r){return e=zR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zR(t){var e=Ehe(t,"string");return Al(e)=="symbol"?e:e+""}function Ehe(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var khe=Math.PI/180,GE=1e-5,oy=function(t){function e(){return jhe(this,e),Nhe(this,e,arguments)}return The(e,t),_he(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Je(a,o,l,n.coordinate),h=Je(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*khe),o;return a>GE?o=i==="outer"?"start":"end":a<-GE?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=oa(oa({},le(this.props,!1)),{},{fill:"none"},le(l,!1));if(c==="circle")return $.createElement(ny,pa({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return Je(i,a,o,h.coordinate)});return $.createElement(Wfe,pa({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=le(this.props,!1),f=le(o,!1),h=oa(oa({},d),{},{fill:"none"},le(l,!1)),p=a.map(function(v,x){var y=n.getTickLineCoord(v),g=n.getTickTextAnchor(v),w=oa(oa(oa({textAnchor:g},d),{},{stroke:"none",fill:u},f),{},{index:x,payload:v,x:y.x2,y:y.y2});return $.createElement(De,pa({className:ve("recharts-polar-angle-axis-tick",AR(o)),key:"tick-".concat(v.coordinate)},Ua(n.props,v,x)),l&&$.createElement("line",pa({className:"recharts-polar-angle-axis-tick-line"},h,y)),o&&e.renderTickItem(o,w,c?c(v.value,x):v.value))});return $.createElement(De,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(De,{className:ve("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):he(n)?o=n(i):o=$.createElement(za,pa({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(M.PureComponent);ay(oy,"displayName","PolarAngleAxis");ay(oy,"axisType","angleAxis");ay(oy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Phe=GM,Ihe=Phe(Object.getPrototypeOf,Object),Che=Ihe,Ohe=Fi,Mhe=Che,Dhe=Bi,Rhe="[object Object]",$he=Function.prototype,Lhe=Object.prototype,WR=$he.toString,Vhe=Lhe.hasOwnProperty,Fhe=WR.call(Object);function Bhe(t){if(!Dhe(t)||Ohe(t)!=Rhe)return!1;var e=Mhe(t);if(e===null)return!0;var r=Vhe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&WR.call(r)==Fhe}var Uhe=Bhe;const zhe=Ue(Uhe);var Whe=Fi,Hhe=Bi,qhe="[object Boolean]";function Ghe(t){return t===!0||t===!1||Hhe(t)&&Whe(t)==qhe}var Khe=Ghe;const Yhe=Ue(Khe);function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}function Xhe(t,e){return eme(t)||Zhe(t,e)||Jhe(t,e)||Qhe()}function Qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function eme(t){if(Array.isArray(t))return t}function YE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(r),!0).forEach(function(n){tme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tme(t,e,r){return e=rme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rme(t){var e=nme(t,"string");return Fd(e)=="symbol"?e:e+""}function nme(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QE=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},ime={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sme=function(e){var r=XE(XE({},ime),e),n=M.useRef(),i=M.useState(-1),a=Xhe(i,2),o=a[0],l=a[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,x=r.animationDuration,y=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=ve("recharts-trapezoid",p);return g?$.createElement(ri,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:x,animationEasing:v,isActive:g},function(b){var T=b.upperWidth,j=b.lowerWidth,A=b.height,S=b.x,_=b.y;return $.createElement(ri,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:x,easing:v},$.createElement("path",Np({},le(r,!0),{className:w,d:QE(S,_,T,j,A),ref:n})))}):$.createElement("g",null,$.createElement("path",Np({},le(r,!0),{className:w,d:QE(c,u,d,f,h)})))},ame=["option","shapeType","propTransformer","activeClassName","isActive"];function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function ome(t,e){if(t==null)return{};var r=lme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){cme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cme(t,e,r){return e=ume(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ume(t){var e=dme(t,"string");return Bd(e)=="symbol"?e:e+""}function dme(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fme(t,e){return Sp(Sp({},e),t)}function hme(t,e){return t==="symbols"}function ZE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(B1,r);case"trapezoid":return $.createElement(sme,r);case"sector":return $.createElement(kR,r);case"symbols":if(hme(e))return $.createElement(a1,r);break;default:return null}}function mme(t){return M.isValidElement(t)?t.props:t}function HR(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?fme:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=ome(t,ame),u;if(M.isValidElement(e))u=M.cloneElement(e,Sp(Sp({},c),mme(e)));else if(he(e))u=e(c);else if(zhe(e)&&!Yhe(e)){var d=i(e,c);u=$.createElement(ZE,{shapeType:r,elementProps:d})}else{var f=c;u=$.createElement(ZE,{shapeType:r,elementProps:f})}return l?$.createElement(De,{className:o},u):u}function ly(t,e){return e!=null&&"trapezoids"in t.props}function cy(t,e){return e!=null&&"sectors"in t.props}function Ud(t,e){return e!=null&&"points"in t.props}function pme(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function gme(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function yme(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function vme(t,e){var r;return ly(t,e)?r=pme:cy(t,e)?r=gme:Ud(t,e)&&(r=yme),r}function xme(t,e){var r;return ly(t,e)?r="trapezoids":cy(t,e)?r="sectors":Ud(t,e)&&(r="points"),r}function bme(t,e){if(ly(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ud(t,e)?e.payload:{}}function wme(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=xme(r,e),a=bme(r,e),o=n.filter(function(c,u){var d=_f(a,c),f=r.props[i].filter(function(v){var x=vme(r,e);return x(v,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Kh;function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lo.apply(this,arguments)}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GR(n.key),n)}}function _me(t,e,r){return e&&tk(t.prototype,e),r&&tk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nme(t,e,r){return e=Ap(e),Sme(t,qR()?Reflect.construct(e,r||[],Ap(t).constructor):e.apply(t,r))}function Sme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}function Tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function ln(t,e,r){return e=GR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GR(t){var e=Eme(t,"string");return Tl(e)=="symbol"?e:e+""}function Eme(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zi=function(t){function e(r){var n;return jme(this,e),n=Nme(this,e,[r]),ln(n,"pieRef",null),ln(n,"sectorRefs",[]),ln(n,"id",cc("recharts-pie-")),ln(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),he(i)&&i()}),ln(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),he(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Tme(e,t),_me(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=le(this.props,!1),f=le(o,!1),h=le(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(x,y){var g=(x.startAngle+x.endAngle)/2,w=Je(x.cx,x.cy,x.outerRadius+p,g),b=Ye(Ye(Ye(Ye({},d),x),{},{stroke:"none"},f),{},{index:y,textAnchor:e.getTextAnchor(w.x,x.cx)},w),T=Ye(Ye(Ye(Ye({},d),x),{},{fill:"none",stroke:x.fill},h),{},{index:y,points:[Je(x.cx,x.cy,x.outerRadius,g),w]}),j=c;return pe(c)&&pe(u)?j="value":pe(c)&&(j=u),$.createElement(De,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,T,"line"),e.renderLabelItem(o,b,Rt(x,j)))});return $.createElement(De,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?o:h,v=Ye(Ye({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return $.createElement(De,Lo({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Ua(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),$.createElement(HR,Lo({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return $.createElement(ri,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,y=[],g=a&&a[0],w=g.startAngle;return a.forEach(function(b,T){var j=h&&h[T],A=T>0?Hr(b,"paddingAngle",0):0;if(j){var S=Br(j.endAngle-j.startAngle,b.endAngle-b.startAngle),_=Ye(Ye({},b),{},{startAngle:w+A,endAngle:w+S(x)+A});y.push(_),w=_.endAngle}else{var E=b.endAngle,O=b.startAngle,I=Br(0,E-O),C=I(x),P=Ye(Ye({},b),{},{startAngle:w+A,endAngle:w+C+A});y.push(P),w=P.endAngle}}),$.createElement(De,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!_f(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!Z(u)||!Z(d)||!Z(f)||!Z(h))return null;var x=ve("recharts-pie",l);return $.createElement(De,{tabIndex:this.props.rootTabIndex,className:x,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(o),Gt.renderCallByParent(this.props,null,!1),(!p||v)&&Ni.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);if(he(n))return n(i);var o=ve("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(gp,Lo({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(he(n)&&(o=n(i),$.isValidElement(o)))return o;var l=ve("recharts-pie-label-text",typeof n!="boolean"&&!he(n)?n.className:"");return $.createElement(za,Lo({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(M.PureComponent);Kh=zi;ln(zi,"displayName","Pie");ln(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!to.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ln(zi,"parseDeltaAngle",function(t,e){var r=xr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ln(zi,"getRealPieData",function(t){var e=t.data,r=t.children,n=le(t,!1),i=qr(r,vd);return e&&e.length?e.map(function(a,o){return Ye(Ye(Ye({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ye(Ye({},n),a.props)}):[]});ln(zi,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=SR(i,a),l=n+br(t.cx,i,i/2),c=r+br(t.cy,a,a/2),u=br(t.innerRadius,o,0),d=br(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ln(zi,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ye(Ye({},e.type.defaultProps),e.props):e.props,i=Kh.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=Kh.parseCoordinateOfPie(n,r),x=Kh.parseDeltaAngle(o,l),y=Math.abs(x),g=u;pe(u)&&pe(f)?(In(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):pe(u)&&(In(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=f);var w=i.filter(function(_){return Rt(_,g,0)!==0}).length,b=(y>=360?w:w-1)*c,T=y-w*p-b,j=i.reduce(function(_,E){var O=Rt(E,g,0);return _+(Z(O)?O:0)},0),A;if(j>0){var S;A=i.map(function(_,E){var O=Rt(_,g,0),I=Rt(_,d,E),C=(Z(O)?O:0)/j,P;E?P=S.endAngle+xr(x)*c*(O!==0?1:0):P=o;var L=P+xr(x)*((O!==0?p:0)+C*T),R=(P+L)/2,V=(v.innerRadius+v.outerRadius)/2,W=[{name:I,value:O,payload:_,dataKey:g,type:h}],F=Je(v.cx,v.cy,V,R);return S=Ye(Ye(Ye({percent:C,cornerRadius:a,name:I,tooltipPayload:W,midAngle:R,middleRadius:V,tooltipPosition:F},_),v),{},{value:Rt(_,g),startAngle:P,endAngle:L,payload:_,paddingAngle:xr(x)*c}),S})}return Ye(Ye({},v),{},{sectors:A,data:i})});var kme=Math.ceil,Pme=Math.max;function Ime(t,e,r,n){for(var i=-1,a=Pme(kme((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Cme=Ime,Ome=fD,rk=1/0,Mme=17976931348623157e292;function Dme(t){if(!t)return t===0?t:0;if(t=Ome(t),t===rk||t===-rk){var e=t<0?-1:1;return e*Mme}return t===t?t:0}var KR=Dme,Rme=Cme,$me=Hg,Wv=KR;function Lme(t){return function(e,r,n){return n&&typeof n!="number"&&$me(e,r,n)&&(r=n=void 0),e=Wv(e),r===void 0?(r=e,e=0):r=Wv(r),n=n===void 0?e<r?1:-1:Wv(n),Rme(e,r,n,t)}}var Vme=Lme,Fme=Vme,Bme=Fme(),Ume=Bme;const Tp=Ue(Ume);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){YR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YR(t,e,r){return e=zme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zme(t){var e=Wme(t,"string");return zd(e)=="symbol"?e:e+""}function Wme(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hme=["Webkit","Moz","O","ms"],qme=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Hme.reduce(function(a,o){return ik(ik({},a),{},YR({},o+n,r))},{});return i[e]=r,i};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ep.apply(this,arguments)}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){Lr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ak(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QR(n.key),n)}}function Kme(t,e,r){return e&&ak(t.prototype,e),r&&ak(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,r){return e=kp(e),Xme(t,XR()?Reflect.construct(e,r||[],kp(t).constructor):e.apply(t,r))}function Xme(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kp(t)}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C0(t,e)}function C0(t,e){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C0(t,e)}function Lr(t,e,r){return e=QR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QR(t){var e=Zme(t,"string");return El(e)=="symbol"?e:e+""}function Zme(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var epe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ku().domain(Tp(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},ok=function(e){return e.changedTouches&&!!e.changedTouches.length},kl=function(t){function e(r){var n;return Gme(this,e),n=Yme(this,e,[r]),Lr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Lr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Lr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Lr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Lr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Lr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Lr(n,"handleSlideDragStart",function(i){var a=ok(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jme(e,t),Kme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),v=e.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Rt(a[n],l,n);return he(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,x=n.pageX-a;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var y=this.getIndex({startX:o+x,endX:l+x});(y.startIndex!==h||y.endIndex!==p)&&v&&v(y),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=ok(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,x=d.gap,y=d.data,g={startX:this.state.startX,endX:this.state.endX},w=n.pageX-a;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),g[o]=u+w;var b=this.getIndex(g),T=b.startIndex,j=b.endIndex,A=function(){var _=y.length-1;return o==="startX"&&(l>c?T%x===0:j%x===0)||l<c&&j===_||o==="endX"&&(l>c?j%x===0:T%x===0)||l>c&&j===_};this.setState(Lr(Lr({},o,u+w),"brushMoveStartX",n.pageX),function(){v&&A()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Lr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=M.Children.only(u);return f?$.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,x=c.startIndex,y=c.endIndex,g=Math.max(n,this.props.x),w=Hv(Hv({},le(this.props,!1)),{},{x:g,y:u,width:d,height:f}),b=p||"Min value: ".concat((a=v[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return $.createElement(De,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return $.createElement(De,{className:"recharts-brush-texts"},$.createElement(za,Ep({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},v),this.getTextOfTick(i)),$.createElement(za,Ep({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,x=h.isTextActive,y=h.isSlideMoving,g=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!Z(l)||!Z(c)||!Z(u)||!Z(d)||u<=0||d<=0)return null;var b=ve("recharts-brush",a),T=$.Children.count(o)===1,j=qme("userSelect","none");return $.createElement(De,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(x||y||g||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):he(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Hv({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?epe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(M.PureComponent);Lr(kl,"displayName","Brush");Lr(kl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tpe=h1;function rpe(t,e){var r;return tpe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var npe=rpe,ipe=VM,spe=si,ape=npe,ope=Dr,lpe=Hg;function cpe(t,e,r){var n=ope(t)?ipe:ape;return r&&lpe(t,e,r)&&(e=void 0),n(t,spe(e))}var upe=cpe;const dpe=Ue(upe);var Jn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},lk=oD;function fpe(t,e,r){e=="__proto__"&&lk?lk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var hpe=fpe,mpe=hpe,ppe=sD,gpe=si;function ype(t,e){var r={};return e=gpe(e),ppe(t,function(n,i,a){mpe(r,i,e(n,i,a))}),r}var vpe=ype;const xpe=Ue(vpe);function bpe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var wpe=bpe,jpe=h1;function _pe(t,e){var r=!0;return jpe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Npe=_pe,Spe=wpe,Ape=Npe,Tpe=si,Epe=Dr,kpe=Hg;function Ppe(t,e,r){var n=Epe(t)?Spe:Ape;return r&&kpe(t,e,r)&&(e=void 0),n(t,Tpe(e))}var Ipe=Ppe;const JR=Ue(Ipe);var Cpe=["x","y"];function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){Ope(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ope(t,e,r){return e=Mpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mpe(t){var e=Dpe(t,"string");return Wd(e)=="symbol"?e:e+""}function Dpe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rpe(t,e){if(t==null)return{};var r=$pe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $pe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lpe(t,e){var r=t.x,n=t.y,i=Rpe(t,Cpe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Qc(Qc(Qc(Qc(Qc({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function uk(t){return $.createElement(HR,O0({shapeType:"rectangle",propTransformer:Lpe,activeClassName:"recharts-active-bar"},t))}var Vpe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=Z(n)||aK(n);return a?e(n,i):(a||Ha(),r)}},Fpe=["value","background"],ZR;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Bpe(t,e){if(t==null)return{};var r=Upe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Upe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pp.apply(this,arguments)}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){gs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t3(n.key),n)}}function Wpe(t,e,r){return e&&fk(t.prototype,e),r&&fk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hpe(t,e,r){return e=Ip(e),qpe(t,e3()?Reflect.construct(e,r||[],Ip(t).constructor):e.apply(t,r))}function qpe(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(t)}function Gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(t)}function Kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M0(t,e)}function M0(t,e){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M0(t,e)}function gs(t,e,r){return e=t3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t3(t){var e=Ype(t,"string");return Pl(e)=="symbol"?e:e+""}function Ype(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var so=function(t){function e(){var r;zpe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Hpe(this,e,[].concat(i)),gs(r,"state",{isAnimationFinished:!1}),gs(r,"id",cc("recharts-bar-")),gs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),gs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Kpe(e,t),Wpe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=le(this.props,!1);return n&&n.map(function(f,h){var p=h===c,v=p?u:o,x=Tt(Tt(Tt({},d),f),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(De,Pp({className:"recharts-bar-rectangle"},Ua(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),$.createElement(uk,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return $.createElement(ri,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,x=a.map(function(y,g){var w=h&&h[g];if(w){var b=Br(w.x,y.x),T=Br(w.y,y.y),j=Br(w.width,y.width),A=Br(w.height,y.height);return Tt(Tt({},y),{},{x:b(v),y:T(v),width:j(v),height:A(v)})}if(o==="horizontal"){var S=Br(0,y.height),_=S(v);return Tt(Tt({},y),{},{y:y.y+y.height-_,height:_})}var E=Br(0,y.width),O=E(v);return Tt(Tt({},y),{},{width:O})});return $.createElement(De,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!_f(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=le(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Bpe(u,Fpe);if(!f)return null;var p=Tt(Tt(Tt(Tt(Tt({},h),{},{fill:"#eee"},f),c),Ua(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(uk,Pp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=qr(d,Nf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(y,g){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:Rt(y,g)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(De,v,f.map(function(x){return $.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,x=n.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,g=ve("recharts-bar",o),w=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,T=w||b,j=pe(x)?this.id:x;return $.createElement(De,{className:g},w||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(j)},$.createElement("rect",{x:w?u:u-f/2,y:b?d:d-h/2,width:w?f:f*2,height:b?h:h*2}))):null,$.createElement(De,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,j),(!p||y)&&Ni.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(M.PureComponent);ZR=so;gs(so,"displayName","Bar");gs(so,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!to.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gs(so,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Sce(n,r);if(!p)return null;var v=e.layout,x=r.type.defaultProps,y=x!==void 0?Tt(Tt({},x),r.props):r.props,g=y.dataKey,w=y.children,b=y.minPointSize,T=v==="horizontal"?o:a,j=u?T.scale.domain():null,A=Cce({numericAxis:T}),S=qr(w,vd),_=f.map(function(E,O){var I,C,P,L,R,V;u?I=Ace(u[d+O],j):(I=Rt(E,g),Array.isArray(I)||(I=[A,I]));var W=Vpe(b,ZR.defaultProps.minPointSize)(I[1],O);if(v==="horizontal"){var F,U=[o.scale(I[0]),o.scale(I[1])],K=U[0],ee=U[1];C=iE({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:E,index:O}),P=(F=ee??K)!==null&&F!==void 0?F:void 0,L=p.size;var J=K-ee;if(R=Number.isNaN(J)?0:J,V={x:C,y:o.y,width:L,height:o.height},Math.abs(W)>0&&Math.abs(R)<Math.abs(W)){var oe=xr(R||W)*(Math.abs(W)-Math.abs(R));P-=oe,R+=oe}}else{var Te=[a.scale(I[0]),a.scale(I[1])],We=Te[0],Ze=Te[1];if(C=We,P=iE({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:E,index:O}),L=Ze-We,R=p.size,V={x:a.x,y:P,width:a.width,height:R},Math.abs(W)>0&&Math.abs(L)<Math.abs(W)){var sr=xr(L||W)*(Math.abs(W)-Math.abs(L));L+=sr}}return Tt(Tt(Tt({},E),{},{x:C,y:P,width:L,height:R,value:u?I:I[1],payload:E,background:V},S&&S[O]&&S[O].props),{},{tooltipPayload:[_R(r,E)],tooltipPosition:{x:C+L/2,y:P+R/2}})});return Tt({data:_,layout:v},h)});function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r3(n.key),n)}}function Qpe(t,e,r){return e&&hk(t.prototype,e),r&&hk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(r),!0).forEach(function(n){uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uy(t,e,r){return e=r3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r3(t){var e=Jpe(t,"string");return Hd(e)=="symbol"?e:e+""}function Jpe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n3=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Fr(u,so);return d.reduce(function(p,v){var x=r[v],y=x.orientation,g=x.domain,w=x.padding,b=w===void 0?{}:w,T=x.mirror,j=x.reversed,A="".concat(y).concat(T?"Mirror":""),S,_,E,O,I;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var C=g[1]-g[0],P=1/0,L=x.categoricalDomain.sort(cK);if(L.forEach(function(Te,We){We>0&&(P=Math.min((Te||0)-(L[We-1]||0),P))}),Number.isFinite(P)){var R=P/C,V=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(S=R*V/2),x.padding==="no-gap"){var W=br(e.barCategoryGap,R*V),F=R*V/2;S=F-W-(F-W)/V*W}}}i==="xAxis"?_=[n.left+(b.left||0)+(S||0),n.left+n.width-(b.right||0)-(S||0)]:i==="yAxis"?_=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(S||0),n.top+n.height-(b.bottom||0)-(S||0)]:_=x.range,j&&(_=[_[1],_[0]]);var U=xR(x,a,h),K=U.scale,ee=U.realScaleType;K.domain(g).range(_),bR(K);var J=wR(K,_n(_n({},x),{},{realScaleType:ee}));i==="xAxis"?(I=y==="top"&&!T||y==="bottom"&&T,E=n.left,O=f[A]-I*x.height):i==="yAxis"&&(I=y==="left"&&!T||y==="right"&&T,E=f[A]-I*x.width,O=n.top);var oe=_n(_n(_n({},x),J),{},{realScaleType:ee,x:E,y:O,scale:K,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return oe.bandSize=hp(oe,J),!x.hide&&i==="xAxis"?f[A]+=(I?-1:1)*oe.height:x.hide||(f[A]+=(I?-1:1)*oe.width),_n(_n({},p),{},uy({},v,oe))},{})},i3=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Zpe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return i3({x:r,y:n},{x:i,y:a})},s3=function(){function t(e){Xpe(this,t),this.scale=e}return Qpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();uy(s3,"EPS",1e-4);var U1=function(e){var r=Object.keys(e).reduce(function(n,i){return _n(_n({},n),{},uy({},i,s3.create(e[i])))},{});return _n(_n({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return xpe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return JR(i,function(a,o){return r[o].isInRange(a)})}})};function ege(t){return(t%180+180)%180}var tge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ege(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},rge=si,nge=vf,ige=zg;function sge(t){return function(e,r,n){var i=Object(e);if(!nge(e)){var a=rge(r);e=ige(e),r=function(l){return a(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var age=sge,oge=KR;function lge(t){var e=oge(t),r=e%1;return e===e?r?e-r:e:0}var cge=lge,uge=ZM,dge=si,fge=cge,hge=Math.max;function mge(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:fge(r);return i<0&&(i=hge(n+i,0)),uge(t,dge(e),i)}var pge=mge,gge=age,yge=pge,vge=gge(yge),xge=vge;const bge=Ue(xge);var wge=fG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),z1=M.createContext(void 0),W1=M.createContext(void 0),a3=M.createContext(void 0),o3=M.createContext({}),l3=M.createContext(void 0),c3=M.createContext(0),u3=M.createContext(0),pk=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=wge(a);return $.createElement(z1.Provider,{value:n},$.createElement(W1.Provider,{value:i},$.createElement(o3.Provider,{value:a},$.createElement(a3.Provider,{value:d},$.createElement(l3.Provider,{value:o},$.createElement(c3.Provider,{value:u},$.createElement(u3.Provider,{value:c},l)))))))},jge=function(){return M.useContext(l3)},d3=function(e){var r=M.useContext(z1);r==null&&Ha();var n=r[e];return n==null&&Ha(),n},_ge=function(){var e=M.useContext(z1);return ds(e)},Nge=function(){var e=M.useContext(W1),r=bge(e,function(n){return JR(n.domain,Number.isFinite)});return r||ds(e)},f3=function(e){var r=M.useContext(W1);r==null&&Ha();var n=r[e];return n==null&&Ha(),n},Sge=function(){var e=M.useContext(a3);return e},Age=function(){return M.useContext(o3)},H1=function(){return M.useContext(u3)},q1=function(){return M.useContext(c3)};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ege(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m3(n.key),n)}}function kge(t,e,r){return e&&Ege(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,r){return e=Cp(e),Ige(t,h3()?Reflect.construct(e,r||[],Cp(t).constructor):e.apply(t,r))}function Ige(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cge(t)}function Cge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h3=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cp(t)}function Oge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D0(t,e)}function D0(t,e){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D0(t,e)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){G1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G1(t,e,r){return e=m3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m3(t){var e=Mge(t,"string");return Il(e)=="symbol"?e:e+""}function Mge(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dge(t,e){return Vge(t)||Lge(t,e)||$ge(t,e)||Rge()}function Rge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(t,e){if(t){if(typeof t=="string")return vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vk(t,e)}}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Vge(t){if(Array.isArray(t))return t}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}var Fge=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):he(e)?n=e(r):n=$.createElement("line",R0({},r,{className:"recharts-reference-line-line"})),n},Bge=function(e,r,n,i,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var v=u.y,x=e.y.apply(v,{position:o});if(Jn(u,"discard")&&!e.y.isInRange(x))return null;var y=[{x:d+h,y:x},{x:d,y:x}];return c==="left"?y.reverse():y}if(r){var g=u.x,w=e.x.apply(g,{position:o});if(Jn(u,"discard")&&!e.x.isInRange(w))return null;var b=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?b.reverse():b}if(i){var T=u.segment,j=T.map(function(A){return e.apply(A,{position:o})});return Jn(u,"discard")&&dpe(j,function(A){return!e.isInRange(A)})?null:j}return null};function Uge(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=jge(),d=d3(i),f=f3(a),h=Sge();if(!u||!h)return null;In(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=U1({x:d.scale,y:f.scale}),v=Lt(e),x=Lt(r),y=n&&n.length===2,g=Bge(p,v,x,y,h,t.position,d.orientation,f.orientation,t);if(!g)return null;var w=Dge(g,2),b=w[0],T=b.x,j=b.y,A=w[1],S=A.x,_=A.y,E=Jn(t,"hidden")?"url(#".concat(u,")"):void 0,O=yk(yk({clipPath:E},le(t,!0)),{},{x1:T,y1:j,x2:S,y2:_});return $.createElement(De,{className:ve("recharts-reference-line",l)},Fge(o,O),Gt.renderCallByParent(t,Zpe({x1:T,y1:j,x2:S,y2:_})))}var K1=function(t){function e(){return Tge(this,e),Pge(this,e,arguments)}return Oge(e,t),kge(e,[{key:"render",value:function(){return $.createElement(Uge,this.props)}}])}($.Component);G1(K1,"displayName","ReferenceLine");G1(K1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){dy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3(n.key),n)}}function Hge(t,e,r){return e&&Wge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qge(t,e,r){return e=Op(e),Gge(t,p3()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Gge(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kge(t)}function Kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L0(t,e)}function dy(t,e,r){return e=g3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g3(t){var e=Xge(t,"string");return Cl(e)=="symbol"?e:e+""}function Xge(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qge=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=U1({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Jn(e,"discard")&&!o.isInRange(l)?null:l},fy=function(t){function e(){return zge(this,e),qge(this,e,arguments)}return Yge(e,t),Hge(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Lt(i),d=Lt(a);if(In(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Qge(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,x=v.shape,y=v.className,g=Jn(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=bk(bk({clipPath:g},le(this.props,!0)),{},{cx:h,cy:p});return $.createElement(De,{className:ve("recharts-reference-dot",y)},e.renderDot(x,w),Gt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}($.Component);dy(fy,"displayName","ReferenceDot");dy(fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dy(fy,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):he(t)?r=t(e):r=$.createElement(ny,$0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){hy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v3(n.key),n)}}function eye(t,e,r){return e&&Zge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tye(t,e,r){return e=Mp(e),rye(t,y3()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function rye(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nye(t)}function nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y3=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function iye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function hy(t,e,r){return e=v3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v3(t){var e=sye(t,"string");return Ol(e)=="symbol"?e:e+""}function sye(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aye=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=U1({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Jn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:i3(p,v)},my=function(t){function e(){return Jge(this,e),tye(this,e,arguments)}return iye(e,t),eye(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;In(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lt(i),h=Lt(a),p=Lt(o),v=Lt(l),x=this.props.shape;if(!f&&!h&&!p&&!v&&!x)return null;var y=aye(f,h,p,v,this.props);if(!y&&!x)return null;var g=Jn(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(De,{className:ve("recharts-reference-area",c)},e.renderRect(x,jk(jk({clipPath:g},le(this.props,!0)),y)),Gt.renderCallByParent(this.props,y))}}])}($.Component);hy(my,"displayName","ReferenceArea");hy(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hy(my,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):he(t)?r=t(e):r=$.createElement(B1,V0({},e,{className:"recharts-reference-area-rect"})),r});function x3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function oye(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return tge(n,r)}function lye(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Dp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function cye(t,e){return x3(t,e+1)}function uye(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:x3(n,u)};var x=c,y,g=function(){return y===void 0&&(y=r(v,x)),y},w=v.coordinate,b=c===0||Dp(t,w,g,d,l);b||(c=0,d=o,u+=1),b&&(d=w+t*(g()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){dye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dye(t,e,r){return e=fye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fye(t){var e=hye(t,"string");return qd(e)=="symbol"?e:e+""}function hye(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mye(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(h){var p=a[h],v,x=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var y=t*(p.coordinate+t*x()/2-c);a[h]=p=cr(cr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate})}else a[h]=p=cr(cr({},p),{},{tickCoord:p.coordinate});var g=Dp(t,p.tickCoord,x,l,c);g&&(c=p.tickCoord-t*(x()/2+i),a[h]=cr(cr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function pye(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],f=r(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=cr(cr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=Dp(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),o[l-1]=cr(cr({},d),{},{isShow:!0}))}for(var v=a?l-1:l,x=function(w){var b=o[w],T,j=function(){return T===void 0&&(T=r(b,w)),T};if(w===0){var A=t*(b.coordinate-t*j()/2-c);o[w]=b=cr(cr({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else o[w]=b=cr(cr({},b),{},{tickCoord:b.coordinate});var S=Dp(t,b.tickCoord,j,c,u);S&&(c=b.tickCoord+t*(j()/2+i),o[w]=cr(cr({},b),{},{isShow:!0}))},y=0;y<v;y++)x(y);return o}function Y1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(Z(c)||to.isSsr)return cye(i,typeof c=="number"&&Z(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Eu(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(b,T){var j=he(u)?u(b.value,T):b.value;return p==="width"?oye(Eu(j,{fontSize:e,letterSpacing:r}),v,f):Eu(j,{fontSize:e,letterSpacing:r})[p]},y=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,g=lye(a,y,p);return c==="equidistantPreserveStart"?uye(y,g,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=pye(y,g,x,i,o,c==="preserveStartEnd"):h=mye(y,g,x,i,o),h.filter(function(w){return w.isShow}))}var gye=["viewBox"],yye=["viewBox"],vye=["ticks"];function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vo.apply(this,arguments)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){X1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qv(t,e){if(t==null)return{};var r=xye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w3(n.key),n)}}function wye(t,e,r){return e&&Sk(t.prototype,e),r&&Sk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jye(t,e,r){return e=Rp(e),_ye(t,b3()?Reflect.construct(e,r||[],Rp(t).constructor):e.apply(t,r))}function _ye(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(t)}function Nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b3=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}function Sye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(t,e)}function X1(t,e,r){return e=w3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w3(t){var e=Aye(t,"string");return Ml(e)=="symbol"?e:e+""}function Aye(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gc=function(t){function e(r){var n;return bye(this,e),n=jye(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Sye(e,t),wye(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=qv(n,gye),l=this.props,c=l.viewBox,u=qv(l,yye);return!Jo(a,c)||!Jo(o,u)||!Jo(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,v,x,y,g,w,b=f?-1:1,T=n.tickSize||d,j=Z(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,y=o+ +!f*c,x=y-b*T,w=x-b*h,g=j;break;case"left":x=y=n.coordinate,v=a+ +!f*l,p=v-b*T,g=p-b*h,w=j;break;case"right":x=y=n.coordinate,v=a+ +f*l,p=v+b*T,g=p+b*h,w=j;break;default:p=v=n.coordinate,y=o+ +f*c,x=y+b*T,w=x+b*h,g=j;break}return{line:{x1:p,y1:x,x2:v,y2:y},tick:{x:g,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ct(Ct(Ct({},le(this.props,!1)),le(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ct(Ct({},f),{},{x1:i,y1:a+h*l,x2:i+o,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ct(Ct({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return $.createElement("line",Vo({},f,{className:ve("recharts-cartesian-axis-line",Hr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=Y1(Ct(Ct({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),y=le(this.props,!1),g=le(d,!1),w=Ct(Ct({},y),{},{fill:"none"},le(c,!1)),b=p.map(function(T,j){var A=o.getTickLineCoord(T),S=A.line,_=A.tick,E=Ct(Ct(Ct(Ct({textAnchor:v,verticalAnchor:x},y),{},{stroke:"none",fill:u},g),_),{},{index:j,payload:T,visibleTicksCount:p.length,tickFormatter:f});return $.createElement(De,Vo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Ua(o.props,T,j)),c&&$.createElement("line",Vo({},w,S,{className:ve("recharts-cartesian-axis-tick-line",Hr(c,"className"))})),d&&e.renderTickItem(d,E,"".concat(he(f)?f(T.value,j):T.value).concat(h||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=qv(f,vye),v=h;return he(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:$.createElement(De,{className:ve("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Gt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=ve(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Ct(Ct({},i),{},{className:l})):he(n)?o=n(Ct(Ct({},i),{},{className:l})):o=$.createElement(za,Vo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(M.Component);X1(gc,"displayName","CartesianAxis");X1(gc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Tye=["x1","y1","x2","y2","key"],Eye=["offset"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){kye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kye(t,e,r){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pye(t){var e=Iye(t,"string");return qa(e)=="symbol"?e:e+""}function Iye(t,e){if(qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_a.apply(this,arguments)}function Tk(t,e){if(t==null)return{};var r=Cye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oye=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return $.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j3(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(he(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=Tk(e,Tye),u=le(c,!1);u.offset;var d=Tk(u,Eye);r=$.createElement("line",_a({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Mye(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=hr(hr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return j3(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Dye(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=hr(hr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return j3(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Rye(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],x=v?i+o-h:d[p+1]-h;if(x<=0)return null;var y=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $ye(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],x=v?a+l-h:d[p+1]-h;if(x<=0)return null;var y=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:x,height:c,stroke:"none",fill:n[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Lye=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return vR(Y1(hr(hr(hr({},gc.defaultProps),n),{},{ticks:vi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Vye=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return vR(Y1(hr(hr(hr({},gc.defaultProps),n),{},{ticks:vi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},go={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function U0(t){var e,r,n,i,a,o,l=H1(),c=q1(),u=Age(),d=hr(hr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:go.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:go.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:go.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:go.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:go.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:go.verticalFill,x:Z(t.x)?t.x:u.left,y:Z(t.y)?t.y:u.top,width:Z(t.width)?t.width:u.width,height:Z(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,x=d.syncWithTicks,y=d.horizontalValues,g=d.verticalValues,w=_ge(),b=Nge();if(!Z(p)||p<=0||!Z(v)||v<=0||!Z(f)||f!==+f||!Z(h)||h!==+h)return null;var T=d.verticalCoordinatesGenerator||Lye,j=d.horizontalCoordinatesGenerator||Vye,A=d.horizontalPoints,S=d.verticalPoints;if((!A||!A.length)&&he(j)){var _=y&&y.length,E=j({yAxis:b?hr(hr({},b),{},{ticks:_?y:b.ticks}):void 0,width:l,height:c,offset:u},_?!0:x);In(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qa(E),"]")),Array.isArray(E)&&(A=E)}if((!S||!S.length)&&he(T)){var O=g&&g.length,I=T({xAxis:w?hr(hr({},w),{},{ticks:O?g:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:x);In(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qa(I),"]")),Array.isArray(I)&&(S=I)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(Oye,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(Mye,_a({},d,{offset:u,horizontalPoints:A,xAxis:w,yAxis:b})),$.createElement(Dye,_a({},d,{offset:u,verticalPoints:S,xAxis:w,yAxis:b})),$.createElement(Rye,_a({},d,{horizontalPoints:A})),$.createElement($ye,_a({},d,{verticalPoints:S})))}U0.displayName="CartesianGrid";var Fye=["type","layout","connectNulls","ref"],Bye=["key"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Ek(t,e){if(t==null)return{};var r=Uye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mu.apply(this,arguments)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){Nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yo(t){return qye(t)||Hye(t)||Wye(t)||zye()}function zye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wye(t,e){if(t){if(typeof t=="string")return z0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z0(t,e)}}function Hye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qye(t){if(Array.isArray(t))return z0(t)}function z0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N3(n.key),n)}}function Kye(t,e,r){return e&&Pk(t.prototype,e),r&&Pk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yye(t,e,r){return e=$p(e),Xye(t,_3()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function Xye(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(t)}function Qye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_3=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function Jye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function Nn(t,e,r){return e=N3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N3(t){var e=Zye(t,"string");return Dl(e)=="symbol"?e:e+""}function Zye(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rl=function(t){function e(){var r;Gye(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Yye(this,e,[].concat(i)),Nn(r,"state",{isAnimationFinished:!0,totalLength:0}),Nn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Nn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(g,w){return g+w});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],v=0,x=0;v<c.length;x+=c[v],++v)if(x+c[v]>f){p=[].concat(yo(c.slice(0,v)),[f-x]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(yo(e.repeat(c,d)),yo(p),y).map(function(g){return"".concat(g,"px")}).join(", ")}),Nn(r,"id",cc("recharts-line-")),Nn(r,"pathRef",function(o){r.mainCurve=o}),Nn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Nn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Jye(e,t),Kye(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=qr(d,Nf);if(!f)return null;var h=function(x,y){return{x:x.x,y:x.y,value:x.value,errorVal:Rt(x.payload,y)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(De,p,f.map(function(v){return $.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=le(this.props,!1),h=le(c,!0),p=u.map(function(x,y){var g=$r($r($r({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return e.renderDotItem(c,g)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(De,Mu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=Ek(l,Fye),h=$r($r($r({},le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return $.createElement(gp,Mu({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,x=o.width,y=o.height,g=this.state,w=g.prevPoints,b=g.totalLength;return $.createElement(ri,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var j=T.t;if(w){var A=w.length/l.length,S=l.map(function(C,P){var L=Math.floor(P*A);if(w[L]){var R=w[L],V=Br(R.x,C.x),W=Br(R.y,C.y);return $r($r({},C),{},{x:V(j),y:W(j)})}if(v){var F=Br(x*2,C.x),U=Br(y/2,C.y);return $r($r({},C),{},{x:F(j),y:U(j)})}return $r($r({},C),{},{x:C.x,y:C.y})});return a.renderCurveStatically(S,n,i)}var _=Br(0,b),E=_(j),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});O=a.getStrokeDasharray(E,b,I)}else O=a.generateSimpleStrokeDasharray(b,E);return a.renderCurveStatically(l,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!_f(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,v=i.height,x=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var g=this.state.isAnimationFinished,w=l.length===1,b=ve("recharts-line",c),T=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,A=T||j,S=pe(y)?this.id:y,_=(n=le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=_.r,O=E===void 0?3:E,I=_.strokeWidth,C=I===void 0?2:I,P=vK(o)?o:{},L=P.clipDot,R=L===void 0?!0:L,V=O*2+C;return $.createElement(De,{className:b},T||j?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(S)},$.createElement("rect",{x:T?h:h-p/2,y:j?f:f-v/2,width:T?p:p*2,height:j?v:v*2})),!R&&$.createElement("clipPath",{id:"clipPath-dots-".concat(S)},$.createElement("rect",{x:h-V/2,y:f-V/2,width:p+V,height:v+V}))):null,!w&&this.renderCurve(A,S),this.renderErrorBar(A,S),(w||o)&&this.renderDots(A,R,S),(!x||g)&&Ni.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(yo(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(yo(o),yo(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if($.isValidElement(n))a=$.cloneElement(n,i);else if(he(n))a=n(i);else{var o=i.key,l=Ek(i,Bye),c=ve("recharts-line-dot",typeof n!="boolean"?n.className:"");a=$.createElement(ny,Mu({key:o},l,{className:c}))}return a}}])}(M.PureComponent);Nn(Rl,"displayName","Line");Nn(Rl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!to.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Nn(Rl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var v=Rt(h,o);return d==="horizontal"?{x:nE({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:pe(v)?null:n.scale(v),value:v,payload:h}:{x:pe(v)?null:r.scale(v),y:nE({axis:n,ticks:a,bandSize:l,entry:h,index:p}),value:v,payload:h}});return $r({points:f,layout:d},u)});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function eve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T3(n.key),n)}}function rve(t,e,r){return e&&tve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nve(t,e,r){return e=Lp(e),ive(t,S3()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function ive(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(t)}function sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S3=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function ave(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(t,e)}function A3(t,e,r){return e=T3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3(t){var e=ove(t,"string");return $l(e)=="symbol"?e:e+""}function ove(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function lve(t){var e=t.xAxisId,r=H1(),n=q1(),i=d3(e);return i==null?null:M.createElement(gc,q0({},i,{className:ve("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return vi(o,!0)}}))}var Ll=function(t){function e(){return eve(this,e),nve(this,e,arguments)}return ave(e,t),rve(e,[{key:"render",value:function(){return M.createElement(lve,this.props)}}])}(M.Component);A3(Ll,"displayName","XAxis");A3(Ll,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P3(n.key),n)}}function dve(t,e,r){return e&&uve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fve(t,e,r){return e=Vp(e),hve(t,E3()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function hve(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(t)}function mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E3=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function k3(t,e,r){return e=P3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P3(t){var e=gve(t,"string");return Vl(e)=="symbol"?e:e+""}function gve(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}var yve=function(e){var r=e.yAxisId,n=H1(),i=q1(),a=f3(r);return a==null?null:M.createElement(gc,K0({},a,{className:ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return vi(l,!0)}}))},Fl=function(t){function e(){return cve(this,e),fve(this,e,arguments)}return pve(e,t),dve(e,[{key:"render",value:function(){return M.createElement(yve,this.props)}}])}(M.Component);k3(Fl,"displayName","YAxis");k3(Fl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Ik(t){return wve(t)||bve(t)||xve(t)||vve()}function vve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(t,e){if(t){if(typeof t=="string")return Y0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y0(t,e)}}function bve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wve(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X0=function(e,r,n,i,a){var o=qr(e,K1),l=qr(e,fy),c=[].concat(Ik(o),Ik(l)),u=qr(e,my),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(x,y){if(y.props[d]===n&&Jn(y.props,"extendDomain")&&Z(y.props[f])){var g=y.props[f];return[Math.min(x[0],g),Math.max(x[1],g)]}return x},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(x,y){if(y.props[d]===n&&Jn(y.props,"extendDomain")&&Z(y.props[p])&&Z(y.props[v])){var g=y.props[p],w=y.props[v];return[Math.min(x[0],g,w),Math.max(x[1],g,w)]}return x},h)}return a&&a.length&&(h=a.reduce(function(x,y){return Z(y)?[Math.min(x[0],y),Math.max(x[1],y)]:x},h)),h},I3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var x=r?r+u:u;if(!this._events[x])return!1;var y=this._events[x],g=arguments.length,w,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),g){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,v),!0}for(b=1,w=new Array(g-1);b<g;b++)w[b-1]=arguments[b];y.fn.apply(y.context,w)}else{var T=y.length,j;for(b=0;b<T;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),g){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,d);break;case 3:y[b].fn.call(y[b].context,d,f);break;case 4:y[b].fn.call(y[b].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(g-1);j<g;j++)w[j-1]=arguments[j];y[b].fn.apply(y[b].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,p);else{for(var x=0,y=[],g=v.length;x<g;x++)(v[x].fn!==d||h&&!v[x].once||f&&v[x].context!==f)&&y.push(v[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(I3);var jve=I3.exports;const _ve=Ue(jve);var Gv=new _ve,Kv="recharts.syncMouseEvents";function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Nve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C3(n.key),n)}}function Ave(t,e,r){return e&&Sve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yv(t,e,r){return e=C3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C3(t){var e=Tve(t,"string");return Gd(e)=="symbol"?e:e+""}function Tve(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Eve=function(){function t(){Nve(this,t),Yv(this,"activeIndex",0),Yv(this,"coordinateList",[]),Yv(this,"layout","horizontal")}return Ave(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function kve(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Z(n)&&Z(i))return!0}return!1}function Pve(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function O3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Je(e,r,n,i),l=Je(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Ive(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Je(l,c,u,f),p=Je(l,c,d,f);n=h.x,i=h.y,a=p.x,o=p.y}else return O3(e);return[{x:n,y:i},{x:a,y:o}]}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){Cve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cve(t,e,r){return e=Ove(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ove(t){var e=Mve(t,"string");return Kd(e)=="symbol"?e:e+""}function Mve(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dve(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,x=gp;if(h==="ScatterChart")v=o,x=Zfe;else if(h==="BarChart")v=Pve(f,o,c,d),x=B1;else if(f==="radial"){var y=O3(o),g=y.cx,w=y.cy,b=y.radius,T=y.startAngle,j=y.endAngle;v={cx:g,cy:w,startAngle:T,endAngle:j,innerRadius:b,outerRadius:b},x=kR}else v={points:Ive(f,o,c)},x=gp;var A=_h(_h(_h(_h({stroke:"#ccc",pointerEvents:"none"},c),v),le(p,!1)),{},{payload:l,payloadIndex:u,className:ve("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,A):M.createElement(x,A)}var Rve=["item"],$ve=["children","className","width","height","style","compact","title","desc"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fo.apply(this,arguments)}function Ok(t,e){return Fve(t)||Vve(t,e)||D3(t,e)||Lve()}function Lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Fve(t){if(Array.isArray(t))return t}function Mk(t,e){if(t==null)return{};var r=Bve(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R3(n.key),n)}}function Wve(t,e,r){return e&&zve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hve(t,e,r){return e=Fp(e),qve(t,M3()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function qve(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(t)}function Gve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M3=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function Kve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q0(t,e)}function Q0(t,e){return Q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Q0(t,e)}function Ul(t){return Qve(t)||Xve(t)||D3(t)||Yve()}function Yve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function Xve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qve(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=R3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R3(t){var e=Jve(t,"string");return Bl(e)=="symbol"?e:e+""}function Jve(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zve={xAxis:["bottom","top"],yAxis:["left","right"]},exe={width:"100%",height:"100%"},$3={x:0,y:0};function Nh(t){return t}var txe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},rxe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return H(H(H({},i),Je(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return H(H(H({},i),Je(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return $3},py=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ul(l),Ul(u)):l},[]);return o.length>0?o:e&&e.length&&Z(i)&&Z(a)?e.slice(i,a+1):[]};function L3(t){return t==="number"?[0,"auto"]:void 0}var Z0=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=py(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Vm(p,o.dataKey,i)}else h=f&&f[n]||l[n];return h?[].concat(Ul(c),[_R(u,h)]):c},[])},Rk=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=txe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=xce(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Z0(e,r,d,f),p=rxe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},nxe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=yR(d,a);return n.reduce(function(v,x){var y,g=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,w=g.type,b=g.dataKey,T=g.allowDataOverflow,j=g.allowDuplicatedCategory,A=g.scale,S=g.ticks,_=g.includeHidden,E=g[o];if(v[E])return v;var O=py(e.data,{graphicalItems:i.filter(function(J){var oe,Te=o in J.props?J.props[o]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[o];return Te===E}),dataStartIndex:c,dataEndIndex:u}),I=O.length,C,P,L;kve(g.domain,T,w)&&(C=f0(g.domain,null,T),p&&(w==="number"||A!=="auto")&&(L=Pu(O,b,"category")));var R=L3(w);if(!C||C.length===0){var V,W=(V=g.domain)!==null&&V!==void 0?V:R;if(b){if(C=Pu(O,b,w),w==="category"&&p){var F=lK(C);j&&F?(P=C,C=Tp(0,I)):j||(C=oE(W,C,x).reduce(function(J,oe){return J.indexOf(oe)>=0?J:[].concat(Ul(J),[oe])},[]))}else if(w==="category")j?C=C.filter(function(J){return J!==""&&!pe(J)}):C=oE(W,C,x).reduce(function(J,oe){return J.indexOf(oe)>=0||oe===""||pe(oe)?J:[].concat(Ul(J),[oe])},[]);else if(w==="number"){var U=Nce(O,i.filter(function(J){var oe,Te,We=o in J.props?J.props[o]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[o],Ze="hide"in J.props?J.props.hide:(Te=J.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return We===E&&(_||!Ze)}),b,a,d);U&&(C=U)}p&&(w==="number"||A!=="auto")&&(L=Pu(O,b,"category"))}else p?C=Tp(0,I):l&&l[E]&&l[E].hasStack&&w==="number"?C=h==="expand"?[0,1]:jR(l[E].stackGroups,c,u):C=gR(O,i.filter(function(J){var oe=o in J.props?J.props[o]:J.type.defaultProps[o],Te="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return oe===E&&(_||!Te)}),w,d,!0);if(w==="number")C=X0(f,C,E,a,S),W&&(C=f0(W,C,T));else if(w==="category"&&W){var K=W,ee=C.every(function(J){return K.indexOf(J)>=0});ee&&(C=K)}}return H(H({},v),{},ue({},E,H(H({},g),{},{axisType:a,domain:C,categoricalDomain:L,duplicateDomain:P,originalDomain:(y=g.domain)!==null&&y!==void 0?y:R,isCategorical:p,layout:d})))},{})},ixe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,h=py(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=yR(d,a),x=-1;return n.reduce(function(y,g){var w=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,b=w[o],T=L3("number");if(!y[b]){x++;var j;return v?j=Tp(0,p):l&&l[b]&&l[b].hasStack?(j=jR(l[b].stackGroups,c,u),j=X0(f,j,b,a)):(j=f0(T,gR(h,n.filter(function(A){var S,_,E=o in A.props?A.props[o]:(S=A.type.defaultProps)===null||S===void 0?void 0:S[o],O="hide"in A.props?A.props.hide:(_=A.type.defaultProps)===null||_===void 0?void 0:_.hide;return E===b&&!O}),"number",d),i.defaultProps.allowDataOverflow),j=X0(f,j,b,a)),H(H({},y),{},ue({},b,H(H({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hr(Zve,"".concat(a,".").concat(x%2),null),domain:j,originalDomain:T,isCategorical:v,layout:d})))}return y},{})},sxe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=qr(d,a),p={};return h&&h.length?p=nxe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=ixe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},axe=function(e){var r=ds(e),n=vi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:m1(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:hp(r,n)}},$k=function(e){var r=e.children,n=e.defaultShowTooltip,i=Fr(r,kl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},oxe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ji(r&&r.type);return n&&n.indexOf("Bar")>=0})},Lk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lxe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=Fr(f,kl),v=Fr(f,Is),x=Object.keys(c).reduce(function(j,A){var S=c[A],_=S.orientation;return!S.mirror&&!S.hide?H(H({},j),{},ue({},_,j[_]+S.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,A){var S=o[A],_=S.orientation;return!S.mirror&&!S.hide?H(H({},j),{},ue({},_,Hr(j,"".concat(_))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),g=H(H({},y),x),w=g.bottom;p&&(g.bottom+=p.props.height||kl.defaultProps.height),v&&r&&(g=jce(g,i,n,r));var b=u-g.left-g.right,T=d-g.top-g.bottom;return H(H({brushBottom:w},g),{},{width:Math.max(b,0),height:Math.max(T,0)})},cxe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Q1=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(g,w){var b=w.graphicalItems,T=w.stackGroups,j=w.offset,A=w.updateId,S=w.dataStartIndex,_=w.dataEndIndex,E=g.barSize,O=g.layout,I=g.barGap,C=g.barCategoryGap,P=g.maxBarSize,L=Lk(O),R=L.numericAxisName,V=L.cateAxisName,W=oxe(b),F=[];return b.forEach(function(U,K){var ee=py(g.data,{graphicalItems:[U],dataStartIndex:S,dataEndIndex:_}),J=U.type.defaultProps!==void 0?H(H({},U.type.defaultProps),U.props):U.props,oe=J.dataKey,Te=J.maxBarSize,We=J["".concat(R,"Id")],Ze=J["".concat(V,"Id")],sr={},Bt=c.reduce(function(Qr,ai){var ao=w["".concat(ai.axisType,"Map")],Tf=J["".concat(ai.axisType,"Id")];ao&&ao[Tf]||ai.axisType==="zAxis"||Ha();var Wi=ao[Tf];return H(H({},Qr),{},ue(ue({},ai.axisType,Wi),"".concat(ai.axisType,"Ticks"),vi(Wi)))},sr),re=Bt[V],ye=Bt["".concat(V,"Ticks")],xe=T&&T[We]&&T[We].hasStack&&Oce(U,T[We].stackGroups),X=ji(U.type).indexOf("Bar")>=0,Ke=hp(re,ye),ke=[],xt=W&&bce({barSize:E,stackGroups:T,totalSize:cxe(Bt,V)});if(X){var ct,Ut,vn=pe(Te)?P:Te,ut=(ct=(Ut=hp(re,ye,!0))!==null&&Ut!==void 0?Ut:vn)!==null&&ct!==void 0?ct:0;ke=wce({barGap:I,barCategoryGap:C,bandSize:ut!==Ke?ut:Ke,sizeList:xt[Ze],maxBarSize:vn}),ut!==Ke&&(ke=ke.map(function(Qr){return H(H({},Qr),{},{position:H(H({},Qr.position),{},{offset:Qr.position.offset-ut/2})})}))}var St=U&&U.type&&U.type.getComposedData;St&&F.push({props:H(H({},St(H(H({},Bt),{},{displayedData:ee,props:g,dataKey:oe,item:U,bandSize:Ke,barPosition:ke,offset:j,stackedData:xe,layout:O,dataStartIndex:S,dataEndIndex:_}))),{},ue(ue(ue({key:U.key||"item-".concat(K)},R,Bt[R]),V,Bt[V]),"animationId",A)),childIndex:wK(U,g.children),item:U})}),F},p=function(g,w){var b=g.props,T=g.dataStartIndex,j=g.dataEndIndex,A=g.updateId;if(!eA({props:b}))return null;var S=b.children,_=b.layout,E=b.stackOffset,O=b.data,I=b.reverseStackOrder,C=Lk(_),P=C.numericAxisName,L=C.cateAxisName,R=qr(S,n),V=Ice(O,R,"".concat(P,"Id"),"".concat(L,"Id"),E,I),W=c.reduce(function(J,oe){var Te="".concat(oe.axisType,"Map");return H(H({},J),{},ue({},Te,sxe(b,H(H({},oe),{},{graphicalItems:R,stackGroups:oe.axisType===P&&V,dataStartIndex:T,dataEndIndex:j}))))},{}),F=lxe(H(H({},W),{},{props:b,graphicalItems:R}),w==null?void 0:w.legendBBox);Object.keys(W).forEach(function(J){W[J]=d(b,W[J],F,J.replace("Map",""),r)});var U=W["".concat(L,"Map")],K=axe(U),ee=h(b,H(H({},W),{},{dataStartIndex:T,dataEndIndex:j,updateId:A,graphicalItems:R,stackGroups:V,offset:F}));return H(H({formattedGraphicalItems:ee,graphicalItems:R,offset:F,stackGroups:V},K),W)},v=function(y){function g(w){var b,T,j;return Uve(this,g),j=Hve(this,g,[w]),ue(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(j,"accessibilityManager",new Eve),ue(j,"handleLegendBBoxUpdate",function(A){if(A){var S=j.state,_=S.dataStartIndex,E=S.dataEndIndex,O=S.updateId;j.setState(H({legendBBox:A},p({props:j.props,dataStartIndex:_,dataEndIndex:E,updateId:O},H(H({},j.state),{},{legendBBox:A}))))}}),ue(j,"handleReceiveSyncEvent",function(A,S,_){if(j.props.syncId===A){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),ue(j,"handleBrushChange",function(A){var S=A.startIndex,_=A.endIndex;if(S!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return H({dataStartIndex:S,dataEndIndex:_},p({props:j.props,dataStartIndex:S,dataEndIndex:_,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),ue(j,"handleMouseEnter",function(A){var S=j.getMouseInfo(A);if(S){var _=H(H({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var E=j.props.onMouseEnter;he(E)&&E(_,A)}}),ue(j,"triggeredAfterMouseMove",function(A){var S=j.getMouseInfo(A),_=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var E=j.props.onMouseMove;he(E)&&E(_,A)}),ue(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ue(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),ue(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),ue(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseLeave;he(_)&&_(S,A)}),ue(j,"handleOuterEvent",function(A){var S=bK(A),_=Hr(j.props,"".concat(S));if(S&&he(_)){var E,O;/.*touch.*/i.test(S)?O=j.getMouseInfo(A.changedTouches[0]):O=j.getMouseInfo(A),_((E=O)!==null&&E!==void 0?E:{},A)}}),ue(j,"handleClick",function(A){var S=j.getMouseInfo(A);if(S){var _=H(H({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var E=j.props.onClick;he(E)&&E(_,A)}}),ue(j,"handleMouseDown",function(A){var S=j.props.onMouseDown;if(he(S)){var _=j.getMouseInfo(A);S(_,A)}}),ue(j,"handleMouseUp",function(A){var S=j.props.onMouseUp;if(he(S)){var _=j.getMouseInfo(A);S(_,A)}}),ue(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ue(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),ue(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),ue(j,"handleDoubleClick",function(A){var S=j.props.onDoubleClick;if(he(S)){var _=j.getMouseInfo(A);S(_,A)}}),ue(j,"handleContextMenu",function(A){var S=j.props.onContextMenu;if(he(S)){var _=j.getMouseInfo(A);S(_,A)}}),ue(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&Gv.emit(Kv,j.props.syncId,A,j.eventEmitterSymbol)}),ue(j,"applySyncEvent",function(A){var S=j.props,_=S.layout,E=S.syncMethod,O=j.state.updateId,I=A.dataStartIndex,C=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(H({dataStartIndex:I,dataEndIndex:C},p({props:j.props,dataStartIndex:I,dataEndIndex:C,updateId:O},j.state)));else if(A.activeTooltipIndex!==void 0){var P=A.chartX,L=A.chartY,R=A.activeTooltipIndex,V=j.state,W=V.offset,F=V.tooltipTicks;if(!W)return;if(typeof E=="function")R=E(F,A);else if(E==="value"){R=-1;for(var U=0;U<F.length;U++)if(F[U].value===A.activeLabel){R=U;break}}var K=H(H({},W),{},{x:W.left,y:W.top}),ee=Math.min(P,K.x+K.width),J=Math.min(L,K.y+K.height),oe=F[R]&&F[R].value,Te=Z0(j.state,j.props.data,R),We=F[R]?{x:_==="horizontal"?F[R].coordinate:ee,y:_==="horizontal"?J:F[R].coordinate}:$3;j.setState(H(H({},A),{},{activeLabel:oe,activeCoordinate:We,activePayload:Te,activeTooltipIndex:R}))}else j.setState(A)}),ue(j,"renderCursor",function(A){var S,_=j.state,E=_.isTooltipActive,O=_.activeCoordinate,I=_.activePayload,C=_.offset,P=_.activeTooltipIndex,L=_.tooltipAxisBandSize,R=j.getTooltipEventType(),V=(S=A.props.active)!==null&&S!==void 0?S:E,W=j.props.layout,F=A.key||"_recharts-cursor";return $.createElement(Dve,{key:F,activeCoordinate:O,activePayload:I,activeTooltipIndex:P,chartName:r,element:A,isActive:V,layout:W,offset:C,tooltipAxisBandSize:L,tooltipEventType:R})}),ue(j,"renderPolarAxis",function(A,S,_){var E=Hr(A,"type.axisType"),O=Hr(j.state,"".concat(E,"Map")),I=A.type.defaultProps,C=I!==void 0?H(H({},I),A.props):A.props,P=O&&O[C["".concat(E,"Id")]];return M.cloneElement(A,H(H({},P),{},{className:ve(E,P.className),key:A.key||"".concat(S,"-").concat(_),ticks:vi(P,!0)}))}),ue(j,"renderPolarGrid",function(A){var S=A.props,_=S.radialLines,E=S.polarAngles,O=S.polarRadius,I=j.state,C=I.radiusAxisMap,P=I.angleAxisMap,L=ds(C),R=ds(P),V=R.cx,W=R.cy,F=R.innerRadius,U=R.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(E)?E:vi(R,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(O)?O:vi(L,!0).map(function(K){return K.coordinate}),cx:V,cy:W,innerRadius:F,outerRadius:U,key:A.key||"polar-grid",radialLines:_})}),ue(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,S=j.props,_=S.children,E=S.width,O=S.height,I=j.props.margin||{},C=E-(I.left||0)-(I.right||0),P=mR({children:_,formattedGraphicalItems:A,legendWidth:C,legendContent:u});if(!P)return null;var L=P.item,R=Mk(P,Rve);return M.cloneElement(L,H(H({},R),{},{chartWidth:E,chartHeight:O,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),ue(j,"renderTooltip",function(){var A,S=j.props,_=S.children,E=S.accessibilityLayer,O=Fr(_,tn);if(!O)return null;var I=j.state,C=I.isTooltipActive,P=I.activeCoordinate,L=I.activePayload,R=I.activeLabel,V=I.offset,W=(A=O.props.active)!==null&&A!==void 0?A:C;return M.cloneElement(O,{viewBox:H(H({},V),{},{x:V.left,y:V.top}),active:W,label:R,payload:W?L:[],coordinate:P,accessibilityLayer:E})}),ue(j,"renderBrush",function(A){var S=j.props,_=S.margin,E=S.data,O=j.state,I=O.offset,C=O.dataStartIndex,P=O.dataEndIndex,L=O.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:xh(j.handleBrushChange,A.props.onChange),data:E,x:Z(A.props.x)?A.props.x:I.left,y:Z(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(_.bottom||0),width:Z(A.props.width)?A.props.width:I.width,startIndex:C,endIndex:P,updateId:"brush-".concat(L)})}),ue(j,"renderReferenceElement",function(A,S,_){if(!A)return null;var E=j,O=E.clipPathId,I=j.state,C=I.xAxisMap,P=I.yAxisMap,L=I.offset,R=A.type.defaultProps||{},V=A.props,W=V.xAxisId,F=W===void 0?R.xAxisId:W,U=V.yAxisId,K=U===void 0?R.yAxisId:U;return M.cloneElement(A,{key:A.key||"".concat(S,"-").concat(_),xAxis:C[F],yAxis:P[K],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:O})}),ue(j,"renderActivePoints",function(A){var S=A.item,_=A.activePoint,E=A.basePoint,O=A.childIndex,I=A.isRange,C=[],P=S.props.key,L=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,R=L.activeDot,V=L.dataKey,W=H(H({index:O,dataKey:V,cx:_.x,cy:_.y,r:4,fill:F1(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},le(R,!1)),Fm(R));return C.push(g.renderActiveDot(R,W,"".concat(P,"-activePoint-").concat(O))),E?C.push(g.renderActiveDot(R,H(H({},W),{},{cx:E.x,cy:E.y}),"".concat(P,"-basePoint-").concat(O))):I&&C.push(null),C}),ue(j,"renderGraphicChild",function(A,S,_){var E=j.filterFormatItem(A,S,_);if(!E)return null;var O=j.getTooltipEventType(),I=j.state,C=I.isTooltipActive,P=I.tooltipAxis,L=I.activeTooltipIndex,R=I.activeLabel,V=j.props.children,W=Fr(V,tn),F=E.props,U=F.points,K=F.isRange,ee=F.baseLine,J=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,oe=J.activeDot,Te=J.hide,We=J.activeBar,Ze=J.activeShape,sr=!!(!Te&&C&&W&&(oe||We||Ze)),Bt={};O!=="axis"&&W&&W.props.trigger==="click"?Bt={onClick:xh(j.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(Bt={onMouseLeave:xh(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:xh(j.handleItemMouseEnter,A.props.onMouseEnter)});var re=M.cloneElement(A,H(H({},E.props),Bt));function ye(ai){return typeof P.dataKey=="function"?P.dataKey(ai.payload):null}if(sr)if(L>=0){var xe,X;if(P.dataKey&&!P.allowDuplicatedCategory){var Ke=typeof P.dataKey=="function"?ye:"payload.".concat(P.dataKey.toString());xe=Vm(U,Ke,R),X=K&&ee&&Vm(ee,Ke,R)}else xe=U==null?void 0:U[L],X=K&&ee&&ee[L];if(Ze||We){var ke=A.props.activeIndex!==void 0?A.props.activeIndex:L;return[M.cloneElement(A,H(H(H({},E.props),Bt),{},{activeIndex:ke})),null,null]}if(!pe(xe))return[re].concat(Ul(j.renderActivePoints({item:E,activePoint:xe,basePoint:X,childIndex:L,isRange:K})))}else{var xt,ct=(xt=j.getItemByXY(j.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:re},Ut=ct.graphicalItem,vn=Ut.item,ut=vn===void 0?A:vn,St=Ut.childIndex,Qr=H(H(H({},E.props),Bt),{},{activeIndex:St});return[M.cloneElement(ut,Qr),null,null]}return K?[re,null,null]:[re,null]}),ue(j,"renderCustomized",function(A,S,_){return M.cloneElement(A,H(H({key:"recharts-customized-".concat(_)},j.props),j.state))}),ue(j,"renderMap",{CartesianGrid:{handler:Nh,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Nh},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Nh},YAxis:{handler:Nh},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=w.id)!==null&&b!==void 0?b:cc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hD(j.triggeredAfterMouseMove,(T=w.throttleDelay)!==null&&T!==void 0?T:1e3/60),j.state={},j}return Kve(g,y),Wve(g,[{key:"componentDidMount",value:function(){var b,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,T=b.children,j=b.data,A=b.height,S=b.layout,_=Fr(T,tn);if(_){var E=_.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=Z0(this.state,j,E,O),C=this.state.tooltipTicks[E].coordinate,P=(this.state.offset.top+A)/2,L=S==="horizontal",R=L?{x:C,y:P}:{y:C,x:P},V=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});V&&(R=H(H({},R),V.props.points[E].tooltipPosition),I=V.props.points[E].tooltipPayload);var W={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:R};this.setState(W),this.renderCursor(_),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){Tb([Fr(b.children,tn)],[Fr(this.props.children,tn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Fr(this.props.children,tn);if(b&&typeof b.props.shared=="boolean"){var T=b.props.shared?"axis":"item";return l.indexOf(T)>=0?T:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var T=this.container,j=T.getBoundingClientRect(),A=Gie(j),S={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},_=j.width/T.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,_);if(!E)return null;var O=this.state,I=O.xAxisMap,C=O.yAxisMap,P=this.getTooltipEventType(),L=Rk(this.state,this.props.data,this.props.layout,E);if(P!=="axis"&&I&&C){var R=ds(I).scale,V=ds(C).scale,W=R&&R.invert?R.invert(S.chartX):null,F=V&&V.invert?V.invert(S.chartY):null;return H(H({},S),{},{xValue:W,yValue:F},L)}return L?H(H({},S),L):null}},{key:"inRange",value:function(b,T){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,S=b/j,_=T/j;if(A==="horizontal"||A==="vertical"){var E=this.state.offset,O=S>=E.left&&S<=E.left+E.width&&_>=E.top&&_<=E.top+E.height;return O?{x:S,y:_}:null}var I=this.state,C=I.angleAxisMap,P=I.radiusAxisMap;if(C&&P){var L=ds(C);return uE({x:S,y:_},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,T=this.getTooltipEventType(),j=Fr(b,tn),A={};j&&T==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Fm(this.props,this.handleOuterEvent);return H(H({},S),A)}},{key:"addListener",value:function(){Gv.on(Kv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Gv.removeListener(Kv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,T,j){for(var A=this.state.formattedGraphicalItems,S=0,_=A.length;S<_;S++){var E=A[S];if(E.item===b||E.props.key===b.key||T===ji(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,T=this.state.offset,j=T.left,A=T.top,S=T.height,_=T.width;return $.createElement("defs",null,$.createElement("clipPath",{id:b},$.createElement("rect",{x:j,y:A,height:S,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(T,j){var A=Ok(j,2),S=A[0],_=A[1];return H(H({},T),{},ue({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(T,j){var A=Ok(j,2),S=A[0],_=A[1];return H(H({},T),{},ue({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(b){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[b])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(b){var T=this.state,j=T.formattedGraphicalItems,A=T.activeItem;if(j&&j.length)for(var S=0,_=j.length;S<_;S++){var E=j[S],O=E.props,I=E.item,C=I.type.defaultProps!==void 0?H(H({},I.type.defaultProps),I.props):I.props,P=ji(I.type);if(P==="Bar"){var L=(O.data||[]).find(function(F){return Ofe(b,F)});if(L)return{graphicalItem:E,payload:L}}else if(P==="RadialBar"){var R=(O.data||[]).find(function(F){return uE(b,F)});if(R)return{graphicalItem:E,payload:R}}else if(ly(E,A)||cy(E,A)||Ud(E,A)){var V=wme({graphicalItem:E,activeTooltipItem:A,itemData:C.data}),W=C.activeIndex===void 0?V:C.activeIndex;return{graphicalItem:H(H({},E),{},{childIndex:W}),payload:Ud(E,A)?C.data[V]:E.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!eA(this))return null;var T=this.props,j=T.children,A=T.className,S=T.width,_=T.height,E=T.style,O=T.compact,I=T.title,C=T.desc,P=Mk(T,$ve),L=le(P,!1);if(O)return $.createElement(pk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(kb,Fo({},L,{width:S,height:_,title:I,desc:C}),this.renderClipPath(),rA(j,this.renderMap)));if(this.props.accessibilityLayer){var R,V;L.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,L.role=(V=this.props.role)!==null&&V!==void 0?V:"application",L.onKeyDown=function(F){b.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){b.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return $.createElement(pk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Fo({className:ve("recharts-wrapper",A),style:H({position:"relative",cursor:"default",width:S,height:_},E)},W,{ref:function(U){b.container=U}}),$.createElement(kb,Fo({},L,{width:S,height:_,title:I,desc:C,style:exe}),this.renderClipPath(),rA(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);ue(v,"displayName",r),ue(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ue(v,"getDerivedStateFromProps",function(y,g){var w=y.dataKey,b=y.data,T=y.children,j=y.width,A=y.height,S=y.layout,_=y.stackOffset,E=y.margin,O=g.dataStartIndex,I=g.dataEndIndex;if(g.updateId===void 0){var C=$k(y);return H(H(H({},C),{},{updateId:0},p(H(H({props:y},C),{},{updateId:0}),g)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:A,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:T})}if(w!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||A!==g.prevHeight||S!==g.prevLayout||_!==g.prevStackOffset||!Jo(E,g.prevMargin)){var P=$k(y),L={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},R=H(H({},Rk(g,b,S)),{},{updateId:g.updateId+1}),V=H(H(H({},P),L),R);return H(H(H({},V),p(H({props:y},V),g)),{},{prevDataKey:w,prevData:b,prevWidth:j,prevHeight:A,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:T})}if(!Tb(T,g.prevChildren)){var W,F,U,K,ee=Fr(T,kl),J=ee&&(W=(F=ee.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:O,oe=ee&&(U=(K=ee.props)===null||K===void 0?void 0:K.endIndex)!==null&&U!==void 0?U:I,Te=J!==O||oe!==I,We=!pe(b),Ze=We&&!Te?g.updateId:g.updateId+1;return H(H({updateId:Ze},p(H(H({props:y},g),{},{updateId:Ze,dataStartIndex:J,dataEndIndex:oe}),g)),{},{prevChildren:T,dataStartIndex:J,dataEndIndex:oe})}return null}),ue(v,"renderActiveDot",function(y,g,w){var b;return M.isValidElement(y)?b=M.cloneElement(y,g):he(y)?b=y(g):b=$.createElement(ny,g),$.createElement(De,{className:"recharts-active-dot",key:w},b)});var x=M.forwardRef(function(g,w){return $.createElement(v,Fo({},g,{ref:w}))});return x.displayName=v.displayName,x},uxe=Q1({chartName:"LineChart",GraphicalChild:Rl,axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:Fl}],formatAxisMap:n3}),dxe=Q1({chartName:"BarChart",GraphicalChild:so,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ll},{axisType:"yAxis",AxisComp:Fl}],formatAxisMap:n3}),fxe=Q1({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:oy},{axisType:"radiusAxis",AxisComp:sy}],formatAxisMap:zce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function hxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState(10),[a,o]=M.useState(""),[l,c]=M.useState(1),[u,d]=M.useState(!0);if(M.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]),M.useEffect(()=>{const P=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(P)},[]),!t||!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=_r(),h=Mr(),p=$e(),v={totalProjects:f.length,activeProjects:f.filter(P=>P.status==="active").length,totalUsers:p.length,openTickets:h.filter(P=>P.status==="open"||P.status==="in_progress").length},x=f.slice(0,5),y=h.slice(0,5),g=M.useMemo(()=>f.filter(P=>P.name.toLowerCase().includes(a.toLowerCase())||P.description.toLowerCase().includes(a.toLowerCase())||P.projectType.toLowerCase().includes(a.toLowerCase())),[f,a]),w=Math.ceil(g.length/n),b=(l-1)*n,T=b+n,j=g.slice(b,T);M.useEffect(()=>{c(1)},[a]),M.useEffect(()=>{l>w&&w>0&&c(w)},[n,w,l]);const A=P=>h.filter(L=>L.projectId===P).length,S=P=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const R=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(V=>V.id!==P);localStorage.setItem("marketing_management_website_projects",JSON.stringify(R)),window.location.reload()}},_=[{name:"Open",value:h.filter(P=>P.status==="open").length,color:"#ef4444"},{name:"In Progress",value:h.filter(P=>P.status==="in_progress").length,color:"#f59e0b"},{name:"Resolved",value:h.filter(P=>P.status==="resolved").length,color:"#10b981"},{name:"Closed",value:h.filter(P=>P.status==="closed").length,color:"#6b7280"}].filter(P=>P.value>0),E=[{name:"Planning",value:4},{name:"Design",value:3},{name:"Development",value:5},{name:"Testing",value:5},{name:"Launch",value:5},{name:"Maintenance",value:1}],O=["#fbbf24","#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444"],C=Array.from({length:7},(L,R)=>{const V=new Date;return V.setDate(V.getDate()-(6-R)),V}).map(L=>{const R=h.filter(W=>new Date(W.createdAt).toDateString()===L.toDateString()).length,V=f.filter(W=>new Date(W.createdAt).toDateString()===L.toDateString()).length;return{date:L.toLocaleDateString("en-US",{weekday:"short"}),tickets:R,projects:V}});return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.jsxs("div",{className:"lg:col-span-4 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Analytics Overview"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ticket Status Distribution"}),s.jsx(Iv,{width:"100%",height:250,children:s.jsxs(fxe,{children:[s.jsx(zi,{data:_,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:_.map((P,L)=>s.jsx(vd,{fill:P.color},`cell-${L}`))}),s.jsx(tn,{}),s.jsx(Is,{})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Project Stages Summary"}),s.jsx(Iv,{width:"100%",height:350,children:s.jsxs(dxe,{data:E,margin:{top:20,right:30,left:20,bottom:60},children:[s.jsx(U0,{strokeDasharray:"3 3"}),s.jsx(Ll,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0}),s.jsx(Fl,{}),s.jsx(tn,{}),s.jsx(so,{dataKey:"value",radius:[4,4,0,0],children:E.map((P,L)=>s.jsx(vd,{fill:O[L]},`cell-${L}`))})]})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity (Last 7 Days)"}),s.jsx(Iv,{width:"100%",height:300,children:s.jsxs(uxe,{data:C,children:[s.jsx(U0,{strokeDasharray:"3 3"}),s.jsx(Ll,{dataKey:"date"}),s.jsx(Fl,{}),s.jsx(tn,{}),s.jsx(Is,{}),s.jsx(Rl,{type:"monotone",dataKey:"tickets",stroke:"#ef4444",strokeWidth:2,name:"New Tickets"}),s.jsx(Rl,{type:"monotone",dataKey:"projects",stroke:"#3b82f6",strokeWidth:2,name:"New Projects"})]})})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:u?s.jsxs(s.Fragment,{children:[s.jsx(uh,{}),s.jsx(uh,{}),s.jsx(uh,{}),s.jsx(uh,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(mr,{title:"Total Projects",value:v.totalProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(mr,{title:"Active Projects",value:v.activeProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx(mr,{title:"Total Users",value:v.totalUsers,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsx(mr,{title:"Open Tickets",value:v.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(G,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"}),s.jsxs(G,{to:"/admin/projects",className:"btn-outline",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"Manage Projects"]}),s.jsx(G,{to:"/admin/users",className:"btn-outline",children:"Manage Users"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",g.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:P=>i(Number(P.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:P=>o(P.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:j.map((P,L)=>{const R=p.find(F=>F.id===P.clientId),V=p.find(F=>F.id===P.webDeveloperId);p.find(F=>F.id===P.socialMediaCoordinatorId);const W=A(P.id);return s.jsxs("tr",{className:`${L%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:b+L+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:P.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:P.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Or,{status:P.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Bs(P.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:R?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:R.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:R.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:V?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:V.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:V.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:W}),s.jsx(G,{to:`/admin/tickets?project=${P.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(G,{to:`/admin/analytics/${P.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{to:`/admin/projects/${P.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>S(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},P.id)})},`${n}-${l}`)]},`${n}-${l}`)}),w>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b+1,"-",Math.min(T,g.length)," of ",g.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(P=>Math.max(1,P-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,w)},(P,L)=>{const R=Math.max(1,Math.min(w-4,l-2))+L;return R>w?null:s.jsx("button",{onClick:()=>c(R),className:`px-3 py-1 text-sm border rounded ${R===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:R},R)})}),s.jsx("button",{onClick:()=>c(P=>Math.min(w,P+1)),disabled:l===w,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),s.jsx(G,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:x.map(P=>{const L=p.find(R=>R.id===P.clientId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L==null?void 0:L.fullName})]}),s.jsx(Or,{status:P.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",s.jsx("span",{className:"text-foreground",children:Bs(P.currentStage)})]}),s.jsx("span",{className:"text-muted-foreground",children:Mn(P.updatedAt)})]})]},P.id)})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),s.jsx(G,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:y.map(P=>{const L=f.find(R=>R.id===P.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:P.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L==null?void 0:L.name})]}),s.jsx(nc,{priority:P.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Or,{status:P.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Mn(P.createdAt)})]})]},P.id)})})]})]})]})}),s.jsx(Se,{})]})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mxe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V3=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gxe=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>M.createElement("svg",{ref:c,...pxe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:V3("lucide",i),...l},[...o.map(([u,d])=>M.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=(t,e)=>{const r=M.forwardRef(({className:n,...i},a)=>M.createElement(gxe,{ref:a,iconNode:e,className:V3(`lucide-${mxe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=Sf("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vxe=Sf("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Sf("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=Sf("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=Sf("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);function wxe({role:t,className:e=""}){const r=t==="admin";return s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2 shadow-sm ${r?"bg-gradient-to-r from-primary to-primary-dark text-white border-primary/80 shadow-primary/20":NW(t)} ${e}`,children:[r&&s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),_W(t),r&&s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}function jxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState([]);M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),M.useEffect(()=>{i($e())},[]);const a=c=>{r("/admin/users/"+c+"/edit")},o=c=>{i8(c),i($e())},l=c=>{if(e){if(c===e.id){alert("You cannot delete your own account.");return}window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(d8(c)?i($e()):alert("Failed to delete user."))}};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),s.jsx(G,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",n.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",s.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),s.jsx(G,{to:"/admin/users/new",className:"btn-primary",children:"+ New User"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Role"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Joined"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:n.map((c,u)=>s.jsxs("tr",{className:`${u%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{children:s.jsx("div",{className:"font-semibold text-foreground",children:c.fullName})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(wxe,{role:c.role})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:c.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.phone}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Mn(c.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>a(c.id),title:"Edit",children:s.jsx(yxe,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>o(c.id),title:c.isActive?"Deactivate":"Activate",children:c.isActive?s.jsx(bxe,{className:"h-4 w-4"}):s.jsx(xxe,{className:"h-4 w-4"})}),c.role!=="admin"&&s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>l(c.id),title:"Delete",children:s.jsx(F3,{className:"h-4 w-4"})})]})})]},c.id))})]})})]})]})}),s.jsx(Se,{})]})}function _xe(){const{isSignedIn:t,user:e,updateCurrentUser:r}=je(),n=Ae(),a=ef().id,[o,l]=M.useState(!1),[c,u]=M.useState(!0),[d,f]=M.useState(""),[h,p]=M.useState(null),[v,x]=M.useState({fullName:"",email:"",phone:"",role:"client",isActive:!0,changePassword:!1,newPassword:"",confirmPassword:""});if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),M.useEffect(()=>{if(a){const g=Jx(a);g?(p(g),x({fullName:g.fullName,email:g.email,phone:g.phone,role:g.role,isActive:g.isActive,changePassword:!1,newPassword:"",confirmPassword:""}),u(!1)):n("/admin/users")}},[a,n]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(c||!h)return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(Se,{})]});const y=async g=>{if(g.preventDefault(),f(""),!v.fullName||!v.email||!v.phone){f("Please fill in all required fields");return}if(v.changePassword){if(!v.newPassword||!v.confirmPassword){f("Please enter and confirm the new password");return}if(v.newPassword!==v.confirmPassword){f("Passwords do not match");return}if(v.newPassword.length<6){f("Password must be at least 6 characters long");return}}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)){f("Please enter a valid email address");return}l(!0);try{n8(a,{email:v.email,fullName:v.fullName,phone:v.phone,role:v.role,isActive:v.isActive,...v.changePassword&&{password:v.newPassword}}),e&&a===e.id&&r({fullName:v.fullName,email:v.email,phone:v.phone,role:v.role}),n("/admin/users")}catch{f("Failed to update user. Please try again."),l(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(G,{to:"/admin/users",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Edit User"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Update user information and role assignment"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("form",{onSubmit:y,className:"card",children:[d&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:d}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"fullName",value:v.fullName,onChange:g=>x({...v,fullName:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",value:v.email,onChange:g=>x({...v,email:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:"phone",value:v.phone,onChange:g=>x({...v,phone:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"+27821234567",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:["User Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"role",value:v.role,onChange:g=>x({...v,role:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",required:!0,disabled:h.id===e.id,children:[s.jsx("option",{value:"client",children:"Client - Can view projects and create tickets"}),s.jsx("option",{value:"web_developer",children:"Web Developer - Can manage projects and tickets"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator - Can manage social media and analytics"}),s.jsx("option",{value:"admin",children:"Admin - Full system access"})]}),h.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot change your own role"}),h.id!==e.id&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select the appropriate role based on user responsibilities"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:v.isActive,onChange:g=>x({...v,isActive:g.target.checked}),className:"w-5 h-5 border border-border rounded",disabled:h.id===e.id}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Active User (can sign in to the system)"})]}),h.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot deactivate your own account"})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",checked:v.changePassword,onChange:g=>x({...v,changePassword:g.target.checked}),className:"w-5 h-5 border border-border rounded"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Change Password"})]}),v.changePassword&&s.jsxs("div",{className:"space-y-4 ml-8",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"newPassword",value:v.newPassword,onChange:g=>x({...v,newPassword:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter new password (min. 6 characters)",minLength:6})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"confirmPassword",value:v.confirmPassword,onChange:g=>x({...v,confirmPassword:g.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Re-enter new password",minLength:6})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-border",children:[s.jsx(G,{to:"/admin/users",className:"btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Updating User...":"Update User"})]})]})})]})}),s.jsx(Se,{})]})}function Nxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState(10),[a,o]=M.useState(""),[l,c]=M.useState(1);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=_r(),d=$e(),f=Mr(),h=M.useMemo(()=>u.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),p=Math.ceil(h.length/n),v=(l-1)*n,x=v+n,y=h.slice(v,x);M.useEffect(()=>{c(1)},[a]);const g=b=>f.filter(T=>T.projectId===b).length,w=b=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const j=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(A=>A.id!==b);localStorage.setItem("marketing_management_website_projects",JSON.stringify(j)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(G,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),s.jsx(G,{to:"/admin/projects/new",className:"btn-primary",children:"+ New Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",h.length,")"]})}),s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:b=>i(Number(b.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:y.map((b,T)=>{const j=d.find(_=>_.id===b.clientId),A=d.find(_=>_.id===b.webDeveloperId);d.find(_=>_.id===b.socialMediaCoordinatorId);const S=g(b.id);return s.jsxs("tr",{className:`${T%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:v+T+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:b.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Or,{status:b.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Bs(b.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:j?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:j.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:j.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:A.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:A.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:S}),s.jsx(G,{to:`/admin/tickets?project=${b.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(G,{to:`/admin/analytics/${b.id}`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded text-xs font-medium hover:bg-primary/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{to:`/admin/projects/${b.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx(vxe,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx(F3,{className:"w-4 h-4"})})]})})]},b.id)})})]})}),p>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",v+1,"-",Math.min(x,h.length)," of ",h.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(b=>Math.max(1,b-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,p)},(b,T)=>{const j=Math.max(1,Math.min(p-4,l-2))+T;return j>p?null:s.jsx("button",{onClick:()=>c(j),className:`px-3 py-1 text-sm border rounded ${j===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:j},j)})}),s.jsx("button",{onClick:()=>c(b=>Math.min(p,b+1)),disabled:l===p,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(Se,{})]})}function Sxe(){var O;const{isSignedIn:t,user:e}=je(),r=Ae(),[n]=Q6(),[i,a]=M.useState(10),[o,l]=M.useState(""),[c,u]=M.useState("all"),[d,f]=M.useState("all"),[h,p]=M.useState(1),[v,x]=M.useState(0);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const y=Mr(),g=_r(),w=$e();M.useEffect(()=>{},[v]);const b=n.get("project");let T=y;b&&(T=y.filter(I=>I.projectId===b)),T=T.filter(I=>{const C=!o||I.title.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase())||I.id.toLowerCase().includes(o.toLowerCase()),P=c==="all"||I.status===c,L=d==="all"||I.priority===d;return C&&P&&L});const j=Math.ceil(T.length/i),A=(h-1)*i,S=A+i,_=T.slice(A,S);M.useEffect(()=>{p(1)},[o,c,d]);const E=(I,C)=>{Qx(I,{assignedTo:C||void 0}),x(P=>P+1)};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:b?`Tickets for ${((O=g.find(I=>I.id===b))==null?void 0:O.name)||"Project"}`:"All Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:b?"View all tickets for this project":"View and manage all tickets in the system"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(G,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"}),b&&s.jsx(G,{to:`/admin/projects/${b}`,className:"btn-outline",children:"View Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Tickets (",T.length,")"]})}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsxs("select",{value:c,onChange:I=>u(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority:"}),s.jsxs("select",{value:d,onChange:I=>f(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs("select",{value:i,onChange:I=>a(Number(I.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search tickets..."})]})]}),(c!=="all"||d!=="all"||o)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Status: ",c.replace("_"," "),s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Priority: ",d,s.jsx("button",{onClick:()=>f("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),o&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:['Search: "',o,'"',s.jsx("button",{onClick:()=>l(""),className:"ml-1 hover:text-primary-dark",children:""})]}),s.jsx("button",{onClick:()=>{u("all"),f("all"),l("")},className:"text-primary hover:text-primary-dark text-xs underline",children:"Clear all"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Title"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Assigned To"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Created"})]})}),s.jsxs("tbody",{children:[_.map((I,C)=>{const P=g.find(L=>L.id===I.projectId);return s.jsxs("tr",{className:`${C%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:A+C+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:I.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:P?s.jsx("div",{className:"font-medium text-foreground",children:P.name}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Unknown Project"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(nc,{priority:I.priority})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Or,{status:I.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:I.type.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:I.assignedTo||"",onChange:L=>E(I.id,L.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground min-w-[120px]",children:[s.jsx("option",{value:"",children:"Not assigned"}),w.filter(L=>L.role==="web_developer"||L.role==="social_media_coordinator").map(L=>s.jsx("option",{value:L.id,children:L.fullName},L.id))]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:Mn(I.createdAt)})})]},I.id)}),!_.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})]})]})}),j>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A+1,"-",Math.min(S,T.length)," of ",T.length," tickets"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(I=>Math.max(1,I-1)),disabled:h===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,j)},(I,C)=>{const P=Math.max(1,Math.min(j-4,h-2))+C;return P>j?null:s.jsx("button",{onClick:()=>p(P),className:`px-3 py-1 text-sm border rounded ${P===h?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:P},P)})}),s.jsx("button",{onClick:()=>p(I=>Math.min(j,I+1)),disabled:h===j,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(Se,{})]})}function Axe(){const{isSignedIn:t,user:e}=je(),r=Ae(),i=ef().id,[a,o]=M.useState(null),[l,c]=M.useState([]),[u,d]=M.useState({name:"",description:"",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",notes:""});M.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const y=rf(i);if(!y){r("/admin/dashboard");return}o(y),d({name:y.name,description:y.description,websiteUrl:y.websiteUrl||"",googleAnalyticsPropertyId:y.googleAnalyticsPropertyId||"",googleAnalyticsViewId:y.googleAnalyticsViewId||"",clientId:y.clientId,webDeveloperId:y.webDeveloperId||"",socialMediaCoordinatorId:y.socialMediaCoordinatorId||"",currentStage:y.currentStage,status:y.status,notes:y.notes||""});const g=$e();c(g)},[t,e,i,r]);const f=y=>{y.preventDefault();const g=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]"),w=g.findIndex(b=>b.id===i);w!==-1&&(g[w]={...g[w],...u,webDeveloperId:u.webDeveloperId||void 0,socialMediaCoordinatorId:u.socialMediaCoordinatorId||void 0,updatedAt:new Date},localStorage.setItem("marketing_management_website_projects",JSON.stringify(g)),alert("Project updated successfully!"),r("/admin/dashboard"))},h=y=>{const{name:g,value:w}=y.target;d(b=>({...b,[g]:w}))};if(!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const p=l.filter(y=>y.role==="client"),v=l.filter(y=>y.role==="web_developer"),x=l.filter(y=>y.role==="social_media_coordinator");return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project details and assignments"})]}),s.jsx("form",{onSubmit:f,className:"card",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:h,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:u.description,onChange:h,required:!0,rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",name:"websiteUrl",value:u.websiteUrl,onChange:h,placeholder:"https://example.com",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team Assignment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"clientId",value:u.clientId,onChange:h,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a client"}),p.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{name:"webDeveloperId",value:u.webDeveloperId,onChange:h,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),v.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Developer will see this project in their dashboard and can work on tickets"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Social Media Coordinator"}),s.jsxs("select",{name:"socialMediaCoordinatorId",value:u.socialMediaCoordinatorId,onChange:h,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),x.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Current Stage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"currentStage",value:u.currentStage,onChange:h,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:h,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"GA4 Property ID"}),s.jsx("input",{type:"text",name:"googleAnalyticsPropertyId",value:u.googleAnalyticsPropertyId,onChange:h,placeholder:"G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"View ID (Legacy)"}),s.jsx("input",{type:"text",name:"googleAnalyticsViewId",value:u.googleAnalyticsViewId,onChange:h,placeholder:"123456789",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:u.notes,onChange:h,rows:4,placeholder:"Add any additional notes about this project...",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition",children:"Cancel"})]})]})})]})})}),s.jsx(Se,{})]})}function Txe(){const{isSignedIn:t,user:e}=je(),r=Ae(),i=ef().id,[a,o]=M.useState(null);if(M.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const c=rf(i);if(!c){r("/admin/dashboard");return}o(c)},[t,e,i,r]),!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l={pageViews:12543,uniqueVisitors:8921,bounceRate:42.3,avgSessionDuration:"3:24",topPages:[{page:"/",views:4521},{page:"/about",views:3214},{page:"/services",views:2890},{page:"/contact",views:1988}],trafficSources:[{source:"Organic Search",sessions:5234,percentage:45.2},{source:"Direct",sessions:3121,percentage:27},{source:"Social Media",sessions:1890,percentage:16.3},{source:"Referral",sessions:1456,percentage:12.6}]};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics for ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:"Google Analytics data and insights"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(G,{to:`/admin/projects/${i}`,className:"btn-outline",children:"View Project"}),s.jsx(G,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"})]})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Google Analytics Configuration"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsPropertyId||"Not configured"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID (Legacy)"}),s.jsx("div",{className:"font-mono text-foreground",children:a.googleAnalyticsViewId||"Not configured"})]})]}),a.websiteUrl&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:a.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.websiteUrl})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.pageViews.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Page Views"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.uniqueVisitors.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[l.bounceRate,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce Rate"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.avgSessionDuration}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Top Pages"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Page"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Page Views"})]})}),s.jsx("tbody",{children:l.topPages.map((c,u)=>s.jsxs("tr",{className:u%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:c.page}),s.jsx("td",{className:"px-4 py-3",children:c.views.toLocaleString()})]},u))})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Traffic Sources"}),s.jsx("div",{className:"space-y-4",children:l.trafficSources.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:c.source}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.sessions.toLocaleString()," sessions"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-lg font-bold text-primary",children:[c.percentage,"%"]})})]},u))})]})]})}),s.jsx(Se,{})]})}function Exe(){const{user:t}=je(),[e,r]=M.useState(()=>localStorage.getItem("useMockAuth")!=="false"),n=()=>{const i=!e;r(i),localStorage.setItem("useMockAuth",i.toString()),alert(`Authentication mode changed to ${i?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),s.jsx(G,{to:"/admin/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Current Authentication Status"}),s.jsxs("p",{className:"text-primary/80 mb-4",children:[s.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",s.jsx("br",{}),s.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:n,className:"btn-primary",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),s.jsx("span",{className:"text-sm text-primary",children:" Requires page refresh to take effect"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),s.jsx("li",{children:"Data persists in browser localStorage"}),s.jsx("li",{children:"No Firebase setup required"}),s.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Works offline"}),s.jsx("li",{children:"Fast development setup"}),s.jsx("li",{children:"No external dependencies"}),s.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),s.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Create a Firebase project at ",s.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),s.jsx("li",{children:"Enable Authentication and Firestore Database"}),s.jsxs("li",{children:["Copy your Firebase config to ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),s.jsxs("li",{children:["In ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),s.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),s.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),s.jsxs("div",{className:"bg-secondary/10 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:" Switching to Firebase:"}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",s.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),s.jsx("p",{className:"text-sm text-primary/80",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Secure user authentication"}),s.jsx("li",{children:"Real-time data synchronization"}),s.jsx("li",{children:"Scalable database solution"}),s.jsx("li",{children:"User management dashboard"})]})]})]})]}),s.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),s.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),s.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(G,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),s.jsx(G,{to:"/login",className:"btn-outline",children:"Test Login"}),s.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),s.jsx(Se,{})]})}function kxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[a,o]=M.useState(!1);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=async c=>{c.preventDefault(),o(!0);try{const u={id:`user-${Date.now()}`,...n,createdAt:new Date,updatedAt:new Date};a8(u),alert(`User "${n.fullName}" created successfully!`),r("/admin/users")}catch(u){console.error("Error creating user:",u),alert("Failed to create user. Please try again.")}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),s.jsxs(G,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),s.jsxs("form",{onSubmit:l,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"fullName",required:!0,value:n.fullName,onChange:c=>i({...n,fullName:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",required:!0,value:n.email,onChange:c=>i({...n,email:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",id:"phone",required:!0,value:n.phone,onChange:c=>i({...n,phone:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),s.jsxs("select",{id:"role",required:!0,value:n.role,onChange:c=>i({...n,role:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"web_developer",children:"Web Developer"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),s.jsx("input",{type:"password",id:"password",required:!0,value:n.password,onChange:c=>i({...n,password:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:c=>i({...n,isActive:c.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"btn-outline flex-1",disabled:a,children:"Cancel"})]})]})]})}),s.jsx(Se,{})]})}function Pxe(){const{isSignedIn:t,user:e}=je(),r=Ae();if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ni(e.id,e.role),i=nf(e.id,e.role),a={assignedProjects:n.length,openTickets:i.filter(c=>c.status==="open").length,inProgressTickets:i.filter(c=>c.status==="in_progress").length,resolvedTickets:i.filter(c=>c.status==="resolved").length},o=n.slice(0,3),l=i.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(mr,{title:"Assigned Projects",value:a.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(mr,{title:"Open Tickets",value:a.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(mr,{title:"In Progress",value:a.inProgressTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(mr,{title:"Resolved",value:a.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(G,{to:"/developer/tickets",className:"btn-primary",children:"View Tickets"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"})}),o.length>0?s.jsx("div",{className:"space-y-4",children:o.map(c=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:c.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:c.description})]}),s.jsx(Or,{status:c.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary/10 text-primary text-xs font-medium",children:Bs(c.currentStage)}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",Mn(c.updatedAt)]})]})]},c.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"})}),l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(c=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:c.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:EW(c.type)})]}),s.jsx(nc,{priority:c.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Or,{status:c.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Mn(c.createdAt)})]})]},c.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),s.jsx(Se,{})]})}function Ixe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState("all"),[a,o]=M.useState(""),[l,c]=M.useState([]),[u,d]=M.useState(0);M.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]);const f=()=>{if(e){const g=nf(e.id,e.role);c(g)}};if(M.useEffect(()=>{f()},[e,u]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=l,p=h.filter(g=>n==="all"||g.status===n).filter(g=>!a||g.title.toLowerCase().includes(a.toLowerCase())||g.description.toLowerCase().includes(a.toLowerCase())||g.id.toLowerCase().includes(a.toLowerCase())),v=(g,w)=>{Qx(g,{status:w}),d(b=>b+1)},x={totalAssigned:h.length,critical:h.filter(g=>g.priority==="critical"&&g.status!=="resolved"&&g.status!=="closed").length,overSevenDays:h.filter(g=>Math.floor((new Date().getTime()-new Date(g.createdAt).getTime())/864e5)>7&&g.status!=="resolved"&&g.status!=="closed").length},y=g=>Math.floor((new Date().getTime()-new Date(g).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),s.jsx(G,{to:"/developer/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:x.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:x.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:x.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex gap-4 flex-wrap items-center justify-between",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(g=>{const w=rf(g.projectId),b=y(g.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(G,{to:`/projects/${g.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(w==null?void 0:w.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("select",{value:g.status,onChange:T=>v(g.id,T.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]}),g.status==="resolved"&&s.jsx("textarea",{placeholder:g.resolutionNotes||"Add resolution notes...",defaultValue:g.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:T=>{const j=T.target.value.trim();j&&j!==g.resolutionNotes&&(Qx(g.id,{resolutionNotes:j}),d(A=>A+1))}})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[g.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),g.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),g.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),g.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:b})})]},g.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(Se,{})]})}function Cxe(){const{isSignedIn:t,user:e}=je(),r=Ae();if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ni(e.id,e.role),i=Zw(),a=n.map(p=>p.id),o=i.filter(p=>a.includes(p.projectId)),l=o.reduce((p,v)=>p+v.reach,0),c=o.reduce((p,v)=>p+v.engagement,0),u=o.reduce((p,v)=>p+v.posts,0),d={assignedProjects:n.length,totalReach:l,totalEngagement:c,totalPosts:u},f=n.slice(0,3),h=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(mr,{title:"Assigned Projects",value:d.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(mr,{title:"Total Reach",value:uu(d.totalReach),icon:s.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),s.jsx(mr,{title:"Total Engagement",value:uu(d.totalEngagement),icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx(mr,{title:"Total Posts",value:d.totalPosts,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(G,{to:"/coordinator/analytics/new",className:"btn-outline",children:"+ Add Analytics Entry"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(G,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(p=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),p.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),p.projectType==="website"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:"Website"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:p.description})]}),s.jsx(Or,{status:p.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:Bs(p.currentStage)}),p.projectType==="social_media"&&p.socialMediaPlatforms&&s.jsxs("div",{className:"flex gap-1",children:[p.socialMediaPlatforms.slice(0,3).map(v=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:v},v)),p.socialMediaPlatforms.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",p.socialMediaPlatforms.length-3]})]})]})]},p.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),s.jsx(G,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(p=>{const v=n.find(x=>x.id===p.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground capitalize",children:p.platform}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v==null?void 0:v.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Y4(p.date)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-semibold text-foreground",children:uu(p.reach)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-semibold text-foreground",children:uu(p.engagement)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-semibold text-foreground",children:p.posts})]})]})]},p.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No analytics entries yet."}),s.jsx(G,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),s.jsx(Se,{})]})}function Bp({fullName:t,profileImage:e,size:r="md",className:n=""}){const i={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return s.jsx("div",{className:`${i[r]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${n}`,title:t,children:e?s.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):kW(t)})}function Oxe(){const{isSignedIn:t,user:e}=je(),r=Ae();if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ni(e.id,e.role),i=nf(e.id,e.role),a=$e(),o={myProjects:n.length,activeTickets:i.filter(u=>u.status==="open"||u.status==="in_progress").length,resolvedTickets:i.filter(u=>u.status==="resolved").length,inProgressProjects:n.filter(u=>u.status==="active").length},l=n.slice(0,3),c=i.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(mr,{title:"My Projects",value:o.myProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(mr,{title:"In Progress",value:o.inProgressProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(mr,{title:"Active Tickets",value:o.activeTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),s.jsx(mr,{title:"Resolved",value:o.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(G,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(G,{to:"/client/projects",className:"btn-outline",children:"View All Projects"}),s.jsx(G,{to:"/client/tickets",className:"btn-outline",children:"View All Tickets"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(G,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),l.length>0?s.jsx("div",{className:"space-y-4",children:l.map(u=>{const d=a.find(p=>p.id===u.webDeveloperId),f=a.find(p=>p.id===u.socialMediaCoordinatorId),h=Q4(u.currentStage);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:u.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:u.description})]}),s.jsx(Or,{status:u.status})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[h.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${h}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:Bs(u.currentStage)}),s.jsxs("div",{className:"flex items-center gap-1",children:[d&&s.jsx(Bp,{fullName:d.fullName,size:"sm"}),f&&s.jsx(Bp,{fullName:f.fullName,size:"sm"})]})]})]},u.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),s.jsx(G,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),c.length>0?s.jsx("div",{className:"space-y-4",children:c.map(u=>{const d=a.find(f=>f.id===u.assignedTo);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:u.title}),d&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",d.fullName]})]}),s.jsx(nc,{priority:u.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Or,{status:u.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Mn(u.createdAt)})]})]},u.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No tickets yet."}),s.jsx(G,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),s.jsx(Se,{})]})}function Mxe(){const{isSignedIn:t,user:e}=je(),r=Ae();if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=ni(e.id,e.role),i=$e();return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),s.jsx(G,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(a=>{const o=i.find(u=>u.id===a.webDeveloperId),l=i.find(u=>u.id===a.socialMediaCoordinatorId),c=Q4(a.currentStage);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.name}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description})]}),s.jsx(Or,{status:a.status})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[c.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${c}%`}})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary",children:Bs(a.currentStage)})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bp,{fullName:o.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bp,{fullName:l.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{to:`/client/tickets/new?project=${a.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),s.jsx("button",{className:"btn-outline flex-1",children:"View Details"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Mn(a.updatedAt)]})})]},a.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),s.jsx(Se,{})]})}function Dxe(){const{isSignedIn:t,user:e}=je(),r=Ae();if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=nf(e.id,e.role),i=_r(),a=$e();return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(G,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"}),s.jsx(G,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"})]})]})}),s.jsx("div",{className:"space-y-4",children:n.length>0?n.map(o=>{const l=i.find(u=>u.id===o.projectId),c=a.find(u=>u.id===o.assignedTo);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:o.title}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:o.description}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",s.jsx("span",{className:"font-medium",children:l.name})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Or,{status:o.status}),s.jsx(nc,{priority:o.priority})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Type: ",o.type.replace("_"," ")]}),c&&s.jsxs("span",{children:["Assigned to: ",c.fullName]}),s.jsx("span",{children:Mn(o.createdAt)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),s.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},o.id)}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),s.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),s.jsx(G,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),s.jsx(Se,{})]})}function Rxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState(""),[a,o]=M.useState(""),[l,c]=M.useState("medium"),[u,d]=M.useState("feature_request"),[f,h]=M.useState(""),[p,v]=M.useState(!1);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login");const w=new URLSearchParams(window.location.search).get("project");w&&h(w)},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const x=ni(e.id,e.role);$e();const y=async g=>{g.preventDefault(),v(!0);const w={id:`ticket-${Date.now()}`,projectId:f,createdBy:e.id,title:n,description:a,type:u,priority:l,status:"open",createdAt:new Date,updatedAt:new Date};s8(w),i(""),o(""),c("medium"),d("feature_request"),h(""),v(!1),r("/client/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),s.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),s.jsx(G,{to:"/client/dashboard",className:"btn-outline",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),s.jsxs("select",{value:f,onChange:g=>h(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[s.jsx("option",{value:"",children:"Choose a project..."}),x.map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),s.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"content_change",children:"Content Change"}),s.jsx("option",{value:"design_update",children:"Design Update"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),s.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{value:a,onChange:g=>o(g.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:p||!f,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Creating...":"Create Ticket"}),s.jsx(G,{to:"/client/dashboard",className:"btn-outline",children:"Cancel"})]})]})}),s.jsxs("div",{className:"mt-8 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2",children:" Ticket Guidelines"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsx("li",{children:" Be specific about what you need"}),s.jsx("li",{children:" Include any relevant details or examples"}),s.jsx("li",{children:" Choose the appropriate priority level"}),s.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),s.jsx(Se,{})]})}function $xe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState(""),[a,o]=M.useState({tickets:[],projects:[],users:[],messages:[]}),[l,c]=M.useState(!1),[u,d]=M.useState({projects:!0,tickets:!0,users:!0,messages:!0});if(M.useEffect(()=>{t||r("/login")},[t,r]),M.useEffect(()=>{if(!n.trim()){o({tickets:[],projects:[],users:[],messages:[]});return}c(!0);const h=n.toLowerCase(),p=u.tickets?Mr().filter(g=>g.title.toLowerCase().includes(h)||g.description.toLowerCase().includes(h)||g.id.toLowerCase().includes(h)||g.type.replace("_"," ").toLowerCase().includes(h)):[],v=u.projects?_r().filter(g=>g.name.toLowerCase().includes(h)||g.description.toLowerCase().includes(h)||g.id.toLowerCase().includes(h)):[],x=u.users?$e().filter(g=>g.fullName.toLowerCase().includes(h)||g.email.toLowerCase().includes(h)||g.role.toLowerCase().includes(h)):[],y=u.messages?tf().filter(g=>g.subject&&g.subject.toLowerCase().includes(h)||g.content&&g.content.toLowerCase().includes(h)):[];o({tickets:p,projects:v,users:x,messages:y}),c(!1)},[n,u]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=a.tickets.length+a.projects.length+a.users.length+a.messages.length;return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:e.role==="admin"?"/admin/dashboard":e.role==="web_developer"?"/developer/dashboard":e.role==="social_media_coordinator"?"/coordinator/dashboard":"/client-portal/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Global Search"}),s.jsx("p",{className:"text-muted-foreground",children:"Find anything across your entire workspace - projects, tickets, users, and messages"})]})]}),s.jsx("div",{className:"card mb-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",value:n,onChange:h=>i(h.target.value),placeholder:"Search for projects, tickets, users, messages...",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Search in:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(u).map(([h,p])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:v=>d(x=>({...x,[h]:v.target.checked})),className:"rounded border-border"}),s.jsx("span",{className:"text-sm text-foreground capitalize",children:h})]},h))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/70 transition text-sm",disabled:!n,children:"Clear Search"})})]})}),n&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center",children:l?s.jsx("p",{className:"text-muted-foreground",children:"Searching..."}):s.jsxs("p",{className:"text-muted-foreground",children:["Found ",f," result",f!==1?"s":"",' for "',n,'"']})}),a.tickets.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Tickets (",a.tickets.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.tickets.slice(0,10).map(h=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:h.type.replace("_"," ")}),s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded",children:h.status.replace("_"," ")})]})]}),s.jsx(G,{to:"/admin/tickets",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},h.id))})]}),a.projects.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Projects (",a.projects.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.projects.slice(0,10).map(h=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:h.status})})]}),s.jsx(G,{to:`/admin/projects/${h.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},h.id))})]}),a.users.length>0&&e.role==="admin"&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Users (",a.users.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.users.slice(0,10).map(h=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.email}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:h.role})})]}),e.role==="admin"&&s.jsx(G,{to:`/admin/users/${h.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},h.id))})]}),a.messages.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Messages (",a.messages.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.messages.slice(0,10).map(h=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.subject||"No Subject"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:h.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Message"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(h.createdAt).toLocaleDateString()})]})]}),s.jsx(G,{to:"/messages",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},h.id))})]}),f===0&&!l&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-6xl",children:""})}),s.jsx("p",{className:"text-xl font-medium text-muted-foreground mb-2",children:"0 results found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try different keywords or check your spelling"}),s.jsxs("div",{className:"card max-w-2xl mx-auto text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" Search Tips"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"What you can search:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Project names and descriptions"}),s.jsx("li",{children:" Ticket titles and content"}),s.jsx("li",{children:" User names and roles"}),s.jsx("li",{children:" Message subjects and content"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Advanced features:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Filter by content type"}),s.jsx("li",{children:" Relevance-based ranking"}),s.jsx("li",{children:" Real-time search results"}),s.jsx("li",{children:" Direct navigation to results"})]})]})]})]})]})]})]})}),s.jsx(Se,{})]})}const Lxe=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function Vxe(){const{isSignedIn:t,user:e,switchRole:r}=je(),n=Ae();if(M.useEffect(()=>{t||n("/login")},[t,n]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=a=>{r(a),setTimeout(()=>{n(a==="admin"?"/admin/dashboard":"/dashboard")},300)};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",s.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:e.role.replace("_"," ").toUpperCase()})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:Lxe.map(a=>{const o=e.role===a.value;return s.jsxs("button",{onClick:()=>!o&&i(a.value),disabled:o,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${o?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[o&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),s.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-white/20":"bg-primary/10"}`,children:[a.value==="admin"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-primary"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.value==="web_developer"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),a.value==="social_media_coordinator"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),a.value==="client"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),s.jsx("h2",{className:`text-2xl font-bold mb-3 ${o?"text-white":"text-[#1e2875]"}`,children:a.label}),s.jsx("p",{className:`text-sm leading-relaxed ${o?"text-white/90":"text-muted-foreground"}`,children:a.description}),!o&&s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[s.jsx("span",{children:"Click to switch"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},a.value)})}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-white shadow-md hover:shadow-lg transition text-[#1e2875] font-semibold",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),s.jsx(Se,{})]})}function Fxe(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState("website"),[a,o]=M.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",googleAnalyticsPropertyId:"",googleAnalyticsViewId:"",notes:"",campaignGoals:"",targetAudience:""}),[l,c]=M.useState([]);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=$e(),d=u.filter(y=>y.role==="client"),f=u.filter(y=>y.role==="web_developer"),h=u.filter(y=>y.role==="social_media_coordinator"),p=["facebook","instagram","twitter","linkedin","tiktok","youtube"],v=y=>{c(g=>g.includes(y)?g.filter(w=>w!==y):[...g,y])},x=y=>{y.preventDefault(),{...a},alert(`${n==="website"?"Website":"Social Media"} project "${a.name}" created successfully!`),r("/admin/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),s.jsxs(G,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{type:"button",onClick:()=>i("website"),className:`p-6 border-2 rounded-lg transition ${n==="website"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),s.jsx("button",{type:"button",onClick:()=>i("social_media"),className:`p-6 border-2 rounded-lg transition ${n==="social_media"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),s.jsxs("form",{onSubmit:x,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),s.jsx("input",{type:"text",id:"name",required:!0,value:a.name,onChange:y=>o({...a,name:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",required:!0,value:a.description,onChange:y=>o({...a,description:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),s.jsxs("select",{id:"clientId",required:!0,value:a.clientId,onChange:y=>o({...a,clientId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a client"}),d.map(y=>s.jsx("option",{value:y.id,children:y.fullName},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),s.jsxs("select",{id:"currentStage",required:!0,value:a.currentStage,onChange:y=>o({...a,currentStage:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),n==="website"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{id:"webDeveloperId",value:a.webDeveloperId,onChange:y=>o({...a,webDeveloperId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a developer (optional)"}),f.map(y=>s.jsx("option",{value:y.id,children:y.fullName},y.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",n==="social_media"&&"*"]}),s.jsxs("select",{id:"socialMediaCoordinatorId",required:n==="social_media",value:a.socialMediaCoordinatorId,onChange:y=>o({...a,socialMediaCoordinatorId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsxs("option",{value:"",children:["Select a coordinator ",n==="website"&&"(optional)"]}),h.map(y=>s.jsx("option",{value:y.id,children:y.fullName},y.id))]})]})]}),n==="website"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",id:"websiteUrl",value:a.websiteUrl,onChange:y=>o({...a,websiteUrl:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsPropertyId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics Property ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsPropertyId",value:a.googleAnalyticsPropertyId,onChange:y=>o({...a,googleAnalyticsPropertyId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"G-XXXXXXXXXX"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"googleAnalyticsViewId",className:"block text-sm font-medium text-foreground mb-2",children:"Google Analytics View ID"}),s.jsx("input",{type:"text",id:"googleAnalyticsViewId",value:a.googleAnalyticsViewId,onChange:y=>o({...a,googleAnalyticsViewId:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"123456789"})]})]})]}),n==="social_media"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platforms *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:p.map(y=>s.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition",children:[s.jsx("input",{type:"checkbox",checked:l.includes(y),onChange:()=>v(y),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("span",{className:"text-sm font-medium capitalize",children:y})]},y))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),s.jsx("textarea",{id:"campaignGoals",required:!0,value:a.campaignGoals,onChange:y=>o({...a,campaignGoals:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),s.jsx("textarea",{id:"targetAudience",required:!0,value:a.targetAudience,onChange:y=>o({...a,targetAudience:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",value:a.notes,onChange:y=>o({...a,notes:y.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs("button",{type:"submit",className:"btn-primary flex-1",children:["Create ",n==="website"?"Website":"Social Media"," Project"]}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"btn-outline flex-1",children:"Cancel"})]})]})]})}),s.jsx(Se,{})]})}const B3=6048e5,Bxe=864e5,Uxe=6e4,Vk=Symbol.for("constructDateFrom");function pn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Vk in t?t[Vk](e):t instanceof Date?new t.constructor(e):new Date(e)}function Xt(t,e){return pn(e||t,t)}function Up(t,e,r){const n=Xt(t,r==null?void 0:r.in);return isNaN(e)?pn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function U3(t,e,r){const n=Xt(t,r==null?void 0:r.in);if(isNaN(e))return pn(t,NaN);if(!e)return n;const i=n.getDate(),a=pn(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let zxe={};function Af(){return zxe}function Ri(t,e){var l,c,u,d;const r=Af(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Xt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function zp(t,e){return Ri(t,{...e,weekStartsOn:1})}function z3(t,e){const r=Xt(t,e==null?void 0:e.in),n=r.getFullYear(),i=pn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=zp(i),o=pn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=zp(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Fk(t){const e=Xt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function gy(t,...e){const r=pn.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Wp(t,e){const r=Xt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Wxe(t,e,r){const[n,i]=gy(r==null?void 0:r.in,t,e),a=Wp(n),o=Wp(i),l=+a-Fk(a),c=+o-Fk(o);return Math.round((l-c)/Bxe)}function Hxe(t,e){const r=z3(t,e),n=pn(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),zp(n)}function W3(t,e,r){return Up(t,e*7,r)}function Bk(t,e,r){const[n,i]=gy(r==null?void 0:r.in,t,e);return+Wp(n)==+Wp(i)}function qxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Gxe(t){return!(!qxe(t)&&typeof t!="number"||isNaN(+Xt(t)))}function Kxe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Yxe(t,e){return+Xt(t)-+Xt(e)}function Uk(t,e,r){const n=Yxe(t,e)/Uxe;return Kxe(r==null?void 0:r.roundingMethod)(n)}function Xxe(t,e){const r=Xt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Qxe(t,e){const[r,n]=gy(t,e.start,e.end);return{start:r,end:n}}function zk(t,e){const{start:r,end:n}=Qxe(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(pn(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function H3(t,e){const r=Xt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Jxe(t,e){const r=Xt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Zxe(t,e){var l,c;const r=Af(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Xt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const ebe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tbe=(t,e,r)=>{let n;const i=ebe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Xv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const rbe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nbe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ibe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sbe={date:Xv({formats:rbe,defaultWidth:"full"}),time:Xv({formats:nbe,defaultWidth:"full"}),dateTime:Xv({formats:ibe,defaultWidth:"full"})},abe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},obe=(t,e,r,n)=>abe[t];function Jc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const lbe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cbe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ube={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mbe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pbe={ordinalNumber:mbe,era:Jc({values:lbe,defaultWidth:"wide"}),quarter:Jc({values:cbe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jc({values:ube,defaultWidth:"wide"}),day:Jc({values:dbe,defaultWidth:"wide"}),dayPeriod:Jc({values:fbe,defaultWidth:"wide",formattingValues:hbe,defaultFormattingWidth:"wide"})};function Zc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ybe(l,f=>f.test(o)):gbe(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function gbe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ybe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function vbe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const xbe=/^(\d+)(th|st|nd|rd)?/i,bbe=/\d+/i,wbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jbe={any:[/^b/i,/^(a|c)/i]},_be={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nbe={any:[/1/i,/2/i,/3/i,/4/i]},Sbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Abe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ebe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pbe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ibe={ordinalNumber:vbe({matchPattern:xbe,parsePattern:bbe,valueCallback:t=>parseInt(t,10)}),era:Zc({matchPatterns:wbe,defaultMatchWidth:"wide",parsePatterns:jbe,defaultParseWidth:"any"}),quarter:Zc({matchPatterns:_be,defaultMatchWidth:"wide",parsePatterns:Nbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zc({matchPatterns:Sbe,defaultMatchWidth:"wide",parsePatterns:Abe,defaultParseWidth:"any"}),day:Zc({matchPatterns:Tbe,defaultMatchWidth:"wide",parsePatterns:Ebe,defaultParseWidth:"any"}),dayPeriod:Zc({matchPatterns:kbe,defaultMatchWidth:"any",parsePatterns:Pbe,defaultParseWidth:"any"})},Cbe={code:"en-US",formatDistance:tbe,formatLong:sbe,formatRelative:obe,localize:pbe,match:Ibe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Obe(t,e){const r=Xt(t,e==null?void 0:e.in);return Wxe(r,Jxe(r))+1}function Mbe(t,e){const r=Xt(t,e==null?void 0:e.in),n=+zp(r)-+Hxe(r);return Math.round(n/B3)+1}function q3(t,e){var d,f,h,p;const r=Xt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Af(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=pn((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Ri(o,e),c=pn((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ri(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Dbe(t,e){var l,c,u,d;const r=Af(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=q3(t,e),a=pn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ri(a,e)}function Rbe(t,e){const r=Xt(t,e==null?void 0:e.in),n=+Ri(r,e)-+Dbe(r,e);return Math.round(n/B3)+1}function Fe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ts={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Fe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Fe(r+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Fe(i,e.length)}},vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wk={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ts.y(t,e)},Y:function(t,e,r,n){const i=q3(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Fe(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Fe(a,e.length)},R:function(t,e){const r=z3(t);return Fe(r,e.length)},u:function(t,e){const r=t.getFullYear();return Fe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ts.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Rbe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Fe(i,e.length)},I:function(t,e,r){const n=Mbe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Fe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ts.d(t,e)},D:function(t,e,r){const n=Obe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Fe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Fe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Fe(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Fe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=vo.noon:n===0?i=vo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=vo.evening:n>=12?i=vo.afternoon:n>=4?i=vo.morning:i=vo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ts.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ts.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ts.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ts.s(t,e)},S:function(t,e){return ts.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return qk(n);case"XXXX":case"XX":return ma(n);case"XXXXX":case"XXX":default:return ma(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return qk(n);case"xxxx":case"xx":return ma(n);case"xxxxx":case"xxx":default:return ma(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Hk(n,":");case"OOOO":default:return"GMT"+ma(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Hk(n,":");case"zzzz":default:return"GMT"+ma(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Fe(n,e.length)},T:function(t,e,r){return Fe(+t,e.length)}};function Hk(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Fe(a,2)}function qk(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):ma(t,e)}function ma(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Fe(Math.trunc(n/60),2),a=Fe(n%60,2);return r+i+e+a}const Gk=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},G3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$be=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Gk(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Gk(n,e)).replace("{{time}}",G3(i,e))},Lbe={p:G3,P:$be},Vbe=/^D+$/,Fbe=/^Y+$/,Bbe=["D","DD","YY","YYYY"];function Ube(t){return Vbe.test(t)}function zbe(t){return Fbe.test(t)}function Wbe(t,e,r){const n=Hbe(t,e,r);if(console.warn(n),Bbe.includes(t))throw new RangeError(n)}function Hbe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kbe=/^'([^]*?)'?$/,Ybe=/''/g,Xbe=/[a-zA-Z]/;function bt(t,e,r){var d,f,h,p;const n=Af(),i=n.locale??Cbe,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=Xt(t,r==null?void 0:r.in);if(!Gxe(l))throw new RangeError("Invalid time value");let c=e.match(Gbe).map(v=>{const x=v[0];if(x==="p"||x==="P"){const y=Lbe[x];return y(v,i.formatLong)}return v}).join("").match(qbe).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:Qbe(v)};if(Wk[x])return{isToken:!0,value:v};if(x.match(Xbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const x=v.value;(zbe(x)||Ube(x))&&Wbe(x,e,String(t));const y=Wk[x[0]];return y(l,x,i.localize,u)}).join("")}function Qbe(t){const e=t.match(Kbe);return e?e[1].replace(Ybe,"'"):t}function Jbe(t,e,r){const[n,i]=gy(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function K3(t,e,r){return Up(t,-e,r)}function Zbe(t,e,r){return U3(t,-1,r)}function e0e(t,e,r){return W3(t,-1,r)}function t0e(){const{isSignedIn:t,user:e}=je(),r=Ae(),[n,i]=M.useState([]),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState(null),[f,h]=M.useState(!1),[p,v]=M.useState({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1});M.useEffect(()=>{t||r("/login")},[t,r]),M.useEffect(()=>{e&&(i(Ma(e.id)),o($e()),c(_r()))},[e]);const x=A=>{l8(A),i(S=>S.map(_=>_.id===A?{..._,isRead:!0}:_))},y=A=>{window.confirm("Are you sure you want to delete this message?")&&c8(A)&&(i(S=>S.filter(_=>_.id!==A)),(u==null?void 0:u.id)===A&&d(null))},g=()=>{if(!e||!p.subject.trim()||!p.content.trim())return;const A={id:`message-${Date.now()}`,senderId:e.id,recipientId:p.isBroadcast?void 0:p.recipientId||void 0,subject:p.subject,content:p.content,isRead:!1,isBroadcast:p.isBroadcast,projectId:p.projectId||void 0,createdAt:new Date,updatedAt:new Date};u8(A),i(S=>[A,...S]),v({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1}),h(!1)},w=A=>{const S=a.find(_=>_.id===A);return S?S.fullName:"Unknown"},b=A=>{if(!A)return"Everyone (Broadcast)";const S=a.find(_=>_.id===A);return S?S.fullName:"Unknown"},T=A=>{if(!A)return null;const S=l.find(_=>_.id===A);return S?S.name:null},j=n.filter(A=>!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)).length;return e?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(G,{to:"/dashboard",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark transition-colors font-medium",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Messages"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Communicate with team members and clients",j>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),j," unread"]})]})]}),s.jsxs("button",{onClick:()=>h(!0),className:"btn-primary px-6 py-3 self-start lg:self-auto",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Compose Message"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Messages"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:n.map(A=>s.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 border ${(u==null?void 0:u.id)===A.id?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-border/50 hover:border-primary/20"} ${!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)?"border-l-4 border-l-primary bg-secondary/10":""}`,onClick:()=>{d(A),!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)&&x(A.id)},children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:[A.senderId===(e==null?void 0:e.id)?"To: ":"From: ",A.senderId===(e==null?void 0:e.id)?b(A.recipientId):w(A.senderId),A.isBroadcast&&" (Broadcast)"]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate font-medium",children:A.subject})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:bt(A.createdAt,"MMM dd")}),s.jsx("button",{onClick:S=>{S.stopPropagation(),y(A.id)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),!A.isRead&&(A.recipientId===(e==null?void 0:e.id)||A.isBroadcast)&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-auto flex-shrink-0"})]},A.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:u?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.subject}),s.jsx("button",{onClick:()=>y(u.id),className:"text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[s.jsxs("span",{children:[u.senderId===(e==null?void 0:e.id)?"Sent to ":"From ",u.senderId===(e==null?void 0:e.id)?b(u.recipientId):w(u.senderId),u.isBroadcast&&" (Broadcast)"]}),s.jsx("span",{children:""}),s.jsx("span",{children:bt(u.createdAt,"PPP 'at' p")})]}),T(u.projectId)&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project: ",T(u.projectId)]})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"whitespace-pre-wrap text-foreground text-lg leading-relaxed",children:u.content})})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm flex items-center justify-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Select a message to view"})]})})})]}),f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Compose New Message"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Send a message to team members or broadcast to everyone"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"broadcast",checked:p.isBroadcast,onChange:A=>v(S=>({...S,isBroadcast:A.target.checked,recipientId:A.target.checked?"":S.recipientId})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"broadcast",className:"text-sm font-medium text-foreground",children:"Broadcast to all users"})]}),!p.isBroadcast&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient"}),s.jsxs("select",{value:p.recipientId,onChange:A=>v(S=>({...S,recipientId:A.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select recipient"}),a.filter(A=>A.id!==(e==null?void 0:e.id)&&A.isActive).map(A=>s.jsxs("option",{value:A.id,children:[A.fullName," (",A.role,")"]},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Related Project (Optional)"}),s.jsxs("select",{value:p.projectId,onChange:A=>v(S=>({...S,projectId:A.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select project"}),l.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:p.subject,onChange:A=>v(S=>({...S,subject:A.target.value})),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),s.jsx("textarea",{value:p.content,onChange:A=>v(S=>({...S,content:A.target.value})),placeholder:"Enter your message",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>h(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:!p.subject.trim()||!p.content.trim()||!p.isBroadcast&&!p.recipientId,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Message"})]})]})]})})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function r0e(){const{user:t,signOut:e}=je(),r=Ae(),[n,i]=M.useState([]),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState(!0);if(M.useEffect(()=>{if(!t){r("/login?portal=client");return}if(t.role!=="client"){r("/dashboard");return}i(ni(t.id,t.role)),o(nf(t.id,t.role)),c(Ma(t.id)),d(!1)},[t,r]),!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const f=n.filter(v=>v.status==="active"),h=a.slice(0,3),p=l.filter(v=>!v.isRead&&v.recipientId===(t==null?void 0:t.id));return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Project Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your project progress and communicate with our team"})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(G,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(G,{to:"/client-portal/files",className:"btn-outline",children:"View Files"}),s.jsx(G,{to:"/messages",className:"btn-outline",children:"Messages"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.filter(v=>v.status==="open"||v.status==="in_progress").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread Messages"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Your Projects"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"Recent Projects"})]}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.slice(0,3).map(v=>s.jsxs(G,{to:`/client-portal/project/${v.id}`,className:"block p-4 border border-border/50 rounded-lg hover:bg-muted/50 hover:border-primary/20 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:v.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Stage: ",v.currentStage]}),s.jsxs("span",{children:["Updated ",bt(v.updatedAt,"MMM dd")]})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No active projects yet"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Recent Activity"}),s.jsx(G,{to:"/client/tickets",className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),s.jsx("div",{className:"space-y-4",children:h.length>0?h.map(v=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground text-sm",children:v.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",v.status]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:bt(v.createdAt,"MMM dd, yyyy")})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No recent activity"})]})})]})]})]})}),s.jsx(Se,{})]})}function n0e(){const{id:t}=ef(),{user:e}=je(),r=Ae(),[n,i]=M.useState(null),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState(!0);M.useEffect(()=>{if(!e||e.role!=="client"){r("/login?portal=client");return}if(!t){r("/client-portal/dashboard");return}const h=rf(t);if(!h||h.clientId!==e.id){r("/client-portal/dashboard");return}i(h),o(xC(t)),c(Ma(e.id).filter(p=>p.projectId===t)),d(!1)},[e,t,r]);const f=h=>({planning:"bg-primary/10 text-primary",development:"bg-accent/10 text-accent",testing:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"})[status]||"bg-gray-100 text-gray-800";return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u||!n?s.jsx("div",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-300 rounded"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:n.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${J4(n.status)}`,children:n.status}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${f(n.currentStage)}`,children:n.currentStage}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Updated ",bt(n.updatedAt,"MMM dd, yyyy")]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(G,{to:"/messages",className:"btn-outline px-4 py-2",children:"Message Team"}),s.jsx(G,{to:"/client-portal/files",className:"btn-outline px-4 py-2",children:"Share Files"}),s.jsx(G,{to:"/client-portal/feedback",className:"btn-primary px-4 py-2",children:"Submit Feedback"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Progress"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[n.currentStage==="planning"&&"25%",n.currentStage==="design"&&"40%",n.currentStage==="development"&&"60%",n.currentStage==="testing"&&"80%",n.currentStage==="launch"&&"100%",n.currentStage==="maintenance"&&"100%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:n.currentStage==="planning"?"25%":n.currentStage==="design"?"40%":n.currentStage==="development"?"60%":n.currentStage==="testing"?"80%":(n.currentStage==="launch","100%")}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Project Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"text-foreground capitalize",children:n.projectType.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),s.jsx("span",{className:"text-foreground",children:bt(n.createdAt,"MMM dd, yyyy")})]}),n.launchDate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Launch Date:"}),s.jsx("span",{className:"text-foreground",children:bt(n.launchDate,"MMM dd, yyyy")})]}),n.websiteUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Website:"}),s.jsx("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View Site"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Team Members"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Developer:"}),s.jsx("span",{className:"text-foreground",children:n.webDeveloperId?"Assigned":"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Coordinator:"}),s.jsx("span",{className:"text-foreground",children:n.socialMediaCoordinatorId?"Assigned":"Not assigned"})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Updates"}),s.jsx("div",{className:"space-y-4",children:a.length>0?a.slice(0,5).map(h=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground",children:h.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[h.description.substring(0,100),"..."]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{className:`px-2 py-1 rounded-full ${h.status==="open"?"bg-yellow-100 text-yellow-800":h.status==="in_progress"?"bg-primary/10 text-primary":h.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:h.status.replace("_"," ")}),s.jsx("span",{children:bt(h.createdAt,"MMM dd, yyyy")})]})]})]},h.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No updates yet"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(G,{to:"/messages",className:"block w-full btn-outline text-center py-2",children:"Message Team"}),s.jsx(G,{to:"/client-portal/files",className:"block w-full btn-outline text-center py-2",children:"Share Files"}),s.jsx(G,{to:"/client-portal/feedback",className:"block w-full btn-primary text-center py-2",children:"Submit Feedback"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Project Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Open Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.filter(h=>h.status==="open"||h.status==="in_progress").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Messages:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:l.length})]})]})]})]})]})]})}),s.jsx(Se,{})]})}function i0e(){const{user:t}=je(),[e,r]=M.useState([]),[n,i]=M.useState(""),[a,o]=M.useState([]),[l,c]=M.useState(!1);M.useEffect(()=>{if(t&&t.role==="client"){const p=ni(t.id,t.role);r(p),p.length>0&&i(p[0].id)}},[t]);const u=p=>{const v=Array.from(p.target.files||[]);o(x=>[...x,...v])},d=async()=>{!n||a.length===0||(c(!0),await new Promise(p=>setTimeout(p,2e3)),o([]),c(!1),alert("Files uploaded successfully!"))},f=p=>{o(v=>v.filter((x,y)=>y!==p))},h=p=>{if(p===0)return"0 Bytes";const v=1024,x=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(p)/Math.log(v));return parseFloat((p/Math.pow(v,y)).toFixed(2))+" "+x[y]};return!t||t.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Files with Your Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Upload documents, images, or any files your project team needs to access"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Project"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:e.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Upload Files"}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:u,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.svg,.zip,.rar"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop files here or click to browse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, SVG, ZIP, RAR (max 10MB each)"})]})]})]}),a.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Files to Upload"}),s.jsx("div",{className:"space-y-3",children:a.map((p,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:p.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h(p.size)})]})]}),s.jsx("button",{onClick:()=>f(v),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},v))})]}),a.length>0&&s.jsx("button",{onClick:d,disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading Files..."]}):`Upload ${a.length} File${a.length>1?"s":""}`})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Previously Shared Files"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-5.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-muted-foreground",children:"No files shared yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Files you upload will appear here for your team's access"})]})})]})]})})}),s.jsx(Se,{})]})}function s0e(){const{user:t}=je(),[e,r]=M.useState([]),[n,i]=M.useState(""),[a,o]=M.useState({rating:5,category:"overall",comment:"",isPublic:!1}),[l,c]=M.useState(!1);M.useEffect(()=>{if(t&&t.role==="client"){const f=ni(t.id,t.role);r(f),f.length>0&&i(f[0].id)}},[t]);const u=async f=>{if(f.preventDefault(),!n||!a.comment.trim()){alert("Please fill in all required fields");return}c(!0),await new Promise(h=>setTimeout(h,1500)),o({rating:5,category:"overall",comment:"",isPublic:!1}),c(!1),alert("Thank you for your feedback! We'll review it and get back to you soon.")};if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Your Feedback"}),s.jsx("p",{className:"text-muted-foreground",children:"Help us improve by sharing your thoughts about our work"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Which project is this feedback about?"}),s.jsx("select",{value:n,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",required:!0,children:e.map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"How would you rate our work?"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>s.jsx("button",{type:"button",onClick:()=>o(h=>({...h,rating:f})),className:`w-8 h-8 ${f<=a.rating?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:s.jsx("svg",{viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},f))}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:d[a.rating]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"What area does this feedback relate to?"}),s.jsxs("select",{value:a.category,onChange:f=>o(h=>({...h,category:f.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"overall",children:"Overall Experience"}),s.jsx("option",{value:"design",children:"Design Quality"}),s.jsx("option",{value:"functionality",children:"Website Functionality"}),s.jsx("option",{value:"communication",children:"Team Communication"}),s.jsx("option",{value:"timeline",children:"Project Timeline"}),s.jsx("option",{value:"support",children:"Customer Support"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Your Feedback"}),s.jsx("textarea",{value:a.comment,onChange:f=>o(h=>({...h,comment:f.target.value})),placeholder:"Please share your detailed feedback, suggestions for improvement, or any concerns...",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground resize-none",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your feedback helps us improve our services. Be as specific as possible."})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:f=>o(h=>({...h,isPublic:f.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-foreground",children:"Make this feedback public (visible to other clients as testimonials)"})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting Feedback..."]}):"Submit Feedback"})]})}),s.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 rounded-xl border border-secondary/20 dark:border-secondary/30 p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary dark:text-primary mb-3",children:" Tips for Better Feedback"}),s.jsxs("ul",{className:"space-y-2 text-sm text-primary dark:text-primary",children:[s.jsx("li",{children:" Be specific about what you liked or didn't like"}),s.jsx("li",{children:" Include examples from your experience"}),s.jsx("li",{children:" Suggest improvements when possible"}),s.jsx("li",{children:" Mention both positive aspects and areas for growth"}),s.jsx("li",{children:" Rate based on your overall satisfaction with the work"})]})]})]})})}),s.jsx(Se,{})]})}function a0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState("30d"),[a,o]=M.useState({projects:[],tickets:[],website:[],social:[],users:[]}),[l,c]=M.useState(!0);M.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}const x=_r(),y=Mr(),g=vC(),w=Zw(),b=$e();o({projects:x,tickets:y,website:g,social:w,users:b}),c(!1)},[t,e,r]);const d=(()=>{const y=K3(new Date,n==="7d"?7:n==="30d"?30:n==="90d"?90:365);return{recentTickets:a.tickets.filter(g=>new Date(g.createdAt)>=y),recentWebsite:a.website.filter(g=>new Date(g.date)>=y),recentSocial:a.social.filter(g=>new Date(g.date)>=y)}})(),f={totalProjects:a.projects.length,activeProjects:a.projects.filter(x=>x.status==="active").length,totalTickets:d.recentTickets.length,resolvedTickets:d.recentTickets.filter(x=>x.status==="resolved").length,avgPageViews:d.recentWebsite.length>0?Math.round(d.recentWebsite.reduce((x,y)=>x+y.pageViews,0)/d.recentWebsite.length):0,totalEngagement:d.recentSocial.reduce((x,y)=>x+y.engagement,0),totalReach:d.recentSocial.reduce((x,y)=>x+y.reach,0)},h={active:a.projects.filter(x=>x.status==="active").length,completed:a.projects.filter(x=>x.status==="completed").length,paused:a.projects.filter(x=>x.status==="paused").length},p={critical:d.recentTickets.filter(x=>x.priority==="critical").length,high:d.recentTickets.filter(x=>x.priority==="high").length,medium:d.recentTickets.filter(x=>x.priority==="medium").length,low:d.recentTickets.filter(x=>x.priority==="low").length},v=[{month:"Jan",projects:12,tickets:45,revenue:25e3},{month:"Feb",projects:15,tickets:52,revenue:32e3},{month:"Mar",projects:18,tickets:38,revenue:28e3},{month:"Apr",projects:22,tickets:61,revenue:41e3},{month:"May",projects:20,tickets:49,revenue:38e3},{month:"Jun",projects:25,tickets:55,revenue:45e3}];return!t||t.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive insights into your business performance and project metrics"})]}),s.jsx("div",{className:"flex gap-2",children:[{value:"7d",label:"7 Days"},{value:"30d",label:"30 Days"},{value:"90d",label:"90 Days"},{value:"1y",label:"1 Year"}].map(x=>s.jsx("button",{onClick:()=>i(x.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===x.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:x.label},x.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.totalProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.totalTickets}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Tickets (",n,")"]}),s.jsx("p",{className:"text-xs text-red-600",children:"-5% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.avgPageViews.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Page Views"}),s.jsx("p",{className:"text-xs text-green-600",children:"+15% vs last period"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Status Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),s.jsx("span",{className:"text-sm font-bold",children:h.active})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-primary rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),s.jsx("span",{className:"text-sm font-bold",children:h.completed})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Paused"})]}),s.jsx("span",{className:"text-sm font-bold",children:h.paused})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Ticket Priority Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Critical"})]}),s.jsx("span",{className:"text-sm font-bold",children:p.critical})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"High"})]}),s.jsx("span",{className:"text-sm font-bold",children:p.high})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),s.jsx("span",{className:"text-sm font-bold",children:p.medium})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Low"})]}),s.jsx("span",{className:"text-sm font-bold",children:p.low})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Monthly Performance Trends"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-border",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Month"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Projects"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Tickets"}),s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Revenue"})]})}),s.jsx("tbody",{children:v.map((x,y)=>s.jsxs("tr",{className:y%2===0?"bg-muted/30":"",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:x.month}),s.jsx("td",{className:"py-3 px-4",children:x.projects}),s.jsx("td",{className:"py-3 px-4",children:x.tickets}),s.jsxs("td",{className:"py-3 px-4 font-medium",children:["$",x.revenue.toLocaleString()]})]},x.month))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-foreground mb-6",children:["Social Media Performance (",n,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:f.totalReach.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reach"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:f.totalEngagement.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Engagement"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[f.totalEngagement>0?Math.round(f.totalEngagement/f.totalReach*100):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+5% vs last period"})]})]})]})]})}),s.jsx(Se,{})]})}const o0e=[{id:"event-1",title:"SpecCon Website Launch Meeting",description:"Final review before launch",eventType:"meeting",priority:"high",startDate:new Date(2025,0,15,10,0),endDate:new Date(2025,0,15,11,30),allDay:!1,location:"Conference Room A",attendees:["user-1","user-2","user-3","user-5"],organizerId:"user-1",projectId:"proj-1",isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"confirmed",notes:"Please review final designs before meeting",createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Andebe Platform Deadline",description:"Development completion deadline",eventType:"deadline",priority:"critical",startDate:new Date(2025,0,20),endDate:new Date(2025,0,20),allDay:!0,attendees:["user-2","user-3"],organizerId:"user-1",projectId:"proj-2",isRecurring:!1,recurrenceType:"none",reminderMinutes:1440,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Client Presentation - Megrolowveld",description:"Present design concepts to client",eventType:"presentation",priority:"high",startDate:new Date(2025,0,18,14,0),endDate:new Date(2025,0,18,15,30),allDay:!1,location:"Virtual Meeting",attendees:["user-1","user-4","user-5","user-6"],organizerId:"user-1",projectId:"proj-3",isRecurring:!1,recurrenceType:"none",reminderMinutes:30,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-4",title:"Weekly Team Standup",description:"Weekly progress update and planning",eventType:"meeting",priority:"medium",startDate:new Date(2025,0,16,9,0),endDate:new Date(2025,0,16,9,30),allDay:!1,location:"Main Conference Room",attendees:["user-1","user-2","user-3","user-4"],organizerId:"user-1",isRecurring:!0,recurrenceType:"weekly",recurrenceEndDate:new Date(2025,11,31),reminderMinutes:5,status:"confirmed",createdAt:new Date,updatedAt:new Date}];function l0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState(new Date),[a,o]=M.useState("month"),[l,c]=M.useState(o0e),[u,d]=M.useState([]),[f,h]=M.useState([]),[p,v]=M.useState(null),[x,y]=M.useState(!1);M.useEffect(()=>{if(!e){r("/login");return}d(_r()),h($e())},[e,r]);const g=C=>l.filter(P=>(P.allDay,Bk(P.startDate,C))),w=()=>{const C=H3(n),P=Xxe(n);return zk({start:C,end:P}).map(R=>({date:R,events:g(R)}))},b=()=>{const C=Ri(n),P=Zxe(n);return zk({start:C,end:P}).map(R=>({date:R,events:g(R)}))},T=()=>{i(a==="month"?C=>Zbe(C):a==="week"?C=>e0e(C):C=>Up(C,-1))},j=()=>{i(a==="month"?C=>U3(C,1):a==="week"?C=>W3(C,1):C=>Up(C,1))},A=()=>{i(new Date)},S=C=>({meeting:"bg-primary/10 text-primary border-primary/20",deadline:"bg-red-100 text-red-800 border-red-200",milestone:"bg-green-100 text-green-800 border-green-200",review:"bg-purple-100 text-purple-800 border-purple-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",kickoff:"bg-indigo-100 text-indigo-800 border-indigo-200",presentation:"bg-pink-100 text-pink-800 border-pink-200"})[C]||"bg-gray-100 text-gray-800 border-gray-200",_=C=>({low:"border-l-4 border-l-green-500",medium:"border-l-4 border-l-yellow-500",high:"border-l-4 border-l-orange-500",critical:"border-l-4 border-l-red-500"})[C]||"",E=C=>{if(!C)return null;const P=u.find(L=>L.id===C);return P==null?void 0:P.name},O=C=>C.map(P=>{const L=f.find(R=>R.id===P);return(L==null?void 0:L.fullName)||"Unknown"}).join(", "),I=C=>C.allDay?"All Day":`${bt(C.startDate,"h:mm a")} - ${bt(C.endDate,"h:mm a")}`;return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Calendar"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Schedule meetings, track deadlines, and manage project timelines"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:()=>y(!0),className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:T,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("h2",{className:"text-xl font-semibold text-foreground min-w-[200px] text-center",children:[a==="month"&&bt(n,"MMMM yyyy"),a==="week"&&`Week of ${bt(Ri(n),"MMM dd")}`,a==="day"&&bt(n,"EEEE, MMMM dd, yyyy")]}),s.jsx("button",{onClick:j,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("button",{onClick:A,className:"btn-outline px-4 py-2",children:"Today"})]}),s.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:[{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}].map(C=>s.jsx("button",{onClick:()=>o(C.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===C.value?"bg-white dark:bg-gray-700 text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:C.label},C.value))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[a==="month"&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-px mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(C=>s.jsx("div",{className:"p-3 text-center font-semibold text-muted-foreground text-sm",children:C},C))}),s.jsx("div",{className:"grid grid-cols-7 gap-px",children:w().map(({date:C,events:P},L)=>s.jsxs("div",{className:`min-h-[120px] p-2 border border-border/20 ${Jbe(C,n)?"bg-background":"bg-muted/30"}`,children:[s.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:bt(C,"d")}),s.jsxs("div",{className:"space-y-1",children:[P.slice(0,3).map(R=>s.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 transition-opacity ${S(R.eventType)} ${_(R.priority)}`,onClick:()=>v(R),children:[s.jsx("div",{className:"font-medium truncate",children:R.title}),!R.allDay&&s.jsx("div",{className:"text-xs opacity-75",children:bt(R.startDate,"h:mm a")})]},R.id)),P.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",P.length-3," more"]})]})]},L))})]}),a==="week"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:b().map(({date:C,events:P})=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:bt(C,"EEEE, MMMM dd")}),s.jsx("div",{className:"space-y-2",children:P.length>0?P.map(L=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${S(L.eventType)} ${_(L.priority)}`,onClick:()=>v(L),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:L.title}),s.jsx("p",{className:"text-sm opacity-75",children:I(L)}),L.location&&s.jsxs("p",{className:"text-sm opacity-75",children:[" ",L.location]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${S(L.eventType)}`,children:L.eventType})})]})},L.id)):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events scheduled"})})]},C.toISOString()))})}),a==="day"&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:bt(n,"EEEE, MMMM dd, yyyy")}),s.jsx("div",{className:"space-y-4",children:g(n).length>0?g(n).map(C=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${S(C.eventType)} ${_(C.priority)}`,onClick:()=>v(C),children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:C.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${S(C.eventType)}`,children:C.eventType})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Time"}),s.jsx("p",{className:"text-sm",children:I(C)})]}),C.location&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Location"}),s.jsx("p",{className:"text-sm",children:C.location})]})]}),C.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Description"}),s.jsx("p",{className:"text-sm",children:C.description})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Attendees"}),s.jsx("p",{className:"text-sm",children:O(C.attendees)})]}),C.projectId&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Project"}),s.jsx("p",{className:"text-sm",children:E(C.projectId)})]})]})]},C.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No events scheduled for this day"})]})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-3"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Upcoming Events"}),s.jsx("div",{className:"space-y-3",children:l.filter(C=>C.startDate>=new Date).sort((C,P)=>C.startDate.getTime()-P.startDate.getTime()).slice(0,5).map(C=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${S(C.eventType)} ${_(C.priority)}`,onClick:()=>v(C),children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:C.title}),s.jsxs("p",{className:"text-xs opacity-75",children:[bt(C.startDate,"MMM dd"),"  ",I(C)]}),C.location&&s.jsxs("p",{className:"text-xs opacity-75",children:[" ",C.location]})]},C.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Legend"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),s.jsx("span",{children:"Meeting"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Deadline"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Milestone"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),s.jsx("span",{children:"Review"})]})]})]})]})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:p.title}),s.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Date & Time"}),s.jsx("p",{className:"text-foreground",children:bt(p.startDate,"EEEE, MMMM dd, yyyy")}),s.jsx("p",{className:"text-muted-foreground",children:I(p)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Type & Priority"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${S(p.eventType)}`,children:p.eventType}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.priority==="critical"?"bg-red-100 text-red-800":p.priority==="high"?"bg-orange-100 text-orange-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.priority})]})]})]}),p.location&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Location"}),s.jsxs("p",{className:"text-foreground",children:[" ",p.location]})]}),p.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-foreground",children:p.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Attendees"}),s.jsx("p",{className:"text-foreground",children:O(p.attendees)})]}),p.projectId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Related Project"}),s.jsx("p",{className:"text-foreground",children:E(p.projectId)})]}),p.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-foreground",children:p.notes})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:s.jsx("button",{onClick:()=>v(null),className:"btn-outline px-6 py-2",children:"Close"})})]})]})})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const c0e=[{id:"timer-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Working on homepage hero image update",entryType:"development",startTime:new Date,status:"running",accumulatedTime:0,isBillable:!0,hourlyRate:75,tags:["frontend","design"]}],u0e=[{id:"entry-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Homepage hero image implementation",entryType:"development",startTime:new Date(Date.now()-2*60*60*1e3),endTime:new Date(Date.now()-1*60*60*1e3),duration:60,isBillable:!0,hourlyRate:75,tags:["frontend","design"],createdAt:new Date,updatedAt:new Date},{id:"entry-2",userId:"user-3",projectId:"proj-2",description:"Client meeting - Andebe platform requirements",entryType:"meeting",startTime:new Date(Date.now()-24*60*60*1e3),endTime:new Date(Date.now()-23.5*60*60*1e3),duration:30,isBillable:!0,hourlyRate:85,tags:["meeting","client"],createdAt:new Date,updatedAt:new Date}];function d0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState(null),[a,o]=M.useState(c0e),[l,c]=M.useState(u0e),[u,d]=M.useState([]),[f,h]=M.useState([]),[p,v]=M.useState([]),[x,y]=M.useState(new Date),[g,w]=M.useState("week"),[b,T]=M.useState({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""});M.useEffect(()=>{if(!e){r("/login");return}d(_r()),h(Mr()),v($e());const R=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(R)},[e,r]);const j=R=>{const V=new Date(R.startTime);return Uk(x,V)},A=R=>{const V=Math.floor(R/60),W=R%60;return`${V.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`},S=()=>{if(!t||!b.description.trim())return;const R={id:`timer-${Date.now()}`,userId:t.id,projectId:b.projectId||void 0,ticketId:b.ticketId||void 0,description:b.description,entryType:b.entryType,startTime:new Date,status:"running",accumulatedTime:0,isBillable:b.isBillable,tags:b.tags.split(",").map(V=>V.trim()).filter(V=>V)};i(R),o(V=>[R,...V])},_=()=>{if(!n||!t)return;const R=new Date,V=Uk(R,new Date(n.startTime)),W={id:`entry-${Date.now()}`,userId:t.id,projectId:n.projectId,ticketId:n.ticketId,description:n.description,entryType:n.entryType,startTime:n.startTime,endTime:R,duration:V,isBillable:n.isBillable,hourlyRate:n.hourlyRate,tags:n.tags,createdAt:new Date,updatedAt:new Date};c(F=>[W,...F]),i(null),o(F=>F.filter(U=>U.id!==n.id)),T({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""})},E=()=>{const R=new Date;let V;switch(g){case"today":V=new Date(R.getFullYear(),R.getMonth(),R.getDate());break;case"week":V=Ri(R);break;case"month":V=H3(R);break;default:V=Ri(R)}return l.filter(W=>new Date(W.startTime)>=V&&W.userId===(t==null?void 0:t.id))},O=R=>{const V=R.reduce((U,K)=>U+K.duration,0),W=R.filter(U=>U.isBillable).reduce((U,K)=>U+K.duration,0),F=R.filter(U=>U.isBillable&&U.hourlyRate).reduce((U,K)=>U+K.duration/60*(K.hourlyRate||0),0);return{totalHours:Math.round(V/60*100)/100,billableHours:Math.round(W/60*100)/100,totalAmount:Math.round(F*100)/100}},I=E(),C=O(I),P=R=>{if(!R)return"No Project";const V=u.find(W=>W.id===R);return(V==null?void 0:V.name)||"Unknown Project"},L=R=>{if(!R)return null;const V=f.find(W=>W.id===R);return V==null?void 0:V.title};return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Time Tracking"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your work hours, monitor productivity, and manage billable time"})]}),s.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}].map(R=>s.jsx("button",{onClick:()=>w(R.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${g===R.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:R.label},R.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:n?"Active Timer":"Start Tracking Time"}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-mono font-bold text-primary mb-4",children:A(j(n))}),s.jsx("div",{className:"text-lg text-muted-foreground mb-2",children:n.description}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Project: ",P(n.projectId),n.ticketId&&s.jsxs("span",{children:["  Ticket: ",L(n.ticketId)]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:_,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Stop Timer"]})})]}):s.jsxs("form",{onSubmit:R=>{R.preventDefault(),S()},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{value:b.projectId,onChange:R=>T(V=>({...V,projectId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Project (Optional)"}),u.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ticket"}),s.jsxs("select",{value:b.ticketId,onChange:R=>T(V=>({...V,ticketId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Ticket (Optional)"}),f.filter(R=>!b.projectId||R.projectId===b.projectId).map(R=>s.jsx("option",{value:R.id,children:R.title},R.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("input",{type:"text",value:b.description,onChange:R=>T(V=>({...V,description:R.target.value})),placeholder:"What are you working on?",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Activity Type"}),s.jsxs("select",{value:b.entryType,onChange:R=>T(V=>({...V,entryType:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"billable",checked:b.isBillable,onChange:R=>T(V=>({...V,isBillable:R.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-foreground",children:"Billable"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:b.tags,onChange:R=>T(V=>({...V,tags:R.target.value})),placeholder:"frontend, backend, etc.",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground"})]})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary py-3",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polygon",{points:"10,8 16,12 10,16 10,8"})]}),"Start Timer"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4",children:["This ",g.charAt(0).toUpperCase()+g.slice(1)]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Hours"}),s.jsxs("span",{className:"text-xl font-bold text-foreground",children:[C.totalHours,"h"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Billable Hours"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[C.billableHours,"h"]})]}),C.totalAmount>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",C.totalAmount]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Entries"}),s.jsx("span",{className:"text-sm font-medium",children:I.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg per day"}),s.jsxs("span",{className:"text-sm font-medium",children:[g==="week"?Math.round(C.totalHours/7*10)/10:g==="month"?Math.round(C.totalHours/30*10)/10:Math.round(C.totalHours*10)/10,"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Most active project"}),s.jsx("span",{className:"text-sm font-medium",children:I.length>0?P(I[0].projectId):"None"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Time Entries"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of your tracked time"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Project"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Duration"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Billable"})]})}),s.jsxs("tbody",{children:[I.map((R,V)=>s.jsxs("tr",{className:V%2===0?"bg-background":"bg-muted/30",children:[s.jsx("td",{className:"py-3 px-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:R.description}),R.tags.length>0&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[R.tags.slice(0,2).map(W=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:W},W)),R.tags.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",R.tags.length-2]})]})]})}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:P(R.projectId)}),s.jsx("td",{className:"py-3 px-6",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.entryType==="development"?"bg-primary/10 text-primary":R.entryType==="design"?"bg-purple-100 text-purple-800":R.entryType==="meeting"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.entryType})}),s.jsxs("td",{className:"py-3 px-6 font-medium",children:[Math.floor(R.duration/60),"h ",R.duration%60,"m"]}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:bt(new Date(R.startTime),"MMM dd")}),s.jsx("td",{className:"py-3 px-6",children:R.isBillable?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-muted-foreground",children:""})})]},R.id)),I.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No time entries found for the selected period"})})]})]})})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const f0e=[{id:"template-1",name:"Basic Business Website",description:"A professional website for small businesses including homepage, about, services, and contact pages.",category:"website",estimatedDuration:21,estimatedBudget:3500,difficulty:"beginner",tags:["business","professional","responsive"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Design",description:"Wireframes, mockups, and design approval",order:1,estimatedDuration:7,dependencies:[],deliverables:["design-mockups","wireframes"]},{id:"phase-2",name:"Development",description:"Website coding and implementation",order:2,estimatedDuration:10,dependencies:["phase-1"],deliverables:["homepage","about-page","services-page","contact-page"]},{id:"phase-3",name:"Testing & Launch",description:"Quality assurance and deployment",order:3,estimatedDuration:4,dependencies:["phase-2"],deliverables:["testing-report","live-website"]}],deliverables:[{id:"design-mockups",name:"Design Mockups",description:"Visual design concepts for all pages",phaseId:"phase-1",type:"design",estimatedHours:16,isRequired:!0},{id:"wireframes",name:"Wireframes",description:"Page structure and layout planning",phaseId:"phase-1",type:"design",estimatedHours:8,isRequired:!0},{id:"homepage",name:"Homepage",description:"Main landing page with hero section",phaseId:"phase-2",type:"code",estimatedHours:12,isRequired:!0},{id:"about-page",name:"About Page",description:"Company information and team section",phaseId:"phase-2",type:"code",estimatedHours:8,isRequired:!0},{id:"services-page",name:"Services Page",description:"Business services and offerings",phaseId:"phase-2",type:"code",estimatedHours:10,isRequired:!0},{id:"contact-page",name:"Contact Page",description:"Contact form and business information",phaseId:"phase-2",type:"code",estimatedHours:6,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:36,skills:["HTML","CSS","JavaScript","React"]},{id:"role-2",role:"social_media_coordinator",required:!1,estimatedHours:8,skills:["Social Media","Content Creation"]}],checklists:[]},{id:"template-2",name:"E-commerce Website",description:"Complete online store with product catalog, shopping cart, and payment integration.",category:"ecommerce",estimatedDuration:35,estimatedBudget:8500,difficulty:"intermediate",tags:["ecommerce","shopping","payments"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Requirements",description:"Product analysis and technical planning",order:1,estimatedDuration:5,dependencies:[],deliverables:["requirements-doc","tech-spec"]},{id:"phase-2",name:"Design & UI/UX",description:"User interface and experience design",order:2,estimatedDuration:8,dependencies:["phase-1"],deliverables:["ui-design","user-flows"]},{id:"phase-3",name:"Development",description:"Full-stack development and integration",order:3,estimatedDuration:18,dependencies:["phase-2"],deliverables:["frontend-code","backend-api","database-setup","payment-integration"]},{id:"phase-4",name:"Testing & Deployment",description:"Quality assurance and production launch",order:4,estimatedDuration:4,dependencies:["phase-3"],deliverables:["testing-report","live-site"]}],deliverables:[{id:"requirements-doc",name:"Requirements Document",description:"Detailed project requirements and specifications",phaseId:"phase-1",type:"document",estimatedHours:16,isRequired:!0},{id:"ui-design",name:"UI Design System",description:"Complete design system and component library",phaseId:"phase-2",type:"design",estimatedHours:24,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:80,skills:["React","Node.js","Database","API Development"]}],checklists:[]},{id:"template-3",name:"Social Media Campaign",description:"Complete social media strategy and content creation for brand awareness.",category:"social_media",estimatedDuration:28,estimatedBudget:4200,difficulty:"intermediate",tags:["social","content","branding"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Strategy & Planning",description:"Audience analysis and campaign strategy",order:1,estimatedDuration:7,dependencies:[],deliverables:["strategy-doc","content-calendar"]},{id:"phase-2",name:"Content Creation",description:"Design and create social media content",order:2,estimatedDuration:14,dependencies:["phase-1"],deliverables:["social-posts","graphics","videos"]},{id:"phase-3",name:"Launch & Monitoring",description:"Campaign execution and performance tracking",order:3,estimatedDuration:7,dependencies:["phase-2"],deliverables:["campaign-report","analytics"]}],deliverables:[],teamRoles:[{id:"role-1",role:"social_media_coordinator",required:!0,estimatedHours:56,skills:["Social Media","Content Creation","Graphic Design","Analytics"]}],checklists:[]}];function h0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState(f0e),[a,o]=M.useState("all"),[l,c]=M.useState("all"),[u,d]=M.useState(null);M.useEffect(()=>{if(!e){r("/login");return}},[e,r]);const f=[{value:"all",label:"All Categories"},{value:"website",label:"Website"},{value:"social_media",label:"Social Media"},{value:"ecommerce",label:"E-commerce"},{value:"branding",label:"Branding"},{value:"mobile",label:"Mobile App"}],h=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],p=n.filter(y=>{const g=a==="all"||y.category===a,w=l==="all"||y.difficulty===l;return g&&w}),v=y=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800",x=y=>({website:"bg-primary/10 text-primary",social_media:"bg-pink-100 text-pink-800",ecommerce:"bg-purple-100 text-purple-800",branding:"bg-orange-100 text-orange-800",mobile:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"})[y]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Templates"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Jumpstart your projects with professionally designed templates and predefined workflows"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),s.jsx("select",{value:l,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(y=>s.jsx("option",{value:y.value,children:y.label},y.value))})]}),t.role==="admin"&&s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn-primary px-6 py-2",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Template"]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(y=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>d(y),children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:y.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v(y.difficulty)}`,children:y.difficulty})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:y.description})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x(y.category)}`,children:y.category.replace("_"," ")}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.phases.length," phases"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:[y.estimatedDuration," days"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Budget:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:["$",y.estimatedBudget.toLocaleString()]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.tags.slice(0,3).map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g)),y.tags.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",y.tags.length-3," more"]})]}),s.jsx("button",{className:"w-full btn-primary py-2 text-sm",children:"Use This Template"})]})]})]},y.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No templates found matching your criteria"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters or create a custom template"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u.name}),s.jsx("p",{className:"text-muted-foreground",children:u.description})]}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[u.estimatedDuration," days"]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Estimated Budget"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",u.estimatedBudget.toLocaleString()]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Difficulty"}),s.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${v(u.difficulty)}`,children:u.difficulty})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Project Phases"}),s.jsx("div",{className:"space-y-4",children:u.phases.map((y,g)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm",children:g+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:y.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:y.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",s.jsxs("span",{className:"font-medium text-foreground",children:[y.estimatedDuration," days"]})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Deliverables: ",s.jsx("span",{className:"font-medium text-foreground",children:y.deliverables.length})]})]})]})]},y.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Team Requirements"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.teamRoles.map(y=>s.jsxs("div",{className:"p-4 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground capitalize",children:y.role.replace("_"," ")}),y.required&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Est. ",y.estimatedHours," hours"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:y.skills.map(g=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:g},g))})]},y.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>d(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Use This Template"})]})]})})})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function m0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState("30d"),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState([]),[f,h]=M.useState([]),[p,v]=M.useState([]);M.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}o(_r()),c(Mr()),d($e()),h(vC()),v(Zw())},[e,t,r]);const y=(()=>{const E=K3(new Date,n==="7d"?7:n==="30d"?30:n==="90d"?90:365);return{recentTickets:l.filter(O=>new Date(O.createdAt)>=E),recentProjects:a.filter(O=>new Date(O.createdAt)>=E),recentWebsite:f.filter(O=>new Date(O.date)>=E),recentSocial:p.filter(O=>new Date(O.date)>=E)}})(),g={totalProjects:a.length,activeProjects:a.filter(_=>_.status==="active").length,completedProjects:a.filter(_=>_.status==="completed").length,projectCompletionRate:a.length>0?Math.round(a.filter(_=>_.status==="completed").length/a.length*100):0,totalTickets:y.recentTickets.length,openTickets:y.recentTickets.filter(_=>_.status==="open"||_.status==="in_progress").length,resolvedTickets:y.recentTickets.filter(_=>_.status==="resolved").length,avgResolutionTime:2.4,totalPageViews:y.recentWebsite.reduce((_,E)=>_+E.pageViews,0),uniqueVisitors:y.recentWebsite.length>0?Math.round(y.recentWebsite.reduce((_,E)=>_+E.uniqueVisitors,0)/y.recentWebsite.length):0,avgBounceRate:y.recentWebsite.length>0?Math.round(y.recentWebsite.reduce((_,E)=>_+E.bounceRate,0)/y.recentWebsite.length):0,totalReach:y.recentSocial.reduce((_,E)=>_+E.reach,0),totalEngagement:y.recentSocial.reduce((_,E)=>_+E.engagement,0),engagementRate:y.recentSocial.length>0?Math.round(y.recentSocial.reduce((_,E)=>_+E.engagement,0)/y.recentSocial.reduce((_,E)=>_+E.reach,0)*100):0,totalUsers:u.length,activeUsers:u.filter(_=>_.isActive).length,teamUtilization:78,totalRevenue:156750,avgProjectValue:Math.round(a.reduce((_,E)=>_+3500,0)/a.length),profitMargin:32},w={revenue:[{month:"Jan",value:12500},{month:"Feb",value:15200},{month:"Mar",value:18900},{month:"Apr",value:22100},{month:"May",value:25800},{month:"Jun",value:31200}],projects:[{month:"Jan",value:8},{month:"Feb",value:12},{month:"Mar",value:15},{month:"Apr",value:18},{month:"May",value:22},{month:"Jun",value:25}]},b=a.filter(_=>_.status==="active").sort((_,E)=>new Date(E.updatedAt).getTime()-new Date(_.updatedAt).getTime()).slice(0,5),T=[{type:"project",action:"completed",item:"SpecCon Website",time:"2 hours ago"},{type:"ticket",action:"resolved",item:"Mobile navigation fix",time:"4 hours ago"},{type:"meeting",action:"scheduled",item:"Client presentation",time:"6 hours ago"},{type:"user",action:"joined",item:"Jane Smith",time:"1 day ago"},{type:"analytics",action:"reported",item:"Website traffic up 15%",time:"2 days ago"}],j=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),A=_=>({project:"",ticket:"",meeting:"",user:"",analytics:""})[_]||"",S=_=>({project:"text-primary",ticket:"text-green-600",meeting:"text-purple-600",user:"text-orange-600",analytics:"text-indigo-600"})[_]||"text-gray-600";return!t||t.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Executive Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive business overview and performance insights"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn-outline px-4 py-2",children:"Export Report"}),s.jsx("button",{className:"btn-primary px-4 py-2",children:"Schedule Meeting"})]})]}),s.jsx("div",{className:"flex gap-2 mb-8",children:[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}].map(_=>s.jsx("button",{onClick:()=>i(_.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===_.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:_.label},_.value))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:j(g.totalRevenue)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.projectCompletionRate,"% completion rate"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:g.totalPageViews.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[g.teamUtilization,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Utilization"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[g.activeUsers,"/",g.totalUsers," active members"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Performance Trends"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Revenue Growth"}),s.jsx("span",{className:"text-sm text-green-600",children:"+18%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:w.revenue.map((_,E)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${_.value/35e3*60}px`}},_.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:w.revenue.map(_=>s.jsx("span",{children:_.month},_.month))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Project Delivery"}),s.jsx("span",{className:"text-sm text-primary",children:"+25%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:w.projects.map((_,E)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${_.value/30*60}px`}},_.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:w.projects.map(_=>s.jsx("span",{children:_.month},_.month))})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Active Projects"}),s.jsx("div",{className:"space-y-4",children:b.map((_,E)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:E+1})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:_.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.currentStage,"  ",_.projectType]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${_.status==="active"?"bg-green-100 text-green-800":_.status==="completed"?"bg-success/10 text-success":"bg-yellow-100 text-yellow-800"}`,children:_.status})})]},_.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:T.map((_,E)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-xl",children:A(_.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:`font-medium ${S(_.type)}`,children:_.action.charAt(0).toUpperCase()+_.action.slice(1)})," "+_.item]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_.time})]})]},E))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full btn-primary text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),s.jsxs("button",{className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Send Message"]}),s.jsxs(G,{to:"/analytics",className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Key Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Resolution Time"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.avgResolutionTime,"d"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[g.engagementRate,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[g.profitMargin,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Client Satisfaction"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"4.8/5.0"})]})]})]})]})]})]})}),s.jsx(Se,{})]})}function p0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState([{id:"notif-1",type:"project",title:"Project Status Updated",message:"SpecCon website project has moved to the testing phase",read:!1,createdAt:new Date(Date.now()-1e3*60*30),actionUrl:"/client-portal/project/proj-1",priority:"medium",sender:"John Developer",metadata:{projectId:"proj-1",oldStatus:"development",newStatus:"testing"}},{id:"notif-2",type:"deadline",title:"Upcoming Deadline",message:"Andebe platform development deadline is approaching (2 days remaining)",read:!1,createdAt:new Date(Date.now()-1e3*60*60*2),actionUrl:"/calendar",priority:"high",metadata:{projectId:"proj-2",deadline:new Date(Date.now()+1e3*60*60*24*2)}},{id:"notif-3",type:"message",title:"New Message from Client",message:"Emma Business sent you a message about the Venueideas project",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4),actionUrl:"/messages",priority:"medium",sender:"Emma Business",metadata:{messageId:"message-6",projectId:"proj-10"}},{id:"notif-4",type:"meeting",title:"Meeting Reminder",message:"Client presentation meeting starts in 1 hour",read:!1,createdAt:new Date(Date.now()-1e3*60*15),actionUrl:"/calendar",priority:"urgent",metadata:{meetingId:"event-3",startTime:new Date(Date.now()+1e3*60*45)}},{id:"notif-5",type:"ticket",title:"Ticket Assigned",message:"New bug report assigned to you: Mobile navigation issue",read:!0,createdAt:new Date(Date.now()-1e3*60*60*6),actionUrl:"/developer/tickets",priority:"high",sender:"Admin User",metadata:{ticketId:"ticket-2",priority:"high"}},{id:"notif-6",type:"system",title:"System Maintenance",message:"Scheduled maintenance will begin tonight at 10 PM",read:!0,createdAt:new Date(Date.now()-1e3*60*60*24),priority:"low",metadata:{maintenanceStart:new Date(Date.now()+1e3*60*60*2)}}]),[a,o]=M.useState("all"),[l,c]=M.useState("all");M.useEffect(()=>{const g=setInterval(()=>{if(Math.random()<.1){const w={id:`notif-${Date.now()}`,type:["project","ticket","message","deadline"][Math.floor(Math.random()*4)],title:"New Activity",message:"Something happened in your workspace",read:!1,createdAt:new Date,priority:["low","medium","high","urgent"][Math.floor(Math.random()*4)]};i(b=>[w,...b])}},5e3);return()=>clearInterval(g)},[]);const u=n.filter(g=>{const w=a==="all"||a==="unread"&&!g.read||a==="read"&&g.read,b=l==="all"||g.type===l;return w&&b}),d=n.filter(g=>!g.read).length,f=g=>{i(w=>w.map(b=>b.id===g?{...b,read:!0}:b))},h=()=>{i(g=>g.map(w=>({...w,read:!0})))},p=g=>{i(w=>w.filter(b=>b.id!==g))},v=g=>({project:"",ticket:"",message:"",deadline:"",meeting:"",system:""})[g]||"",x=g=>({low:"border-l-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-l-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-l-red-500 bg-red-50 dark:bg-red-900/20"})[g]||"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20",y=g=>{const b=Math.floor((new Date().getTime()-g.getTime())/(1e3*60));if(b<1)return"Just now";if(b<60)return`${b}m ago`;const T=Math.floor(b/60);if(T<24)return`${T}h ago`;const j=Math.floor(T/24);return j<7?`${j}d ago`:bt(g,"MMM dd")};return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Notifications"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Stay updated with real-time activity and important alerts",d>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),d," unread"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[d>0&&s.jsx("button",{onClick:h,className:"btn-outline",children:"Mark All Read"}),s.jsx("button",{className:"btn-primary",children:"Notification Settings"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Status:"}),[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"read",label:"Read"}].map(g=>s.jsx("button",{onClick:()=>o(g.value),className:`px-3 py-1 rounded text-sm transition-colors ${a===g.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:g.label},g.value))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Type:"}),[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"ticket",label:"Tickets"},{value:"message",label:"Messages"},{value:"meeting",label:"Meetings"},{value:"deadline",label:"Deadlines"},{value:"system",label:"System"}].map(g=>s.jsx("button",{onClick:()=>c(g.value),className:`px-3 py-1 rounded text-sm transition-colors ${l===g.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:g.label},g.value))]})]})}),s.jsx("div",{className:"space-y-4",children:u.length>0?u.map(g=>s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 transition-all duration-200 hover:shadow-md ${g.read?"":`border-l-4 ${x(g.priority)}`}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-lg",children:v(g.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:g.title}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!g.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y(g.createdAt)})]})]}),s.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:g.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.priority==="urgent"?"bg-red-100 text-red-800":g.priority==="high"?"bg-orange-100 text-orange-800":g.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.priority}),g.sender&&s.jsxs("span",{className:"text-muted-foreground",children:["From: ",g.sender]}),s.jsx("span",{className:"text-muted-foreground capitalize",children:g.type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[g.actionUrl&&s.jsx("button",{onClick:()=>r(g.actionUrl),className:"btn-primary text-sm px-3 py-1",children:"View"}),!g.read&&s.jsx("button",{onClick:()=>f(g.id),className:"btn-outline text-sm px-3 py-1",children:"Mark Read"}),s.jsx("button",{onClick:()=>p(g.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"Delete notification",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},g.id)):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-muted-foreground",children:a==="unread"?"All caught up! No unread notifications.":l!=="all"?`No ${l} notifications found.`:"You have no notifications at this time."})]})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl border border-primary/10 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Notification Preferences"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize when and how you receive notifications to stay informed without being overwhelmed."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Project Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Status changes, new milestones"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Ticket Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"New assignments, updates"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upcoming meetings, deadlines"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]})]})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const Kk=(t,e,r,n)=>{const i=[],a=t.filter(T=>T.status==="completed").length,o=t.length,l=o>0?a/o*100:0;l>80?i.push({type:"success",title:"Excellent Project Completion Rate",description:`Your team has completed ${l.toFixed(1)}% of projects. This indicates high efficiency and client satisfaction.`,recommendation:"Consider taking on more complex projects to further challenge your team's capabilities.",impact:"high",category:"performance"}):l<50&&i.push({type:"warning",title:"Project Completion Rate Needs Improvement",description:`Only ${l.toFixed(1)}% of projects are completed. This may indicate workflow inefficiencies.`,recommendation:"Review project management processes and consider implementing more structured workflows.",impact:"high",category:"performance"});const c=e.filter(T=>T.status==="open"||T.status==="in_progress").length,u=e.filter(T=>T.status==="resolved").length,d=e.length;(d>0?u/d*100:0)<70&&i.push({type:"alert",title:"High Open Ticket Volume",description:`${c} tickets remain unresolved. This may impact client satisfaction.`,recommendation:"Reassign critical tickets and consider hiring additional support staff.",impact:"high",category:"support"});const h=r.filter(T=>T.isActive).length,p=r.length,v=h/p*100;v<80&&i.push({type:"info",title:"Underutilized Team Capacity",description:`${v.toFixed(1)}% of your team is actively engaged. There may be opportunities for growth.`,recommendation:"Consider taking on additional projects or providing professional development opportunities.",impact:"medium",category:"team"});const x=n.filter(T=>!T.isRead).length;x>10&&i.push({type:"warning",title:"High Volume of Unread Messages",description:`${x} messages are unread. This may indicate communication bottlenecks.`,recommendation:"Review team communication patterns and consider implementing daily standups.",impact:"medium",category:"communication"});const y=t.filter(T=>{const j=new Date(T.createdAt);return j.setDate(j.getDate()+30),new Date>j&&T.status!=="completed"});y.length>0&&i.push({type:"urgent",title:"Overdue Projects Detected",description:`${y.length} project(s) are behind schedule.`,recommendation:"Review project timelines and reallocate resources to bring projects back on track.",impact:"high",category:"timeline"});const g=28500;i.push({type:"success",title:"Exceptional Client Satisfaction",description:`Client satisfaction rating of ${4.8}/5.0 shows outstanding service quality.`,recommendation:"Leverage client testimonials in marketing materials and consider referral programs.",impact:"high",category:"client"});const b=g*1.15;return i.push({type:"info",title:"Revenue Growth Projection",description:`Based on current trends, projected monthly revenue could reach $${b.toLocaleString()}.`,recommendation:"Prepare for scaling by investing in team growth and process optimization.",impact:"medium",category:"forecasting"}),i.sort((T,j)=>{const A={high:3,medium:2,low:1},S={urgent:4,alert:3,warning:2,success:1,info:0};return A[T.impact]!==A[j.impact]?A[j.impact]-A[T.impact]:S[j.type]-S[T.type]})};function g0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState([]),[a,o]=M.useState("all"),[l,c]=M.useState("all"),[u,d]=M.useState(!0);M.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}d(!0),setTimeout(()=>{const g=_r(),w=Mr(),b=$e(),T=t?Ma(t.id):[],j=Kk(g,w,b,T);i(j),d(!1)},2e3)},[e,t,r]);const f=[{value:"all",label:"All Insights"},{value:"performance",label:"Performance"},{value:"team",label:"Team"},{value:"client",label:"Client"},{value:"financial",label:"Financial"},{value:"communication",label:"Communication"},{value:"timeline",label:"Timeline"},{value:"forecasting",label:"Forecasting"}],h=[{value:"all",label:"All Priorities"},{value:"high",label:"High Impact"},{value:"medium",label:"Medium Impact"},{value:"low",label:"Low Impact"}],p=n.filter(g=>{const w=a==="all"||g.category===a,b=l==="all"||g.impact===l;return w&&b}),v=g=>({success:"",warning:"",alert:"",urgent:"",info:""})[g]||"",x=g=>({success:"border-green-500 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",alert:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20",info:"border-primary bg-secondary/10 dark:bg-secondary/20"})[g]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",y=g=>({high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[g]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" AI-Powered Insights"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Intelligent analysis and actionable recommendations to optimize your business performance"})]}),u&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Analyzing Your Data..."}),s.jsx("p",{className:"text-muted-foreground",children:"Our AI is processing your business metrics and generating insights"})]})]}),s.jsx("div",{className:"mt-4 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:g=>o(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impact Level"}),s.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(g=>s.jsx("option",{value:g.value,children:g.label},g.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{d(!0),setTimeout(()=>{const g=_r(),w=Mr(),b=$e(),T=t?Ma(t.id):[],j=Kk(g,w,b,T);i(j),d(!1)},1500)},className:"btn-primary px-6 py-2",children:" Re-analyze"})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((g,w)=>s.jsxs("div",{className:`rounded-xl border-l-4 p-6 ${x(g.type)} hover:shadow-lg transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"text-3xl",children:v(g.type)}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${y(g.impact)}`,children:[g.impact," impact"]})]}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-3",children:g.title}),s.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:g.description}),s.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Recommendation"}),s.jsx("p",{className:"text-sm text-foreground",children:g.recommendation})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{className:"capitalize",children:g.category}),s.jsx("span",{className:"capitalize",children:g.type})]})]},w))}),p.length===0&&!u&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No insights found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or run a new analysis to generate insights"}),s.jsx("button",{onClick:()=>{o("all"),c("all")},className:"btn-primary",children:"Show All Insights"})]}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 via-purple-500/5 to-blue-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" AI-Powered Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Advanced machine learning and predictive analytics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Predictive Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecast trends and project outcomes"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Recommendations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actionable insights for optimization"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Pattern Recognition"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Identify trends and anomalies"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Real-time Analysis"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous monitoring and alerts"})]})]})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const Qv=[{id:"slack",name:"Slack",description:"Connect your workspace for real-time notifications and team communication",category:"communication",status:"available",icon:"",features:["Real-time notifications","Channel integration","Team mentions","Status updates"],setupSteps:["Authorize Slack workspace","Select notification channels","Configure message templates","Test integration"],pricing:"Free"},{id:"google-calendar",name:"Google Calendar",description:"Sync your calendar with Google Calendar for seamless scheduling",category:"productivity",status:"available",icon:"",features:["Two-way sync","Meeting invites","Availability sharing","Reminder integration"],setupSteps:["Connect Google account","Grant calendar permissions","Select calendars to sync","Configure sync settings"],pricing:"Free"},{id:"zapier",name:"Zapier",description:"Automate workflows by connecting with 5,000+ apps",category:"automation",status:"available",icon:"",features:["Workflow automation","App integrations","Custom triggers","Data synchronization"],setupSteps:["Create Zapier account","Generate API key","Configure webhooks","Test automation flows"],pricing:"$29.99/month"},{id:"mailchimp",name:"Mailchimp",description:"Sync client data and automate email campaigns",category:"marketing",status:"available",icon:"",features:["Contact synchronization","Automated campaigns","Performance tracking","List management"],setupSteps:["Connect Mailchimp account","Map data fields","Configure sync rules","Set up automation triggers"],pricing:"Free to $299/month"},{id:"stripe",name:"Stripe",description:"Process payments and manage billing automatically",category:"financial",status:"coming_soon",icon:"",features:["Payment processing","Invoice generation","Subscription management","Financial reporting"],setupSteps:["Connect Stripe account","Configure payment methods","Set up webhooks","Test payment flow"],pricing:"2.9% + 30 per transaction"},{id:"github",name:"GitHub",description:"Track development progress and code deployments",category:"development",status:"available",icon:"",features:["Repository monitoring","Deployment tracking","Issue synchronization","Code review integration"],setupSteps:["Authorize GitHub account","Select repositories","Configure webhooks","Set up notifications"],pricing:"Free"},{id:"figma",name:"Figma",description:"Sync design files and track creative project progress",category:"design",status:"coming_soon",icon:"",features:["File synchronization","Version tracking","Comment integration","Design handoff"],setupSteps:["Connect Figma account","Select design files","Configure sync settings","Set up notifications"],pricing:"Free to $144/year"},{id:"hubspot",name:"HubSpot",description:"CRM integration for lead management and client tracking",category:"crm",status:"available",icon:"",features:["Lead synchronization","Contact management","Deal tracking","Email integration"],setupSteps:["Connect HubSpot account","Map data fields","Configure sync rules","Set up automation"],pricing:"Free to $3,600/month"}],Yk=[{id:"slack-connected",integrationId:"slack",status:"connected",connectedAt:new Date(Date.now()-7*24*60*60*1e3),lastSync:new Date(Date.now()-30*60*1e3),settings:{channels:["#general","#projects","#client-updates"],notifications:["project_updates","deadline_alerts","client_messages"]}},{id:"google-calendar-connected",integrationId:"google-calendar",status:"connected",connectedAt:new Date(Date.now()-14*24*60*60*1e3),lastSync:new Date(Date.now()-5*60*1e3),settings:{calendars:["Work Calendar","Client Meetings"],syncDirection:"two-way",reminderTime:15}}];function y0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState("all"),[a,o]=M.useState(null);M.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const l=[{value:"all",label:"All Categories"},{value:"communication",label:"Communication"},{value:"productivity",label:"Productivity"},{value:"automation",label:"Automation"},{value:"marketing",label:"Marketing"},{value:"financial",label:"Financial"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"crm",label:"CRM"}],c=Qv.filter(h=>n==="all"||h.category===n),u=async h=>{var p;o(h),await new Promise(v=>setTimeout(v,2e3)),alert(`Successfully connected to ${(p=Qv.find(v=>v.id===h))==null?void 0:p.name}!`),o(null)},d=h=>Yk.find(p=>p.integrationId===h),f=h=>({connected:"bg-green-100 text-green-800",available:"bg-secondary/10 text-secondary",coming_soon:"bg-yellow-100 text-yellow-800"})[h]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" API Integrations Hub"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Connect with your favorite tools and automate your workflow"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Connected Services"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Yk.map(h=>{const p=Qv.find(v=>v.id===h.integrationId);return p?s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:p.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Connected"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",new Date(h.lastSync).toLocaleString()]})]},h.id):null})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Filter by Category"}),s.jsx("select",{value:n,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:l.map(h=>s.jsx("option",{value:h.value,children:h.label},h.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{className:"font-medium",children:["API Status: ",s.jsx("span",{className:"text-green-600",children:" Online"})]}),s.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(h=>{const p=d(h.id),v=a===h.id;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-3xl",children:h.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:h.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f(h.status)}`,children:h.status.replace("_"," ")})]})]}),p&&s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:h.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Key Features:"}),s.jsx("ul",{className:"space-y-1",children:h.features.slice(0,3).map((x,y)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),x]},y))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Pricing: ",s.jsx("span",{className:"text-primary",children:h.pricing})]})}),s.jsx("div",{className:"flex gap-3",children:p?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"flex-1 btn-outline text-sm",children:"Configure"}),s.jsx("button",{className:"btn-outline text-red-600 hover:bg-red-50 text-sm px-4",children:"Disconnect"})]}):h.status==="coming_soon"?s.jsx("button",{className:"flex-1 btn-outline text-sm",disabled:!0,children:"Coming Soon"}):s.jsx("button",{onClick:()=>u(h.id),disabled:v,className:"flex-1 btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:v?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):"Connect"})}),!p&&h.status==="available"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Setup Steps:"}),s.jsx("ol",{className:"text-xs text-muted-foreground space-y-1",children:h.setupSteps.map((x,y)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"flex-shrink-0 w-4 h-4 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium",children:y+1}),x]},y))})]})]},h.id)})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Why Integrate?"}),s.jsx("p",{className:"text-muted-foreground",children:"Maximize productivity with seamless tool connections"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Automate Workflows"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminate manual data entry and repetitive tasks with smart automation"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Real-time Sync"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep all your tools in sync with instant data synchronization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Unified Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get comprehensive insights across all connected platforms"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Developer Resources"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"REST API"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Build custom integrations with our comprehensive REST API"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"View API Documentation"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"Generate API Key"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Receive real-time notifications for system events"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"Configure Webhooks"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"View Event Logs"})]})]})]})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const v0e=[{id:"workflow-1",name:"New Project Welcome Email",description:"Automatically send welcome email when a new project is created",trigger:{type:"project_created",conditions:[]},actions:[{type:"send_email",config:{to:"{{client.email}}",subject:"Welcome to {{project.name}}!",template:"welcome_email"}},{type:"create_task",config:{title:"Send project brief to client",assignee:"account_manager",dueDate:"2 days from now"}}],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),lastTriggered:new Date(Date.now()-2*24*60*60*1e3),triggerCount:15},{id:"workflow-2",name:"High Priority Ticket Escalation",description:"Escalate high-priority tickets and notify team leads",trigger:{type:"ticket_created",conditions:[{field:"priority",operator:"equals",value:"critical"}]},actions:[{type:"notify_user",config:{user:"team_lead",message:"Critical ticket created: {{ticket.title}}",channel:"urgent"}},{type:"update_ticket",config:{status:"in_progress",assignee:"senior_developer"}},{type:"create_meeting",config:{title:"Urgent Ticket Review: {{ticket.title}}",attendees:["team_lead","project_manager"],duration:30}}],isActive:!0,createdAt:new Date(Date.now()-45*24*60*60*1e3),lastTriggered:new Date(Date.now()-1*24*60*60*1e3),triggerCount:8},{id:"workflow-3",name:"Project Completion Celebration",description:"Celebrate project completion with automated notifications",trigger:{type:"project_completed",conditions:[]},actions:[{type:"send_notification",config:{to:"all_team_members",message:" Project {{project.name}} completed successfully!",type:"celebration"}},{type:"create_task",config:{title:"Schedule project retrospective meeting",assignee:"project_manager",dueDate:"1 week from now"}},{type:"send_email",config:{to:"{{client.email}}",subject:"Project {{project.name}} Completed!",template:"completion_email"}}],isActive:!0,createdAt:new Date(Date.now()-60*24*60*60*1e3),lastTriggered:new Date(Date.now()-5*24*60*60*1e3),triggerCount:12}],Jv=[{id:"project_created",name:"Project Created",icon:"",description:"When a new project is created"},{id:"project_completed",name:"Project Completed",icon:"",description:"When a project status changes to completed"},{id:"ticket_created",name:"Ticket Created",icon:"",description:"When a new ticket is created"},{id:"ticket_updated",name:"Ticket Updated",icon:"",description:"When a ticket is updated"},{id:"client_feedback",name:"Client Feedback",icon:"",description:"When client submits feedback"},{id:"deadline_approaching",name:"Deadline Approaching",icon:"",description:"When a deadline is within 24 hours"}],Zv=[{id:"send_email",name:"Send Email",icon:"",description:"Send an email notification"},{id:"send_notification",name:"Send Notification",icon:"",description:"Send in-app notification"},{id:"create_task",name:"Create Task",icon:"",description:"Create a new task"},{id:"update_ticket",name:"Update Ticket",icon:"",description:"Update ticket properties"},{id:"create_meeting",name:"Create Meeting",icon:"",description:"Schedule a meeting"},{id:"notify_user",name:"Notify User",icon:"",description:"Send notification to specific user"},{id:"webhook",name:"Webhook",icon:"",description:"Send data to external service"}];function x0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState(v0e),[a,o]=M.useState(null),[l,c]=M.useState(!1),[u,d]=M.useState({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]});M.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const f=()=>{const y={...u,id:`workflow-${Date.now()}`,isActive:!0,createdAt:new Date,lastTriggered:null,triggerCount:0};i(g=>[y,...g]),d({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]}),c(!1)},h=y=>{i(g=>g.map(w=>w.id===y?{...w,isActive:!w.isActive}:w))},p=y=>{confirm("Are you sure you want to delete this workflow?")&&i(g=>g.filter(w=>w.id!==y))},v=y=>{const g=Jv.find(w=>w.id===y);return(g==null?void 0:g.name)||y},x=y=>{const g=Zv.find(w=>w.id===y);return(g==null?void 0:g.name)||y};return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(G,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" Workflow Automation"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Create powerful automations to streamline your business processes"})]}),s.jsxs("button",{onClick:()=>c(!0),className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Workflow"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map(y=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:y.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${y.isActive?"bg-green-500":"bg-gray-400"}`}),s.jsx("button",{onClick:()=>o(y),className:"p-1 hover:bg-muted rounded",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"font-medium",children:v(y.trigger.type)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"font-medium",children:[y.actions.length," configured"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"font-medium",children:[y.triggerCount," times"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>h(y.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${y.isActive?"bg-green-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${y.isActive?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y.isActive?"Active":"Inactive"})]}),s.jsx("button",{onClick:()=>p(y.id),className:"p-1 text-muted-foreground hover:text-red-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},y.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Triggers"}),s.jsx("div",{className:"space-y-3",children:Jv.map(y=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:y.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:y.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]})]},y.id))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Actions"}),s.jsx("div",{className:"space-y-3",children:Zv.map(y=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:y.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:y.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]})]},y.id))})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Create New Workflow"}),s.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Workflow Name"}),s.jsx("input",{type:"text",value:u.name,onChange:y=>d(g=>({...g,name:y.target.value})),placeholder:"Enter workflow name",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{value:u.description,onChange:y=>d(g=>({...g,description:y.target.value})),placeholder:"Describe what this workflow does",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Trigger Event"}),s.jsxs("select",{value:u.trigger.type,onChange:y=>d(g=>({...g,trigger:{...g.trigger,type:y.target.value}})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a trigger"}),Jv.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}),s.jsx("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-primary dark:text-primary",children:[" ",s.jsx("strong",{children:"Pro Tip:"})," Start with simple workflows and gradually add complexity. Test your workflows thoroughly before deploying to production."]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>c(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!u.name.trim()||!u.trigger.type,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})]})})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:a.name}),s.jsx("p",{className:"text-muted-foreground",children:a.description})]}),s.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workflow Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 text-sm px-2 py-1 rounded-full ${a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:a.isActive?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"ml-2 text-sm",children:v(a.trigger.type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[a.actions.length," configured"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[a.triggerCount," times"]})]}),a.lastTriggered&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Run:"}),s.jsx("span",{className:"ml-2 text-sm",children:new Date(a.lastTriggered).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Configured Actions"}),s.jsxs("div",{className:"space-y-3",children:[a.actions.map((y,g)=>{var w;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-xl",children:((w=Zv.find(b=>b.id===y.type))==null?void 0:w.icon)||""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:x(y.type)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configured with ",Object.keys(y.config||{}).length," settings"]})]})]},g)}),a.actions.length===0&&s.jsx("p",{className:"text-muted-foreground text-sm",children:"No actions configured yet"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border mt-8",children:[s.jsx("button",{onClick:()=>o(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Edit Workflow"})]})]})})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500/5 via-blue-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Automation Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your business with intelligent workflows"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Reduce Manual Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate repetitive tasks and focus on strategic work that matters"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Increase Efficiency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Streamline processes and reduce response times across your organization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Improve Consistency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ensure standardized processes and reduce human error in workflows"})]})]})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function b0e(){const{user:t,isSignedIn:e}=je(),r=Ae(),[n,i]=M.useState([]),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState([]),[f,h]=M.useState(!0);M.useEffect(()=>{if(!e){r("/login");return}const b=_r(),T=Mr(),j=$e(),A=t?Ma(t.id):[];i(b),o(T),c(j),d(A),h(!1)},[e,t,r]);const p={totalProjects:n.length,activeProjects:n.filter(b=>b.status==="active").length,completedProjects:n.filter(b=>b.status==="completed").length,totalTickets:a.length,openTickets:a.filter(b=>b.status==="open"||b.status==="in_progress").length,resolvedTickets:a.filter(b=>b.status==="resolved").length,totalUsers:l.length,activeUsers:l.filter(b=>b.isActive).length,unreadMessages:u.filter(b=>!b.isRead&&b.recipientId===(t==null?void 0:t.id)).length,totalRevenue:156750},v=[{type:"project",action:"completed",item:"SpecCon Website",user:"John Developer",time:"2 hours ago",icon:""},{type:"ticket",action:"resolved",item:"Mobile navigation fix",user:"Jane Smith",time:"4 hours ago",icon:""},{type:"message",action:"sent",item:"Client feedback received",user:"Emma Business",time:"6 hours ago",icon:""},{type:"meeting",action:"scheduled",item:"Project review meeting",user:"Admin User",time:"1 day ago",icon:""}],x=()=>{if(!t)return[];switch(t.role){case"admin":return[{title:"New Project",description:"Create a new project",icon:"",action:"/admin/projects/new",color:"bg-primary"},{title:"Manage Users",description:"Add or edit team members",icon:"",action:"/admin/users",color:"bg-green-500"},{title:"View Analytics",description:"Business performance data",icon:"",action:"/analytics",color:"bg-purple-500"},{title:"System Reports",description:"Executive dashboard",icon:"",action:"/reports",color:"bg-orange-500"}];case"web_developer":return[{title:"My Tickets",description:"Assigned development tasks",icon:"",action:"/developer/tickets",color:"bg-primary"},{title:"My Projects",description:"Social media campaigns",icon:"",action:"/coordinator/projects",color:"bg-primary"},{title:"Project Status",description:"View project progress",icon:"",action:"/client-portal/dashboard",color:"bg-primary"},{title:"Submit Feedback",description:"Rate our work",icon:"",action:"/client-portal/feedback",color:"bg-green-500"},{title:"Share Files",description:"Upload project assets",icon:"",action:"/client-portal/files",color:"bg-purple-500"},{title:"Message Team",description:"Contact your team",icon:"",action:"/messages",color:"bg-orange-500"}];default:return[]}},y=[{type:"deadline",title:"Project Deadline Approaching",message:"Andebe platform development deadline is in 2 days",priority:"high",action:"/calendar"},{type:"ticket",title:"High Priority Ticket",message:"Critical bug reported in production system",priority:"urgent",action:"/tickets"},{type:"meeting",title:"Meeting Reminder",message:"Client presentation in 1 hour",priority:"medium",action:"/calendar"}],g=b=>({low:"border-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20"})[b]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",w=b=>({low:"",medium:"",high:"",urgent:""})[b]||"";return t?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:["Welcome back, ",t.fullName,"! "]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Here's what's happening in your workspace today"})]}),y.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Priority Alerts"}),s.jsx("div",{className:"space-y-4",children:y.map((b,T)=>s.jsx(G,{to:b.action,className:`block p-4 rounded-xl border-l-4 ${g(b.priority)} hover:shadow-md transition-shadow`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:w(b.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:b.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:b.message})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},T))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.resolvedTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Resolved"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeUsers}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Team Members"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",p.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x().map((b,T)=>s.jsx(G,{to:b.action,className:"group p-4 border border-border/50 rounded-lg hover:border-primary/50 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${b.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform`,children:b.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},T))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:v.map((b,T)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-lg",children:b.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-medium",children:b.user})," ",b.action," ",s.jsx("span",{className:"font-medium",children:b.item})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:b.time})]})]},T))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:s.jsx(G,{to:"/notifications",className:"text-primary hover:underline text-sm font-medium",children:"View all notifications "})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Status"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Healthy"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Response"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"120ms"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Team Productivity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Daily Hours"}),s.jsx("span",{className:"text-sm font-medium",children:"6.8h"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tickets/Day"}),s.jsx("span",{className:"text-sm font-medium",children:"4.2"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"2.1h"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Client Satisfaction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Rating"}),s.jsx("span",{className:"text-sm font-medium",children:"4.8/5.0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"98%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Retention Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"94%"})]})]})]})]})]})}),s.jsx(Se,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function w0e(){const{isSignedIn:t,user:e}=je(),r=Ae(),i=ef().id,[a,o]=M.useState(!0),[l,c]=M.useState(null),[u,d]=M.useState(null),[f,h]=M.useState(null),[p,v]=M.useState(null),[x,y]=M.useState([]);if(M.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),M.useEffect(()=>{if(i){const w=rf(i);if(w){c(w);const b=$e();d(b.find(j=>j.id===w.clientId)||null),h(b.find(j=>j.id===w.webDeveloperId)||null),v(b.find(j=>j.id===w.socialMediaCoordinatorId)||null);const T=xC(i);y(T),o(!1)}else r("/admin/dashboard")}},[i,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(a||!l)return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(Se,{})]});const g={totalTickets:x.length,openTickets:x.filter(w=>w.status==="open").length,inProgressTickets:x.filter(w=>w.status==="in_progress").length,resolvedTickets:x.filter(w=>w.status==="resolved"||w.status==="closed").length};return s.jsxs(s.Fragment,{children:[s.jsx(Ne,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(G,{to:"/admin/dashboard",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:l.name}),s.jsx(Or,{status:l.status})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(G,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"}),s.jsx(G,{to:`/admin/analytics/${i}`,className:"btn-outline",children:"View Analytics"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Project Type"}),s.jsx("div",{className:"text-foreground capitalize",children:l.projectType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("div",{className:"text-foreground",children:l.description})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Stage"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:Bs(l.currentStage)})]}),l.websiteUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:l.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:l.websiteUrl})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),u?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:u.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:u.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Web Developer"}),f?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:f.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Social Media Coordinator"}),p?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:p.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:p.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]})]})]}),l.projectType==="website"&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Analytics"}),s.jsxs("div",{className:"space-y-4",children:[l.googleAnalyticsPropertyId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"GA4 Property ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:l.googleAnalyticsPropertyId})]}),l.googleAnalyticsViewId&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Analytics View ID"}),s.jsx("div",{className:"text-foreground font-mono text-sm",children:l.googleAnalyticsViewId})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("div",{className:"text-foreground",children:new Date(l.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),l.launchDate&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Launch Date"}),s.jsx("div",{className:"text-foreground",children:new Date(l.launchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Last Updated"}),s.jsx("div",{className:"text-foreground",children:Mn(l.updatedAt)})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:g.totalTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:g.openTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g.inProgressTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.resolvedTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})]}),l.notes&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Notes"}),s.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:l.notes})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground",children:["Tickets (",x.length,")"]}),s.jsx(G,{to:`/admin/tickets?project=${i}`,className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),x.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tickets for this project yet"}):s.jsx("div",{className:"space-y-4",children:x.slice(0,10).map(w=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),s.jsx(nc,{priority:w.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Or,{status:w.status}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded capitalize",children:w.type.replace("_"," ")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Mn(w.createdAt)})]})]},w.id))})]})]})]})]})}),s.jsx(Se,{})]})}function j0e(){const{user:t}=je();return s.jsx(hxe,{},(t==null?void 0:t.id)||"guest")}function _0e(){return s.jsx($z,{defaultTheme:"light",storageKey:"marketing-website-theme",children:s.jsx(Mz,{children:s.jsxs(V6,{children:[s.jsx(we,{path:"/",element:s.jsx(Vz,{})}),s.jsx(we,{path:"/login",element:s.jsx(Bz,{})}),s.jsx(we,{path:"/register",element:s.jsx(Uz,{})}),s.jsx(we,{path:"/dashboard",element:s.jsx(zz,{})}),s.jsx(we,{path:"/messages",element:s.jsx(t0e,{})}),s.jsx(we,{path:"/admin/dashboard",element:s.jsx(j0e,{})}),s.jsx(we,{path:"/admin/users",element:s.jsx(jxe,{})}),s.jsx(we,{path:"/admin/users/:id/edit",element:s.jsx(_xe,{})}),s.jsx(we,{path:"/admin/users/new",element:s.jsx(kxe,{})}),s.jsx(we,{path:"/admin/projects",element:s.jsx(Nxe,{})}),s.jsx(we,{path:"/admin/projects/new",element:s.jsx(Fxe,{})}),s.jsx(we,{path:"/admin/projects/:id",element:s.jsx(w0e,{})}),s.jsx(we,{path:"/admin/projects/:id/edit",element:s.jsx(Axe,{})}),s.jsx(we,{path:"/analytics",element:s.jsx(a0e,{})}),s.jsx(we,{path:"/admin/analytics/:id",element:s.jsx(Txe,{})}),s.jsx(we,{path:"/calendar",element:s.jsx(l0e,{})}),s.jsx(we,{path:"/time-tracking",element:s.jsx(d0e,{})}),s.jsx(we,{path:"/templates",element:s.jsx(h0e,{})}),s.jsx(we,{path:"/reports",element:s.jsx(m0e,{})}),s.jsx(we,{path:"/notifications",element:s.jsx(p0e,{})}),s.jsx(we,{path:"/ai-insights",element:s.jsx(g0e,{})}),s.jsx(we,{path:"/integrations",element:s.jsx(y0e,{})}),s.jsx(we,{path:"/automation",element:s.jsx(x0e,{})}),s.jsx(we,{path:"/search",element:s.jsx($xe,{})}),s.jsx(we,{path:"/dashboard/enhanced",element:s.jsx(b0e,{})}),s.jsx(we,{path:"/admin/tickets",element:s.jsx(Sxe,{})}),s.jsx(we,{path:"/admin/notifications",element:s.jsx(Exe,{})}),s.jsx(we,{path:"/developer/dashboard",element:s.jsx(Pxe,{})}),s.jsx(we,{path:"/developer/tickets",element:s.jsx(Ixe,{})}),s.jsx(we,{path:"/coordinator/dashboard",element:s.jsx(Cxe,{})}),s.jsx(we,{path:"/client/dashboard",element:s.jsx(Oxe,{})}),s.jsx(we,{path:"/client/projects",element:s.jsx(Mxe,{})}),s.jsx(we,{path:"/client/tickets",element:s.jsx(Dxe,{})}),s.jsx(we,{path:"/client/tickets/new",element:s.jsx(Rxe,{})}),s.jsx(we,{path:"/switch-role",element:s.jsx(Vxe,{})}),s.jsx(we,{path:"/client-portal/dashboard",element:s.jsx(r0e,{})}),s.jsx(we,{path:"/client-portal/project/:id",element:s.jsx(n0e,{})}),s.jsx(we,{path:"/client-portal/files",element:s.jsx(i0e,{})}),s.jsx(we,{path:"/client-portal/feedback",element:s.jsx(s0e,{})}),s.jsx(we,{path:"*",element:s.jsx($6,{to:"/",replace:!0})})]})})})}ex.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(G6,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(_0e,{})})}));
