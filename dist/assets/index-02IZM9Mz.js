function P5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ue(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uP={exports:{}},Jp={},dP={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),C5=Symbol.for("react.portal"),I5=Symbol.for("react.fragment"),O5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),R5=Symbol.for("react.context"),L5=Symbol.for("react.forward_ref"),$5=Symbol.for("react.suspense"),V5=Symbol.for("react.memo"),F5=Symbol.for("react.lazy"),tN=Symbol.iterator;function B5(t){return t===null||typeof t!="object"?null:(t=tN&&t[tN]||t["@@iterator"],typeof t=="function"?t:null)}var hP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fP=Object.assign,mP={};function Xl(t,e,r){this.props=t,this.context=e,this.refs=mP,this.updater=r||hP}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pP(){}pP.prototype=Xl.prototype;function cj(t,e,r){this.props=t,this.context=e,this.refs=mP,this.updater=r||hP}var uj=cj.prototype=new pP;uj.constructor=cj;fP(uj,Xl.prototype);uj.isPureReactComponent=!0;var rN=Array.isArray,gP=Object.prototype.hasOwnProperty,dj={current:null},xP={key:!0,ref:!0,__self:!0,__source:!0};function vP(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)gP.call(e,n)&&!xP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:th,type:t,key:a,ref:o,props:i,_owner:dj.current}}function U5(t,e){return{$$typeof:th,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hj(t){return typeof t=="object"&&t!==null&&t.$$typeof===th}function z5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var nN=/\/+/g;function zx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?z5(""+t.key):e.toString(36)}function Pf(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case th:case C5:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+zx(o,0):n,rN(i)?(r="",t!=null&&(r=t.replace(nN,"$&/")+"/"),Pf(i,e,r,"",function(u){return u})):i!=null&&(hj(i)&&(i=U5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",rN(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+zx(a,l);o+=Pf(a,e,r,c,i)}else if(c=B5(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+zx(a,l++),o+=Pf(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uh(t,e,r){if(t==null)return t;var n=[],i=0;return Pf(t,n,"","",function(a){return e.call(r,a,i++)}),n}function W5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},Cf={transition:null},H5={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Cf,ReactCurrentOwner:dj};function yP(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Uh,forEach:function(t,e,r){Uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!hj(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Xl;Ee.Fragment=I5;Ee.Profiler=M5;Ee.PureComponent=cj;Ee.StrictMode=O5;Ee.Suspense=$5;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H5;Ee.act=yP;Ee.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=fP({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=dj.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gP.call(e,c)&&!xP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:th,type:t.type,key:i,ref:a,props:n,_owner:o}};Ee.createContext=function(t){return t={$$typeof:R5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D5,_context:t},t.Consumer=t};Ee.createElement=vP;Ee.createFactory=function(t){var e=vP.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:L5,render:t}};Ee.isValidElement=hj;Ee.lazy=function(t){return{$$typeof:F5,_payload:{_status:-1,_result:t},_init:W5}};Ee.memo=function(t,e){return{$$typeof:V5,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Cf.transition;Cf.transition={};try{t()}finally{Cf.transition=e}};Ee.unstable_act=yP;Ee.useCallback=function(t,e){return Ar.current.useCallback(t,e)};Ee.useContext=function(t){return Ar.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Ar.current.useEffect(t,e)};Ee.useId=function(){return Ar.current.useId()};Ee.useImperativeHandle=function(t,e,r){return Ar.current.useImperativeHandle(t,e,r)};Ee.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Ar.current.useMemo(t,e)};Ee.useReducer=function(t,e,r){return Ar.current.useReducer(t,e,r)};Ee.useRef=function(t){return Ar.current.useRef(t)};Ee.useState=function(t){return Ar.current.useState(t)};Ee.useSyncExternalStore=function(t,e,r){return Ar.current.useSyncExternalStore(t,e,r)};Ee.useTransition=function(){return Ar.current.useTransition()};Ee.version="18.3.1";dP.exports=Ee;var E=dP.exports;const $=Ue(E),q5=P5({__proto__:null,default:$},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5=E,K5=Symbol.for("react.element"),Y5=Symbol.for("react.fragment"),X5=Object.prototype.hasOwnProperty,Q5=G5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J5={key:!0,ref:!0,__self:!0,__source:!0};function bP(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)X5.call(e,n)&&!J5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:K5,type:t,key:a,ref:o,props:i,_owner:Q5.current}}Jp.Fragment=Y5;Jp.jsx=bP;Jp.jsxs=bP;uP.exports=Jp;var s=uP.exports,dy={},jP={exports:{}},Xr={},wP={exports:{}},NP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,F){var H=L.length;L.push(F);e:for(;0<H;){var Y=H-1>>>1,J=L[Y];if(0<i(J,F))L[Y]=F,L[H]=J,H=Y;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],H=L.pop();if(H!==F){L[0]=H;e:for(var Y=0,J=L.length,oe=J>>>1;Y<oe;){var Ae=2*(Y+1)-1,We=L[Ae],et=Ae+1,cr=L[et];if(0>i(We,H))et<J&&0>i(cr,We)?(L[Y]=cr,L[et]=H,Y=et):(L[Y]=We,L[Ae]=H,Y=Ae);else if(et<J&&0>i(cr,H))L[Y]=cr,L[et]=H,Y=et;else break e}}return F}function i(L,F){var H=L.sortIndex-F.sortIndex;return H!==0?H:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=L)n(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=r(u)}}function _(L){if(g=!1,b(L),!v)if(r(c)!==null)v=!0,R(w);else{var F=r(u);F!==null&&V(_,F.startTime-L)}}function w(L,F){v=!1,g&&(g=!1,x(S),S=-1),p=!0;var H=f;try{for(b(F),h=r(c);h!==null&&(!(h.expirationTime>F)||L&&!C());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,f=h.priorityLevel;var J=Y(h.expirationTime<=F);F=t.unstable_now(),typeof J=="function"?h.callback=J:h===r(c)&&n(c),b(F)}else n(c);h=r(c)}if(h!==null)var oe=!0;else{var Ae=r(u);Ae!==null&&V(_,Ae.startTime-F),oe=!1}return oe}finally{h=null,f=H,p=!1}}var N=!1,k=null,S=-1,T=5,O=-1;function C(){return!(t.unstable_now()-O<T)}function I(){if(k!==null){var L=t.unstable_now();O=L;var F=!0;try{F=k(!0,L)}finally{F?M():(N=!1,k=null)}}else N=!1}var M;if(typeof y=="function")M=function(){y(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,U=B.port2;B.port1.onmessage=I,M=function(){U.postMessage(null)}}else M=function(){j(I,0)};function R(L){k=L,N||(N=!0,M())}function V(L,F){S=j(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(w))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var H=f;f=F;try{return L()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=f;f=L;try{return F()}finally{f=H}},t.unstable_scheduleCallback=function(L,F,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,L={id:d++,callback:F,priorityLevel:L,startTime:H,expirationTime:J,sortIndex:-1},H>Y?(L.sortIndex=H,e(u,L),r(c)===null&&L===r(u)&&(g?(x(S),S=-1):g=!0,V(_,H-Y))):(L.sortIndex=J,e(c,L),v||p||(v=!0,R(w))),L},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(L){var F=f;return function(){var H=f;f=F;try{return L.apply(this,arguments)}finally{f=H}}}})(NP);wP.exports=NP;var Z5=wP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6=E,Kr=Z5;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _P=new Set,Bu={};function Za(t,e){ll(t,e),ll(t+"Capture",e)}function ll(t,e){for(Bu[t]=e,t=0;t<e.length;t++)_P.add(e[t])}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hy=Object.prototype.hasOwnProperty,t6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sN={},iN={};function r6(t){return hy.call(iN,t)?!0:hy.call(sN,t)?!1:t6.test(t)?iN[t]=!0:(sN[t]=!0,!1)}function n6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function s6(t,e,r,n){if(e===null||typeof e>"u"||n6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fj=/[\-:]([a-z])/g;function mj(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fj,mj);or[e]=new Tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fj,mj);or[e]=new Tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fj,mj);or[e]=new Tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Tr(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function pj(t,e,r,n){var i=or.hasOwnProperty(e)?or[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(s6(e,r,i,n)&&(r=null),n||i===null?r6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Us=e6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zh=Symbol.for("react.element"),Po=Symbol.for("react.portal"),Co=Symbol.for("react.fragment"),gj=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),SP=Symbol.for("react.provider"),kP=Symbol.for("react.context"),xj=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),vj=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),AP=Symbol.for("react.offscreen"),aN=Symbol.iterator;function $c(t){return t===null||typeof t!="object"?null:(t=aN&&t[aN]||t["@@iterator"],typeof t=="function"?t:null)}var xt=Object.assign,Wx;function au(t){if(Wx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wx=e&&e[1]||""}return`
`+Wx+t}var Hx=!1;function qx(t,e){if(!t||Hx)return"";Hx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?au(t):""}function i6(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=qx(t.type,!1),t;case 11:return t=qx(t.type.render,!1),t;case 1:return t=qx(t.type,!0),t;default:return""}}function gy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Co:return"Fragment";case Po:return"Portal";case fy:return"Profiler";case gj:return"StrictMode";case my:return"Suspense";case py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kP:return(t.displayName||"Context")+".Consumer";case SP:return(t._context.displayName||"Context")+".Provider";case xj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vj:return e=t.displayName||null,e!==null?e:gy(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return gy(t(e))}catch{}}return null}function a6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gy(e);case 8:return e===gj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o6(t){var e=TP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wh(t){t._valueTracker||(t._valueTracker=o6(t))}function EP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=TP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function em(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xy(t,e){var r=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function oN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Fi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PP(t,e){e=e.checked,e!=null&&pj(t,"checked",e,!1)}function vy(t,e){PP(t,e);var r=Fi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,r):e.hasOwnProperty("defaultValue")&&yy(t,e.type,Fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yy(t,e,r){(e!=="number"||em(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ou=Array.isArray;function Ko(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Fi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function by(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(ou(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Fi(r)}}function CP(t,e){var r=Fi(e.value),n=Fi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function IP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?IP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hh,OP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hh=Hh||document.createElement("div"),Hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l6=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){l6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function MP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function DP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=MP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var c6=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(c6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Ny(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=null;function yj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sy=null,Yo=null,Xo=null;function dN(t){if(t=sh(t)){if(typeof Sy!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=ng(e),Sy(t.stateNode,t.type,e))}}function RP(t){Yo?Xo?Xo.push(t):Xo=[t]:Yo=t}function LP(){if(Yo){var t=Yo,e=Xo;if(Xo=Yo=null,dN(t),e)for(t=0;t<e.length;t++)dN(e[t])}}function $P(t,e){return t(e)}function VP(){}var Gx=!1;function FP(t,e,r){if(Gx)return t(e,r);Gx=!0;try{return $P(t,e,r)}finally{Gx=!1,(Yo!==null||Xo!==null)&&(VP(),LP())}}function zu(t,e){var r=t.stateNode;if(r===null)return null;var n=ng(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var ky=!1;if(Cs)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){ky=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{ky=!1}function u6(t,e,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var yu=!1,tm=null,rm=!1,Ay=null,d6={onError:function(t){yu=!0,tm=t}};function h6(t,e,r,n,i,a,o,l,c){yu=!1,tm=null,u6.apply(d6,arguments)}function f6(t,e,r,n,i,a,o,l,c){if(h6.apply(this,arguments),yu){if(yu){var u=tm;yu=!1,tm=null}else throw Error(Z(198));rm||(rm=!0,Ay=u)}}function eo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function BP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hN(t){if(eo(t)!==t)throw Error(Z(188))}function m6(t){var e=t.alternate;if(!e){if(e=eo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return hN(i),t;if(a===n)return hN(i),e;a=a.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function UP(t){return t=m6(t),t!==null?zP(t):null}function zP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zP(t);if(e!==null)return e;t=t.sibling}return null}var WP=Kr.unstable_scheduleCallback,fN=Kr.unstable_cancelCallback,p6=Kr.unstable_shouldYield,g6=Kr.unstable_requestPaint,_t=Kr.unstable_now,x6=Kr.unstable_getCurrentPriorityLevel,bj=Kr.unstable_ImmediatePriority,HP=Kr.unstable_UserBlockingPriority,nm=Kr.unstable_NormalPriority,v6=Kr.unstable_LowPriority,qP=Kr.unstable_IdlePriority,Zp=null,Kn=null;function y6(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:w6,b6=Math.log,j6=Math.LN2;function w6(t){return t>>>=0,t===0?32:31-(b6(t)/j6|0)|0}var qh=64,Gh=4194304;function lu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=lu(l):(a&=o,a!==0&&(n=lu(a)))}else o=r&~i,o!==0?n=lu(o):a!==0&&(n=lu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-In(e),i=1<<r,n|=t[r],e&=~i;return n}function N6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _6(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-In(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=N6(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function Ty(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GP(){var t=qh;return qh<<=1,!(qh&4194240)&&(qh=64),t}function Kx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function rh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=r}function S6(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-In(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function jj(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-In(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function KP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YP,wj,XP,QP,JP,Ey=!1,Kh=[],_i=null,Si=null,ki=null,Wu=new Map,Hu=new Map,hi=[],k6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mN(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Si=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(e.pointerId)}}function Fc(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sh(e),e!==null&&wj(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function A6(t,e,r,n,i){switch(e){case"focusin":return _i=Fc(_i,t,e,r,n,i),!0;case"dragenter":return Si=Fc(Si,t,e,r,n,i),!0;case"mouseover":return ki=Fc(ki,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Wu.set(a,Fc(Wu.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Hu.set(a,Fc(Hu.get(a)||null,t,e,r,n,i)),!0}return!1}function ZP(t){var e=ja(t.target);if(e!==null){var r=eo(e);if(r!==null){if(e=r.tag,e===13){if(e=BP(r),e!==null){t.blockedOn=e,JP(t.priority,function(){XP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function If(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);_y=n,r.target.dispatchEvent(n),_y=null}else return e=sh(r),e!==null&&wj(e),t.blockedOn=r,!1;e.shift()}return!0}function pN(t,e,r){If(t)&&r.delete(e)}function T6(){Ey=!1,_i!==null&&If(_i)&&(_i=null),Si!==null&&If(Si)&&(Si=null),ki!==null&&If(ki)&&(ki=null),Wu.forEach(pN),Hu.forEach(pN)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ey||(Ey=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,T6)))}function qu(t){function e(i){return Bc(i,t)}if(0<Kh.length){Bc(Kh[0],t);for(var r=1;r<Kh.length;r++){var n=Kh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(_i!==null&&Bc(_i,t),Si!==null&&Bc(Si,t),ki!==null&&Bc(ki,t),Wu.forEach(e),Hu.forEach(e),r=0;r<hi.length;r++)n=hi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)ZP(r),r.blockedOn===null&&hi.shift()}var Qo=Us.ReactCurrentBatchConfig,im=!0;function E6(t,e,r,n){var i=Be,a=Qo.transition;Qo.transition=null;try{Be=1,Nj(t,e,r,n)}finally{Be=i,Qo.transition=a}}function P6(t,e,r,n){var i=Be,a=Qo.transition;Qo.transition=null;try{Be=4,Nj(t,e,r,n)}finally{Be=i,Qo.transition=a}}function Nj(t,e,r,n){if(im){var i=Py(t,e,r,n);if(i===null)sv(t,e,n,am,r),mN(t,n);else if(A6(i,t,e,r,n))n.stopPropagation();else if(mN(t,n),e&4&&-1<k6.indexOf(t)){for(;i!==null;){var a=sh(i);if(a!==null&&YP(a),a=Py(t,e,r,n),a===null&&sv(t,e,n,am,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else sv(t,e,n,null,r)}}var am=null;function Py(t,e,r,n){if(am=null,t=yj(n),t=ja(t),t!==null)if(e=eo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=BP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return am=t,null}function eC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x6()){case bj:return 1;case HP:return 4;case nm:case v6:return 16;case qP:return 536870912;default:return 16}default:return 16}}var yi=null,_j=null,Of=null;function tC(){if(Of)return Of;var t,e=_j,r=e.length,n,i="value"in yi?yi.value:yi.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Of=i.slice(t,1<n?1-n:void 0)}function Mf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yh(){return!0}function gN(){return!1}function Qr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yh:gN,this.isPropagationStopped=gN,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yh)},persist:function(){},isPersistent:Yh}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sj=Qr(Ql),nh=xt({},Ql,{view:0,detail:0}),C6=Qr(nh),Yx,Xx,Uc,eg=xt({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uc&&(Uc&&t.type==="mousemove"?(Yx=t.screenX-Uc.screenX,Xx=t.screenY-Uc.screenY):Xx=Yx=0,Uc=t),Yx)},movementY:function(t){return"movementY"in t?t.movementY:Xx}}),xN=Qr(eg),I6=xt({},eg,{dataTransfer:0}),O6=Qr(I6),M6=xt({},nh,{relatedTarget:0}),Qx=Qr(M6),D6=xt({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),R6=Qr(D6),L6=xt({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$6=Qr(L6),V6=xt({},Ql,{data:0}),vN=Qr(V6),F6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=U6[t])?!!e[t]:!1}function kj(){return z6}var W6=xt({},nh,{key:function(t){if(t.key){var e=F6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kj,charCode:function(t){return t.type==="keypress"?Mf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H6=Qr(W6),q6=xt({},eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yN=Qr(q6),G6=xt({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kj}),K6=Qr(G6),Y6=xt({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),X6=Qr(Y6),Q6=xt({},eg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J6=Qr(Q6),Z6=[9,13,27,32],Aj=Cs&&"CompositionEvent"in window,bu=null;Cs&&"documentMode"in document&&(bu=document.documentMode);var eL=Cs&&"TextEvent"in window&&!bu,rC=Cs&&(!Aj||bu&&8<bu&&11>=bu),bN=" ",jN=!1;function nC(t,e){switch(t){case"keyup":return Z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Io=!1;function tL(t,e){switch(t){case"compositionend":return sC(e);case"keypress":return e.which!==32?null:(jN=!0,bN);case"textInput":return t=e.data,t===bN&&jN?null:t;default:return null}}function rL(t,e){if(Io)return t==="compositionend"||!Aj&&nC(t,e)?(t=tC(),Of=_j=yi=null,Io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rC&&e.locale!=="ko"?null:e.data;default:return null}}var nL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nL[t.type]:e==="textarea"}function iC(t,e,r,n){RP(n),e=om(e,"onChange"),0<e.length&&(r=new Sj("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ju=null,Gu=null;function sL(t){gC(t,0)}function tg(t){var e=Do(t);if(EP(e))return t}function iL(t,e){if(t==="change")return e}var aC=!1;if(Cs){var Jx;if(Cs){var Zx="oninput"in document;if(!Zx){var NN=document.createElement("div");NN.setAttribute("oninput","return;"),Zx=typeof NN.oninput=="function"}Jx=Zx}else Jx=!1;aC=Jx&&(!document.documentMode||9<document.documentMode)}function _N(){ju&&(ju.detachEvent("onpropertychange",oC),Gu=ju=null)}function oC(t){if(t.propertyName==="value"&&tg(Gu)){var e=[];iC(e,Gu,t,yj(t)),FP(sL,e)}}function aL(t,e,r){t==="focusin"?(_N(),ju=e,Gu=r,ju.attachEvent("onpropertychange",oC)):t==="focusout"&&_N()}function oL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tg(Gu)}function lL(t,e){if(t==="click")return tg(e)}function cL(t,e){if(t==="input"||t==="change")return tg(e)}function uL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:uL;function Ku(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!hy.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function SN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kN(t,e){var r=SN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=SN(r)}}function lC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cC(){for(var t=window,e=em();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=em(t.document)}return e}function Tj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dL(t){var e=cC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&lC(r.ownerDocument.documentElement,r)){if(n!==null&&Tj(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=kN(r,a);var o=kN(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hL=Cs&&"documentMode"in document&&11>=document.documentMode,Oo=null,Cy=null,wu=null,Iy=!1;function AN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Iy||Oo==null||Oo!==em(n)||(n=Oo,"selectionStart"in n&&Tj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wu&&Ku(wu,n)||(wu=n,n=om(Cy,"onSelect"),0<n.length&&(e=new Sj("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Oo)))}function Xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Mo={animationend:Xh("Animation","AnimationEnd"),animationiteration:Xh("Animation","AnimationIteration"),animationstart:Xh("Animation","AnimationStart"),transitionend:Xh("Transition","TransitionEnd")},ev={},uC={};Cs&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function rg(t){if(ev[t])return ev[t];if(!Mo[t])return t;var e=Mo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in uC)return ev[t]=e[r];return t}var dC=rg("animationend"),hC=rg("animationiteration"),fC=rg("animationstart"),mC=rg("transitionend"),pC=new Map,TN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(t,e){pC.set(t,e),Za(e,[t])}for(var tv=0;tv<TN.length;tv++){var rv=TN[tv],fL=rv.toLowerCase(),mL=rv[0].toUpperCase()+rv.slice(1);Ki(fL,"on"+mL)}Ki(dC,"onAnimationEnd");Ki(hC,"onAnimationIteration");Ki(fC,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(mC,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pL=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function EN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,f6(n,e,void 0,t),t.currentTarget=null}function gC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;EN(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;EN(i,l,u),a=c}}}if(rm)throw t=Ay,rm=!1,Ay=null,t}function nt(t,e){var r=e[Ly];r===void 0&&(r=e[Ly]=new Set);var n=t+"__bubble";r.has(n)||(xC(e,t,2,!1),r.add(n))}function nv(t,e,r){var n=0;e&&(n|=4),xC(r,t,n,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Yu(t){if(!t[Qh]){t[Qh]=!0,_P.forEach(function(r){r!=="selectionchange"&&(pL.has(r)||nv(r,!1,t),nv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,nv("selectionchange",!1,e))}}function xC(t,e,r,n){switch(eC(e)){case 1:var i=E6;break;case 4:i=P6;break;default:i=Nj}r=i.bind(null,e,r,t),i=void 0,!ky||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function sv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ja(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}FP(function(){var u=a,d=yj(r),h=[];e:{var f=pC.get(t);if(f!==void 0){var p=Sj,v=t;switch(t){case"keypress":if(Mf(r)===0)break e;case"keydown":case"keyup":p=H6;break;case"focusin":v="focus",p=Qx;break;case"focusout":v="blur",p=Qx;break;case"beforeblur":case"afterblur":p=Qx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=O6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=K6;break;case dC:case hC:case fC:p=R6;break;case mC:p=X6;break;case"scroll":p=C6;break;case"wheel":p=J6;break;case"copy":case"cut":case"paste":p=$6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yN}var g=(e&4)!==0,j=!g&&t==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=zu(y,x),_!=null&&g.push(Xu(y,_,b)))),j)break;y=y.return}0<g.length&&(f=new p(f,v,null,r,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==_y&&(v=r.relatedTarget||r.fromElement)&&(ja(v)||v[Is]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ja(v):null,v!==null&&(j=eo(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=xN,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=yN,_="onPointerLeave",x="onPointerEnter",y="pointer"),j=p==null?f:Do(p),b=v==null?f:Do(v),f=new g(_,y+"leave",p,r,d),f.target=j,f.relatedTarget=b,_=null,ja(d)===u&&(g=new g(x,y+"enter",v,r,d),g.target=b,g.relatedTarget=j,_=g),j=_,p&&v)t:{for(g=p,x=v,y=0,b=g;b;b=bo(b))y++;for(b=0,_=x;_;_=bo(_))b++;for(;0<y-b;)g=bo(g),y--;for(;0<b-y;)x=bo(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=bo(g),x=bo(x)}g=null}else g=null;p!==null&&PN(h,f,p,g,!1),v!==null&&j!==null&&PN(h,j,v,g,!0)}}e:{if(f=u?Do(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=iL;else if(wN(f))if(aC)w=cL;else{w=oL;var N=aL}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=lL);if(w&&(w=w(t,u))){iC(h,w,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&yy(f,"number",f.value)}switch(N=u?Do(u):window,t){case"focusin":(wN(N)||N.contentEditable==="true")&&(Oo=N,Cy=u,wu=null);break;case"focusout":wu=Cy=Oo=null;break;case"mousedown":Iy=!0;break;case"contextmenu":case"mouseup":case"dragend":Iy=!1,AN(h,r,d);break;case"selectionchange":if(hL)break;case"keydown":case"keyup":AN(h,r,d)}var k;if(Aj)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Io?nC(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(rC&&r.locale!=="ko"&&(Io||S!=="onCompositionStart"?S==="onCompositionEnd"&&Io&&(k=tC()):(yi=d,_j="value"in yi?yi.value:yi.textContent,Io=!0)),N=om(u,S),0<N.length&&(S=new vN(S,t,null,r,d),h.push({event:S,listeners:N}),k?S.data=k:(k=sC(r),k!==null&&(S.data=k)))),(k=eL?tL(t,r):rL(t,r))&&(u=om(u,"onBeforeInput"),0<u.length&&(d=new vN("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}gC(h,e)})}function Xu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function om(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=zu(t,r),a!=null&&n.unshift(Xu(t,a,i)),a=zu(t,e),a!=null&&n.push(Xu(t,a,i))),t=t.return}return n}function bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function PN(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=zu(r,a),c!=null&&o.unshift(Xu(r,c,l))):i||(c=zu(r,a),c!=null&&o.push(Xu(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gL=/\r\n?/g,xL=/\u0000|\uFFFD/g;function CN(t){return(typeof t=="string"?t:""+t).replace(gL,`
`).replace(xL,"")}function Jh(t,e,r){if(e=CN(e),CN(t)!==e&&r)throw Error(Z(425))}function lm(){}var Oy=null,My=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ry=typeof setTimeout=="function"?setTimeout:void 0,vL=typeof clearTimeout=="function"?clearTimeout:void 0,IN=typeof Promise=="function"?Promise:void 0,yL=typeof queueMicrotask=="function"?queueMicrotask:typeof IN<"u"?function(t){return IN.resolve(null).then(t).catch(bL)}:Ry;function bL(t){setTimeout(function(){throw t})}function iv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),qu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qu(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ON(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),qn="__reactFiber$"+Jl,Qu="__reactProps$"+Jl,Is="__reactContainer$"+Jl,Ly="__reactEvents$"+Jl,jL="__reactListeners$"+Jl,wL="__reactHandles$"+Jl;function ja(t){var e=t[qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Is]||r[qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ON(t);t!==null;){if(r=t[qn])return r;t=ON(t)}return e}t=r,r=t.parentNode}return null}function sh(t){return t=t[qn]||t[Is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Do(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function ng(t){return t[Qu]||null}var $y=[],Ro=-1;function Yi(t){return{current:t}}function lt(t){0>Ro||(t.current=$y[Ro],$y[Ro]=null,Ro--)}function Je(t,e){Ro++,$y[Ro]=t.current,t.current=e}var Bi={},vr=Yi(Bi),Or=Yi(!1),Ma=Bi;function cl(t,e){var r=t.type.contextTypes;if(!r)return Bi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(t){return t=t.childContextTypes,t!=null}function cm(){lt(Or),lt(vr)}function MN(t,e,r){if(vr.current!==Bi)throw Error(Z(168));Je(vr,e),Je(Or,r)}function vC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,a6(t)||"Unknown",i));return xt({},r,n)}function um(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bi,Ma=vr.current,Je(vr,t),Je(Or,Or.current),!0}function DN(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=vC(t,e,Ma),n.__reactInternalMemoizedMergedChildContext=t,lt(Or),lt(vr),Je(vr,t)):lt(Or),Je(Or,r)}var gs=null,sg=!1,av=!1;function yC(t){gs===null?gs=[t]:gs.push(t)}function NL(t){sg=!0,yC(t)}function Xi(){if(!av&&gs!==null){av=!0;var t=0,e=Be;try{var r=gs;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gs=null,sg=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),WP(bj,Xi),i}finally{Be=e,av=!1}}return null}var Lo=[],$o=0,dm=null,hm=0,nn=[],sn=0,Da=null,xs=1,vs="";function fa(t,e){Lo[$o++]=hm,Lo[$o++]=dm,dm=t,hm=e}function bC(t,e,r){nn[sn++]=xs,nn[sn++]=vs,nn[sn++]=Da,Da=t;var n=xs;t=vs;var i=32-In(n)-1;n&=~(1<<i),r+=1;var a=32-In(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,xs=1<<32-In(e)+i|r<<i|n,vs=a+t}else xs=1<<a|r<<i|n,vs=t}function Ej(t){t.return!==null&&(fa(t,1),bC(t,1,0))}function Pj(t){for(;t===dm;)dm=Lo[--$o],Lo[$o]=null,hm=Lo[--$o],Lo[$o]=null;for(;t===Da;)Da=nn[--sn],nn[sn]=null,vs=nn[--sn],nn[sn]=null,xs=nn[--sn],nn[sn]=null}var Hr=null,Wr=null,ut=!1,Tn=null;function jC(t,e){var r=un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,Wr=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Da!==null?{id:xs,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,Wr=null,!0):!1;default:return!1}}function Vy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fy(t){if(ut){var e=Wr;if(e){var r=e;if(!RN(t,e)){if(Vy(t))throw Error(Z(418));e=Ai(r.nextSibling);var n=Hr;e&&RN(t,e)?jC(n,r):(t.flags=t.flags&-4097|2,ut=!1,Hr=t)}}else{if(Vy(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ut=!1,Hr=t}}}function LN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function Zh(t){if(t!==Hr)return!1;if(!ut)return LN(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=Wr)){if(Vy(t))throw wC(),Error(Z(418));for(;e;)jC(t,e),e=Ai(e.nextSibling)}if(LN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Wr=Ai(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Hr?Ai(t.stateNode.nextSibling):null;return!0}function wC(){for(var t=Wr;t;)t=Ai(t.nextSibling)}function ul(){Wr=Hr=null,ut=!1}function Cj(t){Tn===null?Tn=[t]:Tn.push(t)}var _L=Us.ReactCurrentBatchConfig;function zc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function ef(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $N(t){var e=t._init;return e(t._payload)}function NC(t){function e(x,y){if(t){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Ci(x,y),x.index=0,x.sibling=null,x}function a(x,y,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,b,_){return y===null||y.tag!==6?(y=fv(b,x.mode,_),y.return=x,y):(y=i(y,b),y.return=x,y)}function c(x,y,b,_){var w=b.type;return w===Co?d(x,y,b.props.children,_,b.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ci&&$N(w)===y.type)?(_=i(y,b.props),_.ref=zc(x,y,b),_.return=x,_):(_=Bf(b.type,b.key,b.props,null,x.mode,_),_.ref=zc(x,y,b),_.return=x,_)}function u(x,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=mv(b,x.mode,_),y.return=x,y):(y=i(y,b.children||[]),y.return=x,y)}function d(x,y,b,_,w){return y===null||y.tag!==7?(y=Pa(b,x.mode,_,w),y.return=x,y):(y=i(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fv(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zh:return b=Bf(y.type,y.key,y.props,null,x.mode,b),b.ref=zc(x,null,y),b.return=x,b;case Po:return y=mv(y,x.mode,b),y.return=x,y;case ci:var _=y._init;return h(x,_(y._payload),b)}if(ou(y)||$c(y))return y=Pa(y,x.mode,b,null),y.return=x,y;ef(x,y)}return null}function f(x,y,b,_){var w=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:l(x,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zh:return b.key===w?c(x,y,b,_):null;case Po:return b.key===w?u(x,y,b,_):null;case ci:return w=b._init,f(x,y,w(b._payload),_)}if(ou(b)||$c(b))return w!==null?null:d(x,y,b,_,null);ef(x,b)}return null}function p(x,y,b,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,l(y,x,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zh:return x=x.get(_.key===null?b:_.key)||null,c(y,x,_,w);case Po:return x=x.get(_.key===null?b:_.key)||null,u(y,x,_,w);case ci:var N=_._init;return p(x,y,b,N(_._payload),w)}if(ou(_)||$c(_))return x=x.get(b)||null,d(y,x,_,w,null);ef(y,_)}return null}function v(x,y,b,_){for(var w=null,N=null,k=y,S=y=0,T=null;k!==null&&S<b.length;S++){k.index>S?(T=k,k=null):T=k.sibling;var O=f(x,k,b[S],_);if(O===null){k===null&&(k=T);break}t&&k&&O.alternate===null&&e(x,k),y=a(O,y,S),N===null?w=O:N.sibling=O,N=O,k=T}if(S===b.length)return r(x,k),ut&&fa(x,S),w;if(k===null){for(;S<b.length;S++)k=h(x,b[S],_),k!==null&&(y=a(k,y,S),N===null?w=k:N.sibling=k,N=k);return ut&&fa(x,S),w}for(k=n(x,k);S<b.length;S++)T=p(k,x,S,b[S],_),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?S:T.key),y=a(T,y,S),N===null?w=T:N.sibling=T,N=T);return t&&k.forEach(function(C){return e(x,C)}),ut&&fa(x,S),w}function g(x,y,b,_){var w=$c(b);if(typeof w!="function")throw Error(Z(150));if(b=w.call(b),b==null)throw Error(Z(151));for(var N=w=null,k=y,S=y=0,T=null,O=b.next();k!==null&&!O.done;S++,O=b.next()){k.index>S?(T=k,k=null):T=k.sibling;var C=f(x,k,O.value,_);if(C===null){k===null&&(k=T);break}t&&k&&C.alternate===null&&e(x,k),y=a(C,y,S),N===null?w=C:N.sibling=C,N=C,k=T}if(O.done)return r(x,k),ut&&fa(x,S),w;if(k===null){for(;!O.done;S++,O=b.next())O=h(x,O.value,_),O!==null&&(y=a(O,y,S),N===null?w=O:N.sibling=O,N=O);return ut&&fa(x,S),w}for(k=n(x,k);!O.done;S++,O=b.next())O=p(k,x,S,O.value,_),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?S:O.key),y=a(O,y,S),N===null?w=O:N.sibling=O,N=O);return t&&k.forEach(function(I){return e(x,I)}),ut&&fa(x,S),w}function j(x,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Co&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case zh:e:{for(var w=b.key,N=y;N!==null;){if(N.key===w){if(w=b.type,w===Co){if(N.tag===7){r(x,N.sibling),y=i(N,b.props.children),y.return=x,x=y;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ci&&$N(w)===N.type){r(x,N.sibling),y=i(N,b.props),y.ref=zc(x,N,b),y.return=x,x=y;break e}r(x,N);break}else e(x,N);N=N.sibling}b.type===Co?(y=Pa(b.props.children,x.mode,_,b.key),y.return=x,x=y):(_=Bf(b.type,b.key,b.props,null,x.mode,_),_.ref=zc(x,y,b),_.return=x,x=_)}return o(x);case Po:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(x,y.sibling),y=i(y,b.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=mv(b,x.mode,_),y.return=x,x=y}return o(x);case ci:return N=b._init,j(x,y,N(b._payload),_)}if(ou(b))return v(x,y,b,_);if($c(b))return g(x,y,b,_);ef(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,b),y.return=x,x=y):(r(x,y),y=fv(b,x.mode,_),y.return=x,x=y),o(x)):r(x,y)}return j}var dl=NC(!0),_C=NC(!1),fm=Yi(null),mm=null,Vo=null,Ij=null;function Oj(){Ij=Vo=mm=null}function Mj(t){var e=fm.current;lt(fm),t._currentValue=e}function By(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Jo(t,e){mm=t,Ij=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cr=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(Ij!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(mm===null)throw Error(Z(308));Vo=t,mm.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var wa=null;function Dj(t){wa===null?wa=[t]:wa.push(t)}function SC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Dj(e)):(r.next=i.next,i.next=r),e.interleaved=r,Os(t,n)}function Os(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ui=!1;function Rj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Os(t,r)}return i=n.interleaved,i===null?(e.next=e,Dj(n)):(e.next=i.next,i.next=e),n.interleaved=e,Os(t,r)}function Df(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jj(t,r)}}function VN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function pm(t,e,r,n){var i=t.updateQueue;ui=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,g=l;switch(f=e,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=xt({},h,f);break e;case 2:ui=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);La|=o,t.lanes=o,t.memoizedState=h}}function FN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var ih={},Yn=Yi(ih),Ju=Yi(ih),Zu=Yi(ih);function Na(t){if(t===ih)throw Error(Z(174));return t}function Lj(t,e){switch(Je(Zu,e),Je(Ju,t),Je(Yn,ih),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jy(e,t)}lt(Yn),Je(Yn,e)}function hl(){lt(Yn),lt(Ju),lt(Zu)}function AC(t){Na(Zu.current);var e=Na(Yn.current),r=jy(e,t.type);e!==r&&(Je(Ju,t),Je(Yn,r))}function $j(t){Ju.current===t&&(lt(Yn),lt(Ju))}var mt=Yi(0);function gm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ov=[];function Vj(){for(var t=0;t<ov.length;t++)ov[t]._workInProgressVersionPrimary=null;ov.length=0}var Rf=Us.ReactCurrentDispatcher,lv=Us.ReactCurrentBatchConfig,Ra=0,gt=null,Dt=null,Gt=null,xm=!1,Nu=!1,ed=0,SL=0;function ur(){throw Error(Z(321))}function Fj(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dn(t[r],e[r]))return!1;return!0}function Bj(t,e,r,n,i,a){if(Ra=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rf.current=t===null||t.memoizedState===null?EL:PL,t=r(n,i),Nu){a=0;do{if(Nu=!1,ed=0,25<=a)throw Error(Z(301));a+=1,Gt=Dt=null,e.updateQueue=null,Rf.current=CL,t=r(n,i)}while(Nu)}if(Rf.current=vm,e=Dt!==null&&Dt.next!==null,Ra=0,Gt=Dt=gt=null,xm=!1,e)throw Error(Z(300));return t}function Uj(){var t=ed!==0;return ed=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function mn(){if(Dt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=Gt===null?gt.memoizedState:Gt.next;if(e!==null)Gt=e,Dt=t;else{if(t===null)throw Error(Z(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function td(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=mn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Dt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Ra&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,gt.lanes|=d,La|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Dn(n,e.memoizedState)||(Cr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,La|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function uv(t){var e=mn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Dn(a,e.memoizedState)||(Cr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function TC(){}function EC(t,e){var r=gt,n=mn(),i=e(),a=!Dn(n.memoizedState,i);if(a&&(n.memoizedState=i,Cr=!0),n=n.queue,zj(IC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,rd(9,CC.bind(null,r,n,i,e),void 0,null),Xt===null)throw Error(Z(349));Ra&30||PC(r,e,i)}return i}function PC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CC(t,e,r,n){e.value=r,e.getSnapshot=n,OC(e)&&MC(t)}function IC(t,e,r){return r(function(){OC(e)&&MC(t)})}function OC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dn(t,r)}catch{return!0}}function MC(t){var e=Os(t,1);e!==null&&On(e,t,1,-1)}function BN(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:td,lastRenderedState:t},e.queue=t,t=t.dispatch=TL.bind(null,gt,t),[e.memoizedState,t]}function rd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function DC(){return mn().memoizedState}function Lf(t,e,r,n){var i=Wn();gt.flags|=t,i.memoizedState=rd(1|e,r,void 0,n===void 0?null:n)}function ig(t,e,r,n){var i=mn();n=n===void 0?null:n;var a=void 0;if(Dt!==null){var o=Dt.memoizedState;if(a=o.destroy,n!==null&&Fj(n,o.deps)){i.memoizedState=rd(e,r,a,n);return}}gt.flags|=t,i.memoizedState=rd(1|e,r,a,n)}function UN(t,e){return Lf(8390656,8,t,e)}function zj(t,e){return ig(2048,8,t,e)}function RC(t,e){return ig(4,2,t,e)}function LC(t,e){return ig(4,4,t,e)}function $C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VC(t,e,r){return r=r!=null?r.concat([t]):null,ig(4,4,$C.bind(null,e,t),r)}function Wj(){}function FC(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fj(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function BC(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Fj(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UC(t,e,r){return Ra&21?(Dn(r,e)||(r=GP(),gt.lanes|=r,La|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cr=!0),t.memoizedState=r)}function kL(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=lv.transition;lv.transition={};try{t(!1),e()}finally{Be=r,lv.transition=n}}function zC(){return mn().memoizedState}function AL(t,e,r){var n=Pi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},WC(t))HC(e,r);else if(r=SC(t,e,r,n),r!==null){var i=kr();On(r,t,n,i),qC(r,e,n)}}function TL(t,e,r){var n=Pi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(WC(t))HC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,Dn(l,o)){var c=e.interleaved;c===null?(i.next=i,Dj(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=SC(t,e,i,n),r!==null&&(i=kr(),On(r,t,n,i),qC(r,e,n))}}function WC(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function HC(t,e){Nu=xm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function qC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jj(t,r)}}var vm={readContext:fn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},EL={readContext:fn,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:UN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lf(4194308,4,$C.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lf(4,2,t,e)},useMemo:function(t,e){var r=Wn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=AL.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=Wn();return t={current:t},e.memoizedState=t},useState:BN,useDebugValue:Wj,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=BN(!1),e=t[0];return t=kL.bind(null,t[1]),Wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=Wn();if(ut){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),Xt===null)throw Error(Z(349));Ra&30||PC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,UN(IC.bind(null,n,a,t),[t]),n.flags|=2048,rd(9,CC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Wn(),e=Xt.identifierPrefix;if(ut){var r=vs,n=xs;r=(n&~(1<<32-In(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ed++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=SL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PL={readContext:fn,useCallback:FC,useContext:fn,useEffect:zj,useImperativeHandle:VC,useInsertionEffect:RC,useLayoutEffect:LC,useMemo:BC,useReducer:cv,useRef:DC,useState:function(){return cv(td)},useDebugValue:Wj,useDeferredValue:function(t){var e=mn();return UC(e,Dt.memoizedState,t)},useTransition:function(){var t=cv(td)[0],e=mn().memoizedState;return[t,e]},useMutableSource:TC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1},CL={readContext:fn,useCallback:FC,useContext:fn,useEffect:zj,useImperativeHandle:VC,useInsertionEffect:RC,useLayoutEffect:LC,useMemo:BC,useReducer:uv,useRef:DC,useState:function(){return uv(td)},useDebugValue:Wj,useDeferredValue:function(t){var e=mn();return Dt===null?e.memoizedState=t:UC(e,Dt.memoizedState,t)},useTransition:function(){var t=uv(td)[0],e=mn().memoizedState;return[t,e]},useMutableSource:TC,useSyncExternalStore:EC,useId:zC,unstable_isNewReconciler:!1};function _n(t,e){if(t&&t.defaultProps){e=xt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:xt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ag={isMounted:function(t){return(t=t._reactInternals)?eo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Pi(t),a=_s(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ti(t,a,i),e!==null&&(On(e,t,i,n),Df(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=kr(),i=Pi(t),a=_s(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ti(t,a,i),e!==null&&(On(e,t,i,n),Df(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=kr(),n=Pi(t),i=_s(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,n),e!==null&&(On(e,t,n,r),Df(e,t,n))}};function zN(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ku(r,n)||!Ku(i,a):!0}function GC(t,e,r){var n=!1,i=Bi,a=e.contextType;return typeof a=="object"&&a!==null?a=fn(a):(i=Mr(e)?Ma:vr.current,n=e.contextTypes,a=(n=n!=null)?cl(t,i):Bi),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ag,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function WN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ag.enqueueReplaceState(e,e.state,null)}function zy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Rj(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=fn(a):(a=Mr(e)?Ma:vr.current,i.context=cl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Uy(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ag.enqueueReplaceState(i,i.state,null),pm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var r="",n=e;do r+=i6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function dv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Wy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var IL=typeof WeakMap=="function"?WeakMap:Map;function KC(t,e,r){r=_s(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){bm||(bm=!0,eb=n),Wy(t,e)},r}function YC(t,e,r){r=_s(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Wy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Wy(t,e),typeof n!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function HN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new IL;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=qL.bind(null,t,e,r),e.then(t,t))}function qN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_s(-1,1),e.tag=2,Ti(r,e,1))),r.lanes|=1),t)}var OL=Us.ReactCurrentOwner,Cr=!1;function jr(t,e,r,n){e.child=t===null?_C(e,null,r,n):dl(e,t.child,r,n)}function KN(t,e,r,n,i){r=r.render;var a=e.ref;return Jo(e,i),n=Bj(t,e,r,n,a,i),r=Uj(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ms(t,e,i)):(ut&&r&&Ej(e),e.flags|=1,jr(t,e,n,i),e.child)}function YN(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Jj(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,XC(t,e,a,n,i)):(t=Bf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ku,r(o,n)&&t.ref===e.ref)return Ms(t,e,i)}return e.flags|=1,t=Ci(a,n),t.ref=e.ref,t.return=e,e.child=t}function XC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Ku(a,n)&&t.ref===e.ref)if(Cr=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Cr=!0);else return e.lanes=t.lanes,Ms(t,e,i)}return Hy(t,e,r,n,i)}function QC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Bo,Fr),Fr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Bo,Fr),Fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Je(Bo,Fr),Fr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Je(Bo,Fr),Fr|=n;return jr(t,e,i,r),e.child}function JC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Hy(t,e,r,n,i){var a=Mr(r)?Ma:vr.current;return a=cl(e,a),Jo(e,i),r=Bj(t,e,r,n,a,i),n=Uj(),t!==null&&!Cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ms(t,e,i)):(ut&&n&&Ej(e),e.flags|=1,jr(t,e,r,i),e.child)}function XN(t,e,r,n,i){if(Mr(r)){var a=!0;um(e)}else a=!1;if(Jo(e,i),e.stateNode===null)$f(t,e),GC(e,r,n),zy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=fn(u):(u=Mr(r)?Ma:vr.current,u=cl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&WN(e,o,n,u),ui=!1;var f=e.memoizedState;o.state=f,pm(e,n,o,i),c=e.memoizedState,l!==n||f!==c||Or.current||ui?(typeof d=="function"&&(Uy(e,r,d,n),c=e.memoizedState),(l=ui||zN(e,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,kC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:_n(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=fn(c):(c=Mr(r)?Ma:vr.current,c=cl(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&WN(e,o,n,c),ui=!1,f=e.memoizedState,o.state=f,pm(e,n,o,i);var v=e.memoizedState;l!==h||f!==v||Or.current||ui?(typeof p=="function"&&(Uy(e,r,p,n),v=e.memoizedState),(u=ui||zN(e,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return qy(t,e,r,n,a,i)}function qy(t,e,r,n,i,a){JC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&DN(e,r,!1),Ms(t,e,a);n=e.stateNode,OL.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=dl(e,t.child,null,a),e.child=dl(e,null,l,a)):jr(t,e,l,a),e.memoizedState=n.state,i&&DN(e,r,!0),e.child}function ZC(t){var e=t.stateNode;e.pendingContext?MN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&MN(t,e.context,!1),Lj(t,e.containerInfo)}function QN(t,e,r,n,i){return ul(),Cj(i),e.flags|=256,jr(t,e,r,n),e.child}var Gy={dehydrated:null,treeContext:null,retryLane:0};function Ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function eI(t,e,r){var n=e.pendingProps,i=mt.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(mt,i&1),t===null)return Fy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=cg(o,n,0,null),t=Pa(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ky(r),e.memoizedState=Gy,t):Hj(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ML(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ci(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ci(l,a):(a=Pa(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Ky(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Gy,n}return a=t.child,t=a.sibling,n=Ci(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Hj(t,e){return e=cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tf(t,e,r,n){return n!==null&&Cj(n),dl(e,t.child,null,r),t=Hj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ML(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=dv(Error(Z(422))),tf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=cg({mode:"visible",children:n.children},i,0,null),a=Pa(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&dl(e,t.child,null,o),e.child.memoizedState=Ky(o),e.memoizedState=Gy,a);if(!(e.mode&1))return tf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Z(419)),n=dv(a,n,void 0),tf(t,e,o,n)}if(l=(o&t.childLanes)!==0,Cr||l){if(n=Xt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Os(t,i),On(n,t,i,-1))}return Qj(),n=dv(Error(Z(421))),tf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GL.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Wr=Ai(i.nextSibling),Hr=e,ut=!0,Tn=null,t!==null&&(nn[sn++]=xs,nn[sn++]=vs,nn[sn++]=Da,xs=t.id,vs=t.overflow,Da=e),e=Hj(e,n.children),e.flags|=4096,e)}function JN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),By(t.return,e,r)}function hv(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function tI(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(jr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&JN(t,r,e);else if(t.tag===19)JN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Je(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),hv(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}hv(e,!0,r,null,a);break;case"together":hv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ms(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=Ci(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ci(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function DL(t,e,r){switch(e.tag){case 3:ZC(e),ul();break;case 5:AC(e);break;case 1:Mr(e.type)&&um(e);break;case 4:Lj(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Je(fm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Je(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?eI(t,e,r):(Je(mt,mt.current&1),t=Ms(t,e,r),t!==null?t.sibling:null);Je(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tI(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,QC(t,e,r)}return Ms(t,e,r)}var rI,Yy,nI,sI;rI=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yy=function(){};nI=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Na(Yn.current);var a=null;switch(r){case"input":i=xy(t,i),n=xy(t,n),a=[];break;case"select":i=xt({},i,{value:void 0}),n=xt({},n,{value:void 0}),a=[];break;case"textarea":i=by(t,i),n=by(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=lm)}wy(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bu.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};sI=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wc(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function RL(t,e,r){var n=e.pendingProps;switch(Pj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Mr(e.type)&&cm(),dr(e),null;case 3:return n=e.stateNode,hl(),lt(Or),lt(vr),Vj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(nb(Tn),Tn=null))),Yy(t,e),dr(e),null;case 5:$j(e);var i=Na(Zu.current);if(r=e.type,t!==null&&e.stateNode!=null)nI(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return dr(e),null}if(t=Na(Yn.current),Zh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[qn]=e,n[Qu]=a,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<cu.length;i++)nt(cu[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":oN(n,a),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},nt("invalid",n);break;case"textarea":cN(n,a),nt("invalid",n)}wy(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Jh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Jh(n.textContent,l,t),i=["children",""+l]):Bu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":Wh(n),lN(n,a,!0);break;case"textarea":Wh(n),uN(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=lm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=IP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[qn]=e,t[Qu]=n,rI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ny(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<cu.length;i++)nt(cu[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":oN(t,n),i=xy(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=xt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":cN(t,n),i=by(t,n),nt("invalid",t);break;default:i=n}wy(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DP(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&OP(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Uu(t,c):typeof c=="number"&&Uu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bu.hasOwnProperty(a)?c!=null&&a==="onScroll"&&nt("scroll",t):c!=null&&pj(t,a,c,o))}switch(r){case"input":Wh(t),lN(t,n,!1);break;case"textarea":Wh(t),uN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Fi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ko(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ko(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)sI(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Na(Zu.current),Na(Yn.current),Zh(e)){if(n=e.stateNode,r=e.memoizedProps,n[qn]=e,(a=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:Jh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qn]=e,e.stateNode=n}return dr(e),null;case 13:if(lt(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Wr!==null&&e.mode&1&&!(e.flags&128))wC(),ul(),e.flags|=98560,a=!1;else if(a=Zh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[qn]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),a=!1}else Tn!==null&&(nb(Tn),Tn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?$t===0&&($t=3):Qj())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return hl(),Yy(t,e),t===null&&Yu(e.stateNode.containerInfo),dr(e),null;case 10:return Mj(e.type._context),dr(e),null;case 17:return Mr(e.type)&&cm(),dr(e),null;case 19:if(lt(mt),a=e.memoizedState,a===null)return dr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Wc(a,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gm(t),o!==null){for(e.flags|=128,Wc(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Je(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&_t()>ml&&(e.flags|=128,n=!0,Wc(a,!1),e.lanes=4194304)}else{if(!n)if(t=gm(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ut)return dr(e),null}else 2*_t()-a.renderingStartTime>ml&&r!==1073741824&&(e.flags|=128,n=!0,Wc(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=_t(),e.sibling=null,r=mt.current,Je(mt,n?r&1|2:r&1),e):(dr(e),null);case 22:case 23:return Xj(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Fr&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function LL(t,e){switch(Pj(e),e.tag){case 1:return Mr(e.type)&&cm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hl(),lt(Or),lt(vr),Vj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $j(e),null;case 13:if(lt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(mt),null;case 4:return hl(),null;case 10:return Mj(e.type._context),null;case 22:case 23:return Xj(),null;case 24:return null;default:return null}}var rf=!1,pr=!1,$L=typeof WeakSet=="function"?WeakSet:Set,se=null;function Fo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function Xy(t,e,r){try{r()}catch(n){bt(t,e,n)}}var ZN=!1;function VL(t,e){if(Oy=im,t=cC(),Tj(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(My={focusedElem:t,selectionRange:r},im=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,j=v.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:_n(e.type,g),j);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(_){bt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=ZN,ZN=!1,v}function _u(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Xy(e,r,a)}i=i.next}while(i!==n)}}function og(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Qy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iI(t){var e=t.alternate;e!==null&&(t.alternate=null,iI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Qu],delete e[Ly],delete e[jL],delete e[wL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aI(t){return t.tag===5||t.tag===3||t.tag===4}function e_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=lm));else if(n!==4&&(t=t.child,t!==null))for(Jy(t,e,r),t=t.sibling;t!==null;)Jy(t,e,r),t=t.sibling}function Zy(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zy(t,e,r),t=t.sibling;t!==null;)Zy(t,e,r),t=t.sibling}var rr=null,Sn=!1;function si(t,e,r){for(r=r.child;r!==null;)oI(t,e,r),r=r.sibling}function oI(t,e,r){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Zp,r)}catch{}switch(r.tag){case 5:pr||Fo(r,e);case 6:var n=rr,i=Sn;rr=null,si(t,e,r),rr=n,Sn=i,rr!==null&&(Sn?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(Sn?(t=rr,r=r.stateNode,t.nodeType===8?iv(t.parentNode,r):t.nodeType===1&&iv(t,r),qu(t)):iv(rr,r.stateNode));break;case 4:n=rr,i=Sn,rr=r.stateNode.containerInfo,Sn=!0,si(t,e,r),rr=n,Sn=i;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Xy(r,e,o),i=i.next}while(i!==n)}si(t,e,r);break;case 1:if(!pr&&(Fo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){bt(r,e,l)}si(t,e,r);break;case 21:si(t,e,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,si(t,e,r),pr=n):si(t,e,r);break;default:si(t,e,r)}}function t_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $L),e.forEach(function(n){var i=KL.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,Sn=!1;break e;case 3:rr=l.stateNode.containerInfo,Sn=!0;break e;case 4:rr=l.stateNode.containerInfo,Sn=!0;break e}l=l.return}if(rr===null)throw Error(Z(160));oI(a,o,i),rr=null,Sn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lI(e,t),e=e.sibling}function lI(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Un(t),n&4){try{_u(3,t,t.return),og(3,t)}catch(g){bt(t,t.return,g)}try{_u(5,t,t.return)}catch(g){bt(t,t.return,g)}}break;case 1:wn(e,t),Un(t),n&512&&r!==null&&Fo(r,r.return);break;case 5:if(wn(e,t),Un(t),n&512&&r!==null&&Fo(r,r.return),t.flags&32){var i=t.stateNode;try{Uu(i,"")}catch(g){bt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&PP(i,a),Ny(l,o);var u=Ny(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?DP(i,h):d==="dangerouslySetInnerHTML"?OP(i,h):d==="children"?Uu(i,h):pj(i,d,h,u)}switch(l){case"input":vy(i,a);break;case"textarea":CP(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ko(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ko(i,!!a.multiple,a.defaultValue,!0):Ko(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qu]=a}catch(g){bt(t,t.return,g)}}break;case 6:if(wn(e,t),Un(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){bt(t,t.return,g)}}break;case 3:if(wn(e,t),Un(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(e.containerInfo)}catch(g){bt(t,t.return,g)}break;case 4:wn(e,t),Un(t);break;case 13:wn(e,t),Un(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Kj=_t())),n&4&&t_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(pr=(u=pr)||d,wn(e,t),pr=u):wn(e,t),Un(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(h=se=d;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:_u(4,f,f.return);break;case 1:Fo(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){bt(n,r,g)}}break;case 5:Fo(f,f.return);break;case 22:if(f.memoizedState!==null){n_(h);continue}}p!==null?(p.return=f,se=p):n_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=MP("display",o))}catch(g){bt(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){bt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),Un(t),n&4&&t_(t);break;case 21:break;default:wn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(aI(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uu(i,""),n.flags&=-33);var a=e_(t);Zy(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=e_(t);Jy(t,l,o);break;default:throw Error(Z(161))}}catch(c){bt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FL(t,e,r){se=t,cI(t)}function cI(t,e,r){for(var n=(t.mode&1)!==0;se!==null;){var i=se,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||rf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||pr;l=rf;var u=pr;if(rf=o,(pr=c)&&!u)for(se=i;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?s_(i):c!==null?(c.return=o,se=c):s_(i);for(;a!==null;)se=a,cI(a),a=a.sibling;se=i,rf=l,pr=u}r_(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,se=a):r_(t)}}function r_(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||og(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:_n(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&FN(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}FN(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}pr||e.flags&512&&Qy(e)}catch(f){bt(e,e.return,f)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function n_(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function s_(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{og(4,e)}catch(c){bt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){bt(e,i,c)}}var a=e.return;try{Qy(e)}catch(c){bt(e,a,c)}break;case 5:var o=e.return;try{Qy(e)}catch(c){bt(e,o,c)}}}catch(c){bt(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var BL=Math.ceil,ym=Us.ReactCurrentDispatcher,qj=Us.ReactCurrentOwner,hn=Us.ReactCurrentBatchConfig,De=0,Xt=null,Et=null,ar=0,Fr=0,Bo=Yi(0),$t=0,nd=null,La=0,lg=0,Gj=0,Su=null,Pr=null,Kj=0,ml=1/0,ms=null,bm=!1,eb=null,Ei=null,nf=!1,bi=null,jm=0,ku=0,tb=null,Vf=-1,Ff=0;function kr(){return De&6?_t():Vf!==-1?Vf:Vf=_t()}function Pi(t){return t.mode&1?De&2&&ar!==0?ar&-ar:_L.transition!==null?(Ff===0&&(Ff=GP()),Ff):(t=Be,t!==0||(t=window.event,t=t===void 0?16:eC(t.type)),t):1}function On(t,e,r,n){if(50<ku)throw ku=0,tb=null,Error(Z(185));rh(t,r,n),(!(De&2)||t!==Xt)&&(t===Xt&&(!(De&2)&&(lg|=r),$t===4&&fi(t,ar)),Dr(t,n),r===1&&De===0&&!(e.mode&1)&&(ml=_t()+500,sg&&Xi()))}function Dr(t,e){var r=t.callbackNode;_6(t,e);var n=sm(t,t===Xt?ar:0);if(n===0)r!==null&&fN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&fN(r),e===1)t.tag===0?NL(i_.bind(null,t)):yC(i_.bind(null,t)),yL(function(){!(De&6)&&Xi()}),r=null;else{switch(KP(n)){case 1:r=bj;break;case 4:r=HP;break;case 16:r=nm;break;case 536870912:r=qP;break;default:r=nm}r=xI(r,uI.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function uI(t,e){if(Vf=-1,Ff=0,De&6)throw Error(Z(327));var r=t.callbackNode;if(Zo()&&t.callbackNode!==r)return null;var n=sm(t,t===Xt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=wm(t,n);else{e=n;var i=De;De|=2;var a=hI();(Xt!==t||ar!==e)&&(ms=null,ml=_t()+500,Ea(t,e));do try{WL();break}catch(l){dI(t,l)}while(!0);Oj(),ym.current=a,De=i,Et!==null?e=0:(Xt=null,ar=0,e=$t)}if(e!==0){if(e===2&&(i=Ty(t),i!==0&&(n=i,e=rb(t,i))),e===1)throw r=nd,Ea(t,0),fi(t,n),Dr(t,_t()),r;if(e===6)fi(t,n);else{if(i=t.current.alternate,!(n&30)&&!UL(i)&&(e=wm(t,n),e===2&&(a=Ty(t),a!==0&&(n=a,e=rb(t,a))),e===1))throw r=nd,Ea(t,0),fi(t,n),Dr(t,_t()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:ma(t,Pr,ms);break;case 3:if(fi(t,n),(n&130023424)===n&&(e=Kj+500-_t(),10<e)){if(sm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ry(ma.bind(null,t,Pr,ms),e);break}ma(t,Pr,ms);break;case 4:if(fi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-In(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=_t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BL(n/1960))-n,10<n){t.timeoutHandle=Ry(ma.bind(null,t,Pr,ms),n);break}ma(t,Pr,ms);break;case 5:ma(t,Pr,ms);break;default:throw Error(Z(329))}}}return Dr(t,_t()),t.callbackNode===r?uI.bind(null,t):null}function rb(t,e){var r=Su;return t.current.memoizedState.isDehydrated&&(Ea(t,e).flags|=256),t=wm(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&nb(e)),t}function nb(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function UL(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Dn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fi(t,e){for(e&=~Gj,e&=~lg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-In(e),n=1<<r;t[r]=-1,e&=~n}}function i_(t){if(De&6)throw Error(Z(327));Zo();var e=sm(t,0);if(!(e&1))return Dr(t,_t()),null;var r=wm(t,e);if(t.tag!==0&&r===2){var n=Ty(t);n!==0&&(e=n,r=rb(t,n))}if(r===1)throw r=nd,Ea(t,0),fi(t,e),Dr(t,_t()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ma(t,Pr,ms),Dr(t,_t()),null}function Yj(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(ml=_t()+500,sg&&Xi())}}function $a(t){bi!==null&&bi.tag===0&&!(De&6)&&Zo();var e=De;De|=1;var r=hn.transition,n=Be;try{if(hn.transition=null,Be=1,t)return t()}finally{Be=n,hn.transition=r,De=e,!(De&6)&&Xi()}}function Xj(){Fr=Bo.current,lt(Bo)}function Ea(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,vL(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(Pj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cm();break;case 3:hl(),lt(Or),lt(vr),Vj();break;case 5:$j(n);break;case 4:hl();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:Mj(n.type._context);break;case 22:case 23:Xj()}r=r.return}if(Xt=t,Et=t=Ci(t.current,null),ar=Fr=e,$t=0,nd=null,Gj=lg=La=0,Pr=Su=null,wa!==null){for(e=0;e<wa.length;e++)if(r=wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}wa=null}return t}function dI(t,e){do{var r=Et;try{if(Oj(),Rf.current=vm,xm){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}xm=!1}if(Ra=0,Gt=Dt=gt=null,Nu=!1,ed=0,qj.current=null,r===null||r.return===null){$t=1,nd=e,Et=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=qN(o);if(p!==null){p.flags&=-257,GN(p,o,l,a,e),p.mode&1&&HN(a,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){HN(a,u,e),Qj();break e}c=Error(Z(426))}}else if(ut&&l.mode&1){var j=qN(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),GN(j,o,l,a,e),Cj(fl(c,l));break e}}a=c=fl(c,l),$t!==4&&($t=2),Su===null?Su=[a]:Su.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=KC(a,c,e);VN(a,x);break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ei===null||!Ei.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var _=YC(a,l,e);VN(a,_);break e}}a=a.return}while(a!==null)}mI(r)}catch(w){e=w,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function hI(){var t=ym.current;return ym.current=vm,t===null?vm:t}function Qj(){($t===0||$t===3||$t===2)&&($t=4),Xt===null||!(La&268435455)&&!(lg&268435455)||fi(Xt,ar)}function wm(t,e){var r=De;De|=2;var n=hI();(Xt!==t||ar!==e)&&(ms=null,Ea(t,e));do try{zL();break}catch(i){dI(t,i)}while(!0);if(Oj(),De=r,ym.current=n,Et!==null)throw Error(Z(261));return Xt=null,ar=0,$t}function zL(){for(;Et!==null;)fI(Et)}function WL(){for(;Et!==null&&!p6();)fI(Et)}function fI(t){var e=gI(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,e===null?mI(t):Et=e,qj.current=null}function mI(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=LL(r,e),r!==null){r.flags&=32767,Et=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Et=null;return}}else if(r=RL(r,e,Fr),r!==null){Et=r;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);$t===0&&($t=5)}function ma(t,e,r){var n=Be,i=hn.transition;try{hn.transition=null,Be=1,HL(t,e,r,n)}finally{hn.transition=i,Be=n}return null}function HL(t,e,r,n){do Zo();while(bi!==null);if(De&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(S6(t,a),t===Xt&&(Et=Xt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nf||(nf=!0,xI(nm,function(){return Zo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var o=Be;Be=1;var l=De;De|=4,qj.current=null,VL(t,r),lI(r,t),dL(My),im=!!Oy,My=Oy=null,t.current=r,FL(r),g6(),De=l,Be=o,hn.transition=a}else t.current=r;if(nf&&(nf=!1,bi=t,jm=i),a=t.pendingLanes,a===0&&(Ei=null),y6(r.stateNode),Dr(t,_t()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(bm)throw bm=!1,t=eb,eb=null,t;return jm&1&&t.tag!==0&&Zo(),a=t.pendingLanes,a&1?t===tb?ku++:(ku=0,tb=t):ku=0,Xi(),null}function Zo(){if(bi!==null){var t=KP(jm),e=hn.transition,r=Be;try{if(hn.transition=null,Be=16>t?16:t,bi===null)var n=!1;else{if(t=bi,bi=null,jm=0,De&6)throw Error(Z(331));var i=De;for(De|=4,se=t.current;se!==null;){var a=se,o=a.child;if(se.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:_u(8,d,a)}var h=d.child;if(h!==null)h.return=d,se=h;else for(;se!==null;){d=se;var f=d.sibling,p=d.return;if(iI(d),d===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var j=g.sibling;g.sibling=null,g=j}while(g!==null)}}se=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,se=o;else e:for(;se!==null;){if(a=se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_u(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,se=x;break e}se=a.return}}var y=t.current;for(se=y;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=y;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:og(9,l)}}catch(w){bt(l,l.return,w)}if(l===o){se=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,se=_;break e}se=l.return}}if(De=i,Xi(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Zp,t)}catch{}n=!0}return n}finally{Be=r,hn.transition=e}}return!1}function a_(t,e,r){e=fl(r,e),e=KC(t,e,1),t=Ti(t,e,1),e=kr(),t!==null&&(rh(t,1,e),Dr(t,e))}function bt(t,e,r){if(t.tag===3)a_(t,t,r);else for(;e!==null;){if(e.tag===3){a_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ei===null||!Ei.has(n))){t=fl(r,t),t=YC(e,t,1),e=Ti(e,t,1),t=kr(),e!==null&&(rh(e,1,t),Dr(e,t));break}}e=e.return}}function qL(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=kr(),t.pingedLanes|=t.suspendedLanes&r,Xt===t&&(ar&r)===r&&($t===4||$t===3&&(ar&130023424)===ar&&500>_t()-Kj?Ea(t,0):Gj|=r),Dr(t,e)}function pI(t,e){e===0&&(t.mode&1?(e=Gh,Gh<<=1,!(Gh&130023424)&&(Gh=4194304)):e=1);var r=kr();t=Os(t,e),t!==null&&(rh(t,e,r),Dr(t,r))}function GL(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pI(t,r)}function KL(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),pI(t,r)}var gI;gI=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Or.current)Cr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Cr=!1,DL(t,e,r);Cr=!!(t.flags&131072)}else Cr=!1,ut&&e.flags&1048576&&bC(e,hm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$f(t,e),t=e.pendingProps;var i=cl(e,vr.current);Jo(e,r),i=Bj(null,e,n,t,i,r);var a=Uj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mr(n)?(a=!0,um(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rj(e),i.updater=ag,e.stateNode=i,i._reactInternals=e,zy(e,n,t,r),e=qy(null,e,n,!0,a,r)):(e.tag=0,ut&&a&&Ej(e),jr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch($f(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=XL(n),t=_n(n,t),i){case 0:e=Hy(null,e,n,t,r);break e;case 1:e=XN(null,e,n,t,r);break e;case 11:e=KN(null,e,n,t,r);break e;case 14:e=YN(null,e,n,_n(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),Hy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),XN(t,e,n,i,r);case 3:e:{if(ZC(e),t===null)throw Error(Z(387));n=e.pendingProps,a=e.memoizedState,i=a.element,kC(t,e),pm(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=fl(Error(Z(423)),e),e=QN(t,e,n,r,i);break e}else if(n!==i){i=fl(Error(Z(424)),e),e=QN(t,e,n,r,i);break e}else for(Wr=Ai(e.stateNode.containerInfo.firstChild),Hr=e,ut=!0,Tn=null,r=_C(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ul(),n===i){e=Ms(t,e,r);break e}jr(t,e,n,r)}e=e.child}return e;case 5:return AC(e),t===null&&Fy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Dy(n,i)?o=null:a!==null&&Dy(n,a)&&(e.flags|=32),JC(t,e),jr(t,e,o,r),e.child;case 6:return t===null&&Fy(e),null;case 13:return eI(t,e,r);case 4:return Lj(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dl(e,null,n,r):jr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),KN(t,e,n,i,r);case 7:return jr(t,e,e.pendingProps,r),e.child;case 8:return jr(t,e,e.pendingProps.children,r),e.child;case 12:return jr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Je(fm,n._currentValue),n._currentValue=o,a!==null)if(Dn(a.value,o)){if(a.children===i.children&&!Or.current){e=Ms(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=_s(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),By(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Z(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),By(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Jo(e,r),i=fn(i),n=n(i),e.flags|=1,jr(t,e,n,r),e.child;case 14:return n=e.type,i=_n(n,e.pendingProps),i=_n(n.type,i),YN(t,e,n,i,r);case 15:return XC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:_n(n,i),$f(t,e),e.tag=1,Mr(n)?(t=!0,um(e)):t=!1,Jo(e,r),GC(e,n,i),zy(e,n,i,r),qy(null,e,n,!0,t,r);case 19:return tI(t,e,r);case 22:return QC(t,e,r)}throw Error(Z(156,e.tag))};function xI(t,e){return WP(t,e)}function YL(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,r,n){return new YL(t,e,r,n)}function Jj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XL(t){if(typeof t=="function")return Jj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xj)return 11;if(t===vj)return 14}return 2}function Ci(t,e){var r=t.alternate;return r===null?(r=un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Bf(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Jj(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Co:return Pa(r.children,i,a,e);case gj:o=8,i|=8;break;case fy:return t=un(12,r,e,i|2),t.elementType=fy,t.lanes=a,t;case my:return t=un(13,r,e,i),t.elementType=my,t.lanes=a,t;case py:return t=un(19,r,e,i),t.elementType=py,t.lanes=a,t;case AP:return cg(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SP:o=10;break e;case kP:o=9;break e;case xj:o=11;break e;case vj:o=14;break e;case ci:o=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=un(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Pa(t,e,r,n){return t=un(7,t,n,e),t.lanes=r,t}function cg(t,e,r,n){return t=un(22,t,n,e),t.elementType=AP,t.lanes=r,t.stateNode={isHidden:!1},t}function fv(t,e,r){return t=un(6,t,null,e),t.lanes=r,t}function mv(t,e,r){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QL(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kx(0),this.expirationTimes=Kx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zj(t,e,r,n,i,a,o,l,c){return t=new QL(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=un(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rj(a),t}function JL(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Po,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vI(t){if(!t)return Bi;t=t._reactInternals;e:{if(eo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(Mr(r))return vC(t,r,e)}return e}function yI(t,e,r,n,i,a,o,l,c){return t=Zj(r,n,!0,t,i,a,o,l,c),t.context=vI(null),r=t.current,n=kr(),i=Pi(r),a=_s(n,i),a.callback=e??null,Ti(r,a,i),t.current.lanes=i,rh(t,i,n),Dr(t,n),t}function ug(t,e,r,n){var i=e.current,a=kr(),o=Pi(i);return r=vI(r),e.context===null?e.context=r:e.pendingContext=r,e=_s(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ti(i,e,o),t!==null&&(On(t,i,o,a),Df(t,i,o)),o}function Nm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ew(t,e){o_(t,e),(t=t.alternate)&&o_(t,e)}function ZL(){return null}var bI=typeof reportError=="function"?reportError:function(t){console.error(t)};function tw(t){this._internalRoot=t}dg.prototype.render=tw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));ug(t,e,null,null)};dg.prototype.unmount=tw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$a(function(){ug(null,t,null,null)}),e[Is]=null}};function dg(t){this._internalRoot=t}dg.prototype.unstable_scheduleHydration=function(t){if(t){var e=QP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hi.length&&e!==0&&e<hi[r].priority;r++);hi.splice(r,0,t),r===0&&ZP(t)}};function rw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l_(){}function e$(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Nm(o);a.call(u)}}var o=yI(e,n,t,0,null,!1,!1,"",l_);return t._reactRootContainer=o,t[Is]=o.current,Yu(t.nodeType===8?t.parentNode:t),$a(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Nm(c);l.call(u)}}var c=Zj(t,0,!1,null,null,!1,!1,"",l_);return t._reactRootContainer=c,t[Is]=c.current,Yu(t.nodeType===8?t.parentNode:t),$a(function(){ug(e,c,r,n)}),c}function fg(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Nm(o);l.call(c)}}ug(e,o,t,i)}else o=e$(r,e,t,i,n);return Nm(o)}YP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=lu(e.pendingLanes);r!==0&&(jj(e,r|1),Dr(e,_t()),!(De&6)&&(ml=_t()+500,Xi()))}break;case 13:$a(function(){var n=Os(t,1);if(n!==null){var i=kr();On(n,t,1,i)}}),ew(t,1)}};wj=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var r=kr();On(e,t,134217728,r)}ew(t,134217728)}};XP=function(t){if(t.tag===13){var e=Pi(t),r=Os(t,e);if(r!==null){var n=kr();On(r,t,e,n)}ew(t,e)}};QP=function(){return Be};JP=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};Sy=function(t,e,r){switch(e){case"input":if(vy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ng(n);if(!i)throw Error(Z(90));EP(n),vy(n,i)}}}break;case"textarea":CP(t,r);break;case"select":e=r.value,e!=null&&Ko(t,!!r.multiple,e,!1)}};$P=Yj;VP=$a;var t$={usingClientEntryPoint:!1,Events:[sh,Do,ng,RP,LP,Yj]},Hc={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r$={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UP(t),t===null?null:t.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||ZL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Zp=sf.inject(r$),Kn=sf}catch{}}Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t$;Xr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rw(e))throw Error(Z(200));return JL(t,e,null,r)};Xr.createRoot=function(t,e){if(!rw(t))throw Error(Z(299));var r=!1,n="",i=bI;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zj(t,1,!1,null,null,r,!1,n,i),t[Is]=e.current,Yu(t.nodeType===8?t.parentNode:t),new tw(e)};Xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=UP(e),t=t===null?null:t.stateNode,t};Xr.flushSync=function(t){return $a(t)};Xr.hydrate=function(t,e,r){if(!hg(e))throw Error(Z(200));return fg(null,t,e,!0,r)};Xr.hydrateRoot=function(t,e,r){if(!rw(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=bI;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=yI(e,null,t,1,r??null,i,!1,a,o),t[Is]=e.current,Yu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new dg(e)};Xr.render=function(t,e,r){if(!hg(e))throw Error(Z(200));return fg(null,t,e,!1,r)};Xr.unmountComponentAtNode=function(t){if(!hg(t))throw Error(Z(40));return t._reactRootContainer?($a(function(){fg(null,null,t,!1,function(){t._reactRootContainer=null,t[Is]=null})}),!0):!1};Xr.unstable_batchedUpdates=Yj;Xr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!hg(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return fg(t,e,r,!1,n)};Xr.version="18.3.1-next-f1338f8080-20240426";function jI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jI)}catch(t){console.error(t)}}jI(),jP.exports=Xr;var n$=jP.exports,c_=n$;dy.createRoot=c_.createRoot,dy.hydrateRoot=c_.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}var ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ji||(ji={}));const u_="popstate";function s$(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return sb("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_m(i)}return a$(e,r,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i$(){return Math.random().toString(36).substr(2,8)}function d_(t,e){return{usr:t.state,key:t.key,idx:e}}function sb(t,e,r,n){return r===void 0&&(r=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:r,key:e&&e.key||n||i$()})}function _m(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function a$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=ji.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(sd({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=ji.Pop;let j=d(),x=j==null?null:j-u;u=j,c&&c({action:l,location:g.location,delta:x})}function f(j,x){l=ji.Push;let y=sb(g.location,j,x);u=d()+1;let b=d_(y,u),_=g.createHref(y);try{o.pushState(b,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function p(j,x){l=ji.Replace;let y=sb(g.location,j,x);u=d();let b=d_(y,u),_=g.createHref(y);o.replaceState(b,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function v(j){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof j=="string"?j:_m(j);return y=y.replace(/ $/,"%20"),St(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let g={get action(){return l},get location(){return t(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(u_,h),c=j,()=>{i.removeEventListener(u_,h),c=null}},createHref(j){return e(i,j)},createURL:v,encodeLocation(j){let x=v(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(j){return o.go(j)}};return g}var h_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h_||(h_={}));function o$(t,e,r){return r===void 0&&(r="/"),l$(t,e,r)}function l$(t,e,r,n){let i=typeof e=="string"?Zl(e):e,a=sw(i.pathname||"/",r);if(a==null)return null;let o=wI(t);c$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=j$(a);l=v$(o[c],u)}return l}function wI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(St(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ii([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(St(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wI(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:g$(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of NI(a.path))i(a,o,c)}),e}function NI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=NI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function c$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:x$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const u$=/^:[\w-]+$/,d$=3,h$=2,f$=1,m$=10,p$=-2,f_=t=>t==="*";function g$(t,e){let r=t.split("/"),n=r.length;return r.some(f_)&&(n+=p$),e&&(n+=h$),r.filter(i=>!f_(i)).reduce((i,a)=>i+(u$.test(a)?d$:a===""?f$:m$),n)}function x$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function v$(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=y$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ii([a,h.pathname]),pathnameBase:k$(Ii([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Ii([a,h.pathnameBase]))}return o}function y$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=b$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function b$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),nw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function j$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const w$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N$=t=>w$.test(t);function _$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Zl(t):t,a;if(r)if(N$(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),nw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=m_(r.substring(1),"/"):a=m_(r,e)}else a=e;return{pathname:a,search:A$(n),hash:T$(i)}}function m_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function pv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iw(t,e){let r=S$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function aw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Zl(t):(i=sd({},t),St(!i.pathname||!i.pathname.includes("?"),pv("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),pv("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),pv("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=_$(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ii=t=>t.join("/").replace(/\/\/+/g,"/"),k$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),A$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _I=["post","put","patch","delete"];new Set(_I);const P$=["get",..._I];new Set(P$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},id.apply(this,arguments)}const ow=E.createContext(null),C$=E.createContext(null),Qi=E.createContext(null),mg=E.createContext(null),zs=E.createContext({outlet:null,matches:[],isDataRoute:!1}),SI=E.createContext(null);function I$(t,e){let{relative:r}=e===void 0?{}:e;ec()||St(!1);let{basename:n,navigator:i}=E.useContext(Qi),{hash:a,pathname:o,search:l}=AI(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ii([n,o])),i.createHref({pathname:c,search:l,hash:a})}function ec(){return E.useContext(mg)!=null}function Ji(){return ec()||St(!1),E.useContext(mg).location}function kI(t){E.useContext(Qi).static||E.useLayoutEffect(t)}function ue(){let{isDataRoute:t}=E.useContext(zs);return t?H$():O$()}function O$(){ec()||St(!1);let t=E.useContext(ow),{basename:e,future:r,navigator:n}=E.useContext(Qi),{matches:i}=E.useContext(zs),{pathname:a}=Ji(),o=JSON.stringify(iw(i,r.v7_relativeSplatPath)),l=E.useRef(!1);return kI(()=>{l.current=!0}),E.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=aw(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ii([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,a,t])}function to(){let{matches:t}=E.useContext(zs),e=t[t.length-1];return e?e.params:{}}function AI(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(Qi),{matches:i}=E.useContext(zs),{pathname:a}=Ji(),o=JSON.stringify(iw(i,n.v7_relativeSplatPath));return E.useMemo(()=>aw(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function M$(t,e){return D$(t,e)}function D$(t,e,r,n){ec()||St(!1);let{navigator:i}=E.useContext(Qi),{matches:a}=E.useContext(zs),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ji(),d;if(e){var h;let j=typeof e=="string"?Zl(e):e;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||St(!1),d=j}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let j=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=o$(t,{pathname:p}),g=F$(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:Ii([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ii([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),a,r,n);return e&&g?E.createElement(mg.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ji.Pop}},g):g}function R$(){let t=W$(),e=E$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,null)}const L$=E.createElement(R$,null);class $$ extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(zs.Provider,{value:this.props.routeContext},E.createElement(SI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V$(t){let{routeContext:e,match:r,children:n}=t,i=E.useContext(ow);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(zs.Provider,{value:e},n)}function F$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||St(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,g=null,j=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||L$,c&&(u<0&&f===0?(q$("route-fallback"),v=!0,j=null):u===f&&(v=!0,j=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),y=()=>{let b;return p?b=g:v?b=j:h.route.Component?b=E.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,E.createElement(V$,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement($$,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var TI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TI||{}),EI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(EI||{});function B$(t){let e=E.useContext(ow);return e||St(!1),e}function U$(t){let e=E.useContext(C$);return e||St(!1),e}function z$(t){let e=E.useContext(zs);return e||St(!1),e}function PI(t){let e=z$(),r=e.matches[e.matches.length-1];return r.route.id||St(!1),r.route.id}function W$(){var t;let e=E.useContext(SI),r=U$(),n=PI();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function H$(){let{router:t}=B$(TI.UseNavigateStable),e=PI(EI.UseNavigateStable),r=E.useRef(!1);return kI(()=>{r.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},a)))},[t,e])}const p_={};function q$(t,e,r){p_[t]||(p_[t]=!0)}function G$(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function K$(t){let{to:e,replace:r,state:n,relative:i}=t;ec()||St(!1);let{future:a,static:o}=E.useContext(Qi),{matches:l}=E.useContext(zs),{pathname:c}=Ji(),u=ue(),d=aw(e,iw(l,a.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return E.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function le(t){St(!1)}function Y$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ji.Pop,navigator:a,static:o=!1,future:l}=t;ec()&&St(!1);let c=e.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:c,navigator:a,static:o,future:id({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Zl(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,g=E.useMemo(()=>{let j=sw(d,c);return j==null?null:{location:{pathname:j,search:h,hash:f,state:p,key:v},navigationType:i}},[c,d,h,f,p,v,i]);return g==null?null:E.createElement(Qi.Provider,{value:u},E.createElement(mg.Provider,{children:r,value:g}))}function X$(t){let{children:e,location:r}=t;return M$(ib(e),r)}new Promise(()=>{});function ib(t,e){e===void 0&&(e=[]);let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let a=[...e,i];if(n.type===E.Fragment){r.push.apply(r,ib(n.props.children,a));return}n.type!==le&&St(!1),!n.props.index||!n.props.children||St(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ib(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ab.apply(this,arguments)}function Q$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function J$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z$(t,e){return t.button===0&&(!e||e==="_self")&&!J$(t)}function ob(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function e8(t,e){let r=ob(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const t8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],r8="6";try{window.__reactRouterVersion=r8}catch{}const n8="startTransition",g_=q5[n8];function s8(t){let{basename:e,children:r,future:n,window:i}=t,a=E.useRef();a.current==null&&(a.current=s$({window:i,v5Compat:!0}));let o=a.current,[l,c]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=E.useCallback(h=>{u&&g_?g_(()=>c(h)):c(h)},[c,u]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>G$(n),[n]),E.createElement(Y$,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const i8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=E.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=Q$(e,t8),{basename:p}=E.useContext(Qi),v,g=!1;if(typeof u=="string"&&a8.test(u)&&(v=u,i8))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=sw(_.pathname,p);_.origin===b.origin&&w!=null?u=w+_.search+_.hash:g=!0}catch{}let j=I$(u,{relative:i}),x=o8(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function y(b){n&&n(b),b.defaultPrevented||x(b)}return E.createElement("a",ab({},f,{href:v||j,onClick:g||a?n:y,ref:r,target:c}))});var x_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x_||(x_={}));var v_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v_||(v_={}));function o8(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ue(),u=Ji(),d=AI(t,{relative:o});return E.useCallback(h=>{if(Z$(h,r)){h.preventDefault();let f=n!==void 0?n:_m(u)===_m(d);c(t,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function l8(t){let e=E.useRef(ob(t)),r=E.useRef(!1),n=Ji(),i=E.useMemo(()=>e8(n.search,r.current?null:e.current),[n.search]),a=ue(),o=E.useCallback((l,c)=>{const u=ob(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}const Qe={USERS:"marketing_management_website_users",PROJECTS:"marketing_management_website_projects",TICKETS:"marketing_management_website_tickets",MESSAGES:"marketing_management_website_messages",WEBSITE_ANALYTICS:"marketing_management_website_website_analytics",SOCIAL_ANALYTICS:"marketing_management_website_social_analytics",FILE_SHARES:"marketing_management_website_file_shares"},CI=[{id:"user-1",email:"admin@system.com",password:"admin123",fullName:"Admin User",phone:"+27821234567",role:"admin",createdAt:new Date("2025-01-01"),updatedAt:new Date("2025-01-01"),isActive:!0},{id:"user-2",email:"dev@system.com",password:"dev123",fullName:"John Developer",phone:"+27821234568",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-3",email:"jane.dev@system.com",password:"dev123",fullName:"Jane Smith",phone:"+27821234569",role:"web_developer",createdAt:new Date("2025-01-02"),updatedAt:new Date("2025-01-02"),isActive:!0},{id:"user-4",email:"social@system.com",password:"social123",fullName:"Sarah Cohen",phone:"+27821234570",role:"social_media_coordinator",createdAt:new Date("2025-01-03"),updatedAt:new Date("2025-01-03"),isActive:!0},{id:"user-5",email:"client@system.com",password:"client123",fullName:"Michael Client",phone:"+27821234571",role:"client",createdAt:new Date("2025-01-04"),updatedAt:new Date("2025-01-04"),isActive:!0},{id:"user-6",email:"client2@company.com",password:"client123",fullName:"Emma Business",phone:"+27821234572",role:"client",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-01-05"),isActive:!0}],gv=[{id:"proj-1",name:"SpecCon",description:"Main SpecCon corporate website - showcasing our services and portfolio",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",websiteUrl:"https://speccon.co.za",brand:"SpecCon",projectDate:new Date("2024-06-01"),createdAt:new Date("2024-06-01"),launchDate:new Date("2024-08-15"),updatedAt:new Date("2025-02-08")},{id:"proj-2",name:"Andebe",description:"Andebe Skills Development & Training platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://andebe.co.za",brand:"Andebe",projectDate:new Date("2024-09-15"),createdAt:new Date("2024-09-15"),updatedAt:new Date("2025-02-09")},{id:"proj-3",name:"Megrolowveld",description:"Megrolowveld business and services website",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://megrolowveld.co.za",brand:"Megrolowveld",projectDate:new Date("2024-10-01"),createdAt:new Date("2024-10-01"),updatedAt:new Date("2025-02-05")},{id:"proj-4",name:"Skills Development Facilitation",description:"Skills development facilitation and training coordination platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"design",status:"active",brand:"Skills Development Facilitation",projectDate:new Date("2024-11-20"),createdAt:new Date("2024-11-20"),updatedAt:new Date("2025-02-08")},{id:"proj-5",name:"InfinityNPO",description:"Infinity NPO - Non-profit organization website for community development",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://infinitynpo.co.za",brand:"InfinityNPO",projectDate:new Date("2024-08-10"),createdAt:new Date("2024-08-10"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-06")},{id:"proj-6",name:"InfinityLearn",description:"InfinityLearn e-learning platform for online education and training",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://infinitylearn.co.za",createdAt:new Date("2024-09-01"),updatedAt:new Date("2025-02-09")},{id:"proj-7",name:"Elearning",description:"General e-learning platform with course management and student tracking",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"development",status:"active",createdAt:new Date("2024-10-15"),updatedAt:new Date("2025-02-08")},{id:"proj-8",name:"TAP",description:"Training and Assessment Platform for skills development",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://tap.co.za",createdAt:new Date("2024-07-20"),updatedAt:new Date("2025-02-07")},{id:"proj-9",name:"LMS",description:"Learning Management System for comprehensive training programs",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",websiteUrl:"https://lms.speccon.co.za",createdAt:new Date("2024-05-15"),launchDate:new Date("2024-11-01"),updatedAt:new Date("2025-02-05")},{id:"proj-10",name:"Venueideas",description:"Wedding and event venue booking and discovery platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"planning",status:"active",createdAt:new Date("2025-01-10"),updatedAt:new Date("2025-02-08")},{id:"proj-11",name:"Weddingideas",description:"Complete wedding planning resource and vendor directory",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2024-12-05"),updatedAt:new Date("2025-02-06")},{id:"proj-12",name:"Workreadiness",description:"Work readiness training and assessment platform for job seekers",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://workreadiness.co.za",createdAt:new Date("2024-08-25"),updatedAt:new Date("2025-02-09")},{id:"proj-13",name:"Specconacademy",description:"SpecCon Academy - comprehensive training academy platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://specconacademy.co.za",createdAt:new Date("2024-07-10"),updatedAt:new Date("2025-02-07")},{id:"proj-14",name:"Trouidees",description:"Wedding ideas and planning inspiration platform (Afrikaans)",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"design",status:"active",createdAt:new Date("2025-01-05"),updatedAt:new Date("2025-02-08")},{id:"proj-15",name:"Employment Equity Act",description:"Employment Equity Act compliance and reporting platform",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",currentStage:"planning",status:"active",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-05")},{id:"proj-16",name:"Leeromtelees",description:"Afrikaans educational platform for reading and learning",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-11-01"),updatedAt:new Date("2025-02-09")},{id:"proj-17",name:"Grade.co.za",description:"Grade tracking and academic performance management system",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://grade.co.za",createdAt:new Date("2024-09-20"),updatedAt:new Date("2025-02-08")},{id:"proj-18",name:"SpecCon Buddies Primary Schools",description:"Primary school support and buddy system platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",currentStage:"launch",status:"active",websiteUrl:"https://buddies.speccon.co.za",createdAt:new Date("2024-06-15"),launchDate:new Date("2024-10-20"),updatedAt:new Date("2025-02-06")},{id:"proj-19",name:"Coloring",description:"Interactive coloring and creative activities platform for children",projectType:"website",clientId:"user-6",webDeveloperId:"user-3",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",createdAt:new Date("2024-12-10"),updatedAt:new Date("2025-02-09")},{id:"proj-20",name:"Classrooms",description:"Virtual classroom management and online teaching platform",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"testing",status:"active",websiteUrl:"https://classrooms.speccon.co.za",createdAt:new Date("2024-08-01"),updatedAt:new Date("2025-02-07")},{id:"proj-21",name:"SpecCon Social Media Campaign Q1 2025",description:"Comprehensive social media strategy for SpecCon brand awareness and lead generation",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",product:"Learnerships",socialMediaPlatforms:["Facebook","Instagram","LinkedIn","Twitter"],campaignGoals:"Increase brand awareness by 40%, generate 200+ qualified leads, boost engagement rate to 8%",targetAudience:"Business owners, HR managers, training coordinators in South Africa",createdAt:new Date("2024-12-15"),launchDate:new Date("2025-01-01"),updatedAt:new Date("2025-02-09"),notes:"Focus on skills development and training services"},{id:"proj-22",name:"InfinityNPO Community Outreach",description:"Social media campaign to raise awareness for community development initiatives",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",product:"Employment Equity",socialMediaPlatforms:["Facebook","Instagram","Twitter"],campaignGoals:"Increase volunteer sign-ups by 50%, raise R100k in donations, reach 50k people monthly",targetAudience:"Community members, potential donors, volunteers aged 25-55",createdAt:new Date("2024-11-20"),launchDate:new Date("2024-12-01"),updatedAt:new Date("2025-02-08")},{id:"proj-23",name:"Wedding Ideas Influencer Campaign",description:"Influencer partnership campaign for wedding and venue booking platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"planning",status:"active",product:"Venueideas",socialMediaPlatforms:["Instagram","TikTok","Facebook"],campaignGoals:"Partner with 20 wedding influencers, reach 500k engaged couples, drive 10k website visits",targetAudience:"Engaged couples aged 24-35, wedding planners, event coordinators",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-02-09")},{id:"proj-24",name:"Andebe Skills Development Launch",description:"Product launch campaign for new online training platform",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",product:"Academy",socialMediaPlatforms:["LinkedIn","Facebook","YouTube"],campaignGoals:"Generate 500 course enrollments, establish thought leadership, reach 100k professionals",targetAudience:"Working professionals, career changers, recent graduates seeking upskilling",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-02-08")},{id:"proj-25",name:"Educational Content Series - Grade.co.za",description:"Educational social media content to promote academic tracking platform",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",product:"Trouidees",socialMediaPlatforms:["Facebook","Instagram","Twitter"],campaignGoals:"Engage 5k parents, increase app downloads by 200%, position as education leader",targetAudience:"Parents of school-aged children, teachers, education administrators",createdAt:new Date("2024-12-01"),launchDate:new Date("2025-01-15"),updatedAt:new Date("2025-02-07")},{id:"proj-26",name:"Learnership Application System",description:"Online learnership application and management platform for skills development programs",projectType:"website",clientId:"user-5",webDeveloperId:"user-2",socialMediaCoordinatorId:"user-4",currentStage:"development",status:"active",websiteUrl:"https://speccon.co.za/learnership-application.html",createdAt:new Date("2024-11-15"),updatedAt:new Date("2024-11-20")},{id:"proj-27",name:"November Marketing Campaign",description:"Comprehensive marketing campaign for November product launches",projectType:"social_media",clientId:"user-5",socialMediaCoordinatorId:"user-4",currentStage:"launch",status:"active",product:"Academy",socialMediaPlatforms:["Facebook","Instagram","LinkedIn"],campaignGoals:"Drive 500 website visits, increase newsletter signups by 200",targetAudience:"Existing customers and prospects in November promotions",createdAt:new Date("2024-11-05"),launchDate:new Date("2024-11-10"),updatedAt:new Date("2024-11-12")},{id:"proj-28",name:"December Holiday Special",description:"Holiday season social media campaign and website updates",projectType:"social_media",clientId:"user-6",socialMediaCoordinatorId:"user-4",currentStage:"maintenance",status:"active",product:"Venueideas",socialMediaPlatforms:["Facebook","Instagram","Twitter","TikTok"],campaignGoals:"Increase engagement by 150%, drive holiday sales by 25%",targetAudience:"Holiday shoppers and brand followers",createdAt:new Date("2024-12-01"),launchDate:new Date("2024-12-05"),updatedAt:new Date("2024-12-15")},{id:"proj-29",name:"End of Year Review Portal",description:"Interactive portal for year-end performance reviews and planning",projectType:"website",clientId:"user-5",webDeveloperId:"user-3",currentStage:"testing",status:"active",websiteUrl:"https://speccon.co.za/year-review",createdAt:new Date("2024-12-10"),updatedAt:new Date("2024-12-18")}],c8=[{id:"ticket-1",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Update homepage hero image",description:"The current hero image needs to be replaced with the new brand imagery provided in the project assets folder.",type:"content_change",priority:"medium",status:"in_progress",createdAt:new Date("2025-02-01"),updatedAt:new Date("2025-02-08")},{id:"ticket-2",projectId:"proj-1",createdBy:"user-5",assignedTo:"user-2",title:"Fix mobile navigation menu",description:"The hamburger menu on mobile devices is not opening correctly. It seems to be a JavaScript issue.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-07"),updatedAt:new Date("2025-02-07")},{id:"ticket-3",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Add product filtering functionality",description:"Users should be able to filter products by category, price range, and availability.",type:"feature_request",priority:"high",status:"in_progress",createdAt:new Date("2025-02-03"),updatedAt:new Date("2025-02-09")},{id:"ticket-4",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Update product descriptions",description:"Need to update all product descriptions with the new copywriting provided by the marketing team.",type:"content_change",priority:"low",status:"resolved",createdAt:new Date("2025-01-28"),updatedAt:new Date("2025-02-05"),resolvedAt:new Date("2025-02-05")},{id:"ticket-5",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Redesign contact form",description:"The contact form needs a visual redesign to match the new brand guidelines.",type:"design_update",priority:"medium",status:"resolved",createdAt:new Date("2025-01-25"),updatedAt:new Date("2025-02-02"),resolvedAt:new Date("2025-02-02")},{id:"ticket-6",projectId:"proj-1",createdBy:"user-2",assignedTo:"user-2",title:"Optimize page load speed",description:"Homepage is loading slowly. Need to optimize images and lazy load components.",type:"bug_report",priority:"high",status:"open",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-08")},{id:"ticket-7",projectId:"proj-4",createdBy:"user-6",title:"Add email notification system",description:"Customers should receive email confirmations when they make a reservation.",type:"feature_request",priority:"critical",status:"open",createdAt:new Date("2025-02-09"),updatedAt:new Date("2025-02-09")},{id:"ticket-8",projectId:"proj-2",createdBy:"user-6",assignedTo:"user-3",title:"Shopping cart calculation error",description:"The shopping cart is not calculating the total correctly when discount codes are applied.",type:"bug_report",priority:"critical",status:"in_progress",createdAt:new Date("2025-02-08"),updatedAt:new Date("2025-02-09")},{id:"ticket-9",projectId:"proj-3",createdBy:"user-5",assignedTo:"user-2",title:"Update team member bios",description:"Need to add two new team members to the About page and update existing bios.",type:"content_change",priority:"low",status:"closed",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-28"),resolvedAt:new Date("2025-01-28")},{id:"ticket-10",projectId:"proj-5",createdBy:"user-5",assignedTo:"user-2",title:"SEO meta tags optimization",description:"Update meta descriptions and keywords for better search engine visibility.",type:"content_change",priority:"medium",status:"resolved",createdAt:new Date("2025-01-30"),updatedAt:new Date("2025-02-04"),resolvedAt:new Date("2025-02-04")}],u8=[{id:"message-1",senderId:"user-1",recipientId:"user-2",subject:"Project Priority Update",content:"Hi John, I've updated the priority for the SpecCon project. Please focus on the mobile navigation fixes first as they're impacting user experience significantly.",isRead:!1,isBroadcast:!1,projectId:"proj-1",createdAt:new Date("2025-02-09T08:00:00"),updatedAt:new Date("2025-02-09T08:00:00")},{id:"message-2",senderId:"user-4",recipientId:"user-1",subject:"Social Media Campaign Performance",content:"The Q1 social media campaign is performing well. We've exceeded engagement targets by 25%. Should we allocate additional budget for boosted posts?",isRead:!0,isBroadcast:!1,projectId:"proj-21",createdAt:new Date("2025-02-08T14:30:00"),updatedAt:new Date("2025-02-08T14:30:00")},{id:"message-3",senderId:"user-5",recipientId:"user-3",subject:"Andebe Platform Requirements",content:"For the Andebe platform, we need to ensure all training modules include progress tracking and certificate generation. The client wants this to be mandatory for all courses.",isRead:!1,isBroadcast:!1,projectId:"proj-2",createdAt:new Date("2025-02-09T10:15:00"),updatedAt:new Date("2025-02-09T10:15:00")},{id:"message-4",senderId:"user-1",recipientId:void 0,subject:"System Maintenance Notice",content:"Heads up team! We'll be performing system maintenance this Friday from 10 PM to 12 AM SAST. All services will be temporarily unavailable. Please save your work before then.",isRead:!1,isBroadcast:!0,createdAt:new Date("2025-02-07T16:00:00"),updatedAt:new Date("2025-02-07T16:00:00")},{id:"message-5",senderId:"user-2",recipientId:"user-4",subject:"Website Launch Coordination",content:"Sarah, the InfinityNPO website is ready for launch. Can we coordinate the social media posts to go live simultaneously with the website deployment?",isRead:!0,isBroadcast:!1,projectId:"proj-5",createdAt:new Date("2025-02-08T11:45:00"),updatedAt:new Date("2025-02-08T11:45:00")},{id:"message-6",senderId:"user-6",recipientId:"user-1",subject:"New Project Timeline",content:"I've reviewed the proposed timeline for the Venueideas platform. The 3-month timeline seems aggressive. Can we extend it to 4 months to ensure quality?",isRead:!1,isBroadcast:!1,projectId:"proj-10",createdAt:new Date("2025-02-09T13:20:00"),updatedAt:new Date("2025-02-09T13:20:00")},{id:"message-7",senderId:"user-3",recipientId:"user-5",subject:"Design Feedback Request",content:"Michael, I've completed the initial design mockups for the Megrolowveld website. Could you please review them and let me know your thoughts on the color scheme and layout?",isRead:!0,isBroadcast:!1,projectId:"proj-3",createdAt:new Date("2025-02-08T09:30:00"),updatedAt:new Date("2025-02-08T09:30:00")}],d8=[{id:"analytics-1",projectId:"proj-1",date:new Date("2025-02-01"),pageViews:1250,uniqueVisitors:890,bounceRate:42.5,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-2",projectId:"proj-1",date:new Date("2025-02-08"),pageViews:1580,uniqueVisitors:1120,bounceRate:38.2,recordedBy:"user-2",createdAt:new Date("2025-02-09")},{id:"analytics-3",projectId:"proj-3",date:new Date("2025-02-01"),pageViews:2340,uniqueVisitors:1650,bounceRate:35.8,recordedBy:"user-2",createdAt:new Date("2025-02-02")},{id:"analytics-4",projectId:"proj-3",date:new Date("2025-02-08"),pageViews:2890,uniqueVisitors:2010,bounceRate:33.1,recordedBy:"user-2",createdAt:new Date("2025-02-09")}],h8=[{id:"social-1",projectId:"proj-1",platform:"Facebook",date:new Date("2025-02-01"),posts:5,engagement:342,reach:4500,followers:2300,likes:280,comments:42,shares:20,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-2",projectId:"proj-1",platform:"Instagram",date:new Date("2025-02-01"),posts:7,engagement:589,reach:6200,followers:3100,likes:520,comments:69,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-3",projectId:"proj-3",platform:"LinkedIn",date:new Date("2025-02-01"),posts:3,engagement:156,reach:2800,followers:980,likes:120,comments:36,recordedBy:"user-4",createdAt:new Date("2025-02-02")},{id:"social-4",projectId:"proj-2",platform:"Twitter",date:new Date("2025-02-05"),posts:8,engagement:421,reach:5100,followers:1850,likes:340,comments:51,shares:30,recordedBy:"user-4",createdAt:new Date("2025-02-06")}],f8=[];function ro(t,e){if(typeof window>"u")return e;try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(r){return console.error(`Error loading ${t} from localStorage:`,r),e}}function $n(t,e){if(!(typeof window>"u"))try{window.localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error saving ${t} to localStorage:`,r)}}function Te(){return ro(Qe.USERS,CI)}function m8(t,e){const n=Te().map(i=>i.id===t?{...i,...e,updatedAt:new Date}:i);$n(Qe.USERS,n)}function p8(t){const r=Te().map(n=>n.id===t?{...n,isActive:!n.isActive,updatedAt:new Date}:n);$n(Qe.USERS,r)}function ct(){const t=ro(Qe.PROJECTS,gv);return t.length===0?($n(Qe.PROJECTS,gv),gv):t}function Jt(){return ro(Qe.TICKETS,c8)}function g8(t){const r=[...Jt(),t];$n(Qe.TICKETS,r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("ticketsUpdated"))}function Ss(t,e){const r=Jt(),n=r.find(l=>l.id===t);if(!n)return;const i=n.assignedTo,a=e.assignedTo,o=r.map(l=>l.id===t?{...l,...e,updatedAt:new Date}:l);if($n(Qe.TICKETS,o),a&&a!==i&&Sm(a)){const c={id:`message-${Date.now()}`,senderId:"system",recipientId:a,subject:"New Ticket Assigned",content:`You have been assigned a new ticket: "${n.title}". Please check your tickets.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},u=JSON.parse(localStorage.getItem(Qe.MESSAGES)||"[]");u.push(c),localStorage.setItem(Qe.MESSAGES,JSON.stringify(u))}if(e.status==="resolved"&&n.status!=="resolved"){e.resolvedAt=new Date;const l=Sm(n.createdBy);if(l&&l.role==="client"){const u={id:`message-${Date.now()}`,senderId:"system",recipientId:n.createdBy,subject:"Ticket Resolved",content:`Your ticket "${n.title}" has been resolved. Please review the changes.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},d=JSON.parse(localStorage.getItem(Qe.MESSAGES)||"[]");d.push(u),localStorage.setItem(Qe.MESSAGES,JSON.stringify(d))}Te().filter(u=>u.role==="admin").forEach(u=>{const d={id:`message-${Date.now()}-admin-${u.id}`,senderId:"system",recipientId:u.id,subject:"Ticket Resolved",content:`Ticket "${n.title}" has been marked as resolved.`,isRead:!1,isBroadcast:!1,createdAt:new Date,updatedAt:new Date},h=JSON.parse(localStorage.getItem(Qe.MESSAGES)||"[]");h.push(d),localStorage.setItem(Qe.MESSAGES,JSON.stringify(h))})}typeof window<"u"&&window.dispatchEvent(new CustomEvent("ticketsUpdated"))}function x8(t){const r=[...Te(),t];$n(Qe.USERS,r)}function ah(){return ro(Qe.MESSAGES,u8)}function lw(){return ro(Qe.WEBSITE_ANALYTICS,d8)}function no(){return ro(Qe.SOCIAL_ANALYTICS,h8)}function v8(t){const r=[...no(),t];$n(Qe.SOCIAL_ANALYTICS,r)}function y8(){return ro(Qe.FILE_SHARES,f8)}function y_(t){const r=[...y8(),t];$n(Qe.FILE_SHARES,r)}function Sm(t){return Te().find(e=>e.id===t)}function so(t){return ct().find(e=>e.id===t)}function b8(t){return Jt().find(e=>e.id===t)}function xn(t,e){const r=ct();return e==="admin"?r:e==="web_developer"?r.filter(n=>n.webDeveloperId===t):e==="social_media_coordinator"?r.filter(n=>n.socialMediaCoordinatorId===t):e==="client"?r.filter(n=>n.clientId===t):[]}function pg(t){return Jt().filter(e=>e.projectId===t)}function tc(t,e){const r=Jt();if(e==="admin")return r;if(e==="web_developer")return r.filter(n=>n.assignedTo===t);if(e==="client")return r.filter(n=>n.createdBy===t);if(e==="social_media_coordinator"){const i=xn(t,e).map(a=>a.id);return r.filter(a=>i.includes(a.projectId))}return[]}function Va(t){return ah().filter(e=>e.senderId===t||e.recipientId===t||e.isBroadcast)}function j8(t){return Va(t).filter(e=>!e.isRead&&(e.recipientId===t||e.isBroadcast))}function w8(t){const r=ah().map(n=>n.id===t?{...n,isRead:!0,updatedAt:new Date}:n);$n(Qe.MESSAGES,r)}function N8(t){const e=ah(),r=e.filter(n=>n.id!==t);return r.length<e.length?($n(Qe.MESSAGES,r),!0):!1}function cw(t){const r=[...ah(),t];$n(Qe.MESSAGES,r)}function lb(t,e){const r=b8(t),n=Sm(e);if(!r||!n)return;Te().filter(a=>a.role==="admin").forEach(a=>{const o={id:`message-${Date.now()}-resolution-${a.id}`,senderId:n.id,recipientId:a.id,subject:"Ticket Resolution Notification",content:`Developer ${n.fullName} has resolved ticket "${r.title}". Please review and close the ticket if appropriate.`,isRead:!1,isBroadcast:!1,projectId:r.projectId,createdAt:new Date,updatedAt:new Date};cw(o)})}function _8(t){return{website:lw().filter(e=>e.projectId===t),social:no().filter(e=>e.projectId===t)}}function S8(t){const e=Te(),r=e.filter(n=>n.id!==t);return r.length===e.length?!1:(localStorage.setItem(Qe.USERS,JSON.stringify(r)),!0)}const k8=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},A8=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],l=t[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},OI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(f=64)),n.push(r[d],r[h],r[f],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(II(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],l=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||h==null)throw new T8;const f=a<<2|l>>4;if(n.push(f),u!==64){const p=l<<4&240|u>>2;if(n.push(p),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E8=function(t){const e=II(t);return OI.encodeByteArray(e,!0)},km=function(t){return E8(t).replace(/\./g,"")},MI=function(t){try{return OI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=()=>P8().__FIREBASE_DEFAULTS__,I8=()=>{if(typeof process>"u"||typeof b_>"u")return;const t=b_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MI(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return k8()||C8()||I8()||O8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DI=t=>{var e,r;return(r=(e=gg())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},M8=t=>{const e=DI(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},RI=()=>{var t;return(t=gg())==null?void 0:t.config},LI=t=>{var e;return(e=gg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $I(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[km(JSON.stringify(r)),km(JSON.stringify(o)),""].join(".")}const Au={};function L8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?t.emulator.push(e):t.prod.push(e);return t}function $8(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let j_=!1;function VI(t,e){if(typeof window>"u"||typeof document>"u"||!rc(window.location.host)||Au[t]===e||Au[t]||j_)return;Au[t]=e;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=L8().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{j_=!0,o()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=$8(n),p=r("text"),v=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),j=document.getElementById(g)||document.createElement("a"),x=r("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;l(b),d(j,g);const _=u();c(y,x),b.append(y,v,j,_),document.body.appendChild(b)}a?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function F8(){var e;const t=(e=gg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W8(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H8(){return!F8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q8(){try{return typeof indexedDB=="object"}catch{return!1}}function G8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="FirebaseError";class Ws extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=K8,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?Y8(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ws(i,l,n)}}function Y8(t,e){return t.replace(X8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const X8=/\{\$([^}]+)}/g;function Q8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fa(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(w_(a)&&w_(o)){if(!Fa(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function w_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function du(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function J8(t,e){const r=new Z8(t,e);return r.subscribe.bind(r)}class Z8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");e9(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=xv),i.error===void 0&&(i.error=xv),i.complete===void 0&&(i.complete=xv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e9(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function xv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new D8;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n9(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:r9(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r9(t){return t===pa?void 0:t}function n9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new t9(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const i9={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},a9=Ce.INFO,o9={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},l9=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=o9[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uw{constructor(e){this.name=e,this._logLevel=a9,this._logHandler=l9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const c9=(t,e)=>e.some(r=>t instanceof r);let N_,__;function u9(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d9(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,cb=new WeakMap,BI=new WeakMap,vv=new WeakMap,dw=new WeakMap;function h9(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Oi(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&FI.set(r,t)}).catch(()=>{}),dw.set(e,t),e}function f9(t){if(cb.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});cb.set(t,e)}let ub={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return cb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Oi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m9(t){ub=t(ub)}function p9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yv(this),e,...r);return BI.set(n,e.sort?e.sort():[e]),Oi(n)}:d9().includes(t)?function(...e){return t.apply(yv(this),e),Oi(FI.get(this))}:function(...e){return Oi(t.apply(yv(this),e))}}function g9(t){return typeof t=="function"?p9(t):(t instanceof IDBTransaction&&f9(t),c9(t,u9())?new Proxy(t,ub):t)}function Oi(t){if(t instanceof IDBRequest)return h9(t);if(vv.has(t))return vv.get(t);const e=g9(t);return e!==t&&(vv.set(t,e),dw.set(e,t)),e}const yv=t=>dw.get(t);function x9(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Oi(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Oi(o.result),c.oldVersion,c.newVersion,Oi(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const v9=["get","getKey","getAll","getAllKeys","count"],y9=["put","add","delete","clear"],bv=new Map;function S_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bv.get(e))return bv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=y9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||v9.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),i&&c.done]))[0]};return bv.set(e,a),a}m9(t=>({...t,get:(e,r,n)=>S_(e,r)||t.get(e,r,n),has:(e,r)=>!!S_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(j9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function j9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const db="@firebase/app",k_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new uw("@firebase/app"),w9="@firebase/app-compat",N9="@firebase/analytics-compat",_9="@firebase/analytics",S9="@firebase/app-check-compat",k9="@firebase/app-check",A9="@firebase/auth",T9="@firebase/auth-compat",E9="@firebase/database",P9="@firebase/data-connect",C9="@firebase/database-compat",I9="@firebase/functions",O9="@firebase/functions-compat",M9="@firebase/installations",D9="@firebase/installations-compat",R9="@firebase/messaging",L9="@firebase/messaging-compat",$9="@firebase/performance",V9="@firebase/performance-compat",F9="@firebase/remote-config",B9="@firebase/remote-config-compat",U9="@firebase/storage",z9="@firebase/storage-compat",W9="@firebase/firestore",H9="@firebase/ai",q9="@firebase/firestore-compat",G9="firebase",K9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="[DEFAULT]",Y9={[db]:"fire-core",[w9]:"fire-core-compat",[_9]:"fire-analytics",[N9]:"fire-analytics-compat",[k9]:"fire-app-check",[S9]:"fire-app-check-compat",[A9]:"fire-auth",[T9]:"fire-auth-compat",[E9]:"fire-rtdb",[P9]:"fire-data-connect",[C9]:"fire-rtdb-compat",[I9]:"fire-fn",[O9]:"fire-fn-compat",[M9]:"fire-iid",[D9]:"fire-iid-compat",[R9]:"fire-fcm",[L9]:"fire-fcm-compat",[$9]:"fire-perf",[V9]:"fire-perf-compat",[F9]:"fire-rc",[B9]:"fire-rc-compat",[U9]:"fire-gcs",[z9]:"fire-gcs-compat",[W9]:"fire-fst",[q9]:"fire-fst-compat",[H9]:"fire-vertex","fire-js":"fire-js",[G9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,X9=new Map,fb=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(r){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pl(t){const e=t.name;if(fb.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;fb.set(e,t);for(const r of ad.values())A_(r,t);for(const r of X9.values())A_(r,t);return!0}function hw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new oh("app","Firebase",Q9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=K9;function UI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:hb,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Mi.create("bad-app-name",{appName:String(i)});if(r||(r=RI()),!r)throw Mi.create("no-options");const a=ad.get(i);if(a){if(Fa(r,a.options)&&Fa(n,a.config))return a;throw Mi.create("duplicate-app",{appName:i})}const o=new s9(i);for(const c of fb.values())o.addComponent(c);const l=new J9(r,n,o);return ad.set(i,l),l}function zI(t=hb){const e=ad.get(t);if(!e&&t===hb&&RI())return UI();if(!e)throw Mi.create("no-app",{appName:t});return e}function T_(){return Array.from(ad.values())}function Di(t,e,r){let n=Y9[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(o.join(" "));return}pl(new Ba(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="firebase-heartbeat-database",eV=1,od="firebase-heartbeat-store";let jv=null;function WI(){return jv||(jv=x9(Z9,eV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(od)}catch(r){console.warn(r)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),jv}async function tV(t){try{const r=(await WI()).transaction(od),n=await r.objectStore(od).get(HI(t));return await r.done,n}catch(e){if(e instanceof Ws)Ds.warn(e.message);else{const r=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(r.message)}}}async function E_(t,e){try{const n=(await WI()).transaction(od,"readwrite");await n.objectStore(od).put(e,HI(t)),await n.done}catch(r){if(r instanceof Ws)Ds.warn(r.message);else{const n=Mi.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ds.warn(n.message)}}}function HI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=1024,nV=30;class sV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new aV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>nV){const o=oV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ds.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=P_(),{heartbeatsToSend:n,unsentEntries:i}=iV(this._heartbeatsCache.heartbeats),a=km(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ds.warn(r),""}}}function P_(){return new Date().toISOString().substring(0,10)}function iV(t,e=rV){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),C_(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),C_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class aV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q8()?G8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return E_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function C_(t){return km(JSON.stringify({version:2,heartbeats:t})).length}function oV(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){pl(new Ba("platform-logger",e=>new b9(e),"PRIVATE")),pl(new Ba("heartbeat",e=>new sV(e),"PRIVATE")),Di(db,k_,t),Di(db,k_,"esm2020"),Di("fire-js","")}lV("");var cV="firebase",uV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(cV,uV,"app");function qI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dV=qI,GI=new oh("auth","Firebase",qI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new uw("@firebase/auth");function hV(t,...e){Am.logLevel<=Ce.WARN&&Am.warn(`Auth (${nc}): ${t}`,...e)}function Uf(t,...e){Am.logLevel<=Ce.ERROR&&Am.error(`Auth (${nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw fw(t,...e)}function Xn(t,...e){return fw(t,...e)}function KI(t,e,r){const n={...dV(),[e]:r};return new oh("auth","Firebase",n).create(e,{appName:t.name})}function ks(t){return KI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return GI.create(t,...e)}function ge(t,e,...r){if(!t)throw fw(e,...r)}function ys(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Rs(t,e){t||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fV(){return I_()==="http:"||I_()==="https:"}function I_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fV()||U8()||"connection"in navigator)?navigator.onLine:!0}function pV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,r){this.shortDelay=e,this.longDelay=r,Rs(r>e,"Short delay should be less than long delay!"),this.isMobile=V8()||z8()}get(){return mV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vV=new ch(3e4,6e4);function Hs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qs(t,e,r,n,i={}){return XI(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const l=lh({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return B8()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&rc(t.emulatorConfig.host)&&(u.credentials="include"),YI.fetch()(await QI(t,t.config.apiHost,r,l),u)})}async function XI(t,e,r){t._canInitEmulator=!1;const n={...gV,...e};try{const i=new bV(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw af(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw af(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw af(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw af(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KI(t,d,u);Rn(t,d)}}catch(i){if(i instanceof Ws)throw i;Rn(t,"network-request-failed",{message:String(i)})}}async function uh(t,e,r,n,i={}){const a=await qs(t,e,r,n,i);return"mfaPendingCredential"in a&&Rn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function QI(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?mw(t.config,i):`${t.config.apiScheme}://${i}`;return xV.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function yV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Xn(this.auth,"network-request-failed")),vV.get())})}}function af(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Xn(t,e,n);return i.customData._tokenResponse=r,i}function O_(t){return t!==void 0&&t.enterprise!==void 0}class jV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return yV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wV(t,e){return qs(t,"GET","/v2/recaptchaConfig",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Tm(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _V(t,e=!1){const r=Yr(t),n=await r.getIdToken(e),i=pw(n);ge(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Tu(wv(i.auth_time)),issuedAtTime:Tu(wv(i.iat)),expirationTime:Tu(wv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wv(t){return Number(t)*1e3}function pw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const i=MI(r);return i?JSON.parse(i):(Uf("Failed to decode base64 JWT payload"),null)}catch(i){return Uf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M_(t){const e=pw(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ws&&SV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function SV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Em(t){var h;const e=t.auth,r=await t.getIdToken(),n=await ld(t,Tm(e,{idToken:r}));ge(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=(h=i.providerUserInfo)!=null&&h.length?JI(i.providerUserInfo):[],o=TV(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function AV(t){const e=Yr(t);await Em(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TV(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function JI(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){const r=await XI(t,{},async()=>{const n=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await QI(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return t.emulatorConfig&&rc(t.emulatorConfig.host)&&(c.credentials="include"),YI.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function PV(t,e){return qs(t,"POST","/v2/accounts:revokeToken",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const r=M_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await EV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new el;return n&&(ge(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ge(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new kV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await ld(this,this.stsTokenManager.getToken(this.auth,e));return ge(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return _V(this,e)}reload(){return AV(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Em(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await ld(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:v,stsTokenManager:g}=r;ge(h&&g,e,"internal-error");const j=el.fromJSON(this.name,g);ge(typeof h=="string",e,"internal-error"),ii(n,e.name),ii(i,e.name),ge(typeof f=="boolean",e,"internal-error"),ge(typeof p=="boolean",e,"internal-error"),ii(a,e.name),ii(o,e.name),ii(l,e.name),ii(c,e.name),ii(u,e.name),ii(d,e.name);const x=new Pn({uid:h,auth:e,email:i,emailVerified:f,displayName:n,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:j,createdAt:u,lastLoginAt:d});return v&&Array.isArray(v)&&(x.providerData=v.map(y=>({...y}))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,r,n=!1){const i=new el;i.updateFromServerResponse(r);const a=new Pn({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Em(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ge(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?JI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new el;l.updateFromIdToken(n);const c=new Pn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function bs(t){Rs(t instanceof Function,"Expected a class definition");let e=D_.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ZI.type="NONE";const R_=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e,r){return`firebase:${t}:${e}:${r}`}class tl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=zf(this.userKey,i.apiKey,a),this.fullPersistenceKey=zf("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Tm(this.auth,{idToken:e}).catch(()=>{});return r?Pn._fromGetAccountInfoResponse(this.auth,r,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new tl(bs(R_),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||bs(R_);const o=zf(n,e.config.apiKey,e.name);let l=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Tm(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Pn._fromGetAccountInfoResponse(e,f,d)}else h=Pn._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new tl(a,e,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new tl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(i4(e))return"Blackberry";if(a4(e))return"Webos";if(t4(e))return"Safari";if((e.includes("chrome/")||r4(e))&&!e.includes("edge/"))return"Chrome";if(s4(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function e4(t=yr()){return/firefox\//i.test(t)}function t4(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r4(t=yr()){return/crios\//i.test(t)}function n4(t=yr()){return/iemobile/i.test(t)}function s4(t=yr()){return/android/i.test(t)}function i4(t=yr()){return/blackberry/i.test(t)}function a4(t=yr()){return/webos/i.test(t)}function gw(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CV(t=yr()){var e;return gw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function IV(){return W8()&&document.documentMode===10}function o4(t=yr()){return gw(t)||s4(t)||a4(t)||i4(t)||/windows phone/i.test(t)||n4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e=[]){let r;switch(t){case"Browser":r=L_(yr());break;case"Worker":r=`${L_(yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${nc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return qs(t,"GET","/v2/passwordPolicy",Hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=6;class RV{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??DV,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new OV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=bs(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Tm(this,{idToken:e}),n=await Pn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Em(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(ks(this));const r=e?Yr(e):null;return r&&ge(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MV(this),r=new RV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await PV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&bs(e)||this._popupRedirectResolver;ge(r,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[bs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&hV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zi(t){return Yr(t)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=J8(r=>this.observer=r)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $V(t){xg=t}function c4(t){return xg.loadJS(t)}function VV(){return xg.recaptchaEnterpriseScript}function FV(){return xg.gapiScript}function BV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UV{constructor(){this.enterprise=new zV}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class zV{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const WV="recaptcha-enterprise",u4="NO_RECAPTCHA";class HV{constructor(e){this.type=WV,this.auth=Zi(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{wV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new jV(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;O_(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(u4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UV().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&O_(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=VV();c.length!==0&&(c+=l),c4(c).then(()=>{i(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function V_(t,e,r,n=!1,i=!1){const a=new HV(t);let o;if(i)o=u4;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Pm(t,e,r,n,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await V_(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await V_(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){const r=hw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Fa(a,e??{}))return i;Rn(i,"already-initialized")}return r.initialize({options:e})}function GV(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(bs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function KV(t,e,r){const n=Zi(t);ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=d4(e),{host:o,port:l}=YV(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ge(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ge(Fa(u,n.config.emulator)&&Fa(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,rc(o)?($I(`${a}//${o}${c}`),VI("Auth",!0)):XV()}function d4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YV(t){const e=d4(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:F_(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:F_(o)}}}function F_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,r){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function QV(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return uh(t,"POST","/v1/accounts:signInWithPassword",Hs(t,e))}async function ZV(t,e){return qs(t,"POST","/v1/accounts:sendOobCode",Hs(t,e))}async function eF(t,e){return ZV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e){return uh(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}async function rF(t,e){return uh(t,"POST","/v1/accounts:signInWithEmailLink",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends xw{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new cd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new cd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,r,"signInWithPassword",JV);case"emailLink":return tF(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pm(e,n,"signUpPassword",QV);case"emailLink":return rF(e,{idToken:r,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return uh(t,"POST","/v1/accounts:signInWithIdp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF="http://localhost";class Ua extends xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Rn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Ua(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return rl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,rl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,rl(e,r)}buildRequest(){const e={requestUri:nF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=lh(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iF(t){const e=uu(du(t)).link,r=e?uu(du(e)).deep_link_id:null,n=uu(du(t)).deep_link_id;return(n?uu(du(n)).link:null)||n||r||e||t}class vw{constructor(e){const r=uu(du(e)),n=r.apiKey??null,i=r.oobCode??null,a=sF(r.mode??null);ge(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=iF(e);try{return new vw(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,r){return cd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=vw.parseLink(r);return ge(n,"argument-error"),cd._fromEmailAndCode(e,n.code,n.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends h4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends dh{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends dh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ua._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return pi.credential(r,n)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends dh{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gi.credential(e.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends dh{constructor(){super("twitter.com")}static credential(e,r){return Ua._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return xi.credential(r,n)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e){return uh(t,"POST","/v1/accounts:signUp",Hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Pn._fromIdTokenResponse(e,n,i),o=B_(n);return new za({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=B_(n);return new za({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function B_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends Ws{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Cm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Cm(e,r,n,i)}}function f4(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,a,e,n):a})}async function oF(t,e,r=!1){const n=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return za._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e,r=!1){const{auth:n}=t;if(an(n.app))return Promise.reject(ks(n));const i="reauthenticate";try{const a=await ld(t,f4(n,i,e,t),r);ge(a.idToken,n,"internal-error");const o=pw(a.idToken);ge(o,n,"internal-error");const{sub:l}=o;return ge(t.uid===l,n,"user-mismatch"),za._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Rn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e,r=!1){if(an(t.app))return Promise.reject(ks(t));const n="signIn",i=await f4(t,n,e),a=await za._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function cF(t,e){return m4(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uF(t,e,r){const n=Zi(t);await Pm(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",eF)}async function dF(t,e,r){if(an(t.app))return Promise.reject(ks(t));const n=Zi(t),o=await Pm(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&p4(t),c}),l=await za._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function hF(t,e,r){return an(t.app)?Promise.reject(ks(t)):cF(Yr(t),sc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&p4(t),n})}function fF(t,e,r,n){return Yr(t).onIdTokenChanged(e,r,n)}function mF(t,e,r){return Yr(t).beforeAuthStateChanged(e,r)}function pF(t,e,r,n){return Yr(t).onAuthStateChanged(e,r,n)}function Nv(t){return Yr(t).signOut()}const Im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Im,"1"),this.storage.removeItem(Im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=1e3,xF=10;class x4 extends g4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);IV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},gF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}x4.type="LOCAL";const vF=x4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4 extends g4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}v4.type="SESSION";const y4=v4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new vg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async u=>u(r.origin,a)),c=await yF(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=yw("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function jF(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function wF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _F(){return b4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="firebaseLocalStorageDb",SF=1,Om="firebaseLocalStorage",w4="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function yg(t,e){return t.transaction([Om],e?"readwrite":"readonly").objectStore(Om)}function kF(){const t=indexedDB.deleteDatabase(j4);return new hh(t).toPromise()}function gb(){const t=indexedDB.open(j4,SF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Om,{keyPath:w4})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Om)?e(n):(n.close(),await kF(),e(await gb()))})})}async function U_(t,e,r){const n=yg(t,!0).put({[w4]:e,value:r});return new hh(n).toPromise()}async function AF(t,e){const r=yg(t,!1).get(e),n=await new hh(r).toPromise();return n===void 0?null:n.value}function z_(t,e){const r=yg(t,!0).delete(e);return new hh(r).toPromise()}const TF=800,EF=3;class N4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>EF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vg._getInstance(_F()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new bF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gb();return await U_(e,Im,"1"),await z_(e,Im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>AF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>z_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=yg(i,!1).getAll();return new hh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N4.type="LOCAL";const PF=N4;new ch(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return e?bs(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw extends xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return rl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function IF(t){return m4(t.auth,new bw(t),t.bypassAuthState)}function OF(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),lF(r,new bw(t),t.bypassAuthState)}async function MF(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),oF(r,new bw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IF;case"linkViaPopup":case"linkViaRedirect":return MF;case"reauthViaPopup":case"reauthViaRedirect":return OF;default:Rn(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new ch(2e3,1e4);class Uo extends _4{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DF.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="pendingRedirect",Wf=new Map;class LF extends _4{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const n=await $F(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $F(t,e){const r=BF(e),n=FF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function VF(t,e){Wf.set(t._key(),e)}function FF(t){return bs(t._redirectPersistence)}function BF(t){return zf(RF,t.config.apiKey,t.name)}async function UF(t,e,r=!1){if(an(t.app))return Promise.reject(ks(t));const n=Zi(t),i=CF(n,e),o=await new LF(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=10*60*1e3;class WF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!S4(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Xn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zF&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KF=/^https?/;async function YF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qF(t);for(const r of e)try{if(XF(r))return}catch{}Rn(t,"unauthorized-domain")}function XF(t){const e=mb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!KF.test(r))return!1;if(GF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new ch(3e4,6e4);function H_(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function JF(t){return new Promise((e,r)=>{var i,a,o;function n(){H_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H_(),r(Xn(t,"network-request-failed"))},timeout:QF.get()})}if((a=(i=Qn().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=Qn().gapi)!=null&&o.load)n();else{const l=BV("iframefcb");return Qn()[l]=()=>{gapi.load?n():r(Xn(t,"network-request-failed"))},c4(`${FV()}?onload=${l}`).catch(c=>r(c))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function ZF(t){return Hf=Hf||JF(t),Hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new ch(5e3,15e3),tB="__/auth/iframe",rB="emulator/auth/iframe",nB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iB(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?mw(e,rB):`https://${t.config.authDomain}/${tB}`,n={apiKey:e.apiKey,appName:t.name,v:nc},i=sB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${lh(n).slice(1)}`}async function aB(t){const e=await ZF(t),r=Qn().gapi;return ge(r,t,"internal-error"),e.open({where:document.body,url:iB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),l=Qn().setTimeout(()=>{a(o)},eB.get());function c(){Qn().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lB=500,cB=600,uB="_blank",dB="http://localhost";class q_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hB(t,e,r,n=lB,i=cB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...oB,width:n.toString(),height:i.toString(),top:a,left:o},u=yr().toLowerCase();r&&(l=r4(u)?uB:r),e4(u)&&(e=e||dB,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(CV(u)&&l!=="_self")return fB(e||"",l),new q_(null);const h=window.open(e||"",l,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new q_(h)}function fB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="__/auth/handler",pB="emulator/auth/handler",gB=encodeURIComponent("fac");async function G_(t,e,r,n,i,a){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:nc,eventId:i};if(e instanceof h4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Q8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof dh){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${gB}=${encodeURIComponent(c)}`:"";return`${xB(t)}?${lh(l).slice(1)}${u}`}function xB({config:t}){return t.emulator?mw(t,pB):`https://${t.authDomain}/${mB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="webStorageSupport";class vB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y4,this._completeRedirectFn=UF,this._overrideRedirectResult=VF}async _openPopup(e,r,n,i){var o;Rs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await G_(e,r,n,mb(),i);return hB(e,a,yw())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await G_(e,r,n,mb(),i);return jF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Rs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await aB(e),n=new WF(e);return r.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(_v,{type:_v},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[_v];a!==void 0&&r(!!a),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=YF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return o4()||t4()||gw()}}const yB=vB;var K_="@firebase/auth",Y_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wB(t){pl(new Ba("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l4(t)},u=new LV(n,i,a,c);return GV(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),pl(new Ba("auth-internal",e=>{const r=Zi(e.getProvider("auth").getImmediate());return(n=>new bB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(K_,Y_,jB(t)),Di(K_,Y_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=5*60,_B=LI("authIdTokenMaxAge")||NB;let X_=null;const SB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>_B)return;const i=r==null?void 0:r.token;X_!==i&&(X_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kB(t=zI()){const e=hw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=qV(t,{popupRedirectResolver:yB,persistence:[PF,vF,y4]}),n=LI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=SB(a.toString());mF(r,o,()=>o(r.currentUser)),fF(r,l=>o(l))}}const i=DI("auth");return i&&KV(r,`http://${i}`),r}function AB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}$V({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Xn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",AB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wB("Browser");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,k4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function T(){}T.prototype=S.prototype,k.F=S.prototype,k.prototype=new T,k.prototype.constructor=k,k.D=function(O,C,I){for(var M=Array(arguments.length-2),B=2;B<arguments.length;B++)M[B-2]=arguments[B];return S.prototype[C].apply(O,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,T){T||(T=0);const O=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)O[C]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(C=0;C<16;++C)O[C]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=k.g[0],T=k.g[1],C=k.g[2];let I=k.g[3],M;M=S+(I^T&(C^I))+O[0]+3614090360&4294967295,S=T+(M<<7&4294967295|M>>>25),M=I+(C^S&(T^C))+O[1]+3905402710&4294967295,I=S+(M<<12&4294967295|M>>>20),M=C+(T^I&(S^T))+O[2]+606105819&4294967295,C=I+(M<<17&4294967295|M>>>15),M=T+(S^C&(I^S))+O[3]+3250441966&4294967295,T=C+(M<<22&4294967295|M>>>10),M=S+(I^T&(C^I))+O[4]+4118548399&4294967295,S=T+(M<<7&4294967295|M>>>25),M=I+(C^S&(T^C))+O[5]+1200080426&4294967295,I=S+(M<<12&4294967295|M>>>20),M=C+(T^I&(S^T))+O[6]+2821735955&4294967295,C=I+(M<<17&4294967295|M>>>15),M=T+(S^C&(I^S))+O[7]+4249261313&4294967295,T=C+(M<<22&4294967295|M>>>10),M=S+(I^T&(C^I))+O[8]+1770035416&4294967295,S=T+(M<<7&4294967295|M>>>25),M=I+(C^S&(T^C))+O[9]+2336552879&4294967295,I=S+(M<<12&4294967295|M>>>20),M=C+(T^I&(S^T))+O[10]+4294925233&4294967295,C=I+(M<<17&4294967295|M>>>15),M=T+(S^C&(I^S))+O[11]+2304563134&4294967295,T=C+(M<<22&4294967295|M>>>10),M=S+(I^T&(C^I))+O[12]+1804603682&4294967295,S=T+(M<<7&4294967295|M>>>25),M=I+(C^S&(T^C))+O[13]+4254626195&4294967295,I=S+(M<<12&4294967295|M>>>20),M=C+(T^I&(S^T))+O[14]+2792965006&4294967295,C=I+(M<<17&4294967295|M>>>15),M=T+(S^C&(I^S))+O[15]+1236535329&4294967295,T=C+(M<<22&4294967295|M>>>10),M=S+(C^I&(T^C))+O[1]+4129170786&4294967295,S=T+(M<<5&4294967295|M>>>27),M=I+(T^C&(S^T))+O[6]+3225465664&4294967295,I=S+(M<<9&4294967295|M>>>23),M=C+(S^T&(I^S))+O[11]+643717713&4294967295,C=I+(M<<14&4294967295|M>>>18),M=T+(I^S&(C^I))+O[0]+3921069994&4294967295,T=C+(M<<20&4294967295|M>>>12),M=S+(C^I&(T^C))+O[5]+3593408605&4294967295,S=T+(M<<5&4294967295|M>>>27),M=I+(T^C&(S^T))+O[10]+38016083&4294967295,I=S+(M<<9&4294967295|M>>>23),M=C+(S^T&(I^S))+O[15]+3634488961&4294967295,C=I+(M<<14&4294967295|M>>>18),M=T+(I^S&(C^I))+O[4]+3889429448&4294967295,T=C+(M<<20&4294967295|M>>>12),M=S+(C^I&(T^C))+O[9]+568446438&4294967295,S=T+(M<<5&4294967295|M>>>27),M=I+(T^C&(S^T))+O[14]+3275163606&4294967295,I=S+(M<<9&4294967295|M>>>23),M=C+(S^T&(I^S))+O[3]+4107603335&4294967295,C=I+(M<<14&4294967295|M>>>18),M=T+(I^S&(C^I))+O[8]+1163531501&4294967295,T=C+(M<<20&4294967295|M>>>12),M=S+(C^I&(T^C))+O[13]+2850285829&4294967295,S=T+(M<<5&4294967295|M>>>27),M=I+(T^C&(S^T))+O[2]+4243563512&4294967295,I=S+(M<<9&4294967295|M>>>23),M=C+(S^T&(I^S))+O[7]+1735328473&4294967295,C=I+(M<<14&4294967295|M>>>18),M=T+(I^S&(C^I))+O[12]+2368359562&4294967295,T=C+(M<<20&4294967295|M>>>12),M=S+(T^C^I)+O[5]+4294588738&4294967295,S=T+(M<<4&4294967295|M>>>28),M=I+(S^T^C)+O[8]+2272392833&4294967295,I=S+(M<<11&4294967295|M>>>21),M=C+(I^S^T)+O[11]+1839030562&4294967295,C=I+(M<<16&4294967295|M>>>16),M=T+(C^I^S)+O[14]+4259657740&4294967295,T=C+(M<<23&4294967295|M>>>9),M=S+(T^C^I)+O[1]+2763975236&4294967295,S=T+(M<<4&4294967295|M>>>28),M=I+(S^T^C)+O[4]+1272893353&4294967295,I=S+(M<<11&4294967295|M>>>21),M=C+(I^S^T)+O[7]+4139469664&4294967295,C=I+(M<<16&4294967295|M>>>16),M=T+(C^I^S)+O[10]+3200236656&4294967295,T=C+(M<<23&4294967295|M>>>9),M=S+(T^C^I)+O[13]+681279174&4294967295,S=T+(M<<4&4294967295|M>>>28),M=I+(S^T^C)+O[0]+3936430074&4294967295,I=S+(M<<11&4294967295|M>>>21),M=C+(I^S^T)+O[3]+3572445317&4294967295,C=I+(M<<16&4294967295|M>>>16),M=T+(C^I^S)+O[6]+76029189&4294967295,T=C+(M<<23&4294967295|M>>>9),M=S+(T^C^I)+O[9]+3654602809&4294967295,S=T+(M<<4&4294967295|M>>>28),M=I+(S^T^C)+O[12]+3873151461&4294967295,I=S+(M<<11&4294967295|M>>>21),M=C+(I^S^T)+O[15]+530742520&4294967295,C=I+(M<<16&4294967295|M>>>16),M=T+(C^I^S)+O[2]+3299628645&4294967295,T=C+(M<<23&4294967295|M>>>9),M=S+(C^(T|~I))+O[0]+4096336452&4294967295,S=T+(M<<6&4294967295|M>>>26),M=I+(T^(S|~C))+O[7]+1126891415&4294967295,I=S+(M<<10&4294967295|M>>>22),M=C+(S^(I|~T))+O[14]+2878612391&4294967295,C=I+(M<<15&4294967295|M>>>17),M=T+(I^(C|~S))+O[5]+4237533241&4294967295,T=C+(M<<21&4294967295|M>>>11),M=S+(C^(T|~I))+O[12]+1700485571&4294967295,S=T+(M<<6&4294967295|M>>>26),M=I+(T^(S|~C))+O[3]+2399980690&4294967295,I=S+(M<<10&4294967295|M>>>22),M=C+(S^(I|~T))+O[10]+4293915773&4294967295,C=I+(M<<15&4294967295|M>>>17),M=T+(I^(C|~S))+O[1]+2240044497&4294967295,T=C+(M<<21&4294967295|M>>>11),M=S+(C^(T|~I))+O[8]+1873313359&4294967295,S=T+(M<<6&4294967295|M>>>26),M=I+(T^(S|~C))+O[15]+4264355552&4294967295,I=S+(M<<10&4294967295|M>>>22),M=C+(S^(I|~T))+O[6]+2734768916&4294967295,C=I+(M<<15&4294967295|M>>>17),M=T+(I^(C|~S))+O[13]+1309151649&4294967295,T=C+(M<<21&4294967295|M>>>11),M=S+(C^(T|~I))+O[4]+4149444226&4294967295,S=T+(M<<6&4294967295|M>>>26),M=I+(T^(S|~C))+O[11]+3174756917&4294967295,I=S+(M<<10&4294967295|M>>>22),M=C+(S^(I|~T))+O[2]+718787259&4294967295,C=I+(M<<15&4294967295|M>>>17),M=T+(I^(C|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(C+(M<<21&4294967295|M>>>11))&4294967295,k.g[2]=k.g[2]+C&4294967295,k.g[3]=k.g[3]+I&4294967295}n.prototype.v=function(k,S){S===void 0&&(S=k.length);const T=S-this.blockSize,O=this.C;let C=this.h,I=0;for(;I<S;){if(C==0)for(;I<=T;)i(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<S;)if(O[C++]=k.charCodeAt(I++),C==this.blockSize){i(this,O),C=0;break}}else for(;I<S;)if(O[C++]=k[I++],C==this.blockSize){i(this,O),C=0;break}}this.h=C,this.o+=S},n.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;S=this.o*8;for(var T=k.length-8;T<k.length;++T)k[T]=S&255,S/=256;for(this.v(k),k=Array(16),S=0,T=0;T<4;++T)for(let O=0;O<32;O+=8)k[S++]=this.g[T]>>>O&255;return k};function a(k,S){var T=l;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=S(k)}function o(k,S){this.h=S;const T=[];let O=!0;for(let C=k.length-1;C>=0;C--){const I=k[C]|0;O&&I==S||(T[C]=I,O=!1)}this.g=T}var l={};function c(k){return-128<=k&&k<128?a(k,function(S){return new o([S|0],S<0?-1:0)}):new o([k|0],k<0?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return h;if(k<0)return j(u(-k));const S=[];let T=1;for(let O=0;k>=T;O++)S[O]=k/T|0,T*=4294967296;return new o(S,0)}function d(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return j(d(k.substring(1),S));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=u(Math.pow(S,8));let O=h;for(let I=0;I<k.length;I+=8){var C=Math.min(8,k.length-I);const M=parseInt(k.substring(I,I+C),S);C<8?(C=u(Math.pow(S,C)),O=O.j(C).add(u(M))):(O=O.j(T),O=O.add(u(M)))}return O}var h=c(0),f=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-j(this).m();let k=0,S=1;for(let T=0;T<this.g.length;T++){const O=this.i(T);k+=(O>=0?O:4294967296+O)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(g(this))return"-"+j(this).toString(k);const S=u(Math.pow(k,6));var T=this;let O="";for(;;){const C=_(T,S).g;T=x(T,C.j(S));let I=((T.g.length>0?T.g[0]:T.h)>>>0).toString(k);if(T=C,v(T))return I+O;for(;I.length<6;)I="0"+I;O=I+O}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(let S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function g(k){return k.h==-1}t.l=function(k){return k=x(this,k),g(k)?-1:v(k)?0:1};function j(k){const S=k.g.length,T=[];for(let O=0;O<S;O++)T[O]=~k.g[O];return new o(T,~k.h).add(f)}t.abs=function(){return g(this)?j(this):this},t.add=function(k){const S=Math.max(this.g.length,k.g.length),T=[];let O=0;for(let C=0;C<=S;C++){let I=O+(this.i(C)&65535)+(k.i(C)&65535),M=(I>>>16)+(this.i(C)>>>16)+(k.i(C)>>>16);O=M>>>16,I&=65535,M&=65535,T[C]=M<<16|I}return new o(T,T[T.length-1]&-2147483648?-1:0)};function x(k,S){return k.add(j(S))}t.j=function(k){if(v(this)||v(k))return h;if(g(this))return g(k)?j(this).j(j(k)):j(j(this).j(k));if(g(k))return j(this.j(j(k)));if(this.l(p)<0&&k.l(p)<0)return u(this.m()*k.m());const S=this.g.length+k.g.length,T=[];for(var O=0;O<2*S;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(let C=0;C<k.g.length;C++){const I=this.i(O)>>>16,M=this.i(O)&65535,B=k.i(C)>>>16,U=k.i(C)&65535;T[2*O+2*C]+=M*U,y(T,2*O+2*C),T[2*O+2*C+1]+=I*U,y(T,2*O+2*C+1),T[2*O+2*C+1]+=M*B,y(T,2*O+2*C+1),T[2*O+2*C+2]+=I*B,y(T,2*O+2*C+2)}for(k=0;k<S;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=S;k<2*S;k++)T[k]=0;return new o(T,0)};function y(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function b(k,S){this.g=k,this.h=S}function _(k,S){if(v(S))throw Error("division by zero");if(v(k))return new b(h,h);if(g(k))return S=_(j(k),S),new b(j(S.g),j(S.h));if(g(S))return S=_(k,j(S)),new b(j(S.g),S.h);if(k.g.length>30){if(g(k)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var T=f,O=S;O.l(k)<=0;)T=w(T),O=w(O);var C=N(T,1),I=N(O,1);for(O=N(O,2),T=N(T,2);!v(O);){var M=I.add(O);M.l(k)<=0&&(C=C.add(T),I=M),O=N(O,1),T=N(T,1)}return S=x(k,C.j(S)),new b(C,S)}for(C=h;k.l(S)>=0;){for(T=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),I=u(T),M=I.j(S);g(M)||M.l(k)>0;)T-=O,I=u(T),M=I.j(S);v(I)&&(I=f),C=C.add(I),k=x(k,M)}return new b(C,k)}t.B=function(k){return _(this,k).h},t.and=function(k){const S=Math.max(this.g.length,k.g.length),T=[];for(let O=0;O<S;O++)T[O]=this.i(O)&k.i(O);return new o(T,this.h&k.h)},t.or=function(k){const S=Math.max(this.g.length,k.g.length),T=[];for(let O=0;O<S;O++)T[O]=this.i(O)|k.i(O);return new o(T,this.h|k.h)},t.xor=function(k){const S=Math.max(this.g.length,k.g.length),T=[];for(let O=0;O<S;O++)T[O]=this.i(O)^k.i(O);return new o(T,this.h^k.h)};function w(k){const S=k.g.length+1,T=[];for(let O=0;O<S;O++)T[O]=k.i(O)<<1|k.i(O-1)>>>31;return new o(T,k.h)}function N(k,S){const T=S>>5;S%=32;const O=k.g.length-T,C=[];for(let I=0;I<O;I++)C[I]=S>0?k.i(I+T)>>>S|k.i(I+T+1)<<32-S:k.i(I+T);return new o(C,k.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,k4=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ri=o}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A4,hu,T4,qf,xb,E4,P4,C4;(function(){var t,e=Object.defineProperty;function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var A=0;A<m.length;++A){var P=m[A];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(m,A){if(A)e:{var P=n;m=m.split(".");for(var D=0;D<m.length-1;D++){var z=m[D];if(!(z in P))break e;P=P[z]}m=m[m.length-1],D=P[m],A=A(D),A!=D&&A!=null&&e(P,m,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(A){var P=[],D;for(D in A)Object.prototype.hasOwnProperty.call(A,D)&&P.push([D,A[D]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,P){return m.call.apply(m.bind,arguments)}function u(m,A,P){return u=c,u.apply(null,arguments)}function d(m,A){var P=Array.prototype.slice.call(arguments,1);return function(){var D=P.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function h(m,A){function P(){}P.prototype=A.prototype,m.Z=A.prototype,m.prototype=new P,m.prototype.constructor=m,m.Ob=function(D,z,W){for(var te=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)te[ke-2]=arguments[ke];return A.prototype[z].apply(D,te)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const A=m.length;if(A>0){const P=Array(A);for(let D=0;D<A;D++)P[D]=m[D];return P}return[]}function v(m,A){for(let D=1;D<arguments.length;D++){const z=arguments[D];var P=typeof z;if(P=P!="object"?P:z?Array.isArray(z)?"array":P:"null",P=="array"||P=="object"&&typeof z.length=="number"){P=m.length||0;const W=z.length||0;m.length=P+W;for(let te=0;te<W;te++)m[P+te]=z[te]}else m.push(z)}}class g{constructor(A,P){this.i=A,this.j=P,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function j(m){o.setTimeout(()=>{throw m},0)}function x(){var m=k;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class y{constructor(){this.h=this.g=null}add(A,P){const D=b.get();D.set(A,P),this.h?this.h.next=D:this.g=D,this.h=D}}var b=new g(()=>new _,m=>m.reset());class _{constructor(){this.next=this.g=this.h=null}set(A,P){this.h=A,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let w,N=!1,k=new y,S=()=>{const m=Promise.resolve(void 0);w=()=>{m.then(T)}};function T(){for(var m;m=x();){try{m.h.call(m.g)}catch(P){j(P)}var A=b;A.j(m),A.h<100&&(A.h++,m.next=A.g,A.g=m)}N=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};o.addEventListener("test",P,A),o.removeEventListener("test",P,A)}catch{}return m}();function M(m){return/^[\s\xa0]*$/.test(m)}function B(m,A){C.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,A)}h(B,C),B.prototype.init=function(m,A){const P=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget,A||(P=="mouseover"?A=m.fromElement:P=="mouseout"&&(A=m.toElement)),this.relatedTarget=A,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var U="closure_listenable_"+(Math.random()*1e6|0),R=0;function V(m,A,P,D,z){this.listener=m,this.proxy=null,this.src=A,this.type=P,this.capture=!!D,this.ha=z,this.key=++R,this.da=this.fa=!1}function L(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function F(m,A,P){for(const D in m)A.call(P,m[D],D,m)}function H(m,A){for(const P in m)A.call(void 0,m[P],P,m)}function Y(m){const A={};for(const P in m)A[P]=m[P];return A}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(m,A){let P,D;for(let z=1;z<arguments.length;z++){D=arguments[z];for(P in D)m[P]=D[P];for(let W=0;W<J.length;W++)P=J[W],Object.prototype.hasOwnProperty.call(D,P)&&(m[P]=D[P])}}function Ae(m){this.src=m,this.g={},this.h=0}Ae.prototype.add=function(m,A,P,D,z){const W=m.toString();m=this.g[W],m||(m=this.g[W]=[],this.h++);const te=et(m,A,D,z);return te>-1?(A=m[te],P||(A.fa=!1)):(A=new V(A,this.src,W,!!D,z),A.fa=P,m.push(A)),A};function We(m,A){const P=A.type;if(P in m.g){var D=m.g[P],z=Array.prototype.indexOf.call(D,A,void 0),W;(W=z>=0)&&Array.prototype.splice.call(D,z,1),W&&(L(A),m.g[P].length==0&&(delete m.g[P],m.h--))}}function et(m,A,P,D){for(let z=0;z<m.length;++z){const W=m[z];if(!W.da&&W.listener==A&&W.capture==!!P&&W.ha==D)return z}return-1}var cr="closure_lm_"+(Math.random()*1e6|0),Ut={};function re(m,A,P,D,z){if(Array.isArray(A)){for(let W=0;W<A.length;W++)re(m,A[W],P,D,z);return null}return P=jn(P),m&&m[U]?m.J(A,P,l(D)?!!D.capture:!1,z):we(m,A,P,!1,D,z)}function we(m,A,P,D,z,W){if(!A)throw Error("Invalid event type");const te=l(z)?!!z.capture:!!z;let ke=ht(m);if(ke||(m[cr]=ke=new Ae(m)),P=ke.add(A,P,D,te,W),P.proxy)return P;if(D=_e(),P.proxy=D,D.src=m,D.listener=P,m.addEventListener)I||(z=te),z===void 0&&(z=!1),m.addEventListener(A.toString(),D,z);else if(m.attachEvent)m.attachEvent(Pe(A.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return P}function _e(){function m(P){return A.call(m.src,m.listener,P)}const A=wt;return m}function Q(m,A,P,D,z){if(Array.isArray(A))for(var W=0;W<A.length;W++)Q(m,A[W],P,D,z);else D=l(D)?!!D.capture:!!D,P=jn(P),m&&m[U]?(m=m.i,W=String(A).toString(),W in m.g&&(A=m.g[W],P=et(A,P,D,z),P>-1&&(L(A[P]),Array.prototype.splice.call(A,P,1),A.length==0&&(delete m.g[W],m.h--)))):m&&(m=ht(m))&&(A=m.g[A.toString()],m=-1,A&&(m=et(A,P,D,z)),(P=m>-1?A[m]:null)&&Ke(P))}function Ke(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[U])We(A.i,m);else{var P=m.type,D=m.proxy;A.removeEventListener?A.removeEventListener(P,D,m.capture):A.detachEvent?A.detachEvent(Pe(P),D):A.addListener&&A.removeListener&&A.removeListener(D),(P=ht(A))?(We(P,m),P.h==0&&(P.src=null,A[cr]=null)):L(m)}}}function Pe(m){return m in Ut?Ut[m]:Ut[m]="on"+m}function wt(m,A){if(m.da)m=!0;else{A=new B(A,this);const P=m.listener,D=m.ha||m.src;m.fa&&Ke(m),m=P.call(D,A)}return m}function ht(m){return m=m[cr],m instanceof Ae?m:null}var zt="__closure_events_fn_"+(Math.random()*1e9>>>0);function jn(m){return typeof m=="function"?m:(m[zt]||(m[zt]=function(A){return m.handleEvent(A)}),m[zt])}function ft(){O.call(this),this.i=new Ae(this),this.M=this,this.G=null}h(ft,O),ft.prototype[U]=!0,ft.prototype.removeEventListener=function(m,A,P,D){Q(this,m,A,P,D)};function kt(m,A){var P,D=m.G;if(D)for(P=[];D;D=D.G)P.push(D);if(m=m.M,D=A.type||A,typeof A=="string")A=new C(A,m);else if(A instanceof C)A.target=A.target||m;else{var z=A;A=new C(D,m),oe(A,z)}z=!0;let W,te;if(P)for(te=P.length-1;te>=0;te--)W=A.g=P[te],z=Jr(W,D,!0,A)&&z;if(W=A.g=m,z=Jr(W,D,!0,A)&&z,z=Jr(W,D,!1,A)&&z,P)for(te=0;te<P.length;te++)W=A.g=P[te],z=Jr(W,D,!1,A)&&z}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var m=this.i;for(const A in m.g){const P=m.g[A];for(let D=0;D<P.length;D++)L(P[D]);delete m.g[A],m.h--}}this.G=null},ft.prototype.J=function(m,A,P,D){return this.i.add(String(m),A,!1,P,D)},ft.prototype.K=function(m,A,P,D){return this.i.add(String(m),A,!0,P,D)};function Jr(m,A,P,D){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();let z=!0;for(let W=0;W<A.length;++W){const te=A[W];if(te&&!te.da&&te.capture==P){const ke=te.listener,It=te.ha||te.src;te.fa&&We(m.i,te),z=ke.call(It,D)!==!1&&z}}return z&&!D.defaultPrevented}function ds(m,A){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=u(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:o.setTimeout(m,A||0)}function go(m){m.g=ds(()=>{m.g=null,m.i&&(m.i=!1,go(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Eh extends O{constructor(A,P){super(),this.m=A,this.l=P,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(m){O.call(this),this.h=m,this.g={}}h(Qs,O);var l1=[];function c1(m){F(m.g,function(A,P){this.g.hasOwnProperty(P)&&Ke(A)},m),m.g={}}Qs.prototype.N=function(){Qs.Z.N.call(this),c1(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kx=o.JSON.stringify,a5=o.JSON.parse,o5=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function u1(){}function d1(){}var Nc={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ax(){C.call(this,"d")}h(Ax,C);function Tx(){C.call(this,"c")}h(Tx,C);var sa={},h1=null;function Ph(){return h1=h1||new ft}sa.Ia="serverreachability";function f1(m){C.call(this,sa.Ia,m)}h(f1,C);function _c(m){const A=Ph();kt(A,new f1(A))}sa.STAT_EVENT="statevent";function m1(m,A){C.call(this,sa.STAT_EVENT,m),this.stat=A}h(m1,C);function br(m){const A=Ph();kt(A,new m1(A,m))}sa.Ja="timingevent";function p1(m,A){C.call(this,sa.Ja,m),this.size=A}h(p1,C);function Sc(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},A)}function kc(){this.g=!0}kc.prototype.ua=function(){this.g=!1};function l5(m,A,P,D,z,W){m.info(function(){if(m.g)if(W){var te="",ke=W.split("&");for(let qe=0;qe<ke.length;qe++){var It=ke[qe].split("=");if(It.length>1){const Wt=It[0];It=It[1];const Bn=Wt.split("_");te=Bn.length>=2&&Bn[1]=="type"?te+(Wt+"="+It+"&"):te+(Wt+"=redacted&")}}}else te=null;else te=W;return"XMLHTTP REQ ("+D+") [attempt "+z+"]: "+A+`
`+P+`
`+te})}function c5(m,A,P,D,z,W,te){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+z+"]: "+A+`
`+P+`
`+W+" "+te})}function xo(m,A,P,D){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+d5(m,P)+(D?" "+D:"")})}function u5(m,A){m.info(function(){return"TIMEOUT: "+A})}kc.prototype.info=function(){};function d5(m,A){if(!m.g)return A;if(!A)return null;try{const W=JSON.parse(A);if(W){for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var P=W[m];if(!(P.length<2)){var D=P[1];if(Array.isArray(D)&&!(D.length<1)){var z=D[0];if(z!="noop"&&z!="stop"&&z!="close")for(let te=1;te<D.length;te++)D[te]=""}}}}return kx(W)}catch{return A}}var Ch={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},g1={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},x1;function Ex(){}h(Ex,u1),Ex.prototype.g=function(){return new XMLHttpRequest},x1=new Ex;function Ac(m){return encodeURIComponent(String(m))}function h5(m){var A=1;m=m.split(":");const P=[];for(;A>0&&m.length;)P.push(m.shift()),A--;return m.length&&P.push(m.join(":")),P}function Js(m,A,P,D){this.j=m,this.i=A,this.l=P,this.S=D||1,this.V=new Qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new v1}function v1(){this.i=null,this.g="",this.h=!1}var y1={},Px={};function Cx(m,A,P){m.M=1,m.A=Oh(Fn(A)),m.u=P,m.R=!0,b1(m,null)}function b1(m,A){m.F=Date.now(),Ih(m),m.B=Fn(m.A);var P=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),O1(P.i,"t",D),m.C=0,P=m.j.L,m.h=new v1,m.g=Q1(m.j,P?A:null,!m.u),m.P>0&&(m.O=new Eh(u(m.Y,m,m.g),m.P)),A=m.V,P=m.g,D=m.ba;var z="readystatechange";Array.isArray(z)||(z&&(l1[0]=z.toString()),z=l1);for(let W=0;W<z.length;W++){const te=re(P,z[W],D||A.handleEvent,!1,A.h||A);if(!te)break;A.g[te.key]=te}A=m.J?Y(m.J):{},m.u?(m.v||(m.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,A)):(m.v="GET",m.g.ea(m.B,m.v,null,A)),_c(),l5(m.i,m.v,m.B,m.l,m.S,m.u)}Js.prototype.ba=function(m){m=m.target;const A=this.O;A&&ti(m)==3?A.j():this.Y(m)},Js.prototype.Y=function(m){try{if(m==this.g)e:{const ke=ti(this.g),It=this.g.ya(),qe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||F1(this.g)))){this.K||ke!=4||It==7||(It==8||qe<=0?_c(3):_c(2)),Ix(this);var A=this.g.ca();this.X=A;var P=f5(this);if(this.o=A==200,c5(this.i,this.v,this.B,this.l,this.S,ke,A),this.o){if(this.U&&!this.L){t:{if(this.g){var D,z=this.g;if((D=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(D)){var W=D;break t}}W=null}if(m=W)xo(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ox(this,m);else{this.o=!1,this.m=3,br(12),ia(this),Tc(this);break e}}if(this.R){m=!0;let Wt;for(;!this.K&&this.C<P.length;)if(Wt=m5(this,P),Wt==Px){ke==4&&(this.m=4,br(14),m=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==y1){this.m=4,br(15),xo(this.i,this.l,P,"[Invalid Chunk]"),m=!1;break}else xo(this.i,this.l,Wt,null),Ox(this,Wt);if(j1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||P.length!=0||this.h.h||(this.m=1,br(16),m=!1),this.o=this.o&&m,!m)xo(this.i,this.l,P,"[Invalid Chunked Response]"),ia(this),Tc(this);else if(P.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Bx(te),te.P=!0,br(11))}}else xo(this.i,this.l,P,null),Ox(this,P);ke==4&&ia(this),this.o&&!this.K&&(ke==4?G1(this.j,this):(this.o=!1,Ih(this)))}else T5(this.g),A==400&&P.indexOf("Unknown SID")>0?(this.m=3,br(12)):(this.m=0,br(13)),ia(this),Tc(this)}}}catch{}finally{}};function f5(m){if(!j1(m))return m.g.la();const A=F1(m.g);if(A==="")return"";let P="";const D=A.length,z=ti(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ia(m),Tc(m),"";m.h.i=new o.TextDecoder}for(let W=0;W<D;W++)m.h.h=!0,P+=m.h.i.decode(A[W],{stream:!(z&&W==D-1)});return A.length=0,m.h.g+=P,m.C=0,m.h.g}function j1(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function m5(m,A){var P=m.C,D=A.indexOf(`
`,P);return D==-1?Px:(P=Number(A.substring(P,D)),isNaN(P)?y1:(D+=1,D+P>A.length?Px:(A=A.slice(D,D+P),m.C=D+P,A)))}Js.prototype.cancel=function(){this.K=!0,ia(this)};function Ih(m){m.T=Date.now()+m.H,w1(m,m.H)}function w1(m,A){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Sc(u(m.aa,m),A)}function Ix(m){m.D&&(o.clearTimeout(m.D),m.D=null)}Js.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(u5(this.i,this.B),this.M!=2&&(_c(),br(17)),ia(this),this.m=2,Tc(this)):w1(this,this.T-m)};function Tc(m){m.j.I==0||m.K||G1(m.j,m)}function ia(m){Ix(m);var A=m.O;A&&typeof A.dispose=="function"&&A.dispose(),m.O=null,c1(m.V),m.g&&(A=m.g,m.g=null,A.abort(),A.dispose())}function Ox(m,A){try{var P=m.j;if(P.I!=0&&(P.g==m||Mx(P.h,m))){if(!m.L&&Mx(P.h,m)&&P.I==3){try{var D=P.Ba.g.parse(A)}catch{D=null}if(Array.isArray(D)&&D.length==3){var z=D;if(z[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<m.F)$h(P),Rh(P);else break e;Fx(P),br(18)}}else P.xa=z[1],0<P.xa-P.K&&z[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Sc(u(P.Va,P),6e3));S1(P.h)<=1&&P.ta&&(P.ta=void 0)}else oa(P,11)}else if((m.L||P.g==m)&&$h(P),!M(A))for(z=P.Ba.g.parse(A),A=0;A<z.length;A++){let qe=z[A];const Wt=qe[0];if(!(Wt<=P.K))if(P.K=Wt,qe=qe[1],P.I==2)if(qe[0]=="c"){P.M=qe[1],P.ba=qe[2];const Bn=qe[3];Bn!=null&&(P.ka=Bn,P.j.info("VER="+P.ka));const la=qe[4];la!=null&&(P.za=la,P.j.info("SVER="+P.za));const ri=qe[5];ri!=null&&typeof ri=="number"&&ri>0&&(D=1.5*ri,P.O=D,P.j.info("backChannelRequestTimeoutMs_="+D)),D=P;const ni=m.g;if(ni){const Fh=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fh){var W=D.h;W.g||Fh.indexOf("spdy")==-1&&Fh.indexOf("quic")==-1&&Fh.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Dx(W,W.h),W.h=null))}if(D.G){const Ux=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ux&&(D.wa=Ux,tt(D.J,D.G,Ux))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-m.F,P.j.info("Handshake RTT: "+P.T+"ms")),D=P;var te=m;if(D.na=X1(D,D.L?D.ba:null,D.W),te.L){k1(D.h,te);var ke=te,It=D.O;It&&(ke.H=It),ke.D&&(Ix(ke),Ih(ke)),D.g=te}else H1(D);P.i.length>0&&Lh(P)}else qe[0]!="stop"&&qe[0]!="close"||oa(P,7);else P.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?oa(P,7):Vx(P):qe[0]!="noop"&&P.l&&P.l.qa(qe),P.A=0)}}_c(4)}catch{}}var p5=class{constructor(m,A){this.g=m,this.map=A}};function N1(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _1(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function S1(m){return m.h?1:m.g?m.g.size:0}function Mx(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Dx(m,A){m.g?m.g.add(A):m.h=A}function k1(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}N1.prototype.cancel=function(){if(this.i=A1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function A1(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const P of m.g.values())A=A.concat(P.G);return A}return p(m.i)}var T1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function g5(m,A){if(m){m=m.split("&");for(let P=0;P<m.length;P++){const D=m[P].indexOf("=");let z,W=null;D>=0?(z=m[P].substring(0,D),W=m[P].substring(D+1)):z=m[P],A(z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Zs(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;m instanceof Zs?(this.l=m.l,Ec(this,m.j),this.o=m.o,this.g=m.g,Pc(this,m.u),this.h=m.h,Rx(this,M1(m.i)),this.m=m.m):m&&(A=String(m).match(T1))?(this.l=!1,Ec(this,A[1]||"",!0),this.o=Cc(A[2]||""),this.g=Cc(A[3]||"",!0),Pc(this,A[4]),this.h=Cc(A[5]||"",!0),Rx(this,A[6]||"",!0),this.m=Cc(A[7]||"")):(this.l=!1,this.i=new Oc(null,this.l))}Zs.prototype.toString=function(){const m=[];var A=this.j;A&&m.push(Ic(A,E1,!0),":");var P=this.g;return(P||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Ic(A,E1,!0),"@"),m.push(Ac(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&m.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(Ic(P,P.charAt(0)=="/"?y5:v5,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",Ic(P,j5)),m.join("")},Zs.prototype.resolve=function(m){const A=Fn(this);let P=!!m.j;P?Ec(A,m.j):P=!!m.o,P?A.o=m.o:P=!!m.g,P?A.g=m.g:P=m.u!=null;var D=m.h;if(P)Pc(A,m.u);else if(P=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var z=A.h.lastIndexOf("/");z!=-1&&(D=A.h.slice(0,z+1)+D)}if(z=D,z==".."||z==".")D="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){D=z.lastIndexOf("/",0)==0,z=z.split("/");const W=[];for(let te=0;te<z.length;){const ke=z[te++];ke=="."?D&&te==z.length&&W.push(""):ke==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),D&&te==z.length&&W.push("")):(W.push(ke),D=!0)}D=W.join("/")}else D=z}return P?A.h=D:P=m.i.toString()!=="",P?Rx(A,M1(m.i)):P=!!m.m,P&&(A.m=m.m),A};function Fn(m){return new Zs(m)}function Ec(m,A,P){m.j=P?Cc(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function Pc(m,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);m.u=A}else m.u=null}function Rx(m,A,P){A instanceof Oc?(m.i=A,w5(m.i,m.l)):(P||(A=Ic(A,b5)),m.i=new Oc(A,m.l))}function tt(m,A,P){m.i.set(A,P)}function Oh(m){return tt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Cc(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ic(m,A,P){return typeof m=="string"?(m=encodeURI(m).replace(A,x5),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function x5(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var E1=/[#\/\?@]/g,v5=/[#\?:]/g,y5=/[#\?]/g,b5=/[#\?@]/g,j5=/#/g;function Oc(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function aa(m){m.g||(m.g=new Map,m.h=0,m.i&&g5(m.i,function(A,P){m.add(decodeURIComponent(A.replace(/\+/g," ")),P)}))}t=Oc.prototype,t.add=function(m,A){aa(this),this.i=null,m=vo(this,m);let P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(A),this.h+=1,this};function P1(m,A){aa(m),A=vo(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function C1(m,A){return aa(m),A=vo(m,A),m.g.has(A)}t.forEach=function(m,A){aa(this),this.g.forEach(function(P,D){P.forEach(function(z){m.call(A,z,D,this)},this)},this)};function I1(m,A){aa(m);let P=[];if(typeof A=="string")C1(m,A)&&(P=P.concat(m.g.get(vo(m,A))));else for(m=Array.from(m.g.values()),A=0;A<m.length;A++)P=P.concat(m[A]);return P}t.set=function(m,A){return aa(this),this.i=null,m=vo(this,m),C1(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=I1(this,m),m.length>0?String(m[0]):A):A};function O1(m,A,P){P1(m,A),P.length>0&&(m.i=null,m.g.set(vo(m,A),p(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(let D=0;D<A.length;D++){var P=A[D];const z=Ac(P);P=I1(this,P);for(let W=0;W<P.length;W++){let te=z;P[W]!==""&&(te+="="+Ac(P[W])),m.push(te)}}return this.i=m.join("&")};function M1(m){const A=new Oc;return A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),A}function vo(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function w5(m,A){A&&!m.j&&(aa(m),m.i=null,m.g.forEach(function(P,D){const z=D.toLowerCase();D!=z&&(P1(this,D),O1(this,z,P))},m)),m.j=A}function N5(m,A){const P=new kc;if(o.Image){const D=new Image;D.onload=d(ei,P,"TestLoadImage: loaded",!0,A,D),D.onerror=d(ei,P,"TestLoadImage: error",!1,A,D),D.onabort=d(ei,P,"TestLoadImage: abort",!1,A,D),D.ontimeout=d(ei,P,"TestLoadImage: timeout",!1,A,D),o.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else A(!1)}function _5(m,A){const P=new kc,D=new AbortController,z=setTimeout(()=>{D.abort(),ei(P,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:D.signal}).then(W=>{clearTimeout(z),W.ok?ei(P,"TestPingServer: ok",!0,A):ei(P,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(z),ei(P,"TestPingServer: error",!1,A)})}function ei(m,A,P,D,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),D(P)}catch{}}function S5(){this.g=new o5}function Lx(m){this.i=m.Sb||null,this.h=m.ab||!1}h(Lx,u1),Lx.prototype.g=function(){return new Mh(this.i,this.h)};function Mh(m,A){ft.call(this),this.H=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Mh,ft),t=Mh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=A,this.readyState=1,Dc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(A.body=m),(this.H||o).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mc(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Dc(this)),this.g&&(this.readyState=3,Dc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;D1(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function D1(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Mc(this):Dc(this),this.readyState==3&&D1(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,Mc(this))},t.Na=function(m){this.g&&(this.response=m,Mc(this))},t.ga=function(){this.g&&Mc(this)};function Mc(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Dc(m)}t.setRequestHeader=function(m,A){this.A.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var P=A.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=A.next();return m.join(`\r
`)};function Dc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function R1(m){let A="";return F(m,function(P,D){A+=D,A+=":",A+=P,A+=`\r
`}),A}function $x(m,A,P){e:{for(D in P){var D=!1;break e}D=!0}D||(P=R1(P),typeof m=="string"?P!=null&&Ac(P):tt(m,A,P))}function yt(m){ft.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(yt,ft);var k5=/^https?$/i,A5=["POST","PUT"];t=yt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,A,P,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():x1.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(W){L1(this,W);return}if(m=P||"",P=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var z in D)P.set(z,D[z]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const W of D.keys())P.set(W,D.get(W));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(P.keys()).find(W=>W.toLowerCase()=="content-type"),z=o.FormData&&m instanceof o.FormData,!(Array.prototype.indexOf.call(A5,A,void 0)>=0)||D||z||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of P)this.g.setRequestHeader(W,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(W){L1(this,W)}};function L1(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.o=5,$1(m),Dh(m)}function $1(m){m.A||(m.A=!0,kt(m,"complete"),kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,kt(this,"complete"),kt(this,"abort"),Dh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dh(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?V1(this):this.Xa())},t.Xa=function(){V1(this)};function V1(m){if(m.h&&typeof a<"u"){if(m.v&&ti(m)==4)setTimeout(m.Ca.bind(m),0);else if(kt(m,"readystatechange"),ti(m)==4){m.h=!1;try{const W=m.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var P;if(!(P=A)){var D;if(D=W===0){let te=String(m.D).match(T1)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),D=!k5.test(te?te.toLowerCase():"")}P=D}if(P)kt(m,"complete"),kt(m,"success");else{m.o=6;try{var z=ti(m)>2?m.g.statusText:""}catch{z=""}m.l=z+" ["+m.ca()+"]",$1(m)}}finally{Dh(m)}}}}function Dh(m,A){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const P=m.g;m.g=null,A||kt(m,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ti(m){return m.g?m.g.readyState:0}t.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),a5(A)}};function F1(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function T5(m){const A={};m=(m.g&&ti(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(M(m[D]))continue;var P=h5(m[D]);const z=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const W=A[z]||[];A[z]=W,W.push(P)}H(A,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rc(m,A,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||A}function B1(m){this.za=0,this.i=[],this.j=new kc,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rc("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rc("baseRetryDelayMs",5e3,m),this.Za=Rc("retryDelaySeedMs",1e4,m),this.Ta=Rc("forwardChannelMaxRetries",2,m),this.va=Rc("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new N1(m&&m.concurrentRequestLimit),this.Ba=new S5,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=B1.prototype,t.ka=8,t.I=1,t.connect=function(m,A,P,D){br(0),this.W=m,this.H=A||{},P&&D!==void 0&&(this.H.OSID=P,this.H.OAID=D),this.F=this.X,this.J=X1(this,null,this.W),Lh(this)};function Vx(m){if(U1(m),m.I==3){var A=m.V++,P=Fn(m.J);if(tt(P,"SID",m.M),tt(P,"RID",A),tt(P,"TYPE","terminate"),Lc(m,P),A=new Js(m,m.j,A),A.M=2,A.A=Oh(Fn(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(A.A.toString(),"")}catch{}!P&&o.Image&&(new Image().src=A.A,P=!0),P||(A.g=Q1(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Ih(A)}Y1(m)}function Rh(m){m.g&&(Bx(m),m.g.cancel(),m.g=null)}function U1(m){Rh(m),m.v&&(o.clearTimeout(m.v),m.v=null),$h(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&o.clearTimeout(m.m),m.m=null)}function Lh(m){if(!_1(m.h)&&!m.m){m.m=!0;var A=m.Ea;w||S(),N||(w(),N=!0),k.add(A,m),m.D=0}}function E5(m,A){return S1(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=A.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Sc(u(m.Ea,m,A),K1(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const z=new Js(this,this.j,m);let W=this.o;if(this.U&&(W?(W=Y(W),oe(W,this.U)):W=this.U),this.u!==null||this.R||(z.J=W,W=null),this.S)e:{for(var A=0,P=0;P<this.i.length;P++){t:{var D=this.i[P];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(A+=D,A>4096){A=P;break e}if(A===4096||P===this.i.length-1){A=P+1;break e}}A=1e3}else A=1e3;A=W1(this,z,A),P=Fn(this.J),tt(P,"RID",m),tt(P,"CVER",22),this.G&&tt(P,"X-HTTP-Session-Id",this.G),Lc(this,P),W&&(this.R?A="headers="+Ac(R1(W))+"&"+A:this.u&&$x(P,this.u,W)),Dx(this.h,z),this.Ra&&tt(P,"TYPE","init"),this.S?(tt(P,"$req",A),tt(P,"SID","null"),z.U=!0,Cx(z,P,null)):Cx(z,P,A),this.I=2}}else this.I==3&&(m?z1(this,m):this.i.length==0||_1(this.h)||z1(this))};function z1(m,A){var P;A?P=A.l:P=m.V++;const D=Fn(m.J);tt(D,"SID",m.M),tt(D,"RID",P),tt(D,"AID",m.K),Lc(m,D),m.u&&m.o&&$x(D,m.u,m.o),P=new Js(m,m.j,P,m.D+1),m.u===null&&(P.J=m.o),A&&(m.i=A.G.concat(m.i)),A=W1(m,P,1e3),P.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Dx(m.h,P),Cx(P,D,A)}function Lc(m,A){m.H&&F(m.H,function(P,D){tt(A,D,P)}),m.l&&F({},function(P,D){tt(A,D,P)})}function W1(m,A,P){P=Math.min(m.i.length,P);const D=m.l?u(m.l.Ka,m.l,m):null;e:{var z=m.i;let ke=-1;for(;;){const It=["count="+P];ke==-1?P>0?(ke=z[0].g,It.push("ofs="+ke)):ke=0:It.push("ofs="+ke);let qe=!0;for(let Wt=0;Wt<P;Wt++){var W=z[Wt].g;const Bn=z[Wt].map;if(W-=ke,W<0)ke=Math.max(0,z[Wt].g-100),qe=!1;else try{W="req"+W+"_"||"";try{var te=Bn instanceof Map?Bn:Object.entries(Bn);for(const[la,ri]of te){let ni=ri;l(ri)&&(ni=kx(ri)),It.push(W+la+"="+encodeURIComponent(ni))}}catch(la){throw It.push(W+"type="+encodeURIComponent("_badmap")),la}}catch{D&&D(Bn)}}if(qe){te=It.join("&");break e}}te=void 0}return m=m.i.splice(0,P),A.G=m,te}function H1(m){if(!m.g&&!m.v){m.Y=1;var A=m.Da;w||S(),N||(w(),N=!0),k.add(A,m),m.A=0}}function Fx(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Sc(u(m.Da,m),K1(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,q1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Sc(u(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,br(10),Rh(this),q1(this))};function Bx(m){m.B!=null&&(o.clearTimeout(m.B),m.B=null)}function q1(m){m.g=new Js(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var A=Fn(m.na);tt(A,"RID","rpc"),tt(A,"SID",m.M),tt(A,"AID",m.K),tt(A,"CI",m.F?"0":"1"),!m.F&&m.ia&&tt(A,"TO",m.ia),tt(A,"TYPE","xmlhttp"),Lc(m,A),m.u&&m.o&&$x(A,m.u,m.o),m.O&&(m.g.H=m.O);var P=m.g;m=m.ba,P.M=1,P.A=Oh(Fn(A)),P.u=null,P.R=!0,b1(P,m)}t.Va=function(){this.C!=null&&(this.C=null,Rh(this),Fx(this),br(19))};function $h(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function G1(m,A){var P=null;if(m.g==A){$h(m),Bx(m),m.g=null;var D=2}else if(Mx(m.h,A))P=A.G,k1(m.h,A),D=1;else return;if(m.I!=0){if(A.o)if(D==1){P=A.u?A.u.length:0,A=Date.now()-A.F;var z=m.D;D=Ph(),kt(D,new p1(D,P)),Lh(m)}else H1(m);else if(z=A.m,z==3||z==0&&A.X>0||!(D==1&&E5(m,A)||D==2&&Fx(m)))switch(P&&P.length>0&&(A=m.h,A.i=A.i.concat(P)),z){case 1:oa(m,5);break;case 4:oa(m,10);break;case 3:oa(m,6);break;default:oa(m,2)}}}function K1(m,A){let P=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(P*=2),P*A}function oa(m,A){if(m.j.info("Error code "+A),A==2){var P=u(m.bb,m),D=m.Ua;const z=!D;D=new Zs(D||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ec(D,"https"),Oh(D),z?N5(D.toString(),P):_5(D.toString(),P)}else br(2);m.I=0,m.l&&m.l.pa(A),Y1(m),U1(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),br(2)):(this.j.info("Failed to ping google.com"),br(1))};function Y1(m){if(m.I=0,m.ja=[],m.l){const A=A1(m.h);(A.length!=0||m.i.length!=0)&&(v(m.ja,A),v(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function X1(m,A,P){var D=P instanceof Zs?Fn(P):new Zs(P);if(D.g!="")A&&(D.g=A+"."+D.g),Pc(D,D.u);else{var z=o.location;D=z.protocol,A=A?A+"."+z.hostname:z.hostname,z=+z.port;const W=new Zs(null);D&&Ec(W,D),A&&(W.g=A),z&&Pc(W,z),P&&(W.h=P),D=W}return P=m.G,A=m.wa,P&&A&&tt(D,P,A),tt(D,"VER",m.ka),Lc(m,D),D}function Q1(m,A,P){if(A&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Aa&&!m.ma?new yt(new Lx({ab:P})):new yt(m.ma),A.Fa(m.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J1(){}t=J1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vh(){}Vh.prototype.g=function(m,A){return new Lr(m,A)};function Lr(m,A){ft.call(this),this.g=new B1(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(m?m["X-WebChannel-Client-Profile"]=A.sa:m={"X-WebChannel-Client-Profile":A.sa}),this.g.U=m,(m=A&&A.Qb)&&!M(m)&&(this.g.u=m),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!M(A)&&(this.g.G=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new yo(this)}h(Lr,ft),Lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Lr.prototype.close=function(){Vx(this.g)},Lr.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.v&&(P={},P.__data__=kx(m),m=P);A.i.push(new p5(A.Ya++,m)),A.I==3&&Lh(A)},Lr.prototype.N=function(){this.g.l=null,delete this.j,Vx(this.g),delete this.g,Lr.Z.N.call(this)};function Z1(m){Ax.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const P in A){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}h(Z1,Ax);function eN(){Tx.call(this),this.status=1}h(eN,Tx);function yo(m){this.g=m}h(yo,J1),yo.prototype.ra=function(){kt(this.g,"a")},yo.prototype.qa=function(m){kt(this.g,new Z1(m))},yo.prototype.pa=function(m){kt(this.g,new eN)},yo.prototype.oa=function(){kt(this.g,"b")},Vh.prototype.createWebChannel=Vh.prototype.g,Lr.prototype.send=Lr.prototype.o,Lr.prototype.open=Lr.prototype.m,Lr.prototype.close=Lr.prototype.close,C4=function(){return new Vh},P4=function(){return Ph()},E4=sa,xb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ch.NO_ERROR=0,Ch.TIMEOUT=8,Ch.HTTP_ERROR=6,qf=Ch,g1.COMPLETE="complete",T4=g1,d1.EventType=Nc,Nc.OPEN="a",Nc.CLOSE="b",Nc.ERROR="c",Nc.MESSAGE="d",ft.prototype.listen=ft.prototype.J,hu=d1,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,A4=yt}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",Z_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new uw("@firebase/firestore");function ko(){return Wa.logLevel}function ne(t,...e){if(Wa.logLevel<=Ce.DEBUG){const r=e.map(jw);Wa.debug(`Firestore (${ic}): ${t}`,...r)}}function Ls(t,...e){if(Wa.logLevel<=Ce.ERROR){const r=e.map(jw);Wa.error(`Firestore (${ic}): ${t}`,...r)}}function gl(t,...e){if(Wa.logLevel<=Ce.WARN){const r=e.map(jw);Wa.warn(`Firestore (${ic}): ${t}`,...r)}}function jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,I4(t,n,r)}function I4(t,e,r){let n=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ls(n),new Error(n)}function Ve(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||I4(e,i,n)}function je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ws{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(mr.UNAUTHENTICATED))}shutdown(){}}class EB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class PB{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Ve(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Li)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ve(typeof n.accessToken=="string",31837,{l:n}),new O4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class CB{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IB{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new CB(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OB{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Ve(this.o===void 0,3512);const n=a=>{a.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Ve(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new eS(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=MB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ie(t,e){return t<e?-1:t>e?1:0}function vb(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Sv(i)===Sv(a)?Ie(i,a):Sv(i)?1:-1}return Ie(t.length,e.length)}const DB=55296,RB=57343;function Sv(t){const e=t.charCodeAt(0);return e>=DB&&e<=RB}function xl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__name__";class Hn{constructor(e,r,n){r===void 0?r=0:r>e.length&&xe(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&xe(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Hn.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ie(e.length,r.length)}static compareSegments(e,r){const n=Hn.isNumericId(e),i=Hn.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Hn.extractNumericId(e).compare(Hn.extractNumericId(r)):vb(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class pt extends Hn{construct(e,r,n){return new pt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new pt(r)}static emptyPath(){return new pt([])}}const LB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Hn{construct(e,r,n){return new sr(e,r,n)}static isValidIdentifier(e){return LB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tS}static keyField(){return new sr([tS])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(a(),i++)}if(a(),o)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(r)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(pt.fromString(e))}static fromName(e){return new he(pt.fromString(e).popFirst(5))}static empty(){return new he(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return pt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,e,r){if(!r)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VB(t,e,r,n){if(e===!0&&n===!0)throw new ae(X.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function rS(t){if(!he.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function ud(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Nw(t);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const r={typeString:t};return e&&(r.value=e),r}function fh(t,e){if(!M4(t))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new ae(X.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=-62135596800,sS=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*sS);return new ot(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<nS)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sS}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fh(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Pt("string",ot._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new ot(0,0))}static max(){return new ye(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=-1;function FB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(n===1e9?new ot(r+1,0):new ot(r,n));return new Ui(i,he.empty(),e)}function BB(t){return new Ui(t.readTime,t.key,dd)}class Ui{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ui(ye.min(),he.empty(),dd)}static max(){return new Ui(ye.max(),he.empty(),dd)}}function UB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=he.comparator(t.documentKey,e.documentKey),r!==0?r:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==zB)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&r()},c=>n(c))}),o=!0,a===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>i(d))}})}static doWhile(e,r){return new K((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function HB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=-1;function jg(t){return t==null}function Mm(t){return t===0&&1/t==-1/0}function qB(t){return typeof t=="number"&&Number.isInteger(t)&&!Mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="";function GB(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=iS(e)),e=KB(t.get(r),e);return iS(e)}function KB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case D4:r+="";break;default:r+=a}}return r}function iS(t){return t+D4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function io(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function R4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,r){this.comparator=e,this.root=r||nr.EMPTY}insert(e,r){return new vt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}}class lf{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??nr.RED,this.left=i??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new nr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new nr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new oS(this.data.getIterator())}getIteratorFrom(e){return new oS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ft(this.comparator);return r.data=e,r}}class oS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new Cn([])}unionWith(e){let r=new Ft(sr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Cn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new L4("Invalid base64 string: "+a):a}}(e);return new lr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new lr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const YB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const r=YB.exec(t);if(Ve(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?lr.fromBase64String(t):lr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="server_timestamp",V4="__type__",F4="__previous_value__",B4="__local_write_time__";function Sw(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[V4])==null?void 0:n.stringValue)===$4}function wg(t){const e=t.mapValue.fields[F4];return Sw(e)?wg(e):e}function hd(t){const e=zi(t.mapValue.fields[B4].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,r,n,i,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Dm="(default)";class fd{constructor(e,r){this.projectId=e,this.database=r||Dm}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="__type__",QB="__max__",cf={mapValue:{}},z4="__vector__",Rm="value";function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sw(t)?4:ZB(t)?9007199254740991:JB(t)?10:11:xe(28295,{value:t})}function is(t,e){if(t===e)return!0;const r=Hi(t);if(r!==Hi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hd(t).isEqual(hd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=zi(i.timestampValue),l=zi(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Wi(i.bytesValue).isEqual(Wi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Nt(i.doubleValue),l=Nt(a.doubleValue);return o===l?Mm(o)===Mm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(aS(o)!==aS(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!is(o[c],l[c])))return!1;return!0}(t,e);default:return xe(52216,{left:t})}}function md(t,e){return(t.values||[]).find(r=>is(r,e))!==void 0}function vl(t,e){if(t===e)return 0;const r=Hi(t),n=Hi(e);if(r!==n)return Ie(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=Nt(a.integerValue||a.doubleValue),c=Nt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return lS(t.timestampValue,e.timestampValue);case 4:return lS(hd(t),hd(e));case 5:return vb(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Wi(a),c=Wi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ie(l[u],c[u]);if(d!==0)return d}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Ie(Nt(a.latitude),Nt(o.latitude));return l!==0?l:Ie(Nt(a.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var f,p,v,g;const l=a.fields||{},c=o.fields||{},u=(f=l[Rm])==null?void 0:f.arrayValue,d=(p=c[Rm])==null?void 0:p.arrayValue,h=Ie(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((g=d==null?void 0:d.values)==null?void 0:g.length)||0);return h!==0?h:cS(u,d)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===cf.mapValue&&o===cf.mapValue)return 0;if(a===cf.mapValue)return 1;if(o===cf.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=vb(c[h],d[h]);if(f!==0)return f;const p=vl(l[c[h]],u[d[h]]);if(p!==0)return p}return Ie(c.length,d.length)}(t.mapValue,e.mapValue);default:throw xe(23264,{he:r})}}function lS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const r=zi(t),n=zi(e),i=Ie(r.seconds,n.seconds);return i!==0?i:Ie(r.nanos,n.nanos)}function cS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=vl(r[i],n[i]);if(a)return a}return Ie(r.length,n.length)}function yl(t){return yb(t)}function yb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=zi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Wi(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return he.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=yb(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${yb(r.fields[o])}`;return i+"}"}(t.mapValue):xe(61005,{value:t})}function Gf(t){switch(Hi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wg(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return Wi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Gf(a),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return io(n.fields,(a,o)=>{i+=a.length+Gf(o)}),i}(t.mapValue);default:throw xe(13486,{value:t})}}function bb(t){return!!t&&"integerValue"in t}function kw(t){return!!t&&"arrayValue"in t}function uS(t){return!!t&&"nullValue"in t}function dS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function JB(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[U4])==null?void 0:n.stringValue)===z4}function Eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Eu(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Eu(t.arrayValue.values[r]);return e}return{...t}}function ZB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Kf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(r)}setAll(e){let r=sr.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=l.popLast()}o?n[l.lastSegment()]=Eu(o):i.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Kf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){io(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new on(Eu(this.value))}}function W4(t){const e=[];return io(t.fields,(r,n)=>{const i=new sr([r]);if(Kf(n)){const a=W4(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r,n,i,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new gr(e,0,ye.min(),ye.min(),ye.min(),on.empty(),0)}static newFoundDocument(e,r,n,i){return new gr(e,1,r,ye.min(),n,i,0)}static newNoDocument(e,r){return new gr(e,2,r,ye.min(),ye.min(),on.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,ye.min(),ye.min(),on.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,r){this.position=e,this.inclusive=r}}function hS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=he.comparator(he.fromName(o.referenceValue),r.key):n=vl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function fS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!is(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,r="asc"){this.field=e,this.dir=r}}function eU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{}class Rt extends H4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new rU(e,r,n):r==="array-contains"?new iU(e,n):r==="in"?new aU(e,n):r==="not-in"?new oU(e,n):r==="array-contains-any"?new lU(e,n):new Rt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new nU(e,n):new sU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(vl(r,this.value)):r!==null&&Hi(this.value)===Hi(r)&&this.matchesComparison(vl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends H4{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new as(e,r)}matches(e){return q4(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function q4(t){return t.op==="and"}function G4(t){return tU(t)&&q4(t)}function tU(t){for(const e of t.filters)if(e instanceof as)return!1;return!0}function jb(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+yl(t.value);if(G4(t))return t.filters.map(e=>jb(e)).join(",");{const e=t.filters.map(r=>jb(r)).join(",");return`${t.op}(${e})`}}function K4(t,e){return t instanceof Rt?function(n,i){return i instanceof Rt&&n.op===i.op&&n.field.isEqual(i.field)&&is(n.value,i.value)}(t,e):t instanceof as?function(n,i){return i instanceof as&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,l)=>a&&K4(o,i.filters[l]),!0):!1}(t,e):void xe(19439)}function Y4(t){return t instanceof Rt?function(r){return`${r.field.canonicalString()} ${r.op} ${yl(r.value)}`}(t):t instanceof as?function(r){return r.op.toString()+" {"+r.getFilters().map(Y4).join(" ,")+"}"}(t):"Filter"}class rU extends Rt{constructor(e,r,n){super(e,r,n),this.key=he.fromName(n.referenceValue)}matches(e){const r=he.comparator(e.key,this.key);return this.matchesComparison(r)}}class nU extends Rt{constructor(e,r){super(e,"in",r),this.keys=X4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sU extends Rt{constructor(e,r){super(e,"not-in",r),this.keys=X4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function X4(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>he.fromName(n.referenceValue))}class iU extends Rt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kw(r)&&md(r.arrayValue,this.value)}}class aU extends Rt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&md(this.value.arrayValue,r)}}class oU extends Rt{constructor(e,r){super(e,"not-in",r)}matches(e){if(md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!md(this.value.arrayValue,r)}}class lU extends Rt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>md(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,r=null,n=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function mS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new cU(t,e,r,n,i,a,o)}function Aw(t){const e=je(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>jb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),jg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>yl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>yl(n)).join(",")),e.Te=r}return e.Te}function Tw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!eU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!K4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fS(t.startAt,e.startAt)&&fS(t.endAt,e.endAt)}function wb(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,r=null,n=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uU(t,e,r,n,i,a,o,l){return new Ng(t,e,r,n,i,a,o,l)}function Ew(t){return new Ng(t)}function pS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dU(t){return t.collectionGroup!==null}function Pu(t){const e=je(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ft(sr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $m(a,n))}),r.has(sr.keyField().canonicalString())||e.Ie.push(new $m(sr.keyField(),n))}return e.Ie}function Jn(t){const e=je(t);return e.Ee||(e.Ee=hU(e,Pu(t))),e.Ee}function hU(t,e){if(t.limitType==="F")return mS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new $m(i.field,a)});const r=t.endAt?new Lm(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Lm(t.startAt.position,t.startAt.inclusive):null;return mS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Nb(t,e,r){return new Ng(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function _g(t,e){return Tw(Jn(t),Jn(e))&&t.limitType===e.limitType}function Q4(t){return`${Aw(Jn(t))}|lt:${t.limitType}`}function Ao(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Y4(i)).join(", ")}]`),jg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>yl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>yl(i)).join(",")),`Target(${n})`}(Jn(t))}; limitType=${t.limitType})`}function Sg(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):he.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Pu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,l,c){const u=hS(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Pu(n),i)||n.endAt&&!function(o,l,c){const u=hS(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Pu(n),i))}(t,e)}function fU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function J4(t){return(e,r)=>{let n=!1;for(const i of Pu(t)){const a=mU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function mU(t,e,r){const n=t.field.isKeyField()?he.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?vl(c,u):xe(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return R4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new vt(he.comparator);function $s(){return pU}const Z4=new vt(he.comparator);function fu(...t){let e=Z4;for(const r of t)e=e.insert(r.key,r);return e}function eO(t){let e=Z4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function _a(){return Cu()}function tO(){return Cu()}function Cu(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}const gU=new vt(he.comparator),xU=new Ft(he.comparator);function Oe(...t){let e=xU;for(const r of t)e=e.add(r);return e}const vU=new Ft(Ie);function yU(){return vU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mm(e)?"-0":e}}function rO(t){return{integerValue:""+t}}function bU(t,e){return qB(e)?rO(e):Pw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this._=void 0}}function jU(t,e,r){return t instanceof pd?function(i,a){const o={fields:{[V4]:{stringValue:$4},[B4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Sw(a)&&(a=wg(a)),a&&(o.fields[F4]=a),{mapValue:o}}(r,e):t instanceof gd?sO(t,e):t instanceof xd?iO(t,e):function(i,a){const o=nO(i,a),l=gS(o)+gS(i.Ae);return bb(o)&&bb(i.Ae)?rO(l):Pw(i.serializer,l)}(t,e)}function wU(t,e,r){return t instanceof gd?sO(t,e):t instanceof xd?iO(t,e):r}function nO(t,e){return t instanceof Vm?function(n){return bb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class pd extends kg{}class gd extends kg{constructor(e){super(),this.elements=e}}function sO(t,e){const r=aO(e);for(const n of t.elements)r.some(i=>is(i,n))||r.push(n);return{arrayValue:{values:r}}}class xd extends kg{constructor(e){super(),this.elements=e}}function iO(t,e){let r=aO(e);for(const n of t.elements)r=r.filter(i=>!is(i,n));return{arrayValue:{values:r}}}class Vm extends kg{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function gS(t){return Nt(t.integerValue||t.doubleValue)}function aO(t){return kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,r){this.field=e,this.transform=r}}function _U(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gd&&i instanceof gd||n instanceof xd&&i instanceof xd?xl(n.elements,i.elements,is):n instanceof Vm&&i instanceof Vm?is(n.Ae,i.Ae):n instanceof pd&&i instanceof pd}(t.transform,e.transform)}class SU{constructor(e,r){this.version=e,this.transformResults=r}}class As{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ag{}function oO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cO(t.key,As.none()):new mh(t.key,t.data,As.none());{const r=t.data,n=on.empty();let i=new Ft(sr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new oo(t.key,n,new Cn(i.toArray()),As.none())}}function kU(t,e,r){t instanceof mh?function(i,a,o){const l=i.value.clone(),c=vS(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof oo?function(i,a,o){if(!Yf(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=vS(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(lO(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Iu(t,e,r,n){return t instanceof mh?function(a,o,l,c){if(!Yf(a.precondition,o))return l;const u=a.value.clone(),d=yS(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof oo?function(a,o,l,c){if(!Yf(a.precondition,o))return l;const u=yS(a.fieldTransforms,c,o),d=o.data;return d.setAll(lO(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(a,o,l){return Yf(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function AU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=nO(n.transform,i||null);a!=null&&(r===null&&(r=on.empty()),r.set(n.field,a))}return r||null}function xS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xl(n,i,(a,o)=>_U(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends Ag{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends Ag{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function vS(t,e,r){const n=new Map;Ve(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);n.set(a.field,wU(o,l,r[i]))}return n}function yS(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,jU(a,o,e))}return n}class cO extends Ag{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TU extends Ag{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&kU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Iu(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=tO();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(i.key)?null:l;const c=oO(o,l);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ye.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Oe())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,(r,n)=>xS(r,n))&&xl(this.baseMutations,e.baseMutations,(r,n)=>xS(r,n))}}class Cw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Ve(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return gU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Cw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Me;function IU(t){switch(t){case X.OK:return xe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function uO(t){if(t===void 0)return Ls("GRPC error has no .code"),X.UNKNOWN;switch(t){case At.OK:return X.OK;case At.CANCELLED:return X.CANCELLED;case At.UNKNOWN:return X.UNKNOWN;case At.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case At.INTERNAL:return X.INTERNAL;case At.UNAVAILABLE:return X.UNAVAILABLE;case At.UNAUTHENTICATED:return X.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case At.NOT_FOUND:return X.NOT_FOUND;case At.ALREADY_EXISTS:return X.ALREADY_EXISTS;case At.PERMISSION_DENIED:return X.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case At.ABORTED:return X.ABORTED;case At.OUT_OF_RANGE:return X.OUT_OF_RANGE;case At.UNIMPLEMENTED:return X.UNIMPLEMENTED;case At.DATA_LOSS:return X.DATA_LOSS;default:return xe(39323,{code:t})}}(Me=At||(At={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new Ri([4294967295,4294967295],0);function bS(t){const e=OU().encode(t),r=new k4;return r.update(e),new Uint8Array(r.digest())}function jS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ri([r,n],0),new Ri([i,a],0)]}class Iw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new mu(`Invalid padding: ${r}`);if(n<0)throw new mu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new mu(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ri.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ri.fromNumber(n)));return i.compare(MU)===1&&(i=new Ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=bS(e),[n,i]=jS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Iw(a,i,r);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const r=bS(e),[n,i]=jS(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Tg(ye.min(),i,new vt(Ie),$s(),Oe())}}class ph{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ph(n,r,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class dO{constructor(e,r){this.targetId=e,this.Ce=r}}class hO{constructor(e,r,n=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class wS{constructor(){this.ve=0,this.Fe=NS(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),r=Oe(),n=Oe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:xe(38017,{changeType:a})}}),new ph(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=NS()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DU{constructor(e){this.Ge=e,this.ze=new Map,this.je=$s(),this.Je=uf(),this.He=uf(),this.Ye=new vt(Ie)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(wb(a))if(n===0){const o=new he(a.path);this.et(r,o,gr.newNoDocument(o,ye.min()))}else Ve(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,l;try{o=Wi(n).toUint8Array()}catch(c){if(c instanceof L4)return gl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Iw(o,i,a)}catch(c){return gl(c instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(r,a,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&wb(l.target)){const c=new he(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,gr.newNoDocument(c,e))}a.Be&&(r.set(o,a.ke()),a.qe())}});let n=Oe();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new Tg(e,r,this.Ye,this.je,n);return this.je=$s(),this.Je=uf(),this.He=uf(),this.Ye=new vt(Ie),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new wS,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ft(Ie),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ft(Ie),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ne("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wS),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function uf(){return new vt(he.comparator)}function NS(){return new vt(he.comparator)}const RU={asc:"ASCENDING",desc:"DESCENDING"},LU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$U={and:"AND",or:"OR"};class VU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function _b(t,e){return t.useProto3Json||jg(e)?e:{value:e}}function Fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FU(t,e){return Fm(t,e.toTimestamp())}function Zn(t){return Ve(!!t,49232),ye.fromTimestamp(function(r){const n=zi(r);return new ot(n.seconds,n.nanos)}(t))}function Ow(t,e){return Sb(t,e).canonicalString()}function Sb(t,e){const r=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function mO(t){const e=pt.fromString(t);return Ve(yO(e),10190,{key:e.toString()}),e}function kb(t,e){return Ow(t.databaseId,e.path)}function kv(t,e){const r=mO(e);if(r.get(1)!==t.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new he(gO(r))}function pO(t,e){return Ow(t.databaseId,e)}function BU(t){const e=mO(t);return e.length===4?pt.emptyPath():gO(e)}function Ab(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gO(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _S(t,e,r){return{name:kb(t,e),fields:r.value.mapValue.fields}}function UU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),lr.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),lr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?X.UNKNOWN:uO(u.code);return new ae(d,u.message||"")}(o);r=new hO(n,i,a,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=kv(t,n.document.name),a=Zn(n.document.updateTime),o=n.document.createTime?Zn(n.document.createTime):ye.min(),l=new on({mapValue:{fields:n.document.fields}}),c=gr.newFoundDocument(i,a,o,l),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Xf(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=kv(t,n.document),a=n.readTime?Zn(n.readTime):ye.min(),o=gr.newNoDocument(i,a),l=n.removedTargetIds||[];r=new Xf([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=kv(t,n.document),a=n.removedTargetIds||[];r=new Xf([],a,i,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new CU(i,a),l=n.targetId;r=new dO(l,o)}}return r}function zU(t,e){let r;if(e instanceof mh)r={update:_S(t,e.key,e.value)};else if(e instanceof cO)r={delete:kb(t,e.key)};else if(e instanceof oo)r={update:_S(t,e.key,e.data),updateMask:JU(e.fieldMask)};else{if(!(e instanceof TU))return xe(16599,{Vt:e.type});r={verify:kb(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof pd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof gd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Vm)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw xe(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:FU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe(27497)}(t,e.precondition)),r}function WU(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(r=>function(i,a){let o=i.updateTime?Zn(i.updateTime):Zn(a);return o.isEqual(ye.min())&&(o=Zn(a)),new SU(o,i.transformResults||[])}(r,e))):[]}function HU(t,e){return{documents:[pO(t,e.path)]}}function qU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=pO(t,i);const a=function(u){if(u.length!==0)return vO(as.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:To(f.field),direction:YU(f.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=_b(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function GU(t){let e=BU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ve(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(h){const f=xO(h);return f instanceof as&&G4(f)?f.getFilters():[f]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(f=>function(v){return new $m(Eo(v.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let l=null;r.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,jg(f)?null:f}(r.limit));let c=null;r.startAt&&(c=function(h){const f=!!h.before,p=h.values||[];return new Lm(p,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Lm(p,f)}(r.endAt)),uU(e,i,o,a,l,"F",c,u)}function KU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function xO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Eo(r.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Eo(r.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Eo(r.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(r.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(t):t.fieldFilter!==void 0?function(r){return Rt.create(Eo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return as.create(r.compositeFilter.filters.map(n=>xO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(r.compositeFilter.op))}(t):xe(30097,{filter:t})}function YU(t){return RU[t]}function XU(t){return LU[t]}function QU(t){return $U[t]}function To(t){return{fieldPath:t.canonicalString()}}function Eo(t){return sr.fromServerFormat(t.fieldPath)}function vO(t){return t instanceof Rt?function(r){if(r.op==="=="){if(dS(r.value))return{unaryFilter:{field:To(r.field),op:"IS_NAN"}};if(uS(r.value))return{unaryFilter:{field:To(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(dS(r.value))return{unaryFilter:{field:To(r.field),op:"IS_NOT_NAN"}};if(uS(r.value))return{unaryFilter:{field:To(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(r.field),op:XU(r.op),value:r.value}}}(t):t instanceof as?function(r){const n=r.getFilters().map(i=>vO(i));return n.length===1?n[0]:{compositeFilter:{op:QU(r.op),filters:n}}}(t):xe(54877,{filter:t})}function JU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function yO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,r,n,i,a=ye.min(),o=ye.min(),l=lr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.yt=e}}function e7(t){const e=GU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.Cn=new r7}addToCollectionParentIndex(e,r){return this.Cn.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(Ui.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class r7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ft(pt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bO=41943040;class Er{static withCacheSize(e){return new Er(e,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(bO,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bl(0)}static cr(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="LruGarbageCollector",n7=1048576;function AS([t,e],[r,n]){const i=Ie(t,r);return i===0?Ie(e,n):i}class s7{constructor(e){this.Ir=e,this.buffer=new Ft(AS),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();AS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class i7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ne(kS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){oc(r)?ne(kS,"Ignoring IndexedDB error during garbage collection: ",r):await ac(r)}await this.Vr(3e5)})}}class a7{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return K.resolve(bg.ce);const n=new s7(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(SS)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SS):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,l=Date.now(),this.removeTargets(e,n,r))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),ko()<=Ce.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h})))}}function o7(t,e){return new a7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.changes=new ao(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Iu(n.mutation,i,Cn.empty(),ot.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Oe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Oe()){const i=_a();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=fu();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=_a();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Oe()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,i){let a=$s();const o=Cu(),l=function(){return Cu()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof oo)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Iu(d.mutation,u,d.mutation.getFieldMask(),ot.now())):o.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>l.set(u,new c7(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,r){const n=Cu();let i=new vt((o,l)=>o-l),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Cn.empty();d=l.applyToLocalView(u,d),n.set(c,d);const h=(i.get(l.batchId)||Oe()).add(c);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=tO();d.forEach(f=>{if(!a.has(f)){const p=oO(r.get(f),n.get(f));p!==null&&h.set(f,p),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):dU(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):K.resolve(_a());let l=dd,c=a;return o.next(u=>K.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Oe())).next(d=>({batchId:l,changes:eO(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new he(r)).next(n=>{let i=fu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=fu();return this.indexManager.getCollectionParents(e,a).next(l=>K.forEach(l,c=>{const u=function(h,f){return new Ng(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,gr.newInvalidDocument(d)))});let l=fu();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Iu(d.mutation,u,Cn.empty(),ot.now()),Sg(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return K.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:e7(i.bundledQuery),readTime:Zn(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.overlays=new vt(he.comparator),this.qr=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=_a();return K.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.St(e,r,a)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=_a(),a=r.length+1,o=new he(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new vt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=_a(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=_a(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return K.resolve(l)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new PU(r,n));let a=this.qr.get(r);a===void 0&&(a=Oe(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Qr=new Ft(Ht.$r),this.Ur=new Ft(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Ht(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Ht(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new he(new pt([])),n=new Ht(r,e),i=new Ht(r,e+1),a=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new he(new pt([])),n=new Ht(r,e),i=new Ht(r,e+1);let a=Oe();return this.Ur.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new Ht(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ht{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return he.comparator(e.key,r.key)||Ie(e.Yr,r.Yr)}static Kr(e,r){return Ie(e.Yr,r.Yr)||he.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Ht.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EU(a,r,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Ht(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,r){return K.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?_w:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ht(r,0),i=new Ht(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ft(Ie);return r.forEach(i=>{const a=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{n=n.add(l.Yr)})}),K.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;he.isDocumentKey(a)||(a=a.child(""));const o=new Ht(new he(a),0);let l=new Ft(Ie);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),K.resolve(this.ti(l))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Ve(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return K.forEach(r.mutations,i=>{const a=new Ht(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Ht(r,0),i=this.Zr.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.ri=e,this.docs=function(){return new vt(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let n=$s();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=$s();const o=r.path,l=new he(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||UB(BB(d),n)<=0||(i.has(d.key)||Sg(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,r,n,i){xe(9500)}ii(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new g7(this)}getSize(e){return K.resolve(this.size)}}class g7 extends l7{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.persistence=e,this.si=new ao(r=>Aw(r),Tw),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Mw,this.targetCount=0,this.ai=bl.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),K.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new bl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Pr(r),K.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r){this.ui={},this.overlays={},this.ci=new bg(0),this.li=!1,this.li=!0,this.hi=new f7,this.referenceDelegate=e(this),this.Pi=new x7(this),this.indexManager=new t7,this.remoteDocumentCache=function(i){return new p7(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new ZU(r),this.Ii=new d7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new h7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new m7(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ne("MemoryPersistence","Starting transaction:",e);const i=new v7(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,r){return K.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class v7 extends WB{constructor(e){super(),this.currentSequenceNumber=e}}class Dw{constructor(e){this.persistence=e,this.Ri=new Mw,this.Vi=null}static mi(e){return new Dw(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),K.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,n=>{const i=he.fromPath(n);return this.gi(e,i).next(a=>{a||r.removeEntry(i,ye.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return K.or([()=>K.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Bm{constructor(e,r){this.persistence=e,this.pi=new ao(n=>GB(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=o7(this,r)}static mi(e,r){return new Bm(e,r)}Ei(){}di(e){return K.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return K.forEach(this.pi,(n,i)=>this.br(e,n,i).next(a=>a?K.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(l=>{l||(n++,a.removeEntry(o,ye.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Gf(e.data.value)),r}br(e,r,n){return K.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return K.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Oe(),i=Oe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Rw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return H8()?8:HB(yr())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new y7;return this.Ss(e,r,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,r,o,l.size)})}).next(()=>a.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(ko()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Ao(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(ko()<=Ce.DEBUG&&ne("QueryEngine","Query:",Ao(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(ko()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Ao(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(r))):K.resolve())}ys(e,r){if(pS(r))return K.resolve(null);let n=Jn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Nb(r,null,"F"),n=Jn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Oe(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,l);return this.Cs(r,u,o,c.readTime)?this.ys(e,Nb(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return pS(r)||i.isEqual(ye.min())?K.resolve(null):this.ps.getDocuments(e,n).next(a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?K.resolve(null):(ko()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ao(r)),this.vs(e,o,r,FB(i,dd)).next(l=>l))})}Ds(e,r){let n=new Ft(J4(e));return r.forEach((i,a)=>{Sg(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return ko()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Ao(r)),this.ps.getDocumentsMatchingQuery(e,r,Ui.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="LocalStore",j7=3e8;class w7{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new vt(Ie),this.xs=new ao(a=>Aw(a),Tw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function N7(t,e,r,n){return new w7(t,e,r,n)}async function wO(t,e){const r=je(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function _7(t,e){const r=je(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(g=>{const j=u.docVersions.get(v);Ve(j!==null,48541),g.version.compareTo(j)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Oe();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function NO(t){const e=je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function S7(t,e){const r=je(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;l.push(r.Pi.removeMatchingKeys(a,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(a,d.addedDocuments,h)));let p=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(lr.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,n)),i=i.insert(h,p),function(g,j,x){return g.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=j7?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,p,d)&&l.push(r.Pi.updateTargetData(a,p))});let c=$s(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(k7(a,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(ye.min())){const d=r.Pi.getLastRemoteSnapshotVersion(a).next(h=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));l.push(d)}return K.waitFor(l).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(r.Ms=i,a))}function k7(t,e,r){let n=Oe(),i=Oe();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=$s();return r.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(ye.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(Lw,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function A7(t,e){const r=je(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=_w),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function T7(t,e){const r=je(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(a=>a?(i=a,K.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new wi(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function Tb(t,e,r){const n=je(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!oc(o))throw o;ne(Lw,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function TS(t,e,r){const n=je(t);let i=ye.min(),a=Oe();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=je(c),f=h.xs.get(d);return f!==void 0?K.resolve(h.Ms.get(f)):h.Pi.getTargetData(u,d)}(n,o,Jn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:ye.min(),r?a:Oe())).next(l=>(E7(n,fU(e),l),{documents:l,Qs:a})))}function E7(t,e,r){let n=t.Os.get(e)||ye.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.Os.set(e,n)}class ES{constructor(){this.activeTargetIds=yU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P7{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="ConnectivityMonitor";class CS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ne(PS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ne(PS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df=null;function Eb(){return df===null?df=function(){return 268435456+Math.round(2147483648*Math.random())}():df++,"0x"+df.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="RestConnection",I7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class O7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Dm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=Eb(),l=this.zo(e,r.toUriEncodedString());ne(Av,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:u}=new URL(l),d=rc(u);return this.Jo(e,l,c,n,d).then(h=>(ne(Av,`Received RPC '${e}' ${o}: `,h),h),h=>{throw gl(Av,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",n),h})}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ic}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}zo(e,r){const n=I7[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class D7 extends O7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=Eb();return new Promise((l,c)=>{const u=new A4;u.setWithCredentials(!0),u.listenOnce(T4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qf.NO_ERROR:const h=u.getResponseJson();ne(hr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case qf.TIMEOUT:ne(hr,`RPC '${e}' ${o} timed out`),c(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const f=u.getStatus();if(ne(hr,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(y)>=0?y:X.UNKNOWN}(v.status);c(new ae(g,v.message))}else c(new ae(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ae(X.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ne(hr,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);ne(hr,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=Eb(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=C4(),l=P4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");ne(hr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let f=!1,p=!1;const v=new M7({Yo:j=>{p?ne(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(f||(ne(hr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ne(hr,`RPC '${e}' stream ${i} sending:`,j),h.send(j))},Zo:()=>h.close()}),g=(j,x,y)=>{j.listen(x,b=>{try{y(b)}catch(_){setTimeout(()=>{throw _},0)}})};return g(h,hu.EventType.OPEN,()=>{p||(ne(hr,`RPC '${e}' stream ${i} transport opened.`),v.o_())}),g(h,hu.EventType.CLOSE,()=>{p||(p=!0,ne(hr,`RPC '${e}' stream ${i} transport closed`),v.a_(),this.E_(h))}),g(h,hu.EventType.ERROR,j=>{p||(p=!0,gl(hr,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),v.a_(new ae(X.UNAVAILABLE,"The operation could not be completed")))}),g(h,hu.EventType.MESSAGE,j=>{var x;if(!p){const y=j.data[0];Ve(!!y,16349);const b=y,_=(b==null?void 0:b.error)||((x=b[0])==null?void 0:x.error);if(_){ne(hr,`RPC '${e}' stream ${i} received error:`,_);const w=_.status;let N=function(T){const O=At[T];if(O!==void 0)return uO(O)}(w),k=_.message;N===void 0&&(N=X.INTERNAL,k="Unknown error status: "+w+" with message "+_.message),p=!0,v.a_(new ae(N,k)),h.close()}else ne(hr,`RPC '${e}' stream ${i} received:`,y),v.u_(y)}}),g(l,E4.STAT_EVENT,j=>{j.stat===xb.PROXY?ne(hr,`RPC '${e}' stream ${i} detected buffering proxy`):j.stat===xb.NOPROXY&&ne(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.__()},0),v}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t){return new VU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="PersistentStream";class SO{constructor(e,r,n,i,a,o,l,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _O(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(Ls(r.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new ae(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(IS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(ne(IS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R7 extends SO{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=UU(this.serializer,e),n=function(a){if(!("targetChange"in a))return ye.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Zn(o.readTime):ye.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Ab(this.serializer),r.addTarget=function(a,o){let l;const c=o.target;if(l=wb(c)?{documents:HU(a,c)}:{query:qU(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=fO(a,o.resumeToken);const u=_b(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=Fm(a,o.snapshotVersion.toTimestamp());const u=_b(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const n=KU(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Ab(this.serializer),r.removeTarget=e,this.q_(r)}}class L7 extends SO{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=WU(e.writeResults,e.commitTime),n=Zn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Ab(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>zU(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{}class V7 extends $7{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,Sb(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(X.UNKNOWN,a.toString())})}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Sb(r,n),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(X.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class F7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(r),this.aa=!1):ne("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class B7{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{lo(this)&&(ne(Ha,"Restarting streams for network reachability change."),await async function(c){const u=je(c);u.Ea.add(4),await gh(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Pg(u)}(this))})}),this.Ra=new F7(n,i)}}async function Pg(t){if(lo(t))for(const e of t.da)await e(!0)}async function gh(t){for(const e of t.da)await e(!1)}function kO(t,e){const r=je(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Bw(r)?Fw(r):lc(r).O_()&&Vw(r,e))}function $w(t,e){const r=je(t),n=lc(r);r.Ia.delete(e),n.O_()&&AO(r,e),r.Ia.size===0&&(n.O_()?n.L_():lo(r)&&r.Ra.set("Unknown"))}function Vw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}lc(t).Y_(e)}function AO(t,e){t.Va.Ue(e),lc(t).Z_(e)}function Fw(t){t.Va=new DU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Ra.ua()}function Bw(t){return lo(t)&&!lc(t).x_()&&t.Ia.size>0}function lo(t){return je(t).Ea.size===0}function TO(t){t.Va=void 0}async function U7(t){t.Ra.set("Online")}async function z7(t){t.Ia.forEach((e,r)=>{Vw(t,e)})}async function W7(t,e){TO(t),Bw(t)?(t.Ra.ha(e),Fw(t)):t.Ra.set("Unknown")}async function H7(t,e,r){if(t.Ra.set("Online"),e instanceof hO&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(n){ne(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Um(t,n)}else if(e instanceof Xf?t.Va.Ze(e):e instanceof dO?t.Va.st(e):t.Va.tt(e),!r.isEqual(ye.min()))try{const n=await NO(t.localStore);r.compareTo(n)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(lr.EMPTY_BYTE_STRING,d.snapshotVersion)),AO(a,c);const h=new wi(d.target,c,u,d.sequenceNumber);Vw(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,r)}catch(n){ne(Ha,"Failed to raise snapshot:",n),await Um(t,n)}}async function Um(t,e,r){if(!oc(e))throw e;t.Ea.add(1),await gh(t),t.Ra.set("Offline"),r||(r=()=>NO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ha,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Pg(t)})}function EO(t,e){return e().catch(r=>Um(t,r,e))}async function Cg(t){const e=je(t),r=qi(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_w;for(;q7(e);)try{const i=await A7(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,G7(e,i)}catch(i){await Um(e,i)}PO(e)&&CO(e)}function q7(t){return lo(t)&&t.Ta.length<10}function G7(t,e){t.Ta.push(e);const r=qi(t);r.O_()&&r.X_&&r.ea(e.mutations)}function PO(t){return lo(t)&&!qi(t).x_()&&t.Ta.length>0}function CO(t){qi(t).start()}async function K7(t){qi(t).ra()}async function Y7(t){const e=qi(t);for(const r of t.Ta)e.ea(r.mutations)}async function X7(t,e,r){const n=t.Ta.shift(),i=Cw.from(n,e,r);await EO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cg(t)}async function Q7(t,e){e&&qi(t).X_&&await async function(n,i){if(function(o){return IU(o)&&o!==X.ABORTED}(i.code)){const a=n.Ta.shift();qi(n).B_(),await EO(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Cg(n)}}(t,e),PO(t)&&CO(t)}async function OS(t,e){const r=je(t);r.asyncQueue.verifyOperationInProgress(),ne(Ha,"RemoteStore received new credentials");const n=lo(r);r.Ea.add(3),await gh(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Pg(r)}async function J7(t,e){const r=je(t);e?(r.Ea.delete(2),await Pg(r)):e||(r.Ea.add(2),await gh(r),r.Ra.set("Unknown"))}function lc(t){return t.ma||(t.ma=function(r,n,i){const a=je(r);return a.sa(),new R7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:U7.bind(null,t),t_:z7.bind(null,t),r_:W7.bind(null,t),H_:H7.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Bw(t)?Fw(t):t.Ra.set("Unknown")):(await t.ma.stop(),TO(t))})),t.ma}function qi(t){return t.fa||(t.fa=function(r,n,i){const a=je(r);return a.sa(),new L7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:K7.bind(null,t),r_:Q7.bind(null,t),ta:Y7.bind(null,t),na:X7.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Cg(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(Ha,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,l=new Uw(e,r,o,i,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zw(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),oc(t))return new ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||he.comparator(r.key,n.key):(r,n)=>he.comparator(r.key,n.key),this.keyedMap=fu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new nl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.ga=new vt(he.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class jl{constructor(e,r,n,i,a,o,l,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(l=>{o.push({type:0,doc:l})}),new jl(e,r,nl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ez{constructor(){this.queries=DS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=je(r),a=i.queries;i.queries=DS(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function DS(){return new ao(t=>Q4(t),_g)}async function tz(t,e){const r=je(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Z7,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const l=zw(o,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(l)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&Ww(r)}async function rz(t,e){const r=je(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function nz(t,e){const r=je(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&Ww(r)}function sz(t,e,r){const n=je(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function Ww(t){t.Ca.forEach(e=>{e.next()})}var Pb,RS;(RS=Pb||(Pb={})).Ma="default",RS.Cache="cache";class iz{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new jl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.key=e}}class OO{constructor(e){this.key=e}}class az{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=J4(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new MS,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Sg(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let j=!1;f&&p?f.data.isEqual(p.data)?v!==g&&(n.track({type:3,doc:p}),j=!0):this.su(f,p)||(n.track({type:2,doc:p}),j=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!f&&p?(n.track({type:0,doc:p}),j=!0):f&&!p&&(n.track({type:1,doc:f}),j=!0,(c||u)&&(l=!0)),j&&(p?(o=o.add(p),a=g?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:l,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,v){const g=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:j})}};return g(p)-g(v)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const l=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new jl(this.query,e.tu,a,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new MS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new OO(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new IO(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Oe();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hw="SyncEngine";class oz{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class lz{constructor(e){this.key=e,this.hu=!1}}class cz{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ao(l=>Q4(l),_g),this.Iu=new Map,this.Eu=new Set,this.du=new vt(he.comparator),this.Au=new Map,this.Ru=new Mw,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uz(t,e,r=!0){const n=VO(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await MO(n,e,r,!0),i}async function dz(t,e){const r=VO(t);await MO(r,e,!0,!1)}async function MO(t,e,r,n){const i=await T7(t.localStore,Jn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let l;return n&&(l=await hz(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&kO(t.remoteStore,i),l}async function hz(t,e,r,n,i){t.pu=(h,f,p)=>async function(g,j,x,y){let b=j.view.ru(x);b.Cs&&(b=await TS(g.localStore,j.query,!1).then(({documents:k})=>j.view.ru(k,b)));const _=y&&y.targetChanges.get(j.targetId),w=y&&y.targetMismatches.get(j.targetId)!=null,N=j.view.applyChanges(b,g.isPrimaryClient,_,w);return $S(g,j.targetId,N.au),N.snapshot}(t,h,f,p);const a=await TS(t.localStore,e,!0),o=new az(e,a.Qs),l=o.ru(a.documents),c=ph.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);$S(t,r,u.au);const d=new oz(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function fz(t,e,r){const n=je(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(o=>!_g(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Tb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&$w(n.remoteStore,i.targetId),Cb(n,i.targetId)}).catch(ac)):(Cb(n,i.targetId),await Tb(n.localStore,i.targetId,!0))}async function mz(t,e){const r=je(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$w(r.remoteStore,n.targetId))}async function pz(t,e,r){const n=wz(t);try{const i=await function(o,l){const c=je(o),u=ot.now(),d=l.reduce((p,v)=>p.add(v.key),Oe());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=$s(),g=Oe();return c.Ns.getEntries(p,d).next(j=>{v=j,v.forEach((x,y)=>{y.isValidDocument()||(g=g.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(j=>{h=j;const x=[];for(const y of l){const b=AU(y,h.get(y.key).overlayedDocument);b!=null&&x.push(new oo(y.key,b,W4(b.value.mapValue),As.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,x,l)}).next(j=>{f=j;const x=j.applyToLocalDocumentSet(h,g);return c.documentOverlayCache.saveOverlays(p,j.batchId,x)})}).then(()=>({batchId:f.batchId,changes:eO(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new vt(Ie)),u=u.insert(l,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await xh(n,i.changes),await Cg(n.remoteStore)}catch(i){const a=zw(i,"Failed to persist write");r.reject(a)}}async function DO(t,e){const r=je(t);try{const n=await S7(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Au.get(a);o&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ve(o.hu,14607):i.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await xh(r,n,e)}catch(n){await ac(n)}}function LS(t,e,r){const n=je(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=je(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.va(l)&&(u=!0)}),u&&Ww(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function gz(t,e,r){const n=je(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new vt(he.comparator);o=o.insert(a,gr.newNoDocument(a,ye.min()));const l=Oe().add(a),c=new Tg(ye.min(),new Map,new vt(Ie),o,l);await DO(n,c),n.du=n.du.remove(a),n.Au.delete(e),qw(n)}else await Tb(n.localStore,e,!1).then(()=>Cb(n,e,r)).catch(ac)}async function xz(t,e){const r=je(t),n=e.batch.batchId;try{const i=await _7(r.localStore,e);LO(r,n,null),RO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await xh(r,i)}catch(i){await ac(i)}}async function vz(t,e,r){const n=je(t);try{const i=await function(o,l){const c=je(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Ve(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);LO(n,e,r),RO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await xh(n,i)}catch(i){await ac(i)}}function RO(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function LO(t,e,r){const n=je(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Cb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||$O(t,n)})}function $O(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&($w(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),qw(t))}function $S(t,e,r){for(const n of r)n instanceof IO?(t.Ru.addReference(n.key,e),yz(t,n)):n instanceof OO?(ne(Hw,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||$O(t,n.key)):xe(19791,{wu:n})}function yz(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ne(Hw,"New document in limbo: "+r),t.Eu.add(n),qw(t))}function qw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new he(pt.fromString(e)),n=t.fu.next();t.Au.set(n,new lz(r)),t.du=t.du.insert(r,n),kO(t.remoteStore,new wi(Jn(Ew(r.path)),n,"TargetPurposeLimboResolution",bg.ce))}}async function xh(t,e,r){const n=je(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Rw.As(c.targetId,u);a.push(h)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=je(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.Es,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.ds,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!oc(h))throw h;ne(Lw,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.Ms.get(f),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);d.Ms=d.Ms.insert(f,g)}}}(n.localStore,a))}async function bz(t,e){const r=je(t);if(!r.currentUser.isEqual(e)){ne(Hw,"User change. New user:",e.toKey());const n=await wO(r.localStore,e);r.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new ae(X.CANCELLED,o))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await xh(r,n.Ls)}}function jz(t,e){const r=je(t),n=r.Au.get(e);if(n&&n.hu)return Oe().add(n.key);{let i=Oe();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const l=r.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function VO(t){const e=je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gz.bind(null,e),e.Pu.H_=nz.bind(null,e.eventManager),e.Pu.yu=sz.bind(null,e.eventManager),e}function wz(t){const e=je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vz.bind(null,e),e}class zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return N7(this.persistence,new b7,e.initialUser,this.serializer)}Cu(e){return new jO(Dw.mi,this.serializer)}Du(e){return new P7}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zm.provider={build:()=>new zm};class Nz extends zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Ve(this.persistence.referenceDelegate instanceof Bm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new i7(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new jO(n=>Bm.mi(n,r),this.serializer)}}class Ib{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>LS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bz.bind(null,this.syncEngine),await J7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ez}()}createDatastore(e){const r=Eg(e.databaseInfo.databaseId),n=function(a){return new D7(a)}(e.databaseInfo);return function(a,o,l,c){return new V7(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,l){return new B7(n,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>LS(this.syncEngine,r,0),function(){return CS.v()?new CS:new C7}())}createSyncEngine(e,r){return function(i,a,o,l,c,u,d){const h=new cz(i,a,o,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=je(i);ne(Ha,"RemoteStore shutting down."),a.Ea.add(5),await gh(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Ib.provider={build:()=>new Ib};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="FirestoreClient";class Sz{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=ww.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ne(Gi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ne(Gi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=zw(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Gi,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await wO(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await kz(t);ne(Gi,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>OS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>OS(e.remoteStore,i)),t._onlineComponents=e}async function kz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Gi,"Using user provided OfflineComponentProvider");try{await Ev(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;gl("Error using user provided cache. Falling back to memory cache: "+r),await Ev(t,new zm)}}else ne(Gi,"Using default OfflineComponentProvider"),await Ev(t,new Nz(void 0));return t._offlineComponents}async function FO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Gi,"Using user provided OnlineComponentProvider"),await VS(t,t._uninitializedComponentsProvider._online)):(ne(Gi,"Using default OnlineComponentProvider"),await VS(t,new Ib))),t._onlineComponents}function Az(t){return FO(t).then(e=>e.syncEngine)}async function Tz(t){const e=await FO(t),r=e.eventManager;return r.onListen=uz.bind(null,e.syncEngine),r.onUnlisten=fz.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=dz.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=mz.bind(null,e.syncEngine),r}function Ez(t,e,r={}){const n=new Li;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new _z({next:f=>{d.Nu(),o.enqueueAndForget(()=>rz(a,h));const p=f.docs.has(l);!p&&f.fromCache?u.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?u.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new iz(Ew(l.path),d,{includeMetadataChanges:!0,qa:!0});return tz(a,h)}(await Tz(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firestore.googleapis.com",BS=!0;class US{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UO,this.ssl=BS}else this.host=e.host,this.ssl=e.ssl??BS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n7)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BO(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new US({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new US(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new TB;switch(n.type){case"firstParty":return new IB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=FS.get(r);n&&(ne("ComponentProvider","Removing Datastore"),FS.delete(r),n.terminate())}(this),Promise.resolve()}}function Pz(t,e,r,n={}){var u;t=ud(t,Gw);const i=rc(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${r}`;i&&($I(`https://${l}`),VI("Firestore",!0)),a.host!==UO&&a.host!==l&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:n};if(!Fa(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=mr.MOCK_USER;else{d=R8(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mr(f)}t._authCredentials=new EB(new O4(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Kw(this.firestore,e,this._query)}}class Yt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(fh(r,Yt._jsonSchema))return new Yt(e,n||null,new he(pt.fromString(r.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Pt("string",Yt._jsonSchemaVersion),referencePath:Pt("string")};class vd extends Kw{constructor(e,r,n){super(e,r,Ew(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new he(e))}withConverter(e){return new vd(this.firestore,e,this._path)}}function zS(t,e,...r){if(t=Yr(t),arguments.length===1&&(e=ww.newId()),$B("doc","path",e),t instanceof Gw){const n=pt.fromString(e,...r);return rS(n),new Yt(t,null,new he(n))}{if(!(t instanceof Yt||t instanceof vd))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pt.fromString(e,...r));return rS(n),new Yt(t.firestore,t instanceof vd?t.converter:null,new he(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="AsyncQueue";class HS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _O(this,"async_queue_retry"),this._c=()=>{const n=Tv();n&&ne(WS,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Tv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Tv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Li;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!oc(e))throw e;ne(WS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",qS(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Uw.createAndSchedule(this,e,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&xe(47125,{Pc:qS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function qS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yw extends Gw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new HS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HS(e),this._firestoreClient=void 0,await e}}}function Cz(t,e){const r=typeof t=="object"?t:zI(),n=typeof t=="string"?t:Dm,i=hw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=M8("firestore");a&&Pz(i,...a)}return i}function zO(t){if(t._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Iz(t),t._firestoreClient}function Iz(t){var n,i,a;const e=t._freezeSettings(),r=function(l,c,u,d){return new XB(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,BO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Sz(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(lr.fromBase64String(e))}catch(r){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ln(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fh(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Pt("string",ln._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:es._jsonSchemaVersion}}static fromJSON(e){if(fh(e,es._jsonSchema))return new es(e.latitude,e.longitude)}}es._jsonSchemaVersion="firestore/geoPoint/1.0",es._jsonSchema={type:Pt("string",es._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fh(e,ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new ts(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ts._jsonSchemaVersion="firestore/vectorValue/1.0",ts._jsonSchema={type:Pt("string",ts._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=/^__.*__$/;class Mz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new oo(e,this.data,this.fieldMask,r,this.fieldTransforms):new mh(e,this.data,r,this.fieldTransforms)}}function WO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class Jw{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WO(this.Ac)&&Oz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Dz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Eg(e)}Cc(e,r,n,i=!1){return new Jw({Ac:e,methodName:r,Dc:n,path:sr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rz(t){const e=t._freezeSettings(),r=Eg(t._databaseId);return new Dz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Lz(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);KO("Data must be an object, but it was:",o,n);const l=qO(n,o);let c,u;if(a.merge)c=new Cn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=$z(e,h,r);if(!o.contains(f))throw new ae(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Fz(d,f)||d.push(f)}c=new Cn(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new Mz(new on(l),c,u)}class Zw extends Qw{_toFieldTransform(e){return new NU(e.path,new pd)}isEqual(e){return e instanceof Zw}}function HO(t,e){if(GO(t=Yr(t)))return KO("Unsupported field value:",e,t),qO(t,e);if(t instanceof Qw)return function(n,i){if(!WO(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const l of n){let c=HO(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Yr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ot.fromDate(n);return{timestampValue:Fm(i.serializer,a)}}if(n instanceof ot){const a=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fm(i.serializer,a)}}if(n instanceof es)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ln)return{bytesValue:fO(i.serializer,n._byteString)};if(n instanceof Yt){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ow(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ts)return function(o,l){return{mapValue:{fields:{[U4]:{stringValue:z4},[Rm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return Pw(l.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Nw(n)}`)}(t,e)}function qO(t,e){const r={};return R4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(n,i)=>{const a=HO(i,e.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function GO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof es||t instanceof ln||t instanceof Yt||t instanceof Qw||t instanceof ts)}function KO(t,e,r){if(!GO(r)||!M4(r)){const n=Nw(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function $z(t,e,r){if((e=Yr(e))instanceof Xw)return e._internalPath;if(typeof e=="string")return YO(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,r)}const Vz=new RegExp("[~\\*/\\[\\]]");function YO(t,e,r){if(e.search(Vz)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Xw(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wm(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new ae(X.INVALID_ARGUMENT,l+t+c)}function Fz(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(QO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Bz extends XO{data(){return super.data()}}function QO(t,e){return typeof e=="string"?YO(t,e):e instanceof Xw?e._internalPath:e._delegate._internalPath}class Uz{convertValue(e,r="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return io(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var n,i,a;const r=(a=(i=(n=e.fields)==null?void 0:n[Rm].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>Nt(o.doubleValue));return new ts(r)}convertGeoPoint(e){return new es(Nt(e.latitude),Nt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=wg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(hd(e));default:return null}}convertTimestamp(e){const r=zi(e);return new ot(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=pt.fromString(e);Ve(yO(n),9688,{name:e});const i=new fd(n.get(1),n.get(3)),a=new he(n.popFirst(5));return i.isEqual(r)||Ls(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class pu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ca extends XO{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(QO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ca._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:Pt("string",Ca._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Qf extends Ca{data(e={}){return super.data(e)}}class Ou{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new pu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Qf(this._firestore,this._userDataWriter,n.key,n,new pu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Qf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Qf(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Wz(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ou._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ww.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t){t=ud(t,Yt);const e=ud(t.firestore,Yw);return Ez(zO(e),t._key).then(r=>Yz(e,t,r))}Ou._jsonSchemaVersion="firestore/querySnapshot/1.0",Ou._jsonSchema={type:Pt("string",Ou._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class qz extends Uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,r)}}function Gz(t,e,r){t=ud(t,Yt);const n=ud(t.firestore,Yw),i=zz(t.converter,e);return Kz(n,[Lz(Rz(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,As.none())])}function Kz(t,e){return function(n,i){const a=new Li;return n.asyncQueue.enqueueAndForget(async()=>pz(await Az(n),i,a)),a.promise}(zO(t),e)}function Yz(t,e,r){const n=r.docs.get(e._key),i=new qz(t);return new Ca(t,i,e._key,n,new pu(r.hasPendingWrites,r.fromCache),e.converter)}function GS(){return new Zw("serverTimestamp")}(function(e,r=!0){(function(i){ic=i})(nc),pl(new Ba("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new Yw(new PB(n.getProvider("auth-internal")),new OB(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(u.options.projectId,d)}(o,i),o);return a={useFetchStreams:r,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Di(J_,Z_,e),Di(J_,Z_,"esm2020")})();const Jf={apiKey:"AIzaSyC4M-yydpp7rWqnLeEPigJXcbfDLlao8zQ",authDomain:"marketing-website-management.firebaseapp.com",projectId:"marketing-website-management",storageBucket:"marketing-website-management.firebasestorage.app",messagingSenderId:"106106592866410",appId:"1:106106592866410:web:19aef77097224acbd54cad"};(!Jf.apiKey||!Jf.authDomain||!Jf.projectId)&&(console.error(" Firebase configuration is missing!"),console.error("Please create a .env file with the following variables:"),console.error("  VITE_FIREBASE_API_KEY"),console.error("  VITE_FIREBASE_AUTH_DOMAIN"),console.error("  VITE_FIREBASE_PROJECT_ID"),console.error("  VITE_FIREBASE_STORAGE_BUCKET"),console.error("  VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("  VITE_FIREBASE_APP_ID"),console.error(`
Get these from: Firebase Console > Project Settings > Your apps > Web app`));let Hm;if(T_().length===0)try{Hm=UI(Jf)}catch(t){throw console.error(" Firebase initialization failed:",t),t}else Hm=T_()[0];const zn=kB(Hm),KS=Cz(Hm),YS="marketing_management_website_messages",ca=()=>localStorage.getItem("useMockAuth")==="true",JO=E.createContext(void 0);function Xz({children:t}){const[e,r]=E.useState(!1),[n,i]=E.useState(null),[a,o]=E.useState(!0),l=async(_,w)=>{const N=Te().find(S=>S.email===_&&S.password===w);if(!N)throw new Error("Invalid email or password");if(!N.isActive)throw new Error("Account is inactive");const k={id:N.id,email:N.email,fullName:N.fullName,role:N.role,phone:N.phone};i(k),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(k))},c=async _=>{const w=`user-${Date.now()}`,N={id:w,email:_.email,fullName:_.fullName,role:_.role,phone:_.phone,password:_.password,isActive:!0,createdAt:new Date,updatedAt:new Date};CI.push(N),localStorage.setItem("marketing_management_website_users",JSON.stringify(Te().concat(N)));const k=Te().filter(C=>C.role==="admin"),S={id:`message-${Date.now()}`,senderId:w,recipientId:void 0,subject:"New User Registration",content:`A new user has registered: ${N.fullName} (${N.email}) as ${N.role}. Please review and approve if necessary.`,isRead:!1,isBroadcast:!0,createdAt:new Date,updatedAt:new Date},T=JSON.parse(localStorage.getItem(YS)||"[]");k.forEach(C=>{T.push({...S,recipientId:C.id,id:`message-${Date.now()}-${C.id}`})}),localStorage.setItem(YS,JSON.stringify(T));const O={id:w,email:N.email,fullName:N.fullName,role:N.role,phone:N.phone};i(O),r(!0),localStorage.setItem("mockAuthUser",JSON.stringify(O))},u=async()=>{i(null),r(!1),localStorage.removeItem("mockAuthUser")},d=async _=>{try{const w=await Hz(zS(KS,"users",_.uid));if(!w.exists())throw console.error("User document not found in Firestore for uid:",_.uid),await Nv(zn),new Error("Your account profile was not found. Please contact support or register again.");const N=w.data();if(!N.isActive)throw console.error("User account is inactive"),await Nv(zn),new Error("Your account has been deactivated. Please contact support.");return{id:_.uid,email:N.email||_.email||"",fullName:N.fullName||"",role:N.role,phone:N.phone||""}}catch(w){throw console.error("Error fetching user data:",w),w}};E.useEffect(()=>{if(ca()){o(!0);const _=localStorage.getItem("mockAuthUser");if(_)try{const w=JSON.parse(_);i(w),r(!0)}catch(w){console.error("Error parsing stored user:",w),localStorage.removeItem("mockAuthUser")}o(!1)}else{const _=pF(zn,async w=>{if(o(!0),w)try{const N=await d(w);N?(i(N),r(!0)):(i(null),r(!1))}catch(N){console.error("Auth state change error:",N),i(null),r(!1),N instanceof Error&&sessionStorage.setItem("authError",N.message)}else i(null),r(!1);o(!1)});return()=>_()}},[]);const h=async(_,w)=>{if(ca())return l(_,w);try{if(!zn)throw console.error("Firebase Auth not initialized. Check your Firebase configuration."),new Error("Firebase Auth not initialized. Please check your configuration.");sessionStorage.removeItem("authError");const N=await hF(zn,_,w),k=await d(N.user);if(!k)throw new Error("Failed to load user profile. Please contact support.");i(k),r(!0)}catch(N){throw console.error("Sign in error:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),N.code==="auth/user-not-found"?new Error("No user found with this email. Please create an account first."):N.code==="auth/wrong-password"?new Error("Incorrect password. Please try again."):N.code==="auth/invalid-credential"?new Error("Invalid email or password. Please check your credentials and try again."):N.code==="auth/invalid-email"?new Error("Invalid email address format."):N.code==="auth/user-disabled"?new Error("This account has been disabled. Please contact support."):N.code==="auth/too-many-requests"?new Error("Too many failed login attempts. Please try again later."):N.code==="auth/network-request-failed"?new Error("Network error. Please check your internet connection."):N.code==="auth/invalid-api-key"?new Error("Firebase configuration error. Please contact support."):N.code==="auth/configuration-not-found"?new Error("Firebase configuration not found. Please contact support."):new Error(N.message||"Failed to sign in. Please try again.")}},f=async _=>{if(ca())return c(_);try{if(!zn)throw new Error("Firebase Auth not initialized. Please check your configuration.");const N=(await dF(zn,_.email,_.password)).user;await Gz(zS(KS,"users",N.uid),{email:_.email,fullName:_.fullName,phone:_.phone,role:_.role,isActive:!0,createdAt:GS(),updatedAt:GS()})}catch(w){throw console.error("Sign up error:",w),console.error("Error code:",w.code),console.error("Error message:",w.message),w.code==="auth/email-already-in-use"?new Error("An account with this email already exists."):w.code==="auth/invalid-email"?new Error("Invalid email address format."):w.code==="auth/weak-password"?new Error("Password is too weak. Please use at least 6 characters."):w.code==="auth/operation-not-allowed"?new Error("Email/password accounts are not enabled. Please contact support."):new Error(w.message||"Failed to create account")}},p=async _=>{if(ca()){if(!Te().find(N=>N.email===_))throw new Error("No account found with this email address.");console.log(`[Mock] Password reset email would be sent to: ${_}`);return}try{if(!zn)throw new Error("Firebase Auth not initialized. Please check your configuration.");await uF(zn,_)}catch(w){throw console.error("Password reset error:",w),console.error("Error code:",w.code),console.error("Error message:",w.message),w.code==="auth/user-not-found"?new Error("No account found with this email address."):w.code==="auth/invalid-email"?new Error("Invalid email address format."):w.code==="auth/too-many-requests"?new Error("Too many requests. Please try again later."):new Error(w.message||"Failed to send password reset email")}},v=_=>{if(!n)return;const w={...n,..._};i(w),ca()&&localStorage.setItem("mockAuthUser",JSON.stringify(w))},g=async()=>{if(ca())return u();try{await Nv(zn)}catch(_){throw console.error("Sign out error:",_),new Error(_.message||"Failed to sign out")}},j=_=>{if(!n)return;const w={...n,role:_};i(w),ca()&&localStorage.setItem("mockAuthUser",JSON.stringify(w))},x=_=>n?_.includes(n.role):!1,y=_=>n?n.role==="admin"?!0:xn(n.id,n.role).some(N=>N.id===_):!1,b=_=>n?n.role==="admin"||n.role==="web_developer"&&_.assignedTo===n.id||n.role==="client"&&_.createdBy===n.id:!1;return s.jsx(JO.Provider,{value:{isSignedIn:e,user:n,loading:a,signIn:h,signUp:f,signOut:g,resetPassword:p,updateCurrentUser:v,switchRole:j,hasRole:x,canAccessProject:y,canManageTicket:b},children:t})}function ce(){const t=E.useContext(JO);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const Qz={theme:"system",setTheme:()=>null},Jz=E.createContext(Qz);function Zz({children:t,defaultTheme:e="system",storageKey:r="vite-ui-theme",...n}){const[i,a]=E.useState(()=>localStorage.getItem(r)||e);E.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(i)},[i]);const o={theme:i,setTheme:l=>{localStorage.setItem(r,l),a(l)}};return s.jsx(Jz.Provider,{...n,value:o,children:t})}const eW=t=>2,XS=t=>{switch(t){case"admin":return"/admin/dashboard";case"web_developer":return"/developer/dashboard";case"social_media_coordinator":return"/coordinator/dashboard";case"client":return"/client-portal/dashboard";default:return"/dashboard"}},tW=t=>t.startsWith("/admin/")||t.startsWith("/developer/")||t.startsWith("/coordinator/")||t.startsWith("/client-portal/");function fe(){const{isSignedIn:t,user:e,signOut:r}=ce(),n=ue(),a=Ji().pathname,[o,l]=E.useState(0),[c,u]=E.useState(0),[d,h]=E.useState(!1);E.useEffect(()=>{if(e){const p=j8(e.id).length,v=eW(e.id);l(p),u(v)}},[e]);const f=async()=>{try{await r(),n("/login")}catch(p){console.error("Error signing out:",p),n("/login")}};return s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),s.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/95 backdrop-blur",children:s.jsxs("div",{className:"container flex items-center justify-between py-4",children:[s.jsxs("button",{onClick:()=>{tW(a)?n(e?XS(e.role):"/"):n("/")},className:"flex items-center gap-2 text-2xl font-bold text-primary hover:opacity-80 transition-opacity cursor-pointer",children:[s.jsx("img",{src:"/Logo.png",alt:"Marketing Website Logo",className:"h-10 w-auto"}),s.jsx("span",{children:"Marketing Website"})]}),s.jsx("div",{className:"hidden md:flex items-center gap-6"}),s.jsx("div",{className:"hidden md:flex items-center gap-6",children:t&&e&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:[e.role==="admin"&&"Admin",e.role==="web_developer"&&"Dev",e.role==="social_media_coordinator"&&"Coord",e.role==="client"&&"Client"]}),s.jsx("span",{className:"text-foreground/50",children:"|"})]})})}),s.jsx("div",{className:"hidden md:flex items-center gap-4",children:t&&e?s.jsxs("div",{className:"flex items-center gap-4",children:[e.role==="admin"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Management Tools",children:s.jsxs("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(q,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(q,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(q,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"}),s.jsx(q,{to:"/reports",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Reports"}),s.jsx("div",{className:"border-t border-border my-2"}),s.jsx(q,{to:"/ai-insights",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"AI Insights"}),s.jsx(q,{to:"/integrations",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Integrations"}),s.jsx(q,{to:"/automation",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Automation"}),s.jsx(q,{to:"/templates",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Templates"})]})})]}),e.role==="web_developer"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Developer Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(q,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(q,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(q,{to:"/time-tracking",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Time Tracking"})]})})]}),e.role==="social_media_coordinator"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Coordinator Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(q,{to:"/admin/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:" Messages"}),s.jsx(q,{to:"/search",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Search"}),s.jsx(q,{to:"/calendar",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Calendar"}),s.jsx(q,{to:"/analytics",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Analytics"}),s.jsx(q,{to:"/tickets",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Tickets"})]})})]}),e.role==="client"&&s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-muted transition-colors",title:"Support Tools",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v6m0 6v6m6-9h-6m-6 3H3m6 3h6"})})}),s.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:s.jsxs("div",{className:"py-2",children:[s.jsx(q,{to:"/client-portal/files",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Files"}),s.jsx(q,{to:"/messages",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Messages"}),s.jsx(q,{to:"/client-portal/feedback",className:"block px-4 py-2 text-sm text-foreground hover:bg-muted hover:text-primary transition text-center",children:"Feedback"})]})})]}),s.jsxs(q,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold min-w-[20px]",children:o>99?"99+":o})]}),s.jsx("div",{className:"text-sm text-right",children:s.jsx("p",{className:"font-semibold text-foreground",children:e.fullName})}),s.jsx("button",{onClick:f,className:"btn-secondary text-sm",children:"Sign Out"})]}):s.jsxs(s.Fragment,{children:[s.jsx(q,{to:"/login",className:"btn-secondary text-sm",children:"Sign In"}),s.jsx(q,{to:"/register",className:"btn-primary text-sm",children:"Sign Up"})]})}),s.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[t&&e&&s.jsx(s.Fragment,{children:s.jsxs(q,{to:"/messages",className:"p-2 rounded-lg hover:bg-muted transition-colors relative",title:`Messages${o>0?` (${o} unread)`:""}`,children:[s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),o>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-bold",children:o>9?"9+":o})]})}),s.jsx("button",{onClick:()=>h(!d),className:"p-2 rounded-lg hover:bg-muted transition-colors","aria-label":"Toggle mobile menu",children:s.jsx("svg",{className:"w-6 h-6 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),d&&s.jsx("div",{className:"md:hidden border-t border-border bg-background",children:s.jsx("div",{className:"container py-4",children:t&&e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary font-semibold text-sm",children:e.fullName.split(" ").map(p=>p[0]).join("").toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-foreground",children:e.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(q,{to:XS(e.role),className:"block w-full text-left px-4 py-3 bg-primary/10 text-primary rounded-lg font-medium hover:bg-primary/20 transition-colors",onClick:()=>h(!1),children:"Dashboard"}),s.jsxs(q,{to:"/messages",className:"block w-full text-left px-4 py-3 hover:bg-muted rounded-lg transition-colors relative",onClick:()=>h(!1),children:["Messages",o>0&&s.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1",children:o})]})]}),s.jsx("div",{className:"border-t border-border pt-4",children:s.jsx("button",{onClick:()=>{f(),h(!1)},className:"w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 dark:hover:bg-red-950/20 rounded-lg transition-colors font-medium",children:"Sign Out"})})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(q,{to:"/login",className:"block w-full btn-secondary text-center",onClick:()=>h(!1),children:"Sign In"}),s.jsx(q,{to:"/register",className:"block w-full btn-primary text-center",onClick:()=>h(!1),children:"Sign Up"})]})})})]})})]})}function me(){const[t,e]=E.useState(!1),[r,n]=E.useState(!1),[i,a]=E.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"border-t border-border bg-muted py-12",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-foreground mb-4",children:"SpecCon Marketing Management Website"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Comprehensive project management platform for website development and social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Platform"}),s.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Dashboard"})})})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Features"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("a",{href:"/dashboard",className:"hover:text-primary",children:"Project Management"})}),s.jsx("li",{children:s.jsx("a",{href:"/tickets",className:"hover:text-primary",children:"Ticketing System"})}),s.jsx("li",{children:s.jsx("a",{href:"/analytics",className:"hover:text-primary",children:"Analytics Tracking"})})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-foreground mb-3",children:"Support"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>e(!0),className:"hover:text-primary",children:"Help Center"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>n(!0),className:"hover:text-primary",children:"Privacy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>a(!0),className:"hover:text-primary",children:"Terms"})})]})]})]}),s.jsx("div",{className:"border-t border-border pt-8",children:s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:" 2026 SpecCon Marketing Management Website. All rights reserved."})})]})}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Help Center"}),s.jsx("button",{onClick:()=>e(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Getting Started"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Welcome to SpecCon Marketing Management Website! Here's how to get started:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Create an account with your assigned role"}),s.jsx("li",{children:"Access your role-specific dashboard"}),s.jsx("li",{children:"View assigned projects and tasks"}),s.jsx("li",{children:"Collaborate with your team members"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Clients"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"How to manage your website projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"View progress of your website through different stages"}),s.jsx("li",{children:"Create tickets for bug reports or content changes"}),s.jsx("li",{children:"Track analytics and social media performance"}),s.jsx("li",{children:"Communicate with your development team"}),s.jsx("li",{children:"Monitor project milestones and deadlines"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Developers"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Managing your assigned projects:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access all your assigned website projects"}),s.jsx("li",{children:"Update project stages as work progresses"}),s.jsx("li",{children:"Manage and resolve technical tickets"}),s.jsx("li",{children:"Track time and deliverables"}),s.jsx("li",{children:"Collaborate with social media coordinators"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"For Social Media Coordinators"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage social media analytics for your assigned projects. Add analytics entries for reach, engagement, and posts across different platforms. Generate reports, monitor performance trends, and handle support tickets related to social media coordination."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Ticketing System"}),s.jsx("p",{className:"text-muted-foreground",children:"Create tickets for bug reports, content changes, design updates, or feature requests. All tickets are tracked and assigned to the appropriate team member. Monitor ticket status from creation to resolution."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Account Security"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Keep your account secure:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Use a strong, unique password"}),s.jsx("li",{children:"Never share your login credentials"}),s.jsx("li",{children:"Enable two-factor authentication when available"}),s.jsx("li",{children:"Log out from shared devices"}),s.jsx("li",{children:"Report suspicious activity immediately"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Contact Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Need more help? Contact our support team:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: support@speccon.co.za",s.jsx("br",{}),"Phone: +27 21 123 4567",s.jsx("br",{}),"Hours: Monday - Friday, 9:00 AM - 5:00 PM SAST"]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>e(!1),className:"w-full btn-primary",children:"Close"})})]})}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>n(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Team members assigned to the same projects"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary for project collaboration"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Project records and analytics data are kept for 7 years to comply with South African business regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-muted-foreground",children:"We may update this privacy policy from time to time. We will notify you of any significant changes by email or through a notice on our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy or how we handle your personal information, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>n(!1),className:"w-full btn-primary",children:"Close"})})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms & Conditions"}),s.jsx("button",{onClick:()=>a(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms and Conditions. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old and authorized to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Project Management"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Update project stages accurately as work progresses"}),s.jsx("li",{children:"Respond to tickets within agreed timeframes"}),s.jsx("li",{children:"Submit accurate analytics data"}),s.jsx("li",{children:"Respect intellectual property rights"}),s.jsx("li",{children:"Maintain professional communication standards"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. Service levels and pricing are determined by your organization's agreement. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Dispute Resolution"}),s.jsx("p",{className:"text-muted-foreground",children:"In case of disputes between team members or regarding project deliverables, administrators will act as mediators. We reserve the right to suspend accounts or take legal action if terms are violated."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management tools as-is. We are not responsible for project outcomes, the actions of users, or disputes arising from collaborations. Our liability is limited to the service fees paid."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"10. Intellectual Property"}),s.jsx("p",{className:"text-muted-foreground",children:"All platform content, trademarks, and intellectual property belong to SpecCon or our licensors. Project content belongs to the respective client organizations. You may not use, copy, or distribute our platform content without written permission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"11. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms, engage in fraudulent activity, or pose a risk to the platform or other users. Termination may result in forfeiture of pending transactions."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"12. Changes to Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"We may modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the new terms. We will notify users of significant changes via email."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"13. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>a(!1),className:"w-full btn-primary",children:"Close"})})]})})]})}function rW(){const{isSignedIn:t}=ce();return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsxs("main",{className:"flex flex-col",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-primary/5 via-background to-secondary/10",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-secondary/5 rounded-full blur-3xl animate-pulse delay-500"})]}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-20 w-3 h-3 bg-accent rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"absolute top-40 right-32 w-2 h-2 bg-primary rounded-full animate-bounce delay-300"}),s.jsx("div",{className:"absolute bottom-32 left-32 w-4 h-4 bg-secondary rounded-full animate-bounce delay-500"}),s.jsx("div",{className:"absolute bottom-40 right-20 w-2 h-2 bg-accent rounded-full animate-bounce delay-700"})]}),s.jsx("div",{className:"container text-center relative z-10 px-4 py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-8",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Welcome to the Future of Marketing Management"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-balance bg-gradient-to-r from-primary via-primary to-accent bg-clip-text text-transparent leading-tight",children:["Manage Websites.",s.jsx("br",{}),s.jsx("span",{className:"text-foreground",children:"Track Social Media."}),s.jsx("br",{}),s.jsx("span",{className:"text-primary",children:"Collaborate Better."})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed",children:"Your complete project management platform for website development and social media coordination with team collaboration, real-time analytics, and intelligent ticketing."}),s.jsx("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:t?s.jsxs(q,{to:"/dashboard",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden min-w-[200px] text-center",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsxs("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]})}),s.jsx("span",{children:"Go to Dashboard"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(q,{to:"/register",className:"group relative bg-gradient-to-r from-primary to-primary-dark text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl hover:shadow-primary/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden min-w-[200px] text-center",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),s.jsx("span",{children:"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(q,{to:"/login",className:"group border-2 border-primary/30 text-primary px-8 py-4 rounded-xl font-bold text-lg hover:bg-primary hover:text-white hover:border-primary transition-all duration-300 transform hover:-translate-y-1 min-w-[200px] text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{children:"Sign In"})]})})]})})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-primary/30 rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-primary rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{id:"features",className:"py-24 bg-gradient-to-b from-background to-muted/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2312265E' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-accent/10 border border-accent/20 text-accent text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Powerful Features"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground to-primary bg-clip-text text-transparent",children:"How Marketing Management Website Works"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Streamline your marketing operations with our comprehensive suite of tools designed for modern teams."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-primary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-primary transition-colors",children:"Team Collaboration"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Assign developers and coordinators to projects. Track progress and manage team workload efficiently with real-time updates and notifications."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-primary/10 rounded-2xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-accent/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-accent transition-colors",children:"Project Tracking"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Monitor website building stages from planning to launch. View progress and milestones in real-time with detailed analytics and status updates."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-accent to-primary rounded-full"})})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/10 to-primary/10 rounded-2xl transform rotate-1 group-hover:rotate-2 transition-transform duration-300"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-2xl p-8 text-center hover:shadow-2xl hover:shadow-secondary/10 transition-all duration-300 transform group-hover:-translate-y-2",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-secondary to-primary rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-foreground group-hover:text-secondary transition-colors",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Track website traffic and social media engagement. Get comprehensive insights into performance metrics with beautiful visualizations."}),s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-secondary to-accent rounded-full"})})]})]})]}),s.jsx("div",{className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-6",children:[{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),title:"Smart Ticketing",desc:"AI-powered ticket management"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),title:"Mobile Ready",desc:"Access anywhere, anytime"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),title:"Secure",desc:"Enterprise-grade security"},{icon:s.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"Fast",desc:"Lightning-quick performance"}].map((e,r)=>s.jsxs("div",{className:"text-center p-6 rounded-xl bg-card/50 border border-border/50 hover:bg-card hover:shadow-lg transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-primary/10 to-accent/10 rounded-lg flex items-center justify-center text-primary group-hover:scale-110 transition-transform duration-300",children:e.icon}),s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.desc})]},r))})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-background via-primary/5 to-secondary/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-transparent via-primary/5 to-accent/5"})}),s.jsxs("div",{className:"container relative z-10",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2"}),"Role-Based Experience"]}),s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-foreground via-primary to-accent bg-clip-text text-transparent",children:"Built for Every Role"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Tailored experiences designed specifically for each team member's workflow and responsibilities."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-3xl transform rotate-2 group-hover:rotate-3 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-purple-500/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-lg",children:"Administrator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"System Administrator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Full system control with user management, project oversight, analytics access, and system configuration."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"User Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"System Analytics"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-purple-500 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Full Access"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-primary-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-primary/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-primary/10 text-primary border border-primary/20",children:"Web Developer"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Web Developer"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Code, build, and deploy websites with ticket management, project tracking, and development tools."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Ticket Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Code Repository"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-primary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Deploy Tools"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/10 to-accent-dark/10 rounded-3xl transform rotate-1 group-hover:rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-accent/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-accent to-accent-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h4a1 1 0 011 1v2m4 0H8l.5 16h7L16 4z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-accent/10 text-accent border border-accent/20",children:"Coordinator"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"Manage social media campaigns, track engagement metrics, and coordinate content across platforms."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Campaign Management"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Analytics Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-accent mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Content Calendar"]})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-success/10 to-success-dark/10 rounded-3xl transform -rotate-1 group-hover:-rotate-2 transition-transform duration-500"}),s.jsxs("div",{className:"relative bg-card border border-border/50 rounded-3xl p-8 hover:shadow-2xl hover:shadow-success/10 transition-all duration-500 transform group-hover:-translate-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-success to-success-dark rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Role"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-success/10 text-success border border-success/20",children:"Client"})]})]}),s.jsx("h3",{className:"text-xl font-bold mb-3 text-foreground",children:"Client Portal"}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:"View project progress, submit feedback, create support tickets, and communicate directly with your team."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Project Dashboard"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),s.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[s.jsx("svg",{className:"w-4 h-4 text-success mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"File Sharing"]})]})]})]})]})]})]}),s.jsxs("section",{className:"py-24 bg-gradient-to-br from-primary via-primary-dark to-primary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:s.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("defs",{children:s.jsx("pattern",{id:"pattern",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:s.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"white",opacity:"0.1"})})}),s.jsx("rect",{width:"100%",height:"100%",fill:"url(#pattern)"})]})}),s.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-white/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),s.jsx("div",{className:"container text-center relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/10 border border-white/20 text-white text-sm font-medium mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-2 h-2 bg-accent rounded-full mr-2 animate-pulse"}),"Start Your Journey Today"]}),s.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 text-white leading-tight",children:["Ready to Transform Your",s.jsx("br",{}),s.jsx("span",{className:"text-accent",children:"Marketing Workflow?"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-white/90 max-w-3xl mx-auto leading-relaxed",children:"Join thousands of teams already managing their websites and social media campaigns more efficiently with our comprehensive marketing management platform."}),s.jsxs("div",{className:"flex gap-8 justify-center items-center flex-wrap mb-16",children:[s.jsxs(q,{to:t?"/dashboard":"/register",className:"group relative bg-white text-primary px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl hover:shadow-white/25 transition-all duration-300 transform hover:-translate-y-1 overflow-hidden w-[240px] text-center whitespace-nowrap",children:[s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("span",{className:"truncate",children:t?"Go to Dashboard":"Get Started"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-accent/20 to-primary/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx(q,{to:"/login",className:"group border-2 border-white/30 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:bg-white/10 hover:border-white transition-all duration-300 transform hover:-translate-y-1 backdrop-blur-sm w-[240px] text-center whitespace-nowrap",children:s.jsxs("span",{className:"flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),s.jsx("span",{className:"truncate",children:"Sign In"})]})})]})]})})]})]}),s.jsx(me,{})]})}let nW=0;const ZO=()=>{const[t,e]=E.useState([]);return{toasts:t,showToast:(n,i="info")=>{const a=String(nW++),o={id:a,message:n,type:i};e(l=>[...l,o]),setTimeout(()=>{e(l=>l.filter(c=>c.id!==a))},3e3)}}};function eM({toasts:t}){return s.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:t.map(e=>s.jsx("div",{className:`rounded-lg px-4 py-3 text-white text-sm font-medium shadow-lg transition-all ${e.type==="success"?"bg-success":e.type==="error"?"bg-danger":"bg-primary"}`,children:e.message},e.id))})}function sW(){const t=ue(),e=Ji(),{toasts:r,showToast:n}=ZO(),{signIn:i,loading:a,isSignedIn:o,resetPassword:l}=ce(),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,p]=E.useState(!1),[v,g]=E.useState(!1),[j,x]=E.useState(""),[y,b]=E.useState(!1),_=new URLSearchParams(e.search).get("portal")==="client";E.useEffect(()=>{o&&!a&&t("/dashboard")},[o,a,t]);const w=async k=>{if(k.preventDefault(),!j){n("Please enter your email address","error");return}b(!0);try{await l(j),n("Password reset email sent! Check your inbox.","success"),g(!1),x("")}catch(S){let T="Failed to send reset email. Please try again.";S instanceof Error&&S.message&&(T=S.message),n(T,"error")}finally{b(!1)}},N=async k=>{if(k.preventDefault(),!c||!d){n("Please fill in all fields","error");return}p(!0);try{await i(c,d),n("Signing in...","success")}catch(S){let T="Failed to sign in. Please try again.";if(S instanceof Error&&"message"in S)T=S.message;else if(typeof S=="object"&&S!==null&&"code"in S)switch(S.code){case"auth/user-not-found":T="No account found with this email address.";break;case"auth/wrong-password":T="Incorrect password. Please try again.";break;case"auth/invalid-email":T="Please enter a valid email address.";break;case"auth/user-disabled":T="This account has been disabled.";break;case"auth/too-many-requests":T="Too many failed login attempts. Please try again later.";break;default:T="Authentication failed. Please try again."}n(T,"error")}finally{p(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:_?"Client Portal":"Sign In"}),s.jsx("p",{className:"text-muted-foreground",children:_?"Welcome Back - Access your project updates and files":"Access your Marketing Management Website account"})]}),s.jsxs("div",{className:"card",children:[_&&s.jsxs("div",{className:"mb-6 p-4 bg-accent/10 border border-accent/20 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-accent mb-2",children:"Client Portal Test Accounts:"}),s.jsxs("ul",{className:"text-xs text-accent/80 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client@system.com / client123"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Client:"})," client2@company.com / client123"]})]}),s.jsx("p",{className:"text-xs text-accent/60 mt-2",children:"Don't have access? Contact support"})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{id:"email",type:"email",value:c,onChange:k=>u(k.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:d,onChange:k=>h(k.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"remember",type:"checkbox",className:"rounded"}),s.jsx("label",{htmlFor:"remember",className:"text-sm text-foreground",children:"Remember me"})]}),s.jsx("button",{type:"button",onClick:()=>{x(c),g(!0)},className:"text-sm text-primary hover:underline bg-transparent border-none p-0 cursor-pointer",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:f||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",children:f||a?"Signing in...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"Or"})})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>n("Google sign-in feature coming soon. Please use email/password for now.","info"),className:"w-full flex items-center justify-center gap-2 border border-border rounded-lg py-3 font-semibold text-foreground hover:bg-muted transition",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(q,{to:"/register",className:"text-primary font-semibold hover:underline",children:"Sign up here"})]}),_&&s.jsx("p",{className:"text-center mt-4 text-sm text-muted-foreground",children:s.jsx(q,{to:"/",className:"text-primary font-semibold hover:underline",children:" Back to Main Site"})})]}),s.jsxs("div",{className:"mt-8 text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Professional Project Management"}),s.jsxs("div",{className:"flex items-center justify-center gap-6",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Secure"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Collaborative"]}),s.jsxs("span",{className:"inline-flex items-center gap-2 text-sm font-medium",children:[s.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"}),s.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),"Efficient"]})]})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl shadow-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Reset Password"}),s.jsx("button",{onClick:()=>g(!1),className:"text-muted-foreground hover:text-foreground",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Enter your email address and we'll send you a link to reset your password."}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reset-email",className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{id:"reset-email",type:"email",value:j,onChange:k=>x(k.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 py-3 px-4 rounded-lg border border-border text-foreground font-semibold hover:bg-muted transition",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:y,className:"flex-1 btn-primary py-3 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Sending...":"Send Reset Link"})]})]})]})}),s.jsx(eM,{toasts:r}),s.jsx(me,{})]})}function iW(){const t=ue(),{toasts:e,showToast:r}=ZO(),{signUp:n,isSignedIn:i,loading:a}=ce(),[o,l]=E.useState("client"),[c,u]=E.useState(""),[d,h]=E.useState(""),[f,p]=E.useState(""),[v,g]=E.useState(""),[j,x]=E.useState(""),[y,b]=E.useState(!1),[_,w]=E.useState(!1),[N,k]=E.useState(!1),[S,T]=E.useState(!1);E.useEffect(()=>{i&&!a&&t("/dashboard")},[i,a,t]);const O=async C=>{if(C.preventDefault(),!c||!d||!f||!v||!j){r("Please fill in all fields","error");return}if(v!==j){r("Passwords do not match","error");return}if(v.length<6){r("Password must be at least 6 characters","error");return}if(!y){r("Please agree to terms and conditions","error");return}T(!0);try{await n({email:d,password:v,fullName:c,phone:f,role:o}),r("Account created successfully!","success")}catch(I){r(I.message||"Failed to create account","error")}finally{T(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted py-12",children:s.jsxs("div",{className:"container max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Join SpecCon Marketing Management Website platform"}),s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6 max-w-xl mx-auto",children:s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-semibold",children:" Note:"})," Select your role carefully. Admin approval may be required for certain roles."]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-4",children:"Select Your Role"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>l("client"),className:`p-6 rounded-lg border-2 transition text-center ${o==="client"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Client"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"View project progress, create tickets, communicate with team"})]}),s.jsxs("button",{onClick:()=>l("web_developer"),className:`p-6 rounded-lg border-2 transition text-center ${o==="web_developer"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Web Developer"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Work on assigned projects, manage tickets, track development stages"})]}),s.jsxs("button",{onClick:()=>l("social_media_coordinator"),className:`p-6 rounded-lg border-2 transition text-center ${o==="social_media_coordinator"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:""}),s.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Social Media Coordinator"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track social media metrics, manage analytics for assigned projects"})]})]})]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:c,onChange:C=>u(C.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:d,onChange:C=>h(C.target.value),placeholder:"you@example.com",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:f,onChange:C=>p(C.target.value),placeholder:"+27 123 456 7890",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Password"}),s.jsx("input",{type:"password",value:v,onChange:C=>g(C.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",value:j,onChange:C=>x(C.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20"})]}),s.jsx("div",{className:"bg-muted rounded-lg p-4 space-y-2",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:C=>b(C.target.checked),className:"mt-1"}),s.jsxs("span",{className:"text-sm text-foreground",children:["I agree to SpecCon Marketing Management Website's"," ",s.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("button",{type:"button",onClick:()=>k(!0),className:"text-primary hover:underline",children:"Privacy Policy"})]})]})}),s.jsx("button",{type:"submit",disabled:S||a,className:"w-full btn-primary py-3 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:S?"Creating Account...":"Create Account"})]}),s.jsxs("p",{className:"text-center mt-6 text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(q,{to:"/login",className:"text-primary font-semibold hover:underline",children:"Sign in here"})]})]})]})}),s.jsx(eM,{toasts:e}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Terms of Service"}),s.jsx("button",{onClick:()=>w(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"By accessing and using SpecCon Marketing Management Website, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. Eligibility"}),s.jsx("p",{className:"text-muted-foreground",children:"You must be at least 18 years old to use SpecCon Marketing Management Website. By using our platform, you represent and warrant that you meet this age requirement and have the legal capacity to enter into binding contracts."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. User Accounts"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When creating an account, you agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Provide accurate and complete information"}),s.jsx("li",{children:"Maintain the security of your account credentials"}),s.jsx("li",{children:"Accept responsibility for all activities under your account"}),s.jsx("li",{children:"Notify us immediately of any unauthorized use"}),s.jsx("li",{children:"Not create multiple accounts or share accounts"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. User Responsibilities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"All users agree to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Perform assigned tasks professionally and on time"}),s.jsx("li",{children:"Maintain confidentiality of client information"}),s.jsx("li",{children:"Communicate effectively with team members"}),s.jsx("li",{children:"Provide accurate project updates and analytics"}),s.jsx("li",{children:"Not engage in unauthorized access or data manipulation"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Service Terms"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website provides project management and collaboration tools. All project data remains the property of the client organization."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Prohibited Activities"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Users are prohibited from:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Unauthorized access to other users' projects or data"}),s.jsx("li",{children:"Sharing confidential client information"}),s.jsx("li",{children:"Submitting false or misleading analytics data"}),s.jsx("li",{children:"Harassing other users or team members"}),s.jsx("li",{children:"Attempting to circumvent security measures"}),s.jsx("li",{children:"Reverse engineering or scraping the platform"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Account Termination"}),s.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to suspend or terminate accounts that violate these terms or engage in unauthorized activity."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Governing Law"}),s.jsx("p",{className:"text-muted-foreground",children:"These terms are governed by the laws of South Africa. Any disputes will be resolved in the courts of South Africa."})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>w(!1),className:"w-full btn-primary",children:"Close"})})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-lg max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border p-6 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Privacy Policy"}),s.jsx("button",{onClick:()=>k(!1),className:"text-muted-foreground hover:text-foreground text-2xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"1. Information We Collect"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"When you use SpecCon Marketing Management Website, we collect the following information:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Personal information (name, email address, phone number)"}),s.jsx("li",{children:"Project files, documents, and assets"}),s.jsx("li",{children:"Website analytics and social media metrics"}),s.jsx("li",{children:"Ticket history and communications"}),s.jsx("li",{children:"Device information and IP address for security purposes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"We use your information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Manage and track website development projects"}),s.jsx("li",{children:"Facilitate team collaboration and communication"}),s.jsx("li",{children:"Store and track analytics data"}),s.jsx("li",{children:"Communicate with you about your projects and tickets"}),s.jsx("li",{children:"Prevent unauthorized access and ensure platform security"}),s.jsx("li",{children:"Improve our services and user experience"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"3. Information Sharing"}),s.jsx("p",{className:"text-muted-foreground",children:"We do not sell your personal information. We may share your information with:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4 mt-2",children:[s.jsx("li",{children:"Payment processors to complete transactions"}),s.jsx("li",{children:"Service providers who assist in operating our platform"}),s.jsx("li",{children:"Law enforcement when required by law"}),s.jsx("li",{children:"Other users (limited information) necessary to complete transactions"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"4. Data Security"}),s.jsx("p",{className:"text-muted-foreground",children:"We implement industry-standard security measures to protect your personal information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure, and we cannot guarantee absolute security."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Data Retention"}),s.jsx("p",{className:"text-muted-foreground",children:"We retain your personal information for as long as your account is active or as needed to provide services. Transaction records are kept for 7 years to comply with South African tax and financial regulations."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Your Rights"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Under the Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:"Access your personal information"}),s.jsx("li",{children:"Correct inaccurate information"}),s.jsx("li",{children:"Request deletion of your information (subject to legal requirements)"}),s.jsx("li",{children:"Object to processing of your information"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"7. Cookies"}),s.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar technologies to improve your experience, analyze site usage, and assist in our marketing efforts. You can control cookie preferences through your browser settings."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"8. Third-Party Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these websites. We encourage you to review their privacy policies."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"5. Children's Privacy"}),s.jsx("p",{className:"text-muted-foreground",children:"SpecCon Marketing Management Website is a business platform not intended for users under the age of 18. We do not knowingly collect personal information from children."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-foreground mb-2",children:"6. Contact Us"}),s.jsx("p",{className:"text-muted-foreground",children:"If you have questions about this privacy policy, please contact us at:"}),s.jsxs("p",{className:"text-muted-foreground mt-2",children:["Email: privacy@speccon.co.za",s.jsx("br",{}),"Address: Cape Town, South Africa"]})]}),s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Last Updated:"})," January 2025",s.jsx("br",{}),s.jsx("strong",{children:"Effective Date:"})," January 2025"]})})]}),s.jsx("div",{className:"sticky bottom-0 bg-background border-t border-border p-6",children:s.jsx("button",{onClick:()=>k(!1),className:"w-full btn-primary",children:"Close"})})]})}),s.jsx(me,{})]})}function aW(){const{isSignedIn:t,user:e,loading:r}=ce(),n=ue();return E.useEffect(()=>{if(!r){if(!t){n("/login");return}if(e)switch(e.role){case"admin":n("/admin/dashboard");break;case"web_developer":n("/developer/dashboard");break;case"social_media_coordinator":n("/coordinator/dashboard");break;case"client":n("/client-portal/dashboard");break;default:n("/")}}},[t,e,r,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]})})}function tM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=tM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ne(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=tM(t))&&(n&&(n+=" "),n+=e);return n}const e2="-",oW=t=>{const e=cW(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(e2);return l[0]===""&&l.length!==1&&l.shift(),rM(l,e)||lW(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},rM=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?rM(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(e2);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},QS=/^\[(.+)\]$/,lW=t=>{if(QS.test(t)){const e=QS.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},cW=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return dW(Object.entries(t.classGroups),r).forEach(([a,o])=>{Ob(o,n,a,e)}),n},Ob=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:JS(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(uW(i)){Ob(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Ob(o,JS(e,a),r,n)})})},JS=(t,e)=>{let r=t;return e.split(e2).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uW=t=>t.isThemeGetter,dW=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,hW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},nM="!",fW=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let j=0;j<l.length;j++){let x=l[j];if(u===0){if(x===i&&(n||l.slice(j,j+a)===e)){c.push(l.slice(d,j)),d=j+a;continue}if(x==="/"){h=j;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(nM),v=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},mW=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},pW=t=>({cache:hW(t.cacheSize),parseClassName:fW(t),...oW(t)}),gW=/\s+/,xW=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(gW);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?f.substring(0,p):f);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const j=mW(d).join(":"),x=h?j+nM:j,y=x+g;if(a.includes(y))continue;a.push(y);const b=i(g,v);for(let _=0;_<b.length;++_){const w=b[_];a.push(x+w)}l=u+(l.length>0?" "+l:l)}return l};function vW(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=sM(e))&&(n&&(n+=" "),n+=r);return n}const sM=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=sM(t[n]))&&(r&&(r+=" "),r+=e);return r};function yW(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=pW(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=xW(c,r);return i(c,d),d}return function(){return a(vW.apply(null,arguments))}}const rt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},iM=/^\[(?:([a-z-]+):)?(.+)\]$/i,bW=/^\d+\/\d+$/,jW=new Set(["px","full","screen"]),wW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_W=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=t=>sl(t)||jW.has(t)||bW.test(t),ai=t=>cc(t,"length",MW),sl=t=>!!t&&!Number.isNaN(Number(t)),Pv=t=>cc(t,"number",sl),qc=t=>!!t&&Number.isInteger(Number(t)),AW=t=>t.endsWith("%")&&sl(t.slice(0,-1)),Se=t=>iM.test(t),oi=t=>wW.test(t),TW=new Set(["length","size","percentage"]),EW=t=>cc(t,TW,aM),PW=t=>cc(t,"position",aM),CW=new Set(["image","url"]),IW=t=>cc(t,CW,RW),OW=t=>cc(t,"",DW),Gc=()=>!0,cc=(t,e,r)=>{const n=iM.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},MW=t=>NW.test(t)&&!_W.test(t),aM=()=>!1,DW=t=>SW.test(t),RW=t=>kW.test(t),LW=()=>{const t=rt("colors"),e=rt("spacing"),r=rt("blur"),n=rt("brightness"),i=rt("borderColor"),a=rt("borderRadius"),o=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),u=rt("grayscale"),d=rt("hueRotate"),h=rt("invert"),f=rt("gap"),p=rt("gradientColorStops"),v=rt("gradientColorStopPositions"),g=rt("inset"),j=rt("margin"),x=rt("opacity"),y=rt("padding"),b=rt("saturate"),_=rt("scale"),w=rt("sepia"),N=rt("skew"),k=rt("space"),S=rt("translate"),T=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Se,e],I=()=>[Se,e],M=()=>["",hs,ai],B=()=>["auto",sl,Se],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Se],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[sl,Se];return{cacheSize:500,separator:":",theme:{colors:[Gc],spacing:[hs,ai],blur:["none","",oi,Se],brightness:Y(),borderColor:[t],borderRadius:["none","","full",oi,Se],borderSpacing:I(),borderWidth:M(),contrast:Y(),grayscale:F(),hueRotate:Y(),invert:F(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[AW,ai],inset:C(),margin:C(),opacity:Y(),padding:I(),saturate:Y(),scale:Y(),sepia:F(),skew:Y(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[oi]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Se]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qc,Se]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",qc,Se]}],"grid-cols":[{"grid-cols":[Gc]}],"col-start-end":[{col:["auto",{span:["full",qc,Se]},Se]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Gc]}],"row-start-end":[{row:["auto",{span:[qc,Se]},Se]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,e]}],"min-w":[{"min-w":[Se,e,"min","max","fit"]}],"max-w":[{"max-w":[Se,e,"none","full","min","max","fit","prose",{screen:[oi]},oi]}],h:[{h:[Se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oi,ai]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pv]}],"font-family":[{font:[Gc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",sl,Pv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,ai]}],"underline-offset":[{"underline-offset":["auto",hs,Se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),PW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",EW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IW]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[hs,Se]}],"outline-w":[{outline:[hs,ai]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[hs,ai]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oi,OW]}],"shadow-color":[{shadow:[Gc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",oi,Se]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[qc,Se]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hs,ai,Pv]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$W=yW(LW);function VW(...t){return $W(Ne(t))}function oM(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric"})}function Ln(t){const e=typeof t=="string"?new Date(t):t,n=new Date().getTime()-e.getTime(),i=Math.floor(n/6e4),a=Math.floor(n/36e5),o=Math.floor(n/864e5);return i<1?"just now":i<60?`${i} minute${i>1?"s":""} ago`:a<24?`${a} hour${a>1?"s":""} ago`:o<30?`${o} day${o>1?"s":""} ago`:oM(e)}function lM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function FW(t){return{admin:"Administrator",web_developer:"Web Developer",social_media_coordinator:"Social Media Coordinator",client:"Client"}[t]}function BW(t){return{admin:"bg-purple-100 text-purple-700 border-purple-200",web_developer:"bg-primary/10 text-primary border-primary/20",social_media_coordinator:"bg-accent/10 text-accent border-accent/20",client:"bg-success/10 text-success border-success/20"}[t]}function wr(t){return{planning:"Planning",design:"Design",development:"Development",testing:"Testing",seo_optimization:"SEO Optimisation",launch:"Launch",maintenance:"Maintenance"}[t]}function cM(t){return{planning:14.29,design:28.57,development:42.86,testing:57.14,seo_optimization:71.43,launch:85.71,maintenance:100}[t]}function uM(t){return{open:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",resolved:"bg-green-100 text-green-700 border-green-200",closed:"bg-gray-100 text-gray-700 border-gray-200",active:"bg-green-100 text-green-700 border-green-200",paused:"bg-gray-100 text-gray-700 border-gray-200",completed:"bg-green-100 text-green-700 border-green-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200"}function UW(t){return{open:"Open",in_progress:"In Progress",resolved:"Resolved",closed:"Closed",active:"Active",paused:"Paused",completed:"Completed"}[t]||lM(t)}function zW(t){return{low:"bg-gray-100 text-gray-700 border-gray-200",medium:"bg-blue-100 text-blue-700 border-blue-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"}[t]}function WW(t){return lM(t)}function HW(t){return{bug_report:"Bug Report",content_change:"Content Change",design_update:"Design Update",feature_request:"Feature Request"}[t]}function gu(t){return new Intl.NumberFormat("en-ZA").format(t)}function qW(t){const e=t.trim().split(" ");return e.length===1?e[0].charAt(0).toUpperCase():(e[0].charAt(0)+e[e.length-1].charAt(0)).toUpperCase()}function ir({title:t,value:e,icon:r,trend:n,className:i=""}){return s.jsx("div",{className:`bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8 shadow-sm hover:shadow-md transition-all duration-200 ${i}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wide mb-2",children:t}),s.jsx("p",{className:"text-3xl lg:text-4xl font-bold text-foreground leading-none",children:typeof e=="number"?gu(e):e}),n&&s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${n.isPositive?"bg-success/10 text-success-foreground":"bg-destructive/10 text-destructive-foreground"}`,children:[n.isPositive?"":""," ",Math.abs(n.value),"%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]}),r&&s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx("div",{className:"text-primary w-6 h-6",children:r})})]})})}function Qt({status:t,className:e=""}){return s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${uM(t)} ${e}`,children:UW(t)})}function qa({priority:t,className:e=""}){const r={low:"",medium:"",high:"",critical:""}[t];return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium border ${zW(t)} ${e}`,children:[s.jsx("span",{children:r}),WW(t)]})}function hf({className:t}){return s.jsx("div",{className:VW("animate-pulse rounded-md bg-muted",t)})}function ff(){return s.jsx("div",{className:"bg-gradient-to-br from-background to-muted/30 border border-border/50 rounded-xl p-8",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(hf,{className:"h-4 w-24 mb-2"}),s.jsx(hf,{className:"h-8 w-16 mb-3"}),s.jsx(hf,{className:"h-4 w-20"})]}),s.jsx(hf,{className:"w-12 h-12 rounded-lg"})]})})}var GW=Array.isArray,Rr=GW,KW=typeof Bh=="object"&&Bh&&Bh.Object===Object&&Bh,dM=KW,YW=dM,XW=typeof self=="object"&&self&&self.Object===Object&&self,QW=YW||XW||Function("return this")(),cs=QW,JW=cs,ZW=JW.Symbol,vh=ZW,ZS=vh,hM=Object.prototype,eH=hM.hasOwnProperty,tH=hM.toString,Kc=ZS?ZS.toStringTag:void 0;function rH(t){var e=eH.call(t,Kc),r=t[Kc];try{t[Kc]=void 0;var n=!0}catch{}var i=tH.call(t);return n&&(e?t[Kc]=r:delete t[Kc]),i}var nH=rH,sH=Object.prototype,iH=sH.toString;function aH(t){return iH.call(t)}var oH=aH,ek=vh,lH=nH,cH=oH,uH="[object Null]",dH="[object Undefined]",tk=ek?ek.toStringTag:void 0;function hH(t){return t==null?t===void 0?dH:uH:tk&&tk in Object(t)?lH(t):cH(t)}var Gs=hH;function fH(t){return t!=null&&typeof t=="object"}var Ks=fH,mH=Gs,pH=Ks,gH="[object Symbol]";function xH(t){return typeof t=="symbol"||pH(t)&&mH(t)==gH}var uc=xH,vH=Rr,yH=uc,bH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jH=/^\w*$/;function wH(t,e){if(vH(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||yH(t)?!0:jH.test(t)||!bH.test(t)||e!=null&&t in Object(e)}var t2=wH;function NH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ea=NH;const dc=Ue(ea);var _H=Gs,SH=ea,kH="[object AsyncFunction]",AH="[object Function]",TH="[object GeneratorFunction]",EH="[object Proxy]";function PH(t){if(!SH(t))return!1;var e=_H(t);return e==AH||e==TH||e==kH||e==EH}var r2=PH;const ve=Ue(r2);var CH=cs,IH=CH["__core-js_shared__"],OH=IH,Cv=OH,rk=function(){var t=/[^.]+$/.exec(Cv&&Cv.keys&&Cv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MH(t){return!!rk&&rk in t}var DH=MH,RH=Function.prototype,LH=RH.toString;function $H(t){if(t!=null){try{return LH.call(t)}catch{}try{return t+""}catch{}}return""}var fM=$H,VH=r2,FH=DH,BH=ea,UH=fM,zH=/[\\^$.*+?()[\]{}|]/g,WH=/^\[object .+?Constructor\]$/,HH=Function.prototype,qH=Object.prototype,GH=HH.toString,KH=qH.hasOwnProperty,YH=RegExp("^"+GH.call(KH).replace(zH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XH(t){if(!BH(t)||FH(t))return!1;var e=VH(t)?YH:WH;return e.test(UH(t))}var QH=XH;function JH(t,e){return t==null?void 0:t[e]}var ZH=JH,eq=QH,tq=ZH;function rq(t,e){var r=tq(t,e);return eq(r)?r:void 0}var co=rq,nq=co,sq=nq(Object,"create"),Ig=sq,nk=Ig;function iq(){this.__data__=nk?nk(null):{},this.size=0}var aq=iq;function oq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lq=oq,cq=Ig,uq="__lodash_hash_undefined__",dq=Object.prototype,hq=dq.hasOwnProperty;function fq(t){var e=this.__data__;if(cq){var r=e[t];return r===uq?void 0:r}return hq.call(e,t)?e[t]:void 0}var mq=fq,pq=Ig,gq=Object.prototype,xq=gq.hasOwnProperty;function vq(t){var e=this.__data__;return pq?e[t]!==void 0:xq.call(e,t)}var yq=vq,bq=Ig,jq="__lodash_hash_undefined__";function wq(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=bq&&e===void 0?jq:e,this}var Nq=wq,_q=aq,Sq=lq,kq=mq,Aq=yq,Tq=Nq;function hc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hc.prototype.clear=_q;hc.prototype.delete=Sq;hc.prototype.get=kq;hc.prototype.has=Aq;hc.prototype.set=Tq;var Eq=hc;function Pq(){this.__data__=[],this.size=0}var Cq=Pq;function Iq(t,e){return t===e||t!==t&&e!==e}var n2=Iq,Oq=n2;function Mq(t,e){for(var r=t.length;r--;)if(Oq(t[r][0],e))return r;return-1}var Og=Mq,Dq=Og,Rq=Array.prototype,Lq=Rq.splice;function $q(t){var e=this.__data__,r=Dq(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Lq.call(e,r,1),--this.size,!0}var Vq=$q,Fq=Og;function Bq(t){var e=this.__data__,r=Fq(e,t);return r<0?void 0:e[r][1]}var Uq=Bq,zq=Og;function Wq(t){return zq(this.__data__,t)>-1}var Hq=Wq,qq=Og;function Gq(t,e){var r=this.__data__,n=qq(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Kq=Gq,Yq=Cq,Xq=Vq,Qq=Uq,Jq=Hq,Zq=Kq;function fc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fc.prototype.clear=Yq;fc.prototype.delete=Xq;fc.prototype.get=Qq;fc.prototype.has=Jq;fc.prototype.set=Zq;var Mg=fc,eG=co,tG=cs,rG=eG(tG,"Map"),s2=rG,sk=Eq,nG=Mg,sG=s2;function iG(){this.size=0,this.__data__={hash:new sk,map:new(sG||nG),string:new sk}}var aG=iG;function oG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lG=oG,cG=lG;function uG(t,e){var r=t.__data__;return cG(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Dg=uG,dG=Dg;function hG(t){var e=dG(this,t).delete(t);return this.size-=e?1:0,e}var fG=hG,mG=Dg;function pG(t){return mG(this,t).get(t)}var gG=pG,xG=Dg;function vG(t){return xG(this,t).has(t)}var yG=vG,bG=Dg;function jG(t,e){var r=bG(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var wG=jG,NG=aG,_G=fG,SG=gG,kG=yG,AG=wG;function mc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mc.prototype.clear=NG;mc.prototype.delete=_G;mc.prototype.get=SG;mc.prototype.has=kG;mc.prototype.set=AG;var i2=mc,mM=i2,TG="Expected a function";function a2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(TG);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(a2.Cache||mM),r}a2.Cache=mM;var pM=a2;const EG=Ue(pM);var PG=pM,CG=500;function IG(t){var e=PG(t,function(n){return r.size===CG&&r.clear(),n}),r=e.cache;return e}var OG=IG,MG=OG,DG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,RG=/\\(\\)?/g,LG=MG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(DG,function(r,n,i,a){e.push(i?a.replace(RG,"$1"):n||r)}),e}),$G=LG;function VG(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var o2=VG,ik=vh,FG=o2,BG=Rr,UG=uc,ak=ik?ik.prototype:void 0,ok=ak?ak.toString:void 0;function gM(t){if(typeof t=="string")return t;if(BG(t))return FG(t,gM)+"";if(UG(t))return ok?ok.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zG=gM,WG=zG;function HG(t){return t==null?"":WG(t)}var xM=HG,qG=Rr,GG=t2,KG=$G,YG=xM;function XG(t,e){return qG(t)?t:GG(t,e)?[t]:KG(YG(t))}var vM=XG,QG=uc;function JG(t){if(typeof t=="string"||QG(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Rg=JG,ZG=vM,eK=Rg;function tK(t,e){e=ZG(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[eK(e[r++])];return r&&r==n?t:void 0}var l2=tK,rK=l2;function nK(t,e,r){var n=t==null?void 0:rK(t,e);return n===void 0?r:n}var yM=nK;const qr=Ue(yM);function sK(t){return t==null}var iK=sK;const be=Ue(iK);var aK=Gs,oK=Rr,lK=Ks,cK="[object String]";function uK(t){return typeof t=="string"||!oK(t)&&lK(t)&&aK(t)==cK}var dK=uK;const Ga=Ue(dK);var bM={exports:{}},ze={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2=Symbol.for("react.element"),u2=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),Fg=Symbol.for("react.provider"),Bg=Symbol.for("react.context"),hK=Symbol.for("react.server_context"),Ug=Symbol.for("react.forward_ref"),zg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),Hg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),fK=Symbol.for("react.offscreen"),jM;jM=Symbol.for("react.module.reference");function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c2:switch(t=t.type,t){case Lg:case Vg:case $g:case zg:case Wg:return t;default:switch(t=t&&t.$$typeof,t){case hK:case Bg:case Ug:case qg:case Hg:case Fg:return t;default:return e}}case u2:return e}}}ze.ContextConsumer=Bg;ze.ContextProvider=Fg;ze.Element=c2;ze.ForwardRef=Ug;ze.Fragment=Lg;ze.Lazy=qg;ze.Memo=Hg;ze.Portal=u2;ze.Profiler=Vg;ze.StrictMode=$g;ze.Suspense=zg;ze.SuspenseList=Wg;ze.isAsyncMode=function(){return!1};ze.isConcurrentMode=function(){return!1};ze.isContextConsumer=function(t){return vn(t)===Bg};ze.isContextProvider=function(t){return vn(t)===Fg};ze.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c2};ze.isForwardRef=function(t){return vn(t)===Ug};ze.isFragment=function(t){return vn(t)===Lg};ze.isLazy=function(t){return vn(t)===qg};ze.isMemo=function(t){return vn(t)===Hg};ze.isPortal=function(t){return vn(t)===u2};ze.isProfiler=function(t){return vn(t)===Vg};ze.isStrictMode=function(t){return vn(t)===$g};ze.isSuspense=function(t){return vn(t)===zg};ze.isSuspenseList=function(t){return vn(t)===Wg};ze.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lg||t===Vg||t===$g||t===zg||t===Wg||t===fK||typeof t=="object"&&t!==null&&(t.$$typeof===qg||t.$$typeof===Hg||t.$$typeof===Fg||t.$$typeof===Bg||t.$$typeof===Ug||t.$$typeof===jM||t.getModuleId!==void 0)};ze.typeOf=vn;bM.exports=ze;var mK=bM.exports,pK=Gs,gK=Ks,xK="[object Number]";function vK(t){return typeof t=="number"||gK(t)&&pK(t)==xK}var wM=vK;const yK=Ue(wM);var bK=wM;function jK(t){return bK(t)&&t!=+t}var wK=jK;const yh=Ue(wK);var Nr=function(e){return e===0?0:e>0?1:-1},Sa=function(e){return Ga(e)&&e.indexOf("%")===e.length-1},ee=function(e){return yK(e)&&!yh(e)},NK=function(e){return be(e)},Vt=function(e){return ee(e)||Ga(e)},_K=0,pc=function(e){var r=++_K;return"".concat(e||"").concat(r)},_r=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Ga(e))return n;var a;if(Sa(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return yh(a)&&(a=n),i&&a>r&&(a=r),a},vi=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},SK=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ur=function(e,r){return ee(e)&&ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function qm(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):qr(n,e))===r})}var kK=function(e,r){return ee(e)&&ee(r)?e-r:Ga(e)&&Ga(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function il(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}var AK=["viewBox","children"],TK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lk=["points","pathLength"],Iv={svg:AK,polygon:lk,polyline:lk},d2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gm=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(E.isValidElement(e)&&(n=e.props),!dc(n))return null;var i={};return Object.keys(n).forEach(function(a){d2.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},EK=function(e,r,n){return function(i){return e(r,n,i),null}},Ka=function(e,r,n){if(!dc(e)||Mb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];d2.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=EK(o,r,n))}),i},PK=["children"],CK=["children"];function ck(t,e){if(t==null)return{};var r=IK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}var uk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ts=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dk=null,Ov=null,h2=function t(e){if(e===dk&&Array.isArray(Ov))return Ov;var r=[];return E.Children.forEach(e,function(n){be(n)||(mK.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ov=r,dk=e,r};function Gr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ts(i)}):n=[Ts(e)],h2(t).forEach(function(i){var a=qr(i,"type.displayName")||qr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Br(t,e){var r=Gr(t,e);return r&&r[0]}var hk=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ee(n)||n<=0||!ee(i)||i<=0)},OK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],MK=function(e){return e&&e.type&&Ga(e.type)&&OK.indexOf(e.type)>=0},DK=function(e){return e&&Db(e)==="object"&&"clipDot"in e},RK=function(e,r,n,i){var a,o=(a=Iv==null?void 0:Iv[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ve(e)&&(i&&o.includes(r)||TK.includes(r))||n&&d2.includes(r)},de=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(E.isValidElement(e)&&(i=e.props),!dc(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;RK((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},Rb=function t(e,r){if(e===r)return!0;var n=E.Children.count(e);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return fk(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!fk(a,o))return!1}return!0},fk=function(e,r){if(be(e)&&be(r))return!0;if(!be(e)&&!be(r)){var n=e.props||{},i=n.children,a=ck(n,PK),o=r.props||{},l=o.children,c=ck(o,CK);return i&&l?il(a,c)&&Rb(i,l):!i&&!l?il(a,c):!1}return!1},mk=function(e,r){var n=[],i={};return h2(e).forEach(function(a,o){if(MK(a))n.push(a);else if(a){var l=Ts(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(a,l,o);n.push(h),i[l]=!0}}}),n},LK=function(e){var r=e&&e.type;return r&&uk[r]?uk[r]:null},$K=function(e,r){return h2(r).indexOf(e)},VK=["children","width","height","viewBox","className","style","title","desc"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lb.apply(this,arguments)}function FK(t,e){if(t==null)return{};var r=BK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $b(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=FK(t,VK),d=i||{width:r,height:n,x:0,y:0},h=Ne("recharts-surface",a);return $.createElement("svg",Lb({},de(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),$.createElement("title",null,l),$.createElement("desc",null,c),e)}var UK=["children","className"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vb.apply(this,arguments)}function zK(t,e){if(t==null)return{};var r=WK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Re=$.forwardRef(function(t,e){var r=t.children,n=t.className,i=zK(t,UK),a=Ne("recharts-layer",n);return $.createElement("g",Vb({className:a},de(i,!0),{ref:e}),r)}),Mn=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function HK(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var qK=HK,GK=qK;function KK(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:GK(t,e,r)}var YK=KK,XK="\\ud800-\\udfff",QK="\\u0300-\\u036f",JK="\\ufe20-\\ufe2f",ZK="\\u20d0-\\u20ff",eY=QK+JK+ZK,tY="\\ufe0e\\ufe0f",rY="\\u200d",nY=RegExp("["+rY+XK+eY+tY+"]");function sY(t){return nY.test(t)}var NM=sY;function iY(t){return t.split("")}var aY=iY,_M="\\ud800-\\udfff",oY="\\u0300-\\u036f",lY="\\ufe20-\\ufe2f",cY="\\u20d0-\\u20ff",uY=oY+lY+cY,dY="\\ufe0e\\ufe0f",hY="["+_M+"]",Fb="["+uY+"]",Bb="\\ud83c[\\udffb-\\udfff]",fY="(?:"+Fb+"|"+Bb+")",SM="[^"+_M+"]",kM="(?:\\ud83c[\\udde6-\\uddff]){2}",AM="[\\ud800-\\udbff][\\udc00-\\udfff]",mY="\\u200d",TM=fY+"?",EM="["+dY+"]?",pY="(?:"+mY+"(?:"+[SM,kM,AM].join("|")+")"+EM+TM+")*",gY=EM+TM+pY,xY="(?:"+[SM+Fb+"?",Fb,kM,AM,hY].join("|")+")",vY=RegExp(Bb+"(?="+Bb+")|"+xY+gY,"g");function yY(t){return t.match(vY)||[]}var bY=yY,jY=aY,wY=NM,NY=bY;function _Y(t){return wY(t)?NY(t):jY(t)}var SY=_Y,kY=YK,AY=NM,TY=SY,EY=xM;function PY(t){return function(e){e=EY(e);var r=AY(e)?TY(e):void 0,n=r?r[0]:e.charAt(0),i=r?kY(r,1).join(""):e.slice(1);return n[t]()+i}}var CY=PY,IY=CY,OY=IY("toUpperCase"),MY=OY;const Gg=Ue(MY);function Xe(t){return function(){return t}}const PM=Math.cos,Km=Math.sin,Vn=Math.sqrt,Ym=Math.PI,Kg=2*Ym,Ub=Math.PI,zb=2*Ub,ga=1e-6,DY=zb-ga;function CM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function RY(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class LY{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CM:RY(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>ga)if(!(Math.abs(h*c-u*d)>ga)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=i-l,g=c*c+u*u,j=p*p+v*v,x=Math.sqrt(g),y=Math.sqrt(f),b=a*Math.tan((Ub-Math.acos((g+f-j)/(2*x*y)))/2),_=b/y,w=b/x;Math.abs(_-1)>ga&&this._append`L${e+_*d},${r+_*h}`,this._append`A${a},${a},0,0,${+(h*p>d*v)},${this._x1=e+w*c},${this._y1=r+w*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ga||Math.abs(this._y1-d)>ga)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%zb+zb),f>DY?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>ga&&this._append`A${n},${n},0,${+(f>=Ub)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function f2(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new LY(e)}function m2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IM(t){this._context=t}IM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Yg(t){return new IM(t)}function OM(t){return t[0]}function MM(t){return t[1]}function DM(t,e){var r=Xe(!0),n=null,i=Yg,a=null,o=f2(l);t=typeof t=="function"?t:t===void 0?OM:Xe(t),e=typeof e=="function"?e:e===void 0?MM:Xe(e);function l(c){var u,d=(c=m2(c)).length,h,f=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(h,u,c),+e(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Xe(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Xe(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Xe(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function mf(t,e,r){var n=null,i=Xe(!0),a=null,o=Yg,l=null,c=f2(u);t=typeof t=="function"?t:t===void 0?OM:Xe(+t),e=typeof e=="function"?e:Xe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?MM:Xe(+r);function u(h){var f,p,v,g=(h=m2(h)).length,j,x=!1,y,b=new Array(g),_=new Array(g);for(a==null&&(l=o(y=c())),f=0;f<=g;++f){if(!(f<g&&i(j=h[f],f,h))===x)if(x=!x)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=p;--v)l.point(b[v],_[v]);l.lineEnd(),l.areaEnd()}x&&(b[f]=+t(j,f,h),_[f]=+e(j,f,h),l.point(n?+n(j,f,h):b[f],r?+r(j,f,h):_[f]))}if(y)return l=null,y+""||null}function d(){return DM().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Xe(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Xe(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Xe(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Xe(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Xe(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Xe(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Xe(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class RM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function $Y(t){return new RM(t,!0)}function VY(t){return new RM(t,!1)}const p2={draw(t,e){const r=Vn(e/Ym);t.moveTo(r,0),t.arc(0,0,r,0,Kg)}},FY={draw(t,e){const r=Vn(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},LM=Vn(1/3),BY=LM*2,UY={draw(t,e){const r=Vn(e/BY),n=r*LM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},zY={draw(t,e){const r=Vn(e),n=-r/2;t.rect(n,n,r,r)}},WY=.8908130915292852,$M=Km(Ym/10)/Km(7*Ym/10),HY=Km(Kg/10)*$M,qY=-PM(Kg/10)*$M,GY={draw(t,e){const r=Vn(e*WY),n=HY*r,i=qY*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Kg*a/5,l=PM(o),c=Km(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},Mv=Vn(3),KY={draw(t,e){const r=-Vn(e/(Mv*3));t.moveTo(0,r*2),t.lineTo(-Mv*r,-r),t.lineTo(Mv*r,-r),t.closePath()}},Zr=-.5,en=Vn(3)/2,Wb=1/Vn(12),YY=(Wb/2+1)*3,XY={draw(t,e){const r=Vn(e/YY),n=r/2,i=r*Wb,a=n,o=r*Wb+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Zr*n-en*i,en*n+Zr*i),t.lineTo(Zr*a-en*o,en*a+Zr*o),t.lineTo(Zr*l-en*c,en*l+Zr*c),t.lineTo(Zr*n+en*i,Zr*i-en*n),t.lineTo(Zr*a+en*o,Zr*o-en*a),t.lineTo(Zr*l+en*c,Zr*c-en*l),t.closePath()}};function QY(t,e){let r=null,n=f2(i);t=typeof t=="function"?t:Xe(t||p2),e=typeof e=="function"?e:Xe(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Xe(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xm(){}function Qm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JY(t){return new VM(t)}function FM(t){this._context=t}FM.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZY(t){return new FM(t)}function BM(t){this._context=t}BM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eX(t){return new BM(t)}function UM(t){this._context=t}UM.prototype={areaStart:Xm,areaEnd:Xm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tX(t){return new UM(t)}function pk(t){return t<0?-1:1}function gk(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(pk(a)+pk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function xk(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Dv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function Jm(t){this._context=t}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Dv(this,this._t0,xk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Dv(this,xk(this,r=gk(this,t,e)),r);break;default:Dv(this,this._t0,r=gk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function zM(t){this._context=new WM(t)}(zM.prototype=Object.create(Jm.prototype)).point=function(t,e){Jm.prototype.point.call(this,e,t)};function WM(t){this._context=t}WM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function rX(t){return new Jm(t)}function nX(t){return new zM(t)}function HM(t){this._context=t}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=vk(t),i=vk(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vk(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function sX(t){return new HM(t)}function Xg(t,e){this._context=t,this._t=e}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function iX(t){return new Xg(t,.5)}function aX(t){return new Xg(t,0)}function oX(t){return new Xg(t,1)}function wl(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Hb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function lX(t,e){return t[e]}function cX(t){const e=[];return e.key=t,e}function uX(){var t=Xe([]),e=Hb,r=wl,n=lX;function i(a){var o=Array.from(t.apply(this,arguments),cX),l,c=o.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,a)]).data=h;for(l=0,d=m2(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Xe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Xe(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Hb:typeof a=="function"?a:Xe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??wl,i):r},i}function dX(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}wl(t,e)}}function hX(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}wl(t,e)}}function fX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,v=0;v<l;++v){var g=t[e[v]],j=g[n][1]||0,x=g[n-1][1]||0;p+=j-x}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,wl(t,e)}}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var mX=["type","size","sizeType"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qb.apply(this,arguments)}function yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(r),!0).forEach(function(n){pX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pX(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=xX(t,"string");return yd(e)=="symbol"?e:e+""}function xX(t,e){if(yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vX(t,e){if(t==null)return{};var r=yX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qM={symbolCircle:p2,symbolCross:FY,symbolDiamond:UY,symbolSquare:zY,symbolStar:GY,symbolTriangle:KY,symbolWye:XY},bX=Math.PI/180,jX=function(e){var r="symbol".concat(Gg(e));return qM[r]||p2},wX=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*bX;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},NX=function(e,r){qM["symbol".concat(Gg(e))]=r},g2=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=vX(e,mX),u=bk(bk({},c),{},{type:n,size:a,sizeType:l}),d=function(){var j=jX(n),x=QY().type(j).size(wX(a,l,n));return x()},h=u.className,f=u.cx,p=u.cy,v=de(u,!0);return f===+f&&p===+p&&a===+a?$.createElement("path",qb({},v,{className:Ne("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};g2.registerSymbol=NX;function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(this,arguments)}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _X(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){bd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KM(n.key),n)}}function AX(t,e,r){return e&&kX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TX(t,e,r){return e=Zm(e),EX(t,GM()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function EX(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PX(t)}function PX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function CX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kb(t,e)}function bd(t,e,r){return e=KM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KM(t){var e=IX(t,"string");return Nl(e)=="symbol"?e:e+""}function IX(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tn=32,x2=function(t){function e(){return SX(this,e),TX(this,e,arguments)}return CX(e,t),AX(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=tn/2,o=tn/6,l=tn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:tn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(tn,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(tn/8,"h").concat(tn,"v").concat(tn*3/4,"h").concat(-tn,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var u=_X({},n);return delete u.legendIcon,$.cloneElement(n.legendIcon,u)}return $.createElement(g2,{fill:c,cx:a,cy:a,size:tn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:tn,height:tn},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,v){var g=p.formatter||c,j=Ne(bd(bd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ve(p.value)?null:p.value;Mn(!ve(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return $.createElement("li",Gb({className:j,style:h,key:"legend-item-".concat(v)},Ka(n.props,p,v)),$.createElement($b,{width:o,height:o,viewBox:d,style:f},n.renderIcon(p)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(x,p,v):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(E.PureComponent);bd(x2,"displayName","Legend");bd(x2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var OX=Mg;function MX(){this.__data__=new OX,this.size=0}var DX=MX;function RX(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var LX=RX;function $X(t){return this.__data__.get(t)}var VX=$X;function FX(t){return this.__data__.has(t)}var BX=FX,UX=Mg,zX=s2,WX=i2,HX=200;function qX(t,e){var r=this.__data__;if(r instanceof UX){var n=r.__data__;if(!zX||n.length<HX-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new WX(n)}return r.set(t,e),this.size=r.size,this}var GX=qX,KX=Mg,YX=DX,XX=LX,QX=VX,JX=BX,ZX=GX;function gc(t){var e=this.__data__=new KX(t);this.size=e.size}gc.prototype.clear=YX;gc.prototype.delete=XX;gc.prototype.get=QX;gc.prototype.has=JX;gc.prototype.set=ZX;var YM=gc,eQ="__lodash_hash_undefined__";function tQ(t){return this.__data__.set(t,eQ),this}var rQ=tQ;function nQ(t){return this.__data__.has(t)}var sQ=nQ,iQ=i2,aQ=rQ,oQ=sQ;function ep(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new iQ;++e<r;)this.add(t[e])}ep.prototype.add=ep.prototype.push=aQ;ep.prototype.has=oQ;var XM=ep;function lQ(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var QM=lQ;function cQ(t,e){return t.has(e)}var JM=cQ,uQ=XM,dQ=QM,hQ=JM,fQ=1,mQ=2;function pQ(t,e,r,n,i,a){var o=r&fQ,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&mQ?new uQ:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var v=t[h],g=e[h];if(n)var j=o?n(g,v,h,e,t,a):n(v,g,h,t,e,a);if(j!==void 0){if(j)continue;f=!1;break}if(p){if(!dQ(e,function(x,y){if(!hQ(p,y)&&(v===x||i(v,x,r,n,a)))return p.push(y)})){f=!1;break}}else if(!(v===g||i(v,g,r,n,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var ZM=pQ,gQ=cs,xQ=gQ.Uint8Array,vQ=xQ;function yQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var bQ=yQ;function jQ(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var v2=jQ,wk=vh,Nk=vQ,wQ=n2,NQ=ZM,_Q=bQ,SQ=v2,kQ=1,AQ=2,TQ="[object Boolean]",EQ="[object Date]",PQ="[object Error]",CQ="[object Map]",IQ="[object Number]",OQ="[object RegExp]",MQ="[object Set]",DQ="[object String]",RQ="[object Symbol]",LQ="[object ArrayBuffer]",$Q="[object DataView]",_k=wk?wk.prototype:void 0,Rv=_k?_k.valueOf:void 0;function VQ(t,e,r,n,i,a,o){switch(r){case $Q:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case LQ:return!(t.byteLength!=e.byteLength||!a(new Nk(t),new Nk(e)));case TQ:case EQ:case IQ:return wQ(+t,+e);case PQ:return t.name==e.name&&t.message==e.message;case OQ:case DQ:return t==e+"";case CQ:var l=_Q;case MQ:var c=n&kQ;if(l||(l=SQ),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=AQ,o.set(t,e);var d=NQ(l(t),l(e),n,i,a,o);return o.delete(t),d;case RQ:if(Rv)return Rv.call(t)==Rv.call(e)}return!1}var FQ=VQ;function BQ(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var eD=BQ,UQ=eD,zQ=Rr;function WQ(t,e,r){var n=e(t);return zQ(t)?n:UQ(n,r(t))}var HQ=WQ;function qQ(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var GQ=qQ;function KQ(){return[]}var YQ=KQ,XQ=GQ,QQ=YQ,JQ=Object.prototype,ZQ=JQ.propertyIsEnumerable,Sk=Object.getOwnPropertySymbols,eJ=Sk?function(t){return t==null?[]:(t=Object(t),XQ(Sk(t),function(e){return ZQ.call(t,e)}))}:QQ,tJ=eJ;function rJ(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var nJ=rJ,sJ=Gs,iJ=Ks,aJ="[object Arguments]";function oJ(t){return iJ(t)&&sJ(t)==aJ}var lJ=oJ,kk=lJ,cJ=Ks,tD=Object.prototype,uJ=tD.hasOwnProperty,dJ=tD.propertyIsEnumerable,hJ=kk(function(){return arguments}())?kk:function(t){return cJ(t)&&uJ.call(t,"callee")&&!dJ.call(t,"callee")},y2=hJ,tp={exports:{}};function fJ(){return!1}var mJ=fJ;tp.exports;(function(t,e){var r=cs,n=mJ,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(tp,tp.exports);var rD=tp.exports,pJ=9007199254740991,gJ=/^(?:0|[1-9]\d*)$/;function xJ(t,e){var r=typeof t;return e=e??pJ,!!e&&(r=="number"||r!="symbol"&&gJ.test(t))&&t>-1&&t%1==0&&t<e}var b2=xJ,vJ=9007199254740991;function yJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vJ}var j2=yJ,bJ=Gs,jJ=j2,wJ=Ks,NJ="[object Arguments]",_J="[object Array]",SJ="[object Boolean]",kJ="[object Date]",AJ="[object Error]",TJ="[object Function]",EJ="[object Map]",PJ="[object Number]",CJ="[object Object]",IJ="[object RegExp]",OJ="[object Set]",MJ="[object String]",DJ="[object WeakMap]",RJ="[object ArrayBuffer]",LJ="[object DataView]",$J="[object Float32Array]",VJ="[object Float64Array]",FJ="[object Int8Array]",BJ="[object Int16Array]",UJ="[object Int32Array]",zJ="[object Uint8Array]",WJ="[object Uint8ClampedArray]",HJ="[object Uint16Array]",qJ="[object Uint32Array]",st={};st[$J]=st[VJ]=st[FJ]=st[BJ]=st[UJ]=st[zJ]=st[WJ]=st[HJ]=st[qJ]=!0;st[NJ]=st[_J]=st[RJ]=st[SJ]=st[LJ]=st[kJ]=st[AJ]=st[TJ]=st[EJ]=st[PJ]=st[CJ]=st[IJ]=st[OJ]=st[MJ]=st[DJ]=!1;function GJ(t){return wJ(t)&&jJ(t.length)&&!!st[bJ(t)]}var KJ=GJ;function YJ(t){return function(e){return t(e)}}var nD=YJ,rp={exports:{}};rp.exports;(function(t,e){var r=dM,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(rp,rp.exports);var XJ=rp.exports,QJ=KJ,JJ=nD,Ak=XJ,Tk=Ak&&Ak.isTypedArray,ZJ=Tk?JJ(Tk):QJ,sD=ZJ,eZ=nJ,tZ=y2,rZ=Rr,nZ=rD,sZ=b2,iZ=sD,aZ=Object.prototype,oZ=aZ.hasOwnProperty;function lZ(t,e){var r=rZ(t),n=!r&&tZ(t),i=!r&&!n&&nZ(t),a=!r&&!n&&!i&&iZ(t),o=r||n||i||a,l=o?eZ(t.length,String):[],c=l.length;for(var u in t)(e||oZ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sZ(u,c)))&&l.push(u);return l}var cZ=lZ,uZ=Object.prototype;function dZ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||uZ;return t===r}var hZ=dZ;function fZ(t,e){return function(r){return t(e(r))}}var iD=fZ,mZ=iD,pZ=mZ(Object.keys,Object),gZ=pZ,xZ=hZ,vZ=gZ,yZ=Object.prototype,bZ=yZ.hasOwnProperty;function jZ(t){if(!xZ(t))return vZ(t);var e=[];for(var r in Object(t))bZ.call(t,r)&&r!="constructor"&&e.push(r);return e}var wZ=jZ,NZ=r2,_Z=j2;function SZ(t){return t!=null&&_Z(t.length)&&!NZ(t)}var bh=SZ,kZ=cZ,AZ=wZ,TZ=bh;function EZ(t){return TZ(t)?kZ(t):AZ(t)}var Qg=EZ,PZ=HQ,CZ=tJ,IZ=Qg;function OZ(t){return PZ(t,IZ,CZ)}var MZ=OZ,Ek=MZ,DZ=1,RZ=Object.prototype,LZ=RZ.hasOwnProperty;function $Z(t,e,r,n,i,a){var o=r&DZ,l=Ek(t),c=l.length,u=Ek(e),d=u.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:LZ.call(e,f)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);for(var j=o;++h<c;){f=l[h];var x=t[f],y=e[f];if(n)var b=o?n(y,x,f,e,t,a):n(x,y,f,t,e,a);if(!(b===void 0?x===y||i(x,y,r,n,a):b)){g=!1;break}j||(j=f=="constructor")}if(g&&!j){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var VZ=$Z,FZ=co,BZ=cs,UZ=FZ(BZ,"DataView"),zZ=UZ,WZ=co,HZ=cs,qZ=WZ(HZ,"Promise"),GZ=qZ,KZ=co,YZ=cs,XZ=KZ(YZ,"Set"),aD=XZ,QZ=co,JZ=cs,ZZ=QZ(JZ,"WeakMap"),eee=ZZ,Yb=zZ,Xb=s2,Qb=GZ,Jb=aD,Zb=eee,oD=Gs,xc=fM,Pk="[object Map]",tee="[object Object]",Ck="[object Promise]",Ik="[object Set]",Ok="[object WeakMap]",Mk="[object DataView]",ree=xc(Yb),nee=xc(Xb),see=xc(Qb),iee=xc(Jb),aee=xc(Zb),xa=oD;(Yb&&xa(new Yb(new ArrayBuffer(1)))!=Mk||Xb&&xa(new Xb)!=Pk||Qb&&xa(Qb.resolve())!=Ck||Jb&&xa(new Jb)!=Ik||Zb&&xa(new Zb)!=Ok)&&(xa=function(t){var e=oD(t),r=e==tee?t.constructor:void 0,n=r?xc(r):"";if(n)switch(n){case ree:return Mk;case nee:return Pk;case see:return Ck;case iee:return Ik;case aee:return Ok}return e});var oee=xa,Lv=YM,lee=ZM,cee=FQ,uee=VZ,Dk=oee,Rk=Rr,Lk=rD,dee=sD,hee=1,$k="[object Arguments]",Vk="[object Array]",pf="[object Object]",fee=Object.prototype,Fk=fee.hasOwnProperty;function mee(t,e,r,n,i,a){var o=Rk(t),l=Rk(e),c=o?Vk:Dk(t),u=l?Vk:Dk(e);c=c==$k?pf:c,u=u==$k?pf:u;var d=c==pf,h=u==pf,f=c==u;if(f&&Lk(t)){if(!Lk(e))return!1;o=!0,d=!1}if(f&&!d)return a||(a=new Lv),o||dee(t)?lee(t,e,r,n,i,a):cee(t,e,c,r,n,i,a);if(!(r&hee)){var p=d&&Fk.call(t,"__wrapped__"),v=h&&Fk.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,j=v?e.value():e;return a||(a=new Lv),i(g,j,r,n,a)}}return f?(a||(a=new Lv),uee(t,e,r,n,i,a)):!1}var pee=mee,gee=pee,Bk=Ks;function lD(t,e,r,n,i){return t===e?!0:t==null||e==null||!Bk(t)&&!Bk(e)?t!==t&&e!==e:gee(t,e,r,n,lD,i)}var w2=lD,xee=YM,vee=w2,yee=1,bee=2;function jee(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var l=r[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<a;){l=r[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var h=new xee;if(n)var f=n(u,d,c,t,e,h);if(!(f===void 0?vee(d,u,yee|bee,n,h):f))return!1}}return!0}var wee=jee,Nee=ea;function _ee(t){return t===t&&!Nee(t)}var cD=_ee,See=cD,kee=Qg;function Aee(t){for(var e=kee(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,See(i)]}return e}var Tee=Aee;function Eee(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var uD=Eee,Pee=wee,Cee=Tee,Iee=uD;function Oee(t){var e=Cee(t);return e.length==1&&e[0][2]?Iee(e[0][0],e[0][1]):function(r){return r===t||Pee(r,t,e)}}var Mee=Oee;function Dee(t,e){return t!=null&&e in Object(t)}var Ree=Dee,Lee=vM,$ee=y2,Vee=Rr,Fee=b2,Bee=j2,Uee=Rg;function zee(t,e,r){e=Lee(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=Uee(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&Bee(i)&&Fee(o,i)&&(Vee(t)||$ee(t)))}var Wee=zee,Hee=Ree,qee=Wee;function Gee(t,e){return t!=null&&qee(t,e,Hee)}var Kee=Gee,Yee=w2,Xee=yM,Qee=Kee,Jee=t2,Zee=cD,ete=uD,tte=Rg,rte=1,nte=2;function ste(t,e){return Jee(t)&&Zee(e)?ete(tte(t),e):function(r){var n=Xee(r,t);return n===void 0&&n===e?Qee(r,t):Yee(e,n,rte|nte)}}var ite=ste;function ate(t){return t}var vc=ate;function ote(t){return function(e){return e==null?void 0:e[t]}}var lte=ote,cte=l2;function ute(t){return function(e){return cte(e,t)}}var dte=ute,hte=lte,fte=dte,mte=t2,pte=Rg;function gte(t){return mte(t)?hte(pte(t)):fte(t)}var xte=gte,vte=Mee,yte=ite,bte=vc,jte=Rr,wte=xte;function Nte(t){return typeof t=="function"?t:t==null?bte:typeof t=="object"?jte(t)?yte(t[0],t[1]):vte(t):wte(t)}var us=Nte;function _te(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var dD=_te;function Ste(t){return t!==t}var kte=Ste;function Ate(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var Tte=Ate,Ete=dD,Pte=kte,Cte=Tte;function Ite(t,e,r){return e===e?Cte(t,e,r):Ete(t,Pte,r)}var Ote=Ite,Mte=Ote;function Dte(t,e){var r=t==null?0:t.length;return!!r&&Mte(t,e,0)>-1}var Rte=Dte;function Lte(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var $te=Lte;function Vte(){}var Fte=Vte,$v=aD,Bte=Fte,Ute=v2,zte=1/0,Wte=$v&&1/Ute(new $v([,-0]))[1]==zte?function(t){return new $v(t)}:Bte,Hte=Wte,qte=XM,Gte=Rte,Kte=$te,Yte=JM,Xte=Hte,Qte=v2,Jte=200;function Zte(t,e,r){var n=-1,i=Gte,a=t.length,o=!0,l=[],c=l;if(r)o=!1,i=Kte;else if(a>=Jte){var u=e?null:Xte(t);if(u)return Qte(u);o=!1,i=Yte,c=new qte}else c=e?[]:l;e:for(;++n<a;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;e&&c.push(h),l.push(d)}else i(c,h,r)||(c!==l&&c.push(h),l.push(d))}return l}var ere=Zte,tre=us,rre=ere;function nre(t,e){return t&&t.length?rre(t,tre(e)):[]}var sre=nre;const Uk=Ue(sre);function hD(t,e,r){return e===!0?Uk(t,r):ve(e)?Uk(t,e):t}function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}var ire=["ref"];function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){Jg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mD(n.key),n)}}function ore(t,e,r){return e&&Wk(t.prototype,e),r&&Wk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lre(t,e,r){return e=np(e),cre(t,fD()?Reflect.construct(e,r||[],np(t).constructor):e.apply(t,r))}function cre(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ure(t)}function ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},np(t)}function dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e0(t,e)}function e0(t,e){return e0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e0(t,e)}function Jg(t,e,r){return e=mD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mD(t){var e=hre(t,"string");return _l(e)=="symbol"?e:e+""}function hre(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fre(t,e){if(t==null)return{};var r=mre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pre(t){return t.value}function gre(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var r=fre(e,ire);return $.createElement(x2,r)}var Hk=1,$i=function(t){function e(){var r;are(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lre(this,e,[].concat(i)),Jg(r,"lastBoundingBox",{width:-1,height:-1}),r}return dre(e,t),ore(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Hk||Math.abs(i.height-this.lastBoundingBox.height)>Hk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fs(fs({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=fs(fs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},gre(a,fs(fs({},this.props),{},{payload:hD(d,u,pre)})))}}],[{key:"getWithHeight",value:function(n,i){var a=fs(fs({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ee(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(E.PureComponent);Jg($i,"displayName","Legend");Jg($i,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qk=vh,xre=y2,vre=Rr,Gk=qk?qk.isConcatSpreadable:void 0;function yre(t){return vre(t)||xre(t)||!!(Gk&&t&&t[Gk])}var bre=yre,jre=eD,wre=bre;function pD(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=wre),i||(i=[]);++a<o;){var l=t[a];e>0&&r(l)?e>1?pD(l,e-1,r,n,i):jre(i,l):n||(i[i.length]=l)}return i}var gD=pD;function Nre(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++i];if(r(a[c],c,a)===!1)break}return e}}var _re=Nre,Sre=_re,kre=Sre(),Are=kre,Tre=Are,Ere=Qg;function Pre(t,e){return t&&Tre(t,e,Ere)}var xD=Pre,Cre=bh;function Ire(t,e){return function(r,n){if(r==null)return r;if(!Cre(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Ore=Ire,Mre=xD,Dre=Ore,Rre=Dre(Mre),N2=Rre,Lre=N2,$re=bh;function Vre(t,e){var r=-1,n=$re(t)?Array(t.length):[];return Lre(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var vD=Vre;function Fre(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Bre=Fre,Kk=uc;function Ure(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=Kk(t),o=e!==void 0,l=e===null,c=e===e,u=Kk(e);if(!l&&!u&&!a&&t>e||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var zre=Ure,Wre=zre;function Hre(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,l=r.length;++n<o;){var c=Wre(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var qre=Hre,Vv=o2,Gre=l2,Kre=us,Yre=vD,Xre=Bre,Qre=nD,Jre=qre,Zre=vc,ene=Rr;function tne(t,e,r){e.length?e=Vv(e,function(a){return ene(a)?function(o){return Gre(o,a.length===1?a[0]:a)}:a}):e=[Zre];var n=-1;e=Vv(e,Qre(Kre));var i=Yre(t,function(a,o,l){var c=Vv(e,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Xre(i,function(a,o){return Jre(a,o,r)})}var rne=tne;function nne(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var sne=nne,ine=sne,Yk=Math.max;function ane(t,e,r){return e=Yk(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Yk(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=n[i];return l[e]=r(o),ine(t,this,l)}}var one=ane;function lne(t){return function(){return t}}var cne=lne,une=co,dne=function(){try{var t=une(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yD=dne,hne=cne,Xk=yD,fne=vc,mne=Xk?function(t,e){return Xk(t,"toString",{configurable:!0,enumerable:!1,value:hne(e),writable:!0})}:fne,pne=mne,gne=800,xne=16,vne=Date.now;function yne(t){var e=0,r=0;return function(){var n=vne(),i=xne-(n-r);if(r=n,i>0){if(++e>=gne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bne=yne,jne=pne,wne=bne,Nne=wne(jne),_ne=Nne,Sne=vc,kne=one,Ane=_ne;function Tne(t,e){return Ane(kne(t,e,Sne),t+"")}var Ene=Tne,Pne=n2,Cne=bh,Ine=b2,One=ea;function Mne(t,e,r){if(!One(r))return!1;var n=typeof e;return(n=="number"?Cne(r)&&Ine(e,r.length):n=="string"&&e in r)?Pne(r[e],t):!1}var Zg=Mne,Dne=gD,Rne=rne,Lne=Ene,Qk=Zg,$ne=Lne(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Qk(t,e[0],e[1])?e=[]:r>2&&Qk(e[0],e[1],e[2])&&(e=[e[0]]),Rne(t,Dne(e,1),[])}),Vne=$ne;const _2=Ue(Vne);function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function t0(){return t0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t0.apply(this,arguments)}function Fne(t,e){return Wne(t)||zne(t,e)||Une(t,e)||Bne()}function Bne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(t,e){if(t){if(typeof t=="string")return Jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jk(t,e)}}function Jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wne(t){if(Array.isArray(t))return t}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){Hne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hne(t,e,r){return e=qne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=Gne(t,"string");return jd(e)=="symbol"?e:e+""}function Gne(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t){return Array.isArray(t)&&Vt(t[0])&&Vt(t[1])?t.join(" ~ "):t}var Yne=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,g=e.label,j=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,b=function(){if(d&&d.length){var I={padding:0,margin:0},M=(f?_2(d,f):d).map(function(B,U){if(B.type==="none")return null;var R=Fv({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),V=B.formatter||h||Kne,L=B.value,F=B.name,H=L,Y=F;if(V&&H!=null&&Y!=null){var J=V(L,F,B,U,d);if(Array.isArray(J)){var oe=Fne(J,2);H=oe[0],Y=oe[1]}else H=J}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:R},Vt(Y)?$.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Vt(Y)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},H),$.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:I},M)}return null},_=Fv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Fv({margin:0},u),N=!be(g),k=N?g:"",S=Ne("recharts-default-tooltip",p),T=Ne("recharts-tooltip-label",v);N&&j&&d!==void 0&&d!==null&&(k=j(g,d));var O=y?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",t0({className:S,style:_},O),$.createElement("p",{className:T,style:w},$.isValidElement(k)?k:"".concat(k)),b())};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function gf(t,e,r){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t){var e=Qne(t,"string");return wd(e)=="symbol"?e:e+""}function Qne(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yc="recharts-tooltip-wrapper",Jne={visibility:"hidden"};function Zne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ne(Yc,gf(gf(gf(gf({},"".concat(Yc,"-right"),ee(r)&&e&&ee(e.x)&&r>=e.x),"".concat(Yc,"-left"),ee(r)&&e&&ee(e.x)&&r<e.x),"".concat(Yc,"-bottom"),ee(n)&&e&&ee(e.y)&&n>=e.y),"".concat(Yc,"-top"),ee(n)&&e&&ee(e.y)&&n<e.y))}function eA(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&ee(a[n]))return a[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var f=d,p=c[n];return f<p?Math.max(h,c[n]):Math.max(d,c[n])}var v=h+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(h,c[n])}function ese(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tse(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=eA({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=eA({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=ese({translateX:d,translateY:h,useTranslate3d:l})):u=Jne,{cssProperties:u,cssClasses:Zne({translateX:d,translateY:h,coordinate:r})}}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function tA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tA(Object(r),!0).forEach(function(n){n0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jD(n.key),n)}}function sse(t,e,r){return e&&nse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ise(t,e,r){return e=sp(e),ase(t,bD()?Reflect.construct(e,r||[],sp(t).constructor):e.apply(t,r))}function ase(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ose(t)}function ose(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sp(t)}function lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r0(t,e)}function r0(t,e){return r0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r0(t,e)}function n0(t,e,r){return e=jD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jD(t){var e=cse(t,"string");return Sl(e)=="symbol"?e:e+""}function cse(t,e){if(Sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nA=1,use=function(t){function e(){var r;rse(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ise(this,e,[].concat(i)),n0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),n0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return lse(e,t),sse(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>nA||Math.abs(n.height-this.state.lastBoundingBox.height)>nA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,v=i.position,g=i.reverseDirection,j=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,b=tse({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:x}),_=b.cssClasses,w=b.cssProperties,N=rA(rA({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return $.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(S){n.wrapperNode=S}},u)}}])}(E.PureComponent),dse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},uo={isSsr:dse()};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){S2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ND(n.key),n)}}function mse(t,e,r){return e&&fse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pse(t,e,r){return e=ip(e),gse(t,wD()?Reflect.construct(e,r||[],ip(t).constructor):e.apply(t,r))}function gse(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xse(t)}function xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ip(t)}function vse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s0(t,e)}function S2(t,e,r){return e=ND(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ND(t){var e=yse(t,"string");return kl(e)=="symbol"?e:e+""}function yse(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bse(t){return t.dataKey}function jse(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(Yne,e)}var rn=function(t){function e(){return hse(this,e),pse(this,e,arguments)}return vse(e,t),mse(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,v=i.payload,g=i.payloadUniqBy,j=i.position,x=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,_=i.wrapperStyle,w=v??[];h&&w.length&&(w=hD(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),g,bse));var N=w.length>0;return $.createElement(use,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:d,hasPayload:N,offset:p,position:j,reverseDirection:x,useTranslate3d:y,viewBox:b,wrapperStyle:_},jse(u,iA(iA({},this.props),{},{payload:w})))}}])}(E.PureComponent);S2(rn,"displayName","Tooltip");S2(rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wse=cs,Nse=function(){return wse.Date.now()},_se=Nse,Sse=/\s/;function kse(t){for(var e=t.length;e--&&Sse.test(t.charAt(e)););return e}var Ase=kse,Tse=Ase,Ese=/^\s+/;function Pse(t){return t&&t.slice(0,Tse(t)+1).replace(Ese,"")}var Cse=Pse,Ise=Cse,aA=ea,Ose=uc,oA=NaN,Mse=/^[-+]0x[0-9a-f]+$/i,Dse=/^0b[01]+$/i,Rse=/^0o[0-7]+$/i,Lse=parseInt;function $se(t){if(typeof t=="number")return t;if(Ose(t))return oA;if(aA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=aA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ise(t);var r=Dse.test(t);return r||Rse.test(t)?Lse(t.slice(2),r?2:8):Mse.test(t)?oA:+t}var _D=$se,Vse=ea,Bv=_se,lA=_D,Fse="Expected a function",Bse=Math.max,Use=Math.min;function zse(t,e,r){var n,i,a,o,l,c,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Fse);e=lA(e)||0,Vse(r)&&(d=!!r.leading,h="maxWait"in r,a=h?Bse(lA(r.maxWait)||0,e):a,f="trailing"in r?!!r.trailing:f);function p(N){var k=n,S=i;return n=i=void 0,u=N,o=t.apply(S,k),o}function v(N){return u=N,l=setTimeout(x,e),d?p(N):o}function g(N){var k=N-c,S=N-u,T=e-k;return h?Use(T,a-S):T}function j(N){var k=N-c,S=N-u;return c===void 0||k>=e||k<0||h&&S>=a}function x(){var N=Bv();if(j(N))return y(N);l=setTimeout(x,g(N))}function y(N){return l=void 0,f&&n?p(N):(n=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function _(){return l===void 0?o:y(Bv())}function w(){var N=Bv(),k=j(N);if(n=arguments,i=this,c=N,k){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(x,e),p(c)}return l===void 0&&(l=setTimeout(x,e)),o}return w.cancel=b,w.flush=_,w}var Wse=zse,Hse=Wse,qse=ea,Gse="Expected a function";function Kse(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Gse);return qse(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Hse(t,e,{leading:n,maxWait:e,trailing:i})}var Yse=Kse;const SD=Ue(Yse);function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){Xse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xse(t,e,r){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qse(t){var e=Jse(t,"string");return Nd(e)=="symbol"?e:e+""}function Jse(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zse(t,e){return nie(t)||rie(t,e)||tie(t,e)||eie()}function eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(t,e){if(t){if(typeof t=="string")return uA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(t,e)}}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nie(t){if(Array.isArray(t))return t}var Uv=E.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,g=v===void 0?0:v,j=t.id,x=t.className,y=t.onResize,b=t.style,_=b===void 0?{}:b,w=E.useRef(null),N=E.useRef();N.current=y,E.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=E.useState({containerWidth:i.width,containerHeight:i.height}),S=Zse(k,2),T=S[0],O=S[1],C=E.useCallback(function(M,B){O(function(U){var R=Math.round(M),V=Math.round(B);return U.containerWidth===R&&U.containerHeight===V?U:{containerWidth:R,containerHeight:V}})},[]);E.useEffect(function(){var M=function(F){var H,Y=F[0].contentRect,J=Y.width,oe=Y.height;C(J,oe),(H=N.current)===null||H===void 0||H.call(N,J,oe)};g>0&&(M=SD(M,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(M),U=w.current.getBoundingClientRect(),R=U.width,V=U.height;return C(R,V),B.observe(w.current),function(){B.disconnect()}},[C,g]);var I=E.useMemo(function(){var M=T.containerWidth,B=T.containerHeight;if(M<0||B<0)return null;Mn(Sa(o)||Sa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Mn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Sa(o)?M:o,R=Sa(c)?B:c;r&&r>0&&(U?R=U/r:R&&(U=R*r),f&&R>f&&(R=f)),Mn(U>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,R,o,c,d,h,r);var V=!Array.isArray(p)&&Ts(p.type).endsWith("Chart");return $.Children.map(p,function(L){return $.isValidElement(L)?E.cloneElement(L,xf({width:U,height:R},V?{style:xf({height:"100%",width:"100%",maxHeight:R,maxWidth:U},L.props.style)}:{})):L})},[r,p,c,f,h,d,T,o]);return $.createElement("div",{id:j?"".concat(j):void 0,className:Ne("recharts-responsive-container",x),style:xf(xf({},_),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:w},I)}),_d=function(e){return null};_d.displayName="Cell";function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){sie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sie(t,e,r){return e=iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iie(t){var e=aie(t,"string");return Sd(e)=="symbol"?e:e+""}function aie(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jo={widthCache:{},cacheCount:0},oie=2e3,lie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hA="recharts_measurement_span";function cie(t){var e=i0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Mu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||uo.isSsr)return{width:0,height:0};var n=cie(r),i=JSON.stringify({text:e,copyStyle:n});if(jo.widthCache[i])return jo.widthCache[i];try{var a=document.getElementById(hA);a||(a=document.createElement("span"),a.setAttribute("id",hA),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=i0(i0({},lie),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return jo.widthCache[i]=c,++jo.cacheCount>oie&&(jo.cacheCount=0,jo.widthCache={}),c}catch{return{width:0,height:0}}},uie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function ap(t,e){return mie(t)||fie(t,e)||hie(t,e)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hie(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function mie(t){if(Array.isArray(t))return t}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xie(n.key),n)}}function gie(t,e,r){return e&&mA(t.prototype,e),r&&mA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xie(t){var e=vie(t,"string");return kd(e)=="symbol"?e:e+""}function vie(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jie=Object.keys(kD),zo="NaN";function wie(t,e){return t*kD[e]}var vf=function(){function t(e,r){pie(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!yie.test(r)&&(this.num=NaN,this.unit=""),jie.includes(r)&&(this.num=wie(e,r),this.unit="px")}return gie(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=bie.exec(r))!==null&&n!==void 0?n:[],a=ap(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function AD(t){if(t.includes(zo))return zo;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=pA.exec(e))!==null&&r!==void 0?r:[],i=ap(n,4),a=i[1],o=i[2],l=i[3],c=vf.parse(a??""),u=vf.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return zo;e=e.replace(pA,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=gA.exec(e))!==null&&h!==void 0?h:[],p=ap(f,4),v=p[1],g=p[2],j=p[3],x=vf.parse(v??""),y=vf.parse(j??""),b=g==="+"?x.add(y):x.subtract(y);if(b.isNaN())return zo;e=e.replace(gA,b.toString())}return e}var xA=/\(([^()]*)\)/;function Nie(t){for(var e=t;e.includes("(");){var r=xA.exec(e),n=ap(r,2),i=n[1];e=e.replace(xA,AD(i))}return e}function _ie(t){var e=t.replace(/\s+/g,"");return e=Nie(e),e=AD(e),e}function Sie(t){try{return _ie(t)}catch{return zo}}function zv(t){var e=Sie(t.slice(5,-1));return e===zo?"":e}var kie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Aie=["dx","dy","angle","className","breakAll"];function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a0.apply(this,arguments)}function vA(t,e){if(t==null)return{};var r=Tie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yA(t,e){return Iie(t)||Cie(t,e)||Pie(t,e)||Eie()}function Eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t,e){if(t){if(typeof t=="string")return bA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bA(t,e)}}function bA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Iie(t){if(Array.isArray(t))return t}var TD=/[ \f\n\r\t\v\u2028\u2029]+/,ED=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];be(r)||(n?a=r.toString().split(""):a=r.toString().split(TD));var o=a.map(function(c){return{word:c,width:Mu(c,i).width}}),l=n?0:Mu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Oie=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ee(o),h=l,f=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(R,V){var L=V.word,F=V.width,H=R[R.length-1];if(H&&(i==null||a||H.width+F+n<Number(i)))H.words.push(L),H.width+=F+n;else{var Y={words:[L],width:F};R.push(Y)}return R},[])},p=f(r),v=function(U){return U.reduce(function(R,V){return R.width>V.width?R:V})};if(!d)return p;for(var g="",j=function(U){var R=h.slice(0,U),V=ED({breakAll:u,style:c,children:R+g}).wordsWithComputedWidth,L=f(V),F=L.length>o||v(L).width>Number(i);return[F,L]},x=0,y=h.length-1,b=0,_;x<=y&&b<=h.length-1;){var w=Math.floor((x+y)/2),N=w-1,k=j(N),S=yA(k,2),T=S[0],O=S[1],C=j(w),I=yA(C,1),M=I[0];if(!T&&!M&&(x=w+1),T&&M&&(y=w-1),!T&&M){_=O;break}b++}return _||p},jA=function(e){var r=be(e)?[]:e.toString().split(TD);return[{words:r}]},Mie=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!uo.isSsr){var c,u,d=ED({breakAll:o,children:i,style:a});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;c=h,u=f}else return jA(i);return Oie({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return jA(i)},wA="#808080",Ya=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,g=v===void 0?"end":v,j=e.fill,x=j===void 0?wA:j,y=vA(e,kie),b=E.useMemo(function(){return Mie({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),_=y.dx,w=y.dy,N=y.angle,k=y.className,S=y.breakAll,T=vA(y,Aie);if(!Vt(n)||!Vt(a))return null;var O=n+(ee(_)?_:0),C=a+(ee(w)?w:0),I;switch(g){case"start":I=zv("calc(".concat(u,")"));break;case"middle":I=zv("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=zv("calc(".concat(b.length-1," * -").concat(l,")"));break}var M=[];if(h){var B=b[0].width,U=y.width;M.push("scale(".concat((ee(U)?U/B:1)/B,")"))}return N&&M.push("rotate(".concat(N,", ").concat(O,", ").concat(C,")")),M.length&&(T.transform=M.join(" ")),$.createElement("text",a0({},de(T,!0),{x:O,y:C,className:Ne("recharts-text",k),textAnchor:p,fill:x.includes("url")?wA:x}),b.map(function(R,V){var L=R.words.join(S?"":" ");return $.createElement("tspan",{x:O,dy:V===0?I:l,key:"".concat(L,"-").concat(V)},L)}))};function Vi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Die(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k2(t){let e,r,n;t.length!==2?(e=Vi,r=(l,c)=>Vi(t(l),c),n=(l,c)=>t(l)-c):(e=t===Vi||t===Die?t:Rie,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function Rie(){return 0}function PD(t){return t===null?NaN:+t}function*Lie(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $ie=k2(Vi),jh=$ie.right;k2(PD).center;class NA extends Map{constructor(e,r=Bie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(_A(this,e))}has(e){return super.has(_A(this,e))}set(e,r){return super.set(Vie(this,e),r)}delete(e){return super.delete(Fie(this,e))}}function _A({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Vie({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Fie({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Bie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Uie(t=Vi){if(t===Vi)return CD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function CD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zie=Math.sqrt(50),Wie=Math.sqrt(10),Hie=Math.sqrt(2);function op(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=zie?10:a>=Wie?5:a>=Hie?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?op(t,e,r*2):[l,c,u]}function o0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?op(e,t,r):op(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function l0(t,e,r){return e=+e,t=+t,r=+r,op(t,e,r)[2]}function c0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?l0(e,t,r):l0(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function SA(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kA(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ID(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?CD:Uie(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/c+f)),v=Math.min(n,Math.floor(e+(c-u)*h/c+f));ID(t,e,p,v,i)}const a=t[e];let o=r,l=n;for(Xc(t,r,e),i(t[n],a)>0&&Xc(t,r,n);o<l;){for(Xc(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?Xc(t,r,l):(++l,Xc(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Xc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function qie(t,e,r){if(t=Float64Array.from(Lie(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return kA(t);if(e>=1)return SA(t);var n,i=(n-1)*e,a=Math.floor(i),o=SA(ID(t,a).subarray(0,a+1)),l=kA(t.subarray(a+1));return o+(l-o)*(i-a)}}function Gie(t,e,r=PD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Kie(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u0=Symbol("implicit");function A2(){var t=new NA,e=[],r=[],n=u0;function i(a){let o=t.get(a);if(o===void 0){if(n!==u0)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new NA;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return A2(e,r).unknown(n)},yn.apply(i,arguments),i}function Ad(){var t=A2().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,v=p?i:n,g=p?n:i;a=(g-v)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),v+=(g-v-a*(f-c))*d,o=a*(1-c),l&&(v=Math.round(v),o=Math.round(o));var j=Kie(f).map(function(x){return v+a*x});return r(p?j.reverse():j)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return Ad(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},yn.apply(h(),arguments)}function OD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OD(e())},t}function Du(){return OD(Ad.apply(null,arguments).paddingInner(1))}function T2(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function MD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function wh(){}var Td=.7,lp=1/Td,al="\\s*([+-]?\\d+)\\s*",Ed="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yie=/^#([0-9a-f]{3,8})$/,Xie=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),Qie=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),Jie=new RegExp(`^rgba\\(${al},${al},${al},${Ed}\\)$`),Zie=new RegExp(`^rgba\\(${rs},${rs},${rs},${Ed}\\)$`),eae=new RegExp(`^hsl\\(${Ed},${rs},${rs}\\)$`),tae=new RegExp(`^hsla\\(${Ed},${rs},${rs},${Ed}\\)$`),AA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T2(wh,Pd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TA,formatHex:TA,formatHex8:rae,formatHsl:nae,formatRgb:EA,toString:EA});function TA(){return this.rgb().formatHex()}function rae(){return this.rgb().formatHex8()}function nae(){return DD(this).formatHsl()}function EA(){return this.rgb().formatRgb()}function Pd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Yie.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PA(e):r===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xie.exec(t))?new Ir(e[1],e[2],e[3],1):(e=Qie.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jie.exec(t))?yf(e[1],e[2],e[3],e[4]):(e=Zie.exec(t))?yf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eae.exec(t))?OA(e[1],e[2]/100,e[3]/100,1):(e=tae.exec(t))?OA(e[1],e[2]/100,e[3]/100,e[4]):AA.hasOwnProperty(t)?PA(AA[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function PA(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function yf(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ir(t,e,r,n)}function sae(t){return t instanceof wh||(t=Pd(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function d0(t,e,r,n){return arguments.length===1?sae(t):new Ir(t,e,r,n??1)}function Ir(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}T2(Ir,d0,MD(wh,{brighter(t){return t=t==null?lp:Math.pow(lp,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Td:Math.pow(Td,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(Ia(this.r),Ia(this.g),Ia(this.b),cp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CA,formatHex:CA,formatHex8:iae,formatRgb:IA,toString:IA}));function CA(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}`}function iae(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}${ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function IA(){const t=cp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ia(this.r)}, ${Ia(this.g)}, ${Ia(this.b)}${t===1?")":`, ${t})`}`}function cp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ia(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ka(t){return t=Ia(t),(t<16?"0":"")+t.toString(16)}function OA(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new En(t,e,r,n)}function DD(t){if(t instanceof En)return new En(t.h,t.s,t.l,t.opacity);if(t instanceof wh||(t=Pd(t)),!t)return new En;if(t instanceof En)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new En(o,l,c,t.opacity)}function aae(t,e,r,n){return arguments.length===1?DD(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}T2(En,aae,MD(wh,{brighter(t){return t=t==null?lp:Math.pow(lp,t),new En(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Td:Math.pow(Td,t),new En(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Ir(Wv(t>=240?t-240:t+120,i,n),Wv(t,i,n),Wv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new En(MA(this.h),bf(this.s),bf(this.l),cp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cp(this.opacity);return`${t===1?"hsl(":"hsla("}${MA(this.h)}, ${bf(this.s)*100}%, ${bf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MA(t){return t=(t||0)%360,t<0?t+360:t}function bf(t){return Math.max(0,Math.min(1,t||0))}function Wv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const E2=t=>()=>t;function oae(t,e){return function(r){return t+r*e}}function lae(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function cae(t){return(t=+t)==1?RD:function(e,r){return r-e?lae(e,r,t):E2(isNaN(e)?r:e)}}function RD(t,e){var r=e-t;return r?oae(t,r):E2(isNaN(t)?e:t)}const DA=function t(e){var r=cae(e);function n(i,a){var o=r((i=d0(i)).r,(a=d0(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=RD(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function uae(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function dae(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hae(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=yc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function fae(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function up(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function mae(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=yc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var h0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hv=new RegExp(h0.source,"g");function pae(t){return function(){return t}}function gae(t){return function(e){return t(e)+""}}function xae(t,e){var r=h0.lastIndex=Hv.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=h0.exec(t))&&(i=Hv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:up(n,i)})),r=Hv.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?gae(c[0].x):pae(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function yc(t,e){var r=typeof e,n;return e==null||r==="boolean"?E2(e):(r==="number"?up:r==="string"?(n=Pd(e))?(e=n,DA):xae:e instanceof Pd?DA:e instanceof Date?fae:dae(e)?uae:Array.isArray(e)?hae:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mae:up)(t,e)}function P2(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function vae(t,e){e===void 0&&(e=t,t=yc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function yae(t){return function(){return t}}function dp(t){return+t}var RA=[0,1];function Sr(t){return t}function f0(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:yae(isNaN(e)?NaN:.5)}function bae(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function jae(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=f0(i,n),a=r(o,a)):(n=f0(n,i),a=r(a,o)),function(l){return a(n(l))}}function wae(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=f0(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=jh(t,l,1,n)-1;return a[c](i[c](l))}}function Nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ex(){var t=RA,e=RA,r=yc,n,i,a,o=Sr,l,c,u;function d(){var f=Math.min(t.length,e.length);return o!==Sr&&(o=bae(t[0],t[f-1])),l=f>2?wae:jae,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(t.map(n),e,r)))(n(o(f)))}return h.invert=function(f){return o(i((u||(u=l(e,t.map(n),up)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,dp),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=P2,d()},h.clamp=function(f){return arguments.length?(o=f?!0:Sr,d()):o!==Sr},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return n=f,i=p,d()}}function C2(){return ex()(Sr,Sr)}function Nae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Al(t){return t=hp(Math.abs(t)),t?t[1]:NaN}function _ae(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Sae(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cd(t){if(!(e=kae.exec(t)))throw new Error("invalid format: "+t);var e;return new I2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cd.prototype=I2.prototype;function I2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}I2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aae(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var LD;function Tae(t,e){var r=hp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(LD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+hp(t,Math.max(0,e+a-1))[0]}function LA(t,e){var r=hp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $A={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LA(t*100,e),r:LA,s:Tae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VA(t){return t}var FA=Array.prototype.map,BA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Eae(t){var e=t.grouping===void 0||t.thousands===void 0?VA:_ae(FA.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?VA:Sae(FA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Cd(h);var f=h.fill,p=h.align,v=h.sign,g=h.symbol,j=h.zero,x=h.width,y=h.comma,b=h.precision,_=h.trim,w=h.type;w==="n"?(y=!0,w="g"):$A[w]||(b===void 0&&(b=12),_=!0,w="g"),(j||f==="0"&&p==="=")&&(j=!0,f="0",p="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=g==="$"?n:/[%p]/.test(w)?o:"",S=$A[w],T=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function O(C){var I=N,M=k,B,U,R;if(w==="c")M=S(C)+M,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?c:S(Math.abs(C),b),_&&(C=Aae(C)),V&&+C==0&&v!=="+"&&(V=!1),I=(V?v==="("?v:l:v==="-"||v==="("?"":v)+I,M=(w==="s"?BA[8+LD/3]:"")+M+(V&&v==="("?")":""),T){for(B=-1,U=C.length;++B<U;)if(R=C.charCodeAt(B),48>R||R>57){M=(R===46?i+C.slice(B+1):C.slice(B))+M,C=C.slice(0,B);break}}}y&&!j&&(C=e(C,1/0));var L=I.length+C.length+M.length,F=L<x?new Array(x-L+1).join(f):"";switch(y&&j&&(C=e(F+C,F.length?x-M.length:1/0),F=""),p){case"<":C=I+C+M+F;break;case"=":C=I+F+C+M;break;case"^":C=F.slice(0,L=F.length>>1)+I+C+M+F.slice(L);break;default:C=F+I+C+M;break}return a(C)}return O.toString=function(){return h+""},O}function d(h,f){var p=u((h=Cd(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Al(f)/3)))*3,g=Math.pow(10,-v),j=BA[8+v/3];return function(x){return p(g*x)+j}}return{format:u,formatPrefix:d}}var jf,O2,$D;Pae({thousands:",",grouping:[3],currency:["$",""]});function Pae(t){return jf=Eae(t),O2=jf.format,$D=jf.formatPrefix,jf}function Cae(t){return Math.max(0,-Al(Math.abs(t)))}function Iae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Al(e)/3)))*3-Al(Math.abs(t)))}function Oae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Al(e)-Al(t))+1}function VD(t,e,r,n){var i=c0(t,e,r),a;switch(n=Cd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Iae(i,o))&&(n.precision=a),$D(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Oae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Cae(i))&&(n.precision=a-(n.type==="%")*2);break}}return O2(n)}function ta(t){var e=t.domain;return t.ticks=function(r){var n=e();return o0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return VD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=l0(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function fp(){var t=C2();return t.copy=function(){return Nh(t,fp())},yn.apply(t,arguments),ta(t)}function FD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,dp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return FD(t).unknown(e)},t=arguments.length?Array.from(t,dp):[0,1],ta(r)}function BD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function UA(t){return Math.log(t)}function zA(t){return Math.exp(t)}function Mae(t){return-Math.log(-t)}function Dae(t){return-Math.exp(-t)}function Rae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lae(t){return t===10?Rae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $ae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function WA(t){return(e,r)=>-t(-e,r)}function M2(t){const e=t(UA,zA),r=e.domain;let n=10,i,a;function o(){return i=$ae(n),a=Lae(n),r()[0]<0?(i=WA(i),a=WA(a),t(Mae,Dae)):t(UA,zA),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),v,g;const j=l==null?10:+l;let x=[];if(!(n%1)&&p-f<j){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(v=1;v<n;++v)if(g=f<0?v/a(-f):v*a(f),!(g<u)){if(g>d)break;x.push(g)}}else for(;f<=p;++f)for(v=n-1;v>=1;--v)if(g=f>0?v/a(-f):v*a(f),!(g<u)){if(g>d)break;x.push(g)}x.length*2<j&&(x=o0(u,d,j))}else x=o0(f,p,Math.min(p-f,j)).map(a);return h?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Cd(c)).precision==null&&(c.trim=!0),c=O2(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(BD(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function UD(){const t=M2(ex()).domain([1,10]);return t.copy=()=>Nh(t,UD()).base(t.base()),yn.apply(t,arguments),t}function HA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function D2(t){var e=1,r=t(HA(e),qA(e));return r.constant=function(n){return arguments.length?t(HA(e=+n),qA(e)):e},ta(r)}function zD(){var t=D2(ex());return t.copy=function(){return Nh(t,zD()).constant(t.constant())},yn.apply(t,arguments)}function GA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fae(t){return t<0?-t*t:t*t}function R2(t){var e=t(Sr,Sr),r=1;function n(){return r===1?t(Sr,Sr):r===.5?t(Vae,Fae):t(GA(r),GA(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ta(e)}function L2(){var t=R2(ex());return t.copy=function(){return Nh(t,L2()).exponent(t.exponent())},yn.apply(t,arguments),t}function Bae(){return L2.apply(null,arguments).exponent(.5)}function KA(t){return Math.sign(t)*t*t}function Uae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WD(){var t=C2(),e=[0,1],r=!1,n;function i(a){var o=Uae(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(KA(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,dp)).map(KA)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return WD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},yn.apply(i,arguments),ta(i)}function HD(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Gie(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[jh(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Vi),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return HD().domain(t).range(e).unknown(n)},yn.apply(a,arguments)}function qD(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[jh(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return qD().domain([t,e]).range(i).unknown(a)},yn.apply(ta(o),arguments)}function GD(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[jh(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GD().domain(t).range(e).unknown(r)},yn.apply(i,arguments)}const qv=new Date,Gv=new Date;function Bt(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Bt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(qv.setTime(+a),Gv.setTime(+o),t(qv),t(Gv),Math.floor(r(qv,Gv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const mp=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mp);mp.range;const js=1e3,dn=js*60,ws=dn*60,Vs=ws*24,$2=Vs*7,YA=Vs*30,Kv=Vs*365,Aa=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*js)},(t,e)=>(e-t)/js,t=>t.getUTCSeconds());Aa.range;const V2=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js)},(t,e)=>{t.setTime(+t+e*dn)},(t,e)=>(e-t)/dn,t=>t.getMinutes());V2.range;const F2=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*dn)},(t,e)=>(e-t)/dn,t=>t.getUTCMinutes());F2.range;const B2=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*js-t.getMinutes()*dn)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getHours());B2.range;const U2=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCHours());U2.range;const _h=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*dn)/Vs,t=>t.getDate()-1);_h.range;const tx=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);tx.range;const KD=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));KD.range;function ho(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*dn)/$2)}const rx=ho(0),pp=ho(1),zae=ho(2),Wae=ho(3),Tl=ho(4),Hae=ho(5),qae=ho(6);rx.range;pp.range;zae.range;Wae.range;Tl.range;Hae.range;qae.range;function fo(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/$2)}const nx=fo(0),gp=fo(1),Gae=fo(2),Kae=fo(3),El=fo(4),Yae=fo(5),Xae=fo(6);nx.range;gp.range;Gae.range;Kae.range;El.range;Yae.range;Xae.range;const z2=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());z2.range;const W2=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());W2.range;const Fs=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fs.range;const Bs=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Bs.range;function YD(t,e,r,n,i,a){const o=[[Aa,1,js],[Aa,5,5*js],[Aa,15,15*js],[Aa,30,30*js],[a,1,dn],[a,5,5*dn],[a,15,15*dn],[a,30,30*dn],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[n,1,Vs],[n,2,2*Vs],[r,1,$2],[e,1,YA],[e,3,3*YA],[t,1,Kv]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),v=p?p.range(u,+d+1):[];return f?v.reverse():v}function c(u,d,h){const f=Math.abs(d-u)/h,p=k2(([,,j])=>j).right(o,f);if(p===o.length)return t.every(c0(u/Kv,d/Kv,h));if(p===0)return mp.every(Math.max(c0(u,d,h),1));const[v,g]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(g)}return[l,c]}const[Qae,Jae]=YD(Bs,W2,nx,KD,U2,F2),[Zae,eoe]=YD(Fs,z2,rx,_h,B2,V2);function Yv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function toe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Jc(i),d=Zc(i),h=Jc(a),f=Zc(a),p=Jc(o),v=Zc(o),g=Jc(l),j=Zc(l),x=Jc(c),y=Zc(c),b={a:V,A:L,b:F,B:H,c:null,d:tT,e:tT,f:_oe,g:Moe,G:Roe,H:joe,I:woe,j:Noe,L:XD,m:Soe,M:koe,p:Y,q:J,Q:sT,s:iT,S:Aoe,u:Toe,U:Eoe,V:Poe,w:Coe,W:Ioe,x:null,X:null,y:Ooe,Y:Doe,Z:Loe,"%":nT},_={a:oe,A:Ae,b:We,B:et,c:null,d:rT,e:rT,f:Boe,g:Qoe,G:Zoe,H:$oe,I:Voe,j:Foe,L:JD,m:Uoe,M:zoe,p:cr,q:Ut,Q:sT,s:iT,S:Woe,u:Hoe,U:qoe,V:Goe,w:Koe,W:Yoe,x:null,X:null,y:Xoe,Y:Joe,Z:ele,"%":nT},w={a:O,A:C,b:I,B:M,c:B,d:ZA,e:ZA,f:xoe,g:JA,G:QA,H:eT,I:eT,j:foe,L:goe,m:hoe,M:moe,p:T,q:doe,Q:yoe,s:boe,S:poe,u:aoe,U:ooe,V:loe,w:ioe,W:coe,x:U,X:R,y:JA,Y:QA,Z:uoe,"%":voe};b.x=N(r,b),b.X=N(n,b),b.c=N(e,b),_.x=N(r,_),_.X=N(n,_),_.c=N(e,_);function N(re,we){return function(_e){var Q=[],Ke=-1,Pe=0,wt=re.length,ht,zt,jn;for(_e instanceof Date||(_e=new Date(+_e));++Ke<wt;)re.charCodeAt(Ke)===37&&(Q.push(re.slice(Pe,Ke)),(zt=XA[ht=re.charAt(++Ke)])!=null?ht=re.charAt(++Ke):zt=ht==="e"?" ":"0",(jn=we[ht])&&(ht=jn(_e,zt)),Q.push(ht),Pe=Ke+1);return Q.push(re.slice(Pe,Ke)),Q.join("")}}function k(re,we){return function(_e){var Q=Qc(1900,void 0,1),Ke=S(Q,re,_e+="",0),Pe,wt;if(Ke!=_e.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(we&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Pe=Xv(Qc(Q.y,0,1)),wt=Pe.getUTCDay(),Pe=wt>4||wt===0?gp.ceil(Pe):gp(Pe),Pe=tx.offset(Pe,(Q.V-1)*7),Q.y=Pe.getUTCFullYear(),Q.m=Pe.getUTCMonth(),Q.d=Pe.getUTCDate()+(Q.w+6)%7):(Pe=Yv(Qc(Q.y,0,1)),wt=Pe.getDay(),Pe=wt>4||wt===0?pp.ceil(Pe):pp(Pe),Pe=_h.offset(Pe,(Q.V-1)*7),Q.y=Pe.getFullYear(),Q.m=Pe.getMonth(),Q.d=Pe.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),wt="Z"in Q?Xv(Qc(Q.y,0,1)).getUTCDay():Yv(Qc(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(wt+5)%7:Q.w+Q.U*7-(wt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Xv(Q)):Yv(Q)}}function S(re,we,_e,Q){for(var Ke=0,Pe=we.length,wt=_e.length,ht,zt;Ke<Pe;){if(Q>=wt)return-1;if(ht=we.charCodeAt(Ke++),ht===37){if(ht=we.charAt(Ke++),zt=w[ht in XA?we.charAt(Ke++):ht],!zt||(Q=zt(re,_e,Q))<0)return-1}else if(ht!=_e.charCodeAt(Q++))return-1}return Q}function T(re,we,_e){var Q=u.exec(we.slice(_e));return Q?(re.p=d.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function O(re,we,_e){var Q=p.exec(we.slice(_e));return Q?(re.w=v.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function C(re,we,_e){var Q=h.exec(we.slice(_e));return Q?(re.w=f.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function I(re,we,_e){var Q=x.exec(we.slice(_e));return Q?(re.m=y.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function M(re,we,_e){var Q=g.exec(we.slice(_e));return Q?(re.m=j.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function B(re,we,_e){return S(re,e,we,_e)}function U(re,we,_e){return S(re,r,we,_e)}function R(re,we,_e){return S(re,n,we,_e)}function V(re){return o[re.getDay()]}function L(re){return a[re.getDay()]}function F(re){return c[re.getMonth()]}function H(re){return l[re.getMonth()]}function Y(re){return i[+(re.getHours()>=12)]}function J(re){return 1+~~(re.getMonth()/3)}function oe(re){return o[re.getUTCDay()]}function Ae(re){return a[re.getUTCDay()]}function We(re){return c[re.getUTCMonth()]}function et(re){return l[re.getUTCMonth()]}function cr(re){return i[+(re.getUTCHours()>=12)]}function Ut(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var we=N(re+="",b);return we.toString=function(){return re},we},parse:function(re){var we=k(re+="",!1);return we.toString=function(){return re},we},utcFormat:function(re){var we=N(re+="",_);return we.toString=function(){return re},we},utcParse:function(re){var we=k(re+="",!0);return we.toString=function(){return re},we}}}var XA={"-":"",_:" ",0:"0"},er=/^\s*\d+/,roe=/^%/,noe=/[\\^$*+?|[\]().{}]/g;function Le(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function soe(t){return t.replace(noe,"\\$&")}function Jc(t){return new RegExp("^(?:"+t.map(soe).join("|")+")","i")}function Zc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ioe(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function aoe(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ooe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function loe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function coe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function QA(t,e,r){var n=er.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function JA(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uoe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function doe(t,e,r){var n=er.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function hoe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function ZA(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function foe(t,e,r){var n=er.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function eT(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function moe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function poe(t,e,r){var n=er.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function goe(t,e,r){var n=er.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function xoe(t,e,r){var n=er.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function voe(t,e,r){var n=roe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function yoe(t,e,r){var n=er.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function boe(t,e,r){var n=er.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function tT(t,e){return Le(t.getDate(),e,2)}function joe(t,e){return Le(t.getHours(),e,2)}function woe(t,e){return Le(t.getHours()%12||12,e,2)}function Noe(t,e){return Le(1+_h.count(Fs(t),t),e,3)}function XD(t,e){return Le(t.getMilliseconds(),e,3)}function _oe(t,e){return XD(t,e)+"000"}function Soe(t,e){return Le(t.getMonth()+1,e,2)}function koe(t,e){return Le(t.getMinutes(),e,2)}function Aoe(t,e){return Le(t.getSeconds(),e,2)}function Toe(t){var e=t.getDay();return e===0?7:e}function Eoe(t,e){return Le(rx.count(Fs(t)-1,t),e,2)}function QD(t){var e=t.getDay();return e>=4||e===0?Tl(t):Tl.ceil(t)}function Poe(t,e){return t=QD(t),Le(Tl.count(Fs(t),t)+(Fs(t).getDay()===4),e,2)}function Coe(t){return t.getDay()}function Ioe(t,e){return Le(pp.count(Fs(t)-1,t),e,2)}function Ooe(t,e){return Le(t.getFullYear()%100,e,2)}function Moe(t,e){return t=QD(t),Le(t.getFullYear()%100,e,2)}function Doe(t,e){return Le(t.getFullYear()%1e4,e,4)}function Roe(t,e){var r=t.getDay();return t=r>=4||r===0?Tl(t):Tl.ceil(t),Le(t.getFullYear()%1e4,e,4)}function Loe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Le(e/60|0,"0",2)+Le(e%60,"0",2)}function rT(t,e){return Le(t.getUTCDate(),e,2)}function $oe(t,e){return Le(t.getUTCHours(),e,2)}function Voe(t,e){return Le(t.getUTCHours()%12||12,e,2)}function Foe(t,e){return Le(1+tx.count(Bs(t),t),e,3)}function JD(t,e){return Le(t.getUTCMilliseconds(),e,3)}function Boe(t,e){return JD(t,e)+"000"}function Uoe(t,e){return Le(t.getUTCMonth()+1,e,2)}function zoe(t,e){return Le(t.getUTCMinutes(),e,2)}function Woe(t,e){return Le(t.getUTCSeconds(),e,2)}function Hoe(t){var e=t.getUTCDay();return e===0?7:e}function qoe(t,e){return Le(nx.count(Bs(t)-1,t),e,2)}function ZD(t){var e=t.getUTCDay();return e>=4||e===0?El(t):El.ceil(t)}function Goe(t,e){return t=ZD(t),Le(El.count(Bs(t),t)+(Bs(t).getUTCDay()===4),e,2)}function Koe(t){return t.getUTCDay()}function Yoe(t,e){return Le(gp.count(Bs(t)-1,t),e,2)}function Xoe(t,e){return Le(t.getUTCFullYear()%100,e,2)}function Qoe(t,e){return t=ZD(t),Le(t.getUTCFullYear()%100,e,2)}function Joe(t,e){return Le(t.getUTCFullYear()%1e4,e,4)}function Zoe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?El(t):El.ceil(t),Le(t.getUTCFullYear()%1e4,e,4)}function ele(){return"+0000"}function nT(){return"%"}function sT(t){return+t}function iT(t){return Math.floor(+t/1e3)}var wo,e3,t3;tle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tle(t){return wo=toe(t),e3=wo.format,wo.parse,t3=wo.utcFormat,wo.utcParse,wo}function rle(t){return new Date(t)}function nle(t){return t instanceof Date?+t:+new Date(+t)}function H2(t,e,r,n,i,a,o,l,c,u){var d=C2(),h=d.invert,f=d.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),j=u("%I %p"),x=u("%a %d"),y=u("%b %d"),b=u("%B"),_=u("%Y");function w(N){return(c(N)<N?p:l(N)<N?v:o(N)<N?g:a(N)<N?j:n(N)<N?i(N)<N?x:y:r(N)<N?b:_)(N)}return d.invert=function(N){return new Date(h(N))},d.domain=function(N){return arguments.length?f(Array.from(N,nle)):f().map(rle)},d.ticks=function(N){var k=f();return t(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?w:u(k)},d.nice=function(N){var k=f();return(!N||typeof N.range!="function")&&(N=e(k[0],k[k.length-1],N??10)),N?f(BD(k,N)):d},d.copy=function(){return Nh(d,H2(t,e,r,n,i,a,o,l,c,u))},d}function sle(){return yn.apply(H2(Zae,eoe,Fs,z2,rx,_h,B2,V2,Aa,e3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ile(){return yn.apply(H2(Qae,Jae,Bs,W2,nx,tx,U2,F2,Aa,t3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sx(){var t=0,e=1,r,n,i,a,o=Sr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(f){var p,v;return arguments.length?([p,v]=f,o=h(p,v),u):[o(0),o(1)]}}return u.range=d(yc),u.rangeRound=d(P2),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function ra(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function r3(){var t=ta(sx()(Sr));return t.copy=function(){return ra(t,r3())},Ys.apply(t,arguments)}function n3(){var t=M2(sx()).domain([1,10]);return t.copy=function(){return ra(t,n3()).base(t.base())},Ys.apply(t,arguments)}function s3(){var t=D2(sx());return t.copy=function(){return ra(t,s3()).constant(t.constant())},Ys.apply(t,arguments)}function q2(){var t=R2(sx());return t.copy=function(){return ra(t,q2()).exponent(t.exponent())},Ys.apply(t,arguments)}function ale(){return q2.apply(null,arguments).exponent(.5)}function i3(){var t=[],e=Sr;function r(n){if(n!=null&&!isNaN(n=+n))return e((jh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vi),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>qie(t,a/n))},r.copy=function(){return i3(e).domain(t)},Ys.apply(r,arguments)}function ix(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=Sr,d,h=!1,f;function p(g){return isNaN(g=+g)?f:(g=.5+((g=+d(g))-a)*(n*g<n*a?l:c),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,r]=g,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(j){var x,y,b;return arguments.length?([x,y,b]=j,u=vae(g,[x,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(yc),p.rangeRound=v(P2),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return d=g,i=g(t),a=g(e),o=g(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function a3(){var t=ta(ix()(Sr));return t.copy=function(){return ra(t,a3())},Ys.apply(t,arguments)}function o3(){var t=M2(ix()).domain([.1,1,10]);return t.copy=function(){return ra(t,o3()).base(t.base())},Ys.apply(t,arguments)}function l3(){var t=D2(ix());return t.copy=function(){return ra(t,l3()).constant(t.constant())},Ys.apply(t,arguments)}function G2(){var t=R2(ix());return t.copy=function(){return ra(t,G2()).exponent(t.exponent())},Ys.apply(t,arguments)}function ole(){return G2.apply(null,arguments).exponent(.5)}const aT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ad,scaleDiverging:a3,scaleDivergingLog:o3,scaleDivergingPow:G2,scaleDivergingSqrt:ole,scaleDivergingSymlog:l3,scaleIdentity:FD,scaleImplicit:u0,scaleLinear:fp,scaleLog:UD,scaleOrdinal:A2,scalePoint:Du,scalePow:L2,scaleQuantile:HD,scaleQuantize:qD,scaleRadial:WD,scaleSequential:r3,scaleSequentialLog:n3,scaleSequentialPow:q2,scaleSequentialQuantile:i3,scaleSequentialSqrt:ale,scaleSequentialSymlog:s3,scaleSqrt:Bae,scaleSymlog:zD,scaleThreshold:GD,scaleTime:sle,scaleUtc:ile,tickFormat:VD},Symbol.toStringTag,{value:"Module"}));var lle=uc;function cle(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(l===void 0?o===o&&!lle(o):r(o,l)))var l=o,c=a}return c}var ax=cle;function ule(t,e){return t>e}var c3=ule,dle=ax,hle=c3,fle=vc;function mle(t){return t&&t.length?dle(t,fle,hle):void 0}var ple=mle;const ox=Ue(ple);function gle(t,e){return t<e}var u3=gle,xle=ax,vle=u3,yle=vc;function ble(t){return t&&t.length?xle(t,yle,vle):void 0}var jle=ble;const lx=Ue(jle);var wle=o2,Nle=us,_le=vD,Sle=Rr;function kle(t,e){var r=Sle(t)?wle:_le;return r(t,Nle(e))}var Ale=kle,Tle=gD,Ele=Ale;function Ple(t,e){return Tle(Ele(t,e),1)}var Cle=Ple;const Ile=Ue(Cle);var Ole=w2;function Mle(t,e){return Ole(t,e)}var Dle=Mle;const Sh=Ue(Dle);var bc=1e9,Rle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y2,dt=!0,pn="[DecimalError] ",Oa=pn+"Invalid argument: ",K2=pn+"Exponent out of range: ",jc=Math.floor,va=Math.pow,Lle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zr,qt=1e7,at=7,d3=9007199254740991,xp=jc(d3/at),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*at;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(t){return Es(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,r=e.constructor;return Ge(Es(e,new r(t),0,1),r.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return Ct(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(zr))throw Error(pn+"NaN");if(r.s<1)throw Error(pn+(r.s?"NaN":"-Infinity"));return r.eq(zr)?new n(0):(dt=!1,e=Es(Id(r,a),Id(t,a),a),dt=!0,Ge(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m3(e,t):h3(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(pn+"NaN");return r.s?(dt=!1,e=Es(r,t,0,1).times(t),dt=!0,r.minus(e)):Ge(new n(r),i)};ie.naturalExponential=ie.exp=function(){return f3(this)};ie.naturalLogarithm=ie.ln=function(){return Id(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h3(e,t):m3(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Oa+t);if(e=Ct(i)+1,n=i.d.length-1,r=n*at+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ie.squareRoot=ie.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(pn+"NaN")}for(t=Ct(l),dt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Gn(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=jc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Es(l,a,o+2)).times(.5),Gn(a.d).slice(0,o)===(e=Gn(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Ge(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return dt=!0,Ge(n,r)};ie.times=ie.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(a=f,f=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+p[n]*f[i-n-1]+e,a[i--]=l%qt|0,e=l/qt|0;a[i]=(a[i]+e)%qt|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,dt?Ge(t,h.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(os(t,0,bc),e===void 0?e=n.rounding:os(e,0,8),Ge(r,t+Ct(r)+1,e))};ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Xa(n,!0):(os(t,0,bc),e===void 0?e=i.rounding:os(e,0,8),n=Ge(new i(n),t+1,e),r=Xa(n,!0,t+1)),r};ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Xa(i):(os(t,0,bc),e===void 0?e=a.rounding:os(e,0,8),n=Ge(new a(i),t+Ct(i)+1,e),r=Xa(n.abs(),!1,t+Ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Ct(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(zr);if(l=new c(l),!l.s){if(t.s<1)throw Error(pn+"Infinity");return l}if(l.eq(zr))return l;if(n=c.precision,t.eq(zr))return Ge(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=d3){for(i=new c(zr),e=Math.ceil(n/at+4),dt=!1;r%2&&(i=i.times(l),lT(i.d,e)),r=jc(r/2),r!==0;)l=l.times(l),lT(l.d,e);return dt=!0,t.s<0?new c(zr).div(i):Ge(i,n)}}else if(a<0)throw Error(pn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,dt=!1,i=t.times(Id(l,n+u)),dt=!0,i=f3(i),i.s=a,i};ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Ct(i),n=Xa(i,r<=a.toExpNeg||r>=a.toExpPos)):(os(t,1,bc),e===void 0?e=a.rounding:os(e,0,8),i=Ge(new a(i),t,e),r=Ct(i),n=Xa(i,t<=r||r<=a.toExpNeg,t)),n};ie.toSignificantDigits=ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(os(t,1,bc),e===void 0?e=n.rounding:os(e,0,8)),Ge(new n(r),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ct(t),r=t.constructor;return Xa(t,e<=r.toExpNeg||e>=r.toExpPos)};function h3(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),dt?Ge(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/at),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/qt|0,c[a]%=qt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,dt?Ge(e,h):e}function os(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Oa+t)}function Gn(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=at-n.length,r&&(a+=di(r)),a+=n;o=t[e],n=o+"",r=at-n.length,r&&(a+=di(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Es=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%qt|0,o=a/qt|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*qt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,h,f,p,v,g,j,x,y,b,_,w,N,k,S,T=n.constructor,O=n.s==i.s?1:-1,C=n.d,I=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(pn+"Division by zero");for(c=n.e-i.e,k=I.length,w=C.length,p=new T(O),v=p.d=[],u=0;I[u]==(C[u]||0);)++u;if(I[u]>(C[u]||0)&&--c,a==null?y=a=T.precision:o?y=a+(Ct(n)-Ct(i))+1:y=a,y<0)return new T(0);if(y=y/at+2|0,u=0,k==1)for(d=0,I=I[0],y++;(u<w||d)&&y--;u++)b=d*qt+(C[u]||0),v[u]=b/I|0,d=b%I|0;else{for(d=qt/(I[0]+1)|0,d>1&&(I=t(I,d),C=t(C,d),k=I.length,w=C.length),_=k,g=C.slice(0,k),j=g.length;j<k;)g[j++]=0;S=I.slice(),S.unshift(0),N=I[0],I[1]>=qt/2&&++N;do d=0,l=e(I,g,k,j),l<0?(x=g[0],k!=j&&(x=x*qt+(g[1]||0)),d=x/N|0,d>1?(d>=qt&&(d=qt-1),h=t(I,d),f=h.length,j=g.length,l=e(h,g,f,j),l==1&&(d--,r(h,k<f?S:I,f))):(d==0&&(l=d=1),h=I.slice()),f=h.length,f<j&&h.unshift(0),r(g,h,j),l==-1&&(j=g.length,l=e(I,g,k,j),l<1&&(d++,r(g,k<j?S:I,j))),j=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[j++]=C[_]||0:(g=[C[_]],j=1);while((_++<w||g[0]!==void 0)&&y--)}return v[0]||v.shift(),p.e=c,Ge(p,o?a+Ct(p)+1:a)}}();function f3(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(Ct(t)>16)throw Error(K2+Ct(t));if(!t.s)return new d(zr);for(dt=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(va(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(zr),d.precision=l;;){if(i=Ge(i.times(t),l),r=r.times(++c),o=a.plus(Es(i,r,l)),Gn(o.d).slice(0,l)===Gn(a.d).slice(0,l)){for(;u--;)a=Ge(a.times(a),l);return d.precision=h,e==null?(dt=!0,Ge(a,h)):a}a=o}}function Ct(t){for(var e=t.e*at,r=t.d[0];r>=10;r/=10)e++;return e}function Qv(t,e,r){if(e>t.LN10.sd())throw dt=!0,r&&(t.precision=r),Error(pn+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function di(t){for(var e="";t--;)e+="0";return e}function Id(t,e){var r,n,i,a,o,l,c,u,d,h=1,f=10,p=t,v=p.d,g=p.constructor,j=g.precision;if(p.s<1)throw Error(pn+(p.s?"NaN":"-Infinity"));if(p.eq(zr))return new g(0);if(e==null?(dt=!1,u=j):u=e,p.eq(10))return e==null&&(dt=!0),Qv(g,u);if(u+=f,g.precision=u,r=Gn(v),n=r.charAt(0),a=Ct(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Gn(p.d),n=r.charAt(0),h++;a=Ct(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return c=Qv(g,u+2,j).times(a+""),p=Id(new g(n+"."+r.slice(1)),u-f).plus(c),g.precision=j,e==null?(dt=!0,Ge(p,j)):p;for(l=o=p=Es(p.minus(zr),p.plus(zr),u),d=Ge(p.times(p),u),i=3;;){if(o=Ge(o.times(d),u),c=l.plus(Es(o,new g(i),u)),Gn(c.d).slice(0,u)===Gn(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Qv(g,u+2,j).times(a+""))),l=Es(l,new g(h),u),g.precision=j,e==null?(dt=!0,Ge(l,j)):l;l=c,i+=2}}function oT(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=jc(r/at),t.d=[],n=(r+1)%at,r<0&&(n+=at),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=at;n<i;)t.d.push(+e.slice(n,n+=at));e=e.slice(n),n=at-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),dt&&(t.e>xp||t.e<-xp))throw Error(K2+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,r){var n,i,a,o,l,c,u,d,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=at,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/at),a=h.length,d>=a)return t;for(u=a=h[d],o=1;a>=10;a/=10)o++;n%=at,i=n-at+o}if(r!==void 0&&(a=va(10,o-i-1),l=u/a%10|0,c=e<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/va(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(a=Ct(t),h.length=1,e=e-a-1,h[0]=va(10,(at-e%at)%at),t.e=jc(-e/at)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=va(10,at-n),h[d]=i>0?(u/va(10,o-i)%va(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==qt&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=qt)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(dt&&(t.e>xp||t.e<-xp))throw Error(K2+Ct(t));return t}function m3(t,e){var r,n,i,a,o,l,c,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),dt?Ge(e,p):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/at),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=qt-1;--c[a],c[i]+=qt}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,dt?Ge(e,p):e):new f(0)}function Xa(t,e,r){var n,i=Ct(t),a=Gn(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+di(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+di(-i-1)+a,r&&(n=r-o)>0&&(a+=di(n))):i>=o?(a+=di(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+di(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=di(n))),t.s<0?"-"+a:a}function lT(t,e){if(t.length>e)return t.length=e,!0}function p3(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Oa+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return oT(o,a.toString())}else if(typeof a!="string")throw Error(Oa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Lle.test(a))oT(o,a);else throw Error(Oa+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=p3,i.config=i.set=$le,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function $le(t){if(!t||typeof t!="object")throw Error(pn+"Object expected");var e,r,n,i=["precision",1,bc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(jc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Oa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Oa+r+": "+n);return this}var Y2=p3(Rle);zr=new Y2(1);const He=Y2;function Vle(t){return zle(t)||Ule(t)||Ble(t)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function Ule(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zle(t){if(Array.isArray(t))return m0(t)}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Wle=function(e){return e},g3={},x3=function(e){return e===g3},cT=function(e){return function r(){return arguments.length===0||arguments.length===1&&x3(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Hle=function t(e,r){return e===1?r:cT(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==g3}).length;return o>=e?r.apply(void 0,i):t(e-o,cT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return x3(h)?c.shift():h});return r.apply(void 0,Vle(d).concat(c))}))})},cx=function(e){return Hle(e.length,e)},p0=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},qle=cx(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Gle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Wle;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},g0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},v3=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function Kle(t){var e;return t===0?e=1:e=Math.floor(new He(t).abs().log(10).toNumber())+1,e}function Yle(t,e,r){for(var n=new He(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Xle=cx(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Qle=cx(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Jle=cx(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const ux={rangeStep:Yle,getDigitCount:Kle,interpolateNumber:Xle,uninterpolateNumber:Qle,uninterpolateTruncation:Jle};function x0(t){return tce(t)||ece(t)||y3(t)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ece(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tce(t){if(Array.isArray(t))return v0(t)}function Od(t,e){return sce(t)||nce(t,e)||y3(t,e)||rce()}function rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y3(t,e){if(t){if(typeof t=="string")return v0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v0(t,e)}}function v0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function sce(t){if(Array.isArray(t))return t}function b3(t){var e=Od(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function j3(t,e,r){if(t.lte(0))return new He(0);var n=ux.getDigitCount(t.toNumber()),i=new He(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new He(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new He(Math.ceil(c))}function ice(t,e,r){var n=1,i=new He(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new He(10).pow(ux.getDigitCount(t)-1),i=new He(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new He(Math.floor(t)))}else t===0?i=new He(Math.floor((e-1)/2)):r||(i=new He(Math.floor(t)));var o=Math.floor((e-1)/2),l=Gle(qle(function(c){return i.add(new He(c-o).mul(n)).toNumber()}),p0);return l(0,e)}function w3(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new He(0),tickMin:new He(0),tickMax:new He(0)};var a=j3(new He(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new He(0):(o=new He(t).add(e).div(2),o=o.sub(new He(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new He(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?w3(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new He(l).mul(a)),tickMax:o.add(new He(c).mul(a))})}function ace(t){var e=Od(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=b3([r,n]),c=Od(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(x0(p0(0,i-1).map(function(){return 1/0}))):[].concat(x0(p0(0,i-1).map(function(){return-1/0})),[d]);return r>n?g0(h):h}if(u===d)return ice(u,i,a);var f=w3(u,d,o,a),p=f.step,v=f.tickMin,g=f.tickMax,j=ux.rangeStep(v,g.add(new He(.1).mul(p)),p);return r>n?g0(j):j}function oce(t,e){var r=Od(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=b3([n,i]),l=Od(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=j3(new He(u).sub(c).div(d-1),a,0),f=[].concat(x0(ux.rangeStep(new He(c),new He(u).sub(new He(.99).mul(h)),h)),[u]);return n>i?g0(f):f}var lce=v3(ace),cce=v3(oce),uce="Invariant failed";function Qa(t,e){throw new Error(uce)}var dce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function vp(){return vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vp.apply(this,arguments)}function hce(t,e){return gce(t)||pce(t,e)||mce(t,e)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return uT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uT(t,e)}}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function gce(t){if(Array.isArray(t))return t}function xce(t,e){if(t==null)return{};var r=vce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bce(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S3(n.key),n)}}function jce(t,e,r){return e&&bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wce(t,e,r){return e=yp(e),Nce(t,N3()?Reflect.construct(e,r||[],yp(t).constructor):e.apply(t,r))}function Nce(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ce(t)}function _ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(t)}function Sce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y0(t,e)}function y0(t,e){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y0(t,e)}function _3(t,e,r){return e=S3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3(t){var e=kce(t,"string");return Pl(e)=="symbol"?e:e+""}function kce(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kh=function(t){function e(){return yce(this,e),wce(this,e,arguments)}return Sce(e,t),jce(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=xce(n,dce),p=de(f,!1);this.props.direction==="x"&&d.type!=="number"&&Qa();var v=c.map(function(g){var j=u(g,l),x=j.x,y=j.y,b=j.value,_=j.errorVal;if(!_)return null;var w=[],N,k;if(Array.isArray(_)){var S=hce(_,2);N=S[0],k=S[1]}else N=k=_;if(a==="vertical"){var T=d.scale,O=y+i,C=O+o,I=O-o,M=T(b-N),B=T(b+k);w.push({x1:B,y1:C,x2:B,y2:I}),w.push({x1:M,y1:O,x2:B,y2:O}),w.push({x1:M,y1:C,x2:M,y2:I})}else if(a==="horizontal"){var U=h.scale,R=x+i,V=R-o,L=R+o,F=U(b-N),H=U(b+k);w.push({x1:V,y1:H,x2:L,y2:H}),w.push({x1:R,y1:F,x2:R,y2:H}),w.push({x1:V,y1:F,x2:L,y2:F})}return $.createElement(Re,vp({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),w.map(function(Y){return $.createElement("line",vp({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return $.createElement(Re,{className:"recharts-errorBars"},v)}}])}($.Component);_3(kh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_3(kh,"displayName","ErrorBar");function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function dT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return e=Tce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tce(t){var e=Ece(t,"string");return Md(e)=="symbol"?e:e+""}function Ece(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k3=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Br(r,$i);if(!o)return null;var l=$i.defaultProps,c=l!==void 0?ua(ua({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,v=p.sectors||p.data||[];return d.concat(v.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?ua(ua({},f),h.props):{},v=p.dataKey,g=p.name,j=p.legendType,x=p.hide;return{inactive:x,dataKey:v,type:c.iconType||j||"square",color:X2(h),value:g||v,payload:p}}),ua(ua(ua({},c),$i.getWithHeight(o,i)),{},{payload:u,item:o})};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function hT(t){return Oce(t)||Ice(t)||Cce(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cce(t,e){if(t){if(typeof t=="string")return b0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b0(t,e)}}function Ice(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oce(t){if(Array.isArray(t))return b0(t)}function b0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(r),!0).forEach(function(n){ol(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ol(t,e,r){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mce(t){var e=Dce(t,"string");return Dd(e)=="symbol"?e:e+""}function Dce(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lt(t,e,r){return be(t)||be(e)?r:Vt(e)?qr(t,e,r):ve(e)?e(t):r}function Ru(t,e,r,n){var i=Ile(t,function(l){return Lt(l,e)});if(r==="number"){var a=i.filter(function(l){return ee(l)||parseFloat(l)});return a.length?[lx(a),ox(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!be(l)}):i;return o.map(function(l){return Vt(l)||l instanceof Date?l:""})}var Rce=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,f=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Nr(h-d)!==Nr(f-h)){var v=[];if(Nr(f-h)===Nr(c[1]-c[0])){p=f;var g=h+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{p=d;var j=f+c[1]-c[0];v[0]=Math.min(h,(j+h)/2),v[1]=Math.max(h,(j+h)/2)}var x=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){o=i[u].index;break}}else{var y=Math.min(d,f),b=Math.max(d,f);if(e>(y+h)/2&&e<=(b+h)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},X2=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Lce=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var v=d[h[f]],g=v.items,j=v.cateAxisId,x=g.filter(function(k){return Ts(k.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,b=y!==void 0?jt(jt({},y),x[0].props):x[0].props,_=b.barSize,w=b[j];o[w]||(o[w]=[]);var N=be(_)?r:_;o[w].push({item:x[0],stackList:x.slice(1),barSize:be(N)?void 0:_r(N,n,0)})}}return o},$ce=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=_r(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=i/c,v=o.reduce(function(_,w){return _+w.barSize||0},0);v+=(c-1)*u,v>=i&&(v-=(c-1)*u,u=0),v>=i&&p>0&&(f=!0,p*=.9,v=c*p);var g=(i-v)/2>>0,j={offset:g-u,size:0};d=o.reduce(function(_,w){var N={item:w.item,position:{offset:j.offset+j.size+u,size:f?p:w.barSize}},k=[].concat(hT(_),[N]);return j=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){k.push({item:S,position:j})}),k},h)}else{var x=_r(n,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var y=(i-2*x-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(_,w,N){var k=[].concat(hT(_),[{item:w.item,position:{offset:x+(y+u)*N+(y-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){k.push({item:S,position:k[k.length-1].position})}),k},h)}return d},Vce=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=k3({children:a,legendWidth:c});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&ee(e[p]))return jt(jt({},e),{},ol({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&ee(e[v]))return jt(jt({},e),{},ol({},v,e[v]+(f||0)))}return e},Fce=function(e,r,n){return be(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},A3=function(e,r,n,i,a){var o=r.props.children,l=Gr(o,kh).filter(function(u){return Fce(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Lt(d,n);if(be(h))return u;var f=Array.isArray(h)?[lx(h),ox(h)]:[h,h],p=c.reduce(function(v,g){var j=Lt(d,g,0),x=f[0]-Math.abs(Array.isArray(j)?j[0]:j),y=f[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(x,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Bce=function(e,r,n,i,a){var o=r.map(function(l){return A3(e,l,n,a,i)}).filter(function(l){return!be(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},T3=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&A3(e,c,u,i)||Ru(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},E3=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},P3=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Ns=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Nr(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=a?a.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!yh(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:a?a[h]:h,index:f,offset:u}})},Jv=new WeakMap,wf=function(e,r){if(typeof r!="function")return e;Jv.has(e)||Jv.set(e,new WeakMap);var n=Jv.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},C3=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ad(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:fp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Du(),realScaleType:"point"}:a==="category"?{scale:Ad(),realScaleType:"band"}:{scale:fp(),realScaleType:"linear"};if(Ga(i)){var c="scale".concat(Gg(i));return{scale:(aT[c]||Du)(),realScaleType:aT[c]?c:"point"}}return ve(i)?{scale:i}:{scale:Du(),realScaleType:"point"}},mT=1e-4,I3=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-mT,o=Math.max(i[0],i[1])+mT,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},Uce=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},zce=function(e,r){if(!r||r.length!==2||!ee(r[0])||!ee(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ee(e[0])||e[0]<n)&&(a[0]=n),(!ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Wce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=yh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},Hce=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=yh(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},qce={sign:Wce,expand:dX,none:wl,silhouette:hX,wiggle:fX,positive:Hce},Gce=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=qce[n],o=uX().keys(i).value(function(l,c){return+Lt(l,c,0)}).order(Hb).offset(a);return o(e)},Kce=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?jt(jt({},f.type.defaultProps),f.props):f.props,g=v.stackId,j=v.hide;if(j)return h;var x=v[n],y=h[x]||{hasStack:!1,stackGroups:{}};if(Vt(g)){var b=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};b.items.push(f),y.hasStack=!0,y.stackGroups[g]=b}else y.stackGroups[pc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return jt(jt({},h),{},ol({},x,y))},c),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,j){var x=p.stackGroups[j];return jt(jt({},g),{},ol({},j,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Gce(e,x.items,a)}))},v)}return jt(jt({},h),{},ol({},f,p))},d)},O3=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=lce(u,a,l);return e.domain([lx(d),ox(d)]),{niceTicks:d}}if(a&&i==="number"){var h=e.domain(),f=cce(h,a,l);return{niceTicks:f}}return null};function pT(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var l=qm(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Lt(i,be(o)?e.dataKey:o);return be(c)?null:e.scale(c)}var gT=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Lt(o,r.dataKey,r.domain[l]);return be(c)?null:r.scale(c)-a/2+i},Yce=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Xce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Vt(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Qce=function(e){return e.reduce(function(r,n){return[lx(n.concat([r[0]]).filter(ee)),ox(n.concat([r[1]]).filter(ee))]},[1/0,-1/0])},M3=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var h=Qce(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j0=function(e,r,n){if(ve(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ee(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(xT.test(e[0])){var a=+xT.exec(e[0])[1];i[0]=r[0]-a}else ve(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ee(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(vT.test(e[1])){var o=+vT.exec(e[1])[1];i[1]=r[1]+o}else ve(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},bp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=_2(r,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},yT=function(e,r,n){return!e||!e.length||Sh(e,qr(n,"type.defaultProps.domain"))?r:e},D3=function(e,r){var n=e.type.defaultProps?jt(jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return jt(jt({},de(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:X2(e),value:Lt(r,i),type:c,payload:r,chartType:u,hide:d})};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function bT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(r),!0).forEach(function(n){R3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R3(t,e,r){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jce(t){var e=Zce(t,"string");return Rd(e)=="symbol"?e:e+""}function Zce(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eue(t,e){return sue(t)||nue(t,e)||rue(t,e)||tue()}function tue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(t,e){if(t){if(typeof t=="string")return jT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jT(t,e)}}function jT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sue(t){if(Array.isArray(t))return t}var jp=Math.PI/180,iue=function(e){return e*180/Math.PI},Ze=function(e,r,n,i){return{x:e+Math.cos(-jp*i)*n,y:r+Math.sin(-jp*i)*n}},L3=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},aue=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=_r(e.cx,o,o/2),h=_r(e.cy,l,l/2),f=L3(o,l,n),p=_r(e.innerRadius,f,0),v=_r(e.outerRadius,f,f*.8),g=Object.keys(r);return g.reduce(function(j,x){var y=r[x],b=y.domain,_=y.reversed,w;if(be(y.range))i==="angleAxis"?w=[c,u]:i==="radiusAxis"&&(w=[p,v]),_&&(w=[w[1],w[0]]);else{w=y.range;var N=w,k=eue(N,2);c=k[0],u=k[1]}var S=C3(y,a),T=S.realScaleType,O=S.scale;O.domain(b).range(w),I3(O);var C=O3(O,ps(ps({},y),{},{realScaleType:T})),I=ps(ps(ps({},y),C),{},{range:w,radius:v,realScaleType:T,scale:O,cx:d,cy:h,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return ps(ps({},j),{},R3({},x,I))},{})},oue=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},lue=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=oue({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:iue(u),angleInRadian:u}},cue=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},uue=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},wT=function(e,r){var n=e.x,i=e.y,a=lue({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=cue(r),h=d.startAngle,f=d.endAngle,p=l,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?ps(ps({},r),{},{radius:o,angle:uue(p,r)}):null},$3=function(e){return!E.isValidElement(e)&&!ve(e)&&typeof e!="boolean"?e.className:""};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var due=["offset"];function hue(t){return gue(t)||pue(t)||mue(t)||fue()}function fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(t,e){if(t){if(typeof t=="string")return w0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(t,e)}}function pue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gue(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xue(t,e){if(t==null)return{};var r=vue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(r),!0).forEach(function(n){yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yue(t,e,r){return e=bue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bue(t){var e=jue(t,"string");return Ld(e)=="symbol"?e:e+""}function jue(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$d.apply(this,arguments)}var wue=function(e){var r=e.value,n=e.formatter,i=be(e.children)?r:e.children;return ve(n)?n(i):i},Nue=function(e,r){var n=Nr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},_ue=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,v=c.endAngle,g=c.clockWise,j=(h+f)/2,x=Nue(p,v),y=x>=0?1:-1,b,_;i==="insideStart"?(b=p+y*o,_=g):i==="insideEnd"?(b=v-y*o,_=!g):i==="end"&&(b=v+y*o,_=g),_=x<=0?_:!_;var w=Ze(u,d,j,b),N=Ze(u,d,j,b+(_?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),S=be(e.id)?pc("recharts-radial-line-"):e.id;return $.createElement("text",$d({},n,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",l)}),$.createElement("defs",null,$.createElement("path",{id:S,d:k})),$.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Sue=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,h=a.endAngle,f=(d+h)/2;if(i==="outside"){var p=Ze(o,l,u+n,f),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,x=Ze(o,l,j,f),y=x.x,b=x.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},kue=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",v=h>0?"start":"end",g=u>=0?1:-1,j=g*i,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var b={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:p};return Mt(Mt({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:v};return Mt(Mt({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var w={x:l-j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Mt(Mt({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(a==="right"){var N={x:l+u+j,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Mt(Mt({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return a==="insideLeft"?Mt({x:l+j,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},k):a==="insideRight"?Mt({x:l+u-j,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):a==="insideTop"?Mt({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:v},k):a==="insideBottom"?Mt({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},k):a==="insideTopLeft"?Mt({x:l+j,y:c+f,textAnchor:y,verticalAnchor:v},k):a==="insideTopRight"?Mt({x:l+u-j,y:c+f,textAnchor:x,verticalAnchor:v},k):a==="insideBottomLeft"?Mt({x:l+j,y:c+d-f,textAnchor:y,verticalAnchor:p},k):a==="insideBottomRight"?Mt({x:l+u-j,y:c+d-f,textAnchor:x,verticalAnchor:p},k):dc(a)&&(ee(a.x)||Sa(a.x))&&(ee(a.y)||Sa(a.y))?Mt({x:l+_r(a.x,u),y:c+_r(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):Mt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Aue=function(e){return"cx"in e&&ee(e.cx)};function Kt(t){var e=t.offset,r=e===void 0?5:e,n=xue(t,due),i=Mt({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!a||be(l)&&be(c)&&!E.isValidElement(u)&&!ve(u))return null;if(E.isValidElement(u))return E.cloneElement(u,i);var p;if(ve(u)){if(p=E.createElement(u,i),E.isValidElement(p))return p}else p=wue(i);var v=Aue(a),g=de(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return _ue(i,p,g);var j=v?Sue(i):kue(i);return $.createElement(Ya,$d({className:Ne("recharts-label",h)},g,j,{breakAll:f}),p)}Kt.displayName="Label";var V3=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,v=e.left,g=e.width,j=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(ee(g)&&ee(j)){if(ee(h)&&ee(f))return{x:h,y:f,width:g,height:j};if(ee(p)&&ee(v))return{x:p,y:v,width:g,height:j}}return ee(h)&&ee(f)?{x:h,y:f,width:0,height:0}:ee(r)&&ee(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Tue=function(e,r){return e?e===!0?$.createElement(Kt,{key:"label-implicit",viewBox:r}):Vt(e)?$.createElement(Kt,{key:"label-implicit",viewBox:r,value:e}):E.isValidElement(e)?e.type===Kt?E.cloneElement(e,{key:"label-implicit",viewBox:r}):$.createElement(Kt,{key:"label-implicit",content:e,viewBox:r}):ve(e)?$.createElement(Kt,{key:"label-implicit",content:e,viewBox:r}):dc(e)?$.createElement(Kt,$d({viewBox:r},e,{key:"label-implicit"})):null:null},Eue=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=V3(e),o=Gr(i,Kt).map(function(c,u){return E.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=Tue(e.label,r||a);return[l].concat(hue(o))};Kt.parseViewBox=V3;Kt.renderCallByParent=Eue;function Pue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Cue=Pue;const Iue=Ue(Cue);function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}var Oue=["valueAccessor"],Mue=["data","dataKey","clockWise","id","textBreakAll"];function Due(t){return Vue(t)||$ue(t)||Lue(t)||Rue()}function Rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lue(t,e){if(t){if(typeof t=="string")return N0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(t,e)}}function $ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vue(t){if(Array.isArray(t))return N0(t)}function N0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wp.apply(this,arguments)}function _T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ST(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(r),!0).forEach(function(n){Fue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fue(t,e,r){return e=Bue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bue(t){var e=Uue(t,"string");return Vd(e)=="symbol"?e:e+""}function Uue(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kT(t,e){if(t==null)return{};var r=zue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wue=function(e){return Array.isArray(e.value)?Iue(e.value):e.value};function Ps(t){var e=t.valueAccessor,r=e===void 0?Wue:e,n=kT(t,Oue),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=kT(n,Mue);return!i||!i.length?null:$.createElement(Re,{className:"recharts-label-list"},i.map(function(d,h){var f=be(a)?r(d,h):Lt(d&&d.payload,a),p=be(l)?{}:{id:"".concat(l,"-").concat(h)};return $.createElement(Kt,wp({},de(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Kt.parseViewBox(be(o)?d:ST(ST({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ps.displayName="LabelList";function Hue(t,e){return t?t===!0?$.createElement(Ps,{key:"labelList-implicit",data:e}):$.isValidElement(t)||ve(t)?$.createElement(Ps,{key:"labelList-implicit",data:e,content:t}):dc(t)?$.createElement(Ps,wp({data:e},t,{key:"labelList-implicit"})):null:null}function que(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Gr(n,Ps).map(function(o,l){return E.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=Hue(t.label,e);return[a].concat(Due(i))}Ps.renderCallByParent=que;function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_0.apply(this,arguments)}function AT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AT(Object(r),!0).forEach(function(n){Gue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gue(t,e,r){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kue(t){var e=Yue(t,"string");return Fd(e)=="symbol"?e:e+""}function Yue(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xue=function(e,r){var n=Nr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Nf=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/jp,f=u?a:a+o*h,p=Ze(r,n,d,f),v=Ze(r,n,i,f),g=u?a-o*h:a,j=Ze(r,n,d*Math.cos(h*jp),g);return{center:p,circleTangency:v,lineTangency:j,theta:h}},F3=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Xue(o,l),u=o+c,d=Ze(r,n,a,o),h=Ze(r,n,a,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Ze(r,n,i,o),v=Ze(r,n,i,u);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Que=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=Nr(d-u),f=Nf({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,v=f.lineTangency,g=f.theta,j=Nf({cx:r,cy:n,radius:a,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=j.circleTangency,y=j.lineTangency,b=j.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):F3({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var N=Nf({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,S=N.lineTangency,T=N.theta,O=Nf({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=O.circleTangency,I=O.lineTangency,M=O.theta,B=c?Math.abs(u-d):Math.abs(u-d)-T-M;if(B<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},Jue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},B3=function(e){var r=TT(TT({},Jue),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(o<a||d===h)return null;var p=Ne("recharts-sector",f),v=o-a,g=_r(l,v,0,!0),j;return g>0&&Math.abs(d-h)<360?j=Que({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):j=F3({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:h}),$.createElement("path",_0({},de(r,!0),{className:p,d:j,role:"img"}))};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S0.apply(this,arguments)}function ET(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ET(Object(r),!0).forEach(function(n){Zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e,r){return e=ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ede(t){var e=tde(t,"string");return Bd(e)=="symbol"?e:e+""}function tde(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CT={curveBasisClosed:ZY,curveBasisOpen:eX,curveBasis:JY,curveBumpX:$Y,curveBumpY:VY,curveLinearClosed:tX,curveLinear:Yg,curveMonotoneX:rX,curveMonotoneY:nX,curveNatural:sX,curveStep:iX,curveStepAfter:oX,curveStepBefore:aX},_f=function(e){return e.x===+e.x&&e.y===+e.y},eu=function(e){return e.x},tu=function(e){return e.y},rde=function(e,r){if(ve(e))return e;var n="curve".concat(Gg(e));return(n==="curveMonotone"||n==="curveBump")&&r?CT["".concat(n).concat(r==="vertical"?"Y":"X")]:CT[n]||Yg},nde=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=rde(n,l),h=u?a.filter(function(g){return _f(g)}):a,f;if(Array.isArray(o)){var p=u?o.filter(function(g){return _f(g)}):o,v=h.map(function(g,j){return PT(PT({},g),{},{base:p[j]})});return l==="vertical"?f=mf().y(tu).x1(eu).x0(function(g){return g.base.x}):f=mf().x(eu).y1(tu).y0(function(g){return g.base.y}),f.defined(_f).curve(d),f(v)}return l==="vertical"&&ee(o)?f=mf().y(tu).x1(eu).x0(o):ee(o)?f=mf().x(eu).y1(tu).y0(o):f=DM().x(eu).y(tu),f.defined(_f).curve(d),f(h)},Np=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?nde(e):i;return E.createElement("path",S0({},de(e,!1),Gm(e),{className:Ne("recharts-curve",r),d:o,ref:a}))},U3={exports:{}},sde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ide=sde,ade=ide;function z3(){}function W3(){}W3.resetWarningCache=z3;var ode=function(){function t(n,i,a,o,l,c){if(c!==ade){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W3,resetWarningCache:z3};return r.PropTypes=r,r};U3.exports=ode();var lde=U3.exports;const $e=Ue(lde),{getOwnPropertyNames:cde,getOwnPropertySymbols:ude}=Object,{hasOwnProperty:dde}=Object.prototype;function Zv(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Sf(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=t(r,n,i);return a.delete(r),a.delete(n),c}}function hde(t){return t!=null?t[Symbol.toStringTag]:void 0}function IT(t){return cde(t).concat(ude(t))}const fde=Object.hasOwn||((t,e)=>dde.call(t,e));function mo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const mde="__v",pde="__o",gde="_owner",{getOwnPropertyDescriptor:OT,keys:MT}=Object;function xde(t,e){return t.byteLength===e.byteLength&&_p(new Uint8Array(t),new Uint8Array(e))}function vde(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function yde(t,e){return t.byteLength===e.byteLength&&_p(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function bde(t,e){return mo(t.getTime(),e.getTime())}function jde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function wde(t,e){return t===e}function DT(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=e.entries();let d=!1,h=0;for(;(l=u.next())&&!l.done;){if(i[h]){h++;continue}const f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}const Nde=mo;function _de(t,e,r){const n=MT(t);let i=n.length;if(MT(e).length!==i)return!1;for(;i-- >0;)if(!H3(t,e,r,n[i]))return!1;return!0}function ru(t,e,r){const n=IT(t);let i=n.length;if(IT(e).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!H3(t,e,r,a)||(o=OT(t,a),l=OT(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Sde(t,e){return mo(t.valueOf(),e.valueOf())}function kde(t,e){return t.source===e.source&&t.flags===e.flags}function RT(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),a=t.values();let o,l;for(;(o=a.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function _p(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Ade(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function H3(t,e,r,n){return(n===gde||n===pde||n===mde)&&(t.$$typeof||e.$$typeof)?!0:fde(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const Tde="[object ArrayBuffer]",Ede="[object Arguments]",Pde="[object Boolean]",Cde="[object DataView]",Ide="[object Date]",Ode="[object Error]",Mde="[object Map]",Dde="[object Number]",Rde="[object Object]",Lde="[object RegExp]",$de="[object Set]",Vde="[object String]",Fde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Bde="[object URL]",Ude=Object.prototype.toString;function zde({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:h,areTypedArraysEqual:f,areUrlsEqual:p,unknownTagComparators:v}){return function(j,x,y){if(j===x)return!0;if(j==null||x==null)return!1;const b=typeof j;if(b!==typeof x)return!1;if(b!=="object")return b==="number"?l(j,x,y):b==="function"?a(j,x,y):!1;const _=j.constructor;if(_!==x.constructor)return!1;if(_===Object)return c(j,x,y);if(Array.isArray(j))return e(j,x,y);if(_===Date)return n(j,x,y);if(_===RegExp)return d(j,x,y);if(_===Map)return o(j,x,y);if(_===Set)return h(j,x,y);const w=Ude.call(j);if(w===Ide)return n(j,x,y);if(w===Lde)return d(j,x,y);if(w===Mde)return o(j,x,y);if(w===$de)return h(j,x,y);if(w===Rde)return typeof j.then!="function"&&typeof x.then!="function"&&c(j,x,y);if(w===Bde)return p(j,x,y);if(w===Ode)return i(j,x,y);if(w===Ede)return c(j,x,y);if(Fde[w])return f(j,x,y);if(w===Tde)return t(j,x,y);if(w===Cde)return r(j,x,y);if(w===Pde||w===Dde||w===Vde)return u(j,x,y);if(v){let N=v[w];if(!N){const k=hde(j);k&&(N=v[k])}if(N)return N(j,x,y)}return!1}}function Wde({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:xde,areArraysEqual:r?ru:vde,areDataViewsEqual:yde,areDatesEqual:bde,areErrorsEqual:jde,areFunctionsEqual:wde,areMapsEqual:r?Zv(DT,ru):DT,areNumbersEqual:Nde,areObjectsEqual:r?ru:_de,arePrimitiveWrappersEqual:Sde,areRegExpsEqual:kde,areSetsEqual:r?Zv(RT,ru):RT,areTypedArraysEqual:r?Zv(_p,ru):_p,areUrlsEqual:Ade,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=Sf(n.areArraysEqual),a=Sf(n.areMapsEqual),o=Sf(n.areObjectsEqual),l=Sf(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function Hde(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function qde({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=r();return e(l,c,{cache:u,equals:n,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return e(l,c,a)}}const Gde=na();na({strict:!0});na({circular:!0});na({circular:!0,strict:!0});na({createInternalComparator:()=>mo});na({strict:!0,createInternalComparator:()=>mo});na({circular:!0,createInternalComparator:()=>mo});na({circular:!0,createInternalComparator:()=>mo,strict:!0});function na(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,a=Wde(t),o=zde(a),l=r?r(o):Hde(o);return qde({circular:e,comparator:o,createState:n,equals:l,strict:i})}function Kde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function LT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Kde(i)};requestAnimationFrame(n)}function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function Yde(t){return Zde(t)||Jde(t)||Qde(t)||Xde()}function Xde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qde(t,e){if(t){if(typeof t=="string")return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zde(t){if(Array.isArray(t))return t}function ehe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Yde(o),c=l[0],u=l.slice(1);if(typeof c=="number"){LT(i.bind(null,u),c);return}i(c),LT(i.bind(null,u));return}k0(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){q3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q3(t,e,r){return e=the(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function the(t){var e=rhe(t,"string");return Ud(e)==="symbol"?e:String(e)}function rhe(t,e){if(Ud(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},she=function(e){return e},ihe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Lu=function(e,r){return Object.keys(r).reduce(function(n,i){return FT(FT({},n),{},q3({},i,e(i,r[i])))},{})},BT=function(e,r,n){return e.map(function(i){return"".concat(ihe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ahe(t,e){return che(t)||lhe(t,e)||G3(t,e)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function che(t){if(Array.isArray(t))return t}function uhe(t){return fhe(t)||hhe(t)||G3(t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3(t,e){if(t){if(typeof t=="string")return A0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A0(t,e)}}function hhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fhe(t){if(Array.isArray(t))return A0(t)}function A0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Sp=1e-4,K3=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Y3=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},UT=function(e,r){return function(n){var i=K3(e,r);return Y3(i,n)}},mhe=function(e,r){return function(n){var i=K3(e,r),a=[].concat(uhe(i.map(function(o,l){return o*l}).slice(1)),[0]);return Y3(a,n)}},zT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),d=ahe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var h=UT(i,o),f=UT(a,l),p=mhe(i,o),v=function(x){return x>1?1:x<0?0:x},g=function(x){for(var y=x>1?1:x,b=y,_=0;_<8;++_){var w=h(b)-y,N=p(b);if(Math.abs(w-y)<Sp||N<Sp)return f(b);b=v(b-w/N)}return f(b)};return g.isStepper=!1,g},phe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,f){var p=-(d-h)*n,v=f*a,g=f+(p-v)*l/1e3,j=f*l/1e3+d;return Math.abs(j-h)<Sp&&Math.abs(g)<Sp?[h,0]:[j,g]};return c.isStepper=!0,c.dt=l,c},ghe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zT(i);case"spring":return phe();default:if(i.split("(")[0]==="cubic-bezier")return zT(i)}return typeof i=="function"?i:null};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function WT(t){return yhe(t)||vhe(t)||X3(t)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yhe(t){if(Array.isArray(t))return E0(t)}function HT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(r),!0).forEach(function(n){T0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T0(t,e,r){return e=bhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bhe(t){var e=jhe(t,"string");return zd(e)==="symbol"?e:String(e)}function jhe(t,e){if(zd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function whe(t,e){return She(t)||_he(t,e)||X3(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3(t,e){if(t){if(typeof t=="string")return E0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E0(t,e)}}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _he(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function She(t){if(Array.isArray(t))return t}var kp=function(e,r,n){return e+(r-e)*n},P0=function(e){var r=e.from,n=e.to;return r!==n},khe=function t(e,r,n){var i=Lu(function(a,o){if(P0(o)){var l=e(o.from,o.to,o.velocity),c=whe(l,2),u=c[0],d=c[1];return tr(tr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Lu(function(a,o){return P0(o)?tr(tr({},o),{},{velocity:kp(o.velocity,i[a].velocity,n),from:kp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Ahe=function(t,e,r,n,i){var a=nhe(t,e),o=a.reduce(function(j,x){return tr(tr({},j),{},T0({},x,[t[x],e[x]]))},{}),l=a.reduce(function(j,x){return tr(tr({},j),{},T0({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,h=function(){return null},f=function(){return Lu(function(x,y){return y.from},l)},p=function(){return!Object.values(l).filter(P0).length},v=function(x){u||(u=x);var y=x-u,b=y/r.dt;l=khe(r,l,b),i(tr(tr(tr({},t),e),f())),u=x,p()||(c=requestAnimationFrame(h))},g=function(x){d||(d=x);var y=(x-d)/n,b=Lu(function(w,N){return kp.apply(void 0,WT(N).concat([r(y)]))},o);if(i(tr(tr(tr({},t),e),b)),y<1)c=requestAnimationFrame(h);else{var _=Lu(function(w,N){return kp.apply(void 0,WT(N).concat([r(1)]))},o);i(tr(tr(tr({},t),e),_))}};return h=r.isStepper?v:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var The=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ehe(t,e){if(t==null)return{};var r=Phe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Phe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ey(t){return Mhe(t)||Ohe(t)||Ihe(t)||Che()}function Che(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ihe(t,e){if(t){if(typeof t=="string")return C0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C0(t,e)}}function Ohe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mhe(t){if(Array.isArray(t))return C0(t)}function C0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(r),!0).forEach(function(n){xu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xu(t,e,r){return e=Q3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q3(n.key),n)}}function Lhe(t,e,r){return e&&Rhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q3(t){var e=$he(t,"string");return Cl(e)==="symbol"?e:String(e)}function $he(t,e){if(Cl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I0(t,e)}function Fhe(t){var e=Bhe();return function(){var n=Ap(t),i;if(e){var a=Ap(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O0(this,i)}}function O0(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0(t)}function M0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}var ls=function(t){Vhe(r,t);var e=Fhe(r);function r(n,i){var a;Dhe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,f=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(M0(a)),a.changeStyle=a.changeStyle.bind(M0(a)),!l||p<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:d}),O0(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof f=="function")return a.state={style:u},O0(a);a.state={style:c?xu({},c,u):u}}else a.state={style:{}};return a}return Lhe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,h=a.from,f=this.state.style;if(l){if(!o){var p={style:c?xu({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(Gde(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?h:i.to;if(this.state&&f){var j={style:c?xu({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(j)}this.runAnimation(Nn(Nn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=Ahe(o,l,ghe(u),c,this.changeStyle),v=function(){a.stopJSAnimation=p()};this.manager.start([f,d,v,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(g,j,x){if(x===0)return g;var y=j.duration,b=j.easing,_=b===void 0?"ease":b,w=j.style,N=j.properties,k=j.onAnimationEnd,S=x>0?o[x-1]:j,T=N||Object.keys(w);if(typeof _=="function"||_==="spring")return[].concat(ey(g),[a.runJSAnimation.bind(a,{from:S.style,to:w,duration:y,easing:_}),y]);var O=BT(T,y,_),C=Nn(Nn(Nn({},S.style),w),{},{transition:O});return[].concat(ey(g),[C,y,k]).filter(she)};return this.manager.start([c].concat(ey(o.reduce(p,[d,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ehe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=l?xu({},l,c):c,j=BT(Object.keys(g),o,u);v.start([d,a,Nn(Nn({},g),{},{transition:j}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Ehe(i,The),u=E.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var h=function(p){var v=p.props,g=v.style,j=g===void 0?{}:g,x=v.className,y=E.cloneElement(p,Nn(Nn({},c),{},{style:Nn(Nn({},j),d),className:x}));return y};return u===1?h(E.Children.only(a)):$.createElement("div",null,E.Children.map(a,function(f){return h(f)}))}}]),r}(E.PureComponent);ls.displayName="Animate";ls.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ls.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}function Uhe(t,e){return qhe(t)||Hhe(t,e)||Whe(t,e)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(t,e){if(t){if(typeof t=="string")return GT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GT(t,e)}}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qhe(t){if(Array.isArray(t))return t}function KT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(r),!0).forEach(function(n){Ghe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ghe(t,e,r){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Khe(t){var e=Yhe(t,"string");return Wd(e)=="symbol"?e:e+""}function Yhe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XT=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=a[f]>o?o:a[f];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var v=Math.min(o,a);d="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+i-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+i,`
            L `).concat(e+c*v,",").concat(r+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Xhe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=f}return!1},Qhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q2=function(e){var r=YT(YT({},Qhe),e),n=E.useRef(),i=E.useState(-1),a=Uhe(i,2),o=a[0],l=a[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var b=Ne("recharts-rectangle",p);return y?$.createElement(ls,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(_){var w=_.width,N=_.height,k=_.x,S=_.y;return $.createElement(ls,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,isActive:x,easing:v},$.createElement("path",Tp({},de(r,!0),{className:b,d:XT(k,S,w,N,f),ref:n})))}):$.createElement("path",Tp({},de(r,!0),{className:b,d:XT(c,u,d,h,f)}))},Jhe=["points","className","baseLinePoints","connectNulls"];function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wo.apply(this,arguments)}function Zhe(t,e){if(t==null)return{};var r=efe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function efe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QT(t){return sfe(t)||nfe(t)||rfe(t)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t,e){if(t){if(typeof t=="string")return D0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(t,e)}}function nfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sfe(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var JT=function(e){return e&&e.x===+e.x&&e.y===+e.y},ife=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){JT(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),JT(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$u=function(e,r){var n=ife(e);r&&(n=[n.reduce(function(a,o){return[].concat(QT(a),QT(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},afe=function(e,r,n){var i=$u(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($u(r.reverse(),n).slice(1))},ofe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Zhe(e,Jhe);if(!r||!r.length)return null;var l=Ne("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=afe(r,i,a);return $.createElement("g",{className:l},$.createElement("path",Wo({},de(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?$.createElement("path",Wo({},de(o,!0),{fill:"none",d:$u(r,a)})):null,c?$.createElement("path",Wo({},de(o,!0),{fill:"none",d:$u(i,a)})):null)}var d=$u(r,a);return $.createElement("path",Wo({},de(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}var dx=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ne("recharts-dot",a);return r===+r&&n===+n&&i===+i?E.createElement("circle",R0({},de(e,!1),Gm(e),{className:o,cx:r,cy:n,r:i})):null};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}var lfe=["x","y","top","left","width","height","className"];function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function ZT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(r),!0).forEach(function(n){ufe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ufe(t,e,r){return e=dfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dfe(t){var e=hfe(t,"string");return Hd(e)=="symbol"?e:e+""}function hfe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ffe(t,e){if(t==null)return{};var r=mfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var pfe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},gfe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,v=e.className,g=ffe(e,lfe),j=cfe({x:n,y:a,top:l,left:u,width:h,height:p},g);return!ee(n)||!ee(a)||!ee(h)||!ee(p)||!ee(l)||!ee(u)?null:$.createElement("path",L0({},de(j,!0),{className:Ne("recharts-cross",v),d:pfe(n,a,h,p,l,u)}))},xfe=ax,vfe=c3,yfe=us;function bfe(t,e){return t&&t.length?xfe(t,yfe(e),vfe):void 0}var jfe=bfe;const wfe=Ue(jfe);var Nfe=ax,_fe=us,Sfe=u3;function kfe(t,e){return t&&t.length?Nfe(t,_fe(e),Sfe):void 0}var Afe=kfe;const Tfe=Ue(Afe);var Efe=["cx","cy","angle","ticks","axisLine"],Pfe=["ticks","tick","angle","tickFormatter","stroke"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vu.apply(this,arguments)}function eE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(r),!0).forEach(function(n){hx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tE(t,e){if(t==null)return{};var r=Cfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ife(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z3(n.key),n)}}function Ofe(t,e,r){return e&&rE(t.prototype,e),r&&rE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mfe(t,e,r){return e=Ep(e),Dfe(t,J3()?Reflect.construct(e,r||[],Ep(t).constructor):e.apply(t,r))}function Dfe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(t)}function Rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J3=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$0(t,e)}function hx(t,e,r){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z3(t){var e=$fe(t,"string");return Il(e)=="symbol"?e:e+""}function $fe(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fx=function(t){function e(){return Ife(this,e),Mfe(this,e,arguments)}return Lfe(e,t),Ofe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Ze(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=wfe(l,function(d){return d.coordinate||0}),u=Tfe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=tE(n,Efe),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),h=Ze(i,a,d[0],o),f=Ze(i,a,d[1],o),p=da(da(da({},de(u,!1)),{},{fill:"none"},de(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return $.createElement("line",Vu({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=tE(i,Pfe),h=this.getTickTextAnchor(),f=de(d,!1),p=de(o,!1),v=a.map(function(g,j){var x=n.getTickValueCoord(g),y=da(da(da(da({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:j},x),{},{payload:g});return $.createElement(Re,Vu({className:Ne("recharts-polar-radius-axis-tick",$3(o)),key:"tick-".concat(g.coordinate)},Ka(n.props,g,j)),e.renderTickItem(o,y,c?c(g.value,j):g.value))});return $.createElement(Re,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:$.createElement(Re,{className:Ne("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):ve(n)?o=n(i):o=$.createElement(Ya,Vu({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(E.PureComponent);hx(fx,"displayName","PolarRadiusAxis");hx(fx,"axisType","radiusAxis");hx(fx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function ba(){return ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ba.apply(this,arguments)}function nE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nE(Object(r),!0).forEach(function(n){mx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tR(n.key),n)}}function Ffe(t,e,r){return e&&sE(t.prototype,e),r&&sE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bfe(t,e,r){return e=Pp(e),Ufe(t,eR()?Reflect.construct(e,r||[],Pp(t).constructor):e.apply(t,r))}function Ufe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zfe(t)}function zfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eR=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(t)}function Wfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V0(t,e)}function mx(t,e,r){return e=tR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tR(t){var e=Hfe(t,"string");return Ol(e)=="symbol"?e:e+""}function Hfe(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qfe=Math.PI/180,iE=1e-5,px=function(t){function e(){return Vfe(this,e),Bfe(this,e,arguments)}return Wfe(e,t),Ffe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,h=Ze(a,o,l,n.coordinate),f=Ze(a,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*qfe),o;return a>iE?o=i==="outer"?"start":"end":a<-iE?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ha(ha({},de(this.props,!1)),{},{fill:"none"},de(l,!1));if(c==="circle")return $.createElement(dx,ba({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,h=d.map(function(f){return Ze(i,a,o,f.coordinate)});return $.createElement(ofe,ba({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=de(this.props,!1),h=de(o,!1),f=ha(ha({},d),{},{fill:"none"},de(l,!1)),p=a.map(function(v,g){var j=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),y=ha(ha(ha({textAnchor:x},d),{},{stroke:"none",fill:u},h),{},{index:g,payload:v,x:j.x2,y:j.y2});return $.createElement(Re,ba({className:Ne("recharts-polar-angle-axis-tick",$3(o)),key:"tick-".concat(v.coordinate)},Ka(n.props,v,g)),l&&$.createElement("line",ba({className:"recharts-polar-angle-axis-tick-line"},f,j)),o&&e.renderTickItem(o,y,c?c(v.value,g):v.value))});return $.createElement(Re,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:$.createElement(Re,{className:Ne("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return $.isValidElement(n)?o=$.cloneElement(n,i):ve(n)?o=n(i):o=$.createElement(Ya,ba({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(E.PureComponent);mx(px,"displayName","PolarAngleAxis");mx(px,"axisType","angleAxis");mx(px,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Gfe=iD,Kfe=Gfe(Object.getPrototypeOf,Object),Yfe=Kfe,Xfe=Gs,Qfe=Yfe,Jfe=Ks,Zfe="[object Object]",eme=Function.prototype,tme=Object.prototype,rR=eme.toString,rme=tme.hasOwnProperty,nme=rR.call(Object);function sme(t){if(!Jfe(t)||Xfe(t)!=Zfe)return!1;var e=Qfe(t);if(e===null)return!0;var r=rme.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&rR.call(r)==nme}var ime=sme;const ame=Ue(ime);var ome=Gs,lme=Ks,cme="[object Boolean]";function ume(t){return t===!0||t===!1||lme(t)&&ome(t)==cme}var dme=ume;const hme=Ue(dme);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(this,arguments)}function fme(t,e){return xme(t)||gme(t,e)||pme(t,e)||mme()}function mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pme(t,e){if(t){if(typeof t=="string")return aE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(t,e)}}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function xme(t){if(Array.isArray(t))return t}function oE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(r),!0).forEach(function(n){vme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vme(t,e,r){return e=yme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=bme(t,"string");return qd(e)=="symbol"?e:e+""}function bme(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cE=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},jme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wme=function(e){var r=lE(lE({},jme),e),n=E.useRef(),i=E.useState(-1),a=fme(i,2),o=a[0],l=a[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,g=r.animationDuration,j=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Ne("recharts-trapezoid",p);return x?$.createElement(ls,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(b){var _=b.upperWidth,w=b.lowerWidth,N=b.height,k=b.x,S=b.y;return $.createElement(ls,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:g,easing:v},$.createElement("path",Cp({},de(r,!0),{className:y,d:cE(k,S,_,w,N),ref:n})))}):$.createElement("g",null,$.createElement("path",Cp({},de(r,!0),{className:y,d:cE(c,u,d,h,f)})))},Nme=["option","shapeType","propTransformer","activeClassName","isActive"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function _me(t,e){if(t==null)return{};var r=Sme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uE(Object(r),!0).forEach(function(n){kme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kme(t,e,r){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ame(t){var e=Tme(t,"string");return Gd(e)=="symbol"?e:e+""}function Tme(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eme(t,e){return Ip(Ip({},e),t)}function Pme(t,e){return t==="symbols"}function dE(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return $.createElement(Q2,r);case"trapezoid":return $.createElement(wme,r);case"sector":return $.createElement(B3,r);case"symbols":if(Pme(e))return $.createElement(g2,r);break;default:return null}}function Cme(t){return E.isValidElement(t)?t.props:t}function nR(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Eme:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=_me(t,Nme),u;if(E.isValidElement(e))u=E.cloneElement(e,Ip(Ip({},c),Cme(e)));else if(ve(e))u=e(c);else if(ame(e)&&!hme(e)){var d=i(e,c);u=$.createElement(dE,{shapeType:r,elementProps:d})}else{var h=c;u=$.createElement(dE,{shapeType:r,elementProps:h})}return l?$.createElement(Re,{className:o},u):u}function gx(t,e){return e!=null&&"trapezoids"in t.props}function xx(t,e){return e!=null&&"sectors"in t.props}function Kd(t,e){return e!=null&&"points"in t.props}function Ime(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ome(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Mme(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Dme(t,e){var r;return gx(t,e)?r=Ime:xx(t,e)?r=Ome:Kd(t,e)&&(r=Mme),r}function Rme(t,e){var r;return gx(t,e)?r="trapezoids":xx(t,e)?r="sectors":Kd(t,e)&&(r="points"),r}function Lme(t,e){if(gx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(xx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Kd(t,e)?e.payload:{}}function $me(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Rme(r,e),a=Lme(r,e),o=n.filter(function(c,u){var d=Sh(a,c),h=r.props[i].filter(function(v){var g=Dme(r,e);return g(v,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Zf;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ho.apply(this,arguments)}function hE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(r),!0).forEach(function(n){cn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iR(n.key),n)}}function Fme(t,e,r){return e&&fE(t.prototype,e),r&&fE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bme(t,e,r){return e=Op(e),Ume(t,sR()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function Ume(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(t)}function zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sR=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function Wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F0(t,e)}function cn(t,e,r){return e=iR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iR(t){var e=Hme(t,"string");return Ml(e)=="symbol"?e:e+""}function Hme(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xs=function(t){function e(r){var n;return Vme(this,e),n=Bme(this,e,[r]),cn(n,"pieRef",null),cn(n,"sectorRefs",[]),cn(n,"id",pc("recharts-pie-")),cn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ve(i)&&i()}),cn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ve(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Wme(e,t),Fme(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=de(this.props,!1),h=de(o,!1),f=de(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(g,j){var x=(g.startAngle+g.endAngle)/2,y=Ze(g.cx,g.cy,g.outerRadius+p,x),b=Ye(Ye(Ye(Ye({},d),g),{},{stroke:"none"},h),{},{index:j,textAnchor:e.getTextAnchor(y.x,g.cx)},y),_=Ye(Ye(Ye(Ye({},d),g),{},{fill:"none",stroke:g.fill},f),{},{index:j,points:[Ze(g.cx,g.cy,g.outerRadius,x),y]}),w=c;return be(c)&&be(u)?w="value":be(c)&&(w=u),$.createElement(Re,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(j)},l&&e.renderLabelLineItem(l,_,"line"),e.renderLabelItem(o,b,Lt(g,w)))});return $.createElement(Re,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=c&&i.hasActiveIndex()?c:null,p=h?o:f,v=Ye(Ye({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return $.createElement(Re,Ho({ref:function(j){j&&!i.sectorRefs.includes(j)&&i.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Ka(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),$.createElement(nR,Ho({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return $.createElement(ls,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,j=[],x=a&&a[0],y=x.startAngle;return a.forEach(function(b,_){var w=f&&f[_],N=_>0?qr(b,"paddingAngle",0):0;if(w){var k=Ur(w.endAngle-w.startAngle,b.endAngle-b.startAngle),S=Ye(Ye({},b),{},{startAngle:y+N,endAngle:y+k(g)+N});j.push(S),y=S.endAngle}else{var T=b.endAngle,O=b.startAngle,C=Ur(0,T-O),I=C(g),M=Ye(Ye({},b),{},{startAngle:y+N,endAngle:y+I+N});j.push(M),y=M.endAngle}}),$.createElement(Re,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Sh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,v=this.state.isAnimationFinished;if(a||!o||!o.length||!ee(u)||!ee(d)||!ee(h)||!ee(f))return null;var g=Ne("recharts-pie",l);return $.createElement(Re,{tabIndex:this.props.rootTabIndex,className:g,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Kt.renderCallByParent(this.props,null,!1),(!p||v)&&Ps.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);if(ve(n))return n(i);var o=Ne("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return $.createElement(Np,Ho({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if($.isValidElement(n))return $.cloneElement(n,i);var o=a;if(ve(n)&&(o=n(i),$.isValidElement(o)))return o;var l=Ne("recharts-pie-label-text",typeof n!="boolean"&&!ve(n)?n.className:"");return $.createElement(Ya,Ho({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(E.PureComponent);Zf=Xs;cn(Xs,"displayName","Pie");cn(Xs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cn(Xs,"parseDeltaAngle",function(t,e){var r=Nr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});cn(Xs,"getRealPieData",function(t){var e=t.data,r=t.children,n=de(t,!1),i=Gr(r,_d);return e&&e.length?e.map(function(a,o){return Ye(Ye(Ye({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ye(Ye({},n),a.props)}):[]});cn(Xs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=L3(i,a),l=n+_r(t.cx,i,i/2),c=r+_r(t.cy,a,a/2),u=_r(t.innerRadius,o,0),d=_r(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});cn(Xs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ye(Ye({},e.type.defaultProps),e.props):e.props,i=Zf.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),v=Zf.parseCoordinateOfPie(n,r),g=Zf.parseDeltaAngle(o,l),j=Math.abs(g),x=u;be(u)&&be(h)?(Mn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):be(u)&&(Mn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var y=i.filter(function(S){return Lt(S,x,0)!==0}).length,b=(j>=360?y:y-1)*c,_=j-y*p-b,w=i.reduce(function(S,T){var O=Lt(T,x,0);return S+(ee(O)?O:0)},0),N;if(w>0){var k;N=i.map(function(S,T){var O=Lt(S,x,0),C=Lt(S,d,T),I=(ee(O)?O:0)/w,M;T?M=k.endAngle+Nr(g)*c*(O!==0?1:0):M=o;var B=M+Nr(g)*((O!==0?p:0)+I*_),U=(M+B)/2,R=(v.innerRadius+v.outerRadius)/2,V=[{name:C,value:O,payload:S,dataKey:x,type:f}],L=Ze(v.cx,v.cy,R,U);return k=Ye(Ye(Ye({percent:I,cornerRadius:a,name:C,tooltipPayload:V,midAngle:U,middleRadius:R,tooltipPosition:L},S),v),{},{value:Lt(S,x),startAngle:M,endAngle:B,payload:S,paddingAngle:Nr(g)*c}),k})}return Ye(Ye({},v),{},{sectors:N,data:i})});var qme=Math.ceil,Gme=Math.max;function Kme(t,e,r,n){for(var i=-1,a=Gme(qme((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Yme=Kme,Xme=_D,mE=1/0,Qme=17976931348623157e292;function Jme(t){if(!t)return t===0?t:0;if(t=Xme(t),t===mE||t===-mE){var e=t<0?-1:1;return e*Qme}return t===t?t:0}var aR=Jme,Zme=Yme,epe=Zg,ty=aR;function tpe(t){return function(e,r,n){return n&&typeof n!="number"&&epe(e,r,n)&&(r=n=void 0),e=ty(e),r===void 0?(r=e,e=0):r=ty(r),n=n===void 0?e<r?1:-1:ty(n),Zme(e,r,n,t)}}var rpe=tpe,npe=rpe,spe=npe(),ipe=spe;const Mp=Ue(ipe);function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function pE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pE(Object(r),!0).forEach(function(n){oR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oR(t,e,r){return e=ape(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ape(t){var e=ope(t,"string");return Yd(e)=="symbol"?e:e+""}function ope(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lpe=["Webkit","Moz","O","ms"],cpe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=lpe.reduce(function(a,o){return gE(gE({},a),{},oR({},o+n,r))},{});return i[e]=r,i};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dp.apply(this,arguments)}function xE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ry(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(r),!0).forEach(function(n){Vr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cR(n.key),n)}}function dpe(t,e,r){return e&&vE(t.prototype,e),r&&vE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hpe(t,e,r){return e=Rp(e),fpe(t,lR()?Reflect.construct(e,r||[],Rp(t).constructor):e.apply(t,r))}function fpe(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mpe(t)}function mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lR=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}function ppe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(t,e)}function Vr(t,e,r){return e=cR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cR(t){var e=gpe(t,"string");return Dl(e)=="symbol"?e:e+""}function gpe(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xpe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Du().domain(Mp(0,c)).range([a,a+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},yE=function(e){return e.changedTouches&&!!e.changedTouches.length},Rl=function(t){function e(r){var n;return upe(this,e),n=hpe(this,e,[r]),Vr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Vr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vr(n,"handleSlideDragStart",function(i){var a=yE(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ppe(e,t),dpe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,a),f=Math.max(i,a),p=e.getIndexInRange(o,h),v=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Lt(a[n],l,n);return ve(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,v=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-h-l,u+d-h-o):g<0&&(g=Math.max(g,u-o,u-l));var j=this.getIndex({startX:o+g,endX:l+g});(j.startIndex!==f||j.endIndex!==p)&&v&&v(j),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=yE(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,v=d.onChange,g=d.gap,j=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),x[o]=u+y;var b=this.getIndex(x),_=b.startIndex,w=b.endIndex,N=function(){var S=j.length-1;return o==="startX"&&(l>c?_%g===0:w%g===0)||l<c&&w===S||o==="endX"&&(l>c?w%g===0:_%g===0)||l>c&&w===S};this.setState(Vr(Vr({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=l.length)){var p=l[f];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(Vr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return $.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=E.Children.only(u);return h?$.cloneElement(h,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,v=c.data,g=c.startIndex,j=c.endIndex,x=Math.max(n,this.props.x),y=ry(ry({},de(this.props,!1)),{},{x,y:u,width:d,height:h}),b=p||"Min value: ".concat((a=v[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=v[j])===null||o===void 0?void 0:o.name);return $.createElement(Re,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,v={pointerEvents:"none",fill:u};return $.createElement(Re,{className:"recharts-brush-texts"},$.createElement(Ya,Dp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},v),this.getTextOfTick(i)),$.createElement(Ya,Dp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},v),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,v=f.endX,g=f.isTextActive,j=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!ee(l)||!ee(c)||!ee(u)||!ee(d)||u<=0||d<=0)return null;var b=Ne("recharts-brush",a),_=$.Children.count(o)===1,w=cpe("userSelect","none");return $.createElement(Re,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||j||x||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return $.isValidElement(n)?a=$.cloneElement(n,i):ve(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return ry({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?xpe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(E.PureComponent);Vr(Rl,"displayName","Brush");Vr(Rl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vpe=N2;function ype(t,e){var r;return vpe(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var bpe=ype,jpe=QM,wpe=us,Npe=bpe,_pe=Rr,Spe=Zg;function kpe(t,e,r){var n=_pe(t)?jpe:Npe;return r&&Spe(t,e,r)&&(e=void 0),n(t,wpe(e))}var Ape=kpe;const Tpe=Ue(Ape);var ns=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},bE=yD;function Epe(t,e,r){e=="__proto__"&&bE?bE(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ppe=Epe,Cpe=Ppe,Ipe=xD,Ope=us;function Mpe(t,e){var r={};return e=Ope(e),Ipe(t,function(n,i,a){Cpe(r,i,e(n,i,a))}),r}var Dpe=Mpe;const Rpe=Ue(Dpe);function Lpe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var $pe=Lpe,Vpe=N2;function Fpe(t,e){var r=!0;return Vpe(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var Bpe=Fpe,Upe=$pe,zpe=Bpe,Wpe=us,Hpe=Rr,qpe=Zg;function Gpe(t,e,r){var n=Hpe(t)?Upe:zpe;return r&&qpe(t,e,r)&&(e=void 0),n(t,Wpe(e))}var Kpe=Gpe;const uR=Ue(Kpe);var Ype=["x","y"];function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function jE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(r),!0).forEach(function(n){Xpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xpe(t,e,r){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qpe(t){var e=Jpe(t,"string");return Xd(e)=="symbol"?e:e+""}function Jpe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zpe(t,e){if(t==null)return{};var r=ege(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ege(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tge(t,e){var r=t.x,n=t.y,i=Zpe(t,Ype),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return nu(nu(nu(nu(nu({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function wE(t){return $.createElement(nR,U0({shapeType:"rectangle",propTransformer:tge,activeClassName:"recharts-active-bar"},t))}var rge=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ee(n)||NK(n);return a?e(n,i):(a||Qa(),r)}},nge=["value","background"],dR;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function sge(t,e){if(t==null)return{};var r=ige(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ige(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lp.apply(this,arguments)}function NE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(r),!0).forEach(function(n){Ni(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fR(n.key),n)}}function oge(t,e,r){return e&&_E(t.prototype,e),r&&_E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lge(t,e,r){return e=$p(e),cge(t,hR()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function cge(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uge(t)}function uge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hR=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z0(t,e)}function Ni(t,e,r){return e=fR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fR(t){var e=hge(t,"string");return Ll(e)=="symbol"?e:e+""}function hge(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var po=function(t){function e(){var r;age(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lge(this,e,[].concat(i)),Ni(r,"state",{isAnimationFinished:!1}),Ni(r,"id",pc("recharts-bar-")),Ni(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ni(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return dge(e,t),oge(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=de(this.props,!1);return n&&n.map(function(h,f){var p=f===c,v=p?u:o,g=Tt(Tt(Tt({},d),h),{},{isActive:p,option:v,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Re,Lp({className:"recharts-bar-rectangle"},Ka(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),$.createElement(wE,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return $.createElement(ls,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=a.map(function(j,x){var y=f&&f[x];if(y){var b=Ur(y.x,j.x),_=Ur(y.y,j.y),w=Ur(y.width,j.width),N=Ur(y.height,j.height);return Tt(Tt({},j),{},{x:b(v),y:_(v),width:w(v),height:N(v)})}if(o==="horizontal"){var k=Ur(0,j.height),S=k(v);return Tt(Tt({},j),{},{y:j.y+j.height-S,height:S})}var T=Ur(0,j.width),O=T(v);return Tt(Tt({},j),{},{width:O})});return $.createElement(Re,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Sh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=de(this.props.background,!1);return a.map(function(u,d){u.value;var h=u.background,f=sge(u,nge);if(!h)return null;var p=Tt(Tt(Tt(Tt(Tt({},f),{},{fill:"#eee"},h),c),Ka(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return $.createElement(wE,Lp({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Gr(d,kh);if(!h)return null;var f=u==="vertical"?o[0].height/2:o[0].width/2,p=function(j,x){var y=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:y,errorVal:Lt(j,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(Re,v,h.map(function(g){return $.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,v=n.background,g=n.id;if(i||!a||!a.length)return null;var j=this.state.isAnimationFinished,x=Ne("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,_=y||b,w=be(g)?this.id:g;return $.createElement(Re,{className:x},y||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(w)},$.createElement("rect",{x:y?u:u-h/2,y:b?d:d-f/2,width:y?h:h*2,height:b?f:f*2}))):null,$.createElement(Re,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,w),(!p||j)&&Ps.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(E.PureComponent);dR=po;Ni(po,"displayName","Bar");Ni(po,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ni(po,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Uce(n,r);if(!p)return null;var v=e.layout,g=r.type.defaultProps,j=g!==void 0?Tt(Tt({},g),r.props):r.props,x=j.dataKey,y=j.children,b=j.minPointSize,_=v==="horizontal"?o:a,w=u?_.scale.domain():null,N=Yce({numericAxis:_}),k=Gr(y,_d),S=h.map(function(T,O){var C,I,M,B,U,R;u?C=zce(u[d+O],w):(C=Lt(T,x),Array.isArray(C)||(C=[N,C]));var V=rge(b,dR.defaultProps.minPointSize)(C[1],O);if(v==="horizontal"){var L,F=[o.scale(C[0]),o.scale(C[1])],H=F[0],Y=F[1];I=gT({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:O}),M=(L=Y??H)!==null&&L!==void 0?L:void 0,B=p.size;var J=H-Y;if(U=Number.isNaN(J)?0:J,R={x:I,y:o.y,width:B,height:o.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var oe=Nr(U||V)*(Math.abs(V)-Math.abs(U));M-=oe,U+=oe}}else{var Ae=[a.scale(C[0]),a.scale(C[1])],We=Ae[0],et=Ae[1];if(I=We,M=gT({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:T,index:O}),B=et-We,U=p.size,R={x:a.x,y:M,width:a.width,height:U},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var cr=Nr(B||V)*(Math.abs(V)-Math.abs(B));B+=cr}}return Tt(Tt(Tt({},T),{},{x:I,y:M,width:B,height:U,value:u?C:C[1],payload:T,background:R},k&&k[O]&&k[O].props),{},{tooltipPayload:[D3(r,T)],tooltipPosition:{x:I+B/2,y:M+U/2}})});return Tt({data:S,layout:v},f)});function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mR(n.key),n)}}function mge(t,e,r){return e&&SE(t.prototype,e),r&&SE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(r),!0).forEach(function(n){vx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vx(t,e,r){return e=mR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mR(t){var e=pge(t,"string");return Qd(e)=="symbol"?e:e+""}function pge(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pR=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Br(u,po);return d.reduce(function(p,v){var g=r[v],j=g.orientation,x=g.domain,y=g.padding,b=y===void 0?{}:y,_=g.mirror,w=g.reversed,N="".concat(j).concat(_?"Mirror":""),k,S,T,O,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=x[1]-x[0],M=1/0,B=g.categoricalDomain.sort(kK);if(B.forEach(function(Ae,We){We>0&&(M=Math.min((Ae||0)-(B[We-1]||0),M))}),Number.isFinite(M)){var U=M/I,R=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(k=U*R/2),g.padding==="no-gap"){var V=_r(e.barCategoryGap,U*R),L=U*R/2;k=L-V-(L-V)/R*V}}}i==="xAxis"?S=[n.left+(b.left||0)+(k||0),n.left+n.width-(b.right||0)-(k||0)]:i==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(k||0),n.top+n.height-(b.bottom||0)-(k||0)]:S=g.range,w&&(S=[S[1],S[0]]);var F=C3(g,a,f),H=F.scale,Y=F.realScaleType;H.domain(x).range(S),I3(H);var J=O3(H,kn(kn({},g),{},{realScaleType:Y}));i==="xAxis"?(C=j==="top"&&!_||j==="bottom"&&_,T=n.left,O=h[N]-C*g.height):i==="yAxis"&&(C=j==="left"&&!_||j==="right"&&_,T=h[N]-C*g.width,O=n.top);var oe=kn(kn(kn({},g),J),{},{realScaleType:Y,x:T,y:O,scale:H,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return oe.bandSize=bp(oe,J),!g.hide&&i==="xAxis"?h[N]+=(C?-1:1)*oe.height:g.hide||(h[N]+=(C?-1:1)*oe.width),kn(kn({},p),{},vx({},v,oe))},{})},gR=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},gge=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return gR({x:r,y:n},{x:i,y:a})},xR=function(){function t(e){fge(this,t),this.scale=e}return mge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();vx(xR,"EPS",1e-4);var J2=function(e){var r=Object.keys(e).reduce(function(n,i){return kn(kn({},n),{},vx({},i,xR.create(e[i])))},{});return kn(kn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return Rpe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return uR(i,function(a,o){return r[o].isInRange(a)})}})};function xge(t){return(t%180+180)%180}var vge=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xge(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},yge=us,bge=bh,jge=Qg;function wge(t){return function(e,r,n){var i=Object(e);if(!bge(e)){var a=yge(r);e=jge(e),r=function(l){return a(i[l],l,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var Nge=wge,_ge=aR;function Sge(t){var e=_ge(t),r=e%1;return e===e?r?e-r:e:0}var kge=Sge,Age=dD,Tge=us,Ege=kge,Pge=Math.max;function Cge(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:Ege(r);return i<0&&(i=Pge(n+i,0)),Age(t,Tge(e),i)}var Ige=Cge,Oge=Nge,Mge=Ige,Dge=Oge(Mge),Rge=Dge;const Lge=Ue(Rge);var $ge=EG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Z2=E.createContext(void 0),e1=E.createContext(void 0),vR=E.createContext(void 0),yR=E.createContext({}),bR=E.createContext(void 0),jR=E.createContext(0),wR=E.createContext(0),AE=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=$ge(a);return $.createElement(Z2.Provider,{value:n},$.createElement(e1.Provider,{value:i},$.createElement(yR.Provider,{value:a},$.createElement(vR.Provider,{value:d},$.createElement(bR.Provider,{value:o},$.createElement(jR.Provider,{value:u},$.createElement(wR.Provider,{value:c},l)))))))},Vge=function(){return E.useContext(bR)},NR=function(e){var r=E.useContext(Z2);r==null&&Qa();var n=r[e];return n==null&&Qa(),n},Fge=function(){var e=E.useContext(Z2);return vi(e)},Bge=function(){var e=E.useContext(e1),r=Lge(e,function(n){return uR(n.domain,Number.isFinite)});return r||vi(e)},_R=function(e){var r=E.useContext(e1);r==null&&Qa();var n=r[e];return n==null&&Qa(),n},Uge=function(){var e=E.useContext(vR);return e},zge=function(){return E.useContext(yR)},t1=function(){return E.useContext(wR)},r1=function(){return E.useContext(jR)};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kR(n.key),n)}}function qge(t,e,r){return e&&Hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gge(t,e,r){return e=Vp(e),Kge(t,SR()?Reflect.construct(e,r||[],Vp(t).constructor):e.apply(t,r))}function Kge(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yge(t)}function Yge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SR=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vp(t)}function Xge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(t,e)}function TE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(r),!0).forEach(function(n){n1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n1(t,e,r){return e=kR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kR(t){var e=Qge(t,"string");return $l(e)=="symbol"?e:e+""}function Qge(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jge(t,e){return rxe(t)||txe(t,e)||exe(t,e)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function exe(t,e){if(t){if(typeof t=="string")return PE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(t,e)}}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function txe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rxe(t){if(Array.isArray(t))return t}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}var nxe=function(e,r){var n;return $.isValidElement(e)?n=$.cloneElement(e,r):ve(e)?n=e(r):n=$.createElement("line",H0({},r,{className:"recharts-reference-line-line"})),n},sxe=function(e,r,n,i,a,o,l,c,u){var d=a.x,h=a.y,f=a.width,p=a.height;if(n){var v=u.y,g=e.y.apply(v,{position:o});if(ns(u,"discard")&&!e.y.isInRange(g))return null;var j=[{x:d+f,y:g},{x:d,y:g}];return c==="left"?j.reverse():j}if(r){var x=u.x,y=e.x.apply(x,{position:o});if(ns(u,"discard")&&!e.x.isInRange(y))return null;var b=[{x:y,y:h+p},{x:y,y:h}];return l==="top"?b.reverse():b}if(i){var _=u.segment,w=_.map(function(N){return e.apply(N,{position:o})});return ns(u,"discard")&&Tpe(w,function(N){return!e.isInRange(N)})?null:w}return null};function ixe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Vge(),d=NR(i),h=_R(a),f=Uge();if(!u||!f)return null;Mn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=J2({x:d.scale,y:h.scale}),v=Vt(e),g=Vt(r),j=n&&n.length===2,x=sxe(p,v,g,j,f,t.position,d.orientation,h.orientation,t);if(!x)return null;var y=Jge(x,2),b=y[0],_=b.x,w=b.y,N=y[1],k=N.x,S=N.y,T=ns(t,"hidden")?"url(#".concat(u,")"):void 0,O=EE(EE({clipPath:T},de(t,!0)),{},{x1:_,y1:w,x2:k,y2:S});return $.createElement(Re,{className:Ne("recharts-reference-line",l)},nxe(o,O),Kt.renderCallByParent(t,gge({x1:_,y1:w,x2:k,y2:S})))}var s1=function(t){function e(){return Wge(this,e),Gge(this,e,arguments)}return Xge(e,t),qge(e,[{key:"render",value:function(){return $.createElement(ixe,this.props)}}])}($.Component);n1(s1,"displayName","ReferenceLine");n1(s1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function CE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(r),!0).forEach(function(n){yx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function axe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TR(n.key),n)}}function lxe(t,e,r){return e&&oxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cxe(t,e,r){return e=Fp(e),uxe(t,AR()?Reflect.construct(e,r||[],Fp(t).constructor):e.apply(t,r))}function uxe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dxe(t)}function dxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AR=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}function hxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function yx(t,e,r){return e=TR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TR(t){var e=fxe(t,"string");return Vl(e)=="symbol"?e:e+""}function fxe(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mxe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=J2({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ns(e,"discard")&&!o.isInRange(l)?null:l},bx=function(t){function e(){return axe(this,e),cxe(this,e,arguments)}return hxe(e,t),lxe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Vt(i),d=Vt(a);if(Mn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=mxe(this.props);if(!h)return null;var f=h.x,p=h.y,v=this.props,g=v.shape,j=v.className,x=ns(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=IE(IE({clipPath:x},de(this.props,!0)),{},{cx:f,cy:p});return $.createElement(Re,{className:Ne("recharts-reference-dot",j)},e.renderDot(g,y),Kt.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])}($.Component);yx(bx,"displayName","ReferenceDot");yx(bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yx(bx,"renderDot",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):ve(t)?r=t(e):r=$.createElement(dx,q0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(this,arguments)}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function OE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ME(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(r),!0).forEach(function(n){jx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PR(n.key),n)}}function xxe(t,e,r){return e&&gxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vxe(t,e,r){return e=Bp(e),yxe(t,ER()?Reflect.construct(e,r||[],Bp(t).constructor):e.apply(t,r))}function yxe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bxe(t)}function bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ER(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ER=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(t)}function jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y0(t,e)}function jx(t,e,r){return e=PR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PR(t){var e=wxe(t,"string");return Fl(e)=="symbol"?e:e+""}function wxe(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nxe=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,h=a.yAxis;if(!d||!h)return null;var f=J2({x:d.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ns(a,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:gR(p,v)},wx=function(t){function e(){return pxe(this,e),vxe(this,e,arguments)}return jxe(e,t),xxe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Mn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Vt(i),f=Vt(a),p=Vt(o),v=Vt(l),g=this.props.shape;if(!h&&!f&&!p&&!v&&!g)return null;var j=Nxe(h,f,p,v,this.props);if(!j&&!g)return null;var x=ns(this.props,"hidden")?"url(#".concat(d,")"):void 0;return $.createElement(Re,{className:Ne("recharts-reference-area",c)},e.renderRect(g,ME(ME({clipPath:x},de(this.props,!0)),j)),Kt.renderCallByParent(this.props,j))}}])}($.Component);jx(wx,"displayName","ReferenceArea");jx(wx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jx(wx,"renderRect",function(t,e){var r;return $.isValidElement(t)?r=$.cloneElement(t,e):ve(t)?r=t(e):r=$.createElement(Q2,K0({},e,{className:"recharts-reference-area-rect"})),r});function CR(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function _xe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return vge(n,r)}function Sxe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Up(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function kxe(t,e){return CR(t,e+1)}function Axe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:CR(n,u)};var g=c,j,x=function(){return j===void 0&&(j=r(v,g)),j},y=v.coordinate,b=c===0||Up(t,y,x,d,l);b||(c=0,d=o,u+=1),b&&(d=y+t*(x()/2+i),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function DE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(r),!0).forEach(function(n){Txe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e,r){return e=Exe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Exe(t){var e=Pxe(t,"string");return Jd(e)=="symbol"?e:e+""}function Pxe(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(f){var p=a[f],v,g=function(){return v===void 0&&(v=r(p,f)),v};if(f===o-1){var j=t*(p.coordinate+t*g()/2-c);a[f]=p=fr(fr({},p),{},{tickCoord:j>0?p.coordinate-j*t:p.coordinate})}else a[f]=p=fr(fr({},p),{},{tickCoord:p.coordinate});var x=Up(t,p.tickCoord,g,l,c);x&&(c=p.tickCoord-t*(g()/2+i),a[f]=fr(fr({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Ixe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],h=r(d,l-1),f=t*(d.coordinate+t*h/2-u);o[l-1]=d=fr(fr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=Up(t,d.tickCoord,function(){return h},c,u);p&&(u=d.tickCoord-t*(h/2+i),o[l-1]=fr(fr({},d),{},{isShow:!0}))}for(var v=a?l-1:l,g=function(y){var b=o[y],_,w=function(){return _===void 0&&(_=r(b,y)),_};if(y===0){var N=t*(b.coordinate-t*w()/2-c);o[y]=b=fr(fr({},b),{},{tickCoord:N<0?b.coordinate-N*t:b.coordinate})}else o[y]=b=fr(fr({},b),{},{tickCoord:b.coordinate});var k=Up(t,b.tickCoord,w,c,u);k&&(c=b.tickCoord+t*(w()/2+i),o[y]=fr(fr({},b),{},{isShow:!0}))},j=0;j<v;j++)g(j);return o}function i1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(ee(c)||uo.isSsr)return kxe(i,typeof c=="number"&&ee(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",v=d&&p==="width"?Mu(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,_){var w=ve(u)?u(b.value,_):b.value;return p==="width"?_xe(Mu(w,{fontSize:e,letterSpacing:r}),v,h):Mu(w,{fontSize:e,letterSpacing:r})[p]},j=i.length>=2?Nr(i[1].coordinate-i[0].coordinate):1,x=Sxe(a,j,p);return c==="equidistantPreserveStart"?Axe(j,x,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=Ixe(j,x,g,i,o,c==="preserveStartEnd"):f=Cxe(j,x,g,i,o),f.filter(function(y){return y.isShow}))}var Oxe=["viewBox"],Mxe=["viewBox"],Dxe=["ticks"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qo.apply(this,arguments)}function RE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(r),!0).forEach(function(n){a1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ny(t,e){if(t==null)return{};var r=Rxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OR(n.key),n)}}function $xe(t,e,r){return e&&LE(t.prototype,e),r&&LE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vxe(t,e,r){return e=zp(e),Fxe(t,IR()?Reflect.construct(e,r||[],zp(t).constructor):e.apply(t,r))}function Fxe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bxe(t)}function Bxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(t)}function Uxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(t,e)}function a1(t,e,r){return e=OR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OR(t){var e=zxe(t,"string");return Bl(e)=="symbol"?e:e+""}function zxe(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wc=function(t){function e(r){var n;return Lxe(this,e),n=Vxe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Uxe(e,t),$xe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=ny(n,Oxe),l=this.props,c=l.viewBox,u=ny(l,Mxe);return!il(a,c)||!il(o,u)||!il(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,v,g,j,x,y,b=h?-1:1,_=n.tickSize||d,w=ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,j=o+ +!h*c,g=j-b*_,y=g-b*f,x=w;break;case"left":g=j=n.coordinate,v=a+ +!h*l,p=v-b*_,x=p-b*f,y=w;break;case"right":g=j=n.coordinate,v=a+ +h*l,p=v+b*_,x=p+b*f,y=w;break;default:p=v=n.coordinate,j=o+ +h*c,g=j+b*_,y=g+b*f,x=w;break}return{line:{x1:p,y1:g,x2:v,y2:j},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Ot(Ot(Ot({},de(this.props,!1)),de(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);h=Ot(Ot({},h),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);h=Ot(Ot({},h),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return $.createElement("line",qo({},h,{className:Ne("recharts-cartesian-axis-line",qr(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,f=l.unit,p=i1(Ot(Ot({},this.props),{},{ticks:n}),i,a),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),j=de(this.props,!1),x=de(d,!1),y=Ot(Ot({},j),{},{fill:"none"},de(c,!1)),b=p.map(function(_,w){var N=o.getTickLineCoord(_),k=N.line,S=N.tick,T=Ot(Ot(Ot(Ot({textAnchor:v,verticalAnchor:g},j),{},{stroke:"none",fill:u},x),S),{},{index:w,payload:_,visibleTicksCount:p.length,tickFormatter:h});return $.createElement(Re,qo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ka(o.props,_,w)),c&&$.createElement("line",qo({},y,k,{className:Ne("recharts-cartesian-axis-tick-line",qr(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(ve(h)?h(_.value,w):_.value).concat(f||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=ny(h,Dxe),v=f;return ve(c)&&(v=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:$.createElement(Re,{className:Ne("recharts-cartesian-axis",u),ref:function(j){n.layerReference=j}},a&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=Ne(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Ot(Ot({},i),{},{className:l})):ve(n)?o=n(Ot(Ot({},i),{},{className:l})):o=$.createElement(Ya,qo({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(E.Component);a1(wc,"displayName","CartesianAxis");a1(wc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wxe=["x1","y1","x2","y2","key"],Hxe=["offset"];function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}function $E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(r),!0).forEach(function(n){qxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qxe(t,e,r){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gxe(t){var e=Kxe(t,"string");return Ja(e)=="symbol"?e:e+""}function Kxe(t,e){if(Ja(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ta.apply(this,arguments)}function VE(t,e){if(t==null)return{};var r=Yxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xxe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return $.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function MR(t,e){var r;if($.isValidElement(t))r=$.cloneElement(t,e);else if(ve(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=VE(e,Wxe),u=de(c,!1);u.offset;var d=VE(u,Hxe);r=$.createElement("line",Ta({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Qxe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=xr(xr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return MR(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Jxe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=xr(xr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return MR(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Zxe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],g=v?i+o-f:d[p+1]-f;if(g<=0)return null;var j=p%e.length;return $.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:a,stroke:"none",fill:e[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function eve(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var v=!d[p+1],g=v?a+l-f:d[p+1]-f;if(g<=0)return null;var j=p%n.length;return $.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:g,height:c,stroke:"none",fill:n[j],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var tve=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return P3(i1(xr(xr(xr({},wc.defaultProps),n),{},{ticks:Ns(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},rve=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return P3(i1(xr(xr(xr({},wc.defaultProps),n),{},{ticks:Ns(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},No={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Q0(t){var e,r,n,i,a,o,l=t1(),c=r1(),u=zge(),d=xr(xr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:No.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:No.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:No.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:No.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:No.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:No.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,v=d.height,g=d.syncWithTicks,j=d.horizontalValues,x=d.verticalValues,y=Fge(),b=Bge();if(!ee(p)||p<=0||!ee(v)||v<=0||!ee(h)||h!==+h||!ee(f)||f!==+f)return null;var _=d.verticalCoordinatesGenerator||tve,w=d.horizontalCoordinatesGenerator||rve,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&ve(w)){var S=j&&j.length,T=w({yAxis:b?xr(xr({},b),{},{ticks:S?j:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:g);Mn(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ja(T),"]")),Array.isArray(T)&&(N=T)}if((!k||!k.length)&&ve(_)){var O=x&&x.length,C=_({xAxis:y?xr(xr({},y),{},{ticks:O?x:y.ticks}):void 0,width:l,height:c,offset:u},O?!0:g);Mn(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ja(C),"]")),Array.isArray(C)&&(k=C)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(Xxe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),$.createElement(Qxe,Ta({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:b})),$.createElement(Jxe,Ta({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:b})),$.createElement(Zxe,Ta({},d,{horizontalPoints:N})),$.createElement(eve,Ta({},d,{verticalPoints:k})))}Q0.displayName="CartesianGrid";var nve=["type","layout","connectNulls","ref"],sve=["key"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function FE(t,e){if(t==null)return{};var r=ive(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ive(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fu.apply(this,arguments)}function BE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BE(Object(r),!0).forEach(function(n){An(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _o(t){return cve(t)||lve(t)||ove(t)||ave()}function ave(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(t,e){if(t){if(typeof t=="string")return J0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J0(t,e)}}function lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cve(t){if(Array.isArray(t))return J0(t)}function J0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RR(n.key),n)}}function dve(t,e,r){return e&&UE(t.prototype,e),r&&UE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hve(t,e,r){return e=Wp(e),fve(t,DR()?Reflect.construct(e,r||[],Wp(t).constructor):e.apply(t,r))}function fve(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mve(t)}function mve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wp(t)}function pve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(t,e)}function An(t,e,r){return e=RR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RR(t){var e=gve(t,"string");return Ul(e)=="symbol"?e:e+""}function gve(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zl=function(t){function e(){var r;uve(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=hve(this,e,[].concat(i)),An(r,"state",{isAnimationFinished:!0,totalLength:0}),An(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),An(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,f=l-o,p=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>h){p=[].concat(_o(c.slice(0,v)),[h-g]);break}var j=p.length%2===0?[0,f]:[f];return[].concat(_o(e.repeat(c,d)),_o(p),j).map(function(x){return"".concat(x,"px")}).join(", ")}),An(r,"id",pc("recharts-line-")),An(r,"pathRef",function(o){r.mainCurve=o}),An(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),An(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return pve(e,t),dve(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,h=Gr(d,kh);if(!h)return null;var f=function(g,j){return{x:g.x,y:g.y,value:g.value,errorVal:Lt(g.payload,j)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return $.createElement(Re,p,h.map(function(v){return $.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=de(this.props,!1),f=de(c,!0),p=u.map(function(g,j){var x=$r($r($r({key:"dot-".concat(j),r:3},h),f),{},{index:j,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,x)}),v={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return $.createElement(Re,Fu({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=FE(l,nve),f=$r($r($r({},de(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return $.createElement(Np,Fu({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,f=o.animationEasing,p=o.animationId,v=o.animateNewValues,g=o.width,j=o.height,x=this.state,y=x.prevPoints,b=x.totalLength;return $.createElement(ls,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(y){var N=y.length/l.length,k=l.map(function(I,M){var B=Math.floor(M*N);if(y[B]){var U=y[B],R=Ur(U.x,I.x),V=Ur(U.y,I.y);return $r($r({},I),{},{x:R(w),y:V(w)})}if(v){var L=Ur(g*2,I.x),F=Ur(j/2,I.y);return $r($r({},I),{},{x:L(w),y:F(w)})}return $r($r({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(k,n,i)}var S=Ur(0,b),T=S(w),O;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});O=a.getStrokeDasharray(T,b,C)}else O=a.generateSimpleStrokeDasharray(b,T);return a.renderCurveStatically(l,n,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Sh(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,v=i.height,g=i.isAnimationActive,j=i.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,y=l.length===1,b=Ne("recharts-line",c),_=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,N=_||w,k=be(j)?this.id:j,S=(n=de(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=S.r,O=T===void 0?3:T,C=S.strokeWidth,I=C===void 0?2:C,M=DK(o)?o:{},B=M.clipDot,U=B===void 0?!0:B,R=O*2+I;return $.createElement(Re,{className:b},_||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(k)},$.createElement("rect",{x:_?f:f-p/2,y:w?h:h-v/2,width:_?p:p*2,height:w?v:v*2})),!U&&$.createElement("clipPath",{id:"clipPath-dots-".concat(k)},$.createElement("rect",{x:f-R/2,y:h-R/2,width:p+R,height:v+R}))):null,!y&&this.renderCurve(N,k),this.renderErrorBar(N,k),(y||o)&&this.renderDots(N,U,k),(!g||x)&&Ps.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(_o(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(_o(o),_o(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if($.isValidElement(n))a=$.cloneElement(n,i);else if(ve(n))a=n(i);else{var o=i.key,l=FE(i,sve),c=Ne("recharts-line-dot",typeof n!="boolean"?n.className:"");a=$.createElement(dx,Fu({key:o},l,{className:c}))}return a}}])}(E.PureComponent);An(zl,"displayName","Line");An(zl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});An(zl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(f,p){var v=Lt(f,o);return d==="horizontal"?{x:pT({axis:r,ticks:i,bandSize:l,entry:f,index:p}),y:be(v)?null:n.scale(v),value:v,payload:f}:{x:be(v)?null:r.scale(v),y:pT({axis:n,ticks:a,bandSize:l,entry:f,index:p}),value:v,payload:f}});return $r({points:h,layout:d},u)});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function xve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VR(n.key),n)}}function yve(t,e,r){return e&&vve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bve(t,e,r){return e=Hp(e),jve(t,LR()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function jve(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wve(t)}function wve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function Nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ej(t,e)}function ej(t,e){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ej(t,e)}function $R(t,e,r){return e=VR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VR(t){var e=_ve(t,"string");return Wl(e)=="symbol"?e:e+""}function _ve(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tj(){return tj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tj.apply(this,arguments)}function Sve(t){var e=t.xAxisId,r=t1(),n=r1(),i=NR(e);return i==null?null:E.createElement(wc,tj({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ns(o,!0)}}))}var Hl=function(t){function e(){return xve(this,e),bve(this,e,arguments)}return Nve(e,t),yve(e,[{key:"render",value:function(){return E.createElement(Sve,this.props)}}])}(E.Component);$R(Hl,"displayName","XAxis");$R(Hl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function kve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ave(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UR(n.key),n)}}function Tve(t,e,r){return e&&Ave(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,e,r){return e=qp(e),Pve(t,FR()?Reflect.construct(e,r||[],qp(t).constructor):e.apply(t,r))}function Pve(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(t)}function Cve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}function Ive(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rj(t,e)}function rj(t,e){return rj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rj(t,e)}function BR(t,e,r){return e=UR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UR(t){var e=Ove(t,"string");return ql(e)=="symbol"?e:e+""}function Ove(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nj(){return nj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nj.apply(this,arguments)}var Mve=function(e){var r=e.yAxisId,n=t1(),i=r1(),a=_R(r);return a==null?null:E.createElement(wc,nj({},a,{className:Ne("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Ns(l,!0)}}))},Gl=function(t){function e(){return kve(this,e),Eve(this,e,arguments)}return Ive(e,t),Tve(e,[{key:"render",value:function(){return E.createElement(Mve,this.props)}}])}(E.Component);BR(Gl,"displayName","YAxis");BR(Gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zE(t){return $ve(t)||Lve(t)||Rve(t)||Dve()}function Dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(t,e){if(t){if(typeof t=="string")return sj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sj(t,e)}}function Lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $ve(t){if(Array.isArray(t))return sj(t)}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ij=function(e,r,n,i,a){var o=Gr(e,s1),l=Gr(e,bx),c=[].concat(zE(o),zE(l)),u=Gr(e,wx),d="".concat(i,"Id"),h=i[0],f=r;if(c.length&&(f=c.reduce(function(g,j){if(j.props[d]===n&&ns(j.props,"extendDomain")&&ee(j.props[h])){var x=j.props[h];return[Math.min(g[0],x),Math.max(g[1],x)]}return g},f)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");f=u.reduce(function(g,j){if(j.props[d]===n&&ns(j.props,"extendDomain")&&ee(j.props[p])&&ee(j.props[v])){var x=j.props[p],y=j.props[v];return[Math.min(g[0],x,y),Math.max(g[1],x,y)]}return g},f)}return a&&a.length&&(f=a.reduce(function(g,j){return ee(j)?[Math.min(g[0],j),Math.max(g[1],j)]:g},f)),f},zR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,v=new Array(p);f<p;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,v){var g=r?r+u:u;if(!this._events[g])return!1;var j=this._events[g],x=arguments.length,y,b;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),x){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,d),!0;case 3:return j.fn.call(j.context,d,h),!0;case 4:return j.fn.call(j.context,d,h,f),!0;case 5:return j.fn.call(j.context,d,h,f,p),!0;case 6:return j.fn.call(j.context,d,h,f,p,v),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];j.fn.apply(j.context,y)}else{var _=j.length,w;for(b=0;b<_;b++)switch(j[b].once&&this.removeListener(u,j[b].fn,void 0,!0),x){case 1:j[b].fn.call(j[b].context);break;case 2:j[b].fn.call(j[b].context,d);break;case 3:j[b].fn.call(j[b].context,d,h);break;case 4:j[b].fn.call(j[b].context,d,h,f);break;default:if(!y)for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];j[b].fn.apply(j[b].context,y)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!f||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var g=0,j=[],x=v.length;g<x;g++)(v[g].fn!==d||f&&!v[g].once||h&&v[g].context!==h)&&j.push(v[g]);j.length?this._events[p]=j.length===1?j[0]:j:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(zR);var Vve=zR.exports;const Fve=Ue(Vve);var sy=new Fve,iy="recharts.syncMouseEvents";function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Bve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WR(n.key),n)}}function zve(t,e,r){return e&&Uve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ay(t,e,r){return e=WR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WR(t){var e=Wve(t,"string");return Zd(e)=="symbol"?e:e+""}function Wve(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hve=function(){function t(){Bve(this,t),ay(this,"activeIndex",0),ay(this,"coordinateList",[]),ay(this,"layout","horizontal")}return zve(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+c+u,f=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function qve(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&ee(n)&&ee(i))return!0}return!1}function Gve(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function HR(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Ze(e,r,n,i),l=Ze(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Kve(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=Ze(l,c,u,h),p=Ze(l,c,d,h);n=f.x,i=f.y,a=p.x,o=p.y}else return HR(e);return[{x:n,y:i},{x:a,y:o}]}function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function WE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(r),!0).forEach(function(n){Yve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yve(t,e,r){return e=Xve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xve(t){var e=Qve(t,"string");return eh(e)=="symbol"?e:e+""}function Qve(t,e){if(eh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jve(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,g=Np;if(f==="ScatterChart")v=o,g=gfe;else if(f==="BarChart")v=Gve(h,o,c,d),g=Q2;else if(h==="radial"){var j=HR(o),x=j.cx,y=j.cy,b=j.radius,_=j.startAngle,w=j.endAngle;v={cx:x,cy:y,startAngle:_,endAngle:w,innerRadius:b,outerRadius:b},g=B3}else v={points:Kve(h,o,c)},g=Np;var N=kf(kf(kf(kf({stroke:"#ccc",pointerEvents:"none"},c),v),de(p,!1)),{},{payload:l,payloadIndex:u,className:Ne("recharts-tooltip-cursor",p.className)});return E.isValidElement(p)?E.cloneElement(p,N):E.createElement(g,N)}var Zve=["item"],eye=["children","className","width","height","style","compact","title","desc"];function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Go.apply(this,arguments)}function HE(t,e){return nye(t)||rye(t,e)||GR(t,e)||tye()}function tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nye(t){if(Array.isArray(t))return t}function qE(t,e){if(t==null)return{};var r=sye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KR(n.key),n)}}function oye(t,e,r){return e&&aye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lye(t,e,r){return e=Gp(e),cye(t,qR()?Reflect.construct(e,r||[],Gp(t).constructor):e.apply(t,r))}function cye(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(t)}function uye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gp(t)}function dye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aj(t,e)}function aj(t,e){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aj(t,e)}function Yl(t){return mye(t)||fye(t)||GR(t)||hye()}function hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GR(t,e){if(t){if(typeof t=="string")return oj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oj(t,e)}}function fye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mye(t){if(Array.isArray(t))return oj(t)}function oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pe(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=pye(t,"string");return Kl(e)=="symbol"?e:e+""}function pye(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gye={xAxis:["bottom","top"],yAxis:["left","right"]},xye={width:"100%",height:"100%"},YR={x:0,y:0};function Af(t){return t}var vye=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yye=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return G(G(G({},i),Ze(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return G(G(G({},i),Ze(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return YR},Nx=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yl(l),Yl(u)):l},[]);return o.length>0?o:e&&e.length&&ee(i)&&ee(a)?e.slice(i,a+1):[]};function XR(t){return t==="number"?[0,"auto"]:void 0}var lj=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=Nx(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=qm(p,o.dataKey,i)}else f=h&&h[n]||l[n];return f?[].concat(Yl(c),[D3(u,f)]):c},[])},KE=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=vye(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Rce(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,f=lj(e,r,d,h),p=yye(n,l,d,a);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},bye=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=E3(d,a);return n.reduce(function(v,g){var j,x=g.type.defaultProps!==void 0?G(G({},g.type.defaultProps),g.props):g.props,y=x.type,b=x.dataKey,_=x.allowDataOverflow,w=x.allowDuplicatedCategory,N=x.scale,k=x.ticks,S=x.includeHidden,T=x[o];if(v[T])return v;var O=Nx(e.data,{graphicalItems:i.filter(function(J){var oe,Ae=o in J.props?J.props[o]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[o];return Ae===T}),dataStartIndex:c,dataEndIndex:u}),C=O.length,I,M,B;qve(x.domain,_,y)&&(I=j0(x.domain,null,_),p&&(y==="number"||N!=="auto")&&(B=Ru(O,b,"category")));var U=XR(y);if(!I||I.length===0){var R,V=(R=x.domain)!==null&&R!==void 0?R:U;if(b){if(I=Ru(O,b,y),y==="category"&&p){var L=SK(I);w&&L?(M=I,I=Mp(0,C)):w||(I=yT(V,I,g).reduce(function(J,oe){return J.indexOf(oe)>=0?J:[].concat(Yl(J),[oe])},[]))}else if(y==="category")w?I=I.filter(function(J){return J!==""&&!be(J)}):I=yT(V,I,g).reduce(function(J,oe){return J.indexOf(oe)>=0||oe===""||be(oe)?J:[].concat(Yl(J),[oe])},[]);else if(y==="number"){var F=Bce(O,i.filter(function(J){var oe,Ae,We=o in J.props?J.props[o]:(oe=J.type.defaultProps)===null||oe===void 0?void 0:oe[o],et="hide"in J.props?J.props.hide:(Ae=J.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return We===T&&(S||!et)}),b,a,d);F&&(I=F)}p&&(y==="number"||N!=="auto")&&(B=Ru(O,b,"category"))}else p?I=Mp(0,C):l&&l[T]&&l[T].hasStack&&y==="number"?I=f==="expand"?[0,1]:M3(l[T].stackGroups,c,u):I=T3(O,i.filter(function(J){var oe=o in J.props?J.props[o]:J.type.defaultProps[o],Ae="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return oe===T&&(S||!Ae)}),y,d,!0);if(y==="number")I=ij(h,I,T,a,k),V&&(I=j0(V,I,_));else if(y==="category"&&V){var H=V,Y=I.every(function(J){return H.indexOf(J)>=0});Y&&(I=H)}}return G(G({},v),{},pe({},T,G(G({},x),{},{axisType:a,domain:I,categoricalDomain:B,duplicateDomain:M,originalDomain:(j=x.domain)!==null&&j!==void 0?j:U,isCategorical:p,layout:d})))},{})},jye=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=Nx(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,v=E3(d,a),g=-1;return n.reduce(function(j,x){var y=x.type.defaultProps!==void 0?G(G({},x.type.defaultProps),x.props):x.props,b=y[o],_=XR("number");if(!j[b]){g++;var w;return v?w=Mp(0,p):l&&l[b]&&l[b].hasStack?(w=M3(l[b].stackGroups,c,u),w=ij(h,w,b,a)):(w=j0(_,T3(f,n.filter(function(N){var k,S,T=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return T===b&&!O}),"number",d),i.defaultProps.allowDataOverflow),w=ij(h,w,b,a)),G(G({},j),{},pe({},b,G(G({axisType:a},i.defaultProps),{},{hide:!0,orientation:qr(gye,"".concat(a,".").concat(g%2),null),domain:w,originalDomain:_,isCategorical:v,layout:d})))}return j},{})},wye=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=Gr(d,a),p={};return f&&f.length?p=bye(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=jye(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Nye=function(e){var r=vi(e),n=Ns(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:_2(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bp(r,n)}},YE=function(e){var r=e.children,n=e.defaultShowTooltip,i=Br(r,Rl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_ye=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ts(r&&r.type);return n&&n.indexOf("Bar")>=0})},XE=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sye=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=Br(h,Rl),v=Br(h,$i),g=Object.keys(c).reduce(function(w,N){var k=c[N],S=k.orientation;return!k.mirror&&!k.hide?G(G({},w),{},pe({},S,w[S]+k.width)):w},{left:f.left||0,right:f.right||0}),j=Object.keys(o).reduce(function(w,N){var k=o[N],S=k.orientation;return!k.mirror&&!k.hide?G(G({},w),{},pe({},S,qr(w,"".concat(S))+k.height)):w},{top:f.top||0,bottom:f.bottom||0}),x=G(G({},j),g),y=x.bottom;p&&(x.bottom+=p.props.height||Rl.defaultProps.height),v&&r&&(x=Vce(x,i,n,r));var b=u-x.left-x.right,_=d-x.top-x.bottom;return G(G({brushBottom:y},x),{},{width:Math.max(b,0),height:Math.max(_,0)})},kye=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},o1=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(x,y){var b=y.graphicalItems,_=y.stackGroups,w=y.offset,N=y.updateId,k=y.dataStartIndex,S=y.dataEndIndex,T=x.barSize,O=x.layout,C=x.barGap,I=x.barCategoryGap,M=x.maxBarSize,B=XE(O),U=B.numericAxisName,R=B.cateAxisName,V=_ye(b),L=[];return b.forEach(function(F,H){var Y=Nx(x.data,{graphicalItems:[F],dataStartIndex:k,dataEndIndex:S}),J=F.type.defaultProps!==void 0?G(G({},F.type.defaultProps),F.props):F.props,oe=J.dataKey,Ae=J.maxBarSize,We=J["".concat(U,"Id")],et=J["".concat(R,"Id")],cr={},Ut=c.reduce(function(Jr,ds){var go=y["".concat(ds.axisType,"Map")],Eh=J["".concat(ds.axisType,"Id")];go&&go[Eh]||ds.axisType==="zAxis"||Qa();var Qs=go[Eh];return G(G({},Jr),{},pe(pe({},ds.axisType,Qs),"".concat(ds.axisType,"Ticks"),Ns(Qs)))},cr),re=Ut[R],we=Ut["".concat(R,"Ticks")],_e=_&&_[We]&&_[We].hasStack&&Xce(F,_[We].stackGroups),Q=Ts(F.type).indexOf("Bar")>=0,Ke=bp(re,we),Pe=[],wt=V&&Lce({barSize:T,stackGroups:_,totalSize:kye(Ut,R)});if(Q){var ht,zt,jn=be(Ae)?M:Ae,ft=(ht=(zt=bp(re,we,!0))!==null&&zt!==void 0?zt:jn)!==null&&ht!==void 0?ht:0;Pe=$ce({barGap:C,barCategoryGap:I,bandSize:ft!==Ke?ft:Ke,sizeList:wt[et],maxBarSize:jn}),ft!==Ke&&(Pe=Pe.map(function(Jr){return G(G({},Jr),{},{position:G(G({},Jr.position),{},{offset:Jr.position.offset-ft/2})})}))}var kt=F&&F.type&&F.type.getComposedData;kt&&L.push({props:G(G({},kt(G(G({},Ut),{},{displayedData:Y,props:x,dataKey:oe,item:F,bandSize:Ke,barPosition:Pe,offset:w,stackedData:_e,layout:O,dataStartIndex:k,dataEndIndex:S}))),{},pe(pe(pe({key:F.key||"item-".concat(H)},U,Ut[U]),R,Ut[R]),"animationId",N)),childIndex:$K(F,x.children),item:F})}),L},p=function(x,y){var b=x.props,_=x.dataStartIndex,w=x.dataEndIndex,N=x.updateId;if(!hk({props:b}))return null;var k=b.children,S=b.layout,T=b.stackOffset,O=b.data,C=b.reverseStackOrder,I=XE(S),M=I.numericAxisName,B=I.cateAxisName,U=Gr(k,n),R=Kce(O,U,"".concat(M,"Id"),"".concat(B,"Id"),T,C),V=c.reduce(function(J,oe){var Ae="".concat(oe.axisType,"Map");return G(G({},J),{},pe({},Ae,wye(b,G(G({},oe),{},{graphicalItems:U,stackGroups:oe.axisType===M&&R,dataStartIndex:_,dataEndIndex:w}))))},{}),L=Sye(G(G({},V),{},{props:b,graphicalItems:U}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(J){V[J]=d(b,V[J],L,J.replace("Map",""),r)});var F=V["".concat(B,"Map")],H=Nye(F),Y=f(b,G(G({},V),{},{dataStartIndex:_,dataEndIndex:w,updateId:N,graphicalItems:U,stackGroups:R,offset:L}));return G(G({formattedGraphicalItems:Y,graphicalItems:U,offset:L,stackGroups:R},H),V)},v=function(j){function x(y){var b,_,w;return iye(this,x),w=lye(this,x,[y]),pe(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),pe(w,"accessibilityManager",new Hve),pe(w,"handleLegendBBoxUpdate",function(N){if(N){var k=w.state,S=k.dataStartIndex,T=k.dataEndIndex,O=k.updateId;w.setState(G({legendBBox:N},p({props:w.props,dataStartIndex:S,dataEndIndex:T,updateId:O},G(G({},w.state),{},{legendBBox:N}))))}}),pe(w,"handleReceiveSyncEvent",function(N,k,S){if(w.props.syncId===N){if(S===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),pe(w,"handleBrushChange",function(N){var k=N.startIndex,S=N.endIndex;if(k!==w.state.dataStartIndex||S!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return G({dataStartIndex:k,dataEndIndex:S},p({props:w.props,dataStartIndex:k,dataEndIndex:S,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:S})}}),pe(w,"handleMouseEnter",function(N){var k=w.getMouseInfo(N);if(k){var S=G(G({},k),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var T=w.props.onMouseEnter;ve(T)&&T(S,N)}}),pe(w,"triggeredAfterMouseMove",function(N){var k=w.getMouseInfo(N),S=k?G(G({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var T=w.props.onMouseMove;ve(T)&&T(S,N)}),pe(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),pe(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),pe(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),pe(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var S=w.props.onMouseLeave;ve(S)&&S(k,N)}),pe(w,"handleOuterEvent",function(N){var k=LK(N),S=qr(w.props,"".concat(k));if(k&&ve(S)){var T,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(N.changedTouches[0]):O=w.getMouseInfo(N),S((T=O)!==null&&T!==void 0?T:{},N)}}),pe(w,"handleClick",function(N){var k=w.getMouseInfo(N);if(k){var S=G(G({},k),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var T=w.props.onClick;ve(T)&&T(S,N)}}),pe(w,"handleMouseDown",function(N){var k=w.props.onMouseDown;if(ve(k)){var S=w.getMouseInfo(N);k(S,N)}}),pe(w,"handleMouseUp",function(N){var k=w.props.onMouseUp;if(ve(k)){var S=w.getMouseInfo(N);k(S,N)}}),pe(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),pe(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),pe(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),pe(w,"handleDoubleClick",function(N){var k=w.props.onDoubleClick;if(ve(k)){var S=w.getMouseInfo(N);k(S,N)}}),pe(w,"handleContextMenu",function(N){var k=w.props.onContextMenu;if(ve(k)){var S=w.getMouseInfo(N);k(S,N)}}),pe(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&sy.emit(iy,w.props.syncId,N,w.eventEmitterSymbol)}),pe(w,"applySyncEvent",function(N){var k=w.props,S=k.layout,T=k.syncMethod,O=w.state.updateId,C=N.dataStartIndex,I=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(G({dataStartIndex:C,dataEndIndex:I},p({props:w.props,dataStartIndex:C,dataEndIndex:I,updateId:O},w.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,B=N.chartY,U=N.activeTooltipIndex,R=w.state,V=R.offset,L=R.tooltipTicks;if(!V)return;if(typeof T=="function")U=T(L,N);else if(T==="value"){U=-1;for(var F=0;F<L.length;F++)if(L[F].value===N.activeLabel){U=F;break}}var H=G(G({},V),{},{x:V.left,y:V.top}),Y=Math.min(M,H.x+H.width),J=Math.min(B,H.y+H.height),oe=L[U]&&L[U].value,Ae=lj(w.state,w.props.data,U),We=L[U]?{x:S==="horizontal"?L[U].coordinate:Y,y:S==="horizontal"?J:L[U].coordinate}:YR;w.setState(G(G({},N),{},{activeLabel:oe,activeCoordinate:We,activePayload:Ae,activeTooltipIndex:U}))}else w.setState(N)}),pe(w,"renderCursor",function(N){var k,S=w.state,T=S.isTooltipActive,O=S.activeCoordinate,C=S.activePayload,I=S.offset,M=S.activeTooltipIndex,B=S.tooltipAxisBandSize,U=w.getTooltipEventType(),R=(k=N.props.active)!==null&&k!==void 0?k:T,V=w.props.layout,L=N.key||"_recharts-cursor";return $.createElement(Jve,{key:L,activeCoordinate:O,activePayload:C,activeTooltipIndex:M,chartName:r,element:N,isActive:R,layout:V,offset:I,tooltipAxisBandSize:B,tooltipEventType:U})}),pe(w,"renderPolarAxis",function(N,k,S){var T=qr(N,"type.axisType"),O=qr(w.state,"".concat(T,"Map")),C=N.type.defaultProps,I=C!==void 0?G(G({},C),N.props):N.props,M=O&&O[I["".concat(T,"Id")]];return E.cloneElement(N,G(G({},M),{},{className:Ne(T,M.className),key:N.key||"".concat(k,"-").concat(S),ticks:Ns(M,!0)}))}),pe(w,"renderPolarGrid",function(N){var k=N.props,S=k.radialLines,T=k.polarAngles,O=k.polarRadius,C=w.state,I=C.radiusAxisMap,M=C.angleAxisMap,B=vi(I),U=vi(M),R=U.cx,V=U.cy,L=U.innerRadius,F=U.outerRadius;return E.cloneElement(N,{polarAngles:Array.isArray(T)?T:Ns(U,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(O)?O:Ns(B,!0).map(function(H){return H.coordinate}),cx:R,cy:V,innerRadius:L,outerRadius:F,key:N.key||"polar-grid",radialLines:S})}),pe(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,k=w.props,S=k.children,T=k.width,O=k.height,C=w.props.margin||{},I=T-(C.left||0)-(C.right||0),M=k3({children:S,formattedGraphicalItems:N,legendWidth:I,legendContent:u});if(!M)return null;var B=M.item,U=qE(M,Zve);return E.cloneElement(B,G(G({},U),{},{chartWidth:T,chartHeight:O,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),pe(w,"renderTooltip",function(){var N,k=w.props,S=k.children,T=k.accessibilityLayer,O=Br(S,rn);if(!O)return null;var C=w.state,I=C.isTooltipActive,M=C.activeCoordinate,B=C.activePayload,U=C.activeLabel,R=C.offset,V=(N=O.props.active)!==null&&N!==void 0?N:I;return E.cloneElement(O,{viewBox:G(G({},R),{},{x:R.left,y:R.top}),active:V,label:U,payload:V?B:[],coordinate:M,accessibilityLayer:T})}),pe(w,"renderBrush",function(N){var k=w.props,S=k.margin,T=k.data,O=w.state,C=O.offset,I=O.dataStartIndex,M=O.dataEndIndex,B=O.updateId;return E.cloneElement(N,{key:N.key||"_recharts-brush",onChange:wf(w.handleBrushChange,N.props.onChange),data:T,x:ee(N.props.x)?N.props.x:C.left,y:ee(N.props.y)?N.props.y:C.top+C.height+C.brushBottom-(S.bottom||0),width:ee(N.props.width)?N.props.width:C.width,startIndex:I,endIndex:M,updateId:"brush-".concat(B)})}),pe(w,"renderReferenceElement",function(N,k,S){if(!N)return null;var T=w,O=T.clipPathId,C=w.state,I=C.xAxisMap,M=C.yAxisMap,B=C.offset,U=N.type.defaultProps||{},R=N.props,V=R.xAxisId,L=V===void 0?U.xAxisId:V,F=R.yAxisId,H=F===void 0?U.yAxisId:F;return E.cloneElement(N,{key:N.key||"".concat(k,"-").concat(S),xAxis:I[L],yAxis:M[H],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),pe(w,"renderActivePoints",function(N){var k=N.item,S=N.activePoint,T=N.basePoint,O=N.childIndex,C=N.isRange,I=[],M=k.props.key,B=k.item.type.defaultProps!==void 0?G(G({},k.item.type.defaultProps),k.item.props):k.item.props,U=B.activeDot,R=B.dataKey,V=G(G({index:O,dataKey:R,cx:S.x,cy:S.y,r:4,fill:X2(k.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},de(U,!1)),Gm(U));return I.push(x.renderActiveDot(U,V,"".concat(M,"-activePoint-").concat(O))),T?I.push(x.renderActiveDot(U,G(G({},V),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(O))):C&&I.push(null),I}),pe(w,"renderGraphicChild",function(N,k,S){var T=w.filterFormatItem(N,k,S);if(!T)return null;var O=w.getTooltipEventType(),C=w.state,I=C.isTooltipActive,M=C.tooltipAxis,B=C.activeTooltipIndex,U=C.activeLabel,R=w.props.children,V=Br(R,rn),L=T.props,F=L.points,H=L.isRange,Y=L.baseLine,J=T.item.type.defaultProps!==void 0?G(G({},T.item.type.defaultProps),T.item.props):T.item.props,oe=J.activeDot,Ae=J.hide,We=J.activeBar,et=J.activeShape,cr=!!(!Ae&&I&&V&&(oe||We||et)),Ut={};O!=="axis"&&V&&V.props.trigger==="click"?Ut={onClick:wf(w.handleItemMouseEnter,N.props.onClick)}:O!=="axis"&&(Ut={onMouseLeave:wf(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:wf(w.handleItemMouseEnter,N.props.onMouseEnter)});var re=E.cloneElement(N,G(G({},T.props),Ut));function we(ds){return typeof M.dataKey=="function"?M.dataKey(ds.payload):null}if(cr)if(B>=0){var _e,Q;if(M.dataKey&&!M.allowDuplicatedCategory){var Ke=typeof M.dataKey=="function"?we:"payload.".concat(M.dataKey.toString());_e=qm(F,Ke,U),Q=H&&Y&&qm(Y,Ke,U)}else _e=F==null?void 0:F[B],Q=H&&Y&&Y[B];if(et||We){var Pe=N.props.activeIndex!==void 0?N.props.activeIndex:B;return[E.cloneElement(N,G(G(G({},T.props),Ut),{},{activeIndex:Pe})),null,null]}if(!be(_e))return[re].concat(Yl(w.renderActivePoints({item:T,activePoint:_e,basePoint:Q,childIndex:B,isRange:H})))}else{var wt,ht=(wt=w.getItemByXY(w.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:re},zt=ht.graphicalItem,jn=zt.item,ft=jn===void 0?N:jn,kt=zt.childIndex,Jr=G(G(G({},T.props),Ut),{},{activeIndex:kt});return[E.cloneElement(ft,Jr),null,null]}return H?[re,null,null]:[re,null]}),pe(w,"renderCustomized",function(N,k,S){return E.cloneElement(N,G(G({key:"recharts-customized-".concat(S)},w.props),w.state))}),pe(w,"renderMap",{CartesianGrid:{handler:Af,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Af},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Af},YAxis:{handler:Af},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:pc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=SD(w.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),w.state={},w}return dye(x,j),oye(x,[{key:"componentDidMount",value:function(){var b,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,_=b.children,w=b.data,N=b.height,k=b.layout,S=Br(_,rn);if(S){var T=S.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=lj(this.state,w,T,O),I=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+N)/2,B=k==="horizontal",U=B?{x:I,y:M}:{y:I,x:M},R=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});R&&(U=G(G({},U),R.props.points[T].tooltipPosition),C=R.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:O,activePayload:C,activeCoordinate:U};this.setState(V),this.renderCursor(S),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Rb([Br(b.children,rn)],[Br(this.props.children,rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Br(this.props.children,rn);if(b&&typeof b.props.shared=="boolean"){var _=b.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var _=this.container,w=_.getBoundingClientRect(),N=uie(w),k={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},S=w.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,S);if(!T)return null;var O=this.state,C=O.xAxisMap,I=O.yAxisMap,M=this.getTooltipEventType(),B=KE(this.state,this.props.data,this.props.layout,T);if(M!=="axis"&&C&&I){var U=vi(C).scale,R=vi(I).scale,V=U&&U.invert?U.invert(k.chartX):null,L=R&&R.invert?R.invert(k.chartY):null;return G(G({},k),{},{xValue:V,yValue:L},B)}return B?G(G({},k),B):null}},{key:"inRange",value:function(b,_){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=b/w,S=_/w;if(N==="horizontal"||N==="vertical"){var T=this.state.offset,O=k>=T.left&&k<=T.left+T.width&&S>=T.top&&S<=T.top+T.height;return O?{x:k,y:S}:null}var C=this.state,I=C.angleAxisMap,M=C.radiusAxisMap;if(I&&M){var B=vi(I);return wT({x:k,y:S},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,_=this.getTooltipEventType(),w=Br(b,rn),N={};w&&_==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Gm(this.props,this.handleOuterEvent);return G(G({},k),N)}},{key:"addListener",value:function(){sy.on(iy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sy.removeListener(iy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,_,w){for(var N=this.state.formattedGraphicalItems,k=0,S=N.length;k<S;k++){var T=N[k];if(T.item===b||T.props.key===b.key||_===Ts(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,_=this.state.offset,w=_.left,N=_.top,k=_.height,S=_.width;return $.createElement("defs",null,$.createElement("clipPath",{id:b},$.createElement("rect",{x:w,y:N,height:k,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(_,w){var N=HE(w,2),k=N[0],S=N[1];return G(G({},_),{},pe({},k,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(_,w){var N=HE(w,2),k=N[0],S=N[1];return G(G({},_),{},pe({},k,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(b){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[b])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(b){var _=this.state,w=_.formattedGraphicalItems,N=_.activeItem;if(w&&w.length)for(var k=0,S=w.length;k<S;k++){var T=w[k],O=T.props,C=T.item,I=C.type.defaultProps!==void 0?G(G({},C.type.defaultProps),C.props):C.props,M=Ts(C.type);if(M==="Bar"){var B=(O.data||[]).find(function(L){return Xhe(b,L)});if(B)return{graphicalItem:T,payload:B}}else if(M==="RadialBar"){var U=(O.data||[]).find(function(L){return wT(b,L)});if(U)return{graphicalItem:T,payload:U}}else if(gx(T,N)||xx(T,N)||Kd(T,N)){var R=$me({graphicalItem:T,activeTooltipItem:N,itemData:I.data}),V=I.activeIndex===void 0?R:I.activeIndex;return{graphicalItem:G(G({},T),{},{childIndex:V}),payload:Kd(T,N)?I.data[R]:T.props.data[R]}}}return null}},{key:"render",value:function(){var b=this;if(!hk(this))return null;var _=this.props,w=_.children,N=_.className,k=_.width,S=_.height,T=_.style,O=_.compact,C=_.title,I=_.desc,M=qE(_,eye),B=de(M,!1);if(O)return $.createElement(AE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement($b,Go({},B,{width:k,height:S,title:C,desc:I}),this.renderClipPath(),mk(w,this.renderMap)));if(this.props.accessibilityLayer){var U,R;B.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,B.role=(R=this.props.role)!==null&&R!==void 0?R:"application",B.onKeyDown=function(L){b.accessibilityManager.keyboardEvent(L)},B.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return $.createElement(AE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Go({className:Ne("recharts-wrapper",N),style:G({position:"relative",cursor:"default",width:k,height:S},T)},V,{ref:function(F){b.container=F}}),$.createElement($b,Go({},B,{width:k,height:S,title:C,desc:I,style:xye}),this.renderClipPath(),mk(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);pe(v,"displayName",r),pe(v,"defaultProps",G({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),pe(v,"getDerivedStateFromProps",function(j,x){var y=j.dataKey,b=j.data,_=j.children,w=j.width,N=j.height,k=j.layout,S=j.stackOffset,T=j.margin,O=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var I=YE(j);return G(G(G({},I),{},{updateId:0},p(G(G({props:j},I),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:N,prevLayout:k,prevStackOffset:S,prevMargin:T,prevChildren:_})}if(y!==x.prevDataKey||b!==x.prevData||w!==x.prevWidth||N!==x.prevHeight||k!==x.prevLayout||S!==x.prevStackOffset||!il(T,x.prevMargin)){var M=YE(j),B={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},U=G(G({},KE(x,b,k)),{},{updateId:x.updateId+1}),R=G(G(G({},M),B),U);return G(G(G({},R),p(G({props:j},R),x)),{},{prevDataKey:y,prevData:b,prevWidth:w,prevHeight:N,prevLayout:k,prevStackOffset:S,prevMargin:T,prevChildren:_})}if(!Rb(_,x.prevChildren)){var V,L,F,H,Y=Br(_,Rl),J=Y&&(V=(L=Y.props)===null||L===void 0?void 0:L.startIndex)!==null&&V!==void 0?V:O,oe=Y&&(F=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&F!==void 0?F:C,Ae=J!==O||oe!==C,We=!be(b),et=We&&!Ae?x.updateId:x.updateId+1;return G(G({updateId:et},p(G(G({props:j},x),{},{updateId:et,dataStartIndex:J,dataEndIndex:oe}),x)),{},{prevChildren:_,dataStartIndex:J,dataEndIndex:oe})}return null}),pe(v,"renderActiveDot",function(j,x,y){var b;return E.isValidElement(j)?b=E.cloneElement(j,x):ve(j)?b=j(x):b=$.createElement(dx,x),$.createElement(Re,{className:"recharts-active-dot",key:y},b)});var g=E.forwardRef(function(x,y){return $.createElement(v,Go({},x,{ref:y}))});return g.displayName=v.displayName,g},Aye=o1({chartName:"LineChart",GraphicalChild:zl,axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:pR}),Tye=o1({chartName:"BarChart",GraphicalChild:po,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:pR}),Eye=o1({chartName:"PieChart",GraphicalChild:Xs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:px},{axisType:"radiusAxis",AxisComp:fx}],formatAxisMap:aue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Pye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(10),[a,o]=E.useState(""),[l,c]=E.useState(1),[u,d]=E.useState(!0),[h,f]=E.useState(0),[p,v]=E.useState(ct()),[g,j]=E.useState(Jt()),[x,y]=E.useState(Te());if(E.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]),E.useEffect(()=>{const L=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(L)},[]),E.useEffect(()=>{v(ct()),j(Jt()),y(Te())},[h]),E.useEffect(()=>{const L=()=>f(F=>F+1);return window.addEventListener("focus",L),()=>window.removeEventListener("focus",L)},[]),E.useEffect(()=>{const L=()=>f(F=>F+1);return window.addEventListener("projectsUpdated",L),()=>window.removeEventListener("projectsUpdated",L)},[]),E.useEffect(()=>{const L=()=>f(F=>F+1);return window.addEventListener("ticketsUpdated",L),()=>window.removeEventListener("ticketsUpdated",L)},[]),E.useEffect(()=>{const L=()=>f(F=>F+1);return window.addEventListener("messagesUpdated",L),()=>window.removeEventListener("messagesUpdated",L)},[]),!t||!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const b={totalProjects:p.length,activeProjects:p.filter(L=>L.status==="active").length,totalUsers:x.length,openTickets:g.filter(L=>L.status==="open"||L.status==="in_progress").length},_=p.slice(0,5),w=g.slice(0,5),N=E.useMemo(()=>p.filter(L=>L.name.toLowerCase().includes(a.toLowerCase())||L.description.toLowerCase().includes(a.toLowerCase())||L.projectType.toLowerCase().includes(a.toLowerCase())),[p,a]),k=Math.ceil(N.length/n),S=(l-1)*n,T=S+n,O=N.slice(S,T);E.useEffect(()=>{c(1)},[a]),E.useEffect(()=>{l>k&&k>0&&c(k)},[n,k,l]);const C=L=>g.filter(F=>F.projectId===L).length,I=L=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const H=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(Y=>Y.id!==L);localStorage.setItem("marketing_management_website_projects",JSON.stringify(H)),window.location.reload()}},M=[{name:"Open",value:g.filter(L=>L.status==="open").length,color:"#ef4444"},{name:"In Progress",value:g.filter(L=>L.status==="in_progress").length,color:"#f59e0b"},{name:"Resolved",value:g.filter(L=>L.status==="resolved").length,color:"#10b981"},{name:"Closed",value:g.filter(L=>L.status==="closed").length,color:"#6b7280"}].filter(L=>L.value>0),B=E.useMemo(()=>{const L=["planning","design","development","testing","seo_optimization","launch","maintenance"],F={};return L.forEach(H=>{F[wr(H)]=0}),p.forEach(H=>{const Y=wr(H.currentStage);F[Y]=(F[Y]||0)+1}),L.map(H=>({name:wr(H),value:F[wr(H)]}))},[p]),U=["#fbbf24","#8b5cf6","#3b82f6","#10b981","#06b6d4","#f59e0b","#ef4444"],V=Array.from({length:7},(F,H)=>{const Y=new Date;return Y.setDate(Y.getDate()-(6-H)),Y}).map(F=>{const H=g.filter(J=>new Date(J.createdAt).toDateString()===F.toDateString()).length,Y=p.filter(J=>new Date(J.createdAt).toDateString()===F.toDateString()).length;return{date:F.toLocaleDateString("en-US",{weekday:"short"}),tickets:H,projects:Y}});return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your system overview."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:s.jsxs("div",{className:"lg:col-span-4 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Analytics Overview"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ticket Status Distribution"}),s.jsx(Uv,{width:"100%",height:250,children:s.jsxs(Eye,{children:[s.jsx(Xs,{data:M,cx:"50%",cy:"50%",innerRadius:30,outerRadius:70,paddingAngle:5,dataKey:"value",children:M.map((L,F)=>s.jsx(_d,{fill:L.color},`cell-${F}`))}),s.jsx(rn,{}),s.jsx($i,{wrapperStyle:{fontSize:"14px"}})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Project Stages Summary"}),s.jsx(Uv,{width:"100%",height:350,children:s.jsxs(Tye,{data:B,margin:{top:20,right:10,left:10,bottom:80},children:[s.jsx(Q0,{strokeDasharray:"3 3"}),s.jsx(Hl,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:12}}),s.jsx(Gl,{tick:{fontSize:12}}),s.jsx(rn,{}),s.jsx(po,{dataKey:"value",radius:[4,4,0,0],children:B.map((L,F)=>s.jsx(_d,{fill:U[F]},`cell-${F}`))})]})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity (Last 7 Days)"}),s.jsx(Uv,{width:"100%",height:280,children:s.jsxs(Aye,{data:V,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Q0,{strokeDasharray:"3 3"}),s.jsx(Hl,{dataKey:"date",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),s.jsx(Gl,{tick:{fontSize:12}}),s.jsx(rn,{}),s.jsx($i,{wrapperStyle:{fontSize:"14px"}}),s.jsx(zl,{type:"monotone",dataKey:"tickets",stroke:"#ef4444",strokeWidth:2,name:"New Tickets"}),s.jsx(zl,{type:"monotone",dataKey:"projects",stroke:"#3b82f6",strokeWidth:2,name:"New Projects"})]})})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ff,{}),s.jsx(ff,{}),s.jsx(ff,{}),s.jsx(ff,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{title:"Total Projects",value:b.totalProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(ir,{title:"Active Projects",value:b.activeProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsx(ir,{title:"Total Users",value:b.totalUsers,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsx(ir,{title:"Open Tickets",value:b.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-12 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-website",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Website Projects"]}),s.jsxs(q,{to:"/admin/projects/website",className:"w-full bg-website hover:bg-website-hover text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"Manage Website Projects"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-social",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Social Media Projects"]}),s.jsxs(q,{to:"/admin/projects/social-media",className:"w-full bg-social hover:bg-social-hover text-white px-4 py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"Manage Social Media Projects"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"General"}),s.jsxs(q,{to:"/admin/projects/new",className:"w-full btn-primary flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Project"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs(q,{to:"/admin/projects/website",className:"btn-outline flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),"Website Projects"]}),s.jsxs(q,{to:"/admin/projects/social-media",className:"btn-outline flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),"Social Media Projects"]}),s.jsxs(q,{to:"/admin/projects",className:"btn-outline flex items-center justify-center gap-2",children:[s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v0M8 5a2 2 0 012-2h4a2 2 0 012 2v0"})]}),"All Projects"]}),s.jsxs(q,{to:"/admin/analytics/monthly",className:"btn-outline flex items-center justify-center gap-2 bg-primary/5 hover:bg-primary/10 border-primary/30",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Monthly Analytics"]}),s.jsxs(q,{to:"/admin/users",className:"btn-outline flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Manage Users"]}),s.jsxs(q,{to:"/admin/tickets",className:"btn-outline flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),"View Tickets"]})]})]}),s.jsxs("div",{className:"card mb-8 w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",N.length,")"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:L=>i(Number(L.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:L=>o(L.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary flex-1 min-w-[150px] sm:min-w-[200px]",placeholder:"Search projects..."})]})]})]}),s.jsx("div",{className:"overflow-x-auto w-full",children:s.jsxs("table",{className:"w-full border-collapse min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-primary to-accent text-primary-foreground",children:[s.jsx("th",{className:"px-3 py-3 text-left font-semibold border-r border-accent/30 w-12",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30 min-w-64",children:"Project Name"}),s.jsx("th",{className:"px-3 py-3 text-left font-semibold border-r border-accent/30 w-28",children:"Status"}),s.jsx("th",{className:"px-3 py-3 text-left font-semibold border-r border-accent/30 w-36",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-accent/30 min-w-40",children:"Client"}),s.jsx("th",{className:"px-3 py-3 text-left font-semibold border-r border-accent/30 w-20",title:"Total tickets in this project",children:"Tickets"}),s.jsx("th",{className:"px-3 py-3 text-left font-semibold border-r border-accent/30 w-20",children:"Analytics"}),s.jsx("th",{className:"px-3 py-3 text-left font-semibold w-24",children:"Actions"})]})}),s.jsx("tbody",{children:O.map((L,F)=>{const H=x.find(J=>J.id===L.clientId),Y=C(L.id);return s.jsxs("tr",{className:`${F%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-3 py-3 text-sm w-12",children:S+F+1}),s.jsx("td",{className:"px-4 py-3 min-w-64",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:L.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:L.description})]})}),s.jsx("td",{className:"px-3 py-3 w-28",children:s.jsx(Qt,{status:L.status})}),s.jsx("td",{className:"px-3 py-3 w-36",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-accent/10 text-accent border border-accent/20",children:wr(L.currentStage)})}),s.jsx("td",{className:"px-4 py-3 min-w-40",children:s.jsx("div",{className:"text-sm",children:H?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:H.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:H.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-3 py-3 w-20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",title:`${Y} total tickets in this project`,children:Y}),s.jsx(q,{to:`/admin/tickets?project=${L.id}`,className:"text-xs text-primary hover:underline cursor-pointer",title:"View all tickets for this project",children:"View"})]})}),s.jsx("td",{className:"px-3 py-3 w-20",children:L.projectType==="website"?s.jsxs(q,{to:`/admin/projects/${L.id}/analytics`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-accent text-accent-foreground rounded text-xs font-medium hover:bg-accent/80 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"N/A"})}),s.jsx("td",{className:"px-3 py-3 w-24",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{to:`/admin/projects/${L.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("button",{onClick:()=>I(L.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},L.id)})},`${n}-${l}`)]},`${n}-${l}`)}),k>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",S+1,"-",Math.min(T,N.length)," of ",N.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[s.jsx("button",{onClick:()=>c(L=>Math.max(1,L-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,k)},(L,F)=>{const H=Math.max(1,Math.min(k-4,l-2))+F;return H>k?null:s.jsx("button",{onClick:()=>c(H),className:`px-3 py-1 text-sm border rounded ${H===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:H},H)})}),s.jsx("button",{onClick:()=>c(L=>Math.min(k,L+1)),disabled:l===k,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Projects"}),s.jsx(q,{to:"/admin/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:_.map(L=>{const F=x.find(H=>H.id===L.clientId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:L.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F==null?void 0:F.fullName})]}),s.jsx(Qt,{status:L.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Stage: ",s.jsx("span",{className:"text-foreground",children:wr(L.currentStage)})]}),s.jsx("span",{className:"text-muted-foreground",children:Ln(L.updatedAt)})]})]},L.id)})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Tickets"}),s.jsx(q,{to:"/tickets",className:"text-primary hover:underline text-sm",children:"View All"})]}),s.jsx("div",{className:"space-y-4",children:w.map(L=>{const F=p.find(H=>H.id===L.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:L.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F==null?void 0:F.name})]}),s.jsx(qa,{priority:L.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Qt,{status:L.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ln(L.createdAt)})]})]},L.id)})})]})]})]})}),s.jsx(me,{})]})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QR=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>E.createElement("svg",{ref:c,...Iye,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:QR("lucide",i),...l},[...o.map(([u,d])=>E.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const r=E.forwardRef(({className:n,...i},a)=>E.createElement(Oye,{ref:a,iconNode:e,className:QR(`lucide-${Cye(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=bn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=bn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=bn("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=bn("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=bn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=bn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=bn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=bn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=bn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=bn("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=bn("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=bn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function Bye({role:t,className:e=""}){const r=t==="admin";return s.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border-2 shadow-sm ${r?"bg-gradient-to-r from-primary to-primary-dark text-white border-primary/80 shadow-primary/20":BW(t)} ${e}`,children:[r&&s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),FW(t),r&&s.jsx("svg",{className:"w-3 h-3 ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}function Uye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState([]);E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{i(Te())},[]);const a=c=>{r("/admin/users/"+c+"/edit")},o=c=>{p8(c),i(Te())},l=c=>{if(e){if(c===e.id){alert("You cannot delete your own account.");return}window.confirm("Are you sure you want to delete this user? This action cannot be undone.")&&(S8(c)?i(Te()):alert("Failed to delete user."))}};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Users"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all system users and their roles."})]}),s.jsx(q,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Users (",n.length,")"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"text-sm text-muted-foreground",children:["Show"," ",s.jsxs("select",{className:"border border-border rounded px-2 py-1 bg-background text-foreground",defaultValue:"50",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"25",children:"25"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})," ","entries"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",className:"border border-border rounded px-3 py-1 bg-background text-foreground",placeholder:"Search users..."})]}),s.jsx(q,{to:"/admin/users/new",className:"btn-primary hover:shadow-accent/20",children:"+ New User"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Role"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Phone"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Joined"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:n.map((c,u)=>s.jsxs("tr",{className:`${u%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:u+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{children:s.jsx("div",{className:"font-semibold text-foreground",children:c.fullName})})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Bye,{role:c.role})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${c.isActive?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:c.isActive?"Active":"Inactive"})}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:c.phone}),s.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Ln(c.createdAt)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-xs text-primary hover:underline",onClick:()=>a(c.id),title:"Edit",children:s.jsx(Rye,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>o(c.id),title:c.isActive?"Deactivate":"Activate",children:c.isActive?s.jsx(Fye,{className:"h-4 w-4"}):s.jsx(Vye,{className:"h-4 w-4"})}),c.role!=="admin"&&s.jsx("button",{className:"text-xs text-red-600 hover:underline",onClick:()=>l(c.id),title:"Delete",children:s.jsx(Ah,{className:"h-4 w-4"})})]})})]},c.id))})]})})]})]})}),s.jsx(me,{})]})}function zye(){const{isSignedIn:t,user:e,updateCurrentUser:r}=ce(),n=ue(),a=to().id,o=a?Sm(a):null,[l,c]=E.useState(!1),[u,d]=E.useState(!0),[h,f]=E.useState(""),[p,v]=E.useState(o||null),[g,j]=E.useState(()=>o?{fullName:o.fullName,email:o.email,phone:o.phone,role:o.role,isActive:o.isActive,changePassword:!1,newPassword:"",confirmPassword:""}:{fullName:"",email:"",phone:"",role:"client",isActive:!0,changePassword:!1,newPassword:"",confirmPassword:""});if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&n("/dashboard"):n("/login")},[t,e,n]),E.useEffect(()=>{o?d(!1):n("/admin/users")},[o,n]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(u||!p)return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(me,{})]});const x=async y=>{if(y.preventDefault(),f(""),!g.fullName||!g.email||!g.phone){f("Please fill in all required fields");return}if(g.changePassword){if(!g.newPassword||!g.confirmPassword){f("Please enter and confirm the new password");return}if(g.newPassword!==g.confirmPassword){f("Passwords do not match");return}if(g.newPassword.length<6){f("Password must be at least 6 characters long");return}}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)){f("Please enter a valid email address");return}c(!0);try{m8(a,{email:g.email,fullName:g.fullName,phone:g.phone,role:g.role,isActive:g.isActive,...g.changePassword&&{password:g.newPassword}}),e&&a===e.id&&r({fullName:g.fullName,email:g.email,phone:g.phone,role:g.role}),n("/admin/users")}catch{f("Failed to update user. Please try again."),c(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(q,{to:"/admin/users",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Edit User"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Update user information and role assignment"})]}),s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("form",{onSubmit:x,className:"card",children:[h&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-800",children:h}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"fullName",value:g.fullName,onChange:y=>j({...g,fullName:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",value:g.email,onChange:y=>j({...g,email:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"user@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",id:"phone",value:g.phone,onChange:y=>j({...g,phone:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"+27821234567",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:["User Role ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{id:"role",value:g.role,onChange:y=>j({...g,role:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",required:!0,disabled:p.id===e.id,children:[s.jsx("option",{value:"client",children:"Client - Can view projects and create tickets"}),s.jsx("option",{value:"web_developer",children:"Web Developer - Can manage projects and tickets"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator - Can manage social media and analytics"}),s.jsx("option",{value:"admin",children:"Admin - Full system access"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot change your own role"}),p.id!==e.id&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Select the appropriate role based on user responsibilities"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:g.isActive,onChange:y=>j({...g,isActive:y.target.checked}),className:"w-5 h-5 border border-border rounded",disabled:p.id===e.id}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Active User (can sign in to the system)"})]}),p.id===e.id&&s.jsx("p",{className:"mt-2 text-sm text-amber-600",children:"You cannot deactivate your own account"})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsxs("label",{className:"flex items-center gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",checked:g.changePassword,onChange:y=>j({...g,changePassword:y.target.checked}),className:"w-5 h-5 border border-border rounded"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Change Password"})]}),g.changePassword&&s.jsxs("div",{className:"space-y-4 ml-8",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-foreground mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"newPassword",value:g.newPassword,onChange:y=>j({...g,newPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Enter new password (min. 6 characters)",minLength:6})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",id:"confirmPassword",value:g.confirmPassword,onChange:y=>j({...g,confirmPassword:y.target.value}),className:"w-full border border-border rounded-lg px-4 py-2 bg-background text-foreground",placeholder:"Re-enter new password",minLength:6})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8 pt-6 border-t border-border",children:[s.jsx(q,{to:"/admin/users",className:"btn-outline",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Updating User...":"Update User"})]})]})})]})}),s.jsx(me,{})]})}function Wye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(10),[a,o]=E.useState(""),[l,c]=E.useState(1);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=ct(),d=Te(),h=Jt(),f=E.useMemo(()=>u.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.projectType.toLowerCase().includes(a.toLowerCase())),[u,a]),p=Math.ceil(f.length/n),v=(l-1)*n,g=v+n,j=f.slice(v,g);E.useEffect(()=>{c(1)},[a]);const x=b=>h.filter(_=>_.projectId===b).length,y=b=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const w=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(N=>N.id!==b);localStorage.setItem("marketing_management_website_projects",JSON.stringify(w)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Manage Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all projects in the system."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(q,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),s.jsx(q,{to:"/admin/projects/new",className:"btn-primary hover:shadow-accent/20",children:"+ New Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["All Projects (",f.length,")"]})}),s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),s.jsxs("select",{value:n,onChange:b=>i(Number(b.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary cursor-pointer",style:{cursor:"pointer",pointerEvents:"auto"},children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search projects..."})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50 min-w-80",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50 w-32",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50 w-40",children:"Current Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Tickets"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Analytics"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:j.map((b,_)=>{const w=d.find(k=>k.id===b.clientId),N=x(b.id);return s.jsxs("tr",{className:`${_%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:v+_+1}),s.jsx("td",{className:"px-4 py-3 min-w-80",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:b.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b.description})]})}),s.jsx("td",{className:"px-4 py-3 w-32",children:s.jsx(Qt,{status:b.status})}),s.jsx("td",{className:"px-4 py-3 w-40",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:wr(b.currentStage)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:w?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-foreground",children:w.fullName}),s.jsx("div",{className:"text-xs text-muted-foreground",children:w.email})]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-semibold text-sm",children:N}),s.jsx(q,{to:`/admin/tickets?project=${b.id}`,className:"text-xs text-primary hover:underline",children:"View"})]})}),s.jsx("td",{className:"px-4 py-3",children:b.projectType==="website"?s.jsxs(q,{to:`/admin/projects/${b.id}/analytics`,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded text-xs font-medium hover:bg-green-700 transition",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"N/A"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{to:`/admin/projects/${b.id}/edit`,className:"p-2 text-primary hover:bg-primary/10 rounded transition-colors","aria-label":"Edit project",children:s.jsx(_x,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(b.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors","aria-label":"Delete project",children:s.jsx(Ah,{className:"w-4 h-4"})})]})})]},b.id)})})]})}),p>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",v+1,"-",Math.min(g,f.length)," of ",f.length," projects"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(b=>Math.max(1,b-1)),disabled:l===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,p)},(b,_)=>{const w=Math.max(1,Math.min(p-4,l-2))+_;return w>p?null:s.jsx("button",{onClick:()=>c(w),className:`px-3 py-1 text-sm border rounded ${w===l?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:w},w)})}),s.jsx("button",{onClick:()=>c(b=>Math.min(p,b+1)),disabled:l===p,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(me,{})]})}function Hye(){var C;const{isSignedIn:t,user:e}=ce(),r=ue(),[n]=l8(),[i,a]=E.useState(10),[o,l]=E.useState(""),[c,u]=E.useState("all"),[d,h]=E.useState("all"),[f,p]=E.useState(1),[v,g]=E.useState(0);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{const I=()=>g(M=>M+1);return window.addEventListener("messagesUpdated",I),()=>window.removeEventListener("messagesUpdated",I)},[]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const j=Jt(),x=ct(),y=Te();E.useEffect(()=>{},[v]);const b=n.get("project");let _=j;b&&(_=j.filter(I=>I.projectId===b)),_=_.filter(I=>{const M=!o||I.title.toLowerCase().includes(o.toLowerCase())||I.description.toLowerCase().includes(o.toLowerCase())||I.id.toLowerCase().includes(o.toLowerCase()),B=c==="all"||I.status===c,U=d==="all"||I.priority===d;return M&&B&&U});const w=Math.ceil(_.length/i),N=(f-1)*i,k=N+i,S=_.slice(N,k);E.useEffect(()=>{p(1)},[o,c,d]);const T=(I,M)=>{Ss(I,{assignedTo:M||void 0}),g(B=>B+1)},O=(I,M)=>{Ss(I,{status:M}),g(B=>B+1)};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:b?`Tickets for ${((C=x.find(I=>I.id===b))==null?void 0:C.name)||"Project"}`:"All Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:b?"View all tickets for this project":"View and manage all tickets in the system"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(q,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),b&&s.jsx(q,{to:`/admin/projects/${b}`,className:"btn-outline hover:border-accent hover:text-accent",children:"View Project"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Tickets (",_.length,")"]})}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),s.jsxs("select",{value:c,onChange:I=>u(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Priority:"}),s.jsxs("select",{value:d,onChange:I=>h(I.target.value),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Show:"}),s.jsxs("select",{value:i,onChange:I=>a(Number(I.target.value)),className:"border border-border rounded px-2 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:o,onChange:I=>l(I.target.value),className:"border border-border rounded px-3 py-1 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search tickets..."})]})]}),(c!=="all"||d!=="all"||o)&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Active filters:"}),c!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Status: ",c.replace("_"," "),s.jsx("button",{onClick:()=>u("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),d!=="all"&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:["Priority: ",d,s.jsx("button",{onClick:()=>h("all"),className:"ml-1 hover:text-primary-dark",children:""})]}),o&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded bg-primary/10 text-primary text-xs",children:['Search: "',o,'"',s.jsx("button",{onClick:()=>l(""),className:"ml-1 hover:text-primary-dark",children:""})]}),s.jsx("button",{onClick:()=>{u("all"),h("all"),l("")},className:"text-primary hover:text-primary-dark text-xs underline",children:"Clear all"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Title"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Project"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Priority"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Assigned To"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Created"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),s.jsxs("tbody",{children:[S.map((I,M)=>{const B=x.find(U=>U.id===I.projectId);return s.jsxs("tr",{className:`${M%2===0?"bg-background":"bg-muted/30"} hover:bg-secondary/10 transition border-b border-border`,children:[s.jsx("td",{className:"px-4 py-3 text-sm",children:N+M+1}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:I.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm",children:B?s.jsx("div",{className:"font-medium text-foreground",children:B.name}):s.jsx("span",{className:"text-xs text-muted-foreground italic",children:"Unknown Project"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(qa,{priority:I.priority})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Qt,{status:I.status})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:I.type.replace("_"," ")})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:I.assignedTo||"",onChange:U=>T(I.id,U.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground min-w-[120px]",children:[s.jsx("option",{value:"",children:"Not assigned"}),y.filter(U=>U.role==="web_developer"||U.role==="social_media_coordinator").map(U=>s.jsx("option",{value:U.id,children:U.fullName},U.id))]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-sm text-muted-foreground",children:Ln(I.createdAt)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("select",{value:I.status,onChange:U=>O(I.id,U.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]})})]},I.id)}),!S.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})]})]})}),w>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",N+1,"-",Math.min(k,_.length)," of ",_.length," tickets"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(I=>Math.max(1,I-1)),disabled:f===1,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,w)},(I,M)=>{const B=Math.max(1,Math.min(w-4,f-2))+M;return B>w?null:s.jsx("button",{onClick:()=>p(B),className:`px-3 py-1 text-sm border rounded ${B===f?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted"}`,children:B},B)})}),s.jsx("button",{onClick:()=>p(I=>Math.min(w,I+1)),disabled:f===w,className:"px-3 py-1 text-sm border border-border rounded hover:bg-muted disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s.jsx(me,{})]})}function qye(){const{user:t,isSignedIn:e}=ce(),r=ue();return E.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/tickets");break;case"web_developer":r("/developer/tickets");break;case"social_media_coordinator":r("/coordinator/tickets");break;case"client":r("/client/tickets");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Gye(){const{user:t,isSignedIn:e}=ce(),r=ue();return E.useEffect(()=>{if(!e){r("/login");return}if(t)switch(t.role){case"admin":r("/admin/analytics");break;case"web_developer":r("/developer/analytics");break;case"social_media_coordinator":r("/coordinator/analytics");break;case"client":r("/client/analytics");break;default:r("/dashboard")}},[t,e,r]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Kye(){const{isSignedIn:t,user:e}=ce(),r=ue(),i=to().id,[a,o]=E.useState(null),[l,c]=E.useState([]),[u,d]=E.useState({name:"",description:"",websiteUrl:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",notes:"",projectDate:"",product:"",socialMediaPlatforms:[],posts:0,likes:0,impressions:0,reach:0,engagement:0}),[h,f]=E.useState(!0);E.useEffect(()=>{const y=so(i),b=Te();y&&(o(y),d({name:y.name,description:y.description,websiteUrl:y.websiteUrl||"",clientId:y.clientId,webDeveloperId:y.webDeveloperId||"",socialMediaCoordinatorId:y.socialMediaCoordinatorId||"",currentStage:y.currentStage,status:y.status,notes:y.notes||"",projectDate:y.projectDate?new Date(y.projectDate).toISOString().split("T")[0]:"",product:y.product||"",socialMediaPlatforms:y.socialMediaPlatforms||[],posts:y.posts||0,likes:y.likes||0,impressions:y.impressions||0,reach:y.reach||0,engagement:y.engagement||0})),c(b),f(!1)},[i]),E.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}},[t,e,i,r]);const p=y=>{y.preventDefault();try{const b=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]"),_=b.findIndex(N=>N.id===i);if(_===-1){alert("Project not found!");return}const w={...b[_],name:u.name,description:u.description,websiteUrl:u.websiteUrl||void 0,clientId:u.clientId,webDeveloperId:u.webDeveloperId||void 0,currentStage:u.currentStage,status:u.status,notes:u.notes||void 0,projectDate:u.projectDate?new Date(u.projectDate).toISOString():b[_].projectDate,product:u.product||void 0,updatedAt:new Date().toISOString(),...(a==null?void 0:a.projectType)==="social_media"&&{socialMediaCoordinatorId:u.socialMediaCoordinatorId||void 0,socialMediaPlatforms:u.socialMediaPlatforms,posts:Number(u.posts),likes:Number(u.likes),impressions:Number(u.impressions),reach:Number(u.reach),engagement:Number(u.engagement)},...(a==null?void 0:a.projectType)==="website"&&{socialMediaCoordinatorId:void 0,socialMediaPlatforms:void 0,posts:void 0,likes:void 0,impressions:void 0,reach:void 0,engagement:void 0}};b[_]=w,localStorage.setItem("marketing_management_website_projects",JSON.stringify(b)),o(w),alert("Project updated successfully!"),console.log("Project updated:",w)}catch(b){console.error("Error updating project:",b),alert("Failed to update project. Please try again.")}},v=y=>{const{name:b,value:_}=y.target;d(w=>({...w,[b]:_}))};if(h||!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const g=l.filter(y=>y.role==="client"),j=l.filter(y=>y.role==="web_developer"),x=l.filter(y=>y.role==="social_media_coordinator");return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project details and assignments"})]}),s.jsx("form",{onSubmit:p,className:"card",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Basic Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:u.name,onChange:v,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:u.description,onChange:v,required:!0,rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Date"}),s.jsx("input",{type:"date",name:"projectDate",value:u.projectDate,onChange:v,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"The date of the project (defaults to creation date if not set)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Product"}),s.jsxs("select",{name:"product",value:u.product,onChange:v,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a product"}),s.jsx("option",{value:"Learnerships",children:"Learnerships"}),s.jsx("option",{value:"Academy",children:"Academy"}),s.jsx("option",{value:"Employment Equity",children:"Employment Equity"}),s.jsx("option",{value:"Venueideas",children:"Venueideas"}),s.jsx("option",{value:"Trouidees",children:"Trouidees"}),s.jsx("option",{value:"TAP",children:"TAP"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the product type for this project"})]}),a.projectType==="website"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",name:"websiteUrl",value:u.websiteUrl,onChange:v,placeholder:"https://example.com",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team Assignment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Client ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"clientId",value:u.clientId,onChange:v,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a client"}),g.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{name:"webDeveloperId",value:u.webDeveloperId,onChange:v,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),j.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Developer will see this project in their dashboard and can work on tickets"})]}),a.projectType==="social_media"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Social Media Coordinator"}),s.jsxs("select",{name:"socialMediaCoordinatorId",value:u.socialMediaCoordinatorId,onChange:v,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Not assigned"}),x.map(y=>s.jsxs("option",{value:y.id,children:[y.fullName," (",y.email,")"]},y.id))]})]})]})]}),a.projectType==="social_media"&&s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Social Media Platforms"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"platform",className:"block text-sm font-medium text-foreground mb-3",children:"Select Platform"}),s.jsxs("select",{id:"platform",value:u.socialMediaPlatforms[0]||"",onChange:y=>{const b=y.target.value;d(_=>({..._,socialMediaPlatforms:b?[b]:[]}))},className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary mb-4",children:[s.jsx("option",{value:"",children:"Select a platform"}),[...new Set(["Facebook","Instagram","Twitter","LinkedIn","TikTok","YouTube","Pinterest","Snapchat"])].map(y=>s.jsx("option",{value:y,children:y},y))]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Social Media Metrics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Posts"}),s.jsx("input",{type:"number",name:"posts",value:u.posts,onChange:v,min:"0",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Likes"}),s.jsx("input",{type:"number",name:"likes",value:u.likes,onChange:v,min:"0",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impressions"}),s.jsx("input",{type:"number",name:"impressions",value:u.impressions,onChange:v,min:"0",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Reach"}),s.jsx("input",{type:"number",name:"reach",value:u.reach,onChange:v,min:"0",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Engagement"}),s.jsx("input",{type:"number",name:"engagement",value:u.engagement,onChange:v,min:"0",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Current Stage ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"currentStage",value:u.currentStage,onChange:v,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"seo_optimization",children:"SEO Optimisation"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Status ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"status",value:u.status,onChange:v,required:!0,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"paused",children:"Paused"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"pt-6 border-t border-border",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:u.notes,onChange:v,rows:4,placeholder:"Add any additional notes about this project...",className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground"})]}),s.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-[#1e2875] to-[#2a3488] text-white rounded-lg font-semibold hover:from-[#2a3488] hover:to-[#1e2875] transition",children:"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition",children:"Cancel"})]})]})})]})})}),s.jsx(me,{})]})}function Yye(){const{isSignedIn:t,user:e}=ce(),r=ue(),i=to().id,[a,o]=E.useState(null);if(E.useEffect(()=>{if(!t){r("/login");return}if((e==null?void 0:e.role)!=="admin"){r("/dashboard");return}const c=so(i);if(!c){r("/admin/dashboard");return}o(c)},[t,e,i,r]),!a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l={pageViews:88645,uniqueVisitors:37892,bounceRate:42.3,avgSessionDuration:"3:24",topPages:[{page:"index/",views:88645},{page:"/learnershipApplication",views:3214},{page:"/services SETA Qualication",views:2890},{page:"/Skills programme",views:405}],trafficSources:[{source:"Organic Search",sessions:5234,percentage:45.2},{source:"Direct",sessions:3121,percentage:27},{source:"Social Media",sessions:1890,percentage:16.3},{source:"Referral",sessions:1456,percentage:12.6}]};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics for ",a.name]}),s.jsx("p",{className:"text-muted-foreground",children:"Google Analytics data and insights"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(q,{to:`/admin/projects/${i}`,className:"btn-outline hover:border-accent hover:text-accent",children:"View Project"}),s.jsx(q,{to:`/admin/projects/${i}/edit`,className:"btn-primary hover:shadow-accent/20",children:"Edit Project"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.pageViews.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Page Views"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:l.uniqueVisitors.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[l.bounceRate,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Bounce Rate"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:l.avgSessionDuration}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg. Session Duration"})]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Top Pages"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-primary text-primary-foreground",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-primary/50",children:"Page"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold",children:"Page Views"})]})}),s.jsx("tbody",{children:l.topPages.map((c,u)=>s.jsxs("tr",{className:u%2===0?"bg-white":"bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:c.page}),s.jsx("td",{className:"px-4 py-3",children:c.views.toLocaleString()})]},u))})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Traffic Sources"}),s.jsx("div",{className:"space-y-4",children:l.trafficSources.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-foreground",children:c.source}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[c.sessions.toLocaleString()," sessions"]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-lg font-bold text-primary",children:[c.percentage,"%"]})})]},u))})]})]})}),s.jsx(me,{})]})}function Xye(){const{user:t}=ce(),[e,r]=E.useState(()=>localStorage.getItem("useMockAuth")!=="false"),n=()=>{const i=!e;r(i),localStorage.setItem("useMockAuth",i.toString()),alert(`Authentication mode changed to ${i?"Mock":"Firebase"}. Please refresh the page for changes to take effect.`)};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"System Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Important system information and connection guides"})]}),s.jsx(q,{to:"/admin/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Authentication System Connection Guide"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Current Authentication Status"}),s.jsxs("p",{className:"text-primary/80 mb-4",children:[s.jsx("strong",{children:"Status:"})," ",e?"Mock Authentication Active (localStorage-based)":"Firebase Authentication Active",s.jsx("br",{}),s.jsx("strong",{children:"Note:"})," ",e?"Currently using demo authentication for testing.":"Using production Firebase authentication."]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:n,className:"btn-primary hover:shadow-accent/20",children:["Switch to ",e?"Firebase":"Mock"," Auth"]}),s.jsx("span",{className:"text-sm text-primary",children:" Requires page refresh to take effect"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Mock Authentication (Current)"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Uses localStorage for authentication state and data persistence. Perfect for development and testing."}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"How to Use:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Use test credentials (admin@system.com, dev@system.com, etc.)"}),s.jsx("li",{children:"Data persists in browser localStorage"}),s.jsx("li",{children:"No Firebase setup required"}),s.jsx("li",{children:"Clear localStorage to reset all data"})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Advantages:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Works offline"}),s.jsx("li",{children:"Fast development setup"}),s.jsx("li",{children:"No external dependencies"}),s.jsx("li",{children:"Data persists across sessions"})]})]})]})]}),s.jsxs("div",{className:"border border-orange-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Firebase Authentication"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:"Production-ready authentication with Firebase Auth and Firestore database."}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Setup Steps:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[s.jsxs("li",{children:["Create a Firebase project at ",s.jsx("a",{href:"https://console.firebase.google.com",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"})]}),s.jsx("li",{children:"Enable Authentication and Firestore Database"}),s.jsxs("li",{children:["Copy your Firebase config to ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"src/lib/firebase.ts"})]}),s.jsxs("li",{children:["In ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"context/auth-context.tsx"}),", change ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"USE_MOCK_AUTH = false"})]}),s.jsx("li",{children:"Create user accounts in Firebase Auth for testing"}),s.jsx("li",{children:"Set up Firestore security rules for data access"})]})]}),s.jsxs("div",{className:"bg-secondary/10 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary mb-2",children:" Switching to Firebase:"}),s.jsxs("div",{className:"bg-gray-100 p-3 rounded text-sm font-mono mb-2",children:["// In context/auth-context.tsx",s.jsx("br",{}),"const USE_MOCK_AUTH = false"]}),s.jsx("p",{className:"text-sm text-primary/80",children:"After changing this setting, restart the development server and use Firebase accounts."})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Production Benefits:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-green-700",children:[s.jsx("li",{children:"Secure user authentication"}),s.jsx("li",{children:"Real-time data synchronization"}),s.jsx("li",{children:"Scalable database solution"}),s.jsx("li",{children:"User management dashboard"})]})]})]})]}),s.jsxs("div",{className:"border border-purple-200 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:" Connection Status"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("h4",{className:"font-semibold text-green-800",children:"Mock Auth"}),s.jsx("p",{className:"text-sm text-green-700",children:e?" Connected (Active)":" Not Connected (Inactive)"})]}),s.jsxs("div",{className:`p-4 border rounded-lg ${e?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"}`,children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Firebase"}),s.jsx("p",{className:"text-sm text-gray-700",children:e?" Not Connected (Inactive)":" Connected (Active)"})]})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:" Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(q,{to:"/admin/dashboard",className:"btn-primary",children:"Admin Dashboard"}),s.jsx(q,{to:"/login",className:"btn-outline",children:"Test Login"}),s.jsx("button",{onClick:()=>{confirm("Clear all localStorage data? This will reset mock authentication.")&&(localStorage.clear(),window.location.reload())},className:"btn-outline border-red-200 text-red-600 hover:bg-red-50",children:"Reset Mock Data"})]})]})]})}),s.jsx(me,{})]})}function Qye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState({fullName:"",email:"",phone:"",role:"client",password:"",isActive:!0}),[a,o]=E.useState(!1);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=async c=>{c.preventDefault(),o(!0);try{const u={id:`user-${Date.now()}`,...n,createdAt:new Date,updatedAt:new Date};x8(u),alert(`User "${n.fullName}" created successfully!`),r("/admin/users")}catch(u){console.error("Error creating user:",u),alert("Failed to create user. Please try again.")}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New User"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new user to the system"}),s.jsxs(q,{to:"/admin/users",className:"btn-outline inline-flex items-center gap-2 hover:border-accent hover:text-accent",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Users"]})]}),s.jsxs("form",{onSubmit:l,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"User Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-foreground mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"fullName",required:!0,value:n.fullName,onChange:c=>i({...n,fullName:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",required:!0,value:n.email,onChange:c=>i({...n,email:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-foreground mb-2",children:"Phone Number *"}),s.jsx("input",{type:"tel",id:"phone",required:!0,value:n.phone,onChange:c=>i({...n,phone:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-foreground mb-2",children:"Role *"}),s.jsxs("select",{id:"role",required:!0,value:n.role,onChange:c=>i({...n,role:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"client",children:"Client"}),s.jsx("option",{value:"web_developer",children:"Web Developer"}),s.jsx("option",{value:"social_media_coordinator",children:"Social Media Coordinator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password *"}),s.jsx("input",{type:"password",id:"password",required:!0,value:n.password,onChange:c=>i({...n,password:c.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password",minLength:6})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:c=>i({...n,isActive:c.target.checked}),className:"w-4 h-4 text-primary focus:ring-primary rounded"}),s.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-foreground",children:"Active User"})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:a?"Creating...":"Create User"}),s.jsx("button",{type:"button",onClick:()=>r("/admin/users"),className:"btn-outline flex-1 hover:border-accent hover:text-accent",disabled:a,children:"Cancel"})]})]})]})}),s.jsx(me,{})]})}function Jye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(0),[a,o]=E.useState(null);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{const v=()=>i(g=>g+1);return window.addEventListener("ticketsUpdated",v),()=>window.removeEventListener("ticketsUpdated",v)},[]),E.useEffect(()=>{},[n]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const l=xn(e.id,e.role),c=tc(e.id,e.role),u={assignedProjects:l.length,openTickets:c.filter(v=>v.status==="open").length,inProgressTickets:c.filter(v=>v.status==="in_progress").length,resolvedTickets:c.filter(v=>v.status==="resolved").length},d=l.slice(0,3),h=c.slice(0,5),f=async(v,g)=>{o(v);try{Ss(v,{status:g}),i(j=>j+1)}catch(j){console.error("Failed to update ticket status:",j)}finally{o(null)}},p=async v=>{o(v);try{Ss(v,{status:"resolved"}),lb(v,e.id),i(g=>g+1)}catch(g){console.error("Failed to notify admins of resolution:",g)}finally{o(null)}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Developer Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(ir,{title:"Assigned Projects",value:u.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(ir,{title:"Open Tickets",value:u.openTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(ir,{title:"In Progress",value:u.inProgressTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(ir,{title:"Resolved",value:u.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(q,{to:"/developer/tickets",className:"btn-primary hover:shadow-accent/20",children:"View Tickets"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"})}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(v=>{const g=pg(v.id).filter(j=>j.assignedTo===e.id);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:v.description})]}),s.jsx(Qt,{status:v.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-secondary/10 text-primary text-xs font-medium",children:wr(v.currentStage)}),s.jsxs("span",{className:"text-muted-foreground text-xs",children:["Updated ",Ln(v.updatedAt)]})]}),g.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"My Tickets:"}),s.jsxs("div",{className:"space-y-2",children:[g.slice(0,2).map(j=>s.jsxs("div",{className:"flex items-center justify-between bg-muted/30 p-2 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:j.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Qt,{status:j.status}),s.jsx(qa,{priority:j.priority})]})]}),s.jsxs("div",{className:"flex gap-2 ml-2",children:[j.status==="open"&&s.jsx("button",{onClick:()=>f(j.id,"in_progress"),disabled:a===j.id,className:"px-2 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:a===j.id?"...":"Start"}),j.status==="in_progress"&&s.jsx("button",{onClick:()=>p(j.id),disabled:a===j.id,className:"px-2 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:a===j.id?"...":"Update"}),j.status==="resolved"&&s.jsx("button",{onClick:()=>f(j.id,"resolved"),disabled:a===j.id,className:"px-2 py-1 text-xs bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50",children:a===j.id?"...":"Update"})]})]},j.id)),g.length>2&&s.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",g.length-2," more tickets"]})]})]})]},v.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"})}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(v=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:HW(v.type)})]}),s.jsx(qa,{priority:v.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Qt,{status:v.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ln(v.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[v.status!=="closed"&&s.jsxs(s.Fragment,{children:[v.status==="open"&&s.jsx("button",{onClick:()=>f(v.id,"in_progress"),disabled:a===v.id,className:"px-3 py-1 text-xs bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:a===v.id?"Updating...":"Start Working"}),v.status==="in_progress"&&s.jsx("button",{onClick:()=>p(v.id),disabled:a===v.id,className:"px-3 py-1 text-xs bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50",children:a===v.id?"Notifying...":"Update - I have resolved this ticket"}),v.status==="resolved"&&s.jsx("button",{onClick:()=>f(v.id,"resolved"),disabled:a===v.id,className:"px-3 py-1 text-xs bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50",children:a===v.id?"Updating...":"Update"})]}),s.jsx(q,{to:"/developer/tickets",className:"px-3 py-1 text-xs bg-gray-500 text-white rounded hover:bg-gray-600",children:"View Details"})]})]},v.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No tickets assigned yet."})})]})]})]})}),s.jsx(me,{})]})}function Zye(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState("all"),[a,o]=E.useState(""),[l,c]=E.useState([]),[u,d]=E.useState(0),[h,f]=E.useState(new Set);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="web_developer"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="web_developer")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const p=()=>{if(e){const b=tc(e.id,e.role);c(b)}};E.useEffect(()=>{p()},[e,u]);const v=l,g=v.filter(b=>n==="all"||b.status===n).filter(b=>!a||b.title.toLowerCase().includes(a.toLowerCase())||b.description.toLowerCase().includes(a.toLowerCase())||b.id.toLowerCase().includes(a.toLowerCase())),j=(b,_)=>{_==="resolved"?(Ss(b,{status:"resolved"}),lb(b,e.id)):Ss(b,{status:_}),d(w=>w+1)},x={totalAssigned:v.length,critical:v.filter(b=>b.priority==="critical"&&b.status!=="resolved"&&b.status!=="closed").length,overSevenDays:v.filter(b=>Math.floor((new Date().getTime()-new Date(b.createdAt).getTime())/864e5)>7&&b.status!=="resolved"&&b.status!=="closed").length},y=b=>Math.floor((new Date().getTime()-new Date(b).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:x.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:x.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:x.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex gap-4 flex-wrap items-center justify-between",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"}),s.jsx("button",{onClick:()=>i("closed"),className:`px-4 py-2 rounded-md font-medium transition ${n==="closed"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Closed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:b=>o(b.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.length>0?g.map(b=>{const _=so(b.projectId),w=y(b.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(q,{to:`/projects/${b.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(_==null?void 0:_.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[b.status==="closed"?s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Closed"}):s.jsxs("select",{value:b.status,onChange:N=>j(b.id,N.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"})]}),b.status==="resolved"&&s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx("textarea",{placeholder:b.resolutionNotes||"Add resolution notes...",defaultValue:b.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:N=>{const k=N.target.value.trim();k&&k!==b.resolutionNotes&&(Ss(b.id,{resolutionNotes:k}),d(S=>S+1))}}),s.jsx("button",{onClick:()=>{console.log("Send button clicked for ticket",b.id),lb(b.id,e.id),f(N=>new Set([...N,b.id]))},className:"text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 whitespace-nowrap cursor-pointer",title:"Send resolution notification to admin",disabled:h.has(b.id),children:h.has(b.id)?"Sent!":"Send"})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[b.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),b.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),b.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),b.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:w})})]},b.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(me,{})]})}function ebe(){const{isSignedIn:t,user:e}=ce(),r=ue();if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=xn(e.id,e.role),i=no(),a=n.map(p=>p.id),o=i.filter(p=>a.includes(p.projectId)),l=o.reduce((p,v)=>p+v.reach,0),c=o.reduce((p,v)=>p+v.engagement,0),u=o.reduce((p,v)=>p+v.posts,0),d={assignedProjects:n.length,totalReach:l,totalEngagement:c,totalPosts:u},h=n.slice(0,3),f=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Coordinator Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your analytics overview."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(ir,{title:"Assigned Projects",value:d.assignedProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(ir,{title:"Total Reach",value:gu(d.totalReach),icon:s.jsxs("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),s.jsx(ir,{title:"Total Engagement",value:gu(d.totalEngagement),icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx(ir,{title:"Total Posts",value:d.totalPosts,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-4 flex-wrap",children:s.jsx(q,{to:"/coordinator/analytics/new",className:"btn-outline hover:border-accent hover:text-accent",children:"+ Add Analytics Entry"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(q,{to:"/coordinator/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(p=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:p.name}),p.projectType==="social_media"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:"Social Media"}),p.projectType==="website"&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:"Website"})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:p.description})]}),s.jsx(Qt,{status:p.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm mt-3 flex-wrap",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-pink-50 text-pink-700 text-xs font-medium",children:wr(p.currentStage)}),p.projectType==="social_media"&&p.socialMediaPlatforms&&s.jsxs("div",{className:"flex gap-1",children:[p.socialMediaPlatforms.slice(0,3).map(v=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700 capitalize",children:v},v)),p.socialMediaPlatforms.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:["+",p.socialMediaPlatforms.length-3]})]})]})]},p.id))}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects assigned yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Recent Analytics Entries"}),s.jsx(q,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm",children:"+ Add Entry"})]}),f.length>0?s.jsx("div",{className:"space-y-4",children:f.map(p=>{const v=n.find(g=>g.id===p.projectId);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground capitalize",children:p.platform}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v==null?void 0:v.name})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:oM(p.date)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-semibold text-foreground",children:gu(p.reach)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-semibold text-foreground",children:gu(p.engagement)})]}),s.jsxs("div",{className:"text-center p-2 bg-muted rounded",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-semibold text-foreground",children:p.posts})]})]})]},p.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No analytics entries yet."}),s.jsx(q,{to:"/coordinator/analytics/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Add your first entry"})]})]})]})]})}),s.jsx(me,{})]})}function tbe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState({}),[l,c]=E.useState([]),[u,d]=E.useState([]);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{if(e){const p=xn(e.id,e.role);i(p);const v=no(),g={};p.forEach(j=>{const x=v.filter(y=>y.projectId===j.id);g[j.id]=x}),o(g),c(ct()),d(Te())}},[e]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=E.useMemo(()=>{const p={};return l.filter(g=>g.projectType==="social_media"&&g.socialMediaCoordinatorId===(e==null?void 0:e.id)).forEach(g=>{const x=new Date(g.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long"});p[x]||(p[x]=[]),p[x].push(g)}),p},[l,e]),f=p=>{const v=a[p]||[],g=v.reduce((y,b)=>y+b.reach,0),j=v.reduce((y,b)=>y+b.engagement,0),x=v.reduce((y,b)=>y+b.posts,0);return{totalReach:g,totalEngagement:j,totalPosts:x,entryCount:v.length}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Social Media Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your assigned social media campaign projects by month"})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-8 border border-purple-200",children:s.jsx("div",{className:"card border-purple-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-purple-200",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-purple-100",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Month"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Platforms"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-purple-900",children:"Goals"})]})}),s.jsxs("tbody",{children:[Object.entries(h).map(([p,v])=>v.length>0?v.map((g,j)=>{const x=u.find(b=>b.id===g.clientId),y=f(g.id);return s.jsxs("tr",{className:j%2===0?"bg-white":"bg-purple-50/50",children:[j===0&&s.jsxs("td",{className:"px-4 py-3 font-semibold text-purple-700 border-r border-purple-200",rowSpan:v.length,children:[p,s.jsxs("div",{className:"text-xs text-purple-600 mt-1 font-medium",children:["(",v.length," project",v.length!==1?"s":"",")"]})]}),s.jsxs("td",{className:"px-4 py-3 border-r border-purple-200",children:[s.jsx("div",{className:"font-medium text-purple-900",children:g.name}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:["Analytics: ",y.entryCount," entries",y.totalReach>0&&`  Reach: ${y.totalReach.toLocaleString()}`]})]}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx("div",{className:"text-sm text-purple-800",children:(x==null?void 0:x.fullName)||"Unknown Client"})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx(Qt,{status:g.status})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx("span",{className:"text-sm text-purple-700 font-medium",children:wr(g.currentStage)})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:g.socialMediaPlatforms?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.socialMediaPlatforms.slice(0,2).map(b=>s.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded capitalize",children:b},b)),g.socialMediaPlatforms.length>2&&s.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded",children:["+",g.socialMediaPlatforms.length-2]})]}):s.jsx("span",{className:"text-xs text-purple-500 italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3",children:g.campaignGoals?s.jsx("div",{className:"text-sm text-purple-700 max-w-xs truncate font-medium",title:g.campaignGoals,children:g.campaignGoals}):s.jsx("span",{className:"text-xs text-purple-500 italic",children:"Not set"})})]},g.id)}):null),Object.keys(h).length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-purple-500 italic border-r border-purple-200",children:"No social media projects assigned to you yet"})})]})]})})})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your assigned social media projects"})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-8 border border-purple-200",children:s.jsx("div",{className:"card border-purple-200",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-purple-200",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-purple-100",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Month"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-purple-200 text-purple-900",children:"Platforms"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-purple-900",children:"Goals"})]})}),s.jsxs("tbody",{children:[Object.entries(h).map(([p,v])=>v.length>0?v.map((g,j)=>{const x=u.find(b=>b.id===g.clientId),y=f(g.id);return s.jsxs("tr",{className:j%2===0?"bg-white":"bg-purple-50/50",children:[j===0&&s.jsxs("td",{className:"px-4 py-3 font-semibold text-purple-700 border-r border-purple-200",rowSpan:v.length,children:[p,s.jsxs("div",{className:"text-xs text-purple-600 mt-1 font-medium",children:["(",v.length," project",v.length!==1?"s":"",")"]})]}),s.jsxs("td",{className:"px-4 py-3 border-r border-purple-200",children:[s.jsx("div",{className:"font-medium text-purple-900",children:g.name}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:["Analytics: ",y.entryCount," entries",y.totalReach>0&&`  Reach: ${y.totalReach.toLocaleString()}`]})]}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx("div",{className:"text-sm text-purple-800",children:(x==null?void 0:x.fullName)||"Unknown Client"})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx(Qt,{status:g.status})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:s.jsx("span",{className:"text-sm text-purple-700 font-medium",children:wr(g.currentStage)})}),s.jsx("td",{className:"px-4 py-3 border-r border-purple-200",children:g.socialMediaPlatforms?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.socialMediaPlatforms.slice(0,2).map(b=>s.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded capitalize",children:b},b)),g.socialMediaPlatforms.length>2&&s.jsxs("span",{className:"inline-block px-2 py-0.5 text-xs bg-purple-100 text-purple-700 rounded",children:["+",g.socialMediaPlatforms.length-2]})]}):s.jsx("span",{className:"text-xs text-purple-500 italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3",children:g.campaignGoals?s.jsx("div",{className:"text-sm text-purple-700 max-w-xs truncate font-medium",title:g.campaignGoals,children:g.campaignGoals}):s.jsx("span",{className:"text-xs text-purple-500 italic",children:"Not set"})})]},g.id)}):null),Object.keys(h).length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-purple-500 italic border-r border-purple-200",children:"No social media projects assigned to you yet"})})]})]})})})})]})}),s.jsx(me,{})]})}function rbe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState("all"),[a,o]=E.useState(""),[l,c]=E.useState([]),[u,d]=E.useState(0);E.useEffect(()=>{t?(e==null?void 0:e.role)!=="social_media_coordinator"&&r("/dashboard"):r("/login")},[t,e,r]);const h=()=>{if(e){const x=tc(e.id,e.role);c(x)}};if(E.useEffect(()=>{h()},[e,u]),!e||e.role!=="social_media_coordinator")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const f=l,p=f.filter(x=>n==="all"||x.status===n).filter(x=>!a||x.title.toLowerCase().includes(a.toLowerCase())||x.description.toLowerCase().includes(a.toLowerCase())||x.id.toLowerCase().includes(a.toLowerCase())),v=(x,y)=>{Ss(x,{status:y}),d(b=>b+1)},g={totalAssigned:f.length,critical:f.filter(x=>x.priority==="critical"&&x.status!=="resolved"&&x.status!=="closed").length,overSevenDays:f.filter(x=>Math.floor((new Date().getTime()-new Date(x.createdAt).getTime())/864e5)>7&&x.status!=="resolved"&&x.status!=="closed").length},j=x=>Math.floor((new Date().getTime()-new Date(x).getTime())/(1e3*60*60*24));return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and track your assigned tickets from Social Media Coordinator"}),s.jsx("div",{className:"mt-4",children:s.jsx(q,{to:"/coordinator/dashboard",className:"btn-outline",children:" Back to Dashboard"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg border-2 border-amber-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"TOTAL ASSIGNED"}),s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:g.totalAssigned})]}),s.jsxs("div",{className:"bg-red-50 rounded-lg border-2 border-red-400 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-red-800 mb-2",children:"CRITICAL"}),s.jsx("div",{className:"text-4xl font-bold text-red-600",children:g.critical})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"> 7 DAYS"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:g.overSevenDays})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"flex gap-3 flex-wrap",children:[s.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md font-medium transition ${n==="all"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"All Tickets"}),s.jsx("button",{onClick:()=>i("open"),className:`px-4 py-2 rounded-md font-medium transition ${n==="open"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Open"}),s.jsx("button",{onClick:()=>i("in_progress"),className:`px-4 py-2 rounded-md font-medium transition ${n==="in_progress"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"In Progress"}),s.jsx("button",{onClick:()=>i("resolved"),className:`px-4 py-2 rounded-md font-medium transition ${n==="resolved"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:"Resolved"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-foreground whitespace-nowrap",children:"Search:"}),s.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary flex-1",placeholder:"Search your tickets..."})]})]})}),s.jsx("div",{className:"card overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-navy-900",children:s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"PROJECT"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"TITLE"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"STATUS"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"SEVERITY"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-primary-foreground uppercase tracking-wider bg-primary",children:"DAYS OPEN"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(x=>{const y=so(x.projectId),b=j(x.createdAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx(q,{to:`/projects/${x.projectId}`,className:"text-primary hover:text-primary-dark hover:underline",children:(y==null?void 0:y.name)||"Unknown Project"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.title})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("select",{value:x.status,onChange:_=>v(x.id,_.target.value),className:"text-sm border border-border rounded px-2 py-1 bg-background text-foreground",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"})]}),x.status==="resolved"&&s.jsx("textarea",{placeholder:x.resolutionNotes||"Add resolution notes...",defaultValue:x.resolutionNotes||"",className:"text-xs border border-border rounded px-2 py-1 bg-background text-foreground w-32 h-16 resize-none",onBlur:_=>{const w=_.target.value.trim();w&&w!==x.resolutionNotes&&(Ss(x.id,{resolutionNotes:w}),d(N=>N+1))}})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[x.priority==="critical"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-red-500 text-white uppercase",children:"CRITICAL"}),x.priority==="high"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-orange-400 text-white uppercase",children:"HIGH"}),x.priority==="medium"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-amber-400 text-gray-900 uppercase",children:"MEDIUM"}),x.priority==="low"&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-bold bg-green-400 text-gray-900 uppercase",children:"LOW"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900 font-medium",children:b})})]},x.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No tickets found matching the selected filter."})})})]})})})]})}),s.jsx(me,{})]})}function nbe(){const{user:t}=ce(),e=ue(),[r,n]=E.useState({projectId:"",platform:"instagram",date:new Date().toISOString().split("T")[0],reach:"",engagement:"",posts:"",notes:""}),[i,a]=E.useState(!1);if(!t||t.role!=="social_media_coordinator")return null;const l=xn(t.id,t.role).filter(d=>d.projectType==="social_media"),c=async d=>{if(d.preventDefault(),!r.projectId||!r.reach||!r.engagement||!r.posts){alert("Please fill in all required fields");return}a(!0);try{const h={id:`analytics-${Date.now()}`,projectId:r.projectId,platform:r.platform,date:new Date(r.date),reach:parseInt(r.reach),engagement:parseInt(r.engagement),posts:parseInt(r.posts),recordedBy:t.id,notes:r.notes||void 0,createdAt:new Date};v8(h),e("/coordinator/dashboard")}catch(h){console.error("Error adding analytics entry:",h),alert("Failed to add analytics entry")}finally{a(!1)}},u=d=>{const{name:h,value:f}=d.target;n(p=>({...p,[h]:f}))};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>e("/coordinator/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Add New Analytics Entry"}),s.jsx("p",{className:"text-muted-foreground",children:"Record your social media performance metrics"})]}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:c,className:"space-y-6",role:"form","aria-labelledby":"form-title",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project *"}),s.jsxs("select",{name:"projectId",value:r.projectId,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a project"}),l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Platform *"}),s.jsxs("select",{name:"platform",value:r.platform,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[s.jsx("option",{value:"instagram",children:"Instagram"}),s.jsx("option",{value:"facebook",children:"Facebook"}),s.jsx("option",{value:"twitter",children:"Twitter"}),s.jsx("option",{value:"linkedin",children:"LinkedIn"}),s.jsx("option",{value:"tiktok",children:"TikTok"}),s.jsx("option",{value:"youtube",children:"YouTube"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Date *"}),s.jsx("input",{type:"date",name:"date",value:r.date,onChange:u,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Reach *"}),s.jsx("input",{type:"number",name:"reach",value:r.reach,onChange:u,placeholder:"e.g., 15000",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Engagement *"}),s.jsx("input",{type:"number",name:"engagement",value:r.engagement,onChange:u,placeholder:"e.g., 850",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Posts *"}),s.jsx("input",{type:"number",name:"posts",value:r.posts,onChange:u,placeholder:"e.g., 5",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,min:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:r.notes,onChange:u,placeholder:"Additional notes or observations...",rows:4,className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-border",children:[s.jsx("button",{type:"button",onClick:()=>e("/coordinator/dashboard"),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:i,className:"btn-primary px-6 py-2 disabled:opacity-50",children:i?"Adding...":"Add Entry"})]})]})})]})})}),s.jsx(me,{})]})}function Kp({fullName:t,profileImage:e,size:r="md",className:n=""}){const i={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg"};return s.jsx("div",{className:`${i[r]} rounded-full bg-primary text-white flex items-center justify-center font-semibold ${n}`,title:t,children:e?s.jsx("img",{src:e,alt:t,className:"w-full h-full rounded-full object-cover"}):qW(t)})}function sbe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(0);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{const h=()=>i(p=>p+1),f=()=>i(p=>p+1);return window.addEventListener("ticketsUpdated",h),window.addEventListener("messagesUpdated",f),()=>{window.removeEventListener("ticketsUpdated",h),window.removeEventListener("messagesUpdated",f)}},[]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});E.useEffect(()=>{},[n]);const a=xn(e.id,e.role),o=tc(e.id,e.role),l=Te(),c={myProjects:a.length,activeTickets:o.filter(h=>h.status==="open"||h.status==="in_progress").length,resolvedTickets:o.filter(h=>h.status==="resolved").length,closedTickets:o.filter(h=>h.status==="closed").length,inProgressProjects:a.filter(h=>h.status==="active").length},u=a.slice(0,3),d=o.slice(0,5);return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Client Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",e.fullName,"! Here's your project status."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx(ir,{title:"My Projects",value:c.myProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),s.jsx(ir,{title:"In Progress",value:c.inProgressProjects,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(ir,{title:"Active Tickets",value:c.activeTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),s.jsx(ir,{title:"Resolved",value:c.resolvedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx(ir,{title:"Closed",value:c.closedTickets,icon:s.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(q,{to:"/client/tickets/new",className:"btn-primary hover:shadow-accent/20",children:"+ Create New Ticket"}),s.jsx(q,{to:"/client/projects",className:"btn-outline hover:border-accent hover:text-accent",children:"View All Projects"}),s.jsx(q,{to:"/client/tickets",className:"btn-outline hover:border-accent hover:text-accent",children:"View All Tickets"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Projects"}),s.jsx(q,{to:"/client/projects",className:"text-primary hover:underline text-sm",children:"View All"})]}),u.length>0?s.jsx("div",{className:"space-y-4",children:u.map(h=>{const f=l.find(x=>x.id===h.webDeveloperId),p=l.find(x=>x.id===h.socialMediaCoordinatorId),v=cM(h.currentStage),g=pg(h.id).filter(x=>x.createdBy===e.id),j={open:g.filter(x=>x.status==="open").length,inProgress:g.filter(x=>x.status==="in_progress").length,resolved:g.filter(x=>x.status==="resolved").length,closed:g.filter(x=>x.status==="closed").length};return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.name}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:h.description})]}),s.jsx(Qt,{status:h.status})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[v.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${v}%`}})})]}),g.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Ticket Status:"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[j.open>0&&s.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-center",children:[j.open," Open"]}),j.inProgress>0&&s.jsxs("div",{className:"bg-yellow-50 text-yellow-700 px-2 py-1 rounded text-center",children:[j.inProgress," In Progress"]}),j.resolved>0&&s.jsxs("div",{className:"bg-green-50 text-green-700 px-2 py-1 rounded text-center",children:[j.resolved," Resolved"]}),j.closed>0&&s.jsxs("div",{className:"bg-gray-50 text-gray-700 px-2 py-1 rounded text-center",children:[j.closed," Closed"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-50 text-green-700 text-xs font-medium",children:wr(h.currentStage)}),s.jsxs("div",{className:"flex items-center gap-1",children:[f&&s.jsx(Kp,{fullName:f.fullName,size:"sm"}),p&&s.jsx(Kp,{fullName:p.fullName,size:"sm"})]})]})]},h.id)})}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No projects yet."})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"My Tickets"}),s.jsx(q,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm",children:"+ Create Ticket"})]}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(h=>{const f=l.find(p=>p.id===h.assignedTo);return s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:h.title}),f&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned to ",f.fullName]})]}),s.jsx(qa,{priority:h.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mt-3",children:[s.jsx(Qt,{status:h.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ln(h.createdAt)})]})]},h.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx("p",{children:"No tickets yet."}),s.jsx(q,{to:"/client/tickets/new",className:"text-primary hover:underline text-sm mt-2 inline-block",children:"Create your first ticket"})]})]})]})]})}),s.jsx(me,{})]})}function ibe(){const{isSignedIn:t,user:e}=ce(),r=ue();if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=xn(e.id,e.role),i=Te();return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"View all your projects and their progress"})]}),s.jsx(q,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.length>0?n.map(a=>{const o=i.find(u=>u.id===a.webDeveloperId),l=i.find(u=>u.id===a.socialMediaCoordinatorId),c=cM(a.currentStage);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:a.name}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:a.description})]}),s.jsx(Qt,{status:a.status})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[c.toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${c}%`}})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary/10 text-primary",children:wr(a.currentStage)})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"Team"}),s.jsxs("div",{className:"flex items-center gap-2",children:[o&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kp,{fullName:o.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Developer"})]}),l&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kp,{fullName:l.fullName,size:"sm"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Coordinator"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(q,{to:`/client/tickets/new?project=${a.id}`,className:"btn-primary flex-1 text-center",children:"Create Ticket"}),s.jsx(q,{to:`/client-portal/project/${a.id}`,className:"btn-outline flex-1 text-center",children:"View Details"})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated ",Ln(a.updatedAt)]})})]},a.id)}):s.jsx("div",{className:"col-span-full text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No projects yet"}),s.jsx("p",{className:"text-sm",children:"Contact your administrator to get started with a new project."})]})})})]})}),s.jsx(me,{})]})}function abe(){const{isSignedIn:t,user:e}=ce(),r=ue();if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const n=tc(e.id,e.role),i=ct(),a=Te();return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"My Tickets"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage all your project tickets"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(q,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"}),s.jsx(q,{to:"/client/tickets/new",className:"btn-primary hover:shadow-accent/20",children:"+ Create New Ticket"})]})]})}),s.jsx("div",{className:"space-y-4",children:n.length>0?n.map(o=>{const l=i.find(u=>u.id===o.projectId),c=a.find(u=>u.id===o.assignedTo);return s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-2",children:o.title}),s.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-3",children:o.description}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",s.jsx("span",{className:"font-medium",children:l.name})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Qt,{status:o.status}),s.jsx(qa,{priority:o.priority})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["Type: ",o.type.replace("_"," ")]}),c&&s.jsxs("span",{children:["Assigned to: ",c.fullName]}),s.jsx("span",{children:Ln(o.createdAt)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"btn-outline text-sm",children:"View Details"}),s.jsx("button",{className:"btn-primary text-sm",children:"Update"})]})]})]},o.id)}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx("p",{className:"text-lg mb-4",children:"No tickets yet"}),s.jsx("p",{className:"text-sm mb-6",children:"Create your first ticket to get started with your projects."}),s.jsx(q,{to:"/client/tickets/new",className:"btn-primary",children:"Create New Ticket"})]})})})]})}),s.jsx(me,{})]})}function obe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState("medium"),[u,d]=E.useState("feature_request"),[h,f]=E.useState(""),[p,v]=E.useState(!1);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="client"&&r("/dashboard"):r("/login");const y=new URLSearchParams(window.location.search).get("project");y&&f(y)},[t,e,r]),!e||e.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const g=xn(e.id,e.role);Te();const j=async x=>{x.preventDefault(),v(!0);const y={id:`ticket-${Date.now()}`,projectId:h,createdBy:e.id,title:n,description:a,type:u,priority:l,status:"open",createdAt:new Date,updatedAt:new Date};g8(y),i(""),o(""),c("medium"),d("feature_request"),f(""),v(!1),r("/client/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-2xl",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Ticket"}),s.jsx("p",{className:"text-muted-foreground",children:"Submit a request for your project team"})]}),s.jsx(q,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:" Back to Dashboard"})]})}),s.jsx("div",{className:"card",children:s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Select Project *"}),s.jsxs("select",{value:h,onChange:x=>f(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0,children:[s.jsx("option",{value:"",children:"Choose a project..."}),g.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Ticket Type *"}),s.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"content_change",children:"Content Change"}),s.jsx("option",{value:"design_update",children:"Design Update"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Priority *"}),s.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:n,onChange:x=>i(x.target.value),placeholder:"Brief description of the request",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{value:a,onChange:x=>o(x.target.value),placeholder:"Detailed description of what you need...",rows:6,className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 resize-vertical",required:!0})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:p||!h,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-accent/20",children:p?"Creating...":"Create Ticket"}),s.jsx(q,{to:"/client/dashboard",className:"btn-outline hover:border-accent hover:text-accent",children:"Cancel"})]})]})}),s.jsxs("div",{className:"mt-8 p-4 bg-secondary/10 border border-secondary/20 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-semibold text-primary mb-2",children:" Ticket Guidelines"}),s.jsxs("ul",{className:"text-xs text-primary/80 space-y-1",children:[s.jsx("li",{children:" Be specific about what you need"}),s.jsx("li",{children:" Include any relevant details or examples"}),s.jsx("li",{children:" Choose the appropriate priority level"}),s.jsx("li",{children:" Your assigned developer will respond within 24 hours"})]})]})]})}),s.jsx(me,{})]})}function lbe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState(""),[a,o]=E.useState({tickets:[],projects:[],users:[],messages:[]}),[l,c]=E.useState(!1),[u,d]=E.useState({projects:!0,tickets:!0,users:!0,messages:!0});if(E.useEffect(()=>{t||r("/login")},[t,r]),E.useEffect(()=>{if(!n.trim()){o({tickets:[],projects:[],users:[],messages:[]});return}c(!0);const f=n.toLowerCase(),p=u.tickets?Jt().filter(x=>x.title.toLowerCase().includes(f)||x.description.toLowerCase().includes(f)||x.id.toLowerCase().includes(f)||x.type.replace("_"," ").toLowerCase().includes(f)):[],v=u.projects?ct().filter(x=>x.name.toLowerCase().includes(f)||x.description.toLowerCase().includes(f)||x.id.toLowerCase().includes(f)):[],g=u.users?Te().filter(x=>x.fullName.toLowerCase().includes(f)||x.email.toLowerCase().includes(f)||x.role.toLowerCase().includes(f)):[],j=u.messages?ah().filter(x=>x.subject&&x.subject.toLowerCase().includes(f)||x.content&&x.content.toLowerCase().includes(f)):[];o({tickets:p,projects:v,users:g,messages:j}),c(!1)},[n,u]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const h=a.tickets.length+a.projects.length+a.users.length+a.messages.length;return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:e.role==="admin"?"/admin/dashboard":e.role==="web_developer"?"/developer/dashboard":e.role==="social_media_coordinator"?"/coordinator/dashboard":"/client-portal/dashboard",className:"btn-outline text-sm hover:border-accent hover:text-accent",children:" Back to Dashboard"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Global Search"}),s.jsx("p",{className:"text-muted-foreground",children:"Find anything across your entire workspace - projects, tickets, users, and messages"})]})]}),s.jsx("div",{className:"card mb-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{type:"text",value:n,onChange:f=>i(f.target.value),placeholder:"Search for projects, tickets, users, messages...",className:"w-full px-4 py-3 rounded-lg border border-border bg-background text-foreground placeholder-muted-foreground focus:border-primary focus:ring-2 focus:ring-primary/20 text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground mb-2",children:"Search in:"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(u).map(([f,p])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:v=>d(g=>({...g,[f]:v.target.checked})),className:"rounded border-border"}),s.jsx("span",{className:"text-sm text-foreground capitalize",children:f})]},f))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(""),className:"px-4 py-2 bg-muted text-muted-foreground rounded-lg hover:bg-muted/70 transition text-sm",disabled:!n,children:"Clear Search"})})]})}),n&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center",children:l?s.jsx("p",{className:"text-muted-foreground",children:"Searching..."}):s.jsxs("p",{className:"text-muted-foreground",children:["Found ",h," result",h!==1?"s":"",' for "',n,'"']})}),a.tickets.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Tickets (",a.tickets.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.tickets.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:f.type.replace("_"," ")}),s.jsx("span",{className:"text-xs bg-muted text-muted-foreground px-2 py-1 rounded",children:f.status.replace("_"," ")})]})]}),s.jsx(q,{to:"/admin/tickets",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.projects.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Projects (",a.projects.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.projects.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:f.status})})]}),s.jsx(q,{to:`/admin/projects/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.users.length>0&&e.role==="admin"&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Users (",a.users.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.users.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.fullName}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.email}),s.jsx("div",{className:"flex items-center gap-2 mt-2",children:s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:f.role})})]}),e.role==="admin"&&s.jsx(q,{to:`/admin/users/${f.id}`,className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),a.messages.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground mb-4",children:["Messages (",a.messages.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.messages.slice(0,10).map(f=>s.jsx("div",{className:"border border-border rounded-lg p-4 hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:f.subject||"No Subject"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:f.content}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:"Message"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(f.createdAt).toLocaleDateString()})]})]}),s.jsx(q,{to:"/messages",className:"text-primary hover:text-primary-dark text-sm underline",children:"View "})]})},f.id))})]}),h===0&&!l&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-6xl",children:""})}),s.jsx("p",{className:"text-xl font-medium text-muted-foreground mb-2",children:"0 results found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try different keywords or check your spelling"}),s.jsxs("div",{className:"card max-w-2xl mx-auto text-left",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:" Search Tips"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"What you can search:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Project names and descriptions"}),s.jsx("li",{children:" Ticket titles and content"}),s.jsx("li",{children:" User names and roles"}),s.jsx("li",{children:" Message subjects and content"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground mb-2",children:"Advanced features:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 ml-4",children:[s.jsx("li",{children:" Filter by content type"}),s.jsx("li",{children:" Relevance-based ranking"}),s.jsx("li",{children:" Real-time search results"}),s.jsx("li",{children:" Direct navigation to results"})]})]})]})]})]})]})]})}),s.jsx(me,{})]})}const cbe=[{value:"admin",label:"ADMIN",description:"Full system access - Manage all projects, users, and system settings"},{value:"web_developer",label:"WEB DEVELOPER",description:"Manage assigned projects, handle tickets, and update project status"},{value:"social_media_coordinator",label:"SOCIAL MEDIA COORDINATOR",description:"Manage social media analytics, campaigns, and content for assigned projects"},{value:"client",label:"CLIENT",description:"View your projects, create tickets, and track progress"}];function ube(){const{isSignedIn:t,user:e,switchRole:r}=ce(),n=ue();if(E.useEffect(()=>{t||n("/login")},[t,n]),!e)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const i=a=>{r(a),setTimeout(()=>{n(a==="admin"?"/admin/dashboard":"/dashboard")},300)};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-[#1e2875] mb-4",children:"Switch Role"}),s.jsxs("p",{className:"text-lg text-muted-foreground",children:["Currently signed in as ",s.jsx("span",{className:"font-semibold text-foreground",children:e.fullName})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current Role:"," ",s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-primary text-primary-foreground",children:e.role.replace("_"," ").toUpperCase()})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:cbe.map(a=>{const o=e.role===a.value;return s.jsxs("button",{onClick:()=>!o&&i(a.value),disabled:o,className:`relative p-8 rounded-xl shadow-lg transition-all duration-300 text-left ${o?"bg-gradient-to-br from-[#1e2875] to-[#2a3488] text-white cursor-default ring-4 ring-blue-300":"bg-white hover:shadow-2xl hover:-translate-y-1 hover:ring-2 hover:ring-[#1e2875]"}`,children:[o&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold bg-white/20 backdrop-blur",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"ACTIVE"]})}),s.jsxs("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${o?"bg-white/20":"bg-primary/10"}`,children:[a.value==="admin"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-primary"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.value==="web_developer"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),a.value==="social_media_coordinator"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),a.value==="client"&&s.jsx("svg",{className:`w-8 h-8 ${o?"text-white":"text-[#1e2875]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]}),s.jsx("h2",{className:`text-2xl font-bold mb-3 ${o?"text-white":"text-[#1e2875]"}`,children:a.label}),s.jsx("p",{className:`text-sm leading-relaxed ${o?"text-white/90":"text-muted-foreground"}`,children:a.description}),!o&&s.jsxs("div",{className:"mt-6 flex items-center gap-2 text-[#1e2875] font-semibold text-sm",children:[s.jsx("span",{children:"Click to switch"}),s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},a.value)})}),s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>n(-1),className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-accent text-accent-foreground shadow-md hover:shadow-accent/20 transition font-semibold",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})})]})})}),s.jsx(me,{})]})}function dbe(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState("website"),[a,o]=E.useState({name:"",description:"",clientId:"",webDeveloperId:"",socialMediaCoordinatorId:"",currentStage:"planning",status:"active",websiteUrl:"",brand:"",projectDate:"",notes:"",socialMediaPlatforms:[],product:"",campaignGoals:"",targetAudience:"",posts:0,likes:0,impressions:0,reach:0,engagement:0}),[l,c]=E.useState("");if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const u=Te(),d=u.filter(g=>g.role==="client"),h=u.filter(g=>g.role==="web_developer"),f=u.filter(g=>g.role==="social_media_coordinator"),p=["Facebook","Instagram","Twitter","LinkedIn","TikTok","YouTube"],v=g=>{g.preventDefault();const j={id:`proj-${Date.now()}`,...a,projectType:n,brand:a.brand||void 0,projectDate:a.projectDate?new Date(a.projectDate):void 0,socialMediaPlatforms:n==="social_media"&&l?[l]:void 0,product:a.product||void 0,createdAt:new Date,updatedAt:new Date},y=[...ct(),j];localStorage.setItem(Qe.PROJECTS,JSON.stringify(y)),window.dispatchEvent(new Event("projectsUpdated")),alert(`${n==="website"?"Website":"Social Media"} project "${a.name}" created successfully!`),r("/admin/dashboard")};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Create New Project"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a new website or social media project to the system"}),s.jsxs(q,{to:"/admin/dashboard",className:"btn-outline inline-flex items-center gap-2 hover:border-accent hover:text-accent",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Type"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("button",{type:"button",onClick:()=>i("website"),className:`p-6 border-2 rounded-lg transition ${n==="website"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Website Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Build and maintain a website"})]})]})}),s.jsx("button",{type:"button",onClick:()=>i("social_media"),className:`p-6 border-2 rounded-lg transition ${n==="social_media"?"border-accent bg-accent/10":"border-border hover:border-accent hover:bg-accent/5"}`,children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Social Media Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage social media campaigns"})]})]})})]})]}),s.jsxs("form",{onSubmit:v,className:"card space-y-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Project Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Project Name *"}),s.jsx("input",{type:"text",id:"name",required:!0,value:a.name,onChange:g=>o({...a,name:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter project name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-foreground mb-2",children:"Description *"}),s.jsx("textarea",{id:"description",required:!0,value:a.description,onChange:g=>o({...a,description:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Enter project description"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"clientId",className:"block text-sm font-medium text-foreground mb-2",children:"Client *"}),s.jsxs("select",{id:"clientId",required:!0,value:a.clientId,onChange:g=>o({...a,clientId:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a client"}),d.map(g=>s.jsx("option",{value:g.id,children:g.fullName},g.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"currentStage",className:"block text-sm font-medium text-foreground mb-2",children:"Current Stage *"}),s.jsxs("select",{id:"currentStage",required:!0,value:a.currentStage,onChange:g=>o({...a,currentStage:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"seo_optimization",children:"SEO Optimisation"}),s.jsx("option",{value:"launch",children:"Launch"}),s.jsx("option",{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Team Assignment"}),n==="website"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"webDeveloperId",className:"block text-sm font-medium text-foreground mb-2",children:"Web Developer"}),s.jsxs("select",{id:"webDeveloperId",value:a.webDeveloperId,onChange:g=>o({...a,webDeveloperId:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a developer (optional)"}),h.map(g=>s.jsx("option",{value:g.id,children:g.fullName},g.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"socialMediaCoordinatorId",className:"block text-sm font-medium text-foreground mb-2",children:["Social Media Coordinator ",n==="social_media"&&"*"]}),s.jsxs("select",{id:"socialMediaCoordinatorId",required:n==="social_media",value:a.socialMediaCoordinatorId,onChange:g=>o({...a,socialMediaCoordinatorId:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsxs("option",{value:"",children:["Select a coordinator ",n==="website"&&"(optional)"]}),f.map(g=>s.jsx("option",{value:g.id,children:g.fullName},g.id))]})]})]}),n==="website"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Website Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"websiteUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Website URL"}),s.jsx("input",{type:"url",id:"websiteUrl",value:a.websiteUrl,onChange:g=>o({...a,websiteUrl:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"https://example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-foreground mb-2",children:"Brand"}),s.jsx("input",{type:"text",id:"brand",value:a.brand,onChange:g=>o({...a,brand:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Brand name"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"projectDate",className:"block text-sm font-medium text-foreground mb-2",children:"Project Date"}),s.jsx("input",{type:"date",id:"projectDate",value:a.projectDate,onChange:g=>o({...a,projectDate:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]}),n==="social_media"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Social Media Campaign Details"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"platform",className:"block text-sm font-medium text-foreground mb-2",children:"Platform *"}),s.jsxs("select",{id:"platform",required:!0,value:l,onChange:g=>c(g.target.value),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a platform"}),p.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"campaignGoals",className:"block text-sm font-medium text-foreground mb-2",children:"Campaign Goals *"}),s.jsx("textarea",{id:"campaignGoals",required:!0,value:a.campaignGoals,onChange:g=>o({...a,campaignGoals:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Increase brand awareness by 40%, generate 200+ qualified leads"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetAudience",className:"block text-sm font-medium text-foreground mb-2",children:"Target Audience *"}),s.jsx("textarea",{id:"targetAudience",required:!0,value:a.targetAudience,onChange:g=>o({...a,targetAudience:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"e.g., Business owners, HR managers, training coordinators aged 30-55"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-foreground mb-2",children:"Product"}),s.jsxs("select",{id:"product",value:a.product,onChange:g=>o({...a,product:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select Product"}),s.jsx("option",{value:"Learnerships",children:"Learnerships"}),s.jsx("option",{value:"Academy",children:"Academy"}),s.jsx("option",{value:"Employment Equity",children:"Employment Equity"}),s.jsx("option",{value:"Venueideas",children:"Venueideas"}),s.jsx("option",{value:"Trouidees",children:"Trouidees"}),s.jsx("option",{value:"TAP",children:"TAP"})]})]})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold text-foreground mb-3",children:"Initial Metrics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"posts",className:"block text-sm font-medium text-foreground mb-2",children:"Posts"}),s.jsx("input",{type:"number",id:"posts",min:"0",value:a.posts,onChange:g=>o({...a,posts:parseInt(g.target.value)||0}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"likes",className:"block text-sm font-medium text-foreground mb-2",children:"Likes"}),s.jsx("input",{type:"number",id:"likes",min:"0",value:a.likes,onChange:g=>o({...a,likes:parseInt(g.target.value)||0}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"impressions",className:"block text-sm font-medium text-foreground mb-2",children:"Impressions"}),s.jsx("input",{type:"number",id:"impressions",min:"0",value:a.impressions,onChange:g=>o({...a,impressions:parseInt(g.target.value)||0}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"reach",className:"block text-sm font-medium text-foreground mb-2",children:"Reach"}),s.jsx("input",{type:"number",id:"reach",min:"0",value:a.reach,onChange:g=>o({...a,reach:parseInt(g.target.value)||0}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"engagement",className:"block text-sm font-medium text-foreground mb-2",children:"Engagement"}),s.jsx("input",{type:"number",id:"engagement",min:"0",value:a.engagement,onChange:g=>o({...a,engagement:parseInt(g.target.value)||0}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{id:"notes",value:a.notes,onChange:g=>o({...a,notes:g.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary h-24",placeholder:"Additional notes or requirements"})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs("button",{type:"submit",className:"btn-primary flex-1 hover:shadow-accent/20",children:["Create ",n==="website"?"Website":"Social Media"," Project"]}),s.jsx("button",{type:"button",onClick:()=>r(-1),className:"btn-outline flex-1 hover:border-accent hover:text-accent",children:"Cancel"})]})]})]})}),s.jsx(me,{})]})}const JR=6048e5,hbe=864e5,fbe=6e4,ZE=Symbol.for("constructDateFrom");function gn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&ZE in t?t[ZE](e):t instanceof Date?new t.constructor(e):new Date(e)}function Zt(t,e){return gn(e||t,t)}function Yp(t,e,r){const n=Zt(t,r==null?void 0:r.in);return isNaN(e)?gn(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ZR(t,e,r){const n=Zt(t,r==null?void 0:r.in);if(isNaN(e))return gn(t,NaN);if(!e)return n;const i=n.getDate(),a=gn(t,n.getTime());a.setMonth(n.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}let mbe={};function Th(){return mbe}function ss(t,e){var l,c,u,d;const r=Th(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Zt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Xp(t,e){return ss(t,{...e,weekStartsOn:1})}function e5(t,e){const r=Zt(t,e==null?void 0:e.in),n=r.getFullYear(),i=gn(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Xp(i),o=gn(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Xp(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function eP(t){const e=Zt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Sx(t,...e){const r=gn.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Qp(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function pbe(t,e,r){const[n,i]=Sx(r==null?void 0:r.in,t,e),a=Qp(n),o=Qp(i),l=+a-eP(a),c=+o-eP(o);return Math.round((l-c)/hbe)}function gbe(t,e){const r=e5(t,e),n=gn(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Xp(n)}function t5(t,e,r){return Yp(t,e*7,r)}function tP(t,e,r){const[n,i]=Sx(r==null?void 0:r.in,t,e);return+Qp(n)==+Qp(i)}function xbe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function vbe(t){return!(!xbe(t)&&typeof t!="number"||isNaN(+Zt(t)))}function ybe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function bbe(t,e){return+Zt(t)-+Zt(e)}function rP(t,e,r){const n=bbe(t,e)/fbe;return ybe(r==null?void 0:r.roundingMethod)(n)}function jbe(t,e){const r=Zt(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function wbe(t,e){const[r,n]=Sx(t,e.start,e.end);return{start:r,end:n}}function nP(t,e){const{start:r,end:n}=wbe(e==null?void 0:e.in,t);let i=+r>+n;const a=i?+r:+n,o=i?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=a;)c.push(gn(r,o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function r5(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Nbe(t,e){const r=Zt(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function sP(t,e){var l,c;const r=Th(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Zt(t,e==null?void 0:e.in),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const _be={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sbe=(t,e,r)=>{let n;const i=_be[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function oy(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const kbe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Abe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Tbe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ebe={date:oy({formats:kbe,defaultWidth:"full"}),time:oy({formats:Abe,defaultWidth:"full"}),dateTime:oy({formats:Tbe,defaultWidth:"full"})},Pbe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cbe=(t,e,r,n)=>Pbe[t];function su(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Ibe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Obe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mbe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dbe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$be=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vbe={ordinalNumber:$be,era:su({values:Ibe,defaultWidth:"wide"}),quarter:su({values:Obe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:su({values:Mbe,defaultWidth:"wide"}),day:su({values:Dbe,defaultWidth:"wide"}),dayPeriod:su({values:Rbe,defaultWidth:"wide",formattingValues:Lbe,defaultFormattingWidth:"wide"})};function iu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Bbe(l,h=>h.test(o)):Fbe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Fbe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Bbe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ube(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const zbe=/^(\d+)(th|st|nd|rd)?/i,Wbe=/\d+/i,Hbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qbe={any:[/^b/i,/^(a|c)/i]},Gbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kbe={any:[/1/i,/2/i,/3/i,/4/i]},Ybe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t0e={ordinalNumber:Ube({matchPattern:zbe,parsePattern:Wbe,valueCallback:t=>parseInt(t,10)}),era:iu({matchPatterns:Hbe,defaultMatchWidth:"wide",parsePatterns:qbe,defaultParseWidth:"any"}),quarter:iu({matchPatterns:Gbe,defaultMatchWidth:"wide",parsePatterns:Kbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:iu({matchPatterns:Ybe,defaultMatchWidth:"wide",parsePatterns:Xbe,defaultParseWidth:"any"}),day:iu({matchPatterns:Qbe,defaultMatchWidth:"wide",parsePatterns:Jbe,defaultParseWidth:"any"}),dayPeriod:iu({matchPatterns:Zbe,defaultMatchWidth:"any",parsePatterns:e0e,defaultParseWidth:"any"})},r0e={code:"en-US",formatDistance:Sbe,formatLong:Ebe,formatRelative:Cbe,localize:Vbe,match:t0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function n0e(t,e){const r=Zt(t,e==null?void 0:e.in);return pbe(r,Nbe(r))+1}function s0e(t,e){const r=Zt(t,e==null?void 0:e.in),n=+Xp(r)-+gbe(r);return Math.round(n/JR)+1}function n5(t,e){var d,h,f,p;const r=Zt(t,e==null?void 0:e.in),n=r.getFullYear(),i=Th(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=gn((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=ss(o,e),c=gn((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=ss(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function i0e(t,e){var l,c,u,d;const r=Th(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=n5(t,e),a=gn((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),ss(a,e)}function a0e(t,e){const r=Zt(t,e==null?void 0:e.in),n=+ss(r,e)-+i0e(r,e);return Math.round(n/JR)+1}function Fe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const li={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Fe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Fe(r+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Fe(i,e.length)}},So={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iP={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return li.y(t,e)},Y:function(t,e,r,n){const i=n5(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Fe(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Fe(a,e.length)},R:function(t,e){const r=e5(t);return Fe(r,e.length)},u:function(t,e){const r=t.getFullYear();return Fe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Fe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Fe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return li.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Fe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=a0e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Fe(i,e.length)},I:function(t,e,r){const n=s0e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Fe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):li.d(t,e)},D:function(t,e,r){const n=n0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Fe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Fe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Fe(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Fe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=So.noon:n===0?i=So.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=So.evening:n>=12?i=So.afternoon:n>=4?i=So.morning:i=So.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return li.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):li.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Fe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):li.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):li.s(t,e)},S:function(t,e){return li.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return oP(n);case"XXXX":case"XX":return ya(n);case"XXXXX":case"XXX":default:return ya(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return oP(n);case"xxxx":case"xx":return ya(n);case"xxxxx":case"xxx":default:return ya(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aP(n,":");case"OOOO":default:return"GMT"+ya(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aP(n,":");case"zzzz":default:return"GMT"+ya(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Fe(n,e.length)},T:function(t,e,r){return Fe(+t,e.length)}};function aP(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Fe(a,2)}function oP(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):ya(t,e)}function ya(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Fe(Math.trunc(n/60),2),a=Fe(n%60,2);return r+i+e+a}const lP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},s5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},o0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return lP(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",lP(n,e)).replace("{{time}}",s5(i,e))},l0e={p:s5,P:o0e},c0e=/^D+$/,u0e=/^Y+$/,d0e=["D","DD","YY","YYYY"];function h0e(t){return c0e.test(t)}function f0e(t){return u0e.test(t)}function m0e(t,e,r){const n=p0e(t,e,r);if(console.warn(n),d0e.includes(t))throw new RangeError(n)}function p0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const g0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,x0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v0e=/^'([^]*?)'?$/,y0e=/''/g,b0e=/[a-zA-Z]/;function it(t,e,r){var d,h,f,p;const n=Th(),i=n.locale??r0e,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Zt(t,r==null?void 0:r.in);if(!vbe(l))throw new RangeError("Invalid time value");let c=e.match(x0e).map(v=>{const g=v[0];if(g==="p"||g==="P"){const j=l0e[g];return j(v,i.formatLong)}return v}).join("").match(g0e).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:j0e(v)};if(iP[g])return{isToken:!0,value:v};if(g.match(b0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(f0e(g)||h0e(g))&&m0e(g,e,String(t));const j=iP[g[0]];return j(l,g,i.localize,u)}).join("")}function j0e(t){const e=t.match(v0e);return e?e[1].replace(y0e,"'"):t}function w0e(t,e,r){const[n,i]=Sx(r==null?void 0:r.in,t,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function i5(t,e,r){return Yp(t,-e,r)}function N0e(t,e,r){return ZR(t,-1,r)}function _0e(t,e,r){return t5(t,-1,r)}function S0e(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState(null),[h,f]=E.useState(!1),[p,v]=E.useState({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1});E.useEffect(()=>{t||r("/login")},[t,r]),E.useEffect(()=>{e&&(i(Va(e.id)),o(Te()),c(ct()))},[e]);const g=N=>{w8(N),i(k=>k.map(S=>S.id===N?{...S,isRead:!0}:S))},j=N=>{window.confirm("Are you sure you want to delete this message?")&&N8(N)&&(i(k=>k.filter(S=>S.id!==N)),(u==null?void 0:u.id)===N&&d(null))},x=()=>{if(!e||!p.subject.trim()||!p.content.trim())return;const N={id:`message-${Date.now()}`,senderId:e.id,recipientId:p.isBroadcast?void 0:p.recipientId||void 0,subject:p.subject,content:p.content,isRead:!1,isBroadcast:p.isBroadcast,projectId:p.projectId||void 0,createdAt:new Date,updatedAt:new Date};cw(N),i(k=>[N,...k]),v({recipientId:"",subject:"",content:"",projectId:"",isBroadcast:!1}),f(!1)},y=N=>{const k=a.find(S=>S.id===N);return k?k.fullName:"Unknown"},b=N=>{if(!N)return"Everyone (Broadcast)";const k=a.find(S=>S.id===N);return k?k.fullName:"Unknown"},_=N=>{if(!N)return null;const k=l.find(S=>S.id===N);return k?k.name:null},w=n.filter(N=>!N.isRead&&(N.recipientId===(e==null?void 0:e.id)||N.isBroadcast)).length;return e?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-8",children:s.jsxs(q,{to:"/dashboard",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark transition-colors font-medium",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-12",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Messages"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Communicate with team members and clients",w>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),w," unread"]})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary px-6 py-3 self-start lg:self-auto",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Compose Message"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Messages"}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:n.map(N=>s.jsxs("div",{className:`p-4 rounded-lg cursor-pointer transition-all duration-200 border ${(u==null?void 0:u.id)===N.id?"bg-primary/10 border-primary shadow-sm":"hover:bg-muted/50 border-border/50 hover:border-primary/20"} ${!N.isRead&&(N.recipientId===(e==null?void 0:e.id)||N.isBroadcast)?"border-l-4 border-l-primary bg-secondary/10":""}`,onClick:()=>{d(N),!N.isRead&&(N.recipientId===(e==null?void 0:e.id)||N.isBroadcast)&&g(N.id)},children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-semibold text-foreground truncate",children:[N.senderId===(e==null?void 0:e.id)?"To: ":"From: ",N.senderId===(e==null?void 0:e.id)?b(N.recipientId):y(N.senderId),N.isBroadcast&&" (Broadcast)"]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate font-medium",children:N.subject})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:it(N.createdAt,"MMM dd")}),s.jsx("button",{onClick:k=>{k.stopPropagation(),j(N.id)},className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),!N.isRead&&(N.recipientId===(e==null?void 0:e.id)||N.isBroadcast)&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full ml-auto flex-shrink-0"})]},N.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:u?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:u.subject}),s.jsx("button",{onClick:()=>j(u.id),className:"text-red-500 hover:text-red-700 p-2 rounded hover:bg-red-50 transition-colors",title:"Delete message",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[s.jsxs("span",{children:[u.senderId===(e==null?void 0:e.id)?"Sent to ":"From ",u.senderId===(e==null?void 0:e.id)?b(u.recipientId):y(u.senderId),u.isBroadcast&&" (Broadcast)"]}),s.jsx("span",{children:""}),s.jsx("span",{children:it(u.createdAt,"PPP 'at' p")})]}),_(u.projectId)&&s.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project: ",_(u.projectId)]})]}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"whitespace-pre-wrap text-foreground text-lg leading-relaxed",children:u.content})})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 shadow-sm flex items-center justify-center",style:{minHeight:"400px"},children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Select a message to view"})]})})})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Compose New Message"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Send a message to team members or broadcast to everyone"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"broadcast",checked:p.isBroadcast,onChange:N=>v(k=>({...k,isBroadcast:N.target.checked,recipientId:N.target.checked?"":k.recipientId})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"broadcast",className:"text-sm font-medium text-foreground",children:"Broadcast to all users"})]}),!p.isBroadcast&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient"}),s.jsxs("select",{value:p.recipientId,onChange:N=>v(k=>({...k,recipientId:N.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select recipient"}),a.filter(N=>N.id!==(e==null?void 0:e.id)&&N.isActive).map(N=>s.jsxs("option",{value:N.id,children:[N.fullName," (",N.role,")"]},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Related Project (Optional)"}),s.jsxs("select",{value:p.projectId,onChange:N=>v(k=>({...k,projectId:N.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select project"}),l.map(N=>s.jsx("option",{value:N.id,children:N.name},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Subject"}),s.jsx("input",{type:"text",value:p.subject,onChange:N=>v(k=>({...k,subject:N.target.value})),placeholder:"Enter message subject",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Message"}),s.jsx("textarea",{value:p.content,onChange:N=>v(k=>({...k,content:N.target.value})),placeholder:"Enter your message",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary resize-none"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>f(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:x,disabled:!p.subject.trim()||!p.content.trim()||!p.isBroadcast&&!p.recipientId,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send Message"})]})]})]})})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function k0e(){const{user:t,signOut:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState(!0);if(E.useEffect(()=>{if(!t){r("/login?portal=client");return}if(t.role!=="client"){switch(t.role){case"admin":r("/admin/dashboard");break;case"web_developer":r("/developer/dashboard");break;case"social_media_coordinator":r("/coordinator/dashboard");break;default:r("/")}return}i(xn(t.id,t.role)),o(tc(t.id,t.role)),c(Va(t.id)),d(!1)},[t,r]),!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-primary/10 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading Client Portal..."})]})});const h=n.filter(v=>v.status==="active"),f=a.slice(0,3),p=l.filter(v=>!v.isRead&&v.recipientId===(t==null?void 0:t.id));return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Project Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Track your project progress and communicate with our team"})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(q,{to:"/client/tickets/new",className:"btn-primary",children:"+ Create New Ticket"}),s.jsx(q,{to:"/client-portal/files",className:"btn-outline",children:"View Files"}),s.jsx(q,{to:"/messages",className:"btn-outline",children:"Messages"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.filter(v=>v.status==="open"||v.status==="in_progress").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread Messages"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Your Projects"}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"Recent Projects"})]}),s.jsx("div",{className:"space-y-4",children:h.length>0?h.slice(0,3).map(v=>s.jsxs("div",{className:"block p-4 border border-border/50 rounded-lg hover:bg-muted/50 hover:border-primary/20 transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:v.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:v.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Stage: ",v.currentStage]}),s.jsxs("span",{children:["Updated ",it(v.updatedAt,"MMM dd")]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>r(`/client-portal/project/${v.id}`),className:"inline-flex items-center px-3 py-2 rounded-md text-xs font-medium bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"View Details"})})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No active projects yet"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Recent Activity"}),s.jsx(q,{to:"/client/tickets",className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map(v=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground text-sm",children:v.title}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",v.status]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:it(v.createdAt,"MMM dd, yyyy")})]})]},v.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No recent activity"})]})})]})]})]})}),s.jsx(me,{})]})}function A0e(){const{id:t}=to(),{user:e}=ce(),r=ue(),[n,i]=E.useState(null),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState(!0);E.useEffect(()=>{if(!e||e.role!=="client"){r("/login?portal=client");return}if(!t){r("/client-portal/dashboard");return}const f=so(t);if(!f||f.clientId!==e.id){r("/client-portal/dashboard");return}i(f),o(pg(t)),c(Va(e.id).filter(p=>p.projectId===t)),d(!1)},[e,t,r]);const h=f=>({planning:"bg-primary/10 text-primary",development:"bg-accent/10 text-accent",testing:"bg-warning/10 text-warning",completed:"bg-success/10 text-success"})[f]||"bg-gray-100 text-gray-800";return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):u||!n?s.jsx("div",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-300 rounded"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"h-64 bg-gray-300 rounded"}),s.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container mx-auto px-6 py-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("button",{onClick:()=>r("/client-portal/dashboard"),className:"p-2 rounded-lg border border-border/50 hover:bg-muted/50 transition-colors",title:"Back to Dashboard",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:n.name}),s.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${uM(n.status)}`,children:n.status}),s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(n.currentStage)}`,children:n.currentStage}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Updated ",it(n.updatedAt,"MMM dd, yyyy")]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(q,{to:"/messages",className:"btn-outline px-4 py-2",children:"Message Team"}),s.jsx(q,{to:"/client-portal/files",className:"btn-outline px-4 py-2",children:"Share Files"}),s.jsx(q,{to:"/client-portal/feedback",className:"btn-primary px-4 py-2",children:"Submit Feedback"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Progress"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Overall Progress"}),s.jsxs("span",{className:"font-medium text-foreground",children:[n.currentStage==="planning"&&"25%",n.currentStage==="design"&&"40%",n.currentStage==="development"&&"60%",n.currentStage==="testing"&&"80%",n.currentStage==="launch"&&"100%",n.currentStage==="maintenance"&&"100%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-500",style:{width:n.currentStage==="planning"?"25%":n.currentStage==="design"?"40%":n.currentStage==="development"?"60%":n.currentStage==="testing"?"80%":(n.currentStage==="launch","100%")}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Project Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("span",{className:"text-foreground capitalize",children:n.projectType.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),s.jsx("span",{className:"text-foreground",children:it(n.createdAt,"MMM dd, yyyy")})]}),n.launchDate&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Launch Date:"}),s.jsx("span",{className:"text-foreground",children:it(n.launchDate,"MMM dd, yyyy")})]}),n.websiteUrl&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Website:"}),s.jsx("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View Site"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Team Members"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Developer:"}),s.jsx("span",{className:"text-foreground",children:n.webDeveloperId?"Assigned":"Not assigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Coordinator:"}),s.jsx("span",{className:"text-foreground",children:n.socialMediaCoordinatorId?"Assigned":"Not assigned"})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Updates"}),s.jsx("div",{className:"space-y-4",children:a.length>0?a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"p-2 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[f.description.substring(0,100),"..."]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsx("span",{className:`px-2 py-1 rounded-full ${f.status==="open"?"bg-yellow-100 text-yellow-800":f.status==="in_progress"?"bg-primary/10 text-primary":f.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status.replace("_"," ")}),s.jsx("span",{children:it(f.createdAt,"MMM dd, yyyy")})]})]})]},f.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsx("p",{className:"text-muted-foreground",children:"No updates yet"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(q,{to:"/messages",className:"block w-full btn-outline text-center py-2",children:"Message Team"}),s.jsx(q,{to:"/client-portal/files",className:"block w-full btn-outline text-center py-2",children:"Share Files"}),s.jsx(q,{to:"/client-portal/feedback",className:"block w-full btn-primary text-center py-2",children:"Submit Feedback"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Project Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Open Tickets:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:a.filter(f=>f.status==="open"||f.status==="in_progress").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Messages:"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:l.length})]})]})]})]})]})]})}),s.jsx(me,{})]})}function T0e(){const{user:t}=ce(),e=ue(),[r,n]=E.useState([]),[i,a]=E.useState(""),[o,l]=E.useState([]),[c,u]=E.useState(!1),[d,h]=E.useState(""),[f,p]=E.useState("");E.useEffect(()=>{if(t&&t.role==="client"){const b=xn(t.id,t.role);n(b),b.length>0&&a(b[0].id)}},[t]);const v=b=>{const _=Array.from(b.target.files||[]);l(w=>[...w,..._])},g=async()=>{!i||o.length===0||(u(!0),await new Promise(b=>setTimeout(b,2e3)),o.forEach((b,_)=>{const w={id:`file-${Date.now()}-${_}`,projectId:i,uploadedBy:t.id,fileName:b.name,fileUrl:`https://example.com/files/${b.name}`,fileSize:b.size,fileType:b.type,isPublic:!0,description:`Uploaded by client ${t.fullName}`,uploadedAt:new Date};y_(w)}),l([]),h(""),u(!1),alert("Files uploaded successfully!"))},j=async()=>{if(!i||o.length===0)return;if(!d){alert("Please enter a recipient email address.");return}if(!d.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)){alert("Please enter a valid email address.");return}u(!0),await new Promise(w=>setTimeout(w,2e3)),o.forEach((w,N)=>{const k={id:`file-${Date.now()}-${N}`,projectId:i,uploadedBy:t.id,fileName:w.name,fileUrl:`https://example.com/files/${w.name}`,fileSize:w.size,fileType:w.type,isPublic:!0,description:`Uploaded by client ${t.fullName}`,uploadedAt:new Date};y_(k)});const b=r.find(w=>w.id===i);Te().filter(w=>w.role==="admin").forEach(w=>{cw({id:`msg-${Date.now()}-${w.id}`,senderId:t.id,recipientId:w.id,subject:`Files Sent via Email - ${b==null?void 0:b.name}`,content:`Client ${t.fullName} has sent ${o.length} file(s) for project "${b==null?void 0:b.name}" via email to: ${d}.

Message from client:
${f||"No message included"}

Please review the files in the admin dashboard.`,isRead:!1,isBroadcast:!1,projectId:i,createdAt:new Date,updatedAt:new Date})}),l([]),h(""),p(""),u(!1),alert("Files sent successfully to admin!")},x=b=>{l(_=>_.filter((w,N)=>N!==b))},y=b=>{if(b===0)return"0 Bytes";const _=1024,w=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(b)/Math.log(_));return parseFloat((b/Math.pow(_,N)).toFixed(2))+" "+w[N]};return!t||t.role!=="client"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("button",{onClick:()=>e("/client-portal/dashboard"),className:"p-2 rounded-lg border border-border/50 hover:bg-muted/50 transition-colors",title:"Back to Dashboard",children:s.jsx("svg",{className:"w-5 h-5 text-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Share Files with Your Team"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Upload documents, images, or any files your project team needs to access"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Select Project"}),s.jsx("select",{value:i,onChange:b=>a(b.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:r.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Upload Files"}),s.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:v,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif,.svg,.zip,.rar"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"Drop files here or click to browse"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports: PDF, DOC, DOCX, TXT, JPG, PNG, GIF, SVG, ZIP, RAR (max 10MB each)"})]})]})]}),o.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Files to Upload"}),s.jsx("div",{className:"space-y-3",children:o.map((b,_)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:b.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:y(b.size)})]})]}),s.jsx("button",{onClick:()=>x(_),className:"p-1 text-muted-foreground hover:text-destructive transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},_))})]}),o.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Recipient Email Address"}),s.jsx("input",{type:"email",value:d,onChange:b=>h(b.target.value),placeholder:"Enter email address",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),o.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Message (Optional)"}),s.jsx("textarea",{value:f,onChange:b=>p(b.target.value),placeholder:"Add a message to include with your files...",rows:4,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground resize-none"})]}),o.length>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:g,disabled:c,className:"flex-1 btn-outline py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Uploading..."]}):`Upload ${o.length} File${o.length>1?"s":""}`}),s.jsx("button",{onClick:j,disabled:c,className:"flex-1 btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send File"]})})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Previously Shared Files"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("svg",{className:"w-12 h-12 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-5.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),s.jsx("p",{className:"text-muted-foreground",children:"No files shared yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Files you upload will appear here for your team's access"})]})})]})]})})}),s.jsx(me,{})]})}function E0e(){const{user:t}=ce(),[e,r]=E.useState([]),[n,i]=E.useState(""),[a,o]=E.useState({rating:5,category:"overall",comment:"",isPublic:!1}),[l,c]=E.useState(!1);E.useEffect(()=>{if(t&&t.role==="client"){const h=xn(t.id,t.role);r(h),h.length>0&&i(h[0].id)}},[t]);const u=async h=>{if(h.preventDefault(),!n||!a.comment.trim()){alert("Please fill in all required fields");return}c(!0),await new Promise(f=>setTimeout(f,1500)),o({rating:5,category:"overall",comment:"",isPublic:!1}),c(!1),alert("Thank you for your feedback! We'll review it and get back to you soon.")};if(!t||t.role!=="client")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const d={1:"Poor",2:"Fair",3:"Good",4:"Very Good",5:"Excellent"};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:"Share Your Feedback"}),s.jsx("p",{className:"text-muted-foreground",children:"Help us improve by sharing your thoughts about our work"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Which project is this feedback about?"}),s.jsx("select",{value:n,onChange:h=>i(h.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",required:!0,children:e.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-3",children:"How would you rate our work?"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>s.jsx("button",{type:"button",onClick:()=>o(f=>({...f,rating:h})),className:`w-8 h-8 ${h<=a.rating?"text-yellow-400 fill-current":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:s.jsx("svg",{viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},h))}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:d[a.rating]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"What area does this feedback relate to?"}),s.jsxs("select",{value:a.category,onChange:h=>o(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"overall",children:"Overall Experience"}),s.jsx("option",{value:"design",children:"Design Quality"}),s.jsx("option",{value:"functionality",children:"Website Functionality"}),s.jsx("option",{value:"communication",children:"Team Communication"}),s.jsx("option",{value:"timeline",children:"Project Timeline"}),s.jsx("option",{value:"support",children:"Customer Support"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Your Feedback"}),s.jsx("textarea",{value:a.comment,onChange:h=>o(f=>({...f,comment:h.target.value})),placeholder:"Please share your detailed feedback, suggestions for improvement, or any concerns...",rows:6,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground resize-none",required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your feedback helps us improve our services. Be as specific as possible."})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:h=>o(f=>({...f,isPublic:h.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-foreground",children:"Make this feedback public (visible to other clients as testimonials)"})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:l?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting Feedback..."]}):"Submit Feedback"})]})}),s.jsxs("div",{className:"bg-secondary/10 dark:bg-secondary/20 rounded-xl border border-secondary/20 dark:border-secondary/30 p-6 mt-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-primary dark:text-primary mb-3",children:" Tips for Better Feedback"}),s.jsxs("ul",{className:"space-y-2 text-sm text-primary dark:text-primary",children:[s.jsx("li",{children:" Be specific about what you liked or didn't like"}),s.jsx("li",{children:" Include examples from your experience"}),s.jsx("li",{children:" Suggest improvements when possible"}),s.jsx("li",{children:" Mention both positive aspects and areas for growth"}),s.jsx("li",{children:" Rate based on your overall satisfaction with the work"})]})]})]})})}),s.jsx(me,{})]})}function P0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState("30d"),[a,o]=E.useState({projects:[],tickets:[],website:[],social:[],users:[]}),[l,c]=E.useState(!0);E.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}const d=ct(),h=Jt(),f=lw(),p=no(),v=Te();o({projects:d,tickets:h,website:f,social:p,users:v}),c(!1)},[t,e,r]);const u={totalProjects:a.projects.length,activeProjects:a.projects.filter(d=>d.status==="active").length,totalTickets:a.tickets.length,resolvedTickets:a.tickets.filter(d=>d.status==="resolved").length,avgPageViews:a.website.length>0?Math.round(a.website.reduce((d,h)=>d+h.pageViews,0)/a.website.length):0,totalEngagement:a.social.reduce((d,h)=>d+h.engagement,0),totalReach:a.social.reduce((d,h)=>d+h.reach,0)};return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsxs("button",{onClick:()=>r("/dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-muted-foreground hover:text-foreground border border-border rounded-lg hover:bg-muted transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive insights into your business performance and project metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u.totalTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-xs text-red-600",children:"-5% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.users.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-xs text-green-600",children:"+15% vs last period"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Project Status Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="active").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="completed").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Paused"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.projects.filter(d=>d.status==="paused").length})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Ticket Priority Distribution"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Critical"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="critical").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"High"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="high").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Medium"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="medium").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),s.jsx("span",{className:"text-sm font-medium",children:"Low"})]}),s.jsx("span",{className:"text-sm font-bold",children:a.tickets.filter(d=>d.priority==="low").length})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsxs("div",{className:"space-y-4",children:[a.tickets.slice(0,5).map(d=>{const h=a.projects.find(f=>f.id===d.projectId);return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${d.priority==="critical"?"bg-red-500":d.priority==="high"?"bg-orange-500":d.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:d.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h==null?void 0:h.name,"  ",it(d.createdAt,"MMM dd, yyyy")]})]})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${d.status==="open"?"bg-red-100 text-red-800":d.status==="in_progress"?"bg-yellow-100 text-yellow-800":d.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:d.status.replace("_"," ")})]},d.id)}),a.tickets.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent activity"})]})]})]})}),s.jsx(me,{})]})}function C0e(){const{isSignedIn:t}=ce(),e=ue(),n=to().id,[i,a]=E.useState(null),[o,l]=E.useState({website:[],social:[]});return E.useEffect(()=>{if(!t){e("/login");return}const c=so(n);if(!c){e("/dashboard");return}a(c);const u=_8(n);l(u)},[t,n,e]),i?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-primary hover:underline mb-4",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),s.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Analytics - ",i.name]}),s.jsx("p",{className:"text-muted-foreground",children:i.description}),i.websiteUrl&&s.jsx("a",{href:i.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:i.websiteUrl})]}),s.jsxs("div",{className:"card mb-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Website Analytics Summary"})}),o.website&&o.website.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.website.slice(0,3).map(c=>s.jsxs("div",{className:"p-6 bg-gradient-to-br from-secondary/10 to-primary/5 rounded-lg border border-secondary/20",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:new Date(c.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-2xl font-bold text-[#1e2875]",children:c.pageViews.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique Visitors"}),s.jsx("p",{className:"text-xl font-semibold text-foreground",children:c.uniqueVisitors.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bounce Rate"}),s.jsxs("p",{className:"text-lg font-medium text-foreground",children:[c.bounceRate,"%"]})]})]})]},c.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No analytics data available yet."})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Social Media Analytics"}),o.social&&o.social.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.social.map(c=>{var u;return s.jsxs("div",{className:"p-6 bg-gradient-to-br from-pink-50 to-purple-50 rounded-lg border border-pink-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-pink-100 text-pink-700 capitalize",children:c.platform}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(c.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"text-lg font-bold text-[#1e2875]",children:c.posts})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"text-lg font-bold text-foreground",children:c.engagement})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:c.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Followers"}),s.jsx("p",{className:"text-lg font-semibold text-foreground",children:((u=c.followers)==null?void 0:u.toLocaleString())||"N/A"})]})]})]},c.id)})}):s.jsx("p",{className:"text-muted-foreground",children:"No social media analytics data available yet."})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function I0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!0),u=E.useCallback(async()=>{if(!t)return;c(!0),await new Promise(j=>setTimeout(j,100));const f=ct(),p=Jt(),v=f.filter(j=>j.webDeveloperId===t.id),g=p.filter(j=>j.assignedTo===t.id);i(v),o(g),c(!1)},[t]);E.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="web_developer"){r("/dashboard");return}u()},[t,e,r,u]);const d=E.useMemo(()=>n.filter(f=>f.status==="active"),[n]);E.useMemo(()=>n.filter(f=>f.status==="completed"),[n]),E.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]);const h=E.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Development Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your development progress, project assignments, and ticket resolution metrics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolved Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsxs("div",{className:"space-y-3",children:[n.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.name}),s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:f.status})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:f.status})]},f.id)),n.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",n.length-5," more projects"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Tickets"}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:f.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:it(f.createdAt,"MMM dd, yyyy")})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})]},f.id)),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsx("p",{className:"text-muted-foreground",children:"No tickets assigned yet."})]})]})]})}),s.jsx(me,{})]})}function O0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!0),u=E.useCallback(async()=>{if(!t)return;c(!0),await new Promise(y=>setTimeout(y,100));const v=ct(),g=no(),j=v.filter(y=>y.projectType==="social_media"&&y.socialMediaCoordinatorId===t.id),x=g.filter(y=>j.some(b=>b.id===y.projectId));i(j),o(x),c(!1)},[t]);E.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="social_media_coordinator"){r("/dashboard");return}u()},[t,e,r,u]);const d=E.useMemo(()=>a.filter(v=>{const g=i5(new Date,7);return v.date>=g}),[a]),h=E.useMemo(()=>a.reduce((v,g)=>v+g.reach,0),[a]),f=E.useMemo(()=>a.reduce((v,g)=>v+g.engagement,0),[a]),p=E.useMemo(()=>a.reduce((v,g)=>v+g.posts,0),[a]);return l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Social Media Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Monitor your social media performance across all assigned projects and platforms"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Reach"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Engagement"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Posts"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Social Media Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(v=>{var g;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-foreground",children:v.name}),s.jsx("div",{className:"flex gap-1 mt-1",children:(g=v.socialMediaPlatforms)==null?void 0:g.slice(0,3).map(j=>s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800 capitalize",children:j},j))})]}),s.jsx("a",{href:`/analytics/${v.id}`,className:"text-primary hover:underline text-sm",children:"View Details"})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No social media projects assigned yet."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add Analytics Entry"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Recent Analytics (Last 7 Days)"}),d.length>0?s.jsx("div",{className:"space-y-3",children:d.slice(0,5).map(v=>{const g=n.find(j=>j.id===v.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"font-medium text-foreground",children:g==null?void 0:g.name}),s.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:v.platform})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Reach"}),s.jsx("p",{className:"font-medium",children:v.reach.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Engagement"}),s.jsx("p",{className:"font-medium",children:v.engagement.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Posts"}),s.jsx("p",{className:"font-medium",children:v.posts})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:it(v.date,"MMM dd, yyyy")})]},v.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No recent analytics entries."}),s.jsx("a",{href:"/coordinator/analytics/new",className:"btn-primary",children:"Add First Entry"})]})]})]})]})}),s.jsx(me,{})]})}function M0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!0),u=E.useCallback(async()=>{if(!t)return;c(!0),await new Promise(j=>setTimeout(j,100));const f=ct(),p=Jt(),v=f.filter(j=>j.clientId===t.id),g=p.filter(j=>v.some(x=>x.id===j.projectId));i(v),o(g),c(!1)},[t]);E.useEffect(()=>{if(!e){r("/login");return}if(!t||t.role!=="client"){r("/dashboard");return}u()},[t,e,r,u]);const d=E.useMemo(()=>n.filter(f=>f.status==="active"),[n]),h=E.useMemo(()=>n.filter(f=>f.status==="completed"),[n]);return E.useMemo(()=>a.filter(f=>f.status==="open"||f.status==="in_progress"),[a]),E.useMemo(()=>a.filter(f=>f.status==="resolved"),[a]),l?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx("button",{onClick:()=>r("/dashboard"),className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Analytics"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track the progress of your website development projects and manage support tickets"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:n.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Support Tickets"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"My Projects"}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(f=>s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="active"?"bg-green-100 text-green-800":f.status==="completed"?"bg-blue-100 text-blue-800":f.status==="paused"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:f.description}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Current Stage: ",s.jsx("span",{className:"capitalize",children:f.currentStage})]}),s.jsx("a",{href:`/analytics/${f.id}`,className:"text-primary hover:underline",children:"View Progress"})]})]},f.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No projects assigned yet."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Support Tickets"}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary text-sm",children:"New Ticket"})]}),a.length>0?s.jsxs("div",{className:"space-y-3",children:[a.slice(0,5).map(f=>{const p=n.find(v=>v.id===f.projectId);return s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-foreground",children:f.title}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.status==="open"?"bg-red-100 text-red-800":f.status==="in_progress"?"bg-yellow-100 text-yellow-800":f.status==="resolved"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:f.status.replace("_"," ")})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[p==null?void 0:p.name,"  ",it(f.createdAt,"MMM dd, yyyy")]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${f.priority==="critical"?"bg-red-100 text-red-800":f.priority==="high"?"bg-orange-100 text-orange-800":f.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:f.priority})})]},f.id)}),a.length>5&&s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["+",a.length-5," more tickets"]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No support tickets yet."}),s.jsx("a",{href:"/client/tickets/new",className:"btn-primary",children:"Create First Ticket"})]})]})]})]})}),s.jsx(me,{})]})}const D0e=[{id:"event-1",title:"SpecCon Website Launch Meeting",description:"Final review before launch",eventType:"meeting",priority:"high",startDate:new Date(2025,0,15,10,0),endDate:new Date(2025,0,15,11,30),allDay:!1,location:"Conference Room A",attendees:["user-1","user-2","user-3","user-5"],organizerId:"user-1",projectId:"proj-1",isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"confirmed",notes:"Please review final designs before meeting",createdAt:new Date,updatedAt:new Date},{id:"event-2",title:"Andebe Platform Deadline",description:"Development completion deadline",eventType:"deadline",priority:"critical",startDate:new Date(2025,0,20),endDate:new Date(2025,0,20),allDay:!0,attendees:["user-2","user-3"],organizerId:"user-1",projectId:"proj-2",isRecurring:!1,recurrenceType:"none",reminderMinutes:1440,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-3",title:"Client Presentation - Megrolowveld",description:"Present design concepts to client",eventType:"presentation",priority:"high",startDate:new Date(2025,0,18,14,0),endDate:new Date(2025,0,18,15,30),allDay:!1,location:"Virtual Meeting",attendees:["user-1","user-4","user-5","user-6"],organizerId:"user-1",projectId:"proj-3",isRecurring:!1,recurrenceType:"none",reminderMinutes:30,status:"scheduled",createdAt:new Date,updatedAt:new Date},{id:"event-4",title:"Weekly Team Standup",description:"Weekly progress update and planning",eventType:"meeting",priority:"medium",startDate:new Date(2025,0,16,9,0),endDate:new Date(2025,0,16,9,30),allDay:!1,location:"Main Conference Room",attendees:["user-1","user-2","user-3","user-4"],organizerId:"user-1",isRecurring:!0,recurrenceType:"weekly",recurrenceEndDate:new Date(2025,11,31),reminderMinutes:5,status:"confirmed",createdAt:new Date,updatedAt:new Date}];function R0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState(new Date),[a,o]=E.useState("month"),[l,c]=E.useState(D0e),[u,d]=E.useState(()=>ct()),[h,f]=E.useState(()=>Te()),[p,v]=E.useState(null),[g,j]=E.useState(!1),[x,y]=E.useState({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""});E.useEffect(()=>{if(!e){r("/login");return}},[e,r]),E.useEffect(()=>{localStorage.setItem("marketing_management_website_events",JSON.stringify(l))},[l]);const b=R=>l.filter(V=>(V.allDay,tP(V.startDate,R))),_=()=>{const R=r5(n),V=jbe(n),L=ss(R),F=sP(V);return nP({start:L,end:F}).map(Y=>({date:Y,events:b(Y)}))},w=()=>{const R=ss(n),V=sP(n);return nP({start:R,end:V}).map(F=>({date:F,events:b(F)}))},N=()=>{i(a==="month"?R=>N0e(R):a==="week"?R=>_0e(R):R=>Yp(R,-1))},k=()=>{i(a==="month"?R=>ZR(R,1):a==="week"?R=>t5(R,1):R=>Yp(R,1))},S=()=>{i(new Date)},T=()=>{if(!x.title.trim()){alert("Please enter an event title");return}if(!x.startDate){alert("Please select a start date");return}const R=new Date(`${x.startDate}T${x.startTime||"00:00"}`),V=new Date(`${x.endDate||x.startDate}T${x.endTime||"23:59"}`),L={id:`event-${Date.now()}`,title:x.title,description:x.description||void 0,eventType:x.eventType,priority:x.priority,startDate:R,endDate:V,allDay:!x.startTime&&!x.endTime,location:x.location||void 0,attendees:[(t==null?void 0:t.id)||"user-1"],organizerId:(t==null?void 0:t.id)||"user-1",projectId:x.projectId||void 0,isRecurring:!1,recurrenceType:"none",reminderMinutes:15,status:"scheduled",createdAt:new Date,updatedAt:new Date};c(F=>[...F,L]),j(!1),y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""})},O=()=>{y({title:"",eventType:"meeting",priority:"medium",startDate:"",startTime:"",endDate:"",endTime:"",location:"",description:"",projectId:""}),j(!0)},C=R=>({meeting:"bg-primary/10 text-primary border-primary/20",deadline:"bg-red-100 text-red-800 border-red-200",milestone:"bg-green-100 text-green-800 border-green-200",review:"bg-purple-100 text-purple-800 border-purple-200",maintenance:"bg-yellow-100 text-yellow-800 border-yellow-200",kickoff:"bg-indigo-100 text-indigo-800 border-indigo-200",presentation:"bg-pink-100 text-pink-800 border-pink-200"})[R]||"bg-gray-100 text-gray-800 border-gray-200",I=R=>({low:"border-l-4 border-l-green-500",medium:"border-l-4 border-l-yellow-500",high:"border-l-4 border-l-orange-500",critical:"border-l-4 border-l-red-500"})[R]||"",M=R=>{if(!R)return null;const V=u.find(L=>L.id===R);return V==null?void 0:V.name},B=R=>R.map(V=>{const L=h.find(F=>F.id===V);return(L==null?void 0:L.fullName)||"Unknown"}).join(", "),U=R=>R.allDay?"All Day":`${it(R.startDate,"h:mm a")} - ${it(R.endDate,"h:mm a")}`;return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Calendar"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Schedule meetings, track deadlines, and manage project timelines"})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:O,className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:N,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsxs("h2",{className:"text-xl font-semibold text-foreground min-w-[200px] text-center",children:[a==="month"&&it(n,"MMMM yyyy"),a==="week"&&`Week of ${it(ss(n),"MMM dd")}`,a==="day"&&it(n,"EEEE, MMMM dd, yyyy")]}),s.jsx("button",{onClick:k,className:"p-2 rounded-lg hover:bg-muted transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("button",{onClick:S,className:"btn-outline px-4 py-2",children:"Today"})]}),s.jsx("div",{className:"flex bg-muted rounded-lg p-1",children:[{value:"month",label:"Month"},{value:"week",label:"Week"},{value:"day",label:"Day"}].map(R=>s.jsx("button",{onClick:()=>o(R.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${a===R.value?"bg-white dark:bg-gray-700 text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:R.label},R.value))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[a==="month"&&s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-px mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(R=>s.jsx("div",{className:"p-3 text-center font-semibold text-muted-foreground text-sm",children:R},R))}),s.jsx("div",{className:"grid grid-cols-7 gap-px",children:_().map(({date:R,events:V},L)=>s.jsxs("div",{className:`min-h-[120px] p-2 border border-border/20 ${w0e(R,n)?"bg-background":"bg-muted/30"}`,children:[s.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:it(R,"d")}),s.jsxs("div",{className:"space-y-1",children:[V.slice(0,3).map(F=>s.jsxs("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 transition-opacity ${C(F.eventType)} ${I(F.priority)}`,onClick:()=>v(F),children:[s.jsx("div",{className:"font-medium truncate",children:F.title}),!F.allDay&&s.jsx("div",{className:"text-xs opacity-75",children:it(F.startDate,"h:mm a")})]},F.id)),V.length>3&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",V.length-3," more"]})]})]},L))})]}),a==="week"&&s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:w().map(({date:R,events:V})=>s.jsxs("div",{className:"border border-border/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-foreground mb-3",children:it(R,"EEEE, MMMM dd")}),s.jsx("div",{className:"space-y-2",children:V.length>0?V.map(L=>s.jsx("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${C(L.eventType)} ${I(L.priority)}`,onClick:()=>v(L),children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:L.title}),s.jsx("p",{className:"text-sm opacity-75",children:U(L)}),L.location&&s.jsxs("p",{className:"text-sm opacity-75",children:[" ",L.location]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${C(L.eventType)}`,children:L.eventType})})]})},L.id)):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events scheduled"})})]},R.toISOString()))})}),a==="day"&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-6",children:it(n,"EEEE, MMMM dd, yyyy")}),s.jsx("div",{className:"space-y-4",children:b(n).length>0?b(n).map(R=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-shadow ${C(R.eventType)} ${I(R.priority)}`,onClick:()=>v(R),children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"text-lg font-semibold",children:R.title}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${C(R.eventType)}`,children:R.eventType})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Time"}),s.jsx("p",{className:"text-sm",children:U(R)})]}),R.location&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Location"}),s.jsx("p",{className:"text-sm",children:R.location})]})]}),R.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Description"}),s.jsx("p",{className:"text-sm",children:R.description})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Attendees"}),s.jsx("p",{className:"text-sm",children:B(R.attendees)})]}),R.projectId&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:"Project"}),s.jsx("p",{className:"text-sm",children:M(R.projectId)})]})]})]},R.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No events scheduled for this day"})]})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-3"}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Upcoming Events"}),s.jsx("div",{className:"space-y-3",children:l.filter(R=>R.startDate>=new Date).sort((R,V)=>R.startDate.getTime()-V.startDate.getTime()).slice(0,5).map(R=>s.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer hover:opacity-90 transition-opacity ${C(R.eventType)} ${I(R.priority)}`,onClick:()=>v(R),children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:R.title}),s.jsxs("p",{className:"text-xs opacity-75",children:[it(R.startDate,"MMM dd"),"  ",U(R)]}),R.location&&s.jsxs("p",{className:"text-xs opacity-75",children:[" ",R.location]})]},R.id))}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Legend"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),s.jsx("span",{children:"Meeting"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Deadline"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Milestone"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded"}),s.jsx("span",{children:"Review"})]})]})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Create New Event"}),s.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Title"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event title",value:x.title,onChange:R=>y(V=>({...V,title:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Event Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.eventType,onChange:R=>y(V=>({...V,eventType:R.target.value})),children:[s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"deadline",children:"Deadline"}),s.jsx("option",{value:"presentation",children:"Presentation"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"milestone",children:"Milestone"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.startDate,onChange:R=>y(V=>({...V,startDate:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Start Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.startTime,onChange:R=>y(V=>({...V,startTime:R.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.endDate,onChange:R=>y(V=>({...V,endDate:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"End Time"}),s.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.endTime,onChange:R=>y(V=>({...V,endTime:R.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Location"}),s.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Event location",value:x.location,onChange:R=>y(V=>({...V,location:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",rows:3,placeholder:"Event description",value:x.description,onChange:R=>y(V=>({...V,description:R.target.value}))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Priority"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.priority,onChange:R=>y(V=>({...V,priority:R.target.value})),children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:x.projectId,onChange:R=>y(V=>({...V,projectId:R.target.value})),children:[s.jsx("option",{value:"",children:"Select project"}),u.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>j(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:T,className:"btn-primary px-6 py-2",children:"Create Event"})]})]})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-background rounded-xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:p.title}),s.jsx("button",{onClick:()=>v(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Date & Time"}),s.jsx("p",{className:"text-foreground",children:it(p.startDate,"EEEE, MMMM dd, yyyy")}),s.jsx("p",{className:"text-muted-foreground",children:U(p)})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Type & Priority"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded ${C(p.eventType)}`,children:p.eventType}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${p.priority==="critical"?"bg-red-100 text-red-800":p.priority==="high"?"bg-orange-100 text-orange-800":p.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.priority})]})]})]}),p.location&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Location"}),s.jsxs("p",{className:"text-foreground",children:[" ",p.location]})]}),p.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),s.jsx("p",{className:"text-foreground",children:p.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Attendees"}),s.jsx("p",{className:"text-foreground",children:B(p.attendees)})]}),p.projectId&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Related Project"}),s.jsx("p",{className:"text-foreground",children:M(p.projectId)})]}),p.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Notes"}),s.jsx("p",{className:"text-foreground",children:p.notes})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:s.jsx("button",{onClick:()=>v(null),className:"btn-outline px-6 py-2",children:"Close"})})]})]})})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const L0e=[{id:"timer-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Working on homepage hero image update",entryType:"development",startTime:new Date,status:"running",accumulatedTime:0,isBillable:!0,hourlyRate:75,tags:["frontend","design"]}],$0e=[{id:"entry-1",userId:"user-2",projectId:"proj-1",ticketId:"ticket-1",description:"Homepage hero image implementation",entryType:"development",startTime:new Date(Date.now()-2*60*60*1e3),endTime:new Date(Date.now()-1*60*60*1e3),duration:60,isBillable:!0,hourlyRate:75,tags:["frontend","design"],createdAt:new Date,updatedAt:new Date},{id:"entry-2",userId:"user-3",projectId:"proj-2",description:"Client meeting - Andebe platform requirements",entryType:"meeting",startTime:new Date(Date.now()-24*60*60*1e3),endTime:new Date(Date.now()-23.5*60*60*1e3),duration:30,isBillable:!0,hourlyRate:85,tags:["meeting","client"],createdAt:new Date,updatedAt:new Date}];function V0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState(null),[a,o]=E.useState(L0e),l=E.useMemo(()=>$0e,[]),[c,u]=E.useState(l),[d,h]=E.useState([]),[f,p]=E.useState([]),[v,g]=E.useState([]),[j,x]=E.useState(new Date),[y,b]=E.useState("week"),[_,w]=E.useState({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""});E.useEffect(()=>{if(!e){r("/login");return}h(ct()),p(Jt()),g(Te());const R=setInterval(()=>{x(new Date)},1e3);return()=>clearInterval(R)},[e,r]);const N=R=>{const V=new Date(R.startTime);return rP(j,V)},k=R=>{const V=Math.floor(R/60),L=R%60;return`${V.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},S=()=>{if(!t||!_.description.trim())return;const R={id:`timer-${Date.now()}`,userId:t.id,projectId:_.projectId||void 0,ticketId:_.ticketId||void 0,description:_.description,entryType:_.entryType,startTime:new Date,status:"running",accumulatedTime:0,isBillable:_.isBillable,tags:_.tags.split(",").map(V=>V.trim()).filter(V=>V)};i(R),o(V=>[R,...V])},T=()=>{if(!n||!t)return;const R=new Date,V=rP(R,new Date(n.startTime)),L={id:`entry-${Date.now()}`,userId:t.id,projectId:n.projectId,ticketId:n.ticketId,description:n.description,entryType:n.entryType,startTime:n.startTime,endTime:R,duration:V,isBillable:n.isBillable,hourlyRate:n.hourlyRate,tags:n.tags,createdAt:new Date,updatedAt:new Date};u(F=>[L,...F]),i(null),o(F=>F.filter(H=>H.id!==n.id)),w({projectId:"",ticketId:"",description:"",entryType:"development",isBillable:!0,tags:""})},O=()=>{const R=new Date;let V;switch(y){case"today":V=new Date(R.getFullYear(),R.getMonth(),R.getDate());break;case"week":V=ss(R);break;case"month":V=r5(R);break;default:V=ss(R)}return c.filter(L=>new Date(L.startTime)>=V&&L.userId===(t==null?void 0:t.id))},C=R=>{const V=R.reduce((H,Y)=>H+Y.duration,0),L=R.filter(H=>H.isBillable).reduce((H,Y)=>H+Y.duration,0),F=R.filter(H=>H.isBillable&&H.hourlyRate).reduce((H,Y)=>H+Y.duration/60*(Y.hourlyRate||0),0);return{totalHours:Math.round(V/60*100)/100,billableHours:Math.round(L/60*100)/100,totalAmount:Math.round(F*100)/100}},I=O(),M=C(I),B=R=>{if(!R)return"No Project";const V=d.find(L=>L.id===R);return(V==null?void 0:V.name)||"Unknown Project"},U=R=>{if(!R)return null;const V=f.find(L=>L.id===R);return V==null?void 0:V.title};return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Time Tracking"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Track your work hours, monitor productivity, and manage billable time"})]}),s.jsx("div",{className:"flex gap-2",children:[{value:"today",label:"Today"},{value:"week",label:"This Week"},{value:"month",label:"This Month"}].map(R=>s.jsx("button",{onClick:()=>b(R.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y===R.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:R.label},R.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:n?"Active Timer":"Start Tracking Time"}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-mono font-bold text-primary mb-4",children:k(N(n))}),s.jsx("div",{className:"text-lg text-muted-foreground mb-2",children:n.description}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Project: ",B(n.projectId),n.ticketId&&s.jsxs("span",{children:["  Ticket: ",U(n.ticketId)]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:T,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),s.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),"Stop Timer"]})})]}):s.jsxs("form",{onSubmit:R=>{R.preventDefault(),S()},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project"}),s.jsxs("select",{value:_.projectId,onChange:R=>w(V=>({...V,projectId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Project (Optional)"}),d.map(R=>s.jsx("option",{value:R.id,children:R.name},R.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Ticket"}),s.jsxs("select",{value:_.ticketId,onChange:R=>w(V=>({...V,ticketId:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select Ticket (Optional)"}),f.filter(R=>!_.projectId||R.projectId===_.projectId).map(R=>s.jsx("option",{value:R.id,children:R.title},R.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("input",{type:"text",value:_.description,onChange:R=>w(V=>({...V,description:R.target.value})),placeholder:"What are you working on?",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Activity Type"}),s.jsxs("select",{value:_.entryType,onChange:R=>w(V=>({...V,entryType:R.target.value})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"development",children:"Development"}),s.jsx("option",{value:"design",children:"Design"}),s.jsx("option",{value:"meeting",children:"Meeting"}),s.jsx("option",{value:"review",children:"Review"}),s.jsx("option",{value:"planning",children:"Planning"}),s.jsx("option",{value:"testing",children:"Testing"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"billable",checked:_.isBillable,onChange:R=>w(V=>({...V,isBillable:R.target.checked})),className:"w-4 h-4 rounded border-border"}),s.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-foreground",children:"Billable"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Tags"}),s.jsx("input",{type:"text",value:_.tags,onChange:R=>w(V=>({...V,tags:R.target.value})),placeholder:"frontend, backend, etc.",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground placeholder-muted-foreground"})]})]}),s.jsxs("button",{type:"submit",className:"w-full btn-primary py-3",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("polygon",{points:"10,8 16,12 10,16 10,8"})]}),"Start Timer"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4",children:["This ",y.charAt(0).toUpperCase()+y.slice(1)]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Hours"}),s.jsxs("span",{className:"text-xl font-bold text-foreground",children:[M.totalHours,"h"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Billable Hours"}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:[M.billableHours,"h"]})]}),M.totalAmount>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Value"}),s.jsxs("span",{className:"text-xl font-bold text-primary",children:["$",M.totalAmount]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Stats"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Entries"}),s.jsx("span",{className:"text-sm font-medium",children:I.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg per day"}),s.jsxs("span",{className:"text-sm font-medium",children:[y==="week"?Math.round(M.totalHours/7*10)/10:y==="month"?Math.round(M.totalHours/30*10)/10:Math.round(M.totalHours*10)/10,"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Most active project"}),s.jsx("span",{className:"text-sm font-medium",children:I.length>0?B(I[0].projectId):"None"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-border/50",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Time Entries"}),s.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of your tracked time"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-muted/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Description"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Project"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Type"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Duration"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-6 font-semibold text-foreground",children:"Billable"})]})}),s.jsxs("tbody",{children:[I.map((R,V)=>s.jsxs("tr",{className:V%2===0?"bg-background":"bg-muted/30",children:[s.jsx("td",{className:"py-3 px-6",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:R.description}),R.tags.length>0&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[R.tags.slice(0,2).map(L=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:L},L)),R.tags.length>2&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",R.tags.length-2]})]})]})}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:B(R.projectId)}),s.jsx("td",{className:"py-3 px-6",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.entryType==="development"?"bg-primary/10 text-primary":R.entryType==="design"?"bg-purple-100 text-purple-800":R.entryType==="meeting"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.entryType})}),s.jsxs("td",{className:"py-3 px-6 font-medium",children:[Math.floor(R.duration/60),"h ",R.duration%60,"m"]}),s.jsx("td",{className:"py-3 px-6 text-muted-foreground",children:it(new Date(R.startTime),"MMM dd")}),s.jsx("td",{className:"py-3 px-6",children:R.isBillable?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-muted-foreground",children:""})})]},R.id)),I.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-12 text-center text-muted-foreground",children:"No time entries found for the selected period"})})]})]})})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const F0e=[{id:"template-1",name:"Basic Business Website",description:"A professional website for small businesses including homepage, about, services, and contact pages.",category:"website",estimatedDuration:21,estimatedBudget:3500,difficulty:"beginner",tags:["business","professional","responsive"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Design",description:"Wireframes, mockups, and design approval",order:1,estimatedDuration:7,dependencies:[],deliverables:["design-mockups","wireframes"]},{id:"phase-2",name:"Development",description:"Website coding and implementation",order:2,estimatedDuration:10,dependencies:["phase-1"],deliverables:["homepage","about-page","services-page","contact-page"]},{id:"phase-3",name:"Testing & Launch",description:"Quality assurance and deployment",order:3,estimatedDuration:4,dependencies:["phase-2"],deliverables:["testing-report","live-website"]}],deliverables:[{id:"design-mockups",name:"Design Mockups",description:"Visual design concepts for all pages",phaseId:"phase-1",type:"design",estimatedHours:16,isRequired:!0},{id:"wireframes",name:"Wireframes",description:"Page structure and layout planning",phaseId:"phase-1",type:"design",estimatedHours:8,isRequired:!0},{id:"homepage",name:"Homepage",description:"Main landing page with hero section",phaseId:"phase-2",type:"code",estimatedHours:12,isRequired:!0},{id:"about-page",name:"About Page",description:"Company information and team section",phaseId:"phase-2",type:"code",estimatedHours:8,isRequired:!0},{id:"services-page",name:"Services Page",description:"Business services and offerings",phaseId:"phase-2",type:"code",estimatedHours:10,isRequired:!0},{id:"contact-page",name:"Contact Page",description:"Contact form and business information",phaseId:"phase-2",type:"code",estimatedHours:6,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:36,skills:["HTML","CSS","JavaScript","React"]},{id:"role-2",role:"social_media_coordinator",required:!1,estimatedHours:8,skills:["Social Media","Content Creation"]}],checklists:[]},{id:"template-2",name:"E-commerce Website",description:"Complete online store with product catalog, shopping cart, and payment integration.",category:"ecommerce",estimatedDuration:35,estimatedBudget:8500,difficulty:"intermediate",tags:["ecommerce","shopping","payments"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Planning & Requirements",description:"Product analysis and technical planning",order:1,estimatedDuration:5,dependencies:[],deliverables:["requirements-doc","tech-spec"]},{id:"phase-2",name:"Design & UI/UX",description:"User interface and experience design",order:2,estimatedDuration:8,dependencies:["phase-1"],deliverables:["ui-design","user-flows"]},{id:"phase-3",name:"Development",description:"Full-stack development and integration",order:3,estimatedDuration:18,dependencies:["phase-2"],deliverables:["frontend-code","backend-api","database-setup","payment-integration"]},{id:"phase-4",name:"Testing & Deployment",description:"Quality assurance and production launch",order:4,estimatedDuration:4,dependencies:["phase-3"],deliverables:["testing-report","live-site"]}],deliverables:[{id:"requirements-doc",name:"Requirements Document",description:"Detailed project requirements and specifications",phaseId:"phase-1",type:"document",estimatedHours:16,isRequired:!0},{id:"ui-design",name:"UI Design System",description:"Complete design system and component library",phaseId:"phase-2",type:"design",estimatedHours:24,isRequired:!0}],teamRoles:[{id:"role-1",role:"web_developer",required:!0,estimatedHours:80,skills:["React","Node.js","Database","API Development"]}],checklists:[]},{id:"template-3",name:"Social Media Campaign",description:"Complete social media strategy and content creation for brand awareness.",category:"social_media",estimatedDuration:28,estimatedBudget:4200,difficulty:"intermediate",tags:["social","content","branding"],isPublic:!0,createdBy:"user-1",createdAt:new Date,updatedAt:new Date,phases:[{id:"phase-1",name:"Strategy & Planning",description:"Audience analysis and campaign strategy",order:1,estimatedDuration:7,dependencies:[],deliverables:["strategy-doc","content-calendar"]},{id:"phase-2",name:"Content Creation",description:"Design and create social media content",order:2,estimatedDuration:14,dependencies:["phase-1"],deliverables:["social-posts","graphics","videos"]},{id:"phase-3",name:"Launch & Monitoring",description:"Campaign execution and performance tracking",order:3,estimatedDuration:7,dependencies:["phase-2"],deliverables:["campaign-report","analytics"]}],deliverables:[],teamRoles:[{id:"role-1",role:"social_media_coordinator",required:!0,estimatedHours:56,skills:["Social Media","Content Creation","Graphic Design","Analytics"]}],checklists:[]}];function B0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState(F0e),[a,o]=E.useState("all"),[l,c]=E.useState("all"),[u,d]=E.useState(null);E.useEffect(()=>{if(!e){r("/login");return}},[e,r]);const h=[{value:"all",label:"All Categories"},{value:"website",label:"Website"},{value:"social_media",label:"Social Media"},{value:"ecommerce",label:"E-commerce"},{value:"branding",label:"Branding"},{value:"mobile",label:"Mobile App"}],f=[{value:"all",label:"All Levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}],p=n.filter(j=>{const x=a==="all"||j.category===a,y=l==="all"||j.difficulty===l;return x&&y}),v=j=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800",g=j=>({website:"bg-primary/10 text-primary",social_media:"bg-pink-100 text-pink-800",ecommerce:"bg-purple-100 text-purple-800",branding:"bg-orange-100 text-orange-800",mobile:"bg-indigo-100 text-indigo-800",custom:"bg-gray-100 text-gray-800"})[j]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Project Templates"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Jumpstart your projects with professionally designed templates and predefined workflows"})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:j=>o(j.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Difficulty"}),s.jsx("select",{value:l,onChange:j=>c(j.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))})]}),t.role==="admin"&&s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{className:"btn-primary px-6 py-2",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Template"]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(j=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>d(j),children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors",children:j.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${v(j.difficulty)}`,children:j.difficulty})]}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4 leading-relaxed",children:j.description})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g(j.category)}`,children:j.category.replace("_"," ")}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[j.phases.length," phases"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:[j.estimatedDuration," days"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Budget:"}),s.jsxs("span",{className:"font-medium text-foreground ml-1",children:["$",j.estimatedBudget.toLocaleString()]})]})]}),s.jsxs("div",{className:"pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[j.tags.slice(0,3).map(x=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:x},x)),j.tags.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",j.tags.length-3," more"]})]}),s.jsx("button",{className:"w-full btn-primary py-2 text-sm",children:"Use This Template"})]})]})]},j.id))}),p.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No templates found matching your criteria"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try adjusting your filters or create a custom template"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-foreground mb-2",children:u.name}),s.jsx("p",{className:"text-muted-foreground",children:u.description})]}),s.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Duration"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[u.estimatedDuration," days"]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Estimated Budget"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",u.estimatedBudget.toLocaleString()]})]}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Difficulty"}),s.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${v(u.difficulty)}`,children:u.difficulty})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Project Phases"}),s.jsx("div",{className:"space-y-4",children:u.phases.map((j,x)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold text-sm",children:x+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-foreground",children:j.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:j.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Duration: ",s.jsxs("span",{className:"font-medium text-foreground",children:[j.estimatedDuration," days"]})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Deliverables: ",s.jsx("span",{className:"font-medium text-foreground",children:j.deliverables.length})]})]})]})]},j.id))})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Team Requirements"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.teamRoles.map(j=>s.jsxs("div",{className:"p-4 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-foreground capitalize",children:j.role.replace("_"," ")}),j.required&&s.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Required"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Est. ",j.estimatedHours," hours"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j.skills.map(x=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:x},x))})]},j.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>d(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Use This Template"})]})]})})})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function U0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState("30d"),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState([]),[h,f]=E.useState([]),[p,v]=E.useState([]);E.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}o(ct()),c(Jt()),d(Te()),f(lw()),v(no())},[e,t,r]);const j=(()=>{const T=i5(new Date,n==="7d"?7:n==="30d"?30:n==="90d"?90:365);return{recentTickets:l.filter(O=>new Date(O.createdAt)>=T),recentProjects:a.filter(O=>new Date(O.createdAt)>=T),recentWebsite:h.filter(O=>new Date(O.date)>=T),recentSocial:p.filter(O=>new Date(O.date)>=T)}})(),x={totalProjects:a.length,activeProjects:a.filter(S=>S.status==="active").length,completedProjects:a.filter(S=>S.status==="completed").length,projectCompletionRate:a.length>0?Math.round(a.filter(S=>S.status==="completed").length/a.length*100):0,totalTickets:j.recentTickets.length,openTickets:j.recentTickets.filter(S=>S.status==="open"||S.status==="in_progress").length,resolvedTickets:j.recentTickets.filter(S=>S.status==="resolved").length,avgResolutionTime:2.4,totalPageViews:j.recentWebsite.reduce((S,T)=>S+T.pageViews,0),uniqueVisitors:j.recentWebsite.length>0?Math.round(j.recentWebsite.reduce((S,T)=>S+T.uniqueVisitors,0)/j.recentWebsite.length):0,avgBounceRate:j.recentWebsite.length>0?Math.round(j.recentWebsite.reduce((S,T)=>S+T.bounceRate,0)/j.recentWebsite.length):0,totalReach:j.recentSocial.reduce((S,T)=>S+T.reach,0),totalEngagement:j.recentSocial.reduce((S,T)=>S+T.engagement,0),engagementRate:j.recentSocial.length>0?Math.round(j.recentSocial.reduce((S,T)=>S+T.engagement,0)/j.recentSocial.reduce((S,T)=>S+T.reach,0)*100):0,totalUsers:u.length,activeUsers:u.filter(S=>S.isActive).length,teamUtilization:78,totalRevenue:156750,avgProjectValue:Math.round(a.reduce((S,T)=>S+3500,0)/a.length),profitMargin:32},y={revenue:[{month:"Jan",value:12500},{month:"Feb",value:15200},{month:"Mar",value:18900},{month:"Apr",value:22100},{month:"May",value:25800},{month:"Jun",value:31200}],projects:[{month:"Jan",value:8},{month:"Feb",value:12},{month:"Mar",value:15},{month:"Apr",value:18},{month:"May",value:22},{month:"Jun",value:25}]},b=a.filter(S=>S.status==="active").sort((S,T)=>new Date(T.updatedAt).getTime()-new Date(S.updatedAt).getTime()).slice(0,5),_=[{type:"project",action:"completed",item:"SpecCon Website",time:"2 hours ago"},{type:"ticket",action:"resolved",item:"Mobile navigation fix",time:"4 hours ago"},{type:"meeting",action:"scheduled",item:"Client presentation",time:"6 hours ago"},{type:"user",action:"joined",item:"Jane Smith",time:"1 day ago"},{type:"analytics",action:"reported",item:"Website traffic up 15%",time:"2 days ago"}],w=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(S),N=S=>({project:"",ticket:"",meeting:"",user:"",analytics:""})[S]||"",k=S=>({project:"text-primary",ticket:"text-green-600",meeting:"text-purple-600",user:"text-orange-600",analytics:"text-indigo-600"})[S]||"text-gray-600";return!t||t.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Executive Dashboard"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Comprehensive business overview and performance insights"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"btn-outline px-4 py-2",children:"Export Report"}),s.jsx("button",{className:"btn-primary px-4 py-2",children:"Schedule Meeting"})]})]}),s.jsx("div",{className:"flex gap-2 mb-8",children:[{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"},{value:"90d",label:"Last 90 Days"},{value:"1y",label:"Last Year"}].map(S=>s.jsx("button",{onClick:()=>i(S.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===S.value?"bg-primary text-white":"bg-white dark:bg-gray-800 border border-border hover:bg-muted"}`,children:S.label},S.value))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:w(x.totalRevenue)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+18% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:x.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[x.projectCompletionRate,"% completion rate"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:x.totalPageViews.toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Page Views"}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+23% vs last period"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[x.teamUtilization,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Team Utilization"}),s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[x.activeUsers,"/",x.totalUsers," active members"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Performance Trends"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Revenue Growth"}),s.jsx("span",{className:"text-sm text-green-600",children:"+18%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.revenue.map((S,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${S.value/35e3*60}px`}},S.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.revenue.map(S=>s.jsx("span",{children:S.month},S.month))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Project Delivery"}),s.jsx("span",{className:"text-sm text-primary",children:"+25%"})]}),s.jsx("div",{className:"flex gap-1 mb-2",children:y.projects.map((S,T)=>s.jsx("div",{className:"flex-1 bg-primary/20 rounded-sm",style:{height:`${S.value/30*60}px`}},S.month))}),s.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:y.projects.map(S=>s.jsx("span",{children:S.month},S.month))})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Active Projects"}),s.jsx("div",{className:"space-y-4",children:b.map((S,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-border/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:T+1})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:S.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.currentStage,"  ",S.projectType]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S.status==="active"?"bg-green-100 text-green-800":S.status==="completed"?"bg-success/10 text-success":"bg-yellow-100 text-yellow-800"}`,children:S.status})})]},S.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:_.map((S,T)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-xl",children:N(S.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:`font-medium ${k(S.type)}`,children:S.action.charAt(0).toUpperCase()+S.action.slice(1)})," "+S.item]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.time})]})]},T))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full btn-primary text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),s.jsxs("button",{className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Send Message"]}),s.jsxs(q,{to:"/analytics",className:"w-full btn-outline text-left py-3 px-4 rounded-lg",children:[s.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analytics"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Key Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Resolution Time"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[x.avgResolutionTime,"d"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Engagement Rate"}),s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[x.engagementRate,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profit Margin"}),s.jsxs("span",{className:"text-sm font-medium text-green-600",children:[x.profitMargin,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Client Satisfaction"}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:"4.8/5.0"})]})]})]})]})]})]})}),s.jsx(me,{})]})}function z0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),n=E.useMemo(()=>[{id:"notif-1",type:"project",title:"Project Status Updated",message:"SpecCon website project has moved to the testing phase",read:!1,createdAt:new Date(Date.now()-1e3*60*30),actionUrl:"/client-portal/project/proj-1",priority:"medium",sender:"John Developer",metadata:{projectId:"proj-1",oldStatus:"development",newStatus:"testing"}},{id:"notif-2",type:"deadline",title:"Upcoming Deadline",message:"Andebe platform development deadline is approaching (2 days remaining)",read:!1,createdAt:new Date(Date.now()-1e3*60*60*2),actionUrl:"/calendar",priority:"high",metadata:{projectId:"proj-2",deadline:new Date(Date.now()+1e3*60*60*24*2)}},{id:"notif-3",type:"message",title:"New Message from Client",message:"Emma Business sent you a message about the Venueideas project",read:!0,createdAt:new Date(Date.now()-1e3*60*60*4),actionUrl:"/messages",priority:"medium",sender:"Emma Business",metadata:{messageId:"message-6",projectId:"proj-10"}},{id:"notif-4",type:"meeting",title:"Meeting Reminder",message:"Client presentation meeting starts in 1 hour",read:!1,createdAt:new Date(Date.now()-1e3*60*15),actionUrl:"/calendar",priority:"urgent",metadata:{meetingId:"event-3",startTime:new Date(Date.now()+1e3*60*45)}},{id:"notif-5",type:"ticket",title:"Ticket Assigned",message:"New bug report assigned to you: Mobile navigation issue",read:!0,createdAt:new Date(Date.now()-1e3*60*60*6),actionUrl:"/developer/tickets",priority:"high",sender:"Admin User",metadata:{ticketId:"ticket-2",priority:"high"}},{id:"notif-6",type:"system",title:"System Maintenance",message:"Scheduled maintenance will begin tonight at 10 PM",read:!0,createdAt:new Date(Date.now()-1e3*60*60*24),priority:"low",metadata:{maintenanceStart:new Date(Date.now()+1e3*60*60*2)}}],[]),[i,a]=E.useState(n),[o,l]=E.useState("all"),[c,u]=E.useState("all");E.useEffect(()=>{const y=setInterval(()=>{if(Math.random()<.1){const b={id:`notif-${Date.now()}`,type:["project","ticket","message","deadline"][Math.floor(Math.random()*4)],title:"New Activity",message:"Something happened in your workspace",read:!1,createdAt:new Date,priority:["low","medium","high","urgent"][Math.floor(Math.random()*4)]};a(_=>[b,..._])}},5e3);return()=>clearInterval(y)},[]);const d=i.filter(y=>{const b=o==="all"||o==="unread"&&!y.read||o==="read"&&y.read,_=c==="all"||y.type===c;return b&&_}),h=i.filter(y=>!y.read).length,f=y=>{a(b=>b.map(_=>_.id===y?{..._,read:!0}:_))},p=()=>{a(y=>y.map(b=>({...b,read:!0})))},v=y=>{a(b=>b.filter(_=>_.id!==y))},g=y=>({project:"",ticket:"",message:"",deadline:"",meeting:"",system:""})[y]||"",j=y=>({low:"border-l-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-l-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-l-red-500 bg-red-50 dark:bg-red-900/20"})[y]||"border-l-gray-500 bg-gray-50 dark:bg-gray-900/20",x=y=>{const _=Math.floor((new Date().getTime()-y.getTime())/(1e3*60));if(_<1)return"Just now";if(_<60)return`${_}m ago`;const w=Math.floor(_/60);if(w<24)return`${w}h ago`;const N=Math.floor(w/24);return N<7?`${N}d ago`:it(y,"MMM dd")};return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:"Notifications"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Stay updated with real-time activity and important alerts",h>0&&s.jsxs("span",{className:"inline-flex items-center gap-2 ml-3 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm font-medium",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15l-4-4 1.41-1.41L11 14.17l6.59-6.59L19 9l-8 8z"})}),h," unread"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[h>0&&s.jsx("button",{onClick:p,className:"btn-outline",children:"Mark All Read"}),s.jsx("button",{className:"btn-primary",children:"Notification Settings"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Status:"}),[{value:"all",label:"All"},{value:"unread",label:"Unread"},{value:"read",label:"Read"}].map(y=>s.jsx("button",{onClick:()=>l(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${o===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-foreground mr-2",children:"Type:"}),[{value:"all",label:"All Types"},{value:"project",label:"Projects"},{value:"ticket",label:"Tickets"},{value:"message",label:"Messages"},{value:"meeting",label:"Meetings"},{value:"deadline",label:"Deadlines"},{value:"system",label:"System"}].map(y=>s.jsx("button",{onClick:()=>u(y.value),className:`px-3 py-1 rounded text-sm transition-colors ${c===y.value?"bg-primary text-white":"bg-muted hover:bg-muted/80 text-foreground"}`,children:y.label},y.value))]})]})}),s.jsx("div",{className:"space-y-4",children:d.length>0?d.map(y=>s.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 transition-all duration-200 hover:shadow-md ${y.read?"":`border-l-4 ${j(y.priority)}`}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-lg",children:g(y.type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:y.title}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!y.read&&s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:x(y.createdAt)})]})]}),s.jsx("p",{className:"text-muted-foreground mb-3 leading-relaxed",children:y.message}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.priority==="urgent"?"bg-red-100 text-red-800":y.priority==="high"?"bg-orange-100 text-orange-800":y.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:y.priority}),y.sender&&s.jsxs("span",{className:"text-muted-foreground",children:["From: ",y.sender]}),s.jsx("span",{className:"text-muted-foreground capitalize",children:y.type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[y.actionUrl&&s.jsx("button",{onClick:()=>r(y.actionUrl),className:"btn-primary text-sm px-3 py-1",children:"View"}),!y.read&&s.jsx("button",{onClick:()=>f(y.id),className:"btn-outline text-sm px-3 py-1",children:"Mark Read"}),s.jsx("button",{onClick:()=>v(y.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"Delete notification",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},y.id)):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground/50 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5-5V9a6 6 0 10-12 0v3l-5 5h5m0 0v2a2 2 0 004 0v-2m-4-6h8"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-muted-foreground",children:o==="unread"?"All caught up! No unread notifications.":c!=="all"?`No ${c} notifications found.`:"You have no notifications at this time."})]})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 to-secondary/5 rounded-xl border border-primary/10 p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-foreground mb-4",children:"Notification Preferences"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Customize when and how you receive notifications to stay informed without being overwhelmed."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Project Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Status changes, new milestones"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Ticket Activity"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"New assignments, updates"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-border/50",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Upcoming meetings, deadlines"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Email"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"In-app"})]})]})]})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const cP=(t,e,r,n)=>{const i=[],a=t.filter(_=>_.status==="completed").length,o=t.length,l=o>0?a/o*100:0;l>80?i.push({type:"success",title:"Excellent Project Completion Rate",description:`Your team has completed ${l.toFixed(1)}% of projects. This indicates high efficiency and client satisfaction.`,recommendation:"Consider taking on more complex projects to further challenge your team's capabilities.",impact:"high",category:"performance"}):l<50&&i.push({type:"warning",title:"Project Completion Rate Needs Improvement",description:`Only ${l.toFixed(1)}% of projects are completed. This may indicate workflow inefficiencies.`,recommendation:"Review project management processes and consider implementing more structured workflows.",impact:"high",category:"performance"});const c=e.filter(_=>_.status==="open"||_.status==="in_progress").length,u=e.filter(_=>_.status==="resolved").length,d=e.length;(d>0?u/d*100:0)<70&&i.push({type:"alert",title:"High Open Ticket Volume",description:`${c} tickets remain unresolved. This may impact client satisfaction.`,recommendation:"Reassign critical tickets and consider hiring additional support staff.",impact:"high",category:"support"});const f=r.filter(_=>_.isActive).length,p=r.length,v=f/p*100;v<80&&i.push({type:"info",title:"Underutilized Team Capacity",description:`${v.toFixed(1)}% of your team is actively engaged. There may be opportunities for growth.`,recommendation:"Consider taking on additional projects or providing professional development opportunities.",impact:"medium",category:"team"});const g=n.filter(_=>!_.isRead).length;g>10&&i.push({type:"warning",title:"High Volume of Unread Messages",description:`${g} messages are unread. This may indicate communication bottlenecks.`,recommendation:"Review team communication patterns and consider implementing daily standups.",impact:"medium",category:"communication"});const j=t.filter(_=>{const w=new Date(_.createdAt);return w.setDate(w.getDate()+30),new Date>w&&_.status!=="completed"});j.length>0&&i.push({type:"urgent",title:"Overdue Projects Detected",description:`${j.length} project(s) are behind schedule.`,recommendation:"Review project timelines and reallocate resources to bring projects back on track.",impact:"high",category:"timeline"});const x=28500;i.push({type:"success",title:"Exceptional Client Satisfaction",description:`Client satisfaction rating of ${4.8}/5.0 shows outstanding service quality.`,recommendation:"Leverage client testimonials in marketing materials and consider referral programs.",impact:"high",category:"client"});const b=x*1.15;return i.push({type:"info",title:"Revenue Growth Projection",description:`Based on current trends, projected monthly revenue could reach $${b.toLocaleString()}.`,recommendation:"Prepare for scaling by investing in team growth and process optimization.",impact:"medium",category:"forecasting"}),i.sort((_,w)=>{const N={high:3,medium:2,low:1},k={urgent:4,alert:3,warning:2,success:1,info:0};return N[_.impact]!==N[w.impact]?N[w.impact]-N[_.impact]:k[w.type]-k[_.type]})};function W0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState("all"),[l,c]=E.useState("all"),[u,d]=E.useState(!0);E.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}d(!0),setTimeout(()=>{const x=ct(),y=Jt(),b=Te(),_=t?Va(t.id):[],w=cP(x,y,b,_);i(w),d(!1)},2e3)},[e,t,r]);const h=[{value:"all",label:"All Insights"},{value:"performance",label:"Performance"},{value:"team",label:"Team"},{value:"client",label:"Client"},{value:"financial",label:"Financial"},{value:"communication",label:"Communication"},{value:"timeline",label:"Timeline"},{value:"forecasting",label:"Forecasting"}],f=[{value:"all",label:"All Priorities"},{value:"high",label:"High Impact"},{value:"medium",label:"Medium Impact"},{value:"low",label:"Low Impact"}],p=n.filter(x=>{const y=a==="all"||x.category===a,b=l==="all"||x.impact===l;return y&&b}),v=x=>({success:"",warning:"",alert:"",urgent:"",info:""})[x]||"",g=x=>({success:"border-green-500 bg-green-50 dark:bg-green-900/20",warning:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",alert:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20",info:"border-primary bg-secondary/10 dark:bg-secondary/20"})[x]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",j=x=>({high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"})[x]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" AI-Powered Insights"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Intelligent analysis and actionable recommendations to optimize your business performance"})]}),u&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Analyzing Your Data..."}),s.jsx("p",{className:"text-muted-foreground",children:"Our AI is processing your business metrics and generating insights"})]})]}),s.jsx("div",{className:"mt-4 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse",style:{width:"60%"}})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Category"}),s.jsx("select",{value:a,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:h.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Impact Level"}),s.jsx("select",{value:l,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:f.map(x=>s.jsx("option",{value:x.value,children:x.label},x.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>{d(!0),setTimeout(()=>{const x=ct(),y=Jt(),b=Te(),_=t?Va(t.id):[],w=cP(x,y,b,_);i(w),d(!1)},1500)},className:"btn-primary px-6 py-2",children:" Re-analyze"})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((x,y)=>s.jsxs("div",{className:`rounded-xl border-l-4 p-6 ${g(x.type)} hover:shadow-lg transition-all duration-200`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"text-3xl",children:v(x.type)}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${j(x.impact)}`,children:[x.impact," impact"]})]}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-3",children:x.title}),s.jsx("p",{className:"text-muted-foreground mb-4 leading-relaxed",children:x.description}),s.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:" Recommendation"}),s.jsx("p",{className:"text-sm text-foreground",children:x.recommendation})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{className:"capitalize",children:x.category}),s.jsx("span",{className:"capitalize",children:x.type})]})]},y))}),p.length===0&&!u&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No insights found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your filters or run a new analysis to generate insights"}),s.jsx("button",{onClick:()=>{o("all"),c("all")},className:"btn-primary",children:"Show All Insights"})]}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-primary/5 via-purple-500/5 to-blue-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" AI-Powered Features"}),s.jsx("p",{className:"text-muted-foreground",children:"Advanced machine learning and predictive analytics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Predictive Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Forecast trends and project outcomes"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Smart Recommendations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actionable insights for optimization"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Pattern Recognition"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Identify trends and anomalies"})]}),s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:"text-3xl mb-3",children:""}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Real-time Analysis"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Continuous monitoring and alerts"})]})]})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const ly=[{id:"slack",name:"Slack",description:"Connect your workspace for real-time notifications and team communication",category:"communication",status:"available",icon:"",features:["Real-time notifications","Channel integration","Team mentions","Status updates"],setupSteps:["Authorize Slack workspace","Select notification channels","Configure message templates","Test integration"],pricing:"Free"},{id:"google-calendar",name:"Google Calendar",description:"Sync your calendar with Google Calendar for seamless scheduling",category:"productivity",status:"available",icon:"",features:["Two-way sync","Meeting invites","Availability sharing","Reminder integration"],setupSteps:["Connect Google account","Grant calendar permissions","Select calendars to sync","Configure sync settings"],pricing:"Free"},{id:"zapier",name:"Zapier",description:"Automate workflows by connecting with 5,000+ apps",category:"automation",status:"available",icon:"",features:["Workflow automation","App integrations","Custom triggers","Data synchronization"],setupSteps:["Create Zapier account","Generate API key","Configure webhooks","Test automation flows"],pricing:"$29.99/month"},{id:"mailchimp",name:"Mailchimp",description:"Sync client data and automate email campaigns",category:"marketing",status:"available",icon:"",features:["Contact synchronization","Automated campaigns","Performance tracking","List management"],setupSteps:["Connect Mailchimp account","Map data fields","Configure sync rules","Set up automation triggers"],pricing:"Free to $299/month"},{id:"stripe",name:"Stripe",description:"Process payments and manage billing automatically",category:"financial",status:"coming_soon",icon:"",features:["Payment processing","Invoice generation","Subscription management","Financial reporting"],setupSteps:["Connect Stripe account","Configure payment methods","Set up webhooks","Test payment flow"],pricing:"2.9% + 30 per transaction"},{id:"github",name:"GitHub",description:"Track development progress and code deployments",category:"development",status:"available",icon:"",features:["Repository monitoring","Deployment tracking","Issue synchronization","Code review integration"],setupSteps:["Authorize GitHub account","Select repositories","Configure webhooks","Set up notifications"],pricing:"Free"},{id:"figma",name:"Figma",description:"Sync design files and track creative project progress",category:"design",status:"coming_soon",icon:"",features:["File synchronization","Version tracking","Comment integration","Design handoff"],setupSteps:["Connect Figma account","Select design files","Configure sync settings","Set up notifications"],pricing:"Free to $144/year"},{id:"hubspot",name:"HubSpot",description:"CRM integration for lead management and client tracking",category:"crm",status:"available",icon:"",features:["Lead synchronization","Contact management","Deal tracking","Email integration"],setupSteps:["Connect HubSpot account","Map data fields","Configure sync rules","Set up automation"],pricing:"Free to $3,600/month"}];function H0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState("all"),[a,o]=E.useState(null),l=E.useMemo(()=>[{id:"slack-connected",integrationId:"slack",status:"connected",connectedAt:new Date(Date.now()-7*24*60*60*1e3),lastSync:new Date(Date.now()-30*60*1e3),settings:{channels:["#general","#projects","#client-updates"],notifications:["project_updates","deadline_alerts","client_messages"]}},{id:"google-calendar-connected",integrationId:"google-calendar",status:"connected",connectedAt:new Date(Date.now()-14*24*60*60*1e3),lastSync:new Date(Date.now()-5*60*1e3),settings:{calendars:["Work Calendar","Client Meetings"],syncDirection:"two-way",reminderTime:15}}],[]);E.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const c=[{value:"all",label:"All Categories"},{value:"communication",label:"Communication"},{value:"productivity",label:"Productivity"},{value:"automation",label:"Automation"},{value:"marketing",label:"Marketing"},{value:"financial",label:"Financial"},{value:"development",label:"Development"},{value:"design",label:"Design"},{value:"crm",label:"CRM"}],u=ly.filter(p=>n==="all"||p.category===n),d=async p=>{var v;o(p),await new Promise(g=>setTimeout(g,2e3)),alert(`Successfully connected to ${(v=ly.find(g=>g.id===p))==null?void 0:v.name}!`),o(null)},h=p=>l.find(v=>v.integrationId===p),f=p=>({connected:"bg-green-100 text-green-800",available:"bg-secondary/10 text-secondary",coming_soon:"bg-yellow-100 text-yellow-800"})[p]||"bg-gray-100 text-gray-800";return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" API Integrations Hub"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Connect with your favorite tools and automate your workflow"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Connected Services"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(p=>{const v=ly.find(g=>g.id===p.integrationId);return v?s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:v.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:v.name}),s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Connected"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last sync: ",new Date(p.lastSync).toLocaleString()]})]},p.id):null})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Filter by Category"}),s.jsx("select",{value:n,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:c.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{className:"font-medium",children:["API Status: ",s.jsx("span",{className:"text-green-600",children:" Online"})]}),s.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>{const v=h(p.id),g=a===p.id;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-3xl",children:p.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-foreground",children:p.name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${f(p.status)}`,children:p.status.replace("_"," ")})]})]}),v&&s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),s.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:p.description}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-3",children:"Key Features:"}),s.jsx("ul",{className:"space-y-1",children:p.features.slice(0,3).map((j,x)=>s.jsxs("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-primary rounded-full flex-shrink-0"}),j]},x))})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("span",{className:"text-sm font-medium text-foreground",children:["Pricing: ",s.jsx("span",{className:"text-primary",children:p.pricing})]})}),s.jsx("div",{className:"flex gap-3",children:v?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"flex-1 btn-outline text-sm",children:"Configure"}),s.jsx("button",{className:"btn-outline text-red-600 hover:bg-red-50 text-sm px-4",children:"Disconnect"})]}):p.status==="coming_soon"?s.jsx("button",{className:"flex-1 btn-outline text-sm",disabled:!0,children:"Coming Soon"}):s.jsx("button",{onClick:()=>d(p.id),disabled:g,className:"flex-1 btn-primary text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:g?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Connecting..."]}):"Connect"})}),!v&&p.status==="available"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-border/50",children:[s.jsx("h5",{className:"text-sm font-semibold text-foreground mb-2",children:"Setup Steps:"}),s.jsx("ol",{className:"text-xs text-muted-foreground space-y-1",children:p.setupSteps.map((j,x)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"flex-shrink-0 w-4 h-4 bg-primary/10 text-primary rounded-full flex items-center justify-center text-xs font-medium",children:x+1}),j]},x))})]})]},p.id)})}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Why Integrate?"}),s.jsx("p",{className:"text-muted-foreground",children:"Maximize productivity with seamless tool connections"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Automate Workflows"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminate manual data entry and repetitive tasks with smart automation"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Real-time Sync"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep all your tools in sync with instant data synchronization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Unified Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get comprehensive insights across all connected platforms"})]})]})]}),s.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:" Developer Resources"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"REST API"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Build custom integrations with our comprehensive REST API"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"View API Documentation"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"Generate API Key"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Webhooks"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Receive real-time notifications for system events"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"btn-outline text-sm w-full",children:"Configure Webhooks"}),s.jsx("button",{className:"btn-outline text-sm w-full",children:"View Event Logs"})]})]})]})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}const q0e=[{id:"workflow-1",name:"New Project Welcome Email",description:"Automatically send welcome email when a new project is created",trigger:{type:"project_created",conditions:[]},actions:[{type:"send_email",config:{to:"{{client.email}}",subject:"Welcome to {{project.name}}!",template:"welcome_email"}},{type:"create_task",config:{title:"Send project brief to client",assignee:"account_manager",dueDate:"2 days from now"}}],isActive:!0,createdAt:new Date(Date.now()-30*24*60*60*1e3),lastTriggered:new Date(Date.now()-2*24*60*60*1e3),triggerCount:15},{id:"workflow-2",name:"High Priority Ticket Escalation",description:"Escalate high-priority tickets and notify team leads",trigger:{type:"ticket_created",conditions:[{field:"priority",operator:"equals",value:"critical"}]},actions:[{type:"notify_user",config:{user:"team_lead",message:"Critical ticket created: {{ticket.title}}",channel:"urgent"}},{type:"update_ticket",config:{status:"in_progress",assignee:"senior_developer"}},{type:"create_meeting",config:{title:"Urgent Ticket Review: {{ticket.title}}",attendees:["team_lead","project_manager"],duration:30}}],isActive:!0,createdAt:new Date(Date.now()-45*24*60*60*1e3),lastTriggered:new Date(Date.now()-1*24*60*60*1e3),triggerCount:8},{id:"workflow-3",name:"Project Completion Celebration",description:"Celebrate project completion with automated notifications",trigger:{type:"project_completed",conditions:[]},actions:[{type:"send_notification",config:{to:"all_team_members",message:" Project {{project.name}} completed successfully!",type:"celebration"}},{type:"create_task",config:{title:"Schedule project retrospective meeting",assignee:"project_manager",dueDate:"1 week from now"}},{type:"send_email",config:{to:"{{client.email}}",subject:"Project {{project.name}} Completed!",template:"completion_email"}}],isActive:!0,createdAt:new Date(Date.now()-60*24*60*60*1e3),lastTriggered:new Date(Date.now()-5*24*60*60*1e3),triggerCount:12}],cy=[{id:"project_created",name:"Project Created",icon:"",description:"When a new project is created"},{id:"project_completed",name:"Project Completed",icon:"",description:"When a project status changes to completed"},{id:"ticket_created",name:"Ticket Created",icon:"",description:"When a new ticket is created"},{id:"ticket_updated",name:"Ticket Updated",icon:"",description:"When a ticket is updated"},{id:"client_feedback",name:"Client Feedback",icon:"",description:"When client submits feedback"},{id:"deadline_approaching",name:"Deadline Approaching",icon:"",description:"When a deadline is within 24 hours"}],uy=[{id:"send_email",name:"Send Email",icon:"",description:"Send an email notification"},{id:"send_notification",name:"Send Notification",icon:"",description:"Send in-app notification"},{id:"create_task",name:"Create Task",icon:"",description:"Create a new task"},{id:"update_ticket",name:"Update Ticket",icon:"",description:"Update ticket properties"},{id:"create_meeting",name:"Create Meeting",icon:"",description:"Schedule a meeting"},{id:"notify_user",name:"Notify User",icon:"",description:"Send notification to specific user"},{id:"webhook",name:"Webhook",icon:"",description:"Send data to external service"}];function G0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),n=E.useMemo(()=>q0e,[]),[i,a]=E.useState(n),[o,l]=E.useState(null),[c,u]=E.useState(!1),[d,h]=E.useState({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]});E.useEffect(()=>{if(!e){r("/login");return}if((t==null?void 0:t.role)!=="admin"){r("/dashboard");return}},[e,t,r]);const f=()=>{const x={...d,id:`workflow-${Date.now()}`,isActive:!0,createdAt:new Date,lastTriggered:null,triggerCount:0};a(y=>[x,...y]),h({name:"",description:"",trigger:{type:"",conditions:[]},actions:[]}),u(!1)},p=x=>{a(y=>y.map(b=>b.id===x?{...b,isActive:!b.isActive}:b))},v=x=>{confirm("Are you sure you want to delete this workflow?")&&a(y=>y.filter(b=>b.id!==x))},g=x=>{const y=cy.find(b=>b.id===x);return(y==null?void 0:y.name)||x},j=x=>{const y=uy.find(b=>b.id===x);return(y==null?void 0:y.name)||x};return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(q,{to:"/admin/dashboard",className:"btn-outline text-sm",children:" Back to Dashboard"})}),s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:" Workflow Automation"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Create powerful automations to streamline your business processes"})]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary px-6 py-3",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Workflow"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:i.map(x=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 hover:shadow-lg transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-1",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${x.isActive?"bg-green-500":"bg-gray-400"}`}),s.jsx("button",{onClick:()=>l(x),className:"p-1 hover:bg-muted rounded",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"font-medium",children:g(x.trigger.type)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"font-medium",children:[x.actions.length," configured"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"font-medium",children:[x.triggerCount," times"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(x.id),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x.isActive?"bg-green-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x.isActive?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:"text-xs text-muted-foreground",children:x.isActive?"Active":"Inactive"})]}),s.jsx("button",{onClick:()=>v(x.id),className:"p-1 text-muted-foreground hover:text-red-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},x.id))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Triggers"}),s.jsx("div",{className:"space-y-3",children:cy.map(x=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:x.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]})]},x.id))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Available Actions"}),s.jsx("div",{className:"space-y-3",children:uy.map(x=>s.jsxs("div",{className:"flex items-center gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("span",{className:"text-2xl",children:x.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:x.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]})]},x.id))})]})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Create New Workflow"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Workflow Name"}),s.jsx("input",{type:"text",value:d.name,onChange:x=>h(y=>({...y,name:x.target.value})),placeholder:"Enter workflow name",className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),s.jsx("textarea",{value:d.description,onChange:x=>h(y=>({...y,description:x.target.value})),placeholder:"Describe what this workflow does",rows:3,className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Trigger Event"}),s.jsxs("select",{value:d.trigger.type,onChange:x=>h(y=>({...y,trigger:{...y.trigger,type:x.target.value}})),className:"w-full px-3 py-2 border border-border rounded-md bg-background text-foreground",children:[s.jsx("option",{value:"",children:"Select a trigger"}),cy.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]}),s.jsx("div",{className:"bg-secondary/10 dark:bg-secondary/20 p-4 rounded-lg",children:s.jsxs("p",{className:"text-sm text-primary dark:text-primary",children:[" ",s.jsx("strong",{children:"Pro Tip:"})," Start with simple workflows and gradually add complexity. Test your workflows thoroughly before deploying to production."]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border",children:[s.jsx("button",{onClick:()=>u(!1),className:"btn-outline px-6 py-2",children:"Cancel"}),s.jsx("button",{onClick:f,disabled:!d.name.trim()||!d.trigger.type,className:"btn-primary px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})]})})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-background rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:o.name}),s.jsx("p",{className:"text-muted-foreground",children:o.description})]}),s.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-muted rounded-lg transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Workflow Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),s.jsx("span",{className:`ml-2 text-sm px-2 py-1 rounded-full ${o.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:o.isActive?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"ml-2 text-sm",children:g(o.trigger.type)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Actions:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.actions.length," configured"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Triggered:"}),s.jsxs("span",{className:"ml-2 text-sm",children:[o.triggerCount," times"]})]}),o.lastTriggered&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Last Run:"}),s.jsx("span",{className:"ml-2 text-sm",children:new Date(o.lastTriggered).toLocaleString()})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Configured Actions"}),s.jsxs("div",{className:"space-y-3",children:[o.actions.map((x,y)=>{var b;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-xl",children:((b=uy.find(_=>_.id===x.type))==null?void 0:b.icon)||""}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:j(x.type)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configured with ",Object.keys(x.config||{}).length," settings"]})]})]},y)}),o.actions.length===0&&s.jsx("p",{className:"text-muted-foreground text-sm",children:"No actions configured yet"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-6 border-t border-border mt-8",children:[s.jsx("button",{onClick:()=>l(null),className:"btn-outline px-6 py-2",children:"Close"}),s.jsx("button",{className:"btn-primary px-6 py-2",children:"Edit Workflow"})]})]})})}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500/5 via-blue-500/5 to-green-500/5 rounded-xl border border-primary/10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:" Automation Benefits"}),s.jsx("p",{className:"text-muted-foreground",children:"Transform your business with intelligent workflows"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Reduce Manual Work"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Automate repetitive tasks and focus on strategic work that matters"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Increase Efficiency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Streamline processes and reduce response times across your organization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Improve Consistency"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ensure standardized processes and reduce human error in workflows"})]})]})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function K0e(){const{user:t,isSignedIn:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState([]),[u,d]=E.useState([]),[h,f]=E.useState(!0);E.useEffect(()=>{if(!e){r("/login");return}const b=ct(),_=Jt(),w=Te(),N=t?Va(t.id):[];i(b),o(_),c(w),d(N),f(!1)},[e,t,r]);const p={totalProjects:n.length,activeProjects:n.filter(b=>b.status==="active").length,completedProjects:n.filter(b=>b.status==="completed").length,totalTickets:a.length,openTickets:a.filter(b=>b.status==="open"||b.status==="in_progress").length,resolvedTickets:a.filter(b=>b.status==="resolved").length,totalUsers:l.length,activeUsers:l.filter(b=>b.isActive).length,unreadMessages:u.filter(b=>!b.isRead&&b.recipientId===(t==null?void 0:t.id)).length,totalRevenue:156750},v=[{type:"project",action:"completed",item:"SpecCon Website",user:"John Developer",time:"2 hours ago",icon:""},{type:"ticket",action:"resolved",item:"Mobile navigation fix",user:"Jane Smith",time:"4 hours ago",icon:""},{type:"message",action:"sent",item:"Client feedback received",user:"Emma Business",time:"6 hours ago",icon:""},{type:"meeting",action:"scheduled",item:"Project review meeting",user:"Admin User",time:"1 day ago",icon:""}],g=()=>{if(!t)return[];switch(t.role){case"admin":return[{title:"New Project",description:"Create a new project",icon:"",action:"/admin/projects/new",color:"bg-primary"},{title:"Manage Users",description:"Add or edit team members",icon:"",action:"/admin/users",color:"bg-green-500"},{title:"View Analytics",description:"Business performance data",icon:"",action:"/analytics",color:"bg-purple-500"},{title:"System Reports",description:"Executive dashboard",icon:"",action:"/reports",color:"bg-orange-500"}];case"web_developer":return[{title:"My Tickets",description:"Assigned development tasks",icon:"",action:"/developer/tickets",color:"bg-primary"},{title:"My Projects",description:"Social media campaigns",icon:"",action:"/coordinator/projects",color:"bg-primary"},{title:"Project Status",description:"View project progress",icon:"",action:"/client-portal/dashboard",color:"bg-primary"},{title:"Submit Feedback",description:"Rate our work",icon:"",action:"/client-portal/feedback",color:"bg-green-500"},{title:"Share Files",description:"Upload project assets",icon:"",action:"/client-portal/files",color:"bg-purple-500"},{title:"Message Team",description:"Contact your team",icon:"",action:"/messages",color:"bg-orange-500"}];default:return[]}},j=[{type:"deadline",title:"Project Deadline Approaching",message:"Andebe platform development deadline is in 2 days",priority:"high",action:"/calendar"},{type:"ticket",title:"High Priority Ticket",message:"Critical bug reported in production system",priority:"urgent",action:"/tickets"},{type:"meeting",title:"Meeting Reminder",message:"Client presentation in 1 hour",priority:"medium",action:"/calendar"}],x=b=>({low:"border-green-500 bg-green-50 dark:bg-green-900/20",medium:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20",high:"border-orange-500 bg-orange-50 dark:bg-orange-900/20",urgent:"border-red-500 bg-red-50 dark:bg-red-900/20"})[b]||"border-gray-500 bg-gray-50 dark:bg-gray-900/20",y=b=>({low:"",medium:"",high:"",urgent:""})[b]||"";return t?s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3",children:["Welcome back, ",t.fullName,"! "]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Here's what's happening in your workspace today"})]}),j.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Priority Alerts"}),s.jsx("div",{className:"space-y-4",children:j.map((b,_)=>s.jsx(q,{to:b.action,className:`block p-4 rounded-xl border-l-4 ${x(b.priority)} hover:shadow-md transition-shadow`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:y(b.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:b.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:b.message})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},_))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 dark:bg-primary/20 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeProjects}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Projects"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.resolvedTickets}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tickets Resolved"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-foreground",children:p.activeUsers}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Team Members"})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-foreground",children:["$",p.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Quick Actions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g().map((b,_)=>s.jsx(q,{to:b.action,className:"group p-4 border border-border/50 rounded-lg hover:border-primary/50 hover:shadow-md transition-all duration-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-lg ${b.color} flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform`,children:b.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:b.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]}),s.jsx("svg",{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},_))})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:v.map((b,_)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[s.jsx("div",{className:"text-lg",children:b.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-foreground",children:[s.jsx("span",{className:"font-medium",children:b.user})," ",b.action," ",s.jsx("span",{className:"font-medium",children:b.item})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:b.time})]})]},_))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-border/50",children:s.jsx(q,{to:"/notifications",className:"text-primary hover:underline text-sm font-medium",children:"View all notifications "})})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"System Health"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Status"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Online"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),s.jsxs("span",{className:"inline-flex items-center gap-2 px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Healthy"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"API Response"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"120ms"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Team Productivity"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg. Daily Hours"}),s.jsx("span",{className:"text-sm font-medium",children:"6.8h"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tickets/Day"}),s.jsx("span",{className:"text-sm font-medium",children:"4.2"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Time"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"2.1h"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Client Satisfaction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Rating"}),s.jsx("span",{className:"text-sm font-medium",children:"4.8/5.0 "})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Response Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"98%"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Retention Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"94%"})]})]})]})]})]})}),s.jsx(me,{})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}function Y0e(){const{isSignedIn:t,user:e}=ce(),r=ue(),i=to().id,a=i?so(i):null,o=Te(),l=i?pg(i):[],[c,u]=E.useState(!a),[d,h]=E.useState(a||null),[f,p]=E.useState(a&&o.find(w=>w.id===a.clientId)||null),[v,g]=E.useState(a&&o.find(w=>w.id===a.webDeveloperId)||null),[j,x]=E.useState(a&&o.find(w=>w.id===a.socialMediaCoordinatorId)||null),[y,b]=E.useState(l);if(E.useEffect(()=>{t?(e==null?void 0:e.role)!=="admin"&&r("/dashboard"):r("/login")},[t,e,r]),E.useEffect(()=>{a||r("/admin/dashboard")},[a,r]),!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(c||!d)return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),s.jsx(me,{})]});const _={totalTickets:y.length,openTickets:y.filter(w=>w.status==="open").length,inProgressTickets:y.filter(w=>w.status==="in_progress").length,resolvedTickets:y.filter(w=>w.status==="resolved"||w.status==="closed").length};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(q,{to:"/admin/dashboard",className:"text-primary hover:text-primary/80 transition",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),s.jsx("h1",{className:"text-4xl font-bold text-foreground",children:d.name}),s.jsx(Qt,{status:d.status})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(q,{to:`/admin/projects/${i}/edit`,className:"btn-primary",children:"Edit Project"}),s.jsx(q,{to:`/admin/projects/${i}/analytics`,className:"btn-outline",children:"View Analytics"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Project Type"}),s.jsx("div",{className:"text-foreground capitalize",children:d.projectType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),s.jsx("div",{className:"text-foreground",children:d.description})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Stage"}),s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-primary/10 text-primary",children:wr(d.currentStage)})]}),d.websiteUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Website URL"}),s.jsx("a",{href:d.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:d.websiteUrl})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Team"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),f?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:f.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:f.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Web Developer"}),v?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:v.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:v.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Social Media Coordinator"}),j?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-foreground",children:j.fullName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:j.email})]}):s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Not assigned"})]})]})]}),d.projectType==="website"&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Analytics"}),s.jsx("div",{className:"space-y-4"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Timeline"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),s.jsx("div",{className:"text-foreground",children:new Date(d.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),d.launchDate&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Launch Date"}),s.jsx("div",{className:"text-foreground",children:new Date(d.launchDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Last Updated"}),s.jsx("div",{className:"text-foreground",children:Ln(d.updatedAt)})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.totalTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Tickets"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:_.openTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Open"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:_.inProgressTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"In Progress"})]}),s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.resolvedTickets}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolved"})]})]}),d.notes&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Project Notes"}),s.jsx("div",{className:"text-foreground whitespace-pre-wrap",children:d.notes})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground",children:["Tickets (",y.length,")"]}),s.jsx(q,{to:`/admin/tickets?project=${i}`,className:"text-primary hover:underline text-sm",children:"View All Tickets"})]}),y.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No tickets for this project yet"}):s.jsx("div",{className:"space-y-4",children:y.slice(0,10).map(w=>s.jsxs("div",{className:"p-4 border border-border rounded-lg hover:bg-muted/50 transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.description})]}),s.jsx(qa,{priority:w.priority})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Qt,{status:w.status}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-800 rounded capitalize",children:w.type.replace("_"," ")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:Ln(w.createdAt)})]})]},w.id))})]})]})]})]})}),s.jsx(me,{})]})}function X0e(){const{isSignedIn:t,user:e}=ce(),r=ue();E.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]);const[n,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(""),[u,d]=E.useState(""),[h,f]=E.useState(1),[p]=E.useState(ct().filter(b=>b.projectType==="website")),[v]=E.useState(Te()),g=E.useMemo(()=>p.filter(b=>{const _=b.name.toLowerCase().includes(n.toLowerCase())||b.description.toLowerCase().includes(n.toLowerCase()),w=!a||b.product===a,N=(()=>{const k=b.projectDate||b.createdAt,S=new Date(k);if(l&&u){const T=new Date(l),O=new Date(u);return S>=T&&S<=O}else if(l){const T=new Date(l);return S>=T}else if(u){const T=new Date(u);return S<=T}return!0})();return _&&w&&N}),[p,n,a,l,u]),j=E.useMemo(()=>{const b=new Set;return p.forEach(_=>{_.product&&b.add(_.product)}),Array.from(b).sort()},[p]),x=E.useMemo(()=>{const b={},_=new Date(2024,10,1),w=new Date;let N=new Date(_);for(;N<=w;){const k=N.toLocaleDateString("en-US",{month:"long",year:"numeric"});b[k]=[],N.setMonth(N.getMonth()+1)}return g.forEach(k=>{const S=k.projectDate||k.createdAt,O=new Date(S).toLocaleDateString("en-US",{month:"long",year:"numeric"});b[O]&&b[O].push(k)}),b},[g]);if(!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const y=b=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const w=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(N=>N.id!==b);localStorage.setItem("marketing_management_website_projects",JSON.stringify(w)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3 flex items-center gap-3",children:" Website Projects Management"}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Manage all website development projects organized by month. Total: ",g.length," projects"]})]}),s.jsxs("div",{className:"flex gap-3 lg:flex-shrink-0",children:[s.jsxs(q,{to:"/admin/projects/new",className:"bg-[#12265E] hover:bg-[#0f1e4a] text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Website Project"]}),s.jsxs(q,{to:"/admin/dashboard",className:"btn-outline flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Search:"}),s.jsx("input",{type:"text",value:n,onChange:b=>i(b.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[300px]",placeholder:"Search website projects..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Product:"}),s.jsxs("select",{value:a,onChange:b=>o(b.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[160px]",children:[s.jsx("option",{value:"",children:"All Products"}),j.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Date Range:"}),s.jsx("input",{type:"date",value:l,onChange:b=>c(b.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"From"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"to"}),s.jsx("input",{type:"date",value:u,onChange:b=>d(b.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"To"})]}),(n||a||l||u)&&s.jsx("button",{onClick:()=>{i(""),o(""),c(""),d("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium underline",children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",p.length," website projects"]})]})}),s.jsxs("div",{className:"space-y-8",children:[Object.entries(x).filter(([b,_])=>_.length>0).sort(([b],[_])=>{const[w,N]=b.split(" "),[k,S]=_.split(" "),T=new Date(parseInt(N),new Date(`${w} 1, ${N}`).getMonth(),1);return new Date(parseInt(S),new Date(`${k} 1, ${S}`).getMonth(),1).getTime()-T.getTime()}).map(([b,_])=>s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-8 border border-blue-200",children:[s.jsxs("h2",{className:"text-2xl font-bold text-blue-900 mb-6 flex items-center gap-3",children:[s.jsx("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b," - ",_.length," Project",_.length!==1?"s":""]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-blue-200 bg-white",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-blue-100",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Project Name"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Stage"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Developer"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-blue-200 text-blue-900",children:"Website URL"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-blue-900",children:"Actions"})]})}),s.jsx("tbody",{children:_.map((w,N)=>{const k=v.find(T=>T.id===w.clientId),S=v.find(T=>T.id===w.webDeveloperId);return s.jsxs("tr",{className:N%2===0?"bg-white":"bg-blue-50/50",children:[s.jsx("td",{className:"px-4 py-3 border-r border-blue-200 text-sm font-medium text-blue-900",children:N+1}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:s.jsx("div",{className:"text-sm text-blue-900 font-medium",children:w.projectDate?new Date(w.projectDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):new Date(w.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),s.jsxs("td",{className:"px-4 py-3 border-r border-blue-200",children:[s.jsx("div",{className:"font-medium text-blue-900",children:w.name}),s.jsx("div",{className:"text-xs text-blue-700",children:w.description})]}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:s.jsx("div",{className:"text-sm",children:k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-blue-900",children:k.fullName}),s.jsx("div",{className:"text-xs text-blue-600",children:k.email})]}):s.jsx("span",{className:"text-xs text-blue-500 italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:w.product?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:w.product}):s.jsx("span",{className:"text-xs text-blue-500 italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:s.jsx(Qt,{status:w.status})}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:wr(w.currentStage)})}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:s.jsx("div",{className:"text-sm",children:S?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-blue-900",children:S.fullName}),s.jsx("div",{className:"text-xs text-blue-600",children:S.email})]}):s.jsx("span",{className:"text-xs text-blue-500 italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3 border-r border-blue-200",children:w.websiteUrl?s.jsx("a",{href:w.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline text-sm font-medium",children:w.websiteUrl}):s.jsx("span",{className:"text-xs text-blue-500 italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{to:`/admin/projects/${w.id}/analytics`,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]}),s.jsxs(q,{to:`/admin/projects/${w.id}/edit`,className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(_x,{className:"w-3 h-3"}),"Edit"]}),s.jsxs("button",{onClick:()=>y(w.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(Ah,{className:"w-3 h-3"}),"Delete"]})]})})]},w.id)})})]})})]},b)),Object.keys(x).length===0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-12 text-center shadow-sm",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No Website Projects Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"There are no website projects in the system yet."}),s.jsxs(q,{to:"/admin/projects/new",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold inline-flex items-center gap-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create First Website Project"]})]})]})]})}),s.jsx(me,{})]})}function Q0e(){const{isSignedIn:t,user:e}=ce(),r=ue();E.useEffect(()=>{if(!t){r("/login");return}if(e&&e.role!=="admin"){r("/dashboard");return}},[t,e,r]);const[n,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(""),[u,d]=E.useState(""),[h,f]=E.useState(""),[p,v]=E.useState(1),[g]=E.useState(ct().filter(N=>N.projectType==="social_media")),[j]=E.useState(Te()),x=E.useMemo(()=>{const N=new Set;return g.forEach(k=>{k.socialMediaPlatforms&&[...new Set(k.socialMediaPlatforms)].forEach(T=>N.add(T))}),Array.from(N).sort()},[g]),y=E.useMemo(()=>{const N=new Set;return g.forEach(k=>{k.product&&N.add(k.product)}),Array.from(N).sort()},[g]),b=E.useMemo(()=>g.filter(N=>{const k=N.name.toLowerCase().includes(n.toLowerCase())||N.description.toLowerCase().includes(n.toLowerCase()),S=!a||N.socialMediaPlatforms&&N.socialMediaPlatforms.includes(a),T=!l||N.product===l,O=(()=>{const C=N.projectDate||N.createdAt,I=new Date(C);if(u&&h){const M=new Date(u),B=new Date(h);return I>=M&&I<=B}else if(u){const M=new Date(u);return I>=M}else if(h){const M=new Date(h);return I<=M}return!0})();return k&&S&&T&&O}),[g,n,a,l,u,h]),_=E.useMemo(()=>{const N={},k=new Date(2024,10,1),S=new Date;let T=new Date(k);for(;T<=S;){const O=T.toLocaleDateString("en-US",{month:"long",year:"numeric"});N[O]=[],T.setMonth(T.getMonth()+1)}return b.forEach(O=>{const C=O.projectDate||O.createdAt,M=new Date(C).toLocaleDateString("en-US",{month:"long",year:"numeric"});N[M]&&N[M].push(O)}),N},[b]);if(!e||e.role!=="admin")return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});const w=N=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone.")){const S=JSON.parse(localStorage.getItem("marketing_management_website_projects")||"[]").filter(T=>T.id!==N);localStorage.setItem("marketing_management_website_projects",JSON.stringify(S)),window.location.reload()}};return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3 flex items-center gap-3",children:[s.jsx("svg",{className:"w-10 h-10 text-[#FFA600]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})," Social Media Brands Management"]}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Manage all social media brands organized by month. Total: ",b.length," brands"]})]}),s.jsxs("div",{className:"flex gap-3 lg:flex-shrink-0",children:[s.jsxs(q,{to:"/admin/projects/new",className:"bg-[#92ABC4] hover:bg-[#FFA600] text-[#12265E] px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Brand"]}),s.jsxs(q,{to:"/admin/dashboard",className:"btn-outline flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]})]})}),s.jsx("div",{className:"bg-[#92ABC4]/20 dark:bg-gray-800 rounded-xl border border-[#12265E]/20 p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Search:"}),s.jsx("input",{type:"text",value:n,onChange:N=>i(N.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[300px]",placeholder:"Search brands..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Platform:"}),s.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[180px]",children:[s.jsx("option",{value:"",children:"All Platforms"}),x.map(N=>s.jsx("option",{value:N,children:N},N))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Product:"}),s.jsxs("select",{value:l,onChange:N=>c(N.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary min-w-[180px]",children:[s.jsx("option",{value:"",children:"All Products"}),y.map(N=>s.jsx("option",{value:N,children:N},N))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Date Range:"}),s.jsx("input",{type:"date",value:u,onChange:N=>d(N.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"From"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"to"}),s.jsx("input",{type:"date",value:h,onChange:N=>f(N.target.value),className:"border border-border rounded px-3 py-2 bg-background text-foreground hover:border-primary focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"To"})]}),(a||l||n||u||h)&&s.jsx("button",{onClick:()=>{i(""),o(""),c(""),d(""),f("")},className:"text-sm text-[#FFA600] hover:text-[#12265E] font-medium underline",children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b.length," of ",g.length," brands"]})]})}),s.jsxs("div",{className:"space-y-8",children:[Object.entries(_).filter(([N,k])=>k.length>0).sort(([N],[k])=>{const[S,T]=N.split(" "),[O,C]=k.split(" "),I=new Date(parseInt(T),new Date(`${S} 1, ${T}`).getMonth(),1);return new Date(parseInt(C),new Date(`${O} 1, ${C}`).getMonth(),1).getTime()-I.getTime()}).map(([N,k])=>s.jsxs("div",{className:"bg-gradient-to-r from-[#92ABC4]/10 to-[#FFA600]/10 rounded-xl p-8 border border-[#12265E]/20",children:[s.jsxs("h2",{className:"text-2xl font-bold text-[#12265E] mb-6 flex items-center gap-3",children:[s.jsx("svg",{className:"w-7 h-7 text-[#FFA600]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),N," - ",k.length," Brand",k.length!==1?"s":""]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse border border-[#12265E]/30 bg-[#92ABC4]/10",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-[#92ABC4]/20",children:[s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"#"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Brand"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Platform"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Posts"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Likes"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Impressions"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Reach"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold border-r border-[#12265E]/20 text-[#12265E]",children:"Engagement"}),s.jsx("th",{className:"px-4 py-3 text-left font-semibold text-[#12265E]",children:"Actions"})]})}),s.jsx("tbody",{children:k.map((S,T)=>{var C,I,M,B,U;const O=j.find(R=>R.id===S.clientId);return s.jsxs("tr",{className:T%2===0?"bg-white":"bg-[#92ABC4]/5",children:[s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-sm font-medium text-[#12265E]",children:T+1}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20",children:s.jsx("div",{className:"text-sm text-[#12265E] font-medium",children:S.projectDate?new Date(S.projectDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):new Date(S.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})}),s.jsxs("td",{className:"px-4 py-3 border-r border-[#12265E]/20",children:[s.jsx("div",{className:"font-medium text-[#12265E]",children:S.name}),s.jsx("div",{className:"text-xs text-[#12265E]/70",children:S.description})]}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20",children:s.jsx("div",{className:"text-sm",children:O?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-medium text-[#12265E]",children:O.fullName}),s.jsx("div",{className:"text-xs text-[#12265E]/60",children:O.email})]}):s.jsx("span",{className:"text-xs text-[#12265E] italic",children:"Not assigned"})})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20",children:S.product?s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-[#FFA600]/20 text-[#12265E]",children:S.product}):s.jsx("span",{className:"text-xs text-[#12265E] italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20",children:S.socialMediaPlatforms&&S.socialMediaPlatforms.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:S.socialMediaPlatforms.map(R=>s.jsx("span",{className:"inline-block px-2 py-1 text-xs bg-[#92ABC4]/30 text-[#12265E] rounded capitalize font-medium",children:R},R))}):s.jsx("span",{className:"text-xs text-[#12265E] italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-[#12265E]",children:((C=S.posts)==null?void 0:C.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-[#12265E]",children:((I=S.likes)==null?void 0:I.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-[#12265E]",children:((M=S.impressions)==null?void 0:M.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-[#12265E]",children:((B=S.reach)==null?void 0:B.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-3 border-r border-[#12265E]/20 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-[#12265E]",children:((U=S.engagement)==null?void 0:U.toLocaleString())||"0"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(q,{to:`/admin/projects/${S.id}/edit`,className:"bg-[#92ABC4]/30 hover:bg-[#FFA600] text-[#12265E] px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(_x,{className:"w-3 h-3"}),"Edit"]}),s.jsxs("button",{onClick:()=>w(S.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(Ah,{className:"w-3 h-3"}),"Delete"]})]})})]},S.id)})})]})})]},N)),Object.keys(_).length===0&&s.jsxs("div",{className:"bg-[#92ABC4]/10 dark:bg-gray-800 rounded-xl border border-[#12265E]/20 p-12 text-center shadow-sm",children:[s.jsx("svg",{className:"w-16 h-16 text-[#12265E]/60 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),s.jsx("h3",{className:"text-xl font-semibold text-[#12265E] mb-2",children:"No Social Media Brands Found"}),s.jsx("p",{className:"text-[#12265E]/70 mb-6",children:"There are no social media brands in the system yet."}),s.jsxs(q,{to:"/admin/projects/new",className:"bg-[#92ABC4]/30 hover:bg-[#FFA600] text-[#12265E] px-6 py-3 rounded-lg font-semibold inline-flex items-center gap-2 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create First Brand"]})]})]})]})}),s.jsx(me,{})]})}const Ef="marketing_management_monthly_analytics";function J0e(){const{isSignedIn:t,user:e}=ce(),r=ue(),[n,i]=E.useState([]),[a,o]=E.useState([]),[l,c]=E.useState(!1),[u,d]=E.useState(null),[h,f]=E.useState(""),[p,v]=E.useState({projectId:"",month:"",userEngagement:0,newUsers:0,clicks:0,referrals:0,notes:""});E.useEffect(()=>{if(!t){r("/login");return}if(!e)return;if(e.role!=="admin"){r("/dashboard");return}o(ct());const _=localStorage.getItem(Ef);_&&i(JSON.parse(_))},[t,e,r]);const g=E.useMemo(()=>{let _=[...n];return h&&(_=_.filter(w=>w.projectId===h)),_.sort((w,N)=>N.month.localeCompare(w.month))},[n,h]),j=_=>{if(_.preventDefault(),!e)return;const w=a.find(k=>k.id===p.projectId),N=(w==null?void 0:w.name)||"";if(u){const k=n.map(S=>S.id===u?{...S,projectId:p.projectId,projectName:N,month:p.month,userEngagement:Number(p.userEngagement),newUsers:Number(p.newUsers),clicks:Number(p.clicks),referrals:Number(p.referrals),notes:p.notes,updatedAt:new Date}:S);i(k),localStorage.setItem(Ef,JSON.stringify(k)),alert("Analytics updated successfully!")}else{const k={id:`analytics-${Date.now()}`,projectId:p.projectId,projectName:N,month:p.month,userEngagement:Number(p.userEngagement),newUsers:Number(p.newUsers),clicks:Number(p.clicks),referrals:Number(p.referrals),recordedBy:e.id,createdAt:new Date,updatedAt:new Date,notes:p.notes},S=[...n,k];i(S),localStorage.setItem(Ef,JSON.stringify(S)),alert("Analytics added successfully!")}v({projectId:"",month:"",userEngagement:0,newUsers:0,clicks:0,referrals:0,notes:""}),c(!1),d(null)},x=_=>{v({projectId:_.projectId,month:_.month,userEngagement:_.userEngagement,newUsers:_.newUsers,clicks:_.clicks,referrals:_.referrals,notes:_.notes||""}),d(_.id),c(!0)},y=_=>{if(window.confirm("Are you sure you want to delete this analytics entry?")){const w=n.filter(N=>N.id!==_);i(w),localStorage.setItem(Ef,JSON.stringify(w)),alert("Analytics deleted successfully!")}},b=()=>{v({projectId:"",month:"",userEngagement:0,newUsers:0,clicks:0,referrals:0,notes:""}),c(!1),d(null)};return!e||e.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3 flex items-center gap-3",children:[s.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Monthly Analytics"]}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed",children:["Track User Engagement, New Users, Clicks, and Referrals by month.",h?s.jsxs(s.Fragment,{children:[" Showing ",g.length," of ",n.length," entries for selected project"]}):s.jsxs(s.Fragment,{children:[" Total entries: ",n.length]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-foreground whitespace-nowrap",children:"Filter by Project:"}),s.jsxs("select",{value:h,onChange:_=>f(_.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary min-w-[200px]",children:[s.jsxs("option",{value:"",children:["All Projects (",n.length," entries)"]}),a.map(_=>{const w=n.filter(N=>N.projectId===_.id).length;return s.jsxs("option",{value:_.id,children:[_.name," (",_.projectType==="website"?"Website":"Social Media",") - ",w," entries"]},_.id)})]}),h&&s.jsx("button",{onClick:()=>f(""),className:"text-sm text-muted-foreground hover:text-foreground underline",children:"Clear filter"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>c(!0),className:"bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[s.jsx(Lye,{className:"w-5 h-5"}),"Add Monthly Analytics"]}),s.jsxs(q,{to:"/admin/dashboard",className:"btn-outline flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Dashboard"]})]})]})]})}),l&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 p-8 mb-8 shadow-sm",children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:u?"Edit Monthly Analytics":"Add New Monthly Analytics"}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Project Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:p.projectId,onChange:_=>v({...p,projectId:_.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[s.jsx("option",{value:"",children:"Select a project"}),a.map(_=>s.jsxs("option",{value:_.id,children:[_.name," (",_.projectType==="website"?"Website":"Social Media",")"]},_.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Month ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"month",required:!0,value:p.month,onChange:_=>v({...p,month:_.target.value}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["User Engagement ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,min:"0",value:p.userEngagement,onChange:_=>v({...p,userEngagement:Number(_.target.value)}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["New Users ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,min:"0",value:p.newUsers,onChange:_=>v({...p,newUsers:Number(_.target.value)}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Clicks ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,min:"0",value:p.clicks,onChange:_=>v({...p,clicks:Number(_.target.value)}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Referrals ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,min:"0",value:p.referrals,onChange:_=>v({...p,referrals:Number(_.target.value)}),className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"0"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Notes"}),s.jsx("textarea",{value:p.notes,onChange:_=>v({...p,notes:_.target.value}),rows:3,className:"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Add any additional notes..."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg font-semibold transition",children:u?"Update Analytics":"Save Analytics"}),s.jsx("button",{type:"button",onClick:b,className:"px-6 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition",children:"Cancel"})]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-primary/10 to-primary/5",children:[s.jsx("th",{className:"px-6 py-4 text-left font-semibold border-r border-border text-foreground",children:"#"}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold border-r border-border text-foreground",children:"Project Name"}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold border-r border-border text-foreground",children:"Month"}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold border-r border-border text-foreground",children:"User Engagement"}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold border-r border-border text-foreground",children:"New Users"}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold border-r border-border text-foreground",children:"Clicks"}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold border-r border-border text-foreground",children:"Referrals"}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold border-r border-border text-foreground",children:"Notes"}),s.jsx("th",{className:"px-6 py-4 text-center font-semibold text-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:g.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("svg",{className:"w-16 h-16 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold mb-2",children:"No analytics data yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add Monthly Analytics" to start tracking your metrics'})]})]})})}):g.map((_,w)=>{const k=new Date(_.month+"-01").toLocaleDateString("en-US",{month:"long",year:"numeric"});return s.jsxs("tr",{className:w%2===0?"bg-background":"bg-muted/30",children:[s.jsx("td",{className:"px-6 py-4 border-r border-border text-sm font-medium text-foreground",children:w+1}),s.jsx("td",{className:"px-6 py-4 border-r border-border",children:s.jsx("div",{className:"font-semibold text-foreground",children:_.projectName||"Unknown Project"})}),s.jsxs("td",{className:"px-6 py-4 border-r border-border",children:[s.jsx("div",{className:"font-semibold text-foreground",children:k}),s.jsx("div",{className:"text-xs text-muted-foreground",children:_.month})]}),s.jsx("td",{className:"px-6 py-4 border-r border-border text-center",children:s.jsx("span",{className:"text-lg font-bold text-primary",children:_.userEngagement.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 border-r border-border text-center",children:s.jsx("span",{className:"text-lg font-bold text-green-600",children:_.newUsers.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 border-r border-border text-center",children:s.jsx("span",{className:"text-lg font-bold text-blue-600",children:_.clicks.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 border-r border-border text-center",children:s.jsx("span",{className:"text-lg font-bold text-purple-600",children:_.referrals.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 border-r border-border",children:s.jsx("div",{className:"text-sm text-muted-foreground max-w-xs truncate",children:_.notes||""})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("button",{onClick:()=>x(_),className:"bg-primary hover:bg-primary/90 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(_x,{className:"w-3 h-3"}),"Edit"]}),s.jsxs("button",{onClick:()=>y(_.id),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-1 transition-colors",children:[s.jsx(Ah,{className:"w-3 h-3"}),"Delete"]})]})})]},_.id)})})]})})})]})}),s.jsx(me,{})]})}const Z0e="marketing_management_monthly_analytics";function eje(){const{id:t}=to(),{isSignedIn:e,user:r}=ce(),n=ue(),[i,a]=E.useState(null),[o,l]=E.useState([]),[c,u]=E.useState(!0);if(E.useEffect(()=>{if(!e){n("/login");return}if(!r)return;if(r.role!=="admin"){n("/dashboard");return}const p=ct().find(g=>g.id===t);if(!p){n("/admin/dashboard");return}a(p);const v=localStorage.getItem(Z0e);if(v){const j=JSON.parse(v).filter(x=>x.projectId===t);j.sort((x,y)=>y.month.localeCompare(x.month)),l(j)}u(!1)},[e,r,n,t]),!r||r.role!=="admin"||c)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!i)return null;const d=f=>{const[p,v]=f.split("-");return new Date(parseInt(p),parseInt(v)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})},h=o.reduce((f,p)=>({userEngagement:f.userEngagement+p.userEngagement,newUsers:f.newUsers+p.newUsers,clicks:f.clicks+p.clicks,referrals:f.referrals+p.referrals}),{userEngagement:0,newUsers:0,clicks:0,referrals:0});return s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx("main",{className:"min-h-screen bg-muted",children:s.jsxs("div",{className:"container py-8 lg:py-12",children:[s.jsx("div",{className:"mb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold text-foreground mb-3 flex items-center gap-3",children:[s.jsx(QE,{className:"w-10 h-10 text-green-600"}),"Analytics: ",i.name]}),s.jsxs("p",{className:"text-lg text-muted-foreground leading-relaxed mb-2",children:["Monthly analytics data for this project. Total entries: ",o.length]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:i.projectType==="website"?" Website":" Social Media"}),i.clientId&&s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800",children:["Client ID: ",i.clientId]})]})]}),s.jsxs("div",{className:"flex gap-3 lg:flex-shrink-0",children:[s.jsxs(q,{to:"/admin/analytics/monthly",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[s.jsx(Tf,{className:"w-5 h-5"}),"Manage Analytics"]}),s.jsxs(q,{to:"/admin/dashboard",className:"btn-outline flex items-center gap-2",children:[s.jsx(Mye,{className:"w-4 h-4"}),"Back to Dashboard"]})]})]})}),o.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(JE,{className:"w-8 h-8 opacity-80"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Total"})]}),s.jsx("div",{className:"text-3xl font-bold mb-1",children:h.userEngagement.toLocaleString()}),s.jsx("div",{className:"text-sm opacity-90",children:"User Engagement"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(JE,{className:"w-8 h-8 opacity-80"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Total"})]}),s.jsx("div",{className:"text-3xl font-bold mb-1",children:h.newUsers.toLocaleString()}),s.jsx("div",{className:"text-sm opacity-90",children:"New Users"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Dye,{className:"w-8 h-8 opacity-80"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Total"})]}),s.jsx("div",{className:"text-3xl font-bold mb-1",children:h.clicks.toLocaleString()}),s.jsx("div",{className:"text-sm opacity-90",children:"Clicks"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx($ye,{className:"w-8 h-8 opacity-80"}),s.jsx("span",{className:"text-sm font-medium opacity-90",children:"Total"})]}),s.jsx("div",{className:"text-3xl font-bold mb-1",children:h.referrals.toLocaleString()}),s.jsx("div",{className:"text-sm opacity-90",children:"Referrals"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-border/50 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-border/50",children:s.jsxs("h2",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Tf,{className:"w-6 h-6 text-green-600"}),"Monthly Analytics Data"]})}),o.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-muted/50 border-b border-border/50",children:[s.jsx("th",{className:"px-6 py-4 text-left font-semibold text-foreground",children:"#"}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold text-foreground",children:"Month"}),s.jsx("th",{className:"px-6 py-4 text-right font-semibold text-foreground",children:"User Engagement"}),s.jsx("th",{className:"px-6 py-4 text-right font-semibold text-foreground",children:"New Users"}),s.jsx("th",{className:"px-6 py-4 text-right font-semibold text-foreground",children:"Clicks"}),s.jsx("th",{className:"px-6 py-4 text-right font-semibold text-foreground",children:"Referrals"}),s.jsx("th",{className:"px-6 py-4 text-left font-semibold text-foreground",children:"Notes"})]})}),s.jsx("tbody",{children:o.map((f,p)=>s.jsxs("tr",{className:p%2===0?"bg-background":"bg-muted/20",children:[s.jsx("td",{className:"px-6 py-4 text-sm font-medium text-muted-foreground",children:p+1}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tf,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"font-semibold text-foreground",children:d(f.month)})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-blue-100 text-blue-800",children:f.userEngagement.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-green-100 text-green-800",children:f.newUsers.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-purple-100 text-purple-800",children:f.clicks.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold bg-orange-100 text-orange-800",children:f.referrals.toLocaleString()})}),s.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:f.notes||s.jsx("span",{className:"italic",children:"No notes"})})]},f.id))})]})}):s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(QE,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No Analytics Data"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"There are no monthly analytics entries for this project yet."}),s.jsxs(q,{to:"/admin/analytics/monthly",className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold inline-flex items-center gap-2 transition-colors",children:[s.jsx(Tf,{className:"w-5 h-5"}),"Add Analytics Data"]})]})]})]})}),s.jsx(me,{})]})}function tje(){const{user:t}=ce();return s.jsx(Pye,{},(t==null?void 0:t.id)||"guest")}function rje(){return s.jsx(Zz,{defaultTheme:"light",storageKey:"marketing-website-theme",children:s.jsx(Xz,{children:s.jsxs(X$,{children:[s.jsx(le,{path:"/",element:s.jsx(rW,{})}),s.jsx(le,{path:"/login",element:s.jsx(sW,{})}),s.jsx(le,{path:"/register",element:s.jsx(iW,{})}),s.jsx(le,{path:"/dashboard",element:s.jsx(aW,{})}),s.jsx(le,{path:"/messages",element:s.jsx(S0e,{})}),s.jsx(le,{path:"/admin/dashboard",element:s.jsx(tje,{})}),s.jsx(le,{path:"/admin/users",element:s.jsx(Uye,{})}),s.jsx(le,{path:"/admin/users/:id/edit",element:s.jsx(zye,{})}),s.jsx(le,{path:"/admin/users/new",element:s.jsx(Qye,{})}),s.jsx(le,{path:"/admin/projects",element:s.jsx(Wye,{})}),s.jsx(le,{path:"/admin/projects/new",element:s.jsx(dbe,{})}),s.jsx(le,{path:"/admin/projects/:id",element:s.jsx(Y0e,{})}),s.jsx(le,{path:"/admin/projects/:id/edit",element:s.jsx(Kye,{})}),s.jsx(le,{path:"/admin/projects/:id/analytics",element:s.jsx(eje,{})}),s.jsx(le,{path:"/admin/projects/website",element:s.jsx(X0e,{})}),s.jsx(le,{path:"/admin/projects/social-media",element:s.jsx(Q0e,{})}),s.jsx(le,{path:"/tickets",element:s.jsx(qye,{})}),s.jsx(le,{path:"/analytics",element:s.jsx(Gye,{})}),s.jsx(le,{path:"/admin/analytics",element:s.jsx(P0e,{})}),s.jsx(le,{path:"/admin/analytics/monthly",element:s.jsx(J0e,{})}),s.jsx(le,{path:"/developer/analytics",element:s.jsx(I0e,{})}),s.jsx(le,{path:"/coordinator/analytics",element:s.jsx(O0e,{})}),s.jsx(le,{path:"/client/analytics",element:s.jsx(M0e,{})}),s.jsx(le,{path:"/analytics/:id",element:s.jsx(C0e,{})}),s.jsx(le,{path:"/admin/analytics/:id",element:s.jsx(Yye,{})}),s.jsx(le,{path:"/calendar",element:s.jsx(R0e,{})}),s.jsx(le,{path:"/time-tracking",element:s.jsx(V0e,{})}),s.jsx(le,{path:"/templates",element:s.jsx(B0e,{})}),s.jsx(le,{path:"/reports",element:s.jsx(U0e,{})}),s.jsx(le,{path:"/notifications",element:s.jsx(z0e,{})}),s.jsx(le,{path:"/ai-insights",element:s.jsx(W0e,{})}),s.jsx(le,{path:"/integrations",element:s.jsx(H0e,{})}),s.jsx(le,{path:"/automation",element:s.jsx(G0e,{})}),s.jsx(le,{path:"/search",element:s.jsx(lbe,{})}),s.jsx(le,{path:"/dashboard/enhanced",element:s.jsx(K0e,{})}),s.jsx(le,{path:"/admin/tickets",element:s.jsx(Hye,{})}),s.jsx(le,{path:"/admin/notifications",element:s.jsx(Xye,{})}),s.jsx(le,{path:"/developer/dashboard",element:s.jsx(Jye,{})}),s.jsx(le,{path:"/developer/tickets",element:s.jsx(Zye,{})}),s.jsx(le,{path:"/coordinator/dashboard",element:s.jsx(ebe,{})}),s.jsx(le,{path:"/coordinator/projects",element:s.jsx(tbe,{})}),s.jsx(le,{path:"/coordinator/tickets",element:s.jsx(rbe,{})}),s.jsx(le,{path:"/coordinator/analytics/new",element:s.jsx(nbe,{})}),s.jsx(le,{path:"/client/dashboard",element:s.jsx(sbe,{})}),s.jsx(le,{path:"/client/projects",element:s.jsx(ibe,{})}),s.jsx(le,{path:"/client/tickets",element:s.jsx(abe,{})}),s.jsx(le,{path:"/client/tickets/new",element:s.jsx(obe,{})}),s.jsx(le,{path:"/switch-role",element:s.jsx(ube,{})}),s.jsx(le,{path:"/client-portal/dashboard",element:s.jsx(k0e,{})}),s.jsx(le,{path:"/client-portal/project/:id",element:s.jsx(A0e,{})}),s.jsx(le,{path:"/client-portal/files",element:s.jsx(T0e,{})}),s.jsx(le,{path:"/client-portal/feedback",element:s.jsx(E0e,{})}),s.jsx(le,{path:"*",element:s.jsx(K$,{to:"/",replace:!0})})]})})})}dy.createRoot(document.getElementById("root")).render(s.jsx($.StrictMode,{children:s.jsx(s8,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(rje,{})})}));
